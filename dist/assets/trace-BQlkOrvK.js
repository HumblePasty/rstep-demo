import{Y as c}from"./index-BeW5XHHa.js";import{f as n,i as u,s as m}from"./utils-qTUZr5IF.js";import{a as y}from"./WebMap-QsQtHZyE.js";import"./ColorBackground-BVKEg-ac.js";import"./Basemap-NADnrhTn.js";import"./loadAll-CXj3UdOi.js";import"./writeUtils-B7-V_fnF.js";import"./CollectionFlattener-DQyCU__2.js";import"./editableLayers-DTLxgvJL.js";import"./catalogUtils-DH9XeEkf.js";import"./basemapUtils-DslCIlfo.js";import"./TablesMixin-ST5f4_Kg.js";import"./jsonContext-BIL0Zu_y.js";import"./project-DVpMNVPf.js";import"./utils-L8buF51K.js";import"./NetworkElement-DZPOSsx-.js";async function x(o,t,i){const s=n(o),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const a=u(s.query,{query:m({...r,f:"json"}),...i}),e=`${s.path}/trace`;return c(e,a).then(p=>f(p))}async function R(o,t,i){const s=n(o),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const a=u(s.query,{query:m({...r,async:!0,f:"json"}),...i}),e=`${s.path}/trace`,{data:p}=await c(e,a);return p.statusUrl}function f(o){const{data:t}=o;return y.fromJSON(t.traceResults)}export{R as submitTraceJob,x as trace};
