import{Y as n}from"./index-DbqNxVxJ.js";import{f as p,i as u,s as y}from"./utils-Q1Jhjtem.js";import{a as m}from"./WebMap-B0XS-hdZ.js";import"./ColorBackground-rTDsb6IB.js";import"./Basemap-4KLP2F4G.js";import"./editableLayers-DIrZsfUW.js";import"./catalogUtils-Dw3ygtxz.js";import"./basemapUtils-rJfnFnB5.js";import"./jsonContext-XSPuLgpD.js";import"./project-BQR24Wkt.js";import"./utils-dAUtFwAX.js";import"./NetworkElement-xqGg1Yx4.js";async function d(s,t,a){const o=p(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const e=u(o.query,{query:y({...r,f:"json"}),...a}),i=`${o.path}/trace`;return n(i,e).then(c=>f(c))}async function j(s,t,a){const o=p(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const e=u(o.query,{query:y({...r,async:!0,f:"json"}),...a}),i=`${o.path}/trace`,{data:c}=await n(i,e);return c.statusUrl}function f(s){const{data:t}=s;return m.fromJSON(t.traceResults)}export{j as submitTraceJob,d as trace};
