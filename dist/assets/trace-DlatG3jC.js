import{gP as n,gQ as u,gR as p,U as y}from"./index-CgLC99fU.js";import{a as m}from"./WebMap-CXIjOSa4.js";import"./ColorBackground-Bsy77oew.js";import"./Basemap-Dmz7cfxt.js";import"./editableLayers-BEzarSAf.js";import"./catalogUtils-BfCsvIc2.js";import"./basemapUtils-Dxc4EhWK.js";import"./jsonContext-Js9jvoqX.js";import"./project-D8_59vVs.js";import"./NetworkElement-D0YeA_74.js";async function h(s,t,o){const a=n(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const e=u(a.query,{query:p({...r,f:"json"}),...o}),i=`${a.path}/trace`;return y(i,e).then(c=>f(c))}async function U(s,t,o){const a=n(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const e=u(a.query,{query:p({...r,async:!0,f:"json"}),...o}),i=`${a.path}/trace`,{data:c}=await y(i,e);return c.statusUrl}function f(s){const{data:t}=s;return m.fromJSON(t.traceResults)}export{U as submitTraceJob,h as trace};
