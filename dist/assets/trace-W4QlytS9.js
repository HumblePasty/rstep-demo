import{Y as c}from"./index-CdlB_1jZ.js";import{f as n,i as u,s as m}from"./utils-C6_UxkSn.js";import{a as y}from"./WebMap-u3iYo64u.js";import"./ColorBackground-D1ULsJaW.js";import"./Basemap-C-l1VFzS.js";import"./loadAll-DJQRbLYI.js";import"./writeUtils-BpED38n7.js";import"./CollectionFlattener-DXYq1j4X.js";import"./editableLayers-DkMgipBa.js";import"./catalogUtils-CXc9Bdsq.js";import"./basemapUtils-C74MB7Dv.js";import"./TablesMixin-tb_nsbF-.js";import"./jsonContext-gDbq0fo5.js";import"./project-7YK4d_tY.js";import"./utils-BYArndnc.js";import"./NetworkElement-5hKIqbPh.js";async function x(o,t,i){const s=n(o),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const a=u(s.query,{query:m({...r,f:"json"}),...i}),e=`${s.path}/trace`;return c(e,a).then(p=>f(p))}async function R(o,t,i){const s=n(o),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const a=u(s.query,{query:m({...r,async:!0,f:"json"}),...i}),e=`${s.path}/trace`,{data:p}=await c(e,a);return p.statusUrl}function f(o){const{data:t}=o;return y.fromJSON(t.traceResults)}export{R as submitTraceJob,x as trace};
