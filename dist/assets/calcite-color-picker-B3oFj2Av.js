import{j as W,fu as A,fv as O,fw as b,ox as N,oy as se,oz as z,oA as nt,oB as v,oC as R,oD as m,oE as y,fK as we,fL as Se,fN as l,oF as k,fA as ke,h4 as at,oG as F,oH as it,oI as ot,od as q,he as Ie,fS as G,hq as Ee,fV as Ae,g0 as Oe,fZ as B,oJ as ze,oK as le,oL as st,fE as X,fF as Y,fJ as J,gg as M,fG as Z,fH as Q,gj as lt,fC as ee,oM as re,gl as rt,gh as _,fR as Fe,fQ as ct,fM as De,oN as dt,oO as ce,oP as H,oQ as P,oR as C,oS as ht,k4 as ut,g6 as de,oT as d,oU as j,oV as x,oW as he,oX as bt,oY as ue,oZ as pt,o_ as be,fB as ft,o$ as gt,p0 as pe,p1 as fe,p2 as Ct,p3 as ge,p4 as Ce,p5 as mt}from"./index-BI30NJEZ.js";import{d as He}from"./input-message-CYfyfImC.js";import{d as Pe}from"./input-number-D6lXuGEa.js";import{d as Le}from"./input-text-CNIHO0DG.js";import{d as Re}from"./progress-qoCLtB_y.js";import{a as vt,b as yt,d as Tt}from"./core-Cpfj44ZG.js";import{t as xt}from"./throttle-DpDfDlGC.js";import"./Validation-5adIce_a.js";import"./input-j1u1wOBY.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const U={container:"container",hexInput:"hex-input",opacityInput:"opacity-input"},wt=":host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:68px;margin-inline-start:-1px}:host([scale=s]) .container{flex-wrap:wrap;row-gap:0.125rem}:host([scale=s]) .opacity-input{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .opacity-input{inline-size:88px}:host([hidden]){display:none}[hidden]{display:none}",St=wt,me=y(),kt=A(class extends O{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteColorPickerHexInputChange=b(this,"calciteColorPickerHexInputChange",6),this.onHexInputBlur=()=>{const e=this.hexInputNode,t=e.value,n=`#${t}`,{allowEmpty:a,internalColor:i}=this,o=a&&!t,s=N(n);se(n,this.alphaChannel)&&this.onHexInputChange(),!(o||z(n)&&s)&&(e.value=a&&!i?"":this.formatHexForInternalInput(nt(i.object())))},this.onOpacityInputBlur=()=>{const e=this.opacityInputNode,t=e.value,{allowEmpty:n,internalColor:a}=this;n&&!t||(e.value=n&&!a?"":this.formatOpacityForInternalInput(a))},this.onOpacityInputInput=()=>{this.onOpacityInputChange()},this.onHexInputChange=()=>{let t=this.hexInputNode.value;if(t){const n=v(t,!1);if(z(n)&&this.alphaChannel&&this.internalColor){const i=v(this.internalColor.hexa(),!0).slice(-2);t=`${n+i}`}}this.internalSetValue(t,this.value)},this.onOpacityInputChange=()=>{var n;const e=this.opacityInputNode;let t;if(!e.value)t=e.value;else{const a=R(Number(e.value));t=(n=this.internalColor)==null?void 0:n.alpha(a).hexa()}this.internalSetValue(t,this.value)},this.onInputFocus=e=>{e.type==="calciteInternalInputTextFocus"?this.hexInputNode.selectText():this.opacityInputNode.selectText()},this.onHexInputInput=()=>{const e=`#${this.hexInputNode.value}`,t=this.value;z(e,this.alphaChannel)&&N(e,this.alphaChannel)&&this.internalSetValue(e,t)},this.onInputKeyDown=e=>{const{altKey:t,ctrlKey:n,metaKey:a,shiftKey:i}=e,{alphaChannel:o,hexInputNode:s,internalColor:r,value:c}=this,{key:h}=e,u=e.composedPath();if(h==="Tab"&&se(c,this.alphaChannel)||h==="Enter"){u.includes(s)?this.onHexInputChange():this.onOpacityInputChange(),h==="Enter"&&e.preventDefault();return}const f=h==="ArrowDown"||h==="ArrowUp",T=this.value;if(f){if(!c){this.internalSetValue(this.previousNonNullValue,T),e.preventDefault();return}const K=h==="ArrowUp"?1:-1,D=i?10:1;this.internalSetValue(m(this.nudgeRGBChannels(r,D*K,u.includes(s)?"rgb":"a"),o),T),e.preventDefault();return}const I=t||n||a,$=h.length===1,E=it.test(h);$&&!I&&!E&&e.preventDefault()},this.onHexInputPaste=e=>{const t=e.clipboardData.getData("text");z(t,this.alphaChannel)&&N(t,this.alphaChannel)&&(e.preventDefault(),this.hexInputNode.value=t.slice(1),this.internalSetValue(t,this.value))},this.previousNonNullValue=this.value,this.storeHexInputRef=e=>{this.hexInputNode=e},this.storeOpacityInputRef=e=>{this.opacityInputNode=e},this.allowEmpty=!1,this.alphaChannel=!1,this.hexLabel="Hex",this.messages=void 0,this.numberingSystem=void 0,this.scale="m",this.value=v(m(me,this.alphaChannel),this.alphaChannel,!0),this.internalColor=me}connectedCallback(){const{allowEmpty:e,alphaChannel:t,value:n}=this;if(n){const a=v(n,t);z(a,t)&&this.internalSetValue(a,a,!1);return}e&&this.internalSetValue(null,null,!1)}componentWillLoad(){we(this)}componentDidLoad(){Se(this)}handleValueChange(e,t){this.internalSetValue(e,t,!1)}render(){const{alphaChannel:e,hexLabel:t,internalColor:n,messages:a,scale:i,value:o}=this,s=this.formatHexForInternalInput(o),r=this.formatOpacityForInternalInput(n),c=i==="l"?"m":"s";return l("div",{key:"70f804fdbc3c29fdf49616f56c39593fdc3717da",class:U.container},l("calcite-input-text",{key:"777d1f8ffa673a0d74f049d4a6bdacbf3510006a",class:U.hexInput,label:(a==null?void 0:a.hex)||t,maxLength:this.alphaChannel?8:6,onCalciteInputTextChange:this.onHexInputChange,onCalciteInputTextInput:this.onHexInputInput,onCalciteInternalInputTextBlur:this.onHexInputBlur,onCalciteInternalInputTextFocus:this.onInputFocus,onKeyDown:this.onInputKeyDown,onPaste:this.onHexInputPaste,prefixText:"#",ref:this.storeHexInputRef,scale:c,value:s}),e?l("calcite-input-number",{class:U.opacityInput,key:"opacity-input",label:a==null?void 0:a.opacity,max:k.max,maxLength:3,min:k.min,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberInput:this.onOpacityInputInput,onCalciteInternalInputNumberBlur:this.onOpacityInputBlur,onCalciteInternalInputNumberFocus:this.onInputFocus,onKeyDown:this.onInputKeyDown,ref:this.storeOpacityInputRef,scale:c,suffixText:"%",value:r}):null)}async setFocus(){return await ke(this),at(this.hexInputNode)}internalSetValue(e,t,n=!0){if(e){const{alphaChannel:a}=this,i=v(e,a,a);if(z(i,a)){const{internalColor:o}=this,s=y(i),r=v(m(s,a),a),c=!o||r!==v(m(o,a),a);this.internalColor=s,this.previousNonNullValue=r,this.value=r,c&&n&&this.calciteColorPickerHexInputChange.emit();return}}else if(this.allowEmpty){this.internalColor=null,this.value=null,n&&this.calciteColorPickerHexInputChange.emit();return}this.value=t}formatHexForInternalInput(e){return e?e.replace("#","").slice(0,6):""}formatOpacityForInternalInput(e){return e?`${F(e.alpha())}`:""}nudgeRGBChannels(e,t,n){let a;const i=e.array(),o=i.slice(0,3);if(n==="rgb")a=[...o.map(r=>r+t),this.alphaChannel?i[3]:void 0];else{const s=R(F(e.alpha())+t);a=[...o,s]}return y(a)}get el(){return this}static get watchers(){return{value:["handleValueChange"]}}static get style(){return St}},[1,"calcite-color-picker-hex-input",{allowEmpty:[4,"allow-empty"],alphaChannel:[4,"alpha-channel"],hexLabel:[1,"hex-label"],messages:[16],numberingSystem:[1,"numbering-system"],scale:[513],value:[1537],internalColor:[32],setFocus:[64]},void 0,{value:["handleValueChange"]}]);function Be(){if(typeof customElements>"u")return;["calcite-color-picker-hex-input","calcite-icon","calcite-input-message","calcite-input-number","calcite-input-text","calcite-progress"].forEach(e=>{switch(e){case"calcite-color-picker-hex-input":customElements.get(e)||customElements.define(e,kt);break;case"calcite-icon":customElements.get(e)||W();break;case"calcite-input-message":customElements.get(e)||He();break;case"calcite-input-number":customElements.get(e)||Pe();break;case"calcite-input-text":customElements.get(e)||Le();break;case"calcite-progress":customElements.get(e)||Re();break}})}Be();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const L={swatch:"swatch",noColorSwatch:"swatch--no-color",checker:"checker"},ve={borderLight:"rgba(0, 0, 0, 0.3)",borderDark:"rgba(255, 255, 255, 0.15)"},ye=4,w={squareSize:ye,size:ye*2},It=":host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}",Et=It,At=A(class extends O{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=!1,this.color=void 0,this.scale="m"}handleColorChange(e){this.internalColor=e?y(e):null}componentWillLoad(){this.handleColorChange(this.color)}render(){const e=!this.internalColor,t={[L.swatch]:!0,[L.noColorSwatch]:e};return l("svg",{key:"d808ca40b9f81aad24291cabcfaf95d74d89f7cd",class:t,xmlns:"http://www.w3.org/2000/svg"},this.renderSwatch())}renderSwatch(){const{active:e,el:t,internalColor:n}=this,a=e?"100%":"0",o=ot(t)==="light"?ve.borderLight:ve.borderDark,s=!n,r={height:"100%",rx:a,stroke:o,strokeWidth:"2",width:"100%"};if(s)return l(q,null,l("clipPath",{id:"shape"},l("rect",{height:"100%",rx:a,width:"100%"})),this.renderSwatchRect({clipPath:`inset(0 round ${a})`,...r}),l("line",{"clip-path":"url(#shape)","stroke-width":"3",x1:"100%",x2:"0",y1:"0",y2:"100%"}));const c=n.alpha(),h=m(n),u=m(n,c<1);return l(q,null,l("title",null,u),l("defs",null,l("pattern",{height:w.size,id:"checker",patternUnits:"userSpaceOnUse",width:w.size,x:"0",y:"0"},l("rect",{class:L.checker,height:w.squareSize,width:w.squareSize,x:"0",y:"0"}),l("rect",{class:L.checker,height:w.squareSize,width:w.squareSize,x:w.squareSize,y:w.squareSize}))),this.renderSwatchRect({fill:"url(#checker)",rx:r.rx,height:r.height,width:r.width}),this.renderSwatchRect({clipPath:c<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${a})`,fill:h,...r}),c<1?this.renderSwatchRect({clipPath:"polygon(100% 0, 100% 100%, 0 100%)",fill:u,key:"opacity-fill",...r}):null)}renderSwatchRect({clipPath:e,fill:t,height:n,key:a,rx:i,stroke:o,strokeWidth:s,width:r}){return l("rect",{"clip-path":e,fill:t,height:n,key:a,rx:i,stroke:o,"stroke-width":s,width:r})}get el(){return this}static get watchers(){return{color:["handleColorChange"]}}static get style(){return Et}},[1,"calcite-color-picker-swatch",{active:[516],color:[1],scale:[513]},void 0,{color:["handleColorChange"]}]);function Me(){if(typeof customElements>"u")return;["calcite-color-picker-swatch"].forEach(e=>{switch(e){case"calcite-color-picker-swatch":customElements.get(e)||customElements.define(e,At);break}})}Me();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Te={container:"container",content:"content"},Ot=`:host([selected]) section,:host([selected]) .container{display:block}:host{display:none;block-size:100%;inline-size:100%}:host([selected]){display:block;block-size:100%;inline-size:100%;overflow:auto}.content{box-sizing:border-box;padding-block:var(--calcite-internal-tab-content-block-padding)}.scale-s{--calcite-internal-tab-content-block-padding:var(--calcite-tab-content-block-padding, 0.25rem);font-size:var(--calcite-font-size--2);line-height:1rem}.scale-m{--calcite-internal-tab-content-block-padding:var(--calcite-tab-content-block-padding, 0.5rem);font-size:var(--calcite-font-size--1);line-height:1rem}.scale-l{--calcite-internal-tab-content-block-padding:var(--calcite-tab-content-block-padding, 0.625rem);font-size:var(--calcite-font-size-0);line-height:1.25rem}section,.container{display:none;block-size:100%;inline-size:100%}.container{outline-color:transparent}.container:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host([hidden]){display:none}[hidden]{display:none}`,zt=Ot,Ft=A(class extends O{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.guid=`calcite-tab-title-${Ie()}`,this.tab=void 0,this.selected=!1,this.scale="m",this.labeledBy=void 0}render(){const e=this.el.id||this.guid;return l(G,{key:"5b445405fc60d4af5d48e2b4b42880a47a85a1ed","aria-labelledby":this.labeledBy,id:e},l("div",{key:"724b67e8c277d00f6408aa55f781ad8e91a34a5e",class:{[Te.container]:!0,[`scale-${this.scale}`]:!0},role:"tabpanel",tabIndex:this.selected?0:-1},l("section",{key:"9a395308243994365184c0f91d8a16de357c9146",class:Te.content},l("slot",{key:"0cddbc27b9d793c83fa580b9aa9c9f915675ec72"}))))}connectedCallback(){this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){var e;(e=document.body)==null||e.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(e){e.composedPath().find(n=>n.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(n=>{this.selected=n===e.detail.tab}),e.stopPropagation())}async getTabIndex(){return Array.prototype.indexOf.call(Ee(this.el.parentElement.children).filter(e=>e.matches("calcite-tab")),this.el)}async updateAriaInfo(e=[],t=[]){this.labeledBy=t[e.indexOf(this.el.id)]||null}get el(){return this}static get style(){return zt}},[1,"calcite-tab",{tab:[513],selected:[1540],scale:[1],labeledBy:[32],getTabIndex:[64],updateAriaInfo:[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"]]]);function We(){if(typeof customElements>"u")return;["calcite-tab"].forEach(e=>{switch(e){case"calcite-tab":customElements.get(e)||customElements.define(e,Ft);break}})}We();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const xe={chevronRight:"chevron-right",chevronLeft:"chevron-left"},S={container:"tab-nav",containerHasEndTabTitleOverflow:"tab-nav--end-overflow",containerHasStartTabTitleOverflow:"tab-nav--start-overflow",scrollButton:"scroll-button",scrollButtonContainer:"scroll-button-container",scrollBackwardContainerButton:"scroll-button-container--backward",scrollForwardContainerButton:"scroll-button-container--forward",tabTitleSlotWrapper:"tab-titles-slot-wrapper"},Dt=':host{--calcite-internal-tab-nav-gradient-start-side:left;--calcite-internal-tab-nav-gradient-end-side:right;position:relative;display:flex}.scale-s{--calcite-internal-tab-nav-scroller-button-width:24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-scroller-button-width:32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-scroller-button-width:44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side:right;--calcite-internal-tab-nav-gradient-end-side:left}.tab-nav--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%)}.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%)}.tab-nav--start-overflow.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%, transparent 51%), linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%, transparent 51%)}.tab-nav::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap:var(--calcite-size-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap:var(--calcite-size-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap:var(--calcite-size-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xxl)}.tab-nav,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-offset-invert-focus:1;--calcite-color-text-1:var(--calcite-color-text-3);block-size:100%}.scroll-button-container calcite-button:hover{--calcite-color-text-1:unset;--calcite-color-foreground-1:var(--calcite-color-transparent-hover);--calcite-color-foreground-3:var(--calcite-color-transparent)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward::before,:host(:not([bordered])) .scroll-button-container--forward::before{background-color:var(--calcite-color-border-3);content:"";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward::before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward::before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}',Ht=Dt,Pt=A(class extends O{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTabChange=b(this,"calciteTabChange",6),this.calciteInternalTabNavSlotChange=b(this,"calciteInternalTabNavSlotChange",7),this.calciteInternalTabChange=b(this,"calciteInternalTabChange",6),this.effectiveDir="ltr",this.lastScrollWheelAxis="x",this.resizeObserver=B("resize",()=>{this.updateScrollingState()}),this.onTabTitleWheel=e=>{e.preventDefault();const{deltaX:t,deltaY:n}=e,a=Math.abs(t),i=Math.abs(n);let o;a===i?o=this.lastScrollWheelAxis==="x"?t:n:a>i?(o=t,this.lastScrollWheelAxis="x"):(o=n,this.lastScrollWheelAxis="y");const s=(this.effectiveDir==="rtl"?-1:1)*o;e.currentTarget.scrollBy(s,0)},this.onSlotChange=e=>{var n;(n=this.intersectionObserver)==null||n.disconnect();const t=ze(e,"calcite-tab-title");t.forEach(a=>{var i;(i=this.intersectionObserver)==null||i.observe(a)}),this.calciteInternalTabNavSlotChange.emit(t)},this.storeTabTitleWrapperRef=e=>{this.tabTitleContainerEl=e,this.intersectionObserver=B("intersection",()=>this.updateScrollingState(),{root:e,threshold:[0,.5,1]})},this.scrollToTabTitles=e=>{le(()=>{const t=this.tabTitleContainerEl,n=t.getBoundingClientRect(),a=Array.from(this.el.querySelectorAll("calcite-tab-title")),{effectiveDir:i}=this;e==="forward"&&a.reverse();let o=null;if(a.forEach(s=>{const r=s.getBoundingClientRect(),c=n.x+n.width,h=r.x+r.width;e==="forward"&&i==="ltr"||e==="backward"&&i==="rtl"?(r.x>c||h>c&&r.x>n.x)&&(o=s):(h<n.x||h<c&&r.x<n.x)&&(o=s)}),o){const{scrollerButtonWidth:s}=this,r=e==="forward"&&i==="ltr"||e==="backward"&&i==="rtl"?-s:o.offsetWidth-t.clientWidth+s,c=o.offsetLeft+r;t.scrollTo({left:c,behavior:"smooth"})}})},this.scrollToNextTabTitles=()=>this.scrollToTabTitles("forward"),this.scrollToPreviousTabTitles=()=>this.scrollToTabTitles("backward"),this.handleTabFocus=(e,t,n)=>{const a=st(this.enabledTabTitles,t,n);this.scrollTabTitleIntoView(a,"instant"),e.stopPropagation()},this.onTabTitleScroll=()=>{this.updateScrollingState()},this.renderScrollButton=e=>{const{bordered:t,messages:n,hasOverflowingStartTabTitle:a,hasOverflowingEndTabTitle:i,scale:o}=this,s=e==="end";return l("div",{class:{[S.scrollButtonContainer]:!0,[S.scrollBackwardContainerButton]:!s,[S.scrollForwardContainerButton]:s},hidden:s&&!i||!s&&!a,key:e},l("calcite-button",{appearance:t?"outline-fill":"transparent","aria-label":s?n.nextTabTitles:n.previousTabTitles,class:{[S.scrollButton]:!0},iconFlipRtl:"both",iconStart:s?xe.chevronRight:xe.chevronLeft,kind:"neutral",onClick:s?this.scrollToNextTabTitles:this.scrollToPreviousTabTitles,scale:o,tabIndex:-1}))},this.storageId=void 0,this.syncId=void 0,this.selectedTitle=null,this.scale="m",this.layout="inline",this.position="bottom",this.bordered=!1,this.messages=void 0,this.messageOverrides=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.hasOverflowingStartTabTitle=!1,this.hasOverflowingEndTabTitle=!1,this.selectedTabId=void 0}selectedTitleChanged(){this.calciteInternalTabChange.emit({tab:this.selectedTabId})}onMessagesChange(){}connectedCallback(){var e;this.parentTabsEl=this.el.closest("calcite-tabs"),(e=this.resizeObserver)==null||e.observe(this.el),X(this),Y(this)}async componentWillLoad(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const t=JSON.parse(localStorage.getItem(e));this.selectedTabId=t}await J(this)}componentDidLoad(){this.scrollTabTitleIntoView(this.selectedTitle,"instant")}componentWillRender(){const{parentTabsEl:e}=this;this.layout=e==null?void 0:e.layout,this.bordered=e==null?void 0:e.bordered,this.effectiveDir=M(this.el)}componentDidRender(){this.tabTitles.length&&this.tabTitles.every(e=>!e.selected)&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then(e=>{this.calciteInternalTabChange.emit({tab:e})})}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.disconnect(),Z(this),Q(this)}render(){return l(G,{key:"9d1138405f2423bddcd9d1bb49dc756e582f8375",role:"tablist"},l("div",{key:"f8759781080b2a093f062d0b6172de6d3ea9355d",class:{[S.container]:!0,[S.containerHasStartTabTitleOverflow]:!!this.hasOverflowingStartTabTitle,[S.containerHasEndTabTitleOverflow]:!!this.hasOverflowingEndTabTitle,[`scale-${this.scale}`]:!0,[`position-${this.position}`]:!0,[lt.rtl]:this.effectiveDir==="rtl"}},this.renderScrollButton("start"),l("div",{key:"eda664514cb5c89136184c6e8f29e50ce7c9b56b",class:{[S.tabTitleSlotWrapper]:!0},onScroll:this.onTabTitleScroll,onWheel:this.onTabTitleWheel,ref:this.storeTabTitleWrapperRef},l("slot",{key:"0c5a40eac082662a2c2b032d977900b91f122214",onSlotchange:this.onSlotChange})),this.renderScrollButton("end")))}focusPreviousTabHandler(e){this.handleTabFocus(e,e.target,"previous")}focusNextTabHandler(e){this.handleTabFocus(e,e.target,"next")}focusFirstTabHandler(e){this.handleTabFocus(e,e.target,"first")}focusLastTabHandler(e){this.handleTabFocus(e,e.target,"last")}internalActivateTabHandler(e){const t=e.target;this.selectedTabId=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(t),e.stopPropagation(),this.selectedTitle=t,this.scrollTabTitleIntoView(t)}scrollTabTitleIntoView(e,t="smooth"){e&&le(()=>{const n=this.effectiveDir==="ltr",a=this.tabTitleContainerEl,i=a.getBoundingClientRect(),o=e.getBoundingClientRect(),s=a.scrollLeft,r=n?this.hasOverflowingStartTabTitle:this.hasOverflowingEndTabTitle,c=n?this.hasOverflowingEndTabTitle:this.hasOverflowingStartTabTitle;if(o.left<i.left+(r?this.scrollerButtonWidth:0)){const h=s+(o.left-i.left)-this.scrollerButtonWidth;a.scrollTo({left:h,behavior:t})}else if(o.right>i.right-(c?this.scrollerButtonWidth:0)){const h=s+(o.right-i.right)+this.scrollerButtonWidth;a.scrollTo({left:h,behavior:t})}})}activateTabHandler(e){this.calciteTabChange.emit(),e.stopPropagation()}internalCloseTabHandler(e){const t=e.target;this.handleTabTitleClose(t),e.stopPropagation()}async updateTabTitles(e){e.target.selected&&(this.selectedTabId=e.detail,this.selectedTitle=await this.getTabTitleById(this.selectedTabId))}globalInternalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTabId!==e.detail.tab&&(this.selectedTabId=e.detail.tab),e.stopPropagation()}effectiveLocaleChange(){ee(this,this.effectiveLocale)}async selectedTabIdChanged(){localStorage&&this.storageId&&this.selectedTabId!==void 0&&this.selectedTabId!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId})}get scrollerButtonWidth(){const{scale:e}=this;return parseInt(e==="s"?vt:e==="m"?yt:Tt)}updateScrollingState(){const e=this.tabTitleContainerEl;if(!e)return;let t,n;const a=e.scrollLeft,i=e.clientWidth,o=e.scrollWidth;this.effectiveDir==="ltr"?(t=a>0,n=a+i<o):(t=a<0,n=a!==-(o-i)),this.hasOverflowingStartTabTitle=t,this.hasOverflowingEndTabTitle=n}getIndexOfTabTitle(e,t=this.tabTitles){return t.indexOf(e)}async getTabTitleById(e){return Promise.all(this.tabTitles.map(t=>t.getTabIdentifier())).then(t=>this.tabTitles[t.indexOf(e)])}get tabTitles(){return re(this.el,"calcite-tab-title")}get enabledTabTitles(){return re(this.el,"calcite-tab-title:not([disabled])").filter(e=>!e.closed)}handleTabTitleClose(e){const{tabTitles:t}=this,n=e.selected,a=t.reduce((o,s,r)=>s.closed?o:[...o,r],[]),i=a.length;if(i===1&&t[a[0]].closable)t[a[0]].closable=!1,this.selectedTabId=a[0],n&&t[a[0]].activateTab();else if(i>1){const o=t.findIndex(r=>r===e),s=a.find(r=>r>o);this.selectedTabId===o&&(this.selectedTabId=s||i-1,t[this.selectedTabId].activateTab())}requestAnimationFrame(()=>{t[this.selectedTabId].focus()})}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{selectedTitle:["selectedTitleChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"],selectedTabId:["selectedTabIdChanged"]}}static get style(){return Ht}},[1,"calcite-tab-nav",{storageId:[513,"storage-id"],syncId:[513,"sync-id"],selectedTitle:[1040],scale:[1],layout:[1537],position:[1],bordered:[1540],messages:[1040],messageOverrides:[1040],defaultMessages:[32],effectiveLocale:[32],hasOverflowingStartTabTitle:[32],hasOverflowingEndTabTitle:[32],selectedTabId:[32]},[[0,"calciteInternalTabsFocusPrevious","focusPreviousTabHandler"],[0,"calciteInternalTabsFocusNext","focusNextTabHandler"],[0,"calciteInternalTabsFocusFirst","focusFirstTabHandler"],[0,"calciteInternalTabsFocusLast","focusLastTabHandler"],[0,"calciteInternalTabsActivate","internalActivateTabHandler"],[0,"calciteTabsActivate","activateTabHandler"],[0,"calciteInternalTabsClose","internalCloseTabHandler"],[0,"calciteInternalTabTitleRegister","updateTabTitles"],[16,"calciteInternalTabChange","globalInternalTabChangeHandler"]],{selectedTitle:["selectedTitleChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"],selectedTabId:["selectedTabIdChanged"]}]);function $e(){if(typeof customElements>"u")return;["calcite-tab-nav","calcite-button","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-tab-nav":customElements.get(e)||customElements.define(e,Pt);break;case"calcite-button":customElements.get(e)||Oe();break;case"calcite-icon":customElements.get(e)||W();break;case"calcite-loader":customElements.get(e)||Ae();break}})}$e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const g={closeButton:"close-button",container:"container",containerBottom:"container--bottom",content:"content",contentHasText:"content--has-text",iconEnd:"icon-end",iconPresent:"icon-present",iconStart:"icon-start",titleIcon:"calcite-tab-title--icon",scale:p=>`scale-${p}`,selectedIndicator:"selected-indicator"},Lt={close:"x"},Rt=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:0.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .close-button{inline-size:1.25rem}.scale-m .content{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .close-button{inline-size:1.75rem}.scale-l .content{padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .close-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:0.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-color-text-3);outline-color:transparent;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.selected-indicator{position:absolute;display:block;block-size:0.125rem;inline-size:100%;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host([bordered]) .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:not(.container--bottom){border-block-end:1px solid transparent}:host([bordered]:not([selected]):hover) .container:not(.container--bottom){border-block-end:1px solid var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([bordered][selected]) .container::after{position:absolute;display:block;block-size:0.125rem;inline-size:100%;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;background:var(--calcite-color-foreground-1);content:""}:host([bordered][selected]) .container.container--bottom::after{inset-block-start:-1px}:host([bordered][selected]:hover) .container::after{background:var(--calcite-color-foreground-2)}:host([bordered][selected]:focus) .container::after{background:transparent}:host([bordered]) .container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator{background-color:var(--calcite-color-brand)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-color-brand)}@media (forced-colors: active){.selected-indicator{background-color:highlight}}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-color-text-1)}:host(:focus) .container{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host(:focus) .container:focus-within{outline-color:transparent}:host(:active) a,:host(:focus) a,:host(:hover) a{border-color:var(--calcite-color-border-2);color:var(--calcite-color-text-1);text-decoration-line:none}:host([disabled]) .container{pointer-events:none;opacity:0.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.calcite-tab-title--icon{position:relative;margin:0px;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.content--has-text{padding:0.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm)}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm)}.close-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;color:var(--calcite-color-text-3);outline-color:transparent;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs))}.close-button:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand))}.close-button:focus,.close-button:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.close-button:active{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.close-button calcite-icon{color:inherit}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([bordered]) .container:not(.container--bottom) .close-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .close-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .close-button:focus,:host([bordered]) .container .close-button:hover,:host([bordered]) .container .close-button:active{box-shadow:0 2px 0 0 var(--calcite-color-foreground-3)}:host([bordered]) .container.container--bottom .close-button{box-shadow:0 -2px 0 0 transparent}:host([bordered]) .container.container--bottom .close-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container.container--bottom .close-button:focus,:host([bordered]) .container.container--bottom .close-button:hover,:host([bordered]) .container.container--bottom .close-button:active{box-shadow:0 -2px 0 0 var(--calcite-color-foreground-3)}:host([bordered][selected]){box-shadow:inset 0 -1px var(--calcite-color-foreground-1)}:host([bordered]:not([selected])) .container .close-button{box-shadow:0 2px 0 0 transparent}:host([bordered]:hover) .container{background-color:var(--calcite-color-foreground-2)}:host([bordered]) .container{border-inline:var(--calcite-spacing-px) solid transparent}:host([selected][bordered]) .container{border-inline-color:var(--calcite-color-border-1)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:0.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:0.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered]) .container{border-block-end-style:solid}:host([bordered]) .container--bottom{border-block-start-style:solid}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.close-button{z-index:var(--calcite-z-index)}}:host([hidden]){display:none}[hidden]{display:none}`,Bt=Rt,Mt=A(class extends O{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTabsActivate=b(this,"calciteTabsActivate",6),this.calciteInternalTabsActivate=b(this,"calciteInternalTabsActivate",6),this.calciteTabsClose=b(this,"calciteTabsClose",6),this.calciteInternalTabsClose=b(this,"calciteInternalTabsClose",6),this.calciteInternalTabsFocusNext=b(this,"calciteInternalTabsFocusNext",6),this.calciteInternalTabsFocusPrevious=b(this,"calciteInternalTabsFocusPrevious",6),this.calciteInternalTabsFocusFirst=b(this,"calciteInternalTabsFocusFirst",6),this.calciteInternalTabsFocusLast=b(this,"calciteInternalTabsFocusLast",6),this.calciteInternalTabTitleRegister=b(this,"calciteInternalTabTitleRegister",6),this.calciteInternalTabIconChanged=b(this,"calciteInternalTabIconChanged",6),this.closeClickHandler=()=>{this.closeTabTitleAndNotify()},this.mutationObserver=B("mutation",()=>this.updateHasText()),this.resizeObserver=B("resize",()=>{this.calciteInternalTabIconChanged.emit()}),this.guid=`calcite-tab-title-${Ie()}`,this.selected=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.layout=void 0,this.position="top",this.scale="m",this.bordered=!1,this.tab=void 0,this.messages=void 0,this.messageOverrides=void 0,this.controls=void 0,this.defaultMessages=void 0,this.effectiveLocale=void 0,this.hasText=!1}selectedHandler(){this.selected&&this.activateTab(!1)}onMessagesChange(){}connectedCallback(){X(this),Y(this),this.setupTextContentObserver(),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){var e,t,n;(e=this.mutationObserver)==null||e.disconnect(),(t=document.body)==null||t.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),(n=this.resizeObserver)==null||n.disconnect(),Z(this),Q(this)}async componentWillLoad(){await J(this),rt()&&this.updateHasText(),this.tab&&this.selected&&this.activateTab(!1)}componentWillRender(){this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.bordered=this.parentTabsEl.bordered)}render(){const{el:e,closed:t}=this,n=e.id||this.guid,a=l("calcite-icon",{key:"367d0a3590f1b47a36fcef27a4c361b2b738769a",class:{[g.titleIcon]:!0,[g.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:_(this.scale)}),i=l("calcite-icon",{key:"d41dab345260f907ad3b00538117c576856672fd",class:{[g.titleIcon]:!0,[g.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:_(this.scale)});return l(G,{key:"f5f5339ebcead5f63154d4b8f562782d20e30b06","aria-controls":this.controls,"aria-selected":ct(this.selected),id:n,role:"tab",tabIndex:this.selected&&!this.disabled?0:-1},l(Fe,{key:"0115c7e0367be91f3a9014243fb99cecd48d5f79",disabled:this.disabled},l("div",{key:"7303b10302cfc93c03386036d98aa46a6b74afa7",class:{[g.container]:!0,[g.containerBottom]:this.position==="bottom",[g.iconPresent]:!!this.iconStart||!!this.iconEnd,[g.scale(this.scale)]:!0},hidden:t,ref:o=>{var s;return(s=this.resizeObserver)==null?void 0:s.observe(o)}},l("div",{key:"af603e50b1a853f3e4ca35357ae7778ca9bdaafb",class:{[g.content]:!0,[g.contentHasText]:this.hasText}},this.iconStart?a:null,l("slot",{key:"a650492336b0f78f11c0d534351b0ab570dd1db8"}),this.iconEnd?i:null),this.renderCloseButton(),l("div",{key:"8d8a0438c867cdf0c2642b9a9bc7ce697aabb871",class:g.selectedIndicator}))))}renderCloseButton(){const{closable:e,messages:t}=this;return e?l("button",{"aria-label":t.close,class:g.closeButton,disabled:!1,key:g.closeButton,onClick:this.closeClickHandler,ref:n=>this.closeButtonEl=n,title:t.close,type:"button"},l("calcite-icon",{icon:Lt.close,scale:_(this.scale)})):null}async componentDidLoad(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}componentDidRender(){De(this)}internalTabChangeHandler(e){e.composedPath().find(n=>n.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(n=>{this.selected=n===e.detail.tab}),e.stopPropagation())}onClick(){this.activateTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":e.composedPath().includes(this.closeButtonEl)||(this.activateTab(),e.preventDefault());break;case"ArrowRight":e.preventDefault(),M(this.el)==="ltr"?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":e.preventDefault(),M(this.el)==="ltr"?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":e.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":e.preventDefault(),this.calciteInternalTabsFocusLast.emit();break}}async getTabIndex(){return Array.prototype.indexOf.call(Ee(this.el.parentElement.children).filter(e=>e.matches("calcite-tab-title")),this.el)}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async updateAriaInfo(e=[],t=[]){this.controls=e[t.indexOf(this.el.id)]||null}async activateTab(e=!0){if(this.disabled||this.closed)return;const t={tab:this.tab};this.calciteInternalTabsActivate.emit(t),e&&requestAnimationFrame(()=>this.calciteTabsActivate.emit())}effectiveLocaleChange(){ee(this,this.effectiveLocale)}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}closeTabTitleAndNotify(){this.closed=!0,this.calciteInternalTabsClose.emit({tab:this.tab}),this.calciteTabsClose.emit()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{selected:["selectedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Bt}},[1,"calcite-tab-title",{selected:[1540],closable:[516],closed:[1540],disabled:[516],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],layout:[1537],position:[1],scale:[1],bordered:[1540],tab:[513],messages:[1040],messageOverrides:[1040],controls:[32],defaultMessages:[32],effectiveLocale:[32],hasText:[32],getTabIndex:[64],getTabIdentifier:[64],updateAriaInfo:[64],activateTab:[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"],[0,"click","onClick"],[0,"keydown","keyDownHandler"]],{selected:["selectedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Ke(){if(typeof customElements>"u")return;["calcite-tab-title","calcite-icon"].forEach(e=>{switch(e){case"calcite-tab-title":customElements.get(e)||customElements.define(e,Mt);break;case"calcite-icon":customElements.get(e)||W();break}})}Ke();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Wt={titleGroup:"title-group"},$t=":host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1);background-color:var(--calcite-color-foreground-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1), inset 0 -1px 0 var(--calcite-color-border-1)}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([bordered][scale=s]) section{padding:0.75rem}:host([bordered][scale=m]) section{padding:0.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]){flex-direction:column-reverse}section{display:flex;flex-grow:1;overflow:hidden;border-block-start-width:1px;border-block-start-color:var(--calcite-color-border-1);border-block-start-style:solid}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px;border-block-end-color:var(--calcite-color-border-1)}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}",Kt=$t,Vt=A(class extends O{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.defaultSlotChangeHandler=e=>{this.tabs=ze(e,"calcite-tab")},this.setDefaultSlotRef=e=>this.slotEl=e,this.layout="inline",this.position="top",this.scale="m",this.bordered=!1,this.titles=[],this.tabs=[]}handleInheritableProps(){this.updateItems()}calciteInternalTabNavSlotChangeHandler(e){e.stopPropagation(),e.detail.length!==this.titles.length&&(this.titles=e.detail)}titlesWatcher(){this.updateAriaSettings(),this.updateItems()}tabsWatcher(){this.updateAriaSettings(),this.updateItems()}async updateAriaSettings(){let e,t;const n=dt(this.slotEl,"calcite-tab");if(n.some(a=>a.tab)||this.titles.some(a=>a.tab))e=n.sort((a,i)=>a.tab.localeCompare(i.tab)).map(a=>a.id),t=this.titles.sort((a,i)=>a.tab.localeCompare(i.tab)).map(a=>a.id);else{const a=await Promise.all(n.map(o=>o.getTabIndex())),i=await Promise.all(this.titles.map(o=>o.getTabIndex()));e=a.reduce((o,s,r)=>(o[s]=n[r].id,o),[]),t=i.reduce((o,s,r)=>(o[s]=this.titles[r].id,o),[])}n.forEach(a=>a.updateAriaInfo(e,t)),this.titles.forEach(a=>a.updateAriaInfo(e,t))}updateItems(){const{position:e,scale:t}=this,n=this.el.querySelector("calcite-tab-nav");n&&(n.position=e,n.scale=t),Array.from(this.el.querySelectorAll("calcite-tab")).forEach(a=>{a.parentElement===this.el&&(a.scale=t)}),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach(a=>{a.position=e,a.scale=t})}connectedCallback(){this.updateItems()}async componentWillLoad(){this.updateItems()}disconnectedCallback(){}render(){return l(q,{key:"d06e888984e54b6b91b3345b42c217d322b46a64"},l("slot",{key:"d42da82a176cc1ad492cf1c548b96fc0ca53bc73",name:Wt.titleGroup}),l("section",{key:"21e944ce899b9bb2507fc9d9be81d8faa4a1a610"},l("slot",{key:"25d4cd299d8529392f6b01deefd3356f8cd6050b",onSlotchange:this.defaultSlotChangeHandler,ref:this.setDefaultSlotRef})))}get el(){return this}static get watchers(){return{position:["handleInheritableProps"],scale:["handleInheritableProps"],titles:["titlesWatcher"],tabs:["tabsWatcher"]}}static get style(){return Kt}},[1,"calcite-tabs",{layout:[513],position:[513],scale:[513],bordered:[4],titles:[32],tabs:[32]},[[0,"calciteInternalTabNavSlotChange","calciteInternalTabNavSlotChangeHandler"]],{position:["handleInheritableProps"],scale:["handleInheritableProps"],titles:["titlesWatcher"],tabs:["tabsWatcher"]}]);function Ve(){if(typeof customElements>"u")return;["calcite-tabs"].forEach(e=>{switch(e){case"calcite-tabs":customElements.get(e)||customElements.define(e,Vt);break}})}Ve();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Nt=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-color-picker-spacing:8px}:host([scale=s]) .container{inline-size:160px}:host([scale=s]) .saved-colors{gap:0.25rem;grid-template-columns:repeat(auto-fill, 20px)}:host([scale=m]){--calcite-color-picker-spacing:12px}:host([scale=m]) .container{inline-size:272px}:host([scale=l]){--calcite-color-picker-spacing:16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{inline-size:464px}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, 32px)}:host([scale=l]) .control-section{flex-wrap:nowrap;align-items:baseline;flex-wrap:wrap}:host([scale=l]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:inline-block;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          );outline-offset:6px}.hex-and-channels-group{inline-size:100%}.hex-and-channels-group,.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex;row-gap:0.125rem}.channel[data-channel-index="3"]{inline-size:159px}:host([scale=s]) .channels{flex-wrap:wrap}:host([scale=s]) .channel{flex-basis:30%;flex-grow:1}:host([scale=s]) .channel[data-channel-index="3"]{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .channel[data-channel-index="3"]{inline-size:131px}.saved-colors{display:grid;gap:0.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill, 24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`,_t=Nt,jt=16,Ne=A(class extends O{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteColorPickerChange=b(this,"calciteColorPickerChange",6),this.calciteColorPickerInput=b(this,"calciteColorPickerInput",6),this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=ce.HEX,this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this.handleTabActivate=e=>{this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)},this.handleColorFieldScopeKeyDown=e=>{const{key:t}=e,n={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};n[t]&&(e.preventDefault(),this.scopeOrientation=t==="ArrowDown"||t==="ArrowUp"?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+n[t].x||0,this.colorFieldScopeTop+n[t].y||0,!1))},this.handleHueScopeKeyDown=e=>{const t=e.shiftKey?10:1,{key:n}=e,a={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(a[n]){e.preventDefault();const i=a[n]*t,o=this.baseColorFieldColor.hue(),s=this.baseColorFieldColor.hue(o+i);this.internalColorSet(s,!1)}},this.handleHexInputChange=e=>{e.stopPropagation();const{isClearable:t,color:n}=this,i=e.target.value;if(t&&!i){this.internalColorSet(null);return}const o=n&&v(m(n,H(this.mode)));i!==o&&this.internalColorSet(y(i))},this.handleSavedColorSelect=e=>{const t=e.currentTarget;this.internalColorSet(y(t.color))},this.handleChannelInput=e=>{const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),i=n===3?k.max:this.channelMode==="rgb"?P[Object.keys(P)[n]]:C[Object.keys(C)[n]];let o;if(!t.value)o="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;else{const r=Number(t.value)+this.shiftKeyChannelAdjustment;o=ht(r,0,i).toString()}t.value=o,o!==""&&this.shiftKeyChannelAdjustment!==0?this.handleChannelChange(e):o!==""&&this.handleChannelChange(e)},this.handleChannelBlur=e=>{var o;const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),a=[...this.channels];!t.value&&!this.isClearable&&(t.value=(o=a[n])==null?void 0:o.toString())},this.handleChannelFocus=e=>{e.currentTarget.selectText()},this.handleChannelChange=e=>{const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),a=[...this.channels];if(this.isClearable&&!t.value){this.channels=[null,null,null,null],this.internalColorSet(null);return}const o=n===3;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(t.value=this.upOrDownArrowKeyTracker==="up"?(a[n]+1<=this.getChannelInputLimit(n)?a[n]+1:this.getChannelInputLimit(n)).toString():(a[n]-1>=0?a[n]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const s=t.value?Number(t.value):a[n];a[n]=o?R(s):s,this.updateColorFromChannels(a)},this.handleSavedColorKeyDown=e=>{ut(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))},this.handleColorFieldPointerDown=e=>{this.handleCanvasControlPointerDown(e,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)},this.handleHueSliderPointerDown=e=>{this.handleCanvasControlPointerDown(e,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)},this.handleOpacitySliderPointerDown=e=>{this.handleCanvasControlPointerDown(e,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)},this.globalPointerUpHandler=e=>{if(!de(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:n}=this;if(!n.isConnected||!t)return;const{context:a,bounds:i}=t;let o,s;const{clientX:r,clientY:c}=e;a.canvas.matches(":hover")?(o=r-i.x,s=c-i.y):(r<i.x+i.width&&r>i.x?o=r-i.x:r<i.x?o=0:o=i.width,c<i.y+i.height&&c>i.y?s=c-i.y:c<i.y?s=0:s=i.height),a===this.colorFieldRenderingContext?this.captureColorFieldColor(o,s,!1):a===this.hueSliderRenderingContext?this.captureHueSliderColor(o):a===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(o)},this.storeColorFieldScope=e=>{this.colorFieldScopeNode=e},this.storeHueScope=e=>{this.hueScopeNode=e},this.renderChannelsTabTitle=e=>{const{channelMode:t,messages:n}=this,a=e===t,i=e==="rgb"?n.rgb:n.hsv;return l("calcite-tab-title",{class:d.colorMode,"data-color-mode":e,key:e,onCalciteTabsActivate:this.handleTabActivate,selected:a},i)},this.renderChannelsTab=e=>{const{isClearable:t,channelMode:n,channels:a,messages:i,alphaChannel:o}=this,s=e===n,c=e==="rgb"?[i.red,i.green,i.blue]:[i.hue,i.saturation,i.value],h=M(this.el),u=o?a:a.slice(0,3);return l("calcite-tab",{class:d.control,key:e,selected:s},l("div",{class:d.channels,dir:"ltr"},u.map((f,T)=>{const I=T===3;return I&&(f=t&&!f?f:F(f)),this.renderChannel(f,T,c[T],h,I?"%":"")})))},this.renderChannel=(e,t,n,a,i)=>l("calcite-input-number",{class:d.channel,"data-channel-index":t,dir:a,key:t,label:n,lang:this.effectiveLocale,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.handleChannelChange,onCalciteInputNumberInput:this.handleChannelInput,onCalciteInternalInputNumberBlur:this.handleChannelBlur,onCalciteInternalInputNumberFocus:this.handleChannelFocus,onKeyDown:this.handleKeyDown,scale:this.scale==="l"?"m":"s",style:{marginLeft:t>0&&!(this.scale==="s"&&this.alphaChannel&&t===3)?"-1px":""},suffixText:i,value:e==null?void 0:e.toString()}),this.deleteColor=()=>{const e=m(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const n=this.savedColors.filter(i=>i!==e);this.savedColors=n;const a=`${j}${this.storageId}`;this.storageId&&localStorage.setItem(a,JSON.stringify(n))},this.saveColor=()=>{const e=m(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const n=[...this.savedColors,e];this.savedColors=n;const a=`${j}${this.storageId}`;this.storageId&&localStorage.setItem(a,JSON.stringify(n))},this.drawColorControls=xt((e="all")=>{(e==="all"||e==="color-field")&&this.colorFieldRenderingContext&&this.drawColorField(),(e==="all"||e==="hue-slider")&&this.hueSliderRenderingContext&&this.drawHueSlider(),this.alphaChannel&&(e==="all"||e==="opacity-slider")&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()},jt),this.captureColorFieldColor=(e,t,n=!0)=>{const{dimensions:{colorField:{height:a,width:i}}}=this,o=Math.round(C.s/i*e),s=Math.round(C.v/a*(a-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(o).value(s),n)},this.initColorField=e=>{this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls()},this.initHueSlider=e=>{this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider()},this.initOpacitySlider=e=>{e&&(this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())},this.storeOpacityScope=e=>{this.opacityScopeNode=e},this.handleOpacityScopeKeyDown=e=>{const t=e.shiftKey?10:1,{key:n}=e,a={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(a[n]){e.preventDefault();const i=a[n]*t,o=this.baseColorFieldColor.alpha(),s=this.baseColorFieldColor.alpha(o+i);this.internalColorSet(s,!1)}},this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.color=x,this.disabled=!1,this.format="auto",this.hideChannels=!1,this.hexDisabled=!1,this.hideHex=!1,this.hideSaved=!1,this.savedDisabled=!1,this.scale="m",this.storageId=void 0,this.messageOverrides=void 0,this.numberingSystem=void 0,this.value=v(m(x,this.alphaChannel)),this.channelMode="rgb",this.channels=this.toChannels(x),this.defaultMessages=void 0,this.dimensions=he.m,this.effectiveLocale="",this.messages=void 0,this.savedColors=[],this.colorFieldScopeTop=void 0,this.colorFieldScopeLeft=void 0,this.hueScopeLeft=void 0,this.opacityScopeLeft=void 0,this.scopeOrientation=void 0}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(e){const{format:t}=this;e&&t!=="auto"&&!H(t)&&(console.warn(`ignoring alphaChannel as the current format (${t}) does not support alpha`),this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.effectiveSliderWidth=bt(this.dimensions,this.alphaChannel),this.drawColorControls()}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(e="m"){this.updateDimensions(e),this.updateCanvasSize("all"),this.drawColorControls()}onMessagesChange(){}handleValueChange(e,t){const{isClearable:n,format:a}=this,i=!n||e;let o=!1;if(i){const h=ue(e);if(!h||a!=="auto"&&h!==a){this.showIncompatibleColorWarning(e,a),this.value=t;return}o=this.mode!==h,this.setMode(h,this.internalColorUpdateContext===null)}const s=this.activeCanvasInfo;if(this.internalColorUpdateContext==="initial")return;if(this.internalColorUpdateContext==="user-interaction"){this.calciteColorPickerInput.emit(),s||this.calciteColorPickerChange.emit();return}const r=n&&!e?null:y(e!=null&&typeof e=="object"&&H(this.mode)?pt(e):e),c=!be(r,this.color);(o||c)&&this.internalColorSet(r,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css")),"internal")}get baseColorFieldColor(){return this.color||this.previousColor||x}effectiveLocaleChange(){ee(this,this.effectiveLocale)}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if(t!=="ArrowUp"&&t!=="ArrowDown"||!e.composedPath().some(i=>{var o;return(o=i.classList)==null?void 0:o.contains(d.channel)}))return;const{shiftKey:n}=e;if(e.preventDefault(),!this.color){this.internalColorSet(this.previousColor),e.stopPropagation();return}const a=9;this.shiftKeyChannelAdjustment=t==="ArrowUp"&&n?a:t==="ArrowDown"&&n?-9:0,t==="ArrowUp"&&(this.upOrDownArrowKeyTracker="up"),t==="ArrowDown"&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(e){return this.channelMode==="rgb"?P[Object.keys(P)[e]]:C[Object.keys(C)[e]]}focusScope(e){requestAnimationFrame(()=>{e.focus()})}handleCanvasControlPointerDown(e,t,n,a){de(e)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:t,bounds:t.canvas.getBoundingClientRect()},n.call(this,e.offsetX,e.offsetY),this.focusScope(a))}async setFocus(){await ke(this),ft(this.el)}async componentWillLoad(){we(this),this.handleAllowEmptyOrClearableChange(),this.handleAlphaChannelDimensionsChange();const{isClearable:e,color:t,format:n,value:a}=this,i=e&&!a,o=ue(a),s=i||n==="auto"&&o||n===o,r=i?null:s?y(a):t;s||this.showIncompatibleColorWarning(a,n),this.setMode(n,!1),this.internalColorSet(r,!1,"initial"),this.updateDimensions(this.scale);const c=`${j}${this.storageId}`;this.storageId&&localStorage.getItem(c)&&(this.savedColors=JSON.parse(localStorage.getItem(c))),await J(this)}connectedCallback(){X(this),Y(this)}componentDidLoad(){Se(this)}disconnectedCallback(){window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),Z(this),Q(this)}componentDidRender(){De(this)}render(){const{channelsDisabled:e,color:t,colorFieldScopeLeft:n,colorFieldScopeTop:a,dimensions:{thumb:{radius:i}},hexDisabled:o,hideChannels:s,hideHex:r,hideSaved:c,hueScopeLeft:h,messages:u,alphaChannel:f,opacityScopeLeft:T,savedColors:I,savedDisabled:$,scale:E,scopeOrientation:K}=this,D=this.effectiveSliderWidth,te=t?m(t,f):null,je=i,Ue=h??D*x.hue()/C.h,qe=i,Ge=T??D*F(x.alpha())/k.max,ne=t===null,V=K==="vertical",ae=o||r,ie=e||s,Xe=$||c,[Ye,Je]=this.getAdjustedScopePosition(n,a),[Ze,Qe]=this.getAdjustedScopePosition(Ue,je),[et,tt]=this.getAdjustedScopePosition(Ge,qe);return l(Fe,{key:"c4837ef7cbe25b5fc3f0c72fe82d0090c6e0cdb5",disabled:this.disabled},l("div",{key:"28230570482ee9d33df9518e3cca534e3fac44ac",class:d.container},l("div",{key:"83172bc55f13955f5b69b59300e68642d59999af",class:d.controlAndScope},l("canvas",{key:"c20db7054ab5ebdb1e13ba295ac463609c44de47",class:d.colorField,onPointerDown:this.handleColorFieldPointerDown,ref:this.initColorField}),l("div",{key:"1e44beb121ed5a2247a6d69bf42c49a7f1ce5829","aria-label":V?u.value:u.saturation,"aria-valuemax":V?C.v:C.s,"aria-valuemin":"0","aria-valuenow":(V?t==null?void 0:t.saturationv():t==null?void 0:t.value())||"0",class:{[d.scope]:!0,[d.colorFieldScope]:!0},onKeyDown:this.handleColorFieldScopeKeyDown,ref:this.storeColorFieldScope,role:"slider",style:{top:`${Je||0}px`,left:`${Ye||0}px`},tabindex:"0"})),l("div",{key:"5b873f4e7266cc654086f59c8483d3b4a65c8e8f",class:d.previewAndSliders},l("calcite-color-picker-swatch",{key:"db7c903a933ed061cc2edcd766fde70a8b670f00",class:d.preview,color:te,scale:this.alphaChannel?"l":this.scale}),l("div",{key:"33ea2354cbcfaa6677e82713bd8f02d1b83a9c26",class:d.sliders},l("div",{key:"28493b4bd177b8c97583cabeb5716a7cb7202e76",class:d.controlAndScope},l("canvas",{key:"d0a9ce7fb098b7434cd62f68b6b6092efcef3dc4",class:{[d.slider]:!0,[d.hueSlider]:!0},onPointerDown:this.handleHueSliderPointerDown,ref:this.initHueSlider}),l("div",{key:"2356120385aabf09384f0077dffb7881c55c5ea9","aria-label":u.hue,"aria-valuemax":C.h,"aria-valuemin":"0","aria-valuenow":(t==null?void 0:t.round().hue())||x.round().hue(),class:{[d.scope]:!0,[d.hueScope]:!0},onKeyDown:this.handleHueScopeKeyDown,ref:this.storeHueScope,role:"slider",style:{top:`${Qe}px`,left:`${Ze}px`},tabindex:"0"})),f?l("div",{class:d.controlAndScope},l("canvas",{class:{[d.slider]:!0,[d.opacitySlider]:!0},onPointerDown:this.handleOpacitySliderPointerDown,ref:this.initOpacitySlider}),l("div",{"aria-label":u.opacity,"aria-valuemax":k.max,"aria-valuemin":k.min,"aria-valuenow":(t||x).round().alpha(),class:{[d.scope]:!0,[d.opacityScope]:!0},onKeyDown:this.handleOpacityScopeKeyDown,ref:this.storeOpacityScope,role:"slider",style:{top:`${tt}px`,left:`${et}px`},tabindex:"0"})):null)),ae&&ie?null:l("div",{class:{[d.controlSection]:!0,[d.section]:!0}},l("div",{class:d.hexAndChannelsGroup},ae?null:l("div",{class:d.hexOptions},l("calcite-color-picker-hex-input",{allowEmpty:this.isClearable,alphaChannel:f,class:d.control,messages:u,numberingSystem:this.numberingSystem,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:E,value:te})),ie?null:l("calcite-tabs",{class:{[d.colorModeContainer]:!0,[d.splitSection]:!0},scale:E==="l"?"m":"s"},l("calcite-tab-nav",{slot:"title-group"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv")))),Xe?null:l("div",{class:{[d.savedColorsSection]:!0,[d.section]:!0}},l("div",{class:d.header},l("label",null,u.saved),l("div",{class:d.savedColorsButtons},l("calcite-button",{appearance:"transparent",class:d.deleteColor,disabled:ne,iconStart:"minus",kind:"neutral",label:u.deleteColor,onClick:this.deleteColor,scale:E,type:"button"}),l("calcite-button",{appearance:"transparent",class:d.saveColor,disabled:ne,iconStart:"plus",kind:"neutral",label:u.saveColor,onClick:this.saveColor,scale:E,type:"button"}))),I.length>0?l("div",{class:d.savedColors},[...I.map(oe=>l("calcite-color-picker-swatch",{class:d.savedColor,color:oe,key:oe,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:E,tabIndex:0}))]):null)))}handleKeyDown(e){e.key==="Enter"&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e,t=!0){const n=e==="auto"?this.mode:e;this.mode=this.ensureCompatibleMode(n,t)}ensureCompatibleMode(e,t){const{alphaChannel:n}=this,a=H(e);if(n&&!a){const i=gt(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}if(!n&&a){const i=pe(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}return e}captureHueSliderColor(e){const t=fe/this.effectiveSliderWidth*e;this.internalColorSet(this.baseColorFieldColor.hue(t),!1)}captureOpacitySliderValue(e){const t=R(k.max/this.effectiveSliderWidth*e);this.internalColorSet(this.baseColorFieldColor.alpha(t),!1)}internalColorSet(e,t=!0,n="user-interaction"){t&&be(e,this.color)||(this.internalColorUpdateContext=n,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;if(t.includes("hex")){const i=t===ce.HEXA;return v(m(e.round(),i),i)}if(t.includes("-css")){const i=e[t.replace("-css","").replace("a","")]().round().string();if((t.endsWith("a")||t.endsWith("a-css"))&&e.alpha()===1){const s=i.slice(0,3),r=i.slice(4,-1);return`${s}a(${r}, ${e.alpha()})`}return i}const a=e[pe(t)]().round().object();return t.endsWith("a")?Ct(a):a}getSliderCapSpacing(){const{dimensions:{slider:{height:e},thumb:{radius:t}}}=this;return t*2-e}updateDimensions(e="m"){this.dimensions=he[e]}drawColorField(){const e=this.colorFieldRenderingContext,{dimensions:{colorField:{height:t,width:n}}}=this;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,n,t);const a=e.createLinearGradient(0,0,n,0);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=a,e.fillRect(0,0,n,t);const i=e.createLinearGradient(0,0,0,t);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=i,e.fillRect(0,0,n,t),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:n}){if(!e)return;const a=window.devicePixelRatio||1;e.width=n*a,e.height=t*a,e.style.height=`${t}px`,e.style.width=`${n}px`,e.getContext("2d").scale(a,a)}updateCanvasSize(e="all"){var a,i,o;const{dimensions:t}=this;(e==="all"||e==="color-field")&&this.setCanvasContextSize((a=this.colorFieldRenderingContext)==null?void 0:a.canvas,t.colorField);const n={width:this.effectiveSliderWidth,height:t.slider.height+(t.thumb.radius-t.slider.height/2)*2};(e==="all"||e==="hue-slider")&&this.setCanvasContextSize((i=this.hueSliderRenderingContext)==null?void 0:i.canvas,n),(e==="all"||e==="opacity-slider")&&this.setCanvasContextSize((o=this.opacitySliderRenderingContext)==null?void 0:o.canvas,n)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{dimensions:{colorField:{height:n,width:a},thumb:{radius:i}}}=this,o=t.saturationv()/(C.s/a),s=n-t.value()/(C.v/n);requestAnimationFrame(()=>{this.colorFieldScopeLeft=o,this.colorFieldScopeTop=s}),this.drawThumb(this.colorFieldRenderingContext,i,o,s,t,!1)}drawThumb(e,t,n,a,i,o){const r=2*Math.PI,c=1;if(e.beginPath(),e.arc(n,a,t,0,r),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=c,e.stroke(),o&&i.alpha()<1){const u=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.beginPath(),e.arc(n,a,t-3,0,r),e.fillStyle=u,e.fill()}e.globalCompositeOperation="source-atop",e.beginPath(),e.arc(n,a,t-3,0,r);const h=o?i.alpha():1;e.fillStyle=i.rgb().alpha(h).string(),e.fill(),e.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{dimensions:{thumb:{radius:n}}}=this,a=this.effectiveSliderWidth,i=t.hue()/(fe/a),o=n,s=this.getSliderBoundX(i,a,n);requestAnimationFrame(()=>{this.hueScopeLeft=s}),this.drawThumb(this.hueSliderRenderingContext,n,s,o,t,!1)}drawHueSlider(){const e=this.hueSliderRenderingContext,{dimensions:{slider:{height:t},thumb:{radius:n}}}=this,a=0,i=n-t/2,o=this.effectiveSliderWidth,s=e.createLinearGradient(0,0,o,0),r=["red","yellow","lime","cyan","blue","magenta","#ff0004"],c=1/(r.length-1);let h=0;r.forEach(u=>{s.addColorStop(h,y(u).string()),h+=c}),e.clearRect(0,0,o,t+this.getSliderCapSpacing()*2),this.drawSliderPath(e,t,o,a,i),e.fillStyle=s,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,dimensions:{slider:{height:n},thumb:{radius:a}}}=this,i=0,o=a-n/2,s=this.effectiveSliderWidth;e.clearRect(0,0,s,n+this.getSliderCapSpacing()*2);const r=e.createLinearGradient(0,o,s,0),c=t.rgb().alpha(0),h=t.rgb().alpha(.5),u=t.rgb().alpha(1);r.addColorStop(0,c.string()),r.addColorStop(.5,h.string()),r.addColorStop(1,u.string()),this.drawSliderPath(e,n,s,i,o);const f=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=f,e.fill(),e.fillStyle=r,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,n,a,i){const o=t/2+1;e.beginPath(),e.moveTo(a+o,i),e.lineTo(a+n-o,i),e.quadraticCurveTo(a+n,i,a+n,i+o),e.lineTo(a+n,i+t-o),e.quadraticCurveTo(a+n,i+t,a+n-o,i+t),e.lineTo(a+o,i+t),e.quadraticCurveTo(a,i+t,a,i+t-o),e.lineTo(a,i+o),e.quadraticCurveTo(a,i,a+o,i),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{dimensions:{thumb:{radius:n}}}=this,a=this.effectiveSliderWidth,i=F(t.alpha())/(k.max/a),o=n,s=this.getSliderBoundX(i,a,n);requestAnimationFrame(()=>{this.opacityScopeLeft=s}),this.drawThumb(this.opacitySliderRenderingContext,n,s,o,t,!0)}getSliderBoundX(e,t,n){const a=mt(e,t,n);return a===0?e:a===-1?ge(e,0,t,n,n*2):ge(e,0,t,t-n*2,t-n)}updateColorFromChannels(e){this.internalColorSet(y(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,n=e[t]().array().map((a,i)=>i===3?a:Math.floor(a));return n.length===3&&n.push(1),n}getAdjustedScopePosition(e,t){return[e-Ce/2,t-Ce/2]}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{allowEmpty:["handleAllowEmptyOrClearableChange"],clearable:["handleAllowEmptyOrClearableChange"],alphaChannel:["handleAlphaChannelChange","handleAlphaChannelDimensionsChange","handleFormatOrAlphaChannelChange"],dimensions:["handleAlphaChannelDimensionsChange"],color:["handleColorChange"],format:["handleFormatOrAlphaChannelChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return _t}},[1,"calcite-color-picker",{allowEmpty:[516,"allow-empty"],alphaChannel:[4,"alpha-channel"],channelsDisabled:[4,"channels-disabled"],clearable:[516],color:[1040],disabled:[516],format:[513],hideChannels:[516,"hide-channels"],hexDisabled:[4,"hex-disabled"],hideHex:[516,"hide-hex"],hideSaved:[516,"hide-saved"],savedDisabled:[516,"saved-disabled"],scale:[513],storageId:[513,"storage-id"],messageOverrides:[1040],numberingSystem:[513,"numbering-system"],value:[1025],messages:[1040],channelMode:[32],channels:[32],defaultMessages:[32],dimensions:[32],effectiveLocale:[32],savedColors:[32],colorFieldScopeTop:[32],colorFieldScopeLeft:[32],hueScopeLeft:[32],opacityScopeLeft:[32],scopeOrientation:[32],setFocus:[64]},[[2,"keydown","handleChannelKeyUpOrDown"],[2,"keyup","handleChannelKeyUpOrDown"]],{allowEmpty:["handleAllowEmptyOrClearableChange"],clearable:["handleAllowEmptyOrClearableChange"],alphaChannel:["handleAlphaChannelChange","handleAlphaChannelDimensionsChange","handleFormatOrAlphaChannelChange"],dimensions:["handleAlphaChannelDimensionsChange"],color:["handleColorChange"],format:["handleFormatOrAlphaChannelChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}]);function _e(){if(typeof customElements>"u")return;["calcite-color-picker","calcite-button","calcite-color-picker-hex-input","calcite-color-picker-swatch","calcite-icon","calcite-input-message","calcite-input-number","calcite-input-text","calcite-loader","calcite-progress","calcite-tab","calcite-tab-nav","calcite-tab-title","calcite-tabs"].forEach(e=>{switch(e){case"calcite-color-picker":customElements.get(e)||customElements.define(e,Ne);break;case"calcite-button":customElements.get(e)||Oe();break;case"calcite-color-picker-hex-input":customElements.get(e)||Be();break;case"calcite-color-picker-swatch":customElements.get(e)||Me();break;case"calcite-icon":customElements.get(e)||W();break;case"calcite-input-message":customElements.get(e)||He();break;case"calcite-input-number":customElements.get(e)||Pe();break;case"calcite-input-text":customElements.get(e)||Le();break;case"calcite-loader":customElements.get(e)||Ae();break;case"calcite-progress":customElements.get(e)||Re();break;case"calcite-tab":customElements.get(e)||We();break;case"calcite-tab-nav":customElements.get(e)||$e();break;case"calcite-tab-title":customElements.get(e)||Ke();break;case"calcite-tabs":customElements.get(e)||Ve();break}})}_e();const cn=Ne,dn=_e;export{cn as CalciteColorPicker,dn as defineCustomElement};
