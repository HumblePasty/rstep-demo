import{gW as n,gX as u,gY as p,U as y}from"./index-CW6gHi3a.js";import{a as m}from"./WebMap-DkeDZTNA.js";import"./ColorBackground-Zvl6WFwn.js";import"./Basemap-B7JH8ahh.js";import"./editableLayers-CtF83F1x.js";import"./catalogUtils-C5MM8eat.js";import"./basemapUtils-dI6tlNFF.js";import"./jsonContext-B-2l2533.js";import"./project-D-5J-z-9.js";import"./NetworkElement-DJyOkzVU.js";async function h(s,t,o){const a=n(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const e=u(a.query,{query:p({...r,f:"json"}),...o}),i=`${a.path}/trace`;return y(i,e).then(c=>f(c))}async function U(s,t,o){const a=n(s),r=t.toJSON();r.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(r.resultTypes=JSON.stringify(t.resultTypes));const e=u(a.query,{query:p({...r,async:!0,f:"json"}),...o}),i=`${a.path}/trace`,{data:c}=await y(i,e);return c.statusUrl}function f(s){const{data:t}=s;return m.fromJSON(t.traceResults)}export{U as submitTraceJob,h as trace};
