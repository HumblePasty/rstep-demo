import{fp as b,cr as h,iT as G,M as y,bm as M,h2 as $,aD as W,iY as w}from"./index-BeW5XHHa.js";import{M as j}from"./normalizeUtils-DYh0eGIs.js";const d=50,T=5;function S(e,a){return Math.log(e)/Math.log(a)}function U(e,a,o){const t=e===1?10:e;return t**(o?Math.round(S(d/a,t)):0)}function q(e){const{isGeographic:a,isWebMercator:o}=e;return!a&&!o}function Y(e,a,o){const t=typeof e=="number"?null:e,r=o??(t==null?void 0:t.spatialReference);if(r==null||!b(r)||q(r))return h(r);let s=(t==null?void 0:t.x)??e,c=(t==null?void 0:t.y)??a;const f=1/Math.sqrt(2);let i=s+f,l=c+f;const{isWebMercator:g,isGeographic:m}=r;let p=m&&!G(r)?y.WGS84:r;if(g){let n=new M({x:s,y:c,spatialReference:r});$(n,!0,n),s=n.x,c=n.y,n=new M({x:i,y:l,spatialReference:r}),$(n,!0,n),i=n.x,l=n.y,p=y.WGS84}const x=new W({paths:[[[s,c],[i,l]]],spatialReference:p}),R=j(x,10);let u;try{[u]=w([R],"meters")}catch{return h(r)}return u}export{q as f,U as l,T as t,Y as u};
