const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./MapView-B_hC41MZ.js","./ColorBackground-BVKEg-ac.js","./Basemap-NADnrhTn.js","./loadAll-CXj3UdOi.js","./writeUtils-B7-V_fnF.js","./CollectionFlattener-DQyCU__2.js","./editableLayers-DTLxgvJL.js","./catalogUtils-DH9XeEkf.js","./basemapUtils-DslCIlfo.js","./TablesMixin-ST5f4_Kg.js","./TileInfo-BTHKGFgv.js","./TileKey-DZd6gJy7.js","./ReactiveMap-wjcNjhT8.js","./IViewEvents-Bci6PjlS.js","./a11yUtils-DxqE10Xh.js","./heightModelInfoUtils-BK4uhM0Y.js","./normalizeUtils-DYh0eGIs.js","./normalizeUtilsCommon-BkMUFFIb.js","./utils-qTUZr5IF.js","./utils-L8buF51K.js","./mat2df32-orApM5a3.js","./vec2f32-BbH2jxlN.js","./unitBezier-BX6NeAEr.js","./Tile-Cut57u45.js","./TileKey-pAO9G64c.js","./QueueProcessor-Bp8M3t1L.js","./quickselect-QQC62dOK.js","./definitions-DyYHcW4a.js","./HighlightDefaults-BXIAIksb.js","./enums-D9v74xTE.js","./Texture-BztuSTsV.js","./imageUtils-C8uYnyr3.js","./capabilities-DWNhET5Y.js","./accessibleHandler-BJnCRtTt.js","./GoTo-BE7pmK6A.js","./WebMap-QsQtHZyE.js","./jsonContext-BIL0Zu_y.js","./project-DVpMNVPf.js","./NetworkElement-DZPOSsx-.js","./AreaMeasurement2D-CYFkwehr.js","./defaultUnit-B8R48NlV.js","./getDefaultUnitForView-BedRqVWZ.js","./unitFormatUtils-0mMkDNW2.js","./ByteSizeUnit-BsxeN7wM.js","./SnappingVisualizer2D-C24QNFqP.js","./SnappingVisualizer-hI4mIWeg.js","./PointSnappingHint-BJB7taPf.js","./MeasurementWidgetContent-BEi-t3cS.js","./GraphicManipulator-DNCWvGSc.js","./BasemapGallery-BUL_HPfm.js","./Heading-DOrhOVGZ.js","./DistanceMeasurement2D-DbdcnfPx.js","./Editor-u-8CI6m_.js","./Spinner-Cma2Vh1D.js","./AttachmentInfo-BRNPCR5P.js","./featureUtils-CLXmpXWW.js","./utils-DQP56K5r.js","./legacyIcon-DkTFV6vi.js","./arcade-B2kPcXVw.js","./TimeOnly-MgEMA5hS.js","./ImmutableArray-BPVd6ESQ.js","./symbolUtils-DtpKwLay.js","./utils-CV4Xf7oh.js","./cimSymbolUtils-CLfXeciK.js","./webStyleSymbolUtils-CQYM-kSP.js","./devEnvironmentUtils-CnNDiFMM.js","./helpMessageUtils-M95XMmyR.js","./GraphicState-CckhusWy.js","./HighlightHelper-_YTF5E69.js","./infoFor3D-BU6V8avP.js","./uploadAssetErrors-09WWoKrR.js","./LayerList-US2yd4-s.js","./actionUtils-B5DVc55f.js","./Legend-mFl876_F.js","./featureReductionUtils-Caulfaw_.js","./EffectView-B0dvKGY4.js","./ExportImageParameters-CoaPh5Z9.js","./scaleUtils-DIW22IJB.js","./floorFilterUtils-DZ5C6FQv.js","./sublayerUtils-Dxc-DTvG.js","./pixelRangeUtils-Ba7Ehdiw.js","./rendererConversion-A3MNrvtu.js","./heatmapRampUtils-DKInq6_z.js","./Search-ChsChgAM.js","./geometryUtils-B1nhBdyY.js","./commonProperties-DHiB1uzW.js","./ElevationLayer-LCyVBNkh.js","./ArcGISCachedService-BFyFoMYY.js","./TileInfoTilemapCache-BOHvoMmU.js","./TilemapCache-BpLatTXS.js","./WorkerHandle-BKt7MHFE.js","./calcite-input-DQ5WGIP5.js","./input2-By5YrUk4.js","./Validation-DhEv1Zg7.js","./input-j1u1wOBY.js","./input-message-BiF7gFOu.js","./progress-BfwnIVcp.js","./WhereClause-D6L8HhtD.js","./arcadeUtils-Dv6CPYn_.js","./languageUtils-KhUYB5_n.js","./shared-c_-9y_TJ.js","./number-CCMRPDF9.js","./featureConversionUtils-MXBZI-Ia.js","./OptimizedFeature-6cJ-QFG5.js","./OptimizedGeometry-BF8iz5FO.js","./OptimizedFeatureSet-Blu9Ckm7.js","./geometryEngineJSON-DHo_dATM.js","./json-Wa8cmqdu.js","./portalLayers-DBGXGhpW.js","./associatedFeatureServiceUtils-CSiag7R4.js","./lazyLayerLoader-DNRhdTdB.js","./arcgisLayers-DEi36M-8.js","./statsWorker-BtKd3JUH.js","./utils-CkzXyS6x.js","./utils-CtLm37WA.js","./ClassBreaksDefinition-oE-b3Tqi.js","./geometryEngineWorker-CLbLUb2r.js","./CSVSourceWorker-DRBcPZqF.js","./date-Ctp1FiBW.js","./FeatureStore-CgeuD3xw.js","./BoundsStore-DR7H1jBJ.js","./PooledRBush-BLiOY38I.js","./timeSupport-CUyGMiS0.js","./queryUtils-5KbzKtJ4.js","./optimizedFeatureQueryEngineAdapter-BOPMFOve.js","./centroid-DdLmOD72.js","./QueryEngine-CNrLLKAr.js","./QueryEngineCapabilities-DjYb9CEb.js","./SnappingCandidate-DGkpYqI6.js","./clientSideDefaults-CPjggzGP.js","./capabilities-D6exRNM4.js","./EdgeProcessingWorker-B-aR45Lu.js","./workerHelper-Cdkzyx9A.js","./InterleavedLayout-BGJz6YRc.js","./BufferView-BB-vsLR1.js","./types-D0PSWh4d.js","./Util-CULiR2cx.js","./edgeProcessing-BFBqLJQR.js","./deduplicate-CjrB8XiJ.js","./Indices-C3e9MxgP.js","./VertexAttribute-Cq4MnHjR.js","./glUtil-CAJRmga-.js","./VertexElementDescriptor-BLyltQyJ.js","./Normals-DwZKFj7v.js","./ElevationSamplerWorker-BsFK1-Kf.js","./vertexSpaceConversion-BsSdsmTB.js","./spatialReferenceEllipsoidUtils-e_8lxtNk.js","./computeTranslationToOriginAndRotation-Dczzujep.js","./vec3-i8w0Y8uS.js","./vec4-BDxL0CGq.js","./FeatureServiceSnappingSourceWorker-Ct3w5DLE.js","./symbologySnappingCandidates-B_azRRnu.js","./pbfQueryUtils-DHoAeGmE.js","./pbf-D0dDw7yN.js","./query-Dnzj-vsU.js","./GeoJSONSourceWorker-is4finvo.js","./geojson-BZ9mrI31.js","./sourceUtils-SfjxxZ-r.js","./MemorySourceWorker-ByjKZq6o.js","./objectIdUtils-4dd1rf9p.js","./PBFDecoderWorker-BCcHlJNR.js","./dehydratedFeatures-i25FRVF7.js","./FeaturePipelineWorker-Ch_lZYBF.js","./AttributeStore-ybld9cbo.js","./LabelMetric-C6LP7khp.js","./Program-DK6q0oy9.js","./BufferObject-CpFyAn1Z.js","./BoundingBox-CnpCxTZE.js","./CIMSymbolHelper-DqPUnUH4.js","./BidiEngine-QXap_35O.js","./fontUtils-Bb3OjxCp.js","./GeometryUtils-BDbSVQr7.js","./Rect-CUzevAry.js","./UpdateTracking2D-BogUEfUf.js","./BindType-BmZEZMMh.js","./MeshWriterRegistry-DRZWEJq-.js","./PieChartMeshWriter-DtUVVFXu.js","./TurboLine-B04SIwT4.js","./earcut-D9gy186-.js","./constants-F8oTIn7N.js","./grouping-r0Y5iBLs.js","./ogcFeatureUtils-tjQiV9nT.js","./CircularArray-CujHzHWW.js","./createConnection-Ju3FhXEz.js","./PointCloudWorker-C4kUVwSm.js","./vec3f32-nZdmKIgz.js","./PointCloudUniqueValueRenderer-BFkgy1g-.js","./I3SBinaryReader-CQDZGiGE.js","./orientedBoundingBox-AjKxgQD8.js","./RasterWorker-BimrqqeV.js","./dataUtils-D8GSBn5m.js","./RasterSymbolizer-D9Dh8yCd.js","./GCSShiftTransform-B-0egMMf.js","./rasterProjectionHelper-Hro1XrV2.js","./SceneLayerSnappingSourceWorker-DD28MVUl.js","./lineSegment-C26xFnhf.js","./Octree-Bm09QtLt.js","./SceneLayerWorker-CX_lyvBu.js","./I3SUtil-CJfdUYVM.js","./edgeUtils-C6i_pGrI.js","./floatRGBA-OMcoUOQ5.js","./symbolColorUtils-BvJ6Lkrr.js","./interfaces-DDtDqZYj.js","./NormalAttribute.glsl-D5gGhedW.js","./WFSSourceWorker-BJ-1jQuS.js","./wfsUtils-DnXsJveP.js","./xmlUtils-CtUoQO7q.js","./WorkerTileHandler-Dzhst6Mo.js","./enums-BRzLM11V.js","./config-BOD8--da.js","./StyleDefinition-Dj-ae2ep.js","./SourceLayerData-ALj44RYk.js","./StyleRepository-Cv0OEiTM.js","./Feature3DPipelineWorker-Dm_DaMGw.js","./LodRenderer-gx6Bc32B.js","./Texture-Dp6INxvx.js","./renderState-5U5mGt-0.js","./basicInterfaces-CZwQPxTp.js","./boundedPlane--aitujlB.js","./triangle-DkZeoi37.js","./requestImageUtils-D2sFgFFu.js","./HUDMaterial.glsl-B9aTX2yF.js","./VertexArrayObject-B9crYmfD.js","./utils-rt2hTwTm.js","./IntersectorInterfaces-CmNINbyF.js","./doublePrecisionUtils-B0owpBza.js","./NestedMap-GuqgquCN.js","./DefaultMaterial-C2193bY2.js","./RealisticTree.glsl-CLWYSWCZ.js","./deleteForwardEdits-DotRnLog.js","./editingSupport-DT4JJLRd.js","./layersLoader-BH4lRVDx.js","./layersCreator-tq_dng8Z.js","./featureLayerUtils-D4iKyF6d.js","./originUtils-D69mHv66.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./utils-DmyWOQ-L.js","./saveUtils-yOTUGKjo.js","./FeatureLayerSource-D_Brc9IC.js","./External-Bt3yc89G.js","./MeshTransform-B2p3iXk8.js","./axisAngleDegrees-BPi--9Ro.js","./QueryTask-Sna4UQY0.js","./executeForIds-CuMpEVxF.js","./executeQueryJSON-D4yJW7Bv.js","./BinsQuery-CExLb5DW.js","./SelfSnappingEngine-DcfRck-z.js","./geodesicLengthMeasurementUtils-DVnUqfH3.js","./GridSnappingEngine-CovwtL2V.js","./gridUtils-CxmViIFY.js","./FeatureSnappingEngine-BeLLE9lu.js","./editingTools-BfSk4NHs.js","./editPlaneUtils-xO6Z-use.js","./automaticLengthMeasurementUtils-BpbdT1mc.js","./helpMessageUtils3d-DgaJNlI2.js","./automaticAreaMeasurementUtils-BP_ndXg1.js","./drawUtils-Db_Bz9Lz.js","./ImageMaterial.glsl-CrZ6iD8o.js","./TextOverlayItem-B66fmUej.js","./RibbonLine.glsl-B2z4bqWu.js","./DefaultLayouts-ND7jQ46P.js","./triangulationUtils-CQdUYFdJ.js","./SelectedVertexTooltipInfo-CuyMWq56.js","./TranslateTooltipInfo-BWwDQr3i.js","./persistable-S6UEc-bc.js","./resourceExtension-ZbxL_iWD.js","./ExtentScaleTooltipInfo-DHJAncqT.js","./LineCallout.glsl-BjgGd2Ws.js","./popupUtils-Cly2tfcO.js","./highlightUtils-Ba4vfSS5.js","./geometryServiceUtils-beZ0TjHq.js","./LayerView-CT6BgBtC.js","./GraphicMover-BLIVQKa8.js","./Box-fuDzFVqo.js","./settings-DAwRTlxe.js","./Reshape-uskvMQAw.js","./calcite-block-DmZDSQBW.js","./handle-I_Sss28C.js","./calcite-radio-button-group-qmwvkh0b.js","./calcite-list-aCwIUPY_.js","./resources4-F8vB_VGv.js","./utils3-Gw5bbYaR.js","./filter-BCWCafFo.js","./calcite-list-item-BBy5oeKk.js","./GridControls-CsvqJfMd.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function i(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(s){if(s.ep)return;s.ep=!0;const u=i(s);fetch(s.href,u)}})();var oT={exports:{}},Gv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iL;function boe(){if(iL)return Gv;iL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,s,u){var p=null;if(u!==void 0&&(p=""+u),s.key!==void 0&&(p=""+s.key),"key"in s){u={};for(var g in s)g!=="key"&&(u[g]=s[g])}else u=s;return s=u.ref,{$$typeof:e,type:n,key:p,ref:s!==void 0?s:null,props:u}}return Gv.Fragment=t,Gv.jsx=i,Gv.jsxs=i,Gv}var nL;function woe(){return nL||(nL=1,oT.exports=boe()),oT.exports}var At=woe(),aT={exports:{}},di={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rL;function xoe(){if(rL)return di;rL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function R(Se){return Se===null||typeof Se!="object"?null:(Se=I&&Se[I]||Se["@@iterator"],typeof Se=="function"?Se:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,B={};function K(Se,Xe,$t){this.props=Se,this.context=Xe,this.refs=B,this.updater=$t||F}K.prototype.isReactComponent={},K.prototype.setState=function(Se,Xe){if(typeof Se!="object"&&typeof Se!="function"&&Se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Se,Xe,"setState")},K.prototype.forceUpdate=function(Se){this.updater.enqueueForceUpdate(this,Se,"forceUpdate")};function te(){}te.prototype=K.prototype;function ce(Se,Xe,$t){this.props=Se,this.context=Xe,this.refs=B,this.updater=$t||F}var ye=ce.prototype=new te;ye.constructor=ce,q(ye,K.prototype),ye.isPureReactComponent=!0;var _e=Array.isArray,we={H:null,A:null,T:null,S:null},xe=Object.prototype.hasOwnProperty;function pe(Se,Xe,$t,Mt,bt,Yt){return $t=Yt.ref,{$$typeof:e,type:Se,key:Xe,ref:$t!==void 0?$t:null,props:Yt}}function Ze(Se,Xe){return pe(Se.type,Xe,void 0,void 0,void 0,Se.props)}function Fe(Se){return typeof Se=="object"&&Se!==null&&Se.$$typeof===e}function He(Se){var Xe={"=":"=0",":":"=2"};return"$"+Se.replace(/[=:]/g,function($t){return Xe[$t]})}var nt=/\/+/g;function Qe(Se,Xe){return typeof Se=="object"&&Se!==null&&Se.key!=null?He(""+Se.key):Xe.toString(36)}function De(){}function Me(Se){switch(Se.status){case"fulfilled":return Se.value;case"rejected":throw Se.reason;default:switch(typeof Se.status=="string"?Se.then(De,De):(Se.status="pending",Se.then(function(Xe){Se.status==="pending"&&(Se.status="fulfilled",Se.value=Xe)},function(Xe){Se.status==="pending"&&(Se.status="rejected",Se.reason=Xe)})),Se.status){case"fulfilled":return Se.value;case"rejected":throw Se.reason}}throw Se}function et(Se,Xe,$t,Mt,bt){var Yt=typeof Se;(Yt==="undefined"||Yt==="boolean")&&(Se=null);var Kt=!1;if(Se===null)Kt=!0;else switch(Yt){case"bigint":case"string":case"number":Kt=!0;break;case"object":switch(Se.$$typeof){case e:case t:Kt=!0;break;case A:return Kt=Se._init,et(Kt(Se._payload),Xe,$t,Mt,bt)}}if(Kt)return bt=bt(Se),Kt=Mt===""?"."+Qe(Se,0):Mt,_e(bt)?($t="",Kt!=null&&($t=Kt.replace(nt,"$&/")+"/"),et(bt,Xe,$t,"",function(wt){return wt})):bt!=null&&(Fe(bt)&&(bt=Ze(bt,$t+(bt.key==null||Se&&Se.key===bt.key?"":(""+bt.key).replace(nt,"$&/")+"/")+Kt)),Xe.push(bt)),1;Kt=0;var xn=Mt===""?".":Mt+":";if(_e(Se))for(var hi=0;hi<Se.length;hi++)Mt=Se[hi],Yt=xn+Qe(Mt,hi),Kt+=et(Mt,Xe,$t,Yt,bt);else if(hi=R(Se),typeof hi=="function")for(Se=hi.call(Se),hi=0;!(Mt=Se.next()).done;)Mt=Mt.value,Yt=xn+Qe(Mt,hi++),Kt+=et(Mt,Xe,$t,Yt,bt);else if(Yt==="object"){if(typeof Se.then=="function")return et(Me(Se),Xe,$t,Mt,bt);throw Xe=String(Se),Error("Objects are not valid as a React child (found: "+(Xe==="[object Object]"?"object with keys {"+Object.keys(Se).join(", ")+"}":Xe)+"). If you meant to render a collection of children, use an array instead.")}return Kt}function Ve(Se,Xe,$t){if(Se==null)return Se;var Mt=[],bt=0;return et(Se,Mt,"","",function(Yt){return Xe.call($t,Yt,bt++)}),Mt}function lt(Se){if(Se._status===-1){var Xe=Se._result;Xe=Xe(),Xe.then(function($t){(Se._status===0||Se._status===-1)&&(Se._status=1,Se._result=$t)},function($t){(Se._status===0||Se._status===-1)&&(Se._status=2,Se._result=$t)}),Se._status===-1&&(Se._status=0,Se._result=Xe)}if(Se._status===1)return Se._result.default;throw Se._result}var st=typeof reportError=="function"?reportError:function(Se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Se=="object"&&Se!==null&&typeof Se.message=="string"?String(Se.message):String(Se),error:Se});if(!window.dispatchEvent(Xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Se);return}console.error(Se)};function Tt(){}return di.Children={map:Ve,forEach:function(Se,Xe,$t){Ve(Se,function(){Xe.apply(this,arguments)},$t)},count:function(Se){var Xe=0;return Ve(Se,function(){Xe++}),Xe},toArray:function(Se){return Ve(Se,function(Xe){return Xe})||[]},only:function(Se){if(!Fe(Se))throw Error("React.Children.only expected to receive a single React element child.");return Se}},di.Component=K,di.Fragment=i,di.Profiler=s,di.PureComponent=ce,di.StrictMode=n,di.Suspense=w,di.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we,di.act=function(){throw Error("act(...) is not supported in production builds of React.")},di.cache=function(Se){return function(){return Se.apply(null,arguments)}},di.cloneElement=function(Se,Xe,$t){if(Se==null)throw Error("The argument must be a React element, but you passed "+Se+".");var Mt=q({},Se.props),bt=Se.key,Yt=void 0;if(Xe!=null)for(Kt in Xe.ref!==void 0&&(Yt=void 0),Xe.key!==void 0&&(bt=""+Xe.key),Xe)!xe.call(Xe,Kt)||Kt==="key"||Kt==="__self"||Kt==="__source"||Kt==="ref"&&Xe.ref===void 0||(Mt[Kt]=Xe[Kt]);var Kt=arguments.length-2;if(Kt===1)Mt.children=$t;else if(1<Kt){for(var xn=Array(Kt),hi=0;hi<Kt;hi++)xn[hi]=arguments[hi+2];Mt.children=xn}return pe(Se.type,bt,void 0,void 0,Yt,Mt)},di.createContext=function(Se){return Se={$$typeof:p,_currentValue:Se,_currentValue2:Se,_threadCount:0,Provider:null,Consumer:null},Se.Provider=Se,Se.Consumer={$$typeof:u,_context:Se},Se},di.createElement=function(Se,Xe,$t){var Mt,bt={},Yt=null;if(Xe!=null)for(Mt in Xe.key!==void 0&&(Yt=""+Xe.key),Xe)xe.call(Xe,Mt)&&Mt!=="key"&&Mt!=="__self"&&Mt!=="__source"&&(bt[Mt]=Xe[Mt]);var Kt=arguments.length-2;if(Kt===1)bt.children=$t;else if(1<Kt){for(var xn=Array(Kt),hi=0;hi<Kt;hi++)xn[hi]=arguments[hi+2];bt.children=xn}if(Se&&Se.defaultProps)for(Mt in Kt=Se.defaultProps,Kt)bt[Mt]===void 0&&(bt[Mt]=Kt[Mt]);return pe(Se,Yt,void 0,void 0,null,bt)},di.createRef=function(){return{current:null}},di.forwardRef=function(Se){return{$$typeof:g,render:Se}},di.isValidElement=Fe,di.lazy=function(Se){return{$$typeof:A,_payload:{_status:-1,_result:Se},_init:lt}},di.memo=function(Se,Xe){return{$$typeof:E,type:Se,compare:Xe===void 0?null:Xe}},di.startTransition=function(Se){var Xe=we.T,$t={};we.T=$t;try{var Mt=Se(),bt=we.S;bt!==null&&bt($t,Mt),typeof Mt=="object"&&Mt!==null&&typeof Mt.then=="function"&&Mt.then(Tt,st)}catch(Yt){st(Yt)}finally{we.T=Xe}},di.unstable_useCacheRefresh=function(){return we.H.useCacheRefresh()},di.use=function(Se){return we.H.use(Se)},di.useActionState=function(Se,Xe,$t){return we.H.useActionState(Se,Xe,$t)},di.useCallback=function(Se,Xe){return we.H.useCallback(Se,Xe)},di.useContext=function(Se){return we.H.useContext(Se)},di.useDebugValue=function(){},di.useDeferredValue=function(Se,Xe){return we.H.useDeferredValue(Se,Xe)},di.useEffect=function(Se,Xe){return we.H.useEffect(Se,Xe)},di.useId=function(){return we.H.useId()},di.useImperativeHandle=function(Se,Xe,$t){return we.H.useImperativeHandle(Se,Xe,$t)},di.useInsertionEffect=function(Se,Xe){return we.H.useInsertionEffect(Se,Xe)},di.useLayoutEffect=function(Se,Xe){return we.H.useLayoutEffect(Se,Xe)},di.useMemo=function(Se,Xe){return we.H.useMemo(Se,Xe)},di.useOptimistic=function(Se,Xe){return we.H.useOptimistic(Se,Xe)},di.useReducer=function(Se,Xe,$t){return we.H.useReducer(Se,Xe,$t)},di.useRef=function(Se){return we.H.useRef(Se)},di.useState=function(Se){return we.H.useState(Se)},di.useSyncExternalStore=function(Se,Xe,$t){return we.H.useSyncExternalStore(Se,Xe,$t)},di.useTransition=function(){return we.H.useTransition()},di.version="19.0.0",di}var sL;function QA(){return sL||(sL=1,aT.exports=xoe()),aT.exports}var Soe=QA(),lT={exports:{}},Hv={},cT={exports:{}},uT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL;function _oe(){return oL||(oL=1,function(e){function t(Ve,lt){var st=Ve.length;Ve.push(lt);e:for(;0<st;){var Tt=st-1>>>1,Se=Ve[Tt];if(0<s(Se,lt))Ve[Tt]=lt,Ve[st]=Se,st=Tt;else break e}}function i(Ve){return Ve.length===0?null:Ve[0]}function n(Ve){if(Ve.length===0)return null;var lt=Ve[0],st=Ve.pop();if(st!==lt){Ve[0]=st;e:for(var Tt=0,Se=Ve.length,Xe=Se>>>1;Tt<Xe;){var $t=2*(Tt+1)-1,Mt=Ve[$t],bt=$t+1,Yt=Ve[bt];if(0>s(Mt,st))bt<Se&&0>s(Yt,Mt)?(Ve[Tt]=Yt,Ve[bt]=st,Tt=bt):(Ve[Tt]=Mt,Ve[$t]=st,Tt=$t);else if(bt<Se&&0>s(Yt,st))Ve[Tt]=Yt,Ve[bt]=st,Tt=bt;else break e}}return lt}function s(Ve,lt){var st=Ve.sortIndex-lt.sortIndex;return st!==0?st:Ve.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();e.unstable_now=function(){return p.now()-g}}var w=[],E=[],A=1,I=null,R=3,F=!1,q=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function ye(Ve){for(var lt=i(E);lt!==null;){if(lt.callback===null)n(E);else if(lt.startTime<=Ve)n(E),lt.sortIndex=lt.expirationTime,t(w,lt);else break;lt=i(E)}}function _e(Ve){if(B=!1,ye(Ve),!q)if(i(w)!==null)q=!0,Me();else{var lt=i(E);lt!==null&&et(_e,lt.startTime-Ve)}}var we=!1,xe=-1,pe=5,Ze=-1;function Fe(){return!(e.unstable_now()-Ze<pe)}function He(){if(we){var Ve=e.unstable_now();Ze=Ve;var lt=!0;try{e:{q=!1,B&&(B=!1,te(xe),xe=-1),F=!0;var st=R;try{t:{for(ye(Ve),I=i(w);I!==null&&!(I.expirationTime>Ve&&Fe());){var Tt=I.callback;if(typeof Tt=="function"){I.callback=null,R=I.priorityLevel;var Se=Tt(I.expirationTime<=Ve);if(Ve=e.unstable_now(),typeof Se=="function"){I.callback=Se,ye(Ve),lt=!0;break t}I===i(w)&&n(w),ye(Ve)}else n(w);I=i(w)}if(I!==null)lt=!0;else{var Xe=i(E);Xe!==null&&et(_e,Xe.startTime-Ve),lt=!1}}break e}finally{I=null,R=st,F=!1}lt=void 0}}finally{lt?nt():we=!1}}}var nt;if(typeof ce=="function")nt=function(){ce(He)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,De=Qe.port2;Qe.port1.onmessage=He,nt=function(){De.postMessage(null)}}else nt=function(){K(He,0)};function Me(){we||(we=!0,nt())}function et(Ve,lt){xe=K(function(){Ve(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ve){Ve.callback=null},e.unstable_continueExecution=function(){q||F||(q=!0,Me())},e.unstable_forceFrameRate=function(Ve){0>Ve||125<Ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<Ve?Math.floor(1e3/Ve):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return i(w)},e.unstable_next=function(Ve){switch(R){case 1:case 2:case 3:var lt=3;break;default:lt=R}var st=R;R=lt;try{return Ve()}finally{R=st}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ve,lt){switch(Ve){case 1:case 2:case 3:case 4:case 5:break;default:Ve=3}var st=R;R=Ve;try{return lt()}finally{R=st}},e.unstable_scheduleCallback=function(Ve,lt,st){var Tt=e.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Tt+st:Tt):st=Tt,Ve){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=st+Se,Ve={id:A++,callback:lt,priorityLevel:Ve,startTime:st,expirationTime:Se,sortIndex:-1},st>Tt?(Ve.sortIndex=st,t(E,Ve),i(w)===null&&Ve===i(E)&&(B?(te(xe),xe=-1):B=!0,et(_e,st-Tt))):(Ve.sortIndex=Se,t(w,Ve),q||F||(q=!0,Me())),Ve},e.unstable_shouldYield=Fe,e.unstable_wrapCallback=function(Ve){var lt=R;return function(){var st=R;R=lt;try{return Ve.apply(this,arguments)}finally{R=st}}}}(uT)),uT}var aL;function Eoe(){return aL||(aL=1,cT.exports=_oe()),cT.exports}var hT={exports:{}},Is={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lL;function Toe(){if(lL)return Is;lL=1;var e=QA();function t(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)E+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(w,E,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:I==null?null:""+I,children:w,containerInfo:E,implementation:A}}var p=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Is.createPortal=function(w,E){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return u(w,E,null,A)},Is.flushSync=function(w){var E=p.T,A=n.p;try{if(p.T=null,n.p=2,w)return w()}finally{p.T=E,n.p=A,n.d.f()}},Is.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,n.d.C(w,E))},Is.prefetchDNS=function(w){typeof w=="string"&&n.d.D(w)},Is.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var A=E.as,I=g(A,E.crossOrigin),R=typeof E.integrity=="string"?E.integrity:void 0,F=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;A==="style"?n.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:I,integrity:R,fetchPriority:F}):A==="script"&&n.d.X(w,{crossOrigin:I,integrity:R,fetchPriority:F,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Is.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var A=g(E.as,E.crossOrigin);n.d.M(w,{crossOrigin:A,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&n.d.M(w)},Is.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var A=E.as,I=g(A,E.crossOrigin);n.d.L(w,A,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Is.preloadModule=function(w,E){if(typeof w=="string")if(E){var A=g(E.as,E.crossOrigin);n.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:A,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else n.d.m(w)},Is.requestFormReset=function(w){n.d.r(w)},Is.unstable_batchedUpdates=function(w,E){return w(E)},Is.useFormState=function(w,E,A){return p.H.useFormState(w,E,A)},Is.useFormStatus=function(){return p.H.useHostTransitionStatus()},Is.version="19.0.0",Is}var cL;function Moe(){if(cL)return hT.exports;cL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hT.exports=Toe(),hT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL;function $oe(){if(uL)return Hv;uL=1;var e=Eoe(),t=QA(),i=Moe();function n(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)}var u=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),_e=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function xe(y){return y===null||typeof y!="object"?null:(y=we&&y[we]||y["@@iterator"],typeof y=="function"?y:null)}var pe=Symbol.for("react.client.reference");function Ze(y){if(y==null)return null;if(typeof y=="function")return y.$$typeof===pe?null:y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case w:return"Fragment";case g:return"Portal";case A:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case K:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case F:return(y.displayName||"Context")+".Provider";case R:return(y._context.displayName||"Context")+".Consumer";case q:var v=y.render;return y=y.displayName,y||(y=v.displayName||v.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case te:return v=y.displayName||null,v!==null?v:Ze(y.type)||"Memo";case ce:v=y._payload,y=y._init;try{return Ze(y(v))}catch{}}return null}var Fe=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,He=Object.assign,nt,Qe;function De(y){if(nt===void 0)try{throw Error()}catch(T){var v=T.stack.trim().match(/\n( *(at )?)/);nt=v&&v[1]||"",Qe=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+y+Qe}var Me=!1;function et(y,v){if(!y||Me)return"";Me=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(v){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(Ye){var Le=Ye}Reflect.construct(y,[],ct)}else{try{ct.call()}catch(Ye){Le=Ye}y.call(ct.prototype)}}else{try{throw Error()}catch(Ye){Le=Ye}(ct=y())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(Ye){if(Ye&&Le&&typeof Ye.stack=="string")return[Ye.stack,Le.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=O.DetermineComponentFrameRoot(),Q=H[0],le=H[1];if(Q&&le){var ve=Q.split(`
`),Ae=le.split(`
`);for(j=O=0;O<ve.length&&!ve[O].includes("DetermineComponentFrameRoot");)O++;for(;j<Ae.length&&!Ae[j].includes("DetermineComponentFrameRoot");)j++;if(O===ve.length||j===Ae.length)for(O=ve.length-1,j=Ae.length-1;1<=O&&0<=j&&ve[O]!==Ae[j];)j--;for(;1<=O&&0<=j;O--,j--)if(ve[O]!==Ae[j]){if(O!==1||j!==1)do if(O--,j--,0>j||ve[O]!==Ae[j]){var Ke=`
`+ve[O].replace(" at new "," at ");return y.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",y.displayName)),Ke}while(1<=O&&0<=j);break}}}finally{Me=!1,Error.prepareStackTrace=T}return(T=y?y.displayName||y.name:"")?De(T):""}function Ve(y){switch(y.tag){case 26:case 27:case 5:return De(y.type);case 16:return De("Lazy");case 13:return De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return y=et(y.type,!1),y;case 11:return y=et(y.type.render,!1),y;case 1:return y=et(y.type,!0),y;default:return""}}function lt(y){try{var v="";do v+=Ve(y),y=y.return;while(y);return v}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function st(y){var v=y,T=y;if(y.alternate)for(;v.return;)v=v.return;else{y=v;do v=y,(v.flags&4098)!==0&&(T=v.return),y=v.return;while(y)}return v.tag===3?T:null}function Tt(y){if(y.tag===13){var v=y.memoizedState;if(v===null&&(y=y.alternate,y!==null&&(v=y.memoizedState)),v!==null)return v.dehydrated}return null}function Se(y){if(st(y)!==y)throw Error(n(188))}function Xe(y){var v=y.alternate;if(!v){if(v=st(y),v===null)throw Error(n(188));return v!==y?null:y}for(var T=y,O=v;;){var j=T.return;if(j===null)break;var H=j.alternate;if(H===null){if(O=j.return,O!==null){T=O;continue}break}if(j.child===H.child){for(H=j.child;H;){if(H===T)return Se(j),y;if(H===O)return Se(j),v;H=H.sibling}throw Error(n(188))}if(T.return!==O.return)T=j,O=H;else{for(var Q=!1,le=j.child;le;){if(le===T){Q=!0,T=j,O=H;break}if(le===O){Q=!0,O=j,T=H;break}le=le.sibling}if(!Q){for(le=H.child;le;){if(le===T){Q=!0,T=H,O=j;break}if(le===O){Q=!0,O=H,T=j;break}le=le.sibling}if(!Q)throw Error(n(189))}}if(T.alternate!==O)throw Error(n(190))}if(T.tag!==3)throw Error(n(188));return T.stateNode.current===T?y:v}function $t(y){var v=y.tag;if(v===5||v===26||v===27||v===6)return y;for(y=y.child;y!==null;){if(v=$t(y),v!==null)return v;y=y.sibling}return null}var Mt=Array.isArray,bt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yt={pending:!1,data:null,method:null,action:null},Kt=[],xn=-1;function hi(y){return{current:y}}function wt(y){0>xn||(y.current=Kt[xn],Kt[xn]=null,xn--)}function Ji(y,v){xn++,Kt[xn]=y.current,y.current=v}var mr=hi(null),Qs=hi(null),ks=hi(null),Ho=hi(null);function wo(y,v){switch(Ji(ks,v),Ji(Qs,y),Ji(mr,null),y=v.nodeType,y){case 9:case 11:v=(v=v.documentElement)&&(v=v.namespaceURI)?ON(v):0;break;default:if(y=y===8?v.parentNode:v,v=y.tagName,y=y.namespaceURI)y=ON(y),v=IN(y,v);else switch(v){case"svg":v=1;break;case"math":v=2;break;default:v=0}}wt(mr),Ji(mr,v)}function Ci(){wt(mr),wt(Qs),wt(ks)}function re(y){y.memoizedState!==null&&Ji(Ho,y);var v=mr.current,T=IN(v,y.type);v!==T&&(Ji(Qs,y),Ji(mr,T))}function mn(y){Qs.current===y&&(wt(mr),wt(Qs)),Ho.current===y&&(wt(Ho),zv._currentValue=Yt)}var xc=Object.prototype.hasOwnProperty,ci=e.unstable_scheduleCallback,Ni=e.unstable_cancelCallback,us=e.unstable_shouldYield,Xn=e.unstable_requestPaint,Sn=e.unstable_now,xo=e.unstable_getCurrentPriorityLevel,qo=e.unstable_ImmediatePriority,Eu=e.unstable_UserBlockingPriority,qr=e.unstable_NormalPriority,pt=e.unstable_LowPriority,eo=e.unstable_IdlePriority,h=e.log,N=e.unstable_setDisableYieldValue,x=null,c=null;function a(y){if(c&&typeof c.onCommitFiberRoot=="function")try{c.onCommitFiberRoot(x,y,void 0,(y.current.flags&128)===128)}catch{}}function r(y){if(typeof h=="function"&&N(y),c&&typeof c.setStrictMode=="function")try{c.setStrictMode(x,y)}catch{}}var o=Math.clz32?Math.clz32:f,l=Math.log,d=Math.LN2;function f(y){return y>>>=0,y===0?32:31-(l(y)/d|0)|0}var m=128,b=4194304;function _(y){var v=y&42;if(v!==0)return v;switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return y}}function $(y,v){var T=y.pendingLanes;if(T===0)return 0;var O=0,j=y.suspendedLanes,H=y.pingedLanes,Q=y.warmLanes;y=y.finishedLanes!==0;var le=T&134217727;return le!==0?(T=le&~j,T!==0?O=_(T):(H&=le,H!==0?O=_(H):y||(Q=le&~Q,Q!==0&&(O=_(Q))))):(le=T&~j,le!==0?O=_(le):H!==0?O=_(H):y||(Q=T&~Q,Q!==0&&(O=_(Q)))),O===0?0:v!==0&&v!==O&&(v&j)===0&&(j=O&-O,Q=v&-v,j>=Q||j===32&&(Q&4194176)!==0)?v:O}function C(y,v){return(y.pendingLanes&~(y.suspendedLanes&~y.pingedLanes)&v)===0}function P(y,v){switch(y){case 1:case 2:case 4:case 8:return v+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var y=m;return m<<=1,(m&4194176)===0&&(m=128),y}function V(){var y=b;return b<<=1,(b&62914560)===0&&(b=4194304),y}function U(y){for(var v=[],T=0;31>T;T++)v.push(y);return v}function Y(y,v){y.pendingLanes|=v,v!==268435456&&(y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0)}function X(y,v,T,O,j,H){var Q=y.pendingLanes;y.pendingLanes=T,y.suspendedLanes=0,y.pingedLanes=0,y.warmLanes=0,y.expiredLanes&=T,y.entangledLanes&=T,y.errorRecoveryDisabledLanes&=T,y.shellSuspendCounter=0;var le=y.entanglements,ve=y.expirationTimes,Ae=y.hiddenUpdates;for(T=Q&~T;0<T;){var Ke=31-o(T),ct=1<<Ke;le[Ke]=0,ve[Ke]=-1;var Le=Ae[Ke];if(Le!==null)for(Ae[Ke]=null,Ke=0;Ke<Le.length;Ke++){var Ye=Le[Ke];Ye!==null&&(Ye.lane&=-536870913)}T&=~ct}O!==0&&Z(y,O,0),H!==0&&j===0&&y.tag!==0&&(y.suspendedLanes|=H&~(Q&~v))}function Z(y,v,T){y.pendingLanes|=v,y.suspendedLanes&=~v;var O=31-o(v);y.entangledLanes|=v,y.entanglements[O]=y.entanglements[O]|1073741824|T&4194218}function ne(y,v){var T=y.entangledLanes|=v;for(y=y.entanglements;T;){var O=31-o(T),j=1<<O;j&v|y[O]&v&&(y[O]|=v),T&=~j}}function oe(y){return y&=-y,2<y?8<y?(y&134217727)!==0?32:268435456:8:2}function he(){var y=bt.p;return y!==0?y:(y=window.event,y===void 0?32:YN(y.type))}function be(y,v){var T=bt.p;try{return bt.p=y,v()}finally{bt.p=T}}var Ce=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ce,qe="__reactProps$"+Ce,Ue="__reactContainer$"+Ce,Je="__reactEvents$"+Ce,je="__reactListeners$"+Ce,Ht="__reactHandles$"+Ce,Dt="__reactResources$"+Ce,ni="__reactMarker$"+Ce;function mi(y){delete y[Pe],delete y[qe],delete y[Je],delete y[je],delete y[Ht]}function Ai(y){var v=y[Pe];if(v)return v;for(var T=y.parentNode;T;){if(v=T[Ue]||T[Pe]){if(T=v.alternate,v.child!==null||T!==null&&T.child!==null)for(y=DN(y);y!==null;){if(T=y[Pe])return T;y=DN(y)}return v}y=T,T=y.parentNode}return null}function xi(y){if(y=y[Pe]||y[Ue]){var v=y.tag;if(v===5||v===6||v===13||v===26||v===27||v===3)return y}return null}function ri(y){var v=y.tag;if(v===5||v===26||v===27||v===6)return y.stateNode;throw Error(n(33))}function zt(y){var v=y[Dt];return v||(v=y[Dt]={hoistableStyles:new Map,hoistableScripts:new Map}),v}function Ct(y){y[ni]=!0}var Zi=new Set,Pi={};function zn(y,v){Wt(y,v),Wt(y+"Capture",v)}function Wt(y,v){for(Pi[y]=v,y=0;y<v.length;y++)Zi.add(v[y])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qn={},xl={};function Aa(y){return xc.call(xl,y)?!0:xc.call(qn,y)?!1:vi.test(y)?xl[y]=!0:(qn[y]=!0,!1)}function ge(y,v,T){if(Aa(v))if(T===null)y.removeAttribute(v);else{switch(typeof T){case"undefined":case"function":case"symbol":y.removeAttribute(v);return;case"boolean":var O=v.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){y.removeAttribute(v);return}}y.setAttribute(v,""+T)}}function We(y,v,T){if(T===null)y.removeAttribute(v);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":y.removeAttribute(v);return}y.setAttribute(v,""+T)}}function ot(y,v,T,O){if(O===null)y.removeAttribute(T);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":y.removeAttribute(T);return}y.setAttributeNS(v,T,""+O)}}function It(y){switch(typeof y){case"bigint":case"boolean":case"number":case"string":case"undefined":return y;case"object":return y;default:return""}}function Fi(y){var v=y.type;return(y=y.nodeName)&&y.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function _n(y){var v=Fi(y)?"checked":"value",T=Object.getOwnPropertyDescriptor(y.constructor.prototype,v),O=""+y[v];if(!y.hasOwnProperty(v)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var j=T.get,H=T.set;return Object.defineProperty(y,v,{configurable:!0,get:function(){return j.call(this)},set:function(Q){O=""+Q,H.call(this,Q)}}),Object.defineProperty(y,v,{enumerable:T.enumerable}),{getValue:function(){return O},setValue:function(Q){O=""+Q},stopTracking:function(){y._valueTracker=null,delete y[v]}}}}function En(y){y._valueTracker||(y._valueTracker=_n(y))}function yr(y){if(!y)return!1;var v=y._valueTracker;if(!v)return!0;var T=v.getValue(),O="";return y&&(O=Fi(y)?y.checked?"true":"false":y.value),y=O,y!==T?(v.setValue(y),!0):!1}function Tu(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}var Kh=/[\n"\\]/g;function Cs(y){return y.replace(Kh,function(v){return"\\"+v.charCodeAt(0).toString(16)+" "})}function Xh(y,v,T,O,j,H,Q,le){y.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?y.type=Q:y.removeAttribute("type"),v!=null?Q==="number"?(v===0&&y.value===""||y.value!=v)&&(y.value=""+It(v)):y.value!==""+It(v)&&(y.value=""+It(v)):Q!=="submit"&&Q!=="reset"||y.removeAttribute("value"),v!=null?Mu(y,Q,It(v)):T!=null?Mu(y,Q,It(T)):O!=null&&y.removeAttribute("value"),j==null&&H!=null&&(y.defaultChecked=!!H),j!=null&&(y.checked=j&&typeof j!="function"&&typeof j!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?y.name=""+It(le):y.removeAttribute("name")}function Sl(y,v,T,O,j,H,Q,le){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(y.type=H),v!=null||T!=null){if(!(H!=="submit"&&H!=="reset"||v!=null))return;T=T!=null?""+It(T):"",v=v!=null?""+It(v):T,le||v===y.value||(y.value=v),y.defaultValue=v}O=O??j,O=typeof O!="function"&&typeof O!="symbol"&&!!O,y.checked=le?y.checked:!!O,y.defaultChecked=!!O,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(y.name=Q)}function Mu(y,v,T){v==="number"&&Tu(y.ownerDocument)===y||y.defaultValue===""+T||(y.defaultValue=""+T)}function Qh(y,v,T,O){if(y=y.options,v){v={};for(var j=0;j<T.length;j++)v["$"+T[j]]=!0;for(T=0;T<y.length;T++)j=v.hasOwnProperty("$"+y[T].value),y[T].selected!==j&&(y[T].selected=j),j&&O&&(y[T].defaultSelected=!0)}else{for(T=""+It(T),v=null,j=0;j<y.length;j++){if(y[j].value===T){y[j].selected=!0,O&&(y[j].defaultSelected=!0);return}v!==null||y[j].disabled||(v=y[j])}v!==null&&(v.selected=!0)}}function Yg(y,v,T){if(v!=null&&(v=""+It(v),v!==y.value&&(y.value=v),T==null)){y.defaultValue!==v&&(y.defaultValue=v);return}y.defaultValue=T!=null?""+It(T):""}function Kg(y,v,T,O){if(v==null){if(O!=null){if(T!=null)throw Error(n(92));if(Mt(O)){if(1<O.length)throw Error(n(93));O=O[0]}T=O}T==null&&(T=""),v=T}T=It(v),y.defaultValue=T,O=y.textContent,O===T&&O!==""&&O!==null&&(y.value=O)}function Sc(y,v){if(v){var T=y.firstChild;if(T&&T===y.lastChild&&T.nodeType===3){T.nodeValue=v;return}}y.textContent=v}var rE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $3(y,v,T){var O=v.indexOf("--")===0;T==null||typeof T=="boolean"||T===""?O?y.setProperty(v,""):v==="float"?y.cssFloat="":y[v]="":O?y.setProperty(v,T):typeof T!="number"||T===0||rE.has(v)?v==="float"?y.cssFloat=T:y[v]=(""+T).trim():y[v]=T+"px"}function Xg(y,v,T){if(v!=null&&typeof v!="object")throw Error(n(62));if(y=y.style,T!=null){for(var O in T)!T.hasOwnProperty(O)||v!=null&&v.hasOwnProperty(O)||(O.indexOf("--")===0?y.setProperty(O,""):O==="float"?y.cssFloat="":y[O]="");for(var j in v)O=v[j],v.hasOwnProperty(j)&&T[j]!==O&&$3(y,j,O)}else for(var H in v)v.hasOwnProperty(H)&&$3(y,H,v[H])}function Qg(y){if(y.indexOf("-")===-1)return!1;switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mp(y){return k3.test(""+y)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":y}var ev=null;function yp(y){return y=y.target||y.srcElement||window,y.correspondingUseElement&&(y=y.correspondingUseElement),y.nodeType===3?y.parentNode:y}var ed=null,$u=null;function C3(y){var v=xi(y);if(v&&(y=v.stateNode)){var T=y[qe]||null;e:switch(y=v.stateNode,v.type){case"input":if(Xh(y,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name),v=T.name,T.type==="radio"&&v!=null){for(T=y;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll('input[name="'+Cs(""+v)+'"][type="radio"]'),v=0;v<T.length;v++){var O=T[v];if(O!==y&&O.form===y.form){var j=O[qe]||null;if(!j)throw Error(n(90));Xh(O,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(v=0;v<T.length;v++)O=T[v],O.form===y.form&&yr(O)}break e;case"textarea":Yg(y,T.value,T.defaultValue);break e;case"select":v=T.value,v!=null&&Qh(y,!!T.multiple,v,!1)}}}var td=!1;function A3(y,v,T){if(td)return y(v,T);td=!0;try{var O=y(v);return O}finally{if(td=!1,(ed!==null||$u!==null)&&(S5(),ed&&(v=ed,y=$u,$u=ed=null,C3(v),y)))for(v=0;v<y.length;v++)C3(y[v])}}function id(y,v){var T=y.stateNode;if(T===null)return null;var O=T[qe]||null;if(O===null)return null;T=O[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(y=y.type,O=!(y==="button"||y==="input"||y==="select"||y==="textarea")),y=!O;break e;default:y=!1}if(y)return null;if(T&&typeof T!="function")throw Error(n(231,v,typeof T));return T}var L1=!1;if(tn)try{var gp={};Object.defineProperty(gp,"passive",{get:function(){L1=!0}}),window.addEventListener("test",gp,gp),window.removeEventListener("test",gp,gp)}catch{L1=!1}var _l=null,z1=null,j1=null;function nd(){if(j1)return j1;var y,v=z1,T=v.length,O,j="value"in _l?_l.value:_l.textContent,H=j.length;for(y=0;y<T&&v[y]===j[y];y++);var Q=T-y;for(O=1;O<=Q&&v[T-O]===j[H-O];O++);return j1=j.slice(y,1<O?1-O:void 0)}function ku(y){var v=y.keyCode;return"charCode"in y?(y=y.charCode,y===0&&v===13&&(y=13)):y=v,y===10&&(y=13),32<=y||y===13?y:0}function F1(){return!0}function U1(){return!1}function hs(y){function v(T,O,j,H,Q){this._reactName=T,this._targetInst=j,this.type=O,this.nativeEvent=H,this.target=Q,this.currentTarget=null;for(var le in y)y.hasOwnProperty(le)&&(T=y[le],this[le]=T?T(H):H[le]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?F1:U1,this.isPropagationStopped=U1,this}return He(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=F1)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=F1)},persist:function(){},isPersistent:F1}),v}var Cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rd=hs(Cu),sd=He({},Cu,{view:0,detail:0}),O3=hs(sd),vp,tv,bp,Bo=He({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(y!==bp&&(bp&&y.type==="mousemove"?(vp=y.screenX-bp.screenX,tv=y.screenY-bp.screenY):tv=vp=0,bp=y),vp)},movementY:function(y){return"movementY"in y?y.movementY:tv}}),I3=hs(Bo),oE=He({},Bo,{dataTransfer:0}),aE=hs(oE),P3=He({},sd,{relatedTarget:0}),V1=hs(P3),ds=He({},Cu,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=hs(ds),cE=He({},Cu,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),uE=hs(cE),hE=He({},Cu,{data:0}),R3=hs(hE),dE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D3(y){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(y):(y=pE[y])?!!v[y]:!1}function od(){return D3}var Au=He({},sd,{key:function(y){if(y.key){var v=dE[y.key]||y.key;if(v!=="Unidentified")return v}return y.type==="keypress"?(y=ku(y),y===13?"Enter":String.fromCharCode(y)):y.type==="keydown"||y.type==="keyup"?fE[y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(y){return y.type==="keypress"?ku(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?ku(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),G1=hs(Au),mE=He({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=hs(mE),N3=He({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),L3=hs(N3),wp=He({},Cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),yE=hs(wp),gE=He({},Bo,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=hs(gE),bE=He({},Cu,{newState:0,oldState:0}),wE=hs(bE),xE=[9,13,27,32],xp=tn&&"CompositionEvent"in window,Sp=null;tn&&"documentMode"in document&&(Sp=document.documentMode);var H1=tn&&"TextEvent"in window&&!Sp,z3=tn&&(!xp||Sp&&8<Sp&&11>=Sp),q1=" ",j3=!1;function F3(y,v){switch(y){case"keyup":return xE.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nv(y){return y=y.detail,typeof y=="object"&&"data"in y?y.data:null}var Oa=!1;function _c(y,v){switch(y){case"compositionend":return nv(v);case"keypress":return v.which!==32?null:(j3=!0,q1);case"textInput":return y=v.data,y===q1&&j3?null:y;default:return null}}function U3(y,v){if(Oa)return y==="compositionend"||!xp&&F3(y,v)?(y=nd(),j1=z1=_l=null,Oa=!1,y):null;switch(y){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return z3&&v.locale!=="ko"?null:v.data;default:return null}}var rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V3(y){var v=y&&y.nodeName&&y.nodeName.toLowerCase();return v==="input"?!!rv[y.type]:v==="textarea"}function G3(y,v,T,O){ed?$u?$u.push(O):$u=[O]:ed=O,v=$5(v,"onChange"),0<v.length&&(T=new rd("onChange","change",null,T,O),y.push({event:T,listeners:v}))}var _p=null,Ep=null;function SE(y){MN(y,0)}function B1(y){var v=ri(y);if(yr(v))return y}function H3(y,v){if(y==="change")return v}var q3=!1;if(tn){var sv;if(tn){var ov="oninput"in document;if(!ov){var z=document.createElement("div");z.setAttribute("oninput","return;"),ov=typeof z.oninput=="function"}sv=ov}else sv=!1;q3=sv&&(!document.documentMode||9<document.documentMode)}function D(){_p&&(_p.detachEvent("onpropertychange",G),Ep=_p=null)}function G(y){if(y.propertyName==="value"&&B1(Ep)){var v=[];G3(v,Ep,y,yp(y)),A3(SE,v)}}function W(y,v,T){y==="focusin"?(D(),_p=v,Ep=T,_p.attachEvent("onpropertychange",G)):y==="focusout"&&D()}function J(y){if(y==="selectionchange"||y==="keyup"||y==="keydown")return B1(Ep)}function ee(y,v){if(y==="click")return B1(v)}function se(y,v){if(y==="input"||y==="change")return B1(v)}function ae(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var de=typeof Object.is=="function"?Object.is:ae;function Ee(y,v){if(de(y,v))return!0;if(typeof y!="object"||y===null||typeof v!="object"||v===null)return!1;var T=Object.keys(y),O=Object.keys(v);if(T.length!==O.length)return!1;for(O=0;O<T.length;O++){var j=T[O];if(!xc.call(v,j)||!de(y[j],v[j]))return!1}return!0}function me(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function Oe(y,v){var T=me(y);y=0;for(var O;T;){if(T.nodeType===3){if(O=y+T.textContent.length,y<=v&&O>=v)return{node:T,offset:v-y};y=O}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=me(T)}}function Be(y,v){return y&&v?y===v?!0:y&&y.nodeType===3?!1:v&&v.nodeType===3?Be(y,v.parentNode):"contains"in y?y.contains(v):y.compareDocumentPosition?!!(y.compareDocumentPosition(v)&16):!1:!1}function ut(y){y=y!=null&&y.ownerDocument!=null&&y.ownerDocument.defaultView!=null?y.ownerDocument.defaultView:window;for(var v=Tu(y.document);v instanceof y.HTMLIFrameElement;){try{var T=typeof v.contentWindow.location.href=="string"}catch{T=!1}if(T)y=v.contentWindow;else break;v=Tu(y.document)}return v}function at(y){var v=y&&y.nodeName&&y.nodeName.toLowerCase();return v&&(v==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||v==="textarea"||y.contentEditable==="true")}function yt(y,v){var T=ut(v);v=y.focusedElem;var O=y.selectionRange;if(T!==v&&v&&v.ownerDocument&&Be(v.ownerDocument.documentElement,v)){if(O!==null&&at(v)){if(y=O.start,T=O.end,T===void 0&&(T=y),"selectionStart"in v)v.selectionStart=y,v.selectionEnd=Math.min(T,v.value.length);else if(T=(y=v.ownerDocument||document)&&y.defaultView||window,T.getSelection){T=T.getSelection();var j=v.textContent.length,H=Math.min(O.start,j);O=O.end===void 0?H:Math.min(O.end,j),!T.extend&&H>O&&(j=O,O=H,H=j),j=Oe(v,H);var Q=Oe(v,O);j&&Q&&(T.rangeCount!==1||T.anchorNode!==j.node||T.anchorOffset!==j.offset||T.focusNode!==Q.node||T.focusOffset!==Q.offset)&&(y=y.createRange(),y.setStart(j.node,j.offset),T.removeAllRanges(),H>O?(T.addRange(y),T.extend(Q.node,Q.offset)):(y.setEnd(Q.node,Q.offset),T.addRange(y)))}}for(y=[],T=v;T=T.parentNode;)T.nodeType===1&&y.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<y.length;v++)T=y[v],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}var Et=tn&&"documentMode"in document&&11>=document.documentMode,St=null,Nt=null,ti=null,yi=!1;function Jt(y,v,T){var O=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;yi||St==null||St!==Tu(O)||(O=St,"selectionStart"in O&&at(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),ti&&Ee(ti,O)||(ti=O,O=$5(Nt,"onSelect"),0<O.length&&(v=new rd("onSelect","select",null,v,T),y.push({event:v,listeners:O}),v.target=St)))}function Qt(y,v){var T={};return T[y.toLowerCase()]=v.toLowerCase(),T["Webkit"+y]="webkit"+v,T["Moz"+y]="moz"+v,T}var Qn={animationend:Qt("Animation","AnimationEnd"),animationiteration:Qt("Animation","AnimationIteration"),animationstart:Qt("Animation","AnimationStart"),transitionrun:Qt("Transition","TransitionRun"),transitionstart:Qt("Transition","TransitionStart"),transitioncancel:Qt("Transition","TransitionCancel"),transitionend:Qt("Transition","TransitionEnd")},cn={},As={};tn&&(As=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function Or(y){if(cn[y])return cn[y];if(!Qn[y])return y;var v=Qn[y],T;for(T in v)if(v.hasOwnProperty(T)&&T in As)return cn[y]=v[T];return y}var Ia=Or("animationend"),Tp=Or("animationiteration"),ad=Or("animationstart"),ise=Or("transitionrun"),nse=Or("transitionstart"),rse=Or("transitioncancel"),mR=Or("transitionend"),yR=new Map,gR="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function El(y,v){yR.set(y,v),zn(v,[y])}var Pa=[],W1=0,_E=0;function B3(){for(var y=W1,v=_E=W1=0;v<y;){var T=Pa[v];Pa[v++]=null;var O=Pa[v];Pa[v++]=null;var j=Pa[v];Pa[v++]=null;var H=Pa[v];if(Pa[v++]=null,O!==null&&j!==null){var Q=O.pending;Q===null?j.next=j:(j.next=Q.next,Q.next=j),O.pending=j}H!==0&&vR(T,j,H)}}function W3(y,v,T,O){Pa[W1++]=y,Pa[W1++]=v,Pa[W1++]=T,Pa[W1++]=O,_E|=O,y.lanes|=O,y=y.alternate,y!==null&&(y.lanes|=O)}function EE(y,v,T,O){return W3(y,v,T,O),J3(y)}function ld(y,v){return W3(y,null,null,v),J3(y)}function vR(y,v,T){y.lanes|=T;var O=y.alternate;O!==null&&(O.lanes|=T);for(var j=!1,H=y.return;H!==null;)H.childLanes|=T,O=H.alternate,O!==null&&(O.childLanes|=T),H.tag===22&&(y=H.stateNode,y===null||y._visibility&1||(j=!0)),y=H,H=H.return;j&&v!==null&&y.tag===3&&(H=y.stateNode,j=31-o(T),H=H.hiddenUpdates,y=H[j],y===null?H[j]=[v]:y.push(v),v.lane=T|536870912)}function J3(y){if(50<Ov)throw Ov=0,A7=null,Error(n(185));for(var v=y.return;v!==null;)y=v,v=y.return;return y.tag===3?y.stateNode:null}var J1={},bR=new WeakMap;function Ra(y,v){if(typeof y=="object"&&y!==null){var T=bR.get(y);return T!==void 0?T:(v={value:y,source:v,stack:lt(v)},bR.set(y,v),v)}return{value:y,source:v,stack:lt(v)}}var Z1=[],Y1=0,Z3=null,Y3=0,Da=[],Na=0,Mp=null,Ou=1,Iu="";function $p(y,v){Z1[Y1++]=Y3,Z1[Y1++]=Z3,Z3=y,Y3=v}function wR(y,v,T){Da[Na++]=Ou,Da[Na++]=Iu,Da[Na++]=Mp,Mp=y;var O=Ou;y=Iu;var j=32-o(O)-1;O&=~(1<<j),T+=1;var H=32-o(v)+j;if(30<H){var Q=j-j%5;H=(O&(1<<Q)-1).toString(32),O>>=Q,j-=Q,Ou=1<<32-o(v)+j|T<<j|O,Iu=H+y}else Ou=1<<H|T<<j|O,Iu=y}function TE(y){y.return!==null&&($p(y,1),wR(y,1,0))}function ME(y){for(;y===Z3;)Z3=Z1[--Y1],Z1[Y1]=null,Y3=Z1[--Y1],Z1[Y1]=null;for(;y===Mp;)Mp=Da[--Na],Da[Na]=null,Iu=Da[--Na],Da[Na]=null,Ou=Da[--Na],Da[Na]=null}var to=null,fs=null,Ui=!1,Tl=null,Ec=!1,$E=Error(n(519));function kp(y){var v=Error(n(418,""));throw cv(Ra(v,y)),$E}function xR(y){var v=y.stateNode,T=y.type,O=y.memoizedProps;switch(v[Pe]=y,v[qe]=O,T){case"dialog":Oi("cancel",v),Oi("close",v);break;case"iframe":case"object":case"embed":Oi("load",v);break;case"video":case"audio":for(T=0;T<Pv.length;T++)Oi(Pv[T],v);break;case"source":Oi("error",v);break;case"img":case"image":case"link":Oi("error",v),Oi("load",v);break;case"details":Oi("toggle",v);break;case"input":Oi("invalid",v),Sl(v,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0),En(v);break;case"select":Oi("invalid",v);break;case"textarea":Oi("invalid",v),Kg(v,O.value,O.defaultValue,O.children),En(v)}T=O.children,typeof T!="string"&&typeof T!="number"&&typeof T!="bigint"||v.textContent===""+T||O.suppressHydrationWarning===!0||AN(v.textContent,T)?(O.popover!=null&&(Oi("beforetoggle",v),Oi("toggle",v)),O.onScroll!=null&&Oi("scroll",v),O.onScrollEnd!=null&&Oi("scrollend",v),O.onClick!=null&&(v.onclick=k5),v=!0):v=!1,v||kp(y)}function SR(y){for(to=y.return;to;)switch(to.tag){case 3:case 27:Ec=!0;return;case 5:case 13:Ec=!1;return;default:to=to.return}}function av(y){if(y!==to)return!1;if(!Ui)return SR(y),Ui=!0,!1;var v=!1,T;if((T=y.tag!==3&&y.tag!==27)&&((T=y.tag===5)&&(T=y.type,T=!(T!=="form"&&T!=="button")||W7(y.type,y.memoizedProps)),T=!T),T&&(v=!0),v&&fs&&kp(y),SR(y),y.tag===13){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));e:{for(y=y.nextSibling,v=0;y;){if(y.nodeType===8)if(T=y.data,T==="/$"){if(v===0){fs=$l(y.nextSibling);break e}v--}else T!=="$"&&T!=="$!"&&T!=="$?"||v++;y=y.nextSibling}fs=null}}else fs=to?$l(y.stateNode.nextSibling):null;return!0}function lv(){fs=to=null,Ui=!1}function cv(y){Tl===null?Tl=[y]:Tl.push(y)}var uv=Error(n(460)),_R=Error(n(474)),kE={then:function(){}};function ER(y){return y=y.status,y==="fulfilled"||y==="rejected"}function K3(){}function TR(y,v,T){switch(T=y[T],T===void 0?y.push(v):T!==v&&(v.then(K3,K3),v=T),v.status){case"fulfilled":return v.value;case"rejected":throw y=v.reason,y===uv?Error(n(483)):y;default:if(typeof v.status=="string")v.then(K3,K3);else{if(y=Tn,y!==null&&100<y.shellSuspendCounter)throw Error(n(482));y=v,y.status="pending",y.then(function(O){if(v.status==="pending"){var j=v;j.status="fulfilled",j.value=O}},function(O){if(v.status==="pending"){var j=v;j.status="rejected",j.reason=O}})}switch(v.status){case"fulfilled":return v.value;case"rejected":throw y=v.reason,y===uv?Error(n(483)):y}throw hv=v,uv}}var hv=null;function MR(){if(hv===null)throw Error(n(459));var y=hv;return hv=null,y}var K1=null,dv=0;function X3(y){var v=dv;return dv+=1,K1===null&&(K1=[]),TR(K1,y,v)}function fv(y,v){v=v.props.ref,y.ref=v!==void 0?v:null}function Q3(y,v){throw v.$$typeof===u?Error(n(525)):(y=Object.prototype.toString.call(v),Error(n(31,y==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":y)))}function $R(y){var v=y._init;return v(y._payload)}function kR(y){function v(Re,$e){if(y){var Ne=Re.deletions;Ne===null?(Re.deletions=[$e],Re.flags|=16):Ne.push($e)}}function T(Re,$e){if(!y)return null;for(;$e!==null;)v(Re,$e),$e=$e.sibling;return null}function O(Re){for(var $e=new Map;Re!==null;)Re.key!==null?$e.set(Re.key,Re):$e.set(Re.index,Re),Re=Re.sibling;return $e}function j(Re,$e){return Re=wd(Re,$e),Re.index=0,Re.sibling=null,Re}function H(Re,$e,Ne){return Re.index=Ne,y?(Ne=Re.alternate,Ne!==null?(Ne=Ne.index,Ne<$e?(Re.flags|=33554434,$e):Ne):(Re.flags|=33554434,$e)):(Re.flags|=1048576,$e)}function Q(Re){return y&&Re.alternate===null&&(Re.flags|=33554434),Re}function le(Re,$e,Ne,it){return $e===null||$e.tag!==6?($e=S7(Ne,Re.mode,it),$e.return=Re,$e):($e=j($e,Ne),$e.return=Re,$e)}function ve(Re,$e,Ne,it){var Pt=Ne.type;return Pt===w?Ke(Re,$e,Ne.props.children,it,Ne.key):$e!==null&&($e.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===ce&&$R(Pt)===$e.type)?($e=j($e,Ne.props),fv($e,Ne),$e.return=Re,$e):($e=g5(Ne.type,Ne.key,Ne.props,null,Re.mode,it),fv($e,Ne),$e.return=Re,$e)}function Ae(Re,$e,Ne,it){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==Ne.containerInfo||$e.stateNode.implementation!==Ne.implementation?($e=_7(Ne,Re.mode,it),$e.return=Re,$e):($e=j($e,Ne.children||[]),$e.return=Re,$e)}function Ke(Re,$e,Ne,it,Pt){return $e===null||$e.tag!==7?($e=zp(Ne,Re.mode,it,Pt),$e.return=Re,$e):($e=j($e,Ne),$e.return=Re,$e)}function ct(Re,$e,Ne){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return $e=S7(""+$e,Re.mode,Ne),$e.return=Re,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:return Ne=g5($e.type,$e.key,$e.props,null,Re.mode,Ne),fv(Ne,$e),Ne.return=Re,Ne;case g:return $e=_7($e,Re.mode,Ne),$e.return=Re,$e;case ce:var it=$e._init;return $e=it($e._payload),ct(Re,$e,Ne)}if(Mt($e)||xe($e))return $e=zp($e,Re.mode,Ne,null),$e.return=Re,$e;if(typeof $e.then=="function")return ct(Re,X3($e),Ne);if($e.$$typeof===F)return ct(Re,p5(Re,$e),Ne);Q3(Re,$e)}return null}function Le(Re,$e,Ne,it){var Pt=$e!==null?$e.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Pt!==null?null:le(Re,$e,""+Ne,it);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case p:return Ne.key===Pt?ve(Re,$e,Ne,it):null;case g:return Ne.key===Pt?Ae(Re,$e,Ne,it):null;case ce:return Pt=Ne._init,Ne=Pt(Ne._payload),Le(Re,$e,Ne,it)}if(Mt(Ne)||xe(Ne))return Pt!==null?null:Ke(Re,$e,Ne,it,null);if(typeof Ne.then=="function")return Le(Re,$e,X3(Ne),it);if(Ne.$$typeof===F)return Le(Re,$e,p5(Re,Ne),it);Q3(Re,Ne)}return null}function Ye(Re,$e,Ne,it,Pt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Re=Re.get(Ne)||null,le($e,Re,""+it,Pt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case p:return Re=Re.get(it.key===null?Ne:it.key)||null,ve($e,Re,it,Pt);case g:return Re=Re.get(it.key===null?Ne:it.key)||null,Ae($e,Re,it,Pt);case ce:var Si=it._init;return it=Si(it._payload),Ye(Re,$e,Ne,it,Pt)}if(Mt(it)||xe(it))return Re=Re.get(Ne)||null,Ke($e,Re,it,Pt,null);if(typeof it.then=="function")return Ye(Re,$e,Ne,X3(it),Pt);if(it.$$typeof===F)return Ye(Re,$e,Ne,p5($e,it),Pt);Q3($e,it)}return null}function Ft(Re,$e,Ne,it){for(var Pt=null,Si=null,qt=$e,Xt=$e=0,Jr=null;qt!==null&&Xt<Ne.length;Xt++){qt.index>Xt?(Jr=qt,qt=null):Jr=qt.sibling;var Vi=Le(Re,qt,Ne[Xt],it);if(Vi===null){qt===null&&(qt=Jr);break}y&&qt&&Vi.alternate===null&&v(Re,qt),$e=H(Vi,$e,Xt),Si===null?Pt=Vi:Si.sibling=Vi,Si=Vi,qt=Jr}if(Xt===Ne.length)return T(Re,qt),Ui&&$p(Re,Xt),Pt;if(qt===null){for(;Xt<Ne.length;Xt++)qt=ct(Re,Ne[Xt],it),qt!==null&&($e=H(qt,$e,Xt),Si===null?Pt=qt:Si.sibling=qt,Si=qt);return Ui&&$p(Re,Xt),Pt}for(qt=O(qt);Xt<Ne.length;Xt++)Jr=Ye(qt,Re,Xt,Ne[Xt],it),Jr!==null&&(y&&Jr.alternate!==null&&qt.delete(Jr.key===null?Xt:Jr.key),$e=H(Jr,$e,Xt),Si===null?Pt=Jr:Si.sibling=Jr,Si=Jr);return y&&qt.forEach(function($d){return v(Re,$d)}),Ui&&$p(Re,Xt),Pt}function ui(Re,$e,Ne,it){if(Ne==null)throw Error(n(151));for(var Pt=null,Si=null,qt=$e,Xt=$e=0,Jr=null,Vi=Ne.next();qt!==null&&!Vi.done;Xt++,Vi=Ne.next()){qt.index>Xt?(Jr=qt,qt=null):Jr=qt.sibling;var $d=Le(Re,qt,Vi.value,it);if($d===null){qt===null&&(qt=Jr);break}y&&qt&&$d.alternate===null&&v(Re,qt),$e=H($d,$e,Xt),Si===null?Pt=$d:Si.sibling=$d,Si=$d,qt=Jr}if(Vi.done)return T(Re,qt),Ui&&$p(Re,Xt),Pt;if(qt===null){for(;!Vi.done;Xt++,Vi=Ne.next())Vi=ct(Re,Vi.value,it),Vi!==null&&($e=H(Vi,$e,Xt),Si===null?Pt=Vi:Si.sibling=Vi,Si=Vi);return Ui&&$p(Re,Xt),Pt}for(qt=O(qt);!Vi.done;Xt++,Vi=Ne.next())Vi=Ye(qt,Re,Xt,Vi.value,it),Vi!==null&&(y&&Vi.alternate!==null&&qt.delete(Vi.key===null?Xt:Vi.key),$e=H(Vi,$e,Xt),Si===null?Pt=Vi:Si.sibling=Vi,Si=Vi);return y&&qt.forEach(function(voe){return v(Re,voe)}),Ui&&$p(Re,Xt),Pt}function ir(Re,$e,Ne,it){if(typeof Ne=="object"&&Ne!==null&&Ne.type===w&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case p:e:{for(var Pt=Ne.key;$e!==null;){if($e.key===Pt){if(Pt=Ne.type,Pt===w){if($e.tag===7){T(Re,$e.sibling),it=j($e,Ne.props.children),it.return=Re,Re=it;break e}}else if($e.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===ce&&$R(Pt)===$e.type){T(Re,$e.sibling),it=j($e,Ne.props),fv(it,Ne),it.return=Re,Re=it;break e}T(Re,$e);break}else v(Re,$e);$e=$e.sibling}Ne.type===w?(it=zp(Ne.props.children,Re.mode,it,Ne.key),it.return=Re,Re=it):(it=g5(Ne.type,Ne.key,Ne.props,null,Re.mode,it),fv(it,Ne),it.return=Re,Re=it)}return Q(Re);case g:e:{for(Pt=Ne.key;$e!==null;){if($e.key===Pt)if($e.tag===4&&$e.stateNode.containerInfo===Ne.containerInfo&&$e.stateNode.implementation===Ne.implementation){T(Re,$e.sibling),it=j($e,Ne.children||[]),it.return=Re,Re=it;break e}else{T(Re,$e);break}else v(Re,$e);$e=$e.sibling}it=_7(Ne,Re.mode,it),it.return=Re,Re=it}return Q(Re);case ce:return Pt=Ne._init,Ne=Pt(Ne._payload),ir(Re,$e,Ne,it)}if(Mt(Ne))return Ft(Re,$e,Ne,it);if(xe(Ne)){if(Pt=xe(Ne),typeof Pt!="function")throw Error(n(150));return Ne=Pt.call(Ne),ui(Re,$e,Ne,it)}if(typeof Ne.then=="function")return ir(Re,$e,X3(Ne),it);if(Ne.$$typeof===F)return ir(Re,$e,p5(Re,Ne),it);Q3(Re,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,$e!==null&&$e.tag===6?(T(Re,$e.sibling),it=j($e,Ne),it.return=Re,Re=it):(T(Re,$e),it=S7(Ne,Re.mode,it),it.return=Re,Re=it),Q(Re)):T(Re,$e)}return function(Re,$e,Ne,it){try{dv=0;var Pt=ir(Re,$e,Ne,it);return K1=null,Pt}catch(qt){if(qt===uv)throw qt;var Si=Fa(29,qt,null,Re.mode);return Si.lanes=it,Si.return=Re,Si}finally{}}}var Cp=kR(!0),CR=kR(!1),X1=hi(null),e5=hi(0);function AR(y,v){y=Gu,Ji(e5,y),Ji(X1,v),Gu=y|v.baseLanes}function CE(){Ji(e5,Gu),Ji(X1,X1.current)}function AE(){Gu=e5.current,wt(X1),wt(e5)}var La=hi(null),Tc=null;function cd(y){var v=y.alternate;Ji(Ir,Ir.current&1),Ji(La,y),Tc===null&&(v===null||X1.current!==null||v.memoizedState!==null)&&(Tc=y)}function OR(y){if(y.tag===22){if(Ji(Ir,Ir.current),Ji(La,y),Tc===null){var v=y.alternate;v!==null&&v.memoizedState!==null&&(Tc=y)}}else ud()}function ud(){Ji(Ir,Ir.current),Ji(La,La.current)}function Pu(y){wt(La),Tc===y&&(Tc=null),wt(Ir)}var Ir=hi(0);function t5(y){for(var v=y;v!==null;){if(v.tag===13){var T=v.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===y)break;for(;v.sibling===null;){if(v.return===null||v.return===y)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var sse=typeof AbortController<"u"?AbortController:function(){var y=[],v=this.signal={aborted:!1,addEventListener:function(T,O){y.push(O)}};this.abort=function(){v.aborted=!0,y.forEach(function(T){return T()})}},ose=e.unstable_scheduleCallback,ase=e.unstable_NormalPriority,Pr={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function OE(){return{controller:new sse,data:new Map,refCount:0}}function pv(y){y.refCount--,y.refCount===0&&ose(ase,function(){y.controller.abort()})}var mv=null,IE=0,Q1=0,em=null;function lse(y,v){if(mv===null){var T=mv=[];IE=0,Q1=z7(),em={status:"pending",value:void 0,then:function(O){T.push(O)}}}return IE++,v.then(IR,IR),v}function IR(){if(--IE===0&&mv!==null){em!==null&&(em.status="fulfilled");var y=mv;mv=null,Q1=0,em=null;for(var v=0;v<y.length;v++)(0,y[v])()}}function cse(y,v){var T=[],O={status:"pending",value:null,reason:null,then:function(j){T.push(j)}};return y.then(function(){O.status="fulfilled",O.value=v;for(var j=0;j<T.length;j++)(0,T[j])(v)},function(j){for(O.status="rejected",O.reason=j,j=0;j<T.length;j++)(0,T[j])(void 0)}),O}var PR=Fe.S;Fe.S=function(y,v){typeof v=="object"&&v!==null&&typeof v.then=="function"&&lse(y,v),PR!==null&&PR(y,v)};var Ap=hi(null);function PE(){var y=Ap.current;return y!==null?y:Tn.pooledCache}function i5(y,v){v===null?Ji(Ap,Ap.current):Ji(Ap,v.pool)}function RR(){var y=PE();return y===null?null:{parent:Pr._currentValue,pool:y}}var hd=0,bi=null,un=null,gr=null,n5=!1,tm=!1,Op=!1,r5=0,yv=0,im=null,use=0;function ur(){throw Error(n(321))}function RE(y,v){if(v===null)return!1;for(var T=0;T<v.length&&T<y.length;T++)if(!de(y[T],v[T]))return!1;return!0}function DE(y,v,T,O,j,H){return hd=H,bi=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Fe.H=y===null||y.memoizedState===null?Ip:dd,Op=!1,H=T(O,j),Op=!1,tm&&(H=NR(v,T,O,j)),DR(y),H}function DR(y){Fe.H=Mc;var v=un!==null&&un.next!==null;if(hd=0,gr=un=bi=null,n5=!1,yv=0,im=null,v)throw Error(n(300));y===null||Br||(y=y.dependencies,y!==null&&f5(y)&&(Br=!0))}function NR(y,v,T,O){bi=y;var j=0;do{if(tm&&(im=null),yv=0,tm=!1,25<=j)throw Error(n(301));if(j+=1,gr=un=null,y.updateQueue!=null){var H=y.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}Fe.H=Pp,H=v(T,O)}while(tm);return H}function hse(){var y=Fe.H,v=y.useState()[0];return v=typeof v.then=="function"?gv(v):v,y=y.useState()[0],(un!==null?un.memoizedState:null)!==y&&(bi.flags|=1024),v}function NE(){var y=r5!==0;return r5=0,y}function LE(y,v,T){v.updateQueue=y.updateQueue,v.flags&=-2053,y.lanes&=~T}function zE(y){if(n5){for(y=y.memoizedState;y!==null;){var v=y.queue;v!==null&&(v.pending=null),y=y.next}n5=!1}hd=0,gr=un=bi=null,tm=!1,yv=r5=0,im=null}function So(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?bi.memoizedState=gr=y:gr=gr.next=y,gr}function vr(){if(un===null){var y=bi.alternate;y=y!==null?y.memoizedState:null}else y=un.next;var v=gr===null?bi.memoizedState:gr.next;if(v!==null)gr=v,un=y;else{if(y===null)throw bi.alternate===null?Error(n(467)):Error(n(310));un=y,y={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},gr===null?bi.memoizedState=gr=y:gr=gr.next=y}return gr}var s5;s5=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gv(y){var v=yv;return yv+=1,im===null&&(im=[]),y=TR(im,y,v),v=bi,(gr===null?v.memoizedState:gr.next)===null&&(v=v.alternate,Fe.H=v===null||v.memoizedState===null?Ip:dd),y}function o5(y){if(y!==null&&typeof y=="object"){if(typeof y.then=="function")return gv(y);if(y.$$typeof===F)return Os(y)}throw Error(n(438,String(y)))}function jE(y){var v=null,T=bi.updateQueue;if(T!==null&&(v=T.memoCache),v==null){var O=bi.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(v={data:O.data.map(function(j){return j.slice()}),index:0})))}if(v==null&&(v={data:[],index:0}),T===null&&(T=s5(),bi.updateQueue=T),T.memoCache=v,T=v.data[v.index],T===void 0)for(T=v.data[v.index]=Array(y),O=0;O<y;O++)T[O]=_e;return v.index++,T}function Ru(y,v){return typeof v=="function"?v(y):v}function a5(y){var v=vr();return FE(v,un,y)}function FE(y,v,T){var O=y.queue;if(O===null)throw Error(n(311));O.lastRenderedReducer=T;var j=y.baseQueue,H=O.pending;if(H!==null){if(j!==null){var Q=j.next;j.next=H.next,H.next=Q}v.baseQueue=j=H,O.pending=null}if(H=y.baseState,j===null)y.memoizedState=H;else{v=j.next;var le=Q=null,ve=null,Ae=v,Ke=!1;do{var ct=Ae.lane&-536870913;if(ct!==Ae.lane?(Ri&ct)===ct:(hd&ct)===ct){var Le=Ae.revertLane;if(Le===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),ct===Q1&&(Ke=!0);else if((hd&Le)===Le){Ae=Ae.next,Le===Q1&&(Ke=!0);continue}else ct={lane:0,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ve===null?(le=ve=ct,Q=H):ve=ve.next=ct,bi.lanes|=Le,xd|=Le;ct=Ae.action,Op&&T(H,ct),H=Ae.hasEagerState?Ae.eagerState:T(H,ct)}else Le={lane:ct,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},ve===null?(le=ve=Le,Q=H):ve=ve.next=Le,bi.lanes|=ct,xd|=ct;Ae=Ae.next}while(Ae!==null&&Ae!==v);if(ve===null?Q=H:ve.next=le,!de(H,y.memoizedState)&&(Br=!0,Ke&&(T=em,T!==null)))throw T;y.memoizedState=H,y.baseState=Q,y.baseQueue=ve,O.lastRenderedState=H}return j===null&&(O.lanes=0),[y.memoizedState,O.dispatch]}function UE(y){var v=vr(),T=v.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=y;var O=T.dispatch,j=T.pending,H=v.memoizedState;if(j!==null){T.pending=null;var Q=j=j.next;do H=y(H,Q.action),Q=Q.next;while(Q!==j);de(H,v.memoizedState)||(Br=!0),v.memoizedState=H,v.baseQueue===null&&(v.baseState=H),T.lastRenderedState=H}return[H,O]}function LR(y,v,T){var O=bi,j=vr(),H=Ui;if(H){if(T===void 0)throw Error(n(407));T=T()}else T=v();var Q=!de((un||j).memoizedState,T);if(Q&&(j.memoizedState=T,Br=!0),j=j.queue,HE(FR.bind(null,O,j,y),[y]),j.getSnapshot!==v||Q||gr!==null&&gr.memoizedState.tag&1){if(O.flags|=2048,nm(9,jR.bind(null,O,j,T,v),{destroy:void 0},null),Tn===null)throw Error(n(349));H||(hd&60)!==0||zR(O,v,T)}return T}function zR(y,v,T){y.flags|=16384,y={getSnapshot:v,value:T},v=bi.updateQueue,v===null?(v=s5(),bi.updateQueue=v,v.stores=[y]):(T=v.stores,T===null?v.stores=[y]:T.push(y))}function jR(y,v,T,O){v.value=T,v.getSnapshot=O,UR(v)&&VR(y)}function FR(y,v,T){return T(function(){UR(v)&&VR(y)})}function UR(y){var v=y.getSnapshot;y=y.value;try{var T=v();return!de(y,T)}catch{return!0}}function VR(y){var v=ld(y,2);v!==null&&io(v,y,2)}function VE(y){var v=So();if(typeof y=="function"){var T=y;if(y=T(),Op){r(!0);try{T()}finally{r(!1)}}}return v.memoizedState=v.baseState=y,v.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:y},v}function GR(y,v,T,O){return y.baseState=T,FE(y,un,typeof O=="function"?O:Ru)}function dse(y,v,T,O,j){if(u5(y))throw Error(n(485));if(y=v.action,y!==null){var H={payload:j,action:y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){H.listeners.push(Q)}};Fe.T!==null?T(!0):H.isTransition=!1,O(H),T=v.pending,T===null?(H.next=v.pending=H,HR(v,H)):(H.next=T.next,v.pending=T.next=H)}}function HR(y,v){var T=v.action,O=v.payload,j=y.state;if(v.isTransition){var H=Fe.T,Q={};Fe.T=Q;try{var le=T(j,O),ve=Fe.S;ve!==null&&ve(Q,le),qR(y,v,le)}catch(Ae){GE(y,v,Ae)}finally{Fe.T=H}}else try{H=T(j,O),qR(y,v,H)}catch(Ae){GE(y,v,Ae)}}function qR(y,v,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(O){BR(y,v,O)},function(O){return GE(y,v,O)}):BR(y,v,T)}function BR(y,v,T){v.status="fulfilled",v.value=T,WR(v),y.state=T,v=y.pending,v!==null&&(T=v.next,T===v?y.pending=null:(T=T.next,v.next=T,HR(y,T)))}function GE(y,v,T){var O=y.pending;if(y.pending=null,O!==null){O=O.next;do v.status="rejected",v.reason=T,WR(v),v=v.next;while(v!==O)}y.action=null}function WR(y){y=y.listeners;for(var v=0;v<y.length;v++)(0,y[v])()}function JR(y,v){return v}function ZR(y,v){if(Ui){var T=Tn.formState;if(T!==null){e:{var O=bi;if(Ui){if(fs){t:{for(var j=fs,H=Ec;j.nodeType!==8;){if(!H){j=null;break t}if(j=$l(j.nextSibling),j===null){j=null;break t}}H=j.data,j=H==="F!"||H==="F"?j:null}if(j){fs=$l(j.nextSibling),O=j.data==="F!";break e}}kp(O)}O=!1}O&&(v=T[0])}}return T=So(),T.memoizedState=T.baseState=v,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JR,lastRenderedState:v},T.queue=O,T=fD.bind(null,bi,O),O.dispatch=T,O=VE(!1),H=ZE.bind(null,bi,!1,O.queue),O=So(),j={state:v,dispatch:null,action:y,pending:null},O.queue=j,T=dse.bind(null,bi,j,H,T),j.dispatch=T,O.memoizedState=y,[v,T,!1]}function YR(y){var v=vr();return KR(v,un,y)}function KR(y,v,T){v=FE(y,v,JR)[0],y=a5(Ru)[0],v=typeof v=="object"&&v!==null&&typeof v.then=="function"?gv(v):v;var O=vr(),j=O.queue,H=j.dispatch;return T!==O.memoizedState&&(bi.flags|=2048,nm(9,fse.bind(null,j,T),{destroy:void 0},null)),[v,H,y]}function fse(y,v){y.action=v}function XR(y){var v=vr(),T=un;if(T!==null)return KR(v,T,y);vr(),v=v.memoizedState,T=vr();var O=T.queue.dispatch;return T.memoizedState=y,[v,O,!1]}function nm(y,v,T,O){return y={tag:y,create:v,inst:T,deps:O,next:null},v=bi.updateQueue,v===null&&(v=s5(),bi.updateQueue=v),T=v.lastEffect,T===null?v.lastEffect=y.next=y:(O=T.next,T.next=y,y.next=O,v.lastEffect=y),y}function QR(){return vr().memoizedState}function l5(y,v,T,O){var j=So();bi.flags|=y,j.memoizedState=nm(1|v,T,{destroy:void 0},O===void 0?null:O)}function c5(y,v,T,O){var j=vr();O=O===void 0?null:O;var H=j.memoizedState.inst;un!==null&&O!==null&&RE(O,un.memoizedState.deps)?j.memoizedState=nm(v,T,H,O):(bi.flags|=y,j.memoizedState=nm(1|v,T,H,O))}function eD(y,v){l5(8390656,8,y,v)}function HE(y,v){c5(2048,8,y,v)}function tD(y,v){return c5(4,2,y,v)}function iD(y,v){return c5(4,4,y,v)}function nD(y,v){if(typeof v=="function"){y=y();var T=v(y);return function(){typeof T=="function"?T():v(null)}}if(v!=null)return y=y(),v.current=y,function(){v.current=null}}function rD(y,v,T){T=T!=null?T.concat([y]):null,c5(4,4,nD.bind(null,v,y),T)}function qE(){}function sD(y,v){var T=vr();v=v===void 0?null:v;var O=T.memoizedState;return v!==null&&RE(v,O[1])?O[0]:(T.memoizedState=[y,v],y)}function oD(y,v){var T=vr();v=v===void 0?null:v;var O=T.memoizedState;if(v!==null&&RE(v,O[1]))return O[0];if(O=y(),Op){r(!0);try{y()}finally{r(!1)}}return T.memoizedState=[O,v],O}function BE(y,v,T){return T===void 0||(hd&1073741824)!==0?y.memoizedState=v:(y.memoizedState=T,y=lN(),bi.lanes|=y,xd|=y,T)}function aD(y,v,T,O){return de(T,v)?T:X1.current!==null?(y=BE(y,T,O),de(y,v)||(Br=!0),y):(hd&42)===0?(Br=!0,y.memoizedState=T):(y=lN(),bi.lanes|=y,xd|=y,v)}function lD(y,v,T,O,j){var H=bt.p;bt.p=H!==0&&8>H?H:8;var Q=Fe.T,le={};Fe.T=le,ZE(y,!1,v,T);try{var ve=j(),Ae=Fe.S;if(Ae!==null&&Ae(le,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ke=cse(ve,O);vv(y,v,Ke,Yo(y))}else vv(y,v,O,Yo(y))}catch(ct){vv(y,v,{then:function(){},status:"rejected",reason:ct},Yo())}finally{bt.p=H,Fe.T=Q}}function pse(){}function WE(y,v,T,O){if(y.tag!==5)throw Error(n(476));var j=cD(y).queue;lD(y,j,v,Yt,T===null?pse:function(){return uD(y),T(O)})}function cD(y){var v=y.memoizedState;if(v!==null)return v;v={memoizedState:Yt,baseState:Yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:Yt},next:null};var T={};return v.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:T},next:null},y.memoizedState=v,y=y.alternate,y!==null&&(y.memoizedState=v),v}function uD(y){var v=cD(y).next.queue;vv(y,v,{},Yo())}function JE(){return Os(zv)}function hD(){return vr().memoizedState}function dD(){return vr().memoizedState}function mse(y){for(var v=y.return;v!==null;){switch(v.tag){case 24:case 3:var T=Yo();y=md(T);var O=yd(v,y,T);O!==null&&(io(O,v,T),xv(O,v,T)),v={cache:OE()},y.payload=v;return}v=v.return}}function yse(y,v,T){var O=Yo();T={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},u5(y)?pD(v,T):(T=EE(y,v,T,O),T!==null&&(io(T,y,O),mD(T,v,O)))}function fD(y,v,T){var O=Yo();vv(y,v,T,O)}function vv(y,v,T,O){var j={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(u5(y))pD(v,j);else{var H=y.alternate;if(y.lanes===0&&(H===null||H.lanes===0)&&(H=v.lastRenderedReducer,H!==null))try{var Q=v.lastRenderedState,le=H(Q,T);if(j.hasEagerState=!0,j.eagerState=le,de(le,Q))return W3(y,v,j,0),Tn===null&&B3(),!1}catch{}finally{}if(T=EE(y,v,j,O),T!==null)return io(T,y,O),mD(T,v,O),!0}return!1}function ZE(y,v,T,O){if(O={lane:2,revertLane:z7(),action:O,hasEagerState:!1,eagerState:null,next:null},u5(y)){if(v)throw Error(n(479))}else v=EE(y,T,O,2),v!==null&&io(v,y,2)}function u5(y){var v=y.alternate;return y===bi||v!==null&&v===bi}function pD(y,v){tm=n5=!0;var T=y.pending;T===null?v.next=v:(v.next=T.next,T.next=v),y.pending=v}function mD(y,v,T){if((T&4194176)!==0){var O=v.lanes;O&=y.pendingLanes,T|=O,v.lanes=T,ne(y,T)}}var Mc={readContext:Os,use:o5,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur};Mc.useCacheRefresh=ur,Mc.useMemoCache=ur,Mc.useHostTransitionStatus=ur,Mc.useFormState=ur,Mc.useActionState=ur,Mc.useOptimistic=ur;var Ip={readContext:Os,use:o5,useCallback:function(y,v){return So().memoizedState=[y,v===void 0?null:v],y},useContext:Os,useEffect:eD,useImperativeHandle:function(y,v,T){T=T!=null?T.concat([y]):null,l5(4194308,4,nD.bind(null,v,y),T)},useLayoutEffect:function(y,v){return l5(4194308,4,y,v)},useInsertionEffect:function(y,v){l5(4,2,y,v)},useMemo:function(y,v){var T=So();v=v===void 0?null:v;var O=y();if(Op){r(!0);try{y()}finally{r(!1)}}return T.memoizedState=[O,v],O},useReducer:function(y,v,T){var O=So();if(T!==void 0){var j=T(v);if(Op){r(!0);try{T(v)}finally{r(!1)}}}else j=v;return O.memoizedState=O.baseState=j,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:j},O.queue=y,y=y.dispatch=yse.bind(null,bi,y),[O.memoizedState,y]},useRef:function(y){var v=So();return y={current:y},v.memoizedState=y},useState:function(y){y=VE(y);var v=y.queue,T=fD.bind(null,bi,v);return v.dispatch=T,[y.memoizedState,T]},useDebugValue:qE,useDeferredValue:function(y,v){var T=So();return BE(T,y,v)},useTransition:function(){var y=VE(!1);return y=lD.bind(null,bi,y.queue,!0,!1),So().memoizedState=y,[!1,y]},useSyncExternalStore:function(y,v,T){var O=bi,j=So();if(Ui){if(T===void 0)throw Error(n(407));T=T()}else{if(T=v(),Tn===null)throw Error(n(349));(Ri&60)!==0||zR(O,v,T)}j.memoizedState=T;var H={value:T,getSnapshot:v};return j.queue=H,eD(FR.bind(null,O,H,y),[y]),O.flags|=2048,nm(9,jR.bind(null,O,H,T,v),{destroy:void 0},null),T},useId:function(){var y=So(),v=Tn.identifierPrefix;if(Ui){var T=Iu,O=Ou;T=(O&~(1<<32-o(O)-1)).toString(32)+T,v=":"+v+"R"+T,T=r5++,0<T&&(v+="H"+T.toString(32)),v+=":"}else T=use++,v=":"+v+"r"+T.toString(32)+":";return y.memoizedState=v},useCacheRefresh:function(){return So().memoizedState=mse.bind(null,bi)}};Ip.useMemoCache=jE,Ip.useHostTransitionStatus=JE,Ip.useFormState=ZR,Ip.useActionState=ZR,Ip.useOptimistic=function(y){var v=So();v.memoizedState=v.baseState=y;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return v.queue=T,v=ZE.bind(null,bi,!0,T),T.dispatch=v,[y,v]};var dd={readContext:Os,use:o5,useCallback:sD,useContext:Os,useEffect:HE,useImperativeHandle:rD,useInsertionEffect:tD,useLayoutEffect:iD,useMemo:oD,useReducer:a5,useRef:QR,useState:function(){return a5(Ru)},useDebugValue:qE,useDeferredValue:function(y,v){var T=vr();return aD(T,un.memoizedState,y,v)},useTransition:function(){var y=a5(Ru)[0],v=vr().memoizedState;return[typeof y=="boolean"?y:gv(y),v]},useSyncExternalStore:LR,useId:hD};dd.useCacheRefresh=dD,dd.useMemoCache=jE,dd.useHostTransitionStatus=JE,dd.useFormState=YR,dd.useActionState=YR,dd.useOptimistic=function(y,v){var T=vr();return GR(T,un,y,v)};var Pp={readContext:Os,use:o5,useCallback:sD,useContext:Os,useEffect:HE,useImperativeHandle:rD,useInsertionEffect:tD,useLayoutEffect:iD,useMemo:oD,useReducer:UE,useRef:QR,useState:function(){return UE(Ru)},useDebugValue:qE,useDeferredValue:function(y,v){var T=vr();return un===null?BE(T,y,v):aD(T,un.memoizedState,y,v)},useTransition:function(){var y=UE(Ru)[0],v=vr().memoizedState;return[typeof y=="boolean"?y:gv(y),v]},useSyncExternalStore:LR,useId:hD};Pp.useCacheRefresh=dD,Pp.useMemoCache=jE,Pp.useHostTransitionStatus=JE,Pp.useFormState=XR,Pp.useActionState=XR,Pp.useOptimistic=function(y,v){var T=vr();return un!==null?GR(T,un,y,v):(T.baseState=y,[y,T.queue.dispatch])};function YE(y,v,T,O){v=y.memoizedState,T=T(O,v),T=T==null?v:He({},v,T),y.memoizedState=T,y.lanes===0&&(y.updateQueue.baseState=T)}var KE={isMounted:function(y){return(y=y._reactInternals)?st(y)===y:!1},enqueueSetState:function(y,v,T){y=y._reactInternals;var O=Yo(),j=md(O);j.payload=v,T!=null&&(j.callback=T),v=yd(y,j,O),v!==null&&(io(v,y,O),xv(v,y,O))},enqueueReplaceState:function(y,v,T){y=y._reactInternals;var O=Yo(),j=md(O);j.tag=1,j.payload=v,T!=null&&(j.callback=T),v=yd(y,j,O),v!==null&&(io(v,y,O),xv(v,y,O))},enqueueForceUpdate:function(y,v){y=y._reactInternals;var T=Yo(),O=md(T);O.tag=2,v!=null&&(O.callback=v),v=yd(y,O,T),v!==null&&(io(v,y,T),xv(v,y,T))}};function yD(y,v,T,O,j,H,Q){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(O,H,Q):v.prototype&&v.prototype.isPureReactComponent?!Ee(T,O)||!Ee(j,H):!0}function gD(y,v,T,O){y=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(T,O),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(T,O),v.state!==y&&KE.enqueueReplaceState(v,v.state,null)}function Rp(y,v){var T=v;if("ref"in v){T={};for(var O in v)O!=="ref"&&(T[O]=v[O])}if(y=y.defaultProps){T===v&&(T=He({},T));for(var j in y)T[j]===void 0&&(T[j]=y[j])}return T}var h5=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)};function vD(y){h5(y)}function bD(y){console.error(y)}function wD(y){h5(y)}function d5(y,v){try{var T=y.onUncaughtError;T(v.value,{componentStack:v.stack})}catch(O){setTimeout(function(){throw O})}}function xD(y,v,T){try{var O=y.onCaughtError;O(T.value,{componentStack:T.stack,errorBoundary:v.tag===1?v.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function XE(y,v,T){return T=md(T),T.tag=3,T.payload={element:null},T.callback=function(){d5(y,v)},T}function SD(y){return y=md(y),y.tag=3,y}function _D(y,v,T,O){var j=T.type.getDerivedStateFromError;if(typeof j=="function"){var H=O.value;y.payload=function(){return j(H)},y.callback=function(){xD(v,T,O)}}var Q=T.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(y.callback=function(){xD(v,T,O),typeof j!="function"&&(Sd===null?Sd=new Set([this]):Sd.add(this));var le=O.stack;this.componentDidCatch(O.value,{componentStack:le!==null?le:""})})}function gse(y,v,T,O,j){if(T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(v=T.alternate,v!==null&&wv(v,T,j,!0),T=La.current,T!==null){switch(T.tag){case 13:return Tc===null?P7():T.alternate===null&&tr===0&&(tr=3),T.flags&=-257,T.flags|=65536,T.lanes=j,O===kE?T.flags|=16384:(v=T.updateQueue,v===null?T.updateQueue=new Set([O]):v.add(O),D7(y,O,j)),!1;case 22:return T.flags|=65536,O===kE?T.flags|=16384:(v=T.updateQueue,v===null?(v={transitions:null,markerInstances:null,retryQueue:new Set([O])},T.updateQueue=v):(T=v.retryQueue,T===null?v.retryQueue=new Set([O]):T.add(O)),D7(y,O,j)),!1}throw Error(n(435,T.tag))}return D7(y,O,j),P7(),!1}if(Ui)return v=La.current,v!==null?((v.flags&65536)===0&&(v.flags|=256),v.flags|=65536,v.lanes=j,O!==$E&&(y=Error(n(422),{cause:O}),cv(Ra(y,T)))):(O!==$E&&(v=Error(n(423),{cause:O}),cv(Ra(v,T))),y=y.current.alternate,y.flags|=65536,j&=-j,y.lanes|=j,O=Ra(O,T),j=XE(y.stateNode,O,j),f7(y,j),tr!==4&&(tr=2)),!1;var H=Error(n(520),{cause:O});if(H=Ra(H,T),Cv===null?Cv=[H]:Cv.push(H),tr!==4&&(tr=2),v===null)return!0;O=Ra(O,T),T=v;do{switch(T.tag){case 3:return T.flags|=65536,y=j&-j,T.lanes|=y,y=XE(T.stateNode,O,y),f7(T,y),!1;case 1:if(v=T.type,H=T.stateNode,(T.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Sd===null||!Sd.has(H))))return T.flags|=65536,j&=-j,T.lanes|=j,j=SD(j),_D(j,y,T,O),f7(T,j),!1}T=T.return}while(T!==null);return!1}var ED=Error(n(461)),Br=!1;function ps(y,v,T,O){v.child=y===null?CR(v,null,T,O):Cp(v,y.child,T,O)}function TD(y,v,T,O,j){T=T.render;var H=v.ref;if("ref"in O){var Q={};for(var le in O)le!=="ref"&&(Q[le]=O[le])}else Q=O;return Np(v),O=DE(y,v,T,Q,H,j),le=NE(),y!==null&&!Br?(LE(y,v,j),Du(y,v,j)):(Ui&&le&&TE(v),v.flags|=1,ps(y,v,O,j),v.child)}function MD(y,v,T,O,j){if(y===null){var H=T.type;return typeof H=="function"&&!x7(H)&&H.defaultProps===void 0&&T.compare===null?(v.tag=15,v.type=H,$D(y,v,H,O,j)):(y=g5(T.type,null,O,v,v.mode,j),y.ref=v.ref,y.return=v,v.child=y)}if(H=y.child,!a7(y,j)){var Q=H.memoizedProps;if(T=T.compare,T=T!==null?T:Ee,T(Q,O)&&y.ref===v.ref)return Du(y,v,j)}return v.flags|=1,y=wd(H,O),y.ref=v.ref,y.return=v,v.child=y}function $D(y,v,T,O,j){if(y!==null){var H=y.memoizedProps;if(Ee(H,O)&&y.ref===v.ref)if(Br=!1,v.pendingProps=O=H,a7(y,j))(y.flags&131072)!==0&&(Br=!0);else return v.lanes=y.lanes,Du(y,v,j)}return QE(y,v,T,O,j)}function kD(y,v,T){var O=v.pendingProps,j=O.children,H=(v.stateNode._pendingVisibility&2)!==0,Q=y!==null?y.memoizedState:null;if(bv(y,v),O.mode==="hidden"||H){if((v.flags&128)!==0){if(O=Q!==null?Q.baseLanes|T:T,y!==null){for(j=v.child=y.child,H=0;j!==null;)H=H|j.lanes|j.childLanes,j=j.sibling;v.childLanes=H&~O}else v.childLanes=0,v.child=null;return CD(y,v,O,T)}if((T&536870912)!==0)v.memoizedState={baseLanes:0,cachePool:null},y!==null&&i5(v,Q!==null?Q.cachePool:null),Q!==null?AR(v,Q):CE(),OR(v);else return v.lanes=v.childLanes=536870912,CD(y,v,Q!==null?Q.baseLanes|T:T,T)}else Q!==null?(i5(v,Q.cachePool),AR(v,Q),ud(),v.memoizedState=null):(y!==null&&i5(v,null),CE(),ud());return ps(y,v,j,T),v.child}function CD(y,v,T,O){var j=PE();return j=j===null?null:{parent:Pr._currentValue,pool:j},v.memoizedState={baseLanes:T,cachePool:j},y!==null&&i5(v,null),CE(),OR(v),y!==null&&wv(y,v,O,!0),null}function bv(y,v){var T=v.ref;if(T===null)y!==null&&y.ref!==null&&(v.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(n(284));(y===null||y.ref!==T)&&(v.flags|=2097664)}}function QE(y,v,T,O,j){return Np(v),T=DE(y,v,T,O,void 0,j),O=NE(),y!==null&&!Br?(LE(y,v,j),Du(y,v,j)):(Ui&&O&&TE(v),v.flags|=1,ps(y,v,T,j),v.child)}function AD(y,v,T,O,j,H){return Np(v),v.updateQueue=null,T=NR(v,O,T,j),DR(y),O=NE(),y!==null&&!Br?(LE(y,v,H),Du(y,v,H)):(Ui&&O&&TE(v),v.flags|=1,ps(y,v,T,H),v.child)}function OD(y,v,T,O,j){if(Np(v),v.stateNode===null){var H=J1,Q=T.contextType;typeof Q=="object"&&Q!==null&&(H=Os(Q)),H=new T(O,H),v.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=KE,v.stateNode=H,H._reactInternals=v,H=v.stateNode,H.props=O,H.state=v.memoizedState,H.refs={},h7(v),Q=T.contextType,H.context=typeof Q=="object"&&Q!==null?Os(Q):J1,H.state=v.memoizedState,Q=T.getDerivedStateFromProps,typeof Q=="function"&&(YE(v,T,Q,O),H.state=v.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(Q=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),Q!==H.state&&KE.enqueueReplaceState(H,H.state,null),_v(v,O,H,j),Sv(),H.state=v.memoizedState),typeof H.componentDidMount=="function"&&(v.flags|=4194308),O=!0}else if(y===null){H=v.stateNode;var le=v.memoizedProps,ve=Rp(T,le);H.props=ve;var Ae=H.context,Ke=T.contextType;Q=J1,typeof Ke=="object"&&Ke!==null&&(Q=Os(Ke));var ct=T.getDerivedStateFromProps;Ke=typeof ct=="function"||typeof H.getSnapshotBeforeUpdate=="function",le=v.pendingProps!==le,Ke||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(le||Ae!==Q)&&gD(v,H,O,Q),pd=!1;var Le=v.memoizedState;H.state=Le,_v(v,O,H,j),Sv(),Ae=v.memoizedState,le||Le!==Ae||pd?(typeof ct=="function"&&(YE(v,T,ct,O),Ae=v.memoizedState),(ve=pd||yD(v,T,ve,O,Le,Ae,Q))?(Ke||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(v.flags|=4194308)):(typeof H.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=O,v.memoizedState=Ae),H.props=O,H.state=Ae,H.context=Q,O=ve):(typeof H.componentDidMount=="function"&&(v.flags|=4194308),O=!1)}else{H=v.stateNode,d7(y,v),Q=v.memoizedProps,Ke=Rp(T,Q),H.props=Ke,ct=v.pendingProps,Le=H.context,Ae=T.contextType,ve=J1,typeof Ae=="object"&&Ae!==null&&(ve=Os(Ae)),le=T.getDerivedStateFromProps,(Ae=typeof le=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Q!==ct||Le!==ve)&&gD(v,H,O,ve),pd=!1,Le=v.memoizedState,H.state=Le,_v(v,O,H,j),Sv();var Ye=v.memoizedState;Q!==ct||Le!==Ye||pd||y!==null&&y.dependencies!==null&&f5(y.dependencies)?(typeof le=="function"&&(YE(v,T,le,O),Ye=v.memoizedState),(Ke=pd||yD(v,T,Ke,O,Le,Ye,ve)||y!==null&&y.dependencies!==null&&f5(y.dependencies))?(Ae||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(O,Ye,ve),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(O,Ye,ve)),typeof H.componentDidUpdate=="function"&&(v.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof H.componentDidUpdate!="function"||Q===y.memoizedProps&&Le===y.memoizedState||(v.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Q===y.memoizedProps&&Le===y.memoizedState||(v.flags|=1024),v.memoizedProps=O,v.memoizedState=Ye),H.props=O,H.state=Ye,H.context=ve,O=Ke):(typeof H.componentDidUpdate!="function"||Q===y.memoizedProps&&Le===y.memoizedState||(v.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Q===y.memoizedProps&&Le===y.memoizedState||(v.flags|=1024),O=!1)}return H=O,bv(y,v),O=(v.flags&128)!==0,H||O?(H=v.stateNode,T=O&&typeof T.getDerivedStateFromError!="function"?null:H.render(),v.flags|=1,y!==null&&O?(v.child=Cp(v,y.child,null,j),v.child=Cp(v,null,T,j)):ps(y,v,T,j),v.memoizedState=H.state,y=v.child):y=Du(y,v,j),y}function ID(y,v,T,O){return lv(),v.flags|=256,ps(y,v,T,O),v.child}var e7={dehydrated:null,treeContext:null,retryLane:0};function t7(y){return{baseLanes:y,cachePool:RR()}}function i7(y,v,T){return y=y!==null?y.childLanes&~T:0,v&&(y|=Ua),y}function PD(y,v,T){var O=v.pendingProps,j=!1,H=(v.flags&128)!==0,Q;if((Q=H)||(Q=y!==null&&y.memoizedState===null?!1:(Ir.current&2)!==0),Q&&(j=!0,v.flags&=-129),Q=(v.flags&32)!==0,v.flags&=-33,y===null){if(Ui){if(j?cd(v):ud(),Ui){var le=fs,ve;if(ve=le){e:{for(ve=le,le=Ec;ve.nodeType!==8;){if(!le){le=null;break e}if(ve=$l(ve.nextSibling),ve===null){le=null;break e}}le=ve}le!==null?(v.memoizedState={dehydrated:le,treeContext:Mp!==null?{id:Ou,overflow:Iu}:null,retryLane:536870912},ve=Fa(18,null,null,0),ve.stateNode=le,ve.return=v,v.child=ve,to=v,fs=null,ve=!0):ve=!1}ve||kp(v)}if(le=v.memoizedState,le!==null&&(le=le.dehydrated,le!==null))return le.data==="$!"?v.lanes=16:v.lanes=536870912,null;Pu(v)}return le=O.children,O=O.fallback,j?(ud(),j=v.mode,le=r7({mode:"hidden",children:le},j),O=zp(O,j,T,null),le.return=v,O.return=v,le.sibling=O,v.child=le,j=v.child,j.memoizedState=t7(T),j.childLanes=i7(y,Q,T),v.memoizedState=e7,O):(cd(v),n7(v,le))}if(ve=y.memoizedState,ve!==null&&(le=ve.dehydrated,le!==null)){if(H)v.flags&256?(cd(v),v.flags&=-257,v=s7(y,v,T)):v.memoizedState!==null?(ud(),v.child=y.child,v.flags|=128,v=null):(ud(),j=O.fallback,le=v.mode,O=r7({mode:"visible",children:O.children},le),j=zp(j,le,T,null),j.flags|=2,O.return=v,j.return=v,O.sibling=j,v.child=O,Cp(v,y.child,null,T),O=v.child,O.memoizedState=t7(T),O.childLanes=i7(y,Q,T),v.memoizedState=e7,v=j);else if(cd(v),le.data==="$!"){if(Q=le.nextSibling&&le.nextSibling.dataset,Q)var Ae=Q.dgst;Q=Ae,O=Error(n(419)),O.stack="",O.digest=Q,cv({value:O,source:null,stack:null}),v=s7(y,v,T)}else if(Br||wv(y,v,T,!1),Q=(T&y.childLanes)!==0,Br||Q){if(Q=Tn,Q!==null){if(O=T&-T,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(Q.suspendedLanes|T))!==0?0:O,O!==0&&O!==ve.retryLane)throw ve.retryLane=O,ld(y,O),io(Q,y,O),ED}le.data==="$?"||P7(),v=s7(y,v,T)}else le.data==="$?"?(v.flags|=128,v.child=y.child,v=Ise.bind(null,y),le._reactRetry=v,v=null):(y=ve.treeContext,fs=$l(le.nextSibling),to=v,Ui=!0,Tl=null,Ec=!1,y!==null&&(Da[Na++]=Ou,Da[Na++]=Iu,Da[Na++]=Mp,Ou=y.id,Iu=y.overflow,Mp=v),v=n7(v,O.children),v.flags|=4096);return v}return j?(ud(),j=O.fallback,le=v.mode,ve=y.child,Ae=ve.sibling,O=wd(ve,{mode:"hidden",children:O.children}),O.subtreeFlags=ve.subtreeFlags&31457280,Ae!==null?j=wd(Ae,j):(j=zp(j,le,T,null),j.flags|=2),j.return=v,O.return=v,O.sibling=j,v.child=O,O=j,j=v.child,le=y.child.memoizedState,le===null?le=t7(T):(ve=le.cachePool,ve!==null?(Ae=Pr._currentValue,ve=ve.parent!==Ae?{parent:Ae,pool:Ae}:ve):ve=RR(),le={baseLanes:le.baseLanes|T,cachePool:ve}),j.memoizedState=le,j.childLanes=i7(y,Q,T),v.memoizedState=e7,O):(cd(v),T=y.child,y=T.sibling,T=wd(T,{mode:"visible",children:O.children}),T.return=v,T.sibling=null,y!==null&&(Q=v.deletions,Q===null?(v.deletions=[y],v.flags|=16):Q.push(y)),v.child=T,v.memoizedState=null,T)}function n7(y,v){return v=r7({mode:"visible",children:v},y.mode),v.return=y,y.child=v}function r7(y,v){return sN(y,v,0,null)}function s7(y,v,T){return Cp(v,y.child,null,T),y=n7(v,v.pendingProps.children),y.flags|=2,v.memoizedState=null,y}function RD(y,v,T){y.lanes|=v;var O=y.alternate;O!==null&&(O.lanes|=v),c7(y.return,v,T)}function o7(y,v,T,O,j){var H=y.memoizedState;H===null?y.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:O,tail:T,tailMode:j}:(H.isBackwards=v,H.rendering=null,H.renderingStartTime=0,H.last=O,H.tail=T,H.tailMode=j)}function DD(y,v,T){var O=v.pendingProps,j=O.revealOrder,H=O.tail;if(ps(y,v,O.children,T),O=Ir.current,(O&2)!==0)O=O&1|2,v.flags|=128;else{if(y!==null&&(y.flags&128)!==0)e:for(y=v.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&RD(y,T,v);else if(y.tag===19)RD(y,T,v);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===v)break e;for(;y.sibling===null;){if(y.return===null||y.return===v)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}O&=1}switch(Ji(Ir,O),j){case"forwards":for(T=v.child,j=null;T!==null;)y=T.alternate,y!==null&&t5(y)===null&&(j=T),T=T.sibling;T=j,T===null?(j=v.child,v.child=null):(j=T.sibling,T.sibling=null),o7(v,!1,j,T,H);break;case"backwards":for(T=null,j=v.child,v.child=null;j!==null;){if(y=j.alternate,y!==null&&t5(y)===null){v.child=j;break}y=j.sibling,j.sibling=T,T=j,j=y}o7(v,!0,T,null,H);break;case"together":o7(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Du(y,v,T){if(y!==null&&(v.dependencies=y.dependencies),xd|=v.lanes,(T&v.childLanes)===0)if(y!==null){if(wv(y,v,T,!1),(T&v.childLanes)===0)return null}else return null;if(y!==null&&v.child!==y.child)throw Error(n(153));if(v.child!==null){for(y=v.child,T=wd(y,y.pendingProps),v.child=T,T.return=v;y.sibling!==null;)y=y.sibling,T=T.sibling=wd(y,y.pendingProps),T.return=v;T.sibling=null}return v.child}function a7(y,v){return(y.lanes&v)!==0?!0:(y=y.dependencies,!!(y!==null&&f5(y)))}function vse(y,v,T){switch(v.tag){case 3:wo(v,v.stateNode.containerInfo),fd(v,Pr,y.memoizedState.cache),lv();break;case 27:case 5:re(v);break;case 4:wo(v,v.stateNode.containerInfo);break;case 10:fd(v,v.type,v.memoizedProps.value);break;case 13:var O=v.memoizedState;if(O!==null)return O.dehydrated!==null?(cd(v),v.flags|=128,null):(T&v.child.childLanes)!==0?PD(y,v,T):(cd(v),y=Du(y,v,T),y!==null?y.sibling:null);cd(v);break;case 19:var j=(y.flags&128)!==0;if(O=(T&v.childLanes)!==0,O||(wv(y,v,T,!1),O=(T&v.childLanes)!==0),j){if(O)return DD(y,v,T);v.flags|=128}if(j=v.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Ji(Ir,Ir.current),O)break;return null;case 22:case 23:return v.lanes=0,kD(y,v,T);case 24:fd(v,Pr,y.memoizedState.cache)}return Du(y,v,T)}function ND(y,v,T){if(y!==null)if(y.memoizedProps!==v.pendingProps)Br=!0;else{if(!a7(y,T)&&(v.flags&128)===0)return Br=!1,vse(y,v,T);Br=(y.flags&131072)!==0}else Br=!1,Ui&&(v.flags&1048576)!==0&&wR(v,Y3,v.index);switch(v.lanes=0,v.tag){case 16:e:{y=v.pendingProps;var O=v.elementType,j=O._init;if(O=j(O._payload),v.type=O,typeof O=="function")x7(O)?(y=Rp(O,y),v.tag=1,v=OD(null,v,O,y,T)):(v.tag=0,v=QE(null,v,O,y,T));else{if(O!=null){if(j=O.$$typeof,j===q){v.tag=11,v=TD(null,v,O,y,T);break e}else if(j===te){v.tag=14,v=MD(null,v,O,y,T);break e}}throw v=Ze(O)||O,Error(n(306,v,""))}}return v;case 0:return QE(y,v,v.type,v.pendingProps,T);case 1:return O=v.type,j=Rp(O,v.pendingProps),OD(y,v,O,j,T);case 3:e:{if(wo(v,v.stateNode.containerInfo),y===null)throw Error(n(387));var H=v.pendingProps;j=v.memoizedState,O=j.element,d7(y,v),_v(v,H,null,T);var Q=v.memoizedState;if(H=Q.cache,fd(v,Pr,H),H!==j.cache&&u7(v,[Pr],T,!0),Sv(),H=Q.element,j.isDehydrated)if(j={element:H,isDehydrated:!1,cache:Q.cache},v.updateQueue.baseState=j,v.memoizedState=j,v.flags&256){v=ID(y,v,H,T);break e}else if(H!==O){O=Ra(Error(n(424)),v),cv(O),v=ID(y,v,H,T);break e}else for(fs=$l(v.stateNode.containerInfo.firstChild),to=v,Ui=!0,Tl=null,Ec=!0,T=CR(v,null,H,T),v.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(lv(),H===O){v=Du(y,v,T);break e}ps(y,v,H,T)}v=v.child}return v;case 26:return bv(y,v),y===null?(T=jN(v.type,null,v.pendingProps,null))?v.memoizedState=T:Ui||(T=v.type,y=v.pendingProps,O=C5(ks.current).createElement(T),O[Pe]=v,O[qe]=y,ms(O,T,y),Ct(O),v.stateNode=O):v.memoizedState=jN(v.type,y.memoizedProps,v.pendingProps,y.memoizedState),null;case 27:return re(v),y===null&&Ui&&(O=v.stateNode=NN(v.type,v.pendingProps,ks.current),to=v,Ec=!0,fs=$l(O.firstChild)),O=v.pendingProps.children,y!==null||Ui?ps(y,v,O,T):v.child=Cp(v,null,O,T),bv(y,v),v.child;case 5:return y===null&&Ui&&((j=O=fs)&&(O=Jse(O,v.type,v.pendingProps,Ec),O!==null?(v.stateNode=O,to=v,fs=$l(O.firstChild),Ec=!1,j=!0):j=!1),j||kp(v)),re(v),j=v.type,H=v.pendingProps,Q=y!==null?y.memoizedProps:null,O=H.children,W7(j,H)?O=null:Q!==null&&W7(j,Q)&&(v.flags|=32),v.memoizedState!==null&&(j=DE(y,v,hse,null,null,T),zv._currentValue=j),bv(y,v),ps(y,v,O,T),v.child;case 6:return y===null&&Ui&&((y=T=fs)&&(T=Zse(T,v.pendingProps,Ec),T!==null?(v.stateNode=T,to=v,fs=null,y=!0):y=!1),y||kp(v)),null;case 13:return PD(y,v,T);case 4:return wo(v,v.stateNode.containerInfo),O=v.pendingProps,y===null?v.child=Cp(v,null,O,T):ps(y,v,O,T),v.child;case 11:return TD(y,v,v.type,v.pendingProps,T);case 7:return ps(y,v,v.pendingProps,T),v.child;case 8:return ps(y,v,v.pendingProps.children,T),v.child;case 12:return ps(y,v,v.pendingProps.children,T),v.child;case 10:return O=v.pendingProps,fd(v,v.type,O.value),ps(y,v,O.children,T),v.child;case 9:return j=v.type._context,O=v.pendingProps.children,Np(v),j=Os(j),O=O(j),v.flags|=1,ps(y,v,O,T),v.child;case 14:return MD(y,v,v.type,v.pendingProps,T);case 15:return $D(y,v,v.type,v.pendingProps,T);case 19:return DD(y,v,T);case 22:return kD(y,v,T);case 24:return Np(v),O=Os(Pr),y===null?(j=PE(),j===null&&(j=Tn,H=OE(),j.pooledCache=H,H.refCount++,H!==null&&(j.pooledCacheLanes|=T),j=H),v.memoizedState={parent:O,cache:j},h7(v),fd(v,Pr,j)):((y.lanes&T)!==0&&(d7(y,v),_v(v,null,null,T),Sv()),j=y.memoizedState,H=v.memoizedState,j.parent!==O?(j={parent:O,cache:O},v.memoizedState=j,v.lanes===0&&(v.memoizedState=v.updateQueue.baseState=j),fd(v,Pr,O)):(O=H.cache,fd(v,Pr,O),O!==j.cache&&u7(v,[Pr],T,!0))),ps(y,v,v.pendingProps.children,T),v.child;case 29:throw v.pendingProps}throw Error(n(156,v.tag))}var l7=hi(null),Dp=null,Nu=null;function fd(y,v,T){Ji(l7,v._currentValue),v._currentValue=T}function Lu(y){y._currentValue=l7.current,wt(l7)}function c7(y,v,T){for(;y!==null;){var O=y.alternate;if((y.childLanes&v)!==v?(y.childLanes|=v,O!==null&&(O.childLanes|=v)):O!==null&&(O.childLanes&v)!==v&&(O.childLanes|=v),y===T)break;y=y.return}}function u7(y,v,T,O){var j=y.child;for(j!==null&&(j.return=y);j!==null;){var H=j.dependencies;if(H!==null){var Q=j.child;H=H.firstContext;e:for(;H!==null;){var le=H;H=j;for(var ve=0;ve<v.length;ve++)if(le.context===v[ve]){H.lanes|=T,le=H.alternate,le!==null&&(le.lanes|=T),c7(H.return,T,y),O||(Q=null);break e}H=le.next}}else if(j.tag===18){if(Q=j.return,Q===null)throw Error(n(341));Q.lanes|=T,H=Q.alternate,H!==null&&(H.lanes|=T),c7(Q,T,y),Q=null}else Q=j.child;if(Q!==null)Q.return=j;else for(Q=j;Q!==null;){if(Q===y){Q=null;break}if(j=Q.sibling,j!==null){j.return=Q.return,Q=j;break}Q=Q.return}j=Q}}function wv(y,v,T,O){y=null;for(var j=v,H=!1;j!==null;){if(!H){if((j.flags&524288)!==0)H=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var Q=j.alternate;if(Q===null)throw Error(n(387));if(Q=Q.memoizedProps,Q!==null){var le=j.type;de(j.pendingProps.value,Q.value)||(y!==null?y.push(le):y=[le])}}else if(j===Ho.current){if(Q=j.alternate,Q===null)throw Error(n(387));Q.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(y!==null?y.push(zv):y=[zv])}j=j.return}y!==null&&u7(v,y,T,O),v.flags|=262144}function f5(y){for(y=y.firstContext;y!==null;){if(!de(y.context._currentValue,y.memoizedValue))return!0;y=y.next}return!1}function Np(y){Dp=y,Nu=null,y=y.dependencies,y!==null&&(y.firstContext=null)}function Os(y){return LD(Dp,y)}function p5(y,v){return Dp===null&&Np(y),LD(y,v)}function LD(y,v){var T=v._currentValue;if(v={context:v,memoizedValue:T,next:null},Nu===null){if(y===null)throw Error(n(308));Nu=v,y.dependencies={lanes:0,firstContext:v},y.flags|=524288}else Nu=Nu.next=v;return T}var pd=!1;function h7(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function d7(y,v){y=y.updateQueue,v.updateQueue===y&&(v.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,callbacks:null})}function md(y){return{lane:y,tag:0,payload:null,callback:null,next:null}}function yd(y,v,T){var O=y.updateQueue;if(O===null)return null;if(O=O.shared,(Wn&2)!==0){var j=O.pending;return j===null?v.next=v:(v.next=j.next,j.next=v),O.pending=v,v=J3(y),vR(y,null,T),v}return W3(y,O,v,T),J3(y)}function xv(y,v,T){if(v=v.updateQueue,v!==null&&(v=v.shared,(T&4194176)!==0)){var O=v.lanes;O&=y.pendingLanes,T|=O,v.lanes=T,ne(y,T)}}function f7(y,v){var T=y.updateQueue,O=y.alternate;if(O!==null&&(O=O.updateQueue,T===O)){var j=null,H=null;if(T=T.firstBaseUpdate,T!==null){do{var Q={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};H===null?j=H=Q:H=H.next=Q,T=T.next}while(T!==null);H===null?j=H=v:H=H.next=v}else j=H=v;T={baseState:O.baseState,firstBaseUpdate:j,lastBaseUpdate:H,shared:O.shared,callbacks:O.callbacks},y.updateQueue=T;return}y=T.lastBaseUpdate,y===null?T.firstBaseUpdate=v:y.next=v,T.lastBaseUpdate=v}var p7=!1;function Sv(){if(p7){var y=em;if(y!==null)throw y}}function _v(y,v,T,O){p7=!1;var j=y.updateQueue;pd=!1;var H=j.firstBaseUpdate,Q=j.lastBaseUpdate,le=j.shared.pending;if(le!==null){j.shared.pending=null;var ve=le,Ae=ve.next;ve.next=null,Q===null?H=Ae:Q.next=Ae,Q=ve;var Ke=y.alternate;Ke!==null&&(Ke=Ke.updateQueue,le=Ke.lastBaseUpdate,le!==Q&&(le===null?Ke.firstBaseUpdate=Ae:le.next=Ae,Ke.lastBaseUpdate=ve))}if(H!==null){var ct=j.baseState;Q=0,Ke=Ae=ve=null,le=H;do{var Le=le.lane&-536870913,Ye=Le!==le.lane;if(Ye?(Ri&Le)===Le:(O&Le)===Le){Le!==0&&Le===Q1&&(p7=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Ft=y,ui=le;Le=v;var ir=T;switch(ui.tag){case 1:if(Ft=ui.payload,typeof Ft=="function"){ct=Ft.call(ir,ct,Le);break e}ct=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=ui.payload,Le=typeof Ft=="function"?Ft.call(ir,ct,Le):Ft,Le==null)break e;ct=He({},ct,Le);break e;case 2:pd=!0}}Le=le.callback,Le!==null&&(y.flags|=64,Ye&&(y.flags|=8192),Ye=j.callbacks,Ye===null?j.callbacks=[Le]:Ye.push(Le))}else Ye={lane:Le,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Ke===null?(Ae=Ke=Ye,ve=ct):Ke=Ke.next=Ye,Q|=Le;if(le=le.next,le===null){if(le=j.shared.pending,le===null)break;Ye=le,le=Ye.next,Ye.next=null,j.lastBaseUpdate=Ye,j.shared.pending=null}}while(!0);Ke===null&&(ve=ct),j.baseState=ve,j.firstBaseUpdate=Ae,j.lastBaseUpdate=Ke,H===null&&(j.shared.lanes=0),xd|=Q,y.lanes=Q,y.memoizedState=ct}}function zD(y,v){if(typeof y!="function")throw Error(n(191,y));y.call(v)}function jD(y,v){var T=y.callbacks;if(T!==null)for(y.callbacks=null,y=0;y<T.length;y++)zD(T[y],v)}function Ev(y,v){try{var T=v.updateQueue,O=T!==null?T.lastEffect:null;if(O!==null){var j=O.next;T=j;do{if((T.tag&y)===y){O=void 0;var H=T.create,Q=T.inst;O=H(),Q.destroy=O}T=T.next}while(T!==j)}}catch(le){yn(v,v.return,le)}}function gd(y,v,T){try{var O=v.updateQueue,j=O!==null?O.lastEffect:null;if(j!==null){var H=j.next;O=H;do{if((O.tag&y)===y){var Q=O.inst,le=Q.destroy;if(le!==void 0){Q.destroy=void 0,j=v;var ve=T;try{le()}catch(Ae){yn(j,ve,Ae)}}}O=O.next}while(O!==H)}}catch(Ae){yn(v,v.return,Ae)}}function FD(y){var v=y.updateQueue;if(v!==null){var T=y.stateNode;try{jD(v,T)}catch(O){yn(y,y.return,O)}}}function UD(y,v,T){T.props=Rp(y.type,y.memoizedProps),T.state=y.memoizedState;try{T.componentWillUnmount()}catch(O){yn(y,v,O)}}function Lp(y,v){try{var T=y.ref;if(T!==null){var O=y.stateNode;switch(y.tag){case 26:case 27:case 5:var j=O;break;default:j=O}typeof T=="function"?y.refCleanup=T(j):T.current=j}}catch(H){yn(y,v,H)}}function Wo(y,v){var T=y.ref,O=y.refCleanup;if(T!==null)if(typeof O=="function")try{O()}catch(j){yn(y,v,j)}finally{y.refCleanup=null,y=y.alternate,y!=null&&(y.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(j){yn(y,v,j)}else T.current=null}function VD(y){var v=y.type,T=y.memoizedProps,O=y.stateNode;try{e:switch(v){case"button":case"input":case"select":case"textarea":T.autoFocus&&O.focus();break e;case"img":T.src?O.src=T.src:T.srcSet&&(O.srcset=T.srcSet)}}catch(j){yn(y,y.return,j)}}function GD(y,v,T){try{var O=y.stateNode;Gse(O,y.type,T,v),O[qe]=v}catch(j){yn(y,y.return,j)}}function HD(y){return y.tag===5||y.tag===3||y.tag===26||y.tag===27||y.tag===4}function m7(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||HD(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==27&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function y7(y,v,T){var O=y.tag;if(O===5||O===6)y=y.stateNode,v?T.nodeType===8?T.parentNode.insertBefore(y,v):T.insertBefore(y,v):(T.nodeType===8?(v=T.parentNode,v.insertBefore(y,T)):(v=T,v.appendChild(y)),T=T._reactRootContainer,T!=null||v.onclick!==null||(v.onclick=k5));else if(O!==4&&O!==27&&(y=y.child,y!==null))for(y7(y,v,T),y=y.sibling;y!==null;)y7(y,v,T),y=y.sibling}function m5(y,v,T){var O=y.tag;if(O===5||O===6)y=y.stateNode,v?T.insertBefore(y,v):T.appendChild(y);else if(O!==4&&O!==27&&(y=y.child,y!==null))for(m5(y,v,T),y=y.sibling;y!==null;)m5(y,v,T),y=y.sibling}var zu=!1,er=!1,g7=!1,qD=typeof WeakSet=="function"?WeakSet:Set,Wr=null,BD=!1;function bse(y,v){if(y=y.containerInfo,q7=D5,y=ut(y),at(y)){if("selectionStart"in y)var T={start:y.selectionStart,end:y.selectionEnd};else e:{T=(T=y.ownerDocument)&&T.defaultView||window;var O=T.getSelection&&T.getSelection();if(O&&O.rangeCount!==0){T=O.anchorNode;var j=O.anchorOffset,H=O.focusNode;O=O.focusOffset;try{T.nodeType,H.nodeType}catch{T=null;break e}var Q=0,le=-1,ve=-1,Ae=0,Ke=0,ct=y,Le=null;t:for(;;){for(var Ye;ct!==T||j!==0&&ct.nodeType!==3||(le=Q+j),ct!==H||O!==0&&ct.nodeType!==3||(ve=Q+O),ct.nodeType===3&&(Q+=ct.nodeValue.length),(Ye=ct.firstChild)!==null;)Le=ct,ct=Ye;for(;;){if(ct===y)break t;if(Le===T&&++Ae===j&&(le=Q),Le===H&&++Ke===O&&(ve=Q),(Ye=ct.nextSibling)!==null)break;ct=Le,Le=ct.parentNode}ct=Ye}T=le===-1||ve===-1?null:{start:le,end:ve}}else T=null}T=T||{start:0,end:0}}else T=null;for(B7={focusedElem:y,selectionRange:T},D5=!1,Wr=v;Wr!==null;)if(v=Wr,y=v.child,(v.subtreeFlags&1028)!==0&&y!==null)y.return=v,Wr=y;else for(;Wr!==null;){switch(v=Wr,H=v.alternate,y=v.flags,v.tag){case 0:break;case 11:case 15:break;case 1:if((y&1024)!==0&&H!==null){y=void 0,T=v,j=H.memoizedProps,H=H.memoizedState,O=T.stateNode;try{var Ft=Rp(T.type,j,T.elementType===T.type);y=O.getSnapshotBeforeUpdate(Ft,H),O.__reactInternalSnapshotBeforeUpdate=y}catch(ui){yn(T,T.return,ui)}}break;case 3:if((y&1024)!==0){if(y=v.stateNode.containerInfo,T=y.nodeType,T===9)Y7(y);else if(T===1)switch(y.nodeName){case"HEAD":case"HTML":case"BODY":Y7(y);break;default:y.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((y&1024)!==0)throw Error(n(163))}if(y=v.sibling,y!==null){y.return=v.return,Wr=y;break}Wr=v.return}return Ft=BD,BD=!1,Ft}function WD(y,v,T){var O=T.flags;switch(T.tag){case 0:case 11:case 15:Fu(y,T),O&4&&Ev(5,T);break;case 1:if(Fu(y,T),O&4)if(y=T.stateNode,v===null)try{y.componentDidMount()}catch(le){yn(T,T.return,le)}else{var j=Rp(T.type,v.memoizedProps);v=v.memoizedState;try{y.componentDidUpdate(j,v,y.__reactInternalSnapshotBeforeUpdate)}catch(le){yn(T,T.return,le)}}O&64&&FD(T),O&512&&Lp(T,T.return);break;case 3:if(Fu(y,T),O&64&&(O=T.updateQueue,O!==null)){if(y=null,T.child!==null)switch(T.child.tag){case 27:case 5:y=T.child.stateNode;break;case 1:y=T.child.stateNode}try{jD(O,y)}catch(le){yn(T,T.return,le)}}break;case 26:Fu(y,T),O&512&&Lp(T,T.return);break;case 27:case 5:Fu(y,T),v===null&&O&4&&VD(T),O&512&&Lp(T,T.return);break;case 12:Fu(y,T);break;case 13:Fu(y,T),O&4&&YD(y,T);break;case 22:if(j=T.memoizedState!==null||zu,!j){v=v!==null&&v.memoizedState!==null||er;var H=zu,Q=er;zu=j,(er=v)&&!Q?vd(y,T,(T.subtreeFlags&8772)!==0):Fu(y,T),zu=H,er=Q}O&512&&(T.memoizedProps.mode==="manual"?Lp(T,T.return):Wo(T,T.return));break;default:Fu(y,T)}}function JD(y){var v=y.alternate;v!==null&&(y.alternate=null,JD(v)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(v=y.stateNode,v!==null&&mi(v)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}var br=null,Jo=!1;function ju(y,v,T){for(T=T.child;T!==null;)ZD(y,v,T),T=T.sibling}function ZD(y,v,T){if(c&&typeof c.onCommitFiberUnmount=="function")try{c.onCommitFiberUnmount(x,T)}catch{}switch(T.tag){case 26:er||Wo(T,v),ju(y,v,T),T.memoizedState?T.memoizedState.count--:T.stateNode&&(T=T.stateNode,T.parentNode.removeChild(T));break;case 27:er||Wo(T,v);var O=br,j=Jo;for(br=T.stateNode,ju(y,v,T),T=T.stateNode,v=T.attributes;v.length;)T.removeAttributeNode(v[0]);mi(T),br=O,Jo=j;break;case 5:er||Wo(T,v);case 6:j=br;var H=Jo;if(br=null,ju(y,v,T),br=j,Jo=H,br!==null)if(Jo)try{y=br,O=T.stateNode,y.nodeType===8?y.parentNode.removeChild(O):y.removeChild(O)}catch(Q){yn(T,v,Q)}else try{br.removeChild(T.stateNode)}catch(Q){yn(T,v,Q)}break;case 18:br!==null&&(Jo?(v=br,T=T.stateNode,v.nodeType===8?Z7(v.parentNode,T):v.nodeType===1&&Z7(v,T),Vv(v)):Z7(br,T.stateNode));break;case 4:O=br,j=Jo,br=T.stateNode.containerInfo,Jo=!0,ju(y,v,T),br=O,Jo=j;break;case 0:case 11:case 14:case 15:er||gd(2,T,v),er||gd(4,T,v),ju(y,v,T);break;case 1:er||(Wo(T,v),O=T.stateNode,typeof O.componentWillUnmount=="function"&&UD(T,v,O)),ju(y,v,T);break;case 21:ju(y,v,T);break;case 22:er||Wo(T,v),er=(O=er)||T.memoizedState!==null,ju(y,v,T),er=O;break;default:ju(y,v,T)}}function YD(y,v){if(v.memoizedState===null&&(y=v.alternate,y!==null&&(y=y.memoizedState,y!==null&&(y=y.dehydrated,y!==null))))try{Vv(y)}catch(T){yn(v,v.return,T)}}function wse(y){switch(y.tag){case 13:case 19:var v=y.stateNode;return v===null&&(v=y.stateNode=new qD),v;case 22:return y=y.stateNode,v=y._retryCache,v===null&&(v=y._retryCache=new qD),v;default:throw Error(n(435,y.tag))}}function v7(y,v){var T=wse(y);v.forEach(function(O){var j=Pse.bind(null,y,O);T.has(O)||(T.add(O),O.then(j,j))})}function za(y,v){var T=v.deletions;if(T!==null)for(var O=0;O<T.length;O++){var j=T[O],H=y,Q=v,le=Q;e:for(;le!==null;){switch(le.tag){case 27:case 5:br=le.stateNode,Jo=!1;break e;case 3:br=le.stateNode.containerInfo,Jo=!0;break e;case 4:br=le.stateNode.containerInfo,Jo=!0;break e}le=le.return}if(br===null)throw Error(n(160));ZD(H,Q,j),br=null,Jo=!1,H=j.alternate,H!==null&&(H.return=null),j.return=null}if(v.subtreeFlags&13878)for(v=v.child;v!==null;)KD(v,y),v=v.sibling}var Ml=null;function KD(y,v){var T=y.alternate,O=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:za(v,y),ja(y),O&4&&(gd(3,y,y.return),Ev(3,y),gd(5,y,y.return));break;case 1:za(v,y),ja(y),O&512&&(er||T===null||Wo(T,T.return)),O&64&&zu&&(y=y.updateQueue,y!==null&&(O=y.callbacks,O!==null&&(T=y.shared.hiddenCallbacks,y.shared.hiddenCallbacks=T===null?O:T.concat(O))));break;case 26:var j=Ml;if(za(v,y),ja(y),O&512&&(er||T===null||Wo(T,T.return)),O&4){var H=T!==null?T.memoizedState:null;if(O=y.memoizedState,T===null)if(O===null)if(y.stateNode===null){e:{O=y.type,T=y.memoizedProps,j=j.ownerDocument||j;t:switch(O){case"title":H=j.getElementsByTagName("title")[0],(!H||H[ni]||H[Pe]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=j.createElement(O),j.head.insertBefore(H,j.querySelector("head > title"))),ms(H,O,T),H[Pe]=y,Ct(H),O=H;break e;case"link":var Q=VN("link","href",j).get(O+(T.href||""));if(Q){for(var le=0;le<Q.length;le++)if(H=Q[le],H.getAttribute("href")===(T.href==null?null:T.href)&&H.getAttribute("rel")===(T.rel==null?null:T.rel)&&H.getAttribute("title")===(T.title==null?null:T.title)&&H.getAttribute("crossorigin")===(T.crossOrigin==null?null:T.crossOrigin)){Q.splice(le,1);break t}}H=j.createElement(O),ms(H,O,T),j.head.appendChild(H);break;case"meta":if(Q=VN("meta","content",j).get(O+(T.content||""))){for(le=0;le<Q.length;le++)if(H=Q[le],H.getAttribute("content")===(T.content==null?null:""+T.content)&&H.getAttribute("name")===(T.name==null?null:T.name)&&H.getAttribute("property")===(T.property==null?null:T.property)&&H.getAttribute("http-equiv")===(T.httpEquiv==null?null:T.httpEquiv)&&H.getAttribute("charset")===(T.charSet==null?null:T.charSet)){Q.splice(le,1);break t}}H=j.createElement(O),ms(H,O,T),j.head.appendChild(H);break;default:throw Error(n(468,O))}H[Pe]=y,Ct(H),O=H}y.stateNode=O}else GN(j,y.type,y.stateNode);else y.stateNode=UN(j,O,y.memoizedProps);else H!==O?(H===null?T.stateNode!==null&&(T=T.stateNode,T.parentNode.removeChild(T)):H.count--,O===null?GN(j,y.type,y.stateNode):UN(j,O,y.memoizedProps)):O===null&&y.stateNode!==null&&GD(y,y.memoizedProps,T.memoizedProps)}break;case 27:if(O&4&&y.alternate===null){j=y.stateNode,H=y.memoizedProps;try{for(var ve=j.firstChild;ve;){var Ae=ve.nextSibling,Ke=ve.nodeName;ve[ni]||Ke==="HEAD"||Ke==="BODY"||Ke==="SCRIPT"||Ke==="STYLE"||Ke==="LINK"&&ve.rel.toLowerCase()==="stylesheet"||j.removeChild(ve),ve=Ae}for(var ct=y.type,Le=j.attributes;Le.length;)j.removeAttributeNode(Le[0]);ms(j,ct,H),j[Pe]=y,j[qe]=H}catch(Ft){yn(y,y.return,Ft)}}case 5:if(za(v,y),ja(y),O&512&&(er||T===null||Wo(T,T.return)),y.flags&32){j=y.stateNode;try{Sc(j,"")}catch(Ft){yn(y,y.return,Ft)}}O&4&&y.stateNode!=null&&(j=y.memoizedProps,GD(y,j,T!==null?T.memoizedProps:j)),O&1024&&(g7=!0);break;case 6:if(za(v,y),ja(y),O&4){if(y.stateNode===null)throw Error(n(162));O=y.memoizedProps,T=y.stateNode;try{T.nodeValue=O}catch(Ft){yn(y,y.return,Ft)}}break;case 3:if(I5=null,j=Ml,Ml=A5(v.containerInfo),za(v,y),Ml=j,ja(y),O&4&&T!==null&&T.memoizedState.isDehydrated)try{Vv(v.containerInfo)}catch(Ft){yn(y,y.return,Ft)}g7&&(g7=!1,XD(y));break;case 4:O=Ml,Ml=A5(y.stateNode.containerInfo),za(v,y),ja(y),Ml=O;break;case 12:za(v,y),ja(y);break;case 13:za(v,y),ja(y),y.child.flags&8192&&y.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&($7=Sn()),O&4&&(O=y.updateQueue,O!==null&&(y.updateQueue=null,v7(y,O)));break;case 22:if(O&512&&(er||T===null||Wo(T,T.return)),ve=y.memoizedState!==null,Ae=T!==null&&T.memoizedState!==null,Ke=zu,ct=er,zu=Ke||ve,er=ct||Ae,za(v,y),er=ct,zu=Ke,ja(y),v=y.stateNode,v._current=y,v._visibility&=-3,v._visibility|=v._pendingVisibility&2,O&8192&&(v._visibility=ve?v._visibility&-2:v._visibility|1,ve&&(v=zu||er,T===null||Ae||v||rm(y)),y.memoizedProps===null||y.memoizedProps.mode!=="manual"))e:for(T=null,v=y;;){if(v.tag===5||v.tag===26||v.tag===27){if(T===null){Ae=T=v;try{if(j=Ae.stateNode,ve)H=j.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{Q=Ae.stateNode,le=Ae.memoizedProps.style;var Ye=le!=null&&le.hasOwnProperty("display")?le.display:null;Q.style.display=Ye==null||typeof Ye=="boolean"?"":(""+Ye).trim()}}catch(Ft){yn(Ae,Ae.return,Ft)}}}else if(v.tag===6){if(T===null){Ae=v;try{Ae.stateNode.nodeValue=ve?"":Ae.memoizedProps}catch(Ft){yn(Ae,Ae.return,Ft)}}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===y)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===y)break e;for(;v.sibling===null;){if(v.return===null||v.return===y)break e;T===v&&(T=null),v=v.return}T===v&&(T=null),v.sibling.return=v.return,v=v.sibling}O&4&&(O=y.updateQueue,O!==null&&(T=O.retryQueue,T!==null&&(O.retryQueue=null,v7(y,T))));break;case 19:za(v,y),ja(y),O&4&&(O=y.updateQueue,O!==null&&(y.updateQueue=null,v7(y,O)));break;case 21:break;default:za(v,y),ja(y)}}function ja(y){var v=y.flags;if(v&2){try{if(y.tag!==27){e:{for(var T=y.return;T!==null;){if(HD(T)){var O=T;break e}T=T.return}throw Error(n(160))}switch(O.tag){case 27:var j=O.stateNode,H=m7(y);m5(y,H,j);break;case 5:var Q=O.stateNode;O.flags&32&&(Sc(Q,""),O.flags&=-33);var le=m7(y);m5(y,le,Q);break;case 3:case 4:var ve=O.stateNode.containerInfo,Ae=m7(y);y7(y,Ae,ve);break;default:throw Error(n(161))}}}catch(Ke){yn(y,y.return,Ke)}y.flags&=-3}v&4096&&(y.flags&=-4097)}function XD(y){if(y.subtreeFlags&1024)for(y=y.child;y!==null;){var v=y;XD(v),v.tag===5&&v.flags&1024&&v.stateNode.reset(),y=y.sibling}}function Fu(y,v){if(v.subtreeFlags&8772)for(v=v.child;v!==null;)WD(y,v.alternate,v),v=v.sibling}function rm(y){for(y=y.child;y!==null;){var v=y;switch(v.tag){case 0:case 11:case 14:case 15:gd(4,v,v.return),rm(v);break;case 1:Wo(v,v.return);var T=v.stateNode;typeof T.componentWillUnmount=="function"&&UD(v,v.return,T),rm(v);break;case 26:case 27:case 5:Wo(v,v.return),rm(v);break;case 22:Wo(v,v.return),v.memoizedState===null&&rm(v);break;default:rm(v)}y=y.sibling}}function vd(y,v,T){for(T=T&&(v.subtreeFlags&8772)!==0,v=v.child;v!==null;){var O=v.alternate,j=y,H=v,Q=H.flags;switch(H.tag){case 0:case 11:case 15:vd(j,H,T),Ev(4,H);break;case 1:if(vd(j,H,T),O=H,j=O.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(Ae){yn(O,O.return,Ae)}if(O=H,j=O.updateQueue,j!==null){var le=O.stateNode;try{var ve=j.shared.hiddenCallbacks;if(ve!==null)for(j.shared.hiddenCallbacks=null,j=0;j<ve.length;j++)zD(ve[j],le)}catch(Ae){yn(O,O.return,Ae)}}T&&Q&64&&FD(H),Lp(H,H.return);break;case 26:case 27:case 5:vd(j,H,T),T&&O===null&&Q&4&&VD(H),Lp(H,H.return);break;case 12:vd(j,H,T);break;case 13:vd(j,H,T),T&&Q&4&&YD(j,H);break;case 22:H.memoizedState===null&&vd(j,H,T),Lp(H,H.return);break;default:vd(j,H,T)}v=v.sibling}}function b7(y,v){var T=null;y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),y=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(y=v.memoizedState.cachePool.pool),y!==T&&(y!=null&&y.refCount++,T!=null&&pv(T))}function w7(y,v){y=null,v.alternate!==null&&(y=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==y&&(v.refCount++,y!=null&&pv(y))}function bd(y,v,T,O){if(v.subtreeFlags&10256)for(v=v.child;v!==null;)QD(y,v,T,O),v=v.sibling}function QD(y,v,T,O){var j=v.flags;switch(v.tag){case 0:case 11:case 15:bd(y,v,T,O),j&2048&&Ev(9,v);break;case 3:bd(y,v,T,O),j&2048&&(y=null,v.alternate!==null&&(y=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==y&&(v.refCount++,y!=null&&pv(y)));break;case 12:if(j&2048){bd(y,v,T,O),y=v.stateNode;try{var H=v.memoizedProps,Q=H.id,le=H.onPostCommit;typeof le=="function"&&le(Q,v.alternate===null?"mount":"update",y.passiveEffectDuration,-0)}catch(ve){yn(v,v.return,ve)}}else bd(y,v,T,O);break;case 23:break;case 22:H=v.stateNode,v.memoizedState!==null?H._visibility&4?bd(y,v,T,O):Tv(y,v):H._visibility&4?bd(y,v,T,O):(H._visibility|=4,sm(y,v,T,O,(v.subtreeFlags&10256)!==0)),j&2048&&b7(v.alternate,v);break;case 24:bd(y,v,T,O),j&2048&&w7(v.alternate,v);break;default:bd(y,v,T,O)}}function sm(y,v,T,O,j){for(j=j&&(v.subtreeFlags&10256)!==0,v=v.child;v!==null;){var H=y,Q=v,le=T,ve=O,Ae=Q.flags;switch(Q.tag){case 0:case 11:case 15:sm(H,Q,le,ve,j),Ev(8,Q);break;case 23:break;case 22:var Ke=Q.stateNode;Q.memoizedState!==null?Ke._visibility&4?sm(H,Q,le,ve,j):Tv(H,Q):(Ke._visibility|=4,sm(H,Q,le,ve,j)),j&&Ae&2048&&b7(Q.alternate,Q);break;case 24:sm(H,Q,le,ve,j),j&&Ae&2048&&w7(Q.alternate,Q);break;default:sm(H,Q,le,ve,j)}v=v.sibling}}function Tv(y,v){if(v.subtreeFlags&10256)for(v=v.child;v!==null;){var T=y,O=v,j=O.flags;switch(O.tag){case 22:Tv(T,O),j&2048&&b7(O.alternate,O);break;case 24:Tv(T,O),j&2048&&w7(O.alternate,O);break;default:Tv(T,O)}v=v.sibling}}var Mv=8192;function om(y){if(y.subtreeFlags&Mv)for(y=y.child;y!==null;)eN(y),y=y.sibling}function eN(y){switch(y.tag){case 26:om(y),y.flags&Mv&&y.memoizedState!==null&&loe(Ml,y.memoizedState,y.memoizedProps);break;case 5:om(y);break;case 3:case 4:var v=Ml;Ml=A5(y.stateNode.containerInfo),om(y),Ml=v;break;case 22:y.memoizedState===null&&(v=y.alternate,v!==null&&v.memoizedState!==null?(v=Mv,Mv=16777216,om(y),Mv=v):om(y));break;default:om(y)}}function tN(y){var v=y.alternate;if(v!==null&&(y=v.child,y!==null)){v.child=null;do v=y.sibling,y.sibling=null,y=v;while(y!==null)}}function $v(y){var v=y.deletions;if((y.flags&16)!==0){if(v!==null)for(var T=0;T<v.length;T++){var O=v[T];Wr=O,nN(O,y)}tN(y)}if(y.subtreeFlags&10256)for(y=y.child;y!==null;)iN(y),y=y.sibling}function iN(y){switch(y.tag){case 0:case 11:case 15:$v(y),y.flags&2048&&gd(9,y,y.return);break;case 3:$v(y);break;case 12:$v(y);break;case 22:var v=y.stateNode;y.memoizedState!==null&&v._visibility&4&&(y.return===null||y.return.tag!==13)?(v._visibility&=-5,y5(y)):$v(y);break;default:$v(y)}}function y5(y){var v=y.deletions;if((y.flags&16)!==0){if(v!==null)for(var T=0;T<v.length;T++){var O=v[T];Wr=O,nN(O,y)}tN(y)}for(y=y.child;y!==null;){switch(v=y,v.tag){case 0:case 11:case 15:gd(8,v,v.return),y5(v);break;case 22:T=v.stateNode,T._visibility&4&&(T._visibility&=-5,y5(v));break;default:y5(v)}y=y.sibling}}function nN(y,v){for(;Wr!==null;){var T=Wr;switch(T.tag){case 0:case 11:case 15:gd(8,T,v);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var O=T.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:pv(T.memoizedState.cache)}if(O=T.child,O!==null)O.return=T,Wr=O;else e:for(T=y;Wr!==null;){O=Wr;var j=O.sibling,H=O.return;if(JD(O),O===T){Wr=null;break e}if(j!==null){j.return=H,Wr=j;break e}Wr=H}}}function xse(y,v,T,O){this.tag=y,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(y,v,T,O){return new xse(y,v,T,O)}function x7(y){return y=y.prototype,!(!y||!y.isReactComponent)}function wd(y,v){var T=y.alternate;return T===null?(T=Fa(y.tag,v,y.key,y.mode),T.elementType=y.elementType,T.type=y.type,T.stateNode=y.stateNode,T.alternate=y,y.alternate=T):(T.pendingProps=v,T.type=y.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=y.flags&31457280,T.childLanes=y.childLanes,T.lanes=y.lanes,T.child=y.child,T.memoizedProps=y.memoizedProps,T.memoizedState=y.memoizedState,T.updateQueue=y.updateQueue,v=y.dependencies,T.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},T.sibling=y.sibling,T.index=y.index,T.ref=y.ref,T.refCleanup=y.refCleanup,T}function rN(y,v){y.flags&=31457282;var T=y.alternate;return T===null?(y.childLanes=0,y.lanes=v,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,v=T.dependencies,y.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),y}function g5(y,v,T,O,j,H){var Q=0;if(O=y,typeof y=="function")x7(y)&&(Q=1);else if(typeof y=="string")Q=ooe(y,T,mr.current)?26:y==="html"||y==="head"||y==="body"?27:5;else e:switch(y){case w:return zp(T.children,j,H,v);case E:Q=8,j|=24;break;case A:return y=Fa(12,T,v,j|2),y.elementType=A,y.lanes=H,y;case B:return y=Fa(13,T,v,j),y.elementType=B,y.lanes=H,y;case K:return y=Fa(19,T,v,j),y.elementType=K,y.lanes=H,y;case ye:return sN(T,j,H,v);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case I:case F:Q=10;break e;case R:Q=9;break e;case q:Q=11;break e;case te:Q=14;break e;case ce:Q=16,O=null;break e}Q=29,T=Error(n(130,y===null?"null":typeof y,"")),O=null}return v=Fa(Q,T,v,j),v.elementType=y,v.type=O,v.lanes=H,v}function zp(y,v,T,O){return y=Fa(7,y,O,v),y.lanes=T,y}function sN(y,v,T,O){y=Fa(22,y,O,v),y.elementType=ye,y.lanes=T;var j={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var H=j._current;if(H===null)throw Error(n(456));if((j._pendingVisibility&2)===0){var Q=ld(H,2);Q!==null&&(j._pendingVisibility|=2,io(Q,H,2))}},attach:function(){var H=j._current;if(H===null)throw Error(n(456));if((j._pendingVisibility&2)!==0){var Q=ld(H,2);Q!==null&&(j._pendingVisibility&=-3,io(Q,H,2))}}};return y.stateNode=j,y}function S7(y,v,T){return y=Fa(6,y,null,v),y.lanes=T,y}function _7(y,v,T){return v=Fa(4,y.children!==null?y.children:[],y.key,v),v.lanes=T,v.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},v}function Uu(y){y.flags|=4}function oN(y,v){if(v.type!=="stylesheet"||(v.state.loading&4)!==0)y.flags&=-16777217;else if(y.flags|=16777216,!HN(v)){if(v=La.current,v!==null&&((Ri&4194176)===Ri?Tc!==null:(Ri&62914560)!==Ri&&(Ri&536870912)===0||v!==Tc))throw hv=kE,_R;y.flags|=8192}}function v5(y,v){v!==null&&(y.flags|=4),y.flags&16384&&(v=y.tag!==22?V():536870912,y.lanes|=v,lm|=v)}function kv(y,v){if(!Ui)switch(y.tailMode){case"hidden":v=y.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?y.tail=null:T.sibling=null;break;case"collapsed":T=y.tail;for(var O=null;T!==null;)T.alternate!==null&&(O=T),T=T.sibling;O===null?v||y.tail===null?y.tail=null:y.tail.sibling=null:O.sibling=null}}function Bn(y){var v=y.alternate!==null&&y.alternate.child===y.child,T=0,O=0;if(v)for(var j=y.child;j!==null;)T|=j.lanes|j.childLanes,O|=j.subtreeFlags&31457280,O|=j.flags&31457280,j.return=y,j=j.sibling;else for(j=y.child;j!==null;)T|=j.lanes|j.childLanes,O|=j.subtreeFlags,O|=j.flags,j.return=y,j=j.sibling;return y.subtreeFlags|=O,y.childLanes=T,v}function Sse(y,v,T){var O=v.pendingProps;switch(ME(v),v.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(v),null;case 1:return Bn(v),null;case 3:return T=v.stateNode,O=null,y!==null&&(O=y.memoizedState.cache),v.memoizedState.cache!==O&&(v.flags|=2048),Lu(Pr),Ci(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(y===null||y.child===null)&&(av(v)?Uu(v):y===null||y.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Tl!==null&&(O7(Tl),Tl=null))),Bn(v),null;case 26:return T=v.memoizedState,y===null?(Uu(v),T!==null?(Bn(v),oN(v,T)):(Bn(v),v.flags&=-16777217)):T?T!==y.memoizedState?(Uu(v),Bn(v),oN(v,T)):(Bn(v),v.flags&=-16777217):(y.memoizedProps!==O&&Uu(v),Bn(v),v.flags&=-16777217),null;case 27:mn(v),T=ks.current;var j=v.type;if(y!==null&&v.stateNode!=null)y.memoizedProps!==O&&Uu(v);else{if(!O){if(v.stateNode===null)throw Error(n(166));return Bn(v),null}y=mr.current,av(v)?xR(v):(y=NN(j,O,T),v.stateNode=y,Uu(v))}return Bn(v),null;case 5:if(mn(v),T=v.type,y!==null&&v.stateNode!=null)y.memoizedProps!==O&&Uu(v);else{if(!O){if(v.stateNode===null)throw Error(n(166));return Bn(v),null}if(y=mr.current,av(v))xR(v);else{switch(j=C5(ks.current),y){case 1:y=j.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:y=j.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":y=j.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":y=j.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":y=j.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof O.is=="string"?j.createElement("select",{is:O.is}):j.createElement("select"),O.multiple?y.multiple=!0:O.size&&(y.size=O.size);break;default:y=typeof O.is=="string"?j.createElement(T,{is:O.is}):j.createElement(T)}}y[Pe]=v,y[qe]=O;e:for(j=v.child;j!==null;){if(j.tag===5||j.tag===6)y.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===v)break e;for(;j.sibling===null;){if(j.return===null||j.return===v)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}v.stateNode=y;e:switch(ms(y,T,O),T){case"button":case"input":case"select":case"textarea":y=!!O.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Uu(v)}}return Bn(v),v.flags&=-16777217,null;case 6:if(y&&v.stateNode!=null)y.memoizedProps!==O&&Uu(v);else{if(typeof O!="string"&&v.stateNode===null)throw Error(n(166));if(y=ks.current,av(v)){if(y=v.stateNode,T=v.memoizedProps,O=null,j=to,j!==null)switch(j.tag){case 27:case 5:O=j.memoizedProps}y[Pe]=v,y=!!(y.nodeValue===T||O!==null&&O.suppressHydrationWarning===!0||AN(y.nodeValue,T)),y||kp(v)}else y=C5(y).createTextNode(O),y[Pe]=v,v.stateNode=y}return Bn(v),null;case 13:if(O=v.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(j=av(v),O!==null&&O.dehydrated!==null){if(y===null){if(!j)throw Error(n(318));if(j=v.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Pe]=v}else lv(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Bn(v),j=!1}else Tl!==null&&(O7(Tl),Tl=null),j=!0;if(!j)return v.flags&256?(Pu(v),v):(Pu(v),null)}if(Pu(v),(v.flags&128)!==0)return v.lanes=T,v;if(T=O!==null,y=y!==null&&y.memoizedState!==null,T){O=v.child,j=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(j=O.alternate.memoizedState.cachePool.pool);var H=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(H=O.memoizedState.cachePool.pool),H!==j&&(O.flags|=2048)}return T!==y&&T&&(v.child.flags|=8192),v5(v,v.updateQueue),Bn(v),null;case 4:return Ci(),y===null&&V7(v.stateNode.containerInfo),Bn(v),null;case 10:return Lu(v.type),Bn(v),null;case 19:if(wt(Ir),j=v.memoizedState,j===null)return Bn(v),null;if(O=(v.flags&128)!==0,H=j.rendering,H===null)if(O)kv(j,!1);else{if(tr!==0||y!==null&&(y.flags&128)!==0)for(y=v.child;y!==null;){if(H=t5(y),H!==null){for(v.flags|=128,kv(j,!1),y=H.updateQueue,v.updateQueue=y,v5(v,y),v.subtreeFlags=0,y=T,T=v.child;T!==null;)rN(T,y),T=T.sibling;return Ji(Ir,Ir.current&1|2),v.child}y=y.sibling}j.tail!==null&&Sn()>b5&&(v.flags|=128,O=!0,kv(j,!1),v.lanes=4194304)}else{if(!O)if(y=t5(H),y!==null){if(v.flags|=128,O=!0,y=y.updateQueue,v.updateQueue=y,v5(v,y),kv(j,!0),j.tail===null&&j.tailMode==="hidden"&&!H.alternate&&!Ui)return Bn(v),null}else 2*Sn()-j.renderingStartTime>b5&&T!==536870912&&(v.flags|=128,O=!0,kv(j,!1),v.lanes=4194304);j.isBackwards?(H.sibling=v.child,v.child=H):(y=j.last,y!==null?y.sibling=H:v.child=H,j.last=H)}return j.tail!==null?(v=j.tail,j.rendering=v,j.tail=v.sibling,j.renderingStartTime=Sn(),v.sibling=null,y=Ir.current,Ji(Ir,O?y&1|2:y&1),v):(Bn(v),null);case 22:case 23:return Pu(v),AE(),O=v.memoizedState!==null,y!==null?y.memoizedState!==null!==O&&(v.flags|=8192):O&&(v.flags|=8192),O?(T&536870912)!==0&&(v.flags&128)===0&&(Bn(v),v.subtreeFlags&6&&(v.flags|=8192)):Bn(v),T=v.updateQueue,T!==null&&v5(v,T.retryQueue),T=null,y!==null&&y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==T&&(v.flags|=2048),y!==null&&wt(Ap),null;case 24:return T=null,y!==null&&(T=y.memoizedState.cache),v.memoizedState.cache!==T&&(v.flags|=2048),Lu(Pr),Bn(v),null;case 25:return null}throw Error(n(156,v.tag))}function _se(y,v){switch(ME(v),v.tag){case 1:return y=v.flags,y&65536?(v.flags=y&-65537|128,v):null;case 3:return Lu(Pr),Ci(),y=v.flags,(y&65536)!==0&&(y&128)===0?(v.flags=y&-65537|128,v):null;case 26:case 27:case 5:return mn(v),null;case 13:if(Pu(v),y=v.memoizedState,y!==null&&y.dehydrated!==null){if(v.alternate===null)throw Error(n(340));lv()}return y=v.flags,y&65536?(v.flags=y&-65537|128,v):null;case 19:return wt(Ir),null;case 4:return Ci(),null;case 10:return Lu(v.type),null;case 22:case 23:return Pu(v),AE(),y!==null&&wt(Ap),y=v.flags,y&65536?(v.flags=y&-65537|128,v):null;case 24:return Lu(Pr),null;case 25:return null;default:return null}}function aN(y,v){switch(ME(v),v.tag){case 3:Lu(Pr),Ci();break;case 26:case 27:case 5:mn(v);break;case 4:Ci();break;case 13:Pu(v);break;case 19:wt(Ir);break;case 10:Lu(v.type);break;case 22:case 23:Pu(v),AE(),y!==null&&wt(Ap);break;case 24:Lu(Pr)}}var Ese={getCacheForType:function(y){var v=Os(Pr),T=v.data.get(y);return T===void 0&&(T=y(),v.data.set(y,T)),T}},Tse=typeof WeakMap=="function"?WeakMap:Map,Wn=0,Tn=null,Ti=null,Ri=0,Mn=0,Zo=null,Vu=!1,am=!1,E7=!1,Gu=0,tr=0,xd=0,jp=0,T7=0,Ua=0,lm=0,Cv=null,$c=null,M7=!1,$7=0,b5=1/0,w5=null,Sd=null,x5=!1,Fp=null,Av=0,k7=0,C7=null,Ov=0,A7=null;function Yo(){if((Wn&2)!==0&&Ri!==0)return Ri&-Ri;if(Fe.T!==null){var y=Q1;return y!==0?y:z7()}return he()}function lN(){Ua===0&&(Ua=(Ri&536870912)===0||Ui?L():536870912);var y=La.current;return y!==null&&(y.flags|=32),Ua}function io(y,v,T){(y===Tn&&Mn===2||y.cancelPendingCommit!==null)&&(cm(y,0),Hu(y,Ri,Ua,!1)),Y(y,T),((Wn&2)===0||y!==Tn)&&(y===Tn&&((Wn&2)===0&&(jp|=T),tr===4&&Hu(y,Ri,Ua,!1)),kc(y))}function cN(y,v,T){if((Wn&6)!==0)throw Error(n(327));var O=!T&&(v&60)===0&&(v&y.expiredLanes)===0||C(y,v),j=O?kse(y,v):R7(y,v,!0),H=O;do{if(j===0){am&&!O&&Hu(y,v,0,!1);break}else if(j===6)Hu(y,v,0,!Vu);else{if(T=y.current.alternate,H&&!Mse(T)){j=R7(y,v,!1),H=!1;continue}if(j===2){if(H=v,y.errorRecoveryDisabledLanes&H)var Q=0;else Q=y.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){v=Q;e:{var le=y;j=Cv;var ve=le.current.memoizedState.isDehydrated;if(ve&&(cm(le,Q).flags|=256),Q=R7(le,Q,!1),Q!==2){if(E7&&!ve){le.errorRecoveryDisabledLanes|=H,jp|=H,j=4;break e}H=$c,$c=j,H!==null&&O7(H)}j=Q}if(H=!1,j!==2)continue}}if(j===1){cm(y,0),Hu(y,v,0,!0);break}e:{switch(O=y,j){case 0:case 1:throw Error(n(345));case 4:if((v&4194176)===v){Hu(O,v,Ua,!Vu);break e}break;case 2:$c=null;break;case 3:case 5:break;default:throw Error(n(329))}if(O.finishedWork=T,O.finishedLanes=v,(v&62914560)===v&&(H=$7+300-Sn(),10<H)){if(Hu(O,v,Ua,!Vu),$(O,0)!==0)break e;O.timeoutHandle=PN(uN.bind(null,O,T,$c,w5,M7,v,Ua,jp,lm,Vu,2,-0,0),H);break e}uN(O,T,$c,w5,M7,v,Ua,jp,lm,Vu,0,-0,0)}}break}while(!0);kc(y)}function O7(y){$c===null?$c=y:$c.push.apply($c,y)}function uN(y,v,T,O,j,H,Q,le,ve,Ae,Ke,ct,Le){var Ye=v.subtreeFlags;if((Ye&8192||(Ye&16785408)===16785408)&&(Lv={stylesheets:null,count:0,unsuspend:aoe},eN(v),v=coe(),v!==null)){y.cancelPendingCommit=v(gN.bind(null,y,T,O,j,Q,le,ve,1,ct,Le)),Hu(y,H,Q,!Ae);return}gN(y,T,O,j,Q,le,ve,Ke,ct,Le)}function Mse(y){for(var v=y;;){var T=v.tag;if((T===0||T===11||T===15)&&v.flags&16384&&(T=v.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var O=0;O<T.length;O++){var j=T[O],H=j.getSnapshot;j=j.value;try{if(!de(H(),j))return!1}catch{return!1}}if(T=v.child,v.subtreeFlags&16384&&T!==null)T.return=v,v=T;else{if(v===y)break;for(;v.sibling===null;){if(v.return===null||v.return===y)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Hu(y,v,T,O){v&=~T7,v&=~jp,y.suspendedLanes|=v,y.pingedLanes&=~v,O&&(y.warmLanes|=v),O=y.expirationTimes;for(var j=v;0<j;){var H=31-o(j),Q=1<<H;O[H]=-1,j&=~Q}T!==0&&Z(y,T,v)}function S5(){return(Wn&6)===0?(Iv(0),!1):!0}function I7(){if(Ti!==null){if(Mn===0)var y=Ti.return;else y=Ti,Nu=Dp=null,zE(y),K1=null,dv=0,y=Ti;for(;y!==null;)aN(y.alternate,y),y=y.return;Ti=null}}function cm(y,v){y.finishedWork=null,y.finishedLanes=0;var T=y.timeoutHandle;T!==-1&&(y.timeoutHandle=-1,qse(T)),T=y.cancelPendingCommit,T!==null&&(y.cancelPendingCommit=null,T()),I7(),Tn=y,Ti=T=wd(y.current,null),Ri=v,Mn=0,Zo=null,Vu=!1,am=C(y,v),E7=!1,lm=Ua=T7=jp=xd=tr=0,$c=Cv=null,M7=!1,(v&8)!==0&&(v|=v&32);var O=y.entangledLanes;if(O!==0)for(y=y.entanglements,O&=v;0<O;){var j=31-o(O),H=1<<j;v|=y[j],O&=~H}return Gu=v,B3(),T}function hN(y,v){bi=null,Fe.H=Mc,v===uv?(v=MR(),Mn=3):v===_R?(v=MR(),Mn=4):Mn=v===ED?8:v!==null&&typeof v=="object"&&typeof v.then=="function"?6:1,Zo=v,Ti===null&&(tr=1,d5(y,Ra(v,y.current)))}function dN(){var y=Fe.H;return Fe.H=Mc,y===null?Mc:y}function fN(){var y=Fe.A;return Fe.A=Ese,y}function P7(){tr=4,Vu||(Ri&4194176)!==Ri&&La.current!==null||(am=!0),(xd&134217727)===0&&(jp&134217727)===0||Tn===null||Hu(Tn,Ri,Ua,!1)}function R7(y,v,T){var O=Wn;Wn|=2;var j=dN(),H=fN();(Tn!==y||Ri!==v)&&(w5=null,cm(y,v)),v=!1;var Q=tr;e:do try{if(Mn!==0&&Ti!==null){var le=Ti,ve=Zo;switch(Mn){case 8:I7(),Q=6;break e;case 3:case 2:case 6:La.current===null&&(v=!0);var Ae=Mn;if(Mn=0,Zo=null,um(y,le,ve,Ae),T&&am){Q=0;break e}break;default:Ae=Mn,Mn=0,Zo=null,um(y,le,ve,Ae)}}$se(),Q=tr;break}catch(Ke){hN(y,Ke)}while(!0);return v&&y.shellSuspendCounter++,Nu=Dp=null,Wn=O,Fe.H=j,Fe.A=H,Ti===null&&(Tn=null,Ri=0,B3()),Q}function $se(){for(;Ti!==null;)pN(Ti)}function kse(y,v){var T=Wn;Wn|=2;var O=dN(),j=fN();Tn!==y||Ri!==v?(w5=null,b5=Sn()+500,cm(y,v)):am=C(y,v);e:do try{if(Mn!==0&&Ti!==null){v=Ti;var H=Zo;t:switch(Mn){case 1:Mn=0,Zo=null,um(y,v,H,1);break;case 2:if(ER(H)){Mn=0,Zo=null,mN(v);break}v=function(){Mn===2&&Tn===y&&(Mn=7),kc(y)},H.then(v,v);break e;case 3:Mn=7;break e;case 4:Mn=5;break e;case 7:ER(H)?(Mn=0,Zo=null,mN(v)):(Mn=0,Zo=null,um(y,v,H,7));break;case 5:var Q=null;switch(Ti.tag){case 26:Q=Ti.memoizedState;case 5:case 27:var le=Ti;if(!Q||HN(Q)){Mn=0,Zo=null;var ve=le.sibling;if(ve!==null)Ti=ve;else{var Ae=le.return;Ae!==null?(Ti=Ae,_5(Ae)):Ti=null}break t}}Mn=0,Zo=null,um(y,v,H,5);break;case 6:Mn=0,Zo=null,um(y,v,H,6);break;case 8:I7(),tr=6;break e;default:throw Error(n(462))}}Cse();break}catch(Ke){hN(y,Ke)}while(!0);return Nu=Dp=null,Fe.H=O,Fe.A=j,Wn=T,Ti!==null?0:(Tn=null,Ri=0,B3(),tr)}function Cse(){for(;Ti!==null&&!us();)pN(Ti)}function pN(y){var v=ND(y.alternate,y,Gu);y.memoizedProps=y.pendingProps,v===null?_5(y):Ti=v}function mN(y){var v=y,T=v.alternate;switch(v.tag){case 15:case 0:v=AD(T,v,v.pendingProps,v.type,void 0,Ri);break;case 11:v=AD(T,v,v.pendingProps,v.type.render,v.ref,Ri);break;case 5:zE(v);default:aN(T,v),v=Ti=rN(v,Gu),v=ND(T,v,Gu)}y.memoizedProps=y.pendingProps,v===null?_5(y):Ti=v}function um(y,v,T,O){Nu=Dp=null,zE(v),K1=null,dv=0;var j=v.return;try{if(gse(y,j,v,T,Ri)){tr=1,d5(y,Ra(T,y.current)),Ti=null;return}}catch(H){if(j!==null)throw Ti=j,H;tr=1,d5(y,Ra(T,y.current)),Ti=null;return}v.flags&32768?(Ui||O===1?y=!0:am||(Ri&536870912)!==0?y=!1:(Vu=y=!0,(O===2||O===3||O===6)&&(O=La.current,O!==null&&O.tag===13&&(O.flags|=16384))),yN(v,y)):_5(v)}function _5(y){var v=y;do{if((v.flags&32768)!==0){yN(v,Vu);return}y=v.return;var T=Sse(v.alternate,v,Gu);if(T!==null){Ti=T;return}if(v=v.sibling,v!==null){Ti=v;return}Ti=v=y}while(v!==null);tr===0&&(tr=5)}function yN(y,v){do{var T=_se(y.alternate,y);if(T!==null){T.flags&=32767,Ti=T;return}if(T=y.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!v&&(y=y.sibling,y!==null)){Ti=y;return}Ti=y=T}while(y!==null);tr=6,Ti=null}function gN(y,v,T,O,j,H,Q,le,ve,Ae){var Ke=Fe.T,ct=bt.p;try{bt.p=2,Fe.T=null,Ase(y,v,T,O,ct,j,H,Q,le,ve,Ae)}finally{Fe.T=Ke,bt.p=ct}}function Ase(y,v,T,O,j,H,Q,le){do hm();while(Fp!==null);if((Wn&6)!==0)throw Error(n(327));var ve=y.finishedWork;if(O=y.finishedLanes,ve===null)return null;if(y.finishedWork=null,y.finishedLanes=0,ve===y.current)throw Error(n(177));y.callbackNode=null,y.callbackPriority=0,y.cancelPendingCommit=null;var Ae=ve.lanes|ve.childLanes;if(Ae|=_E,X(y,O,Ae,H,Q,le),y===Tn&&(Ti=Tn=null,Ri=0),(ve.subtreeFlags&10256)===0&&(ve.flags&10256)===0||x5||(x5=!0,k7=Ae,C7=T,Rse(qr,function(){return hm(),null})),T=(ve.flags&15990)!==0,(ve.subtreeFlags&15990)!==0||T?(T=Fe.T,Fe.T=null,H=bt.p,bt.p=2,Q=Wn,Wn|=4,bse(y,ve),KD(ve,y),yt(B7,y.containerInfo),D5=!!q7,B7=q7=null,y.current=ve,WD(y,ve.alternate,ve),Xn(),Wn=Q,bt.p=H,Fe.T=T):y.current=ve,x5?(x5=!1,Fp=y,Av=O):vN(y,Ae),Ae=y.pendingLanes,Ae===0&&(Sd=null),a(ve.stateNode),kc(y),v!==null)for(j=y.onRecoverableError,ve=0;ve<v.length;ve++)Ae=v[ve],j(Ae.value,{componentStack:Ae.stack});return(Av&3)!==0&&hm(),Ae=y.pendingLanes,(O&4194218)!==0&&(Ae&42)!==0?y===A7?Ov++:(Ov=0,A7=y):Ov=0,Iv(0),null}function vN(y,v){(y.pooledCacheLanes&=v)===0&&(v=y.pooledCache,v!=null&&(y.pooledCache=null,pv(v)))}function hm(){if(Fp!==null){var y=Fp,v=k7;k7=0;var T=oe(Av),O=Fe.T,j=bt.p;try{if(bt.p=32>T?32:T,Fe.T=null,Fp===null)var H=!1;else{T=C7,C7=null;var Q=Fp,le=Av;if(Fp=null,Av=0,(Wn&6)!==0)throw Error(n(331));var ve=Wn;if(Wn|=4,iN(Q.current),QD(Q,Q.current,le,T),Wn=ve,Iv(0,!1),c&&typeof c.onPostCommitFiberRoot=="function")try{c.onPostCommitFiberRoot(x,Q)}catch{}H=!0}return H}finally{bt.p=j,Fe.T=O,vN(y,v)}}return!1}function bN(y,v,T){v=Ra(T,v),v=XE(y.stateNode,v,2),y=yd(y,v,2),y!==null&&(Y(y,2),kc(y))}function yn(y,v,T){if(y.tag===3)bN(y,y,T);else for(;v!==null;){if(v.tag===3){bN(v,y,T);break}else if(v.tag===1){var O=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Sd===null||!Sd.has(O))){y=Ra(T,y),T=SD(2),O=yd(v,T,2),O!==null&&(_D(T,O,v,y),Y(O,2),kc(O));break}}v=v.return}}function D7(y,v,T){var O=y.pingCache;if(O===null){O=y.pingCache=new Tse;var j=new Set;O.set(v,j)}else j=O.get(v),j===void 0&&(j=new Set,O.set(v,j));j.has(T)||(E7=!0,j.add(T),y=Ose.bind(null,y,v,T),v.then(y,y))}function Ose(y,v,T){var O=y.pingCache;O!==null&&O.delete(v),y.pingedLanes|=y.suspendedLanes&T,y.warmLanes&=~T,Tn===y&&(Ri&T)===T&&(tr===4||tr===3&&(Ri&62914560)===Ri&&300>Sn()-$7?(Wn&2)===0&&cm(y,0):T7|=T,lm===Ri&&(lm=0)),kc(y)}function wN(y,v){v===0&&(v=V()),y=ld(y,v),y!==null&&(Y(y,v),kc(y))}function Ise(y){var v=y.memoizedState,T=0;v!==null&&(T=v.retryLane),wN(y,T)}function Pse(y,v){var T=0;switch(y.tag){case 13:var O=y.stateNode,j=y.memoizedState;j!==null&&(T=j.retryLane);break;case 19:O=y.stateNode;break;case 22:O=y.stateNode._retryCache;break;default:throw Error(n(314))}O!==null&&O.delete(v),wN(y,T)}function Rse(y,v){return ci(y,v)}var E5=null,dm=null,N7=!1,T5=!1,L7=!1,Up=0;function kc(y){y!==dm&&y.next===null&&(dm===null?E5=dm=y:dm=dm.next=y),T5=!0,N7||(N7=!0,Nse(Dse))}function Iv(y,v){if(!L7&&T5){L7=!0;do for(var T=!1,O=E5;O!==null;){if(y!==0){var j=O.pendingLanes;if(j===0)var H=0;else{var Q=O.suspendedLanes,le=O.pingedLanes;H=(1<<31-o(42|y)+1)-1,H&=j&~(Q&~le),H=H&201326677?H&201326677|1:H?H|2:0}H!==0&&(T=!0,_N(O,H))}else H=Ri,H=$(O,O===Tn?H:0),(H&3)===0||C(O,H)||(T=!0,_N(O,H));O=O.next}while(T);L7=!1}}function Dse(){T5=N7=!1;var y=0;Up!==0&&(Hse()&&(y=Up),Up=0);for(var v=Sn(),T=null,O=E5;O!==null;){var j=O.next,H=xN(O,v);H===0?(O.next=null,T===null?E5=j:T.next=j,j===null&&(dm=T)):(T=O,(y!==0||(H&3)!==0)&&(T5=!0)),O=j}Iv(y)}function xN(y,v){for(var T=y.suspendedLanes,O=y.pingedLanes,j=y.expirationTimes,H=y.pendingLanes&-62914561;0<H;){var Q=31-o(H),le=1<<Q,ve=j[Q];ve===-1?((le&T)===0||(le&O)!==0)&&(j[Q]=P(le,v)):ve<=v&&(y.expiredLanes|=le),H&=~le}if(v=Tn,T=Ri,T=$(y,y===v?T:0),O=y.callbackNode,T===0||y===v&&Mn===2||y.cancelPendingCommit!==null)return O!==null&&O!==null&&Ni(O),y.callbackNode=null,y.callbackPriority=0;if((T&3)===0||C(y,T)){if(v=T&-T,v===y.callbackPriority)return v;switch(O!==null&&Ni(O),oe(T)){case 2:case 8:T=Eu;break;case 32:T=qr;break;case 268435456:T=eo;break;default:T=qr}return O=SN.bind(null,y),T=ci(T,O),y.callbackPriority=v,y.callbackNode=T,v}return O!==null&&O!==null&&Ni(O),y.callbackPriority=2,y.callbackNode=null,2}function SN(y,v){var T=y.callbackNode;if(hm()&&y.callbackNode!==T)return null;var O=Ri;return O=$(y,y===Tn?O:0),O===0?null:(cN(y,O,v),xN(y,Sn()),y.callbackNode!=null&&y.callbackNode===T?SN.bind(null,y):null)}function _N(y,v){if(hm())return null;cN(y,v,!0)}function Nse(y){Bse(function(){(Wn&6)!==0?ci(qo,y):y()})}function z7(){return Up===0&&(Up=L()),Up}function EN(y){return y==null||typeof y=="symbol"||typeof y=="boolean"?null:typeof y=="function"?y:mp(""+y)}function TN(y,v){var T=v.ownerDocument.createElement("input");return T.name=v.name,T.value=v.value,y.id&&T.setAttribute("form",y.id),v.parentNode.insertBefore(T,v),y=new FormData(y),T.parentNode.removeChild(T),y}function Lse(y,v,T,O,j){if(v==="submit"&&T&&T.stateNode===j){var H=EN((j[qe]||null).action),Q=O.submitter;Q&&(v=(v=Q[qe]||null)?EN(v.formAction):Q.getAttribute("formAction"),v!==null&&(H=v,Q=null));var le=new rd("action","action",null,O,j);y.push({event:le,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(Up!==0){var ve=Q?TN(j,Q):new FormData(j);WE(T,{pending:!0,data:ve,method:j.method,action:H},null,ve)}}else typeof H=="function"&&(le.preventDefault(),ve=Q?TN(j,Q):new FormData(j),WE(T,{pending:!0,data:ve,method:j.method,action:H},H,ve))},currentTarget:j}]})}}for(var j7=0;j7<gR.length;j7++){var F7=gR[j7],zse=F7.toLowerCase(),jse=F7[0].toUpperCase()+F7.slice(1);El(zse,"on"+jse)}El(Ia,"onAnimationEnd"),El(Tp,"onAnimationIteration"),El(ad,"onAnimationStart"),El("dblclick","onDoubleClick"),El("focusin","onFocus"),El("focusout","onBlur"),El(ise,"onTransitionRun"),El(nse,"onTransitionStart"),El(rse,"onTransitionCancel"),El(mR,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fse=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pv));function MN(y,v){v=(v&4)!==0;for(var T=0;T<y.length;T++){var O=y[T],j=O.event;O=O.listeners;e:{var H=void 0;if(v)for(var Q=O.length-1;0<=Q;Q--){var le=O[Q],ve=le.instance,Ae=le.currentTarget;if(le=le.listener,ve!==H&&j.isPropagationStopped())break e;H=le,j.currentTarget=Ae;try{H(j)}catch(Ke){h5(Ke)}j.currentTarget=null,H=ve}else for(Q=0;Q<O.length;Q++){if(le=O[Q],ve=le.instance,Ae=le.currentTarget,le=le.listener,ve!==H&&j.isPropagationStopped())break e;H=le,j.currentTarget=Ae;try{H(j)}catch(Ke){h5(Ke)}j.currentTarget=null,H=ve}}}}function Oi(y,v){var T=v[Je];T===void 0&&(T=v[Je]=new Set);var O=y+"__bubble";T.has(O)||($N(v,y,2,!1),T.add(O))}function U7(y,v,T){var O=0;v&&(O|=4),$N(T,y,O,v)}var M5="_reactListening"+Math.random().toString(36).slice(2);function V7(y){if(!y[M5]){y[M5]=!0,Zi.forEach(function(T){T!=="selectionchange"&&(Fse.has(T)||U7(T,!1,y),U7(T,!0,y))});var v=y.nodeType===9?y:y.ownerDocument;v===null||v[M5]||(v[M5]=!0,U7("selectionchange",!1,v))}}function $N(y,v,T,O){switch(YN(v)){case 2:var j=doe;break;case 8:j=foe;break;default:j=tT}T=j.bind(null,v,T,y),j=void 0,!L1||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(j=!0),O?j!==void 0?y.addEventListener(v,T,{capture:!0,passive:j}):y.addEventListener(v,T,!0):j!==void 0?y.addEventListener(v,T,{passive:j}):y.addEventListener(v,T,!1)}function G7(y,v,T,O,j){var H=O;if((v&1)===0&&(v&2)===0&&O!==null)e:for(;;){if(O===null)return;var Q=O.tag;if(Q===3||Q===4){var le=O.stateNode.containerInfo;if(le===j||le.nodeType===8&&le.parentNode===j)break;if(Q===4)for(Q=O.return;Q!==null;){var ve=Q.tag;if((ve===3||ve===4)&&(ve=Q.stateNode.containerInfo,ve===j||ve.nodeType===8&&ve.parentNode===j))return;Q=Q.return}for(;le!==null;){if(Q=Ai(le),Q===null)return;if(ve=Q.tag,ve===5||ve===6||ve===26||ve===27){O=H=Q;continue e}le=le.parentNode}}O=O.return}A3(function(){var Ae=H,Ke=yp(T),ct=[];e:{var Le=yR.get(y);if(Le!==void 0){var Ye=rd,Ft=y;switch(y){case"keypress":if(ku(T)===0)break e;case"keydown":case"keyup":Ye=G1;break;case"focusin":Ft="focus",Ye=V1;break;case"focusout":Ft="blur",Ye=V1;break;case"beforeblur":case"afterblur":Ye=V1;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=I3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=aE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=L3;break;case Ia:case Tp:case ad:Ye=lE;break;case mR:Ye=yE;break;case"scroll":case"scrollend":Ye=O3;break;case"wheel":Ye=vE;break;case"copy":case"cut":case"paste":Ye=uE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=iv;break;case"toggle":case"beforetoggle":Ye=wE}var ui=(v&4)!==0,ir=!ui&&(y==="scroll"||y==="scrollend"),Re=ui?Le!==null?Le+"Capture":null:Le;ui=[];for(var $e=Ae,Ne;$e!==null;){var it=$e;if(Ne=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Ne===null||Re===null||(it=id($e,Re),it!=null&&ui.push(Rv($e,it,Ne))),ir)break;$e=$e.return}0<ui.length&&(Le=new Ye(Le,Ft,null,T,Ke),ct.push({event:Le,listeners:ui}))}}if((v&7)===0){e:{if(Le=y==="mouseover"||y==="pointerover",Ye=y==="mouseout"||y==="pointerout",Le&&T!==ev&&(Ft=T.relatedTarget||T.fromElement)&&(Ai(Ft)||Ft[Ue]))break e;if((Ye||Le)&&(Le=Ke.window===Ke?Ke:(Le=Ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ye?(Ft=T.relatedTarget||T.toElement,Ye=Ae,Ft=Ft?Ai(Ft):null,Ft!==null&&(ir=st(Ft),ui=Ft.tag,Ft!==ir||ui!==5&&ui!==27&&ui!==6)&&(Ft=null)):(Ye=null,Ft=Ae),Ye!==Ft)){if(ui=I3,it="onMouseLeave",Re="onMouseEnter",$e="mouse",(y==="pointerout"||y==="pointerover")&&(ui=iv,it="onPointerLeave",Re="onPointerEnter",$e="pointer"),ir=Ye==null?Le:ri(Ye),Ne=Ft==null?Le:ri(Ft),Le=new ui(it,$e+"leave",Ye,T,Ke),Le.target=ir,Le.relatedTarget=Ne,it=null,Ai(Ke)===Ae&&(ui=new ui(Re,$e+"enter",Ft,T,Ke),ui.target=Ne,ui.relatedTarget=ir,it=ui),ir=it,Ye&&Ft)t:{for(ui=Ye,Re=Ft,$e=0,Ne=ui;Ne;Ne=fm(Ne))$e++;for(Ne=0,it=Re;it;it=fm(it))Ne++;for(;0<$e-Ne;)ui=fm(ui),$e--;for(;0<Ne-$e;)Re=fm(Re),Ne--;for(;$e--;){if(ui===Re||Re!==null&&ui===Re.alternate)break t;ui=fm(ui),Re=fm(Re)}ui=null}else ui=null;Ye!==null&&kN(ct,Le,Ye,ui,!1),Ft!==null&&ir!==null&&kN(ct,ir,Ft,ui,!0)}}e:{if(Le=Ae?ri(Ae):window,Ye=Le.nodeName&&Le.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Le.type==="file")var Pt=H3;else if(V3(Le))if(q3)Pt=se;else{Pt=J;var Si=W}else Ye=Le.nodeName,!Ye||Ye.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Ae&&Qg(Ae.elementType)&&(Pt=H3):Pt=ee;if(Pt&&(Pt=Pt(y,Ae))){G3(ct,Pt,T,Ke);break e}Si&&Si(y,Le,Ae),y==="focusout"&&Ae&&Le.type==="number"&&Ae.memoizedProps.value!=null&&Mu(Le,"number",Le.value)}switch(Si=Ae?ri(Ae):window,y){case"focusin":(V3(Si)||Si.contentEditable==="true")&&(St=Si,Nt=Ae,ti=null);break;case"focusout":ti=Nt=St=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,Jt(ct,T,Ke);break;case"selectionchange":if(Et)break;case"keydown":case"keyup":Jt(ct,T,Ke)}var qt;if(xp)e:{switch(y){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else Oa?F3(y,T)&&(Xt="onCompositionEnd"):y==="keydown"&&T.keyCode===229&&(Xt="onCompositionStart");Xt&&(z3&&T.locale!=="ko"&&(Oa||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Oa&&(qt=nd()):(_l=Ke,z1="value"in _l?_l.value:_l.textContent,Oa=!0)),Si=$5(Ae,Xt),0<Si.length&&(Xt=new R3(Xt,y,null,T,Ke),ct.push({event:Xt,listeners:Si}),qt?Xt.data=qt:(qt=nv(T),qt!==null&&(Xt.data=qt)))),(qt=H1?_c(y,T):U3(y,T))&&(Xt=$5(Ae,"onBeforeInput"),0<Xt.length&&(Si=new R3("onBeforeInput","beforeinput",null,T,Ke),ct.push({event:Si,listeners:Xt}),Si.data=qt)),Lse(ct,y,Ae,T,Ke)}MN(ct,v)})}function Rv(y,v,T){return{instance:y,listener:v,currentTarget:T}}function $5(y,v){for(var T=v+"Capture",O=[];y!==null;){var j=y,H=j.stateNode;j=j.tag,j!==5&&j!==26&&j!==27||H===null||(j=id(y,T),j!=null&&O.unshift(Rv(y,j,H)),j=id(y,v),j!=null&&O.push(Rv(y,j,H))),y=y.return}return O}function fm(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==5&&y.tag!==27);return y||null}function kN(y,v,T,O,j){for(var H=v._reactName,Q=[];T!==null&&T!==O;){var le=T,ve=le.alternate,Ae=le.stateNode;if(le=le.tag,ve!==null&&ve===O)break;le!==5&&le!==26&&le!==27||Ae===null||(ve=Ae,j?(Ae=id(T,H),Ae!=null&&Q.unshift(Rv(T,Ae,ve))):j||(Ae=id(T,H),Ae!=null&&Q.push(Rv(T,Ae,ve)))),T=T.return}Q.length!==0&&y.push({event:v,listeners:Q})}var Use=/\r\n?/g,Vse=/\u0000|\uFFFD/g;function CN(y){return(typeof y=="string"?y:""+y).replace(Use,`
`).replace(Vse,"")}function AN(y,v){return v=CN(v),CN(y)===v}function k5(){}function hn(y,v,T,O,j,H){switch(T){case"children":typeof O=="string"?v==="body"||v==="textarea"&&O===""||Sc(y,O):(typeof O=="number"||typeof O=="bigint")&&v!=="body"&&Sc(y,""+O);break;case"className":We(y,"class",O);break;case"tabIndex":We(y,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":We(y,T,O);break;case"style":Xg(y,O,H);break;case"data":if(v!=="object"){We(y,"data",O);break}case"src":case"href":if(O===""&&(v!=="a"||T!=="href")){y.removeAttribute(T);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){y.removeAttribute(T);break}O=mp(""+O),y.setAttribute(T,O);break;case"action":case"formAction":if(typeof O=="function"){y.setAttribute(T,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(T==="formAction"?(v!=="input"&&hn(y,v,"name",j.name,j,null),hn(y,v,"formEncType",j.formEncType,j,null),hn(y,v,"formMethod",j.formMethod,j,null),hn(y,v,"formTarget",j.formTarget,j,null)):(hn(y,v,"encType",j.encType,j,null),hn(y,v,"method",j.method,j,null),hn(y,v,"target",j.target,j,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){y.removeAttribute(T);break}O=mp(""+O),y.setAttribute(T,O);break;case"onClick":O!=null&&(y.onclick=k5);break;case"onScroll":O!=null&&Oi("scroll",y);break;case"onScrollEnd":O!=null&&Oi("scrollend",y);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(n(61));if(T=O.__html,T!=null){if(j.children!=null)throw Error(n(60));y.innerHTML=T}}break;case"multiple":y.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":y.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){y.removeAttribute("xlink:href");break}T=mp(""+O),y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?y.setAttribute(T,""+O):y.removeAttribute(T);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?y.setAttribute(T,""):y.removeAttribute(T);break;case"capture":case"download":O===!0?y.setAttribute(T,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?y.setAttribute(T,O):y.removeAttribute(T);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?y.setAttribute(T,O):y.removeAttribute(T);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?y.removeAttribute(T):y.setAttribute(T,O);break;case"popover":Oi("beforetoggle",y),Oi("toggle",y),ge(y,"popover",O);break;case"xlinkActuate":ot(y,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":ot(y,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":ot(y,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":ot(y,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":ot(y,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":ot(y,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":ot(y,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":ot(y,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":ot(y,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":ge(y,"is",O);break;case"innerText":case"textContent":break;default:(!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(T=sE.get(T)||T,ge(y,T,O))}}function H7(y,v,T,O,j,H){switch(T){case"style":Xg(y,O,H);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(n(61));if(T=O.__html,T!=null){if(j.children!=null)throw Error(n(60));y.innerHTML=T}}break;case"children":typeof O=="string"?Sc(y,O):(typeof O=="number"||typeof O=="bigint")&&Sc(y,""+O);break;case"onScroll":O!=null&&Oi("scroll",y);break;case"onScrollEnd":O!=null&&Oi("scrollend",y);break;case"onClick":O!=null&&(y.onclick=k5);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pi.hasOwnProperty(T))e:{if(T[0]==="o"&&T[1]==="n"&&(j=T.endsWith("Capture"),v=T.slice(2,j?T.length-7:void 0),H=y[qe]||null,H=H!=null?H[T]:null,typeof H=="function"&&y.removeEventListener(v,H,j),typeof O=="function")){typeof H!="function"&&H!==null&&(T in y?y[T]=null:y.hasAttribute(T)&&y.removeAttribute(T)),y.addEventListener(v,O,j);break e}T in y?y[T]=O:O===!0?y.setAttribute(T,""):ge(y,T,O)}}}function ms(y,v,T){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oi("error",y),Oi("load",y);var O=!1,j=!1,H;for(H in T)if(T.hasOwnProperty(H)){var Q=T[H];if(Q!=null)switch(H){case"src":O=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:hn(y,v,H,Q,T,null)}}j&&hn(y,v,"srcSet",T.srcSet,T,null),O&&hn(y,v,"src",T.src,T,null);return;case"input":Oi("invalid",y);var le=H=Q=j=null,ve=null,Ae=null;for(O in T)if(T.hasOwnProperty(O)){var Ke=T[O];if(Ke!=null)switch(O){case"name":j=Ke;break;case"type":Q=Ke;break;case"checked":ve=Ke;break;case"defaultChecked":Ae=Ke;break;case"value":H=Ke;break;case"defaultValue":le=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,v));break;default:hn(y,v,O,Ke,T,null)}}Sl(y,H,le,ve,Ae,Q,j,!1),En(y);return;case"select":Oi("invalid",y),O=Q=H=null;for(j in T)if(T.hasOwnProperty(j)&&(le=T[j],le!=null))switch(j){case"value":H=le;break;case"defaultValue":Q=le;break;case"multiple":O=le;default:hn(y,v,j,le,T,null)}v=H,T=Q,y.multiple=!!O,v!=null?Qh(y,!!O,v,!1):T!=null&&Qh(y,!!O,T,!0);return;case"textarea":Oi("invalid",y),H=j=O=null;for(Q in T)if(T.hasOwnProperty(Q)&&(le=T[Q],le!=null))switch(Q){case"value":O=le;break;case"defaultValue":j=le;break;case"children":H=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(91));break;default:hn(y,v,Q,le,T,null)}Kg(y,O,j,H),En(y);return;case"option":for(ve in T)if(T.hasOwnProperty(ve)&&(O=T[ve],O!=null))switch(ve){case"selected":y.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:hn(y,v,ve,O,T,null)}return;case"dialog":Oi("cancel",y),Oi("close",y);break;case"iframe":case"object":Oi("load",y);break;case"video":case"audio":for(O=0;O<Pv.length;O++)Oi(Pv[O],y);break;case"image":Oi("error",y),Oi("load",y);break;case"details":Oi("toggle",y);break;case"embed":case"source":case"link":Oi("error",y),Oi("load",y);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in T)if(T.hasOwnProperty(Ae)&&(O=T[Ae],O!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:hn(y,v,Ae,O,T,null)}return;default:if(Qg(v)){for(Ke in T)T.hasOwnProperty(Ke)&&(O=T[Ke],O!==void 0&&H7(y,v,Ke,O,T,void 0));return}}for(le in T)T.hasOwnProperty(le)&&(O=T[le],O!=null&&hn(y,v,le,O,T,null))}function Gse(y,v,T,O){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,H=null,Q=null,le=null,ve=null,Ae=null,Ke=null;for(Ye in T){var ct=T[Ye];if(T.hasOwnProperty(Ye)&&ct!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":ve=ct;default:O.hasOwnProperty(Ye)||hn(y,v,Ye,null,O,ct)}}for(var Le in O){var Ye=O[Le];if(ct=T[Le],O.hasOwnProperty(Le)&&(Ye!=null||ct!=null))switch(Le){case"type":H=Ye;break;case"name":j=Ye;break;case"checked":Ae=Ye;break;case"defaultChecked":Ke=Ye;break;case"value":Q=Ye;break;case"defaultValue":le=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,v));break;default:Ye!==ct&&hn(y,v,Le,Ye,O,ct)}}Xh(y,Q,le,ve,Ae,Ke,H,j);return;case"select":Ye=Q=le=Le=null;for(H in T)if(ve=T[H],T.hasOwnProperty(H)&&ve!=null)switch(H){case"value":break;case"multiple":Ye=ve;default:O.hasOwnProperty(H)||hn(y,v,H,null,O,ve)}for(j in O)if(H=O[j],ve=T[j],O.hasOwnProperty(j)&&(H!=null||ve!=null))switch(j){case"value":Le=H;break;case"defaultValue":le=H;break;case"multiple":Q=H;default:H!==ve&&hn(y,v,j,H,O,ve)}v=le,T=Q,O=Ye,Le!=null?Qh(y,!!T,Le,!1):!!O!=!!T&&(v!=null?Qh(y,!!T,v,!0):Qh(y,!!T,T?[]:"",!1));return;case"textarea":Ye=Le=null;for(le in T)if(j=T[le],T.hasOwnProperty(le)&&j!=null&&!O.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:hn(y,v,le,null,O,j)}for(Q in O)if(j=O[Q],H=T[Q],O.hasOwnProperty(Q)&&(j!=null||H!=null))switch(Q){case"value":Le=j;break;case"defaultValue":Ye=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==H&&hn(y,v,Q,j,O,H)}Yg(y,Le,Ye);return;case"option":for(var Ft in T)if(Le=T[Ft],T.hasOwnProperty(Ft)&&Le!=null&&!O.hasOwnProperty(Ft))switch(Ft){case"selected":y.selected=!1;break;default:hn(y,v,Ft,null,O,Le)}for(ve in O)if(Le=O[ve],Ye=T[ve],O.hasOwnProperty(ve)&&Le!==Ye&&(Le!=null||Ye!=null))switch(ve){case"selected":y.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:hn(y,v,ve,Le,O,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ui in T)Le=T[ui],T.hasOwnProperty(ui)&&Le!=null&&!O.hasOwnProperty(ui)&&hn(y,v,ui,null,O,Le);for(Ae in O)if(Le=O[Ae],Ye=T[Ae],O.hasOwnProperty(Ae)&&Le!==Ye&&(Le!=null||Ye!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(n(137,v));break;default:hn(y,v,Ae,Le,O,Ye)}return;default:if(Qg(v)){for(var ir in T)Le=T[ir],T.hasOwnProperty(ir)&&Le!==void 0&&!O.hasOwnProperty(ir)&&H7(y,v,ir,void 0,O,Le);for(Ke in O)Le=O[Ke],Ye=T[Ke],!O.hasOwnProperty(Ke)||Le===Ye||Le===void 0&&Ye===void 0||H7(y,v,Ke,Le,O,Ye);return}}for(var Re in T)Le=T[Re],T.hasOwnProperty(Re)&&Le!=null&&!O.hasOwnProperty(Re)&&hn(y,v,Re,null,O,Le);for(ct in O)Le=O[ct],Ye=T[ct],!O.hasOwnProperty(ct)||Le===Ye||Le==null&&Ye==null||hn(y,v,ct,Le,O,Ye)}var q7=null,B7=null;function C5(y){return y.nodeType===9?y:y.ownerDocument}function ON(y){switch(y){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IN(y,v){if(y===0)switch(v){case"svg":return 1;case"math":return 2;default:return 0}return y===1&&v==="foreignObject"?0:y}function W7(y,v){return y==="textarea"||y==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.children=="bigint"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var J7=null;function Hse(){var y=window.event;return y&&y.type==="popstate"?y===J7?!1:(J7=y,!0):(J7=null,!1)}var PN=typeof setTimeout=="function"?setTimeout:void 0,qse=typeof clearTimeout=="function"?clearTimeout:void 0,RN=typeof Promise=="function"?Promise:void 0,Bse=typeof queueMicrotask=="function"?queueMicrotask:typeof RN<"u"?function(y){return RN.resolve(null).then(y).catch(Wse)}:PN;function Wse(y){setTimeout(function(){throw y})}function Z7(y,v){var T=v,O=0;do{var j=T.nextSibling;if(y.removeChild(T),j&&j.nodeType===8)if(T=j.data,T==="/$"){if(O===0){y.removeChild(j),Vv(v);return}O--}else T!=="$"&&T!=="$?"&&T!=="$!"||O++;T=j}while(T);Vv(v)}function Y7(y){var v=y.firstChild;for(v&&v.nodeType===10&&(v=v.nextSibling);v;){var T=v;switch(v=v.nextSibling,T.nodeName){case"HTML":case"HEAD":case"BODY":Y7(T),mi(T);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(T.rel.toLowerCase()==="stylesheet")continue}y.removeChild(T)}}function Jse(y,v,T,O){for(;y.nodeType===1;){var j=T;if(y.nodeName.toLowerCase()!==v.toLowerCase()){if(!O&&(y.nodeName!=="INPUT"||y.type!=="hidden"))break}else if(O){if(!y[ni])switch(v){case"meta":if(!y.hasAttribute("itemprop"))break;return y;case"link":if(H=y.getAttribute("rel"),H==="stylesheet"&&y.hasAttribute("data-precedence"))break;if(H!==j.rel||y.getAttribute("href")!==(j.href==null?null:j.href)||y.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||y.getAttribute("title")!==(j.title==null?null:j.title))break;return y;case"style":if(y.hasAttribute("data-precedence"))break;return y;case"script":if(H=y.getAttribute("src"),(H!==(j.src==null?null:j.src)||y.getAttribute("type")!==(j.type==null?null:j.type)||y.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&H&&y.hasAttribute("async")&&!y.hasAttribute("itemprop"))break;return y;default:return y}}else if(v==="input"&&y.type==="hidden"){var H=j.name==null?null:""+j.name;if(j.type==="hidden"&&y.getAttribute("name")===H)return y}else return y;if(y=$l(y.nextSibling),y===null)break}return null}function Zse(y,v,T){if(v==="")return null;for(;y.nodeType!==3;)if((y.nodeType!==1||y.nodeName!=="INPUT"||y.type!=="hidden")&&!T||(y=$l(y.nextSibling),y===null))return null;return y}function $l(y){for(;y!=null;y=y.nextSibling){var v=y.nodeType;if(v===1||v===3)break;if(v===8){if(v=y.data,v==="$"||v==="$!"||v==="$?"||v==="F!"||v==="F")break;if(v==="/$")return null}}return y}function DN(y){y=y.previousSibling;for(var v=0;y;){if(y.nodeType===8){var T=y.data;if(T==="$"||T==="$!"||T==="$?"){if(v===0)return y;v--}else T==="/$"&&v++}y=y.previousSibling}return null}function NN(y,v,T){switch(v=C5(T),y){case"html":if(y=v.documentElement,!y)throw Error(n(452));return y;case"head":if(y=v.head,!y)throw Error(n(453));return y;case"body":if(y=v.body,!y)throw Error(n(454));return y;default:throw Error(n(451))}}var Va=new Map,LN=new Set;function A5(y){return typeof y.getRootNode=="function"?y.getRootNode():y.ownerDocument}var qu=bt.d;bt.d={f:Yse,r:Kse,D:Xse,C:Qse,L:eoe,m:toe,X:noe,S:ioe,M:roe};function Yse(){var y=qu.f(),v=S5();return y||v}function Kse(y){var v=xi(y);v!==null&&v.tag===5&&v.type==="form"?uD(v):qu.r(y)}var pm=typeof document>"u"?null:document;function zN(y,v,T){var O=pm;if(O&&typeof v=="string"&&v){var j=Cs(v);j='link[rel="'+y+'"][href="'+j+'"]',typeof T=="string"&&(j+='[crossorigin="'+T+'"]'),LN.has(j)||(LN.add(j),y={rel:y,crossOrigin:T,href:v},O.querySelector(j)===null&&(v=O.createElement("link"),ms(v,"link",y),Ct(v),O.head.appendChild(v)))}}function Xse(y){qu.D(y),zN("dns-prefetch",y,null)}function Qse(y,v){qu.C(y,v),zN("preconnect",y,v)}function eoe(y,v,T){qu.L(y,v,T);var O=pm;if(O&&y&&v){var j='link[rel="preload"][as="'+Cs(v)+'"]';v==="image"&&T&&T.imageSrcSet?(j+='[imagesrcset="'+Cs(T.imageSrcSet)+'"]',typeof T.imageSizes=="string"&&(j+='[imagesizes="'+Cs(T.imageSizes)+'"]')):j+='[href="'+Cs(y)+'"]';var H=j;switch(v){case"style":H=mm(y);break;case"script":H=ym(y)}Va.has(H)||(y=He({rel:"preload",href:v==="image"&&T&&T.imageSrcSet?void 0:y,as:v},T),Va.set(H,y),O.querySelector(j)!==null||v==="style"&&O.querySelector(Dv(H))||v==="script"&&O.querySelector(Nv(H))||(v=O.createElement("link"),ms(v,"link",y),Ct(v),O.head.appendChild(v)))}}function toe(y,v){qu.m(y,v);var T=pm;if(T&&y){var O=v&&typeof v.as=="string"?v.as:"script",j='link[rel="modulepreload"][as="'+Cs(O)+'"][href="'+Cs(y)+'"]',H=j;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=ym(y)}if(!Va.has(H)&&(y=He({rel:"modulepreload",href:y},v),Va.set(H,y),T.querySelector(j)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(T.querySelector(Nv(H)))return}O=T.createElement("link"),ms(O,"link",y),Ct(O),T.head.appendChild(O)}}}function ioe(y,v,T){qu.S(y,v,T);var O=pm;if(O&&y){var j=zt(O).hoistableStyles,H=mm(y);v=v||"default";var Q=j.get(H);if(!Q){var le={loading:0,preload:null};if(Q=O.querySelector(Dv(H)))le.loading=5;else{y=He({rel:"stylesheet",href:y,"data-precedence":v},T),(T=Va.get(H))&&K7(y,T);var ve=Q=O.createElement("link");Ct(ve),ms(ve,"link",y),ve._p=new Promise(function(Ae,Ke){ve.onload=Ae,ve.onerror=Ke}),ve.addEventListener("load",function(){le.loading|=1}),ve.addEventListener("error",function(){le.loading|=2}),le.loading|=4,O5(Q,v,O)}Q={type:"stylesheet",instance:Q,count:1,state:le},j.set(H,Q)}}}function noe(y,v){qu.X(y,v);var T=pm;if(T&&y){var O=zt(T).hoistableScripts,j=ym(y),H=O.get(j);H||(H=T.querySelector(Nv(j)),H||(y=He({src:y,async:!0},v),(v=Va.get(j))&&X7(y,v),H=T.createElement("script"),Ct(H),ms(H,"link",y),T.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},O.set(j,H))}}function roe(y,v){qu.M(y,v);var T=pm;if(T&&y){var O=zt(T).hoistableScripts,j=ym(y),H=O.get(j);H||(H=T.querySelector(Nv(j)),H||(y=He({src:y,async:!0,type:"module"},v),(v=Va.get(j))&&X7(y,v),H=T.createElement("script"),Ct(H),ms(H,"link",y),T.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},O.set(j,H))}}function jN(y,v,T,O){var j=(j=ks.current)?A5(j):null;if(!j)throw Error(n(446));switch(y){case"meta":case"title":return null;case"style":return typeof T.precedence=="string"&&typeof T.href=="string"?(v=mm(T.href),T=zt(j).hoistableStyles,O=T.get(v),O||(O={type:"style",instance:null,count:0,state:null},T.set(v,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(T.rel==="stylesheet"&&typeof T.href=="string"&&typeof T.precedence=="string"){y=mm(T.href);var H=zt(j).hoistableStyles,Q=H.get(y);if(Q||(j=j.ownerDocument||j,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(y,Q),(H=j.querySelector(Dv(y)))&&!H._p&&(Q.instance=H,Q.state.loading=5),Va.has(y)||(T={rel:"preload",as:"style",href:T.href,crossOrigin:T.crossOrigin,integrity:T.integrity,media:T.media,hrefLang:T.hrefLang,referrerPolicy:T.referrerPolicy},Va.set(y,T),H||soe(j,y,T,Q.state))),v&&O===null)throw Error(n(528,""));return Q}if(v&&O!==null)throw Error(n(529,""));return null;case"script":return v=T.async,T=T.src,typeof T=="string"&&v&&typeof v!="function"&&typeof v!="symbol"?(v=ym(T),T=zt(j).hoistableScripts,O=T.get(v),O||(O={type:"script",instance:null,count:0,state:null},T.set(v,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,y))}}function mm(y){return'href="'+Cs(y)+'"'}function Dv(y){return'link[rel="stylesheet"]['+y+"]"}function FN(y){return He({},y,{"data-precedence":y.precedence,precedence:null})}function soe(y,v,T,O){y.querySelector('link[rel="preload"][as="style"]['+v+"]")?O.loading=1:(v=y.createElement("link"),O.preload=v,v.addEventListener("load",function(){return O.loading|=1}),v.addEventListener("error",function(){return O.loading|=2}),ms(v,"link",T),Ct(v),y.head.appendChild(v))}function ym(y){return'[src="'+Cs(y)+'"]'}function Nv(y){return"script[async]"+y}function UN(y,v,T){if(v.count++,v.instance===null)switch(v.type){case"style":var O=y.querySelector('style[data-href~="'+Cs(T.href)+'"]');if(O)return v.instance=O,Ct(O),O;var j=He({},T,{"data-href":T.href,"data-precedence":T.precedence,href:null,precedence:null});return O=(y.ownerDocument||y).createElement("style"),Ct(O),ms(O,"style",j),O5(O,T.precedence,y),v.instance=O;case"stylesheet":j=mm(T.href);var H=y.querySelector(Dv(j));if(H)return v.state.loading|=4,v.instance=H,Ct(H),H;O=FN(T),(j=Va.get(j))&&K7(O,j),H=(y.ownerDocument||y).createElement("link"),Ct(H);var Q=H;return Q._p=new Promise(function(le,ve){Q.onload=le,Q.onerror=ve}),ms(H,"link",O),v.state.loading|=4,O5(H,T.precedence,y),v.instance=H;case"script":return H=ym(T.src),(j=y.querySelector(Nv(H)))?(v.instance=j,Ct(j),j):(O=T,(j=Va.get(H))&&(O=He({},T),X7(O,j)),y=y.ownerDocument||y,j=y.createElement("script"),Ct(j),ms(j,"link",O),y.head.appendChild(j),v.instance=j);case"void":return null;default:throw Error(n(443,v.type))}else v.type==="stylesheet"&&(v.state.loading&4)===0&&(O=v.instance,v.state.loading|=4,O5(O,T.precedence,y));return v.instance}function O5(y,v,T){for(var O=T.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=O.length?O[O.length-1]:null,H=j,Q=0;Q<O.length;Q++){var le=O[Q];if(le.dataset.precedence===v)H=le;else if(H!==j)break}H?H.parentNode.insertBefore(y,H.nextSibling):(v=T.nodeType===9?T.head:T,v.insertBefore(y,v.firstChild))}function K7(y,v){y.crossOrigin==null&&(y.crossOrigin=v.crossOrigin),y.referrerPolicy==null&&(y.referrerPolicy=v.referrerPolicy),y.title==null&&(y.title=v.title)}function X7(y,v){y.crossOrigin==null&&(y.crossOrigin=v.crossOrigin),y.referrerPolicy==null&&(y.referrerPolicy=v.referrerPolicy),y.integrity==null&&(y.integrity=v.integrity)}var I5=null;function VN(y,v,T){if(I5===null){var O=new Map,j=I5=new Map;j.set(T,O)}else j=I5,O=j.get(T),O||(O=new Map,j.set(T,O));if(O.has(y))return O;for(O.set(y,null),T=T.getElementsByTagName(y),j=0;j<T.length;j++){var H=T[j];if(!(H[ni]||H[Pe]||y==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=H.getAttribute(v)||"";Q=y+Q;var le=O.get(Q);le?le.push(H):O.set(Q,[H])}}return O}function GN(y,v,T){y=y.ownerDocument||y,y.head.insertBefore(T,v==="title"?y.querySelector("head > title"):null)}function ooe(y,v,T){if(T===1||v.itemProp!=null)return!1;switch(y){case"meta":case"title":return!0;case"style":if(typeof v.precedence!="string"||typeof v.href!="string"||v.href==="")break;return!0;case"link":if(typeof v.rel!="string"||typeof v.href!="string"||v.href===""||v.onLoad||v.onError)break;switch(v.rel){case"stylesheet":return y=v.disabled,typeof v.precedence=="string"&&y==null;default:return!0}case"script":if(v.async&&typeof v.async!="function"&&typeof v.async!="symbol"&&!v.onLoad&&!v.onError&&v.src&&typeof v.src=="string")return!0}return!1}function HN(y){return!(y.type==="stylesheet"&&(y.state.loading&3)===0)}var Lv=null;function aoe(){}function loe(y,v,T){if(Lv===null)throw Error(n(475));var O=Lv;if(v.type==="stylesheet"&&(typeof T.media!="string"||matchMedia(T.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var j=mm(T.href),H=y.querySelector(Dv(j));if(H){y=H._p,y!==null&&typeof y=="object"&&typeof y.then=="function"&&(O.count++,O=P5.bind(O),y.then(O,O)),v.state.loading|=4,v.instance=H,Ct(H);return}H=y.ownerDocument||y,T=FN(T),(j=Va.get(j))&&K7(T,j),H=H.createElement("link"),Ct(H);var Q=H;Q._p=new Promise(function(le,ve){Q.onload=le,Q.onerror=ve}),ms(H,"link",T),v.instance=H}O.stylesheets===null&&(O.stylesheets=new Map),O.stylesheets.set(v,y),(y=v.state.preload)&&(v.state.loading&3)===0&&(O.count++,v=P5.bind(O),y.addEventListener("load",v),y.addEventListener("error",v))}}function coe(){if(Lv===null)throw Error(n(475));var y=Lv;return y.stylesheets&&y.count===0&&Q7(y,y.stylesheets),0<y.count?function(v){var T=setTimeout(function(){if(y.stylesheets&&Q7(y,y.stylesheets),y.unsuspend){var O=y.unsuspend;y.unsuspend=null,O()}},6e4);return y.unsuspend=v,function(){y.unsuspend=null,clearTimeout(T)}}:null}function P5(){if(this.count--,this.count===0){if(this.stylesheets)Q7(this,this.stylesheets);else if(this.unsuspend){var y=this.unsuspend;this.unsuspend=null,y()}}}var R5=null;function Q7(y,v){y.stylesheets=null,y.unsuspend!==null&&(y.count++,R5=new Map,v.forEach(uoe,y),R5=null,P5.call(y))}function uoe(y,v){if(!(v.state.loading&4)){var T=R5.get(y);if(T)var O=T.get(null);else{T=new Map,R5.set(y,T);for(var j=y.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<j.length;H++){var Q=j[H];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(T.set(Q.dataset.precedence,Q),O=Q)}O&&T.set(null,O)}j=v.instance,Q=j.getAttribute("data-precedence"),H=T.get(Q)||O,H===O&&T.set(null,j),T.set(Q,j),this.count++,O=P5.bind(this),j.addEventListener("load",O),j.addEventListener("error",O),H?H.parentNode.insertBefore(j,H.nextSibling):(y=y.nodeType===9?y.head:y,y.insertBefore(j,y.firstChild)),v.state.loading|=4}}var zv={$$typeof:F,Provider:null,Consumer:null,_currentValue:Yt,_currentValue2:Yt,_threadCount:0};function hoe(y,v,T,O,j,H,Q,le){this.tag=1,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=O,this.onUncaughtError=j,this.onCaughtError=H,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function qN(y,v,T,O,j,H,Q,le,ve,Ae,Ke,ct){return y=new hoe(y,v,T,Q,le,ve,Ae,ct),v=1,H===!0&&(v|=24),H=Fa(3,null,null,v),y.current=H,H.stateNode=y,v=OE(),v.refCount++,y.pooledCache=v,v.refCount++,H.memoizedState={element:O,isDehydrated:T,cache:v},h7(H),y}function BN(y){return y?(y=J1,y):J1}function WN(y,v,T,O,j,H){j=BN(j),O.context===null?O.context=j:O.pendingContext=j,O=md(v),O.payload={element:T},H=H===void 0?null:H,H!==null&&(O.callback=H),T=yd(y,O,v),T!==null&&(io(T,y,v),xv(T,y,v))}function JN(y,v){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var T=y.retryLane;y.retryLane=T!==0&&T<v?T:v}}function eT(y,v){JN(y,v),(y=y.alternate)&&JN(y,v)}function ZN(y){if(y.tag===13){var v=ld(y,67108864);v!==null&&io(v,y,67108864),eT(y,67108864)}}var D5=!0;function doe(y,v,T,O){var j=Fe.T;Fe.T=null;var H=bt.p;try{bt.p=2,tT(y,v,T,O)}finally{bt.p=H,Fe.T=j}}function foe(y,v,T,O){var j=Fe.T;Fe.T=null;var H=bt.p;try{bt.p=8,tT(y,v,T,O)}finally{bt.p=H,Fe.T=j}}function tT(y,v,T,O){if(D5){var j=iT(O);if(j===null)G7(y,v,O,N5,T),KN(y,O);else if(moe(j,y,v,T,O))O.stopPropagation();else if(KN(y,O),v&4&&-1<poe.indexOf(y)){for(;j!==null;){var H=xi(j);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var Q=_(H.pendingLanes);if(Q!==0){var le=H;for(le.pendingLanes|=2,le.entangledLanes|=2;Q;){var ve=1<<31-o(Q);le.entanglements[1]|=ve,Q&=~ve}kc(H),(Wn&6)===0&&(b5=Sn()+500,Iv(0))}}break;case 13:le=ld(H,2),le!==null&&io(le,H,2),S5(),eT(H,2)}if(H=iT(O),H===null&&G7(y,v,O,N5,T),H===j)break;j=H}j!==null&&O.stopPropagation()}else G7(y,v,O,null,T)}}function iT(y){return y=yp(y),nT(y)}var N5=null;function nT(y){if(N5=null,y=Ai(y),y!==null){var v=st(y);if(v===null)y=null;else{var T=v.tag;if(T===13){if(y=Tt(v),y!==null)return y;y=null}else if(T===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;y=null}else v!==y&&(y=null)}}return N5=y,null}function YN(y){switch(y){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xo()){case qo:return 2;case Eu:return 8;case qr:case pt:return 32;case eo:return 268435456;default:return 32}default:return 32}}var rT=!1,_d=null,Ed=null,Td=null,jv=new Map,Fv=new Map,Md=[],poe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KN(y,v){switch(y){case"focusin":case"focusout":_d=null;break;case"dragenter":case"dragleave":Ed=null;break;case"mouseover":case"mouseout":Td=null;break;case"pointerover":case"pointerout":jv.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fv.delete(v.pointerId)}}function Uv(y,v,T,O,j,H){return y===null||y.nativeEvent!==H?(y={blockedOn:v,domEventName:T,eventSystemFlags:O,nativeEvent:H,targetContainers:[j]},v!==null&&(v=xi(v),v!==null&&ZN(v)),y):(y.eventSystemFlags|=O,v=y.targetContainers,j!==null&&v.indexOf(j)===-1&&v.push(j),y)}function moe(y,v,T,O,j){switch(v){case"focusin":return _d=Uv(_d,y,v,T,O,j),!0;case"dragenter":return Ed=Uv(Ed,y,v,T,O,j),!0;case"mouseover":return Td=Uv(Td,y,v,T,O,j),!0;case"pointerover":var H=j.pointerId;return jv.set(H,Uv(jv.get(H)||null,y,v,T,O,j)),!0;case"gotpointercapture":return H=j.pointerId,Fv.set(H,Uv(Fv.get(H)||null,y,v,T,O,j)),!0}return!1}function XN(y){var v=Ai(y.target);if(v!==null){var T=st(v);if(T!==null){if(v=T.tag,v===13){if(v=Tt(T),v!==null){y.blockedOn=v,be(y.priority,function(){if(T.tag===13){var O=Yo(),j=ld(T,O);j!==null&&io(j,T,O),eT(T,O)}});return}}else if(v===3&&T.stateNode.current.memoizedState.isDehydrated){y.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}y.blockedOn=null}function L5(y){if(y.blockedOn!==null)return!1;for(var v=y.targetContainers;0<v.length;){var T=iT(y.nativeEvent);if(T===null){T=y.nativeEvent;var O=new T.constructor(T.type,T);ev=O,T.target.dispatchEvent(O),ev=null}else return v=xi(T),v!==null&&ZN(v),y.blockedOn=T,!1;v.shift()}return!0}function QN(y,v,T){L5(y)&&T.delete(v)}function yoe(){rT=!1,_d!==null&&L5(_d)&&(_d=null),Ed!==null&&L5(Ed)&&(Ed=null),Td!==null&&L5(Td)&&(Td=null),jv.forEach(QN),Fv.forEach(QN)}function z5(y,v){y.blockedOn===v&&(y.blockedOn=null,rT||(rT=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yoe)))}var j5=null;function eL(y){j5!==y&&(j5=y,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){j5===y&&(j5=null);for(var v=0;v<y.length;v+=3){var T=y[v],O=y[v+1],j=y[v+2];if(typeof O!="function"){if(nT(O||T)===null)continue;break}var H=xi(T);H!==null&&(y.splice(v,3),v-=3,WE(H,{pending:!0,data:j,method:T.method,action:O},O,j))}}))}function Vv(y){function v(ve){return z5(ve,y)}_d!==null&&z5(_d,y),Ed!==null&&z5(Ed,y),Td!==null&&z5(Td,y),jv.forEach(v),Fv.forEach(v);for(var T=0;T<Md.length;T++){var O=Md[T];O.blockedOn===y&&(O.blockedOn=null)}for(;0<Md.length&&(T=Md[0],T.blockedOn===null);)XN(T),T.blockedOn===null&&Md.shift();if(T=(y.ownerDocument||y).$$reactFormReplay,T!=null)for(O=0;O<T.length;O+=3){var j=T[O],H=T[O+1],Q=j[qe]||null;if(typeof H=="function")Q||eL(T);else if(Q){var le=null;if(H&&H.hasAttribute("formAction")){if(j=H,Q=H[qe]||null)le=Q.formAction;else if(nT(j)!==null)continue}else le=Q.action;typeof le=="function"?T[O+1]=le:(T.splice(O,3),O-=3),eL(T)}}}function sT(y){this._internalRoot=y}F5.prototype.render=sT.prototype.render=function(y){var v=this._internalRoot;if(v===null)throw Error(n(409));var T=v.current,O=Yo();WN(T,O,y,v,null,null)},F5.prototype.unmount=sT.prototype.unmount=function(){var y=this._internalRoot;if(y!==null){this._internalRoot=null;var v=y.containerInfo;y.tag===0&&hm(),WN(y.current,2,null,y,null,null),S5(),v[Ue]=null}};function F5(y){this._internalRoot=y}F5.prototype.unstable_scheduleHydration=function(y){if(y){var v=he();y={blockedOn:null,target:y,priority:v};for(var T=0;T<Md.length&&v!==0&&v<Md[T].priority;T++);Md.splice(T,0,y),T===0&&XN(y)}};var tL=t.version;if(tL!=="19.0.0")throw Error(n(527,tL,"19.0.0"));bt.findDOMNode=function(y){var v=y._reactInternals;if(v===void 0)throw typeof y.render=="function"?Error(n(188)):(y=Object.keys(y).join(","),Error(n(268,y)));return y=Xe(v),y=y!==null?$t(y):null,y=y===null?null:y.stateNode,y};var goe={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Fe,findFiberByHostInstance:Ai,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U5.isDisabled&&U5.supportsFiber)try{x=U5.inject(goe),c=U5}catch{}}return Hv.createRoot=function(y,v){if(!s(y))throw Error(n(299));var T=!1,O="",j=vD,H=bD,Q=wD,le=null;return v!=null&&(v.unstable_strictMode===!0&&(T=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onUncaughtError!==void 0&&(j=v.onUncaughtError),v.onCaughtError!==void 0&&(H=v.onCaughtError),v.onRecoverableError!==void 0&&(Q=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(le=v.unstable_transitionCallbacks)),v=qN(y,1,!1,null,null,T,O,j,H,Q,le,null),y[Ue]=v.current,V7(y.nodeType===8?y.parentNode:y),new sT(v)},Hv.hydrateRoot=function(y,v,T){if(!s(y))throw Error(n(299));var O=!1,j="",H=vD,Q=bD,le=wD,ve=null,Ae=null;return T!=null&&(T.unstable_strictMode===!0&&(O=!0),T.identifierPrefix!==void 0&&(j=T.identifierPrefix),T.onUncaughtError!==void 0&&(H=T.onUncaughtError),T.onCaughtError!==void 0&&(Q=T.onCaughtError),T.onRecoverableError!==void 0&&(le=T.onRecoverableError),T.unstable_transitionCallbacks!==void 0&&(ve=T.unstable_transitionCallbacks),T.formState!==void 0&&(Ae=T.formState)),v=qN(y,1,!0,v,T??null,O,j,H,Q,le,ve,Ae),v.context=BN(null),T=v.current,O=Yo(),j=md(O),j.callback=null,yd(T,j,O),v.current.lanes=O,Y(v,O),kc(v),y[Ue]=v.current,V7(y),new F5(v)},Hv.version="19.0.0",Hv}var hL;function koe(){if(hL)return lT.exports;hL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lT.exports=$oe(),lT.exports}var Coe=koe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Aoe="calcite-mode-auto",Oq="calcite-mode-dark",Ooe="calcite-mode-light",nu={darkMode:Oq,lightMode:Ooe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},dL={filter:250,resize:150,reposition:100},Ioe="modulepreload",Poe=function(e,t){return new URL(e,t).href},fL={},rt=function(t,i,n){let s=Promise.resolve();if(i&&i.length>0){const p=document.getElementsByTagName("link"),g=document.querySelector("meta[property=csp-nonce]"),w=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));s=Promise.allSettled(i.map(E=>{if(E=Poe(E,n),E in fL)return;fL[E]=!0;const A=E.endsWith(".css"),I=A?'[rel="stylesheet"]':"";if(!!n)for(let q=p.length-1;q>=0;q--){const B=p[q];if(B.href===E&&(!A||B.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${E}"]${I}`))return;const F=document.createElement("link");if(F.rel=A?"stylesheet":Ioe,A||(F.as="script"),F.crossOrigin="",F.href=E,w&&F.setAttribute("nonce",w),document.head.appendChild(F),A)return new Promise((q,B)=>{F.addEventListener("load",q),F.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return s.then(p=>{for(const g of p||[])g.status==="rejected"&&u(g.reason);return t().catch(u)})};var ec={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},Roe=Object.defineProperty,Doe=(e,t)=>{for(var i in t)Roe(e,i,{get:t[i],enumerable:!0})},Iq=new WeakMap,E1=e=>Iq.get(e),Noe=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Iq.set(e,i)},pL=(e,t)=>t in e,kw=(e,t)=>(0,console.error)(e,t),CS=new Map,Loe=[],zoe="slot-fb{display:contents}slot-fb[hidden]{display:none}",mL="http://www.w3.org/1999/xlink",Cw=typeof window<"u"?window:{},sc=Cw.document||{head:{}},_i=Cw.HTMLElement||class{},as={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},joe=(()=>{let e=!1;try{sc.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Foe=e=>Promise.resolve(e),Uoe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),eM=!1,tM=[],Pq=[],Rq=(e,t)=>i=>{e.push(i),eM||(eM=!0,t&&as.$flags$&4?Voe(iM):as.raf(iM))},yL=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){kw(i)}e.length=0},iM=()=>{yL(tM),yL(Pq),(eM=tM.length>0)&&as.raf(iM)},Voe=e=>Foe().then(e),Goe=Rq(tM,!1),Hoe=Rq(Pq,!0),eO=e=>{const t=new URL(e,as.$resourcesUrl$);return t.origin!==Cw.location.origin?t.href:t.pathname},Dq=e=>as.$resourcesUrl$=e,gL={},qoe="http://www.w3.org/2000/svg",Boe="http://www.w3.org/1999/xhtml",Woe=e=>e!=null,tO=e=>(e=typeof e,e==="object"||e==="function");function Joe(e){var t,i,n;return(n=(i=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:i.getAttribute("content"))!=null?n:void 0}var Zoe={};Doe(Zoe,{err:()=>Nq,map:()=>Yoe,ok:()=>nM,unwrap:()=>Koe,unwrapErr:()=>Xoe});var nM=e=>({isOk:!0,isErr:!1,value:e}),Nq=e=>({isOk:!1,isErr:!0,value:e});function Yoe(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then(n=>nM(n)):nM(i)}if(e.isErr){const i=e.value;return Nq(i)}throw"should never get here"}var Koe=e=>{if(e.isOk)return e.value;throw e.value},Xoe=e=>{if(e.isErr)return e.value;throw e.value},t1=(e,t="")=>()=>{},fe=(e,t,...i)=>{let n=null,s=null,u=null,p=!1,g=!1;const w=[],E=I=>{for(let R=0;R<I.length;R++)n=I[R],Array.isArray(n)?E(n):n!=null&&typeof n!="boolean"&&((p=typeof e!="function"&&!tO(n))&&(n=String(n)),p&&g?w[w.length-1].$text$+=n:w.push(p?AS(null,n):n),g=p)};if(E(i),t){t.key&&(s=t.key),t.name&&(u=t.name);{const I=t.className||t.class;I&&(t.class=typeof I!="object"?I:Object.keys(I).filter(R=>I[R]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,w,eae);const A=AS(e,null);return A.$attrs$=t,w.length>0&&(A.$children$=w),A.$key$=s,A.$name$=u,A},AS=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return i.$attrs$=null,i.$key$=null,i.$name$=null,i},Ar={},Qoe=e=>e&&e.$tag$===Ar,eae={forEach:(e,t)=>e.map(vL).forEach(t),map:(e,t)=>e.map(vL).map(t).map(tae)},vL=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),tae=e=>{if(typeof e.vtag=="function"){const i={...e.vattrs};return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),fe(e.vtag,i,...e.vchildren||[])}const t=AS(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},iae=e=>Loe.map(t=>t(e)).find(t=>!!t),nae=(e,t)=>e!=null&&!tO(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,rae=e=>e,gt=(e,t,i)=>{const n=rae(e);return{emit:s=>sae(n,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:s})}},sae=(e,t,i)=>{const n=as.ce(t,i);return e.dispatchEvent(n),n},bL=new WeakMap,oae=(e,t,i)=>{let n=CS.get(e);Uoe&&i?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,CS.set(e,n)},aae=(e,t,i)=>{var n;const s=Lq(t,i),u=CS.get(s);if(e=e.nodeType===11?e:sc,u)if(typeof u=="string"){e=e.head||e;let p=bL.get(e),g;if(p||bL.set(e,p=new Set),!p.has(s)){{g=sc.createElement("style"),g.innerHTML=u;const w=(n=as.$nonce$)!=null?n:Joe(sc);w!=null&&g.setAttribute("nonce",w),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(g,e.querySelector("link"))}t.$flags$&4&&(g.innerHTML+=zoe),p&&p.add(s)}}else e.adoptedStyleSheets.includes(u)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,u]);return s},lae=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,s=t1("attachStyles",t.$tagName$),u=aae(i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);n&10&&n&2&&(i["s-sc"]=u,i.classList.add(u+"-h"),n&2&&i.classList.add(u+"-s")),s()},Lq=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),wL=(e,t,i,n,s,u)=>{if(i!==n){let p=pL(e,t),g=t.toLowerCase();if(t==="class"){const w=e.classList,E=xL(i),A=xL(n);w.remove(...E.filter(I=>I&&!A.includes(I))),w.add(...A.filter(I=>I&&!E.includes(I)))}else if(t==="style"){for(const w in i)(!n||n[w]==null)&&(w.includes("-")?e.style.removeProperty(w):e.style[w]="");for(const w in n)(!i||n[w]!==i[w])&&(w.includes("-")?e.style.setProperty(w,n[w]):e.style[w]=n[w])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):pL(Cw,g)?t=g.slice(2):t=g[2]+t.slice(3),i||n){const w=t.endsWith(zq);t=t.replace(uae,""),i&&as.rel(e,t,i,w),n&&as.ael(e,t,n,w)}}else{const w=tO(n);if((p||w&&n!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=n;else{const A=n??"";t==="list"?p=!1:(i==null||e[t]!=A)&&(e[t]=A)}}catch{}let E=!1;g!==(g=g.replace(/^xlink\:?/,""))&&(t=g,E=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(E?e.removeAttributeNS(mL,t):e.removeAttribute(t)):(!p||u&4||s)&&!w&&(n=n===!0?"":n,E?e.setAttributeNS(mL,t,n):e.setAttribute(t,n))}}},cae=/\s/,xL=e=>e?e.split(cae):[],zq="Capture",uae=new RegExp(zq+"$"),jq=(e,t,i)=>{const n=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||gL,u=t.$attrs$||gL;for(const p of SL(Object.keys(s)))p in u||wL(n,p,s[p],void 0,i,t.$flags$);for(const p of SL(Object.keys(u)))wL(n,p,s[p],u[p],i,t.$flags$)};function SL(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var Am,rM,Y2,OS=!1,IS=!1,iO=!1,ha=!1,PS=(e,t,i,n)=>{var s;const u=t.$children$[i];let p=0,g,w,E;if(OS||(iO=!0,u.$tag$==="slot"&&(Am&&n.classList.add(Am+"-s"),u.$flags$|=u.$children$?2:1)),u.$text$!==null)g=u.$elm$=sc.createTextNode(u.$text$);else if(u.$flags$&1)g=u.$elm$=sc.createTextNode("");else{if(ha||(ha=u.$tag$==="svg"),g=u.$elm$=sc.createElementNS(ha?qoe:Boe,!OS&&ec.slotRelocation&&u.$flags$&2?"slot-fb":u.$tag$),ha&&u.$tag$==="foreignObject"&&(ha=!1),jq(null,u,ha),!!g.getRootNode().querySelector("body")&&ec.scoped&&Woe(Am)&&g["s-si"]!==Am&&g.classList.add(g["s-si"]=Am),rO(g,n),u.$children$)for(p=0;p<u.$children$.length;++p)w=PS(e,u,p,g),w&&g.appendChild(w);u.$tag$==="svg"?ha=!1:g.tagName==="foreignObject"&&(ha=!0)}return g["s-hn"]=Y2,u.$flags$&3&&(g["s-sr"]=!0,g["s-cr"]=rM,g["s-sn"]=u.$name$||"",g["s-rf"]=(s=u.$attrs$)==null?void 0:s.ref,E=e&&e.$children$&&e.$children$[i],E&&E.$tag$===u.$tag$&&e.$elm$&&K2(e.$elm$,!1)),g},K2=(e,t)=>{as.$flags$|=1;const i=Array.from(e.childNodes);e["s-sr"]&&ec.experimentalSlotFixes;for(let n=i.length-1;n>=0;n--){const s=i[n];s["s-hn"]!==Y2&&s["s-ol"]&&(Of(Vq(s),s,nO(s)),s["s-ol"].remove(),s["s-ol"]=void 0,s["s-sh"]=void 0,iO=!0),t&&K2(s,t)}as.$flags$&=-2},Fq=(e,t,i,n,s,u)=>{let p=e["s-cr"]&&e["s-cr"].parentNode||e,g;for(p.shadowRoot&&p.tagName===Y2&&(p=p.shadowRoot);s<=u;++s)n[s]&&(g=PS(null,i,s,e),g&&(n[s].$elm$=g,Of(p,g,nO(t))))},Uq=(e,t,i)=>{for(let n=t;n<=i;++n){const s=e[n];if(s){const u=s.$elm$;qq(s),u&&(IS=!0,u["s-ol"]?u["s-ol"].remove():K2(u,!0),u.remove())}}},hae=(e,t,i,n,s=!1)=>{let u=0,p=0,g=0,w=0,E=t.length-1,A=t[0],I=t[E],R=n.length-1,F=n[0],q=n[R],B,K;for(;u<=E&&p<=R;)if(A==null)A=t[++u];else if(I==null)I=t[--E];else if(F==null)F=n[++p];else if(q==null)q=n[--R];else if(V5(A,F,s))Om(A,F,s),A=t[++u],F=n[++p];else if(V5(I,q,s))Om(I,q,s),I=t[--E],q=n[--R];else if(V5(A,q,s))(A.$tag$==="slot"||q.$tag$==="slot")&&K2(A.$elm$.parentNode,!1),Om(A,q,s),Of(e,A.$elm$,I.$elm$.nextSibling),A=t[++u],q=n[--R];else if(V5(I,F,s))(A.$tag$==="slot"||q.$tag$==="slot")&&K2(I.$elm$.parentNode,!1),Om(I,F,s),Of(e,I.$elm$,A.$elm$),I=t[--E],F=n[++p];else{for(g=-1,w=u;w<=E;++w)if(t[w]&&t[w].$key$!==null&&t[w].$key$===F.$key$){g=w;break}g>=0?(K=t[g],K.$tag$!==F.$tag$?B=PS(t&&t[p],i,g,e):(Om(K,F,s),t[g]=void 0,B=K.$elm$),F=n[++p]):(B=PS(t&&t[p],i,p,e),F=n[++p]),B&&Of(Vq(A.$elm$),B,nO(A.$elm$))}u>E?Fq(e,n[R+1]==null?null:n[R+1].$elm$,i,n,p,R):p>R&&Uq(t,u,E)},V5=(e,t,i=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&i&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:i?!0:e.$key$===t.$key$:!1,nO=e=>e&&e["s-ol"]||e,Vq=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Om=(e,t,i=!1)=>{const n=t.$elm$=e.$elm$,s=e.$children$,u=t.$children$,p=t.$tag$,g=t.$text$;let w;g===null?(ha=p==="svg"?!0:p==="foreignObject"?!1:ha,p==="slot"&&!OS||jq(e,t,ha),s!==null&&u!==null?hae(n,s,t,u,i):u!==null?(e.$text$!==null&&(n.textContent=""),Fq(n,null,t,u,0,u.length-1)):!i&&ec.updatable&&s!==null&&Uq(s,0,s.length-1),ha&&p==="svg"&&(ha=!1)):(w=n["s-cr"])?w.parentNode.textContent=g:e.$text$!==g&&(n.data=g)},Gq=e=>{const t=e.childNodes;for(const i of t)if(i.nodeType===1){if(i["s-sr"]){const n=i["s-sn"];i.hidden=!1;for(const s of t)if(s!==i){if(s["s-hn"]!==i["s-hn"]||n!==""){if(s.nodeType===1&&(n===s.getAttribute("slot")||n===s["s-sn"])||s.nodeType===3&&n===s["s-sn"]){i.hidden=!0;break}}else if(s.nodeType===1||s.nodeType===3&&s.textContent.trim()!==""){i.hidden=!0;break}}}Gq(i)}},Sh=[],Hq=e=>{let t,i,n;for(const s of e.childNodes){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){i=t.parentNode.childNodes;const u=s["s-sn"];for(n=i.length-1;n>=0;n--)if(t=i[n],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==s["s-hn"])if(_L(t,u)){let p=Sh.find(g=>g.$nodeToRelocate$===t);IS=!0,t["s-sn"]=t["s-sn"]||u,p?(p.$nodeToRelocate$["s-sh"]=s["s-hn"],p.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],Sh.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&Sh.map(g=>{_L(g.$nodeToRelocate$,t["s-sn"])&&(p=Sh.find(w=>w.$nodeToRelocate$===t),p&&!g.$slotRefNode$&&(g.$slotRefNode$=p.$slotRefNode$))})}else Sh.some(p=>p.$nodeToRelocate$===t)||Sh.push({$nodeToRelocate$:t})}s.nodeType===1&&Hq(s)}},_L=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",qq=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(qq)},Of=(e,t,i)=>{const n=e==null?void 0:e.insertBefore(t,i);return rO(t,e),n},Bq=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...Bq(e.parentElement)),t},rO=(e,t,i=!1)=>{var n;if(e&&t&&e.nodeType===1){const s=new Set(Bq(t).filter(Boolean));if(s.size&&((n=e.classList)==null||n.add(...e["s-scs"]=[...s]),e["s-ol"]||i))for(const u of Array.from(e.childNodes))rO(u,e,!0)}},dae=(e,t,i=!1)=>{var n,s,u,p,g;const w=e.$hostElement$,E=e.$cmpMeta$,A=e.$vnode$||AS(null,null),I=Qoe(t)?t:fe(null,null,t);if(Y2=w.tagName,E.$attrsToReflect$&&(I.$attrs$=I.$attrs$||{},E.$attrsToReflect$.map(([R,F])=>I.$attrs$[F]=w[R])),i&&I.$attrs$)for(const R of Object.keys(I.$attrs$))w.hasAttribute(R)&&!["key","ref","style","class"].includes(R)&&(I.$attrs$[R]=w[R]);I.$tag$=null,I.$flags$|=4,e.$vnode$=I,I.$elm$=A.$elm$=w.shadowRoot||w,Am=w["s-sc"],OS=(E.$flags$&1)!==0,rM=w["s-cr"],IS=!1,Om(A,I,i);{if(as.$flags$|=1,iO){Hq(I.$elm$);for(const R of Sh){const F=R.$nodeToRelocate$;if(!F["s-ol"]){const q=sc.createTextNode("");q["s-nr"]=F,Of(F.parentNode,F["s-ol"]=q,F)}}for(const R of Sh){const F=R.$nodeToRelocate$,q=R.$slotRefNode$;if(q){const B=q.parentNode;let K=q.nextSibling;{let te=(n=F["s-ol"])==null?void 0:n.previousSibling;for(;te;){let ce=(s=te["s-nr"])!=null?s:null;if(ce&&ce["s-sn"]===F["s-sn"]&&B===ce.parentNode){for(ce=ce.nextSibling;ce===F||ce!=null&&ce["s-sr"];)ce=ce==null?void 0:ce.nextSibling;if(!ce||!ce["s-nr"]){K=ce;break}}te=te.previousSibling}}(!K&&B!==F.parentNode||F.nextSibling!==K)&&F!==K&&(!F["s-hn"]&&F["s-ol"]&&(F["s-hn"]=F["s-ol"].parentNode.nodeName),Of(B,F,K),F.nodeType===1&&(F.hidden=(u=F["s-ih"])!=null?u:!1)),F&&typeof q["s-rf"]=="function"&&q["s-rf"](F)}else F.nodeType===1&&(i&&(F["s-ih"]=(p=F.hidden)!=null?p:!1),F.hidden=!0)}}IS&&Gq(I.$elm$),as.$flags$&=-2,Sh.length=0}if(ec.experimentalScopedSlotChanges&&E.$flags$&2)for(const R of I.$elm$.childNodes)R["s-hn"]!==Y2&&!R["s-sh"]&&(i&&R["s-ih"]==null&&(R["s-ih"]=(g=R.hidden)!=null?g:!1),R.hidden=!0);rM=void 0},fae=(e,t)=>{},sO=(e,t)=>(e.$flags$|=16,fae(e,e.$ancestorComponent$),Hoe(()=>pae(e,t))),pae=(e,t)=>{const i=e.$hostElement$,n=t1("scheduleUpdate",e.$cmpMeta$.$tagName$),s=i;if(!s)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let u;return t?u=Ey(s,"componentWillLoad"):u=Ey(s,"componentWillUpdate"),u=EL(u,()=>Ey(s,"componentWillRender")),n(),EL(u,()=>yae(e,s,t))},EL=(e,t)=>mae(e)?e.then(t).catch(i=>{console.error(i),t()}):t(),mae=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",yae=async(e,t,i)=>{const n=e.$hostElement$,s=t1("update",e.$cmpMeta$.$tagName$);n["s-rc"],i&&lae(e);const u=t1("render",e.$cmpMeta$.$tagName$);gae(e,t,n,i),u(),s(),vae(e)},TL=null,gae=(e,t,i,n)=>{try{TL=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(ec.hasRenderFn||ec.reflect)&&(ec.vdomRender||ec.reflect)&&(ec.hydrateServerSide||dae(e,t,n))}catch(w){kw(w,e.$hostElement$)}return TL=null,null},vae=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=t1("postUpdate",t),s=i;e.$ancestorComponent$,Ey(s,"componentDidRender"),e.$flags$&64?(Ey(s,"componentDidUpdate"),n()):(e.$flags$|=64,Ey(s,"componentDidLoad"),n())},Hr=e=>{{const t=E1(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&sO(t,!1),i}},Ey=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(n){kw(n)}},bae=(e,t)=>E1(e).$instanceValues$.get(t),wae=(e,t,i,n)=>{const s=E1(e),u=e,p=s.$instanceValues$.get(t),g=s.$flags$,w=u;i=nae(i,n.$members$[t][0]);const E=Number.isNaN(p)&&Number.isNaN(i);if(i!==p&&!E){s.$instanceValues$.set(t,i);{if(n.$watchers$&&g&128){const I=n.$watchers$[t];I&&I.map(R=>{try{w[R](i,p,t)}catch(F){kw(F,u)}})}if((g&18)===2){if(w.componentShouldUpdate&&w.componentShouldUpdate(i,p,t)===!1)return;sO(s,!1)}}}},xae=(e,t,i)=>{var n,s;const u=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const p=Object.entries((n=t.$members$)!=null?n:{});p.map(([g,[w]])=>{(w&31||w&32)&&Object.defineProperty(u,g,{get(){return bae(this,g)},set(E){wae(this,g,E,t)},configurable:!0,enumerable:!0})});{const g=new Map;u.attributeChangedCallback=function(w,E,A){as.jmp(()=>{var I;const R=g.get(w);if(this.hasOwnProperty(R))A=this[R],delete this[R];else{if(u.hasOwnProperty(R)&&typeof this[R]=="number"&&this[R]==A)return;if(R==null){const F=E1(this),q=F==null?void 0:F.$flags$;if(q&&!(q&8)&&q&128&&A!==E){const K=this,te=(I=t.$watchers$)==null?void 0:I[w];te==null||te.forEach(ce=>{K[ce]!=null&&K[ce].call(K,A,E,w)})}return}}this[R]=A===null&&typeof this[R]=="boolean"?!1:A})},e.observedAttributes=Array.from(new Set([...Object.keys((s=t.$watchers$)!=null?s:{}),...p.filter(([w,E])=>E[0]&15).map(([w,E])=>{var A;const I=E[1]||w;return g.set(I,w),E[0]&512&&((A=t.$attrsToReflect$)==null||A.push([w,I])),I})]))}}return e},Sae=async(e,t,i,n)=>{let s;if((t.$flags$&32)===0){t.$flags$|=32,i.$lazyBundleId$;{s=e.constructor;const p=e.localName;customElements.whenDefined(p).then(()=>t.$flags$|=128)}if(s&&s.style){let p;typeof s.style=="string"?p=s.style:typeof s.style!="string"&&(t.$modeName$=iae(e),t.$modeName$&&(p=s.style[t.$modeName$]));const g=Lq(i,t.$modeName$);if(!CS.has(g)){const w=t1("registerStyles",i.$tagName$);oae(g,p,!!(i.$flags$&1)),w()}}}t.$ancestorComponent$,sO(t,!0)},ML=e=>{},_ae=e=>{if((as.$flags$&1)===0){const t=E1(e),i=t.$cmpMeta$,n=t1("connectedCallback",i.$tagName$);t.$flags$&1?(Wq(e,t,i.$listeners$),t!=null&&t.$lazyInstance$?ML(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>ML(t.$lazyInstance$))):(t.$flags$|=1,i.$flags$&12&&Eae(e),i.$members$&&Object.entries(i.$members$).map(([s,[u]])=>{if(u&31&&e.hasOwnProperty(s)){const p=e[s];delete e[s],e[s]=p}}),Sae(e,t,i)),n()}},Eae=e=>{const t=e["s-cr"]=sc.createComment("");t["s-cn"]=!0,Of(e,t,e.firstChild)},Tae=async e=>{if((as.$flags$&1)===0){const t=E1(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},Ei=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[];const n=e.prototype.connectedCallback,s=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){Noe(this,i)},connectedCallback(){const u=E1(this);Wq(this,u,i.$listeners$),_ae(this),n&&n.call(this)},disconnectedCallback(){Tae(this),s&&s.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=i.$tagName$,xae(e,i)},d_=(e,t)=>t,Wq=(e,t,i,n)=>{i&&i.map(([s,u,p])=>{const g=$ae(e,s),w=Mae(t,p),E=kae(s);as.ael(g,u,w,E),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>as.rel(g,u,w,E))})},Mae=(e,t)=>i=>{var n;try{ec.lazyLoad||e.$hostElement$[t](i)}catch(s){kw(s)}},$ae=(e,t)=>t&4?sc:t&8?Cw:t&16?sc.body:e,kae=e=>joe?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const $h=globalThis.calciteConfig,Cae=($h==null?void 0:$h.focusTrapStack)||[];$h!=null&&$h.logLevel;const $L="2.13.2",Aae="2024-10-24",Oae="e38e2977d";function Iae(){if($h&&$h.version)return;console.info(`Using Calcite Components ${$L} [Date: ${Aae}, Revision: ${Oae}]`);const e=$h||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:$L,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const zh=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function kL(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(Oq)||e.contains(Aoe)&&t?"dark":"light",n=p=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:p}})),s=p=>{u!==p&&n(p),u=p};let u=i();n(u),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",p=>s(p.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function Pae(){zh()&&(document.readyState==="interactive"?kL():document.addEventListener("DOMContentLoaded",()=>kL(),{once:!0})),Iae()}const Rae=Pae;Rae();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function yo(e,t,i){if(!zh())return;const n=Dae(e);return new n(t,i)}function Dae(e){class t extends window.MutationObserver{constructor(n){super(n),this.observedEntry=[],this.callback=n}observe(n,s){return this.observedEntry.push({target:n,options:s}),super.observe(n,s)}unobserve(n){const s=this.observedEntry.filter(u=>u.target!==n);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),s.forEach(u=>this.observe(u.target,u.options))}}return function(){return e==="intersection"?window.IntersectionObserver:e==="mutation"?t:window.ResizeObserver}()}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */let i9;const Nae={childList:!0};function f_(e){i9||(i9=yo("mutation",Lae)),i9.observe(e.el,Nae)}function p_(e){i9.unobserve(e.el)}function Lae(e){e.forEach(({target:t})=>{Hr(t)})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function zae(e){return e.map(t=>{let i="";for(let n=0;n<t;n++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const jh=()=>zae([2,1,1,1,3]);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 *//*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Jq=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],RS=Jq.join(","),Zq=typeof Element>"u",i1=Zq?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,DS=!Zq&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},NS=function e(t,i){var n;i===void 0&&(i=!0);var s=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),u=s===""||s==="true",p=u||i&&t&&e(t.parentNode);return p},jae=function(t){var i,n=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"contenteditable");return n===""||n==="true"},Yq=function(t,i,n){if(NS(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(RS));return i&&i1.call(t,RS)&&s.unshift(t),s=s.filter(n),s},Kq=function e(t,i,n){for(var s=[],u=Array.from(t);u.length;){var p=u.shift();if(!NS(p,!1))if(p.tagName==="SLOT"){var g=p.assignedElements(),w=g.length?g:p.children,E=e(w,!0,n);n.flatten?s.push.apply(s,E):s.push({scopeParent:p,candidates:E})}else{var A=i1.call(p,RS);A&&n.filter(p)&&(i||!t.includes(p))&&s.push(p);var I=p.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(p),R=!NS(I,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(p));if(I&&R){var F=e(I===!0?p.children:I.children,!0,n);n.flatten?s.push.apply(s,F):s.push({scopeParent:p,candidates:F})}else u.unshift.apply(u,p.children)}}return s},Xq=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},O0=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||jae(t))&&!Xq(t)?0:t.tabIndex},Fae=function(t,i){var n=O0(t);return n<0&&i&&!Xq(t)?0:n},Uae=function(t,i){return t.tabIndex===i.tabIndex?t.documentOrder-i.documentOrder:t.tabIndex-i.tabIndex},Qq=function(t){return t.tagName==="INPUT"},Vae=function(t){return Qq(t)&&t.type==="hidden"},Gae=function(t){var i=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return i},Hae=function(t,i){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===i)return t[n]},qae=function(t){if(!t.name)return!0;var i=t.form||DS(t),n=function(g){return i.querySelectorAll('input[type="radio"][name="'+g+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(t.name));else try{s=n(t.name)}catch(p){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",p.message),!1}var u=Hae(s,t.form);return!u||u===t},Bae=function(t){return Qq(t)&&t.type==="radio"},Wae=function(t){return Bae(t)&&!qae(t)},Jae=function(t){var i,n=t&&DS(t),s=(i=n)===null||i===void 0?void 0:i.host,u=!1;if(n&&n!==t){var p,g,w;for(u=!!((p=s)!==null&&p!==void 0&&(g=p.ownerDocument)!==null&&g!==void 0&&g.contains(s)||t!=null&&(w=t.ownerDocument)!==null&&w!==void 0&&w.contains(t));!u&&s;){var E,A,I;n=DS(s),s=(E=n)===null||E===void 0?void 0:E.host,u=!!((A=s)!==null&&A!==void 0&&(I=A.ownerDocument)!==null&&I!==void 0&&I.contains(s))}}return u},CL=function(t){var i=t.getBoundingClientRect(),n=i.width,s=i.height;return n===0&&s===0},Zae=function(t,i){var n=i.displayCheck,s=i.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=i1.call(t,"details>summary:first-of-type"),p=u?t.parentElement:t;if(i1.call(p,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var g=t;t;){var w=t.parentElement,E=DS(t);if(w&&!w.shadowRoot&&s(w)===!0)return CL(t);t.assignedSlot?t=t.assignedSlot:!w&&E!==t.ownerDocument?t=E.host:t=w}t=g}if(Jae(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return CL(t);return!1},Yae=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var i=t.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var n=0;n<i.children.length;n++){var s=i.children.item(n);if(s.tagName==="LEGEND")return i1.call(i,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}i=i.parentElement}return!1},LS=function(t,i){return!(i.disabled||NS(i)||Vae(i)||Zae(i,t)||Gae(i)||Yae(i))},sM=function(t,i){return!(Wae(i)||O0(i)<0||!LS(t,i))},Kae=function(t){var i=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},Xae=function e(t){var i=[],n=[];return t.forEach(function(s,u){var p=!!s.scopeParent,g=p?s.scopeParent:s,w=Fae(g,p),E=p?e(s.candidates):g;w===0?p?i.push.apply(i,E):i.push(g):n.push({documentOrder:u,tabIndex:w,item:s,isScope:p,content:E})}),n.sort(Uae).reduce(function(s,u){return u.isScope?s.push.apply(s,u.content):s.push(u.content),s},[]).concat(i)},eB=function(t,i){i=i||{};var n;return i.getShadowRoot?n=Kq([t],i.includeContainer,{filter:sM.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:Kae}):n=Yq(t,i.includeContainer,sM.bind(null,i)),Xae(n)},Qae=function(t,i){i=i||{};var n;return i.getShadowRoot?n=Kq([t],i.includeContainer,{filter:LS.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):n=Yq(t,i.includeContainer,LS.bind(null,i)),n},gm=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return i1.call(t,RS)===!1?!1:sM(i,t)},ele=Jq.concat("iframe").join(","),dT=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return i1.call(t,ele)===!1?!1:LS(i,t)};const tB={getShadowRoot:!0};function wNe(e){return e?e.id=e.id||`${e.tagName.toLowerCase()}-${jh()}`:""}function xNe(e){return Array.isArray(e)?e:Array.from(e)}function tle(e){const t=Fh(e,`.${nu.darkMode}, .${nu.lightMode}`);return t!=null&&t.classList.contains("calcite-mode-dark")?"dark":"light"}function If(e){const t="dir",i=`[${t}]`,n=Fh(e,i);return n?n.getAttribute(t):"ltr"}function SNe(e){return e?parseFloat(getComputedStyle(e).inlineSize):0}function oO(e){return e.getRootNode()}function ile(e){const t=oO(e);return"host"in t?t:null}function _Ne(e,t){if(!e)return 0;const n=document.createElement("canvas").getContext("2d");return n.font=t,n.measureText(e).width}function iB(e){return e.host||null}function Aw(e,{selector:t,id:i}){if(!e)return null;e.assignedSlot&&(e=e.assignedSlot);const n=oO(e);return(i?"getElementById"in n?n.getElementById(i):null:t?n.querySelector(t):null)||Aw(iB(n),{selector:t,id:i})}function Fh(e,t){return e?e.closest(t)||Fh(iB(oO(e)),t):null}function nle(e,t){return nB(e,t)}function nB(e,t){if(!e)return;const i=t(e);if(i!==void 0)return i;const{parentNode:n}=e;return nB(n instanceof ShadowRoot?n.host:n,t)}function rle(e,t){return!!nle(t,i=>i===e?!0:void 0)}function sle(e){return typeof(e==null?void 0:e.setFocus)=="function"}async function n1(e){if(e)return sle(e)?e.setFocus():e.focus()}function ole(e){if(e)return eB(e,tB)[0]??e}function m_(e){var t;(t=ole(e))==null||t.focus()}const X2=":not([slot])";function ENe(e,t,i){t&&!Array.isArray(t)&&typeof t!="string"&&(i=t,t=null);const n=t?Array.isArray(t)?t.map(s=>`[slot="${s}"]`).join(","):`[slot="${t}"]`:X2;return i!=null&&i.all?ale(e,n,i):lle(e,n,i)}function rB(e,t){return e?Array.from(e.children||[]).filter(i=>i==null?void 0:i.matches(t)):[]}function ale(e,t,i){let n=t===X2?rB(e,X2):Array.from(e.querySelectorAll(t));n=i&&i.direct===!1?n:n.filter(u=>u.parentElement===e),n=i!=null&&i.matches?n.filter(u=>u==null?void 0:u.matches(i.matches)):n;const s=i==null?void 0:i.selector;return s?n.map(u=>Array.from(u.querySelectorAll(s))).reduce((u,p)=>[...u,...p],[]).filter(u=>!!u):n}function lle(e,t,i){let n=t===X2?rB(e,X2)[0]||null:e.querySelector(t);n=i&&i.direct===!1||(n==null?void 0:n.parentElement)===e?n:null,n=i!=null&&i.matches?n!=null&&n.matches(i.matches)?n:null:n;const s=i==null?void 0:i.selector;return s?n==null?void 0:n.querySelector(s):n}function TNe(e,t){return Array.from(e.children).filter(i=>i.matches(t))}function cle(e,t){return e.filter(i=>i.matches(t))}function MNe(e,t,i){if(typeof t=="string"&&t!=="")return t;if(t==="")return e[i]}function AL(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function Js(e){return(!!e).toString()}function ule(e){return Qi(e)||dle(e)}function hle(e){return fle(e).filter(t=>t.nodeType===Node.TEXT_NODE).map(t=>t.textContent).join("").trim()}function dle(e){return!!hle(e)}function fle(e){return e.currentTarget.assignedNodes({flatten:!0})}function Qi(e){return!!rl(e).length}function rl(e,t){return ple(e.target,t)}function ple(e,t){const i=e.assignedElements({flatten:!0});return t?cle(i,t):i}function g2(e){return!!(e.isPrimary&&e.button===0)}function mle(e){return e.detail===0}const wf=(e,t,i,n=!0)=>{const s=e.indexOf(t),u=s===0,p=s===e.length-1;n&&(i=i==="previous"&&u?"last":i==="next"&&p?"first":i);let g;return i==="previous"?g=e[s-1]||e[n?e.length-1:s]:i==="next"?g=e[s+1]||e[n?0:s]:i==="last"?g=e[e.length-1]:g=e[0],n1(g),g};function yle(e,t){if(e.parentNode!==t.parentNode)return!1;const i=Array.from(e.parentNode.children);return i.indexOf(e)<i.indexOf(t)}async function gle(e,t,i,n){return vle(e,t,"transition",i,n)}async function vle(e,t,i,n,s){const u=window.getComputedStyle(e),p=u.transitionDuration,g=u.transitionProperty,w=p.split(","),A=g.split(",").map(K=>K.trim()).indexOf(t),I=w[A]??w[0];function R(){requestAnimationFrame(()=>{n==null||n(),requestAnimationFrame(()=>s==null?void 0:s())})}if(I==="0s"){R();return}const F="transitionstart",q="transitionend",B="transitioncancel";return new Promise(K=>{const te=window.setTimeout(()=>{e.removeEventListener(F,ce),e.removeEventListener(q,ye),e.removeEventListener(B,ye),R(),K()},parseFloat(I)*1e3);e.addEventListener(F,ce),e.addEventListener(q,ye),e.addEventListener(B,ye);function ce(_e){_e.target===e&&OL(_e)===t&&(window.clearTimeout(te),e.removeEventListener(F,ce),n==null||n())}function ye(_e){_e.target===e&&OL(_e)===t&&(e.removeEventListener(q,ye),e.removeEventListener(B,ye),s==null||s(),K())}})}function ble(e){return"propertyName"in e}function OL(e){return ble(e)?e.propertyName:e.animationName}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Cc={main:"main",content:"content",contentBehind:"content--behind",contentBottom:"content-bottom",contentNonInteractive:"content--non-interactive",footer:"footer",positionedSlotWrapper:"positioned-slot-wrapper",contentBehindCenterContent:"center-content"},kl={centerRow:"center-row",panelStart:"panel-start",panelEnd:"panel-end",panelTop:"panel-top",panelBottom:"panel-bottom",header:"header",footer:"footer",alerts:"alerts",sheets:"sheets",modals:"modals",dialogs:"dialogs"},wle=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{position:absolute;inset:0px;display:flex;block-size:100%;inline-size:100%;flex-direction:column;overflow:hidden;--calcite-shell-tip-spacing:26vw}.main{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;flex-direction:row;justify-content:space-between;overflow:hidden}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;overflow:auto;justify-content:space-between}.content ::slotted(calcite-shell-center-row),.content ::slotted(calcite-panel),.content ::slotted(calcite-flow){flex:1 1 auto;align-self:stretch;max-block-size:unset}.content--behind{position:absolute;inset:0px;border-width:0px;z-index:calc(var(--calcite-z-index) - 1);display:initial}.content--non-interactive{pointer-events:none;display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap}::slotted(calcite-shell-center-row){inline-size:unset}::slotted(.header .heading){font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal)}slot[name=panel-start]::slotted(calcite-shell-panel),slot[name=panel-end]::slotted(calcite-shell-panel){position:relative;z-index:calc(var(--calcite-z-index) + 1)}slot[name=panel-end]::slotted(calcite-shell-panel){margin-inline-start:auto}::slotted(calcite-panel),::slotted(calcite-flow){border-width:1px;border-inline-start-width:0px;border-inline-end-width:0px;border-style:solid;border-color:var(--calcite-color-border-3)}slot[name=center-row]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-top]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-bottom]::slotted(calcite-shell-center-row:not([detached])){border-inline-start-width:1px;border-inline-end-width:1px;border-color:var(--calcite-color-border-3)}.center-content{display:flex;flex-direction:column;justify-content:space-between;block-size:100%;inline-size:100%;min-inline-size:0}.content-bottom{justify-content:flex-end}::slotted(calcite-shell-center-row){flex:none;align-self:stretch}::slotted(calcite-tip-manager){position:absolute;z-index:var(--calcite-z-index-toast);box-sizing:border-box}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}::slotted(calcite-tip-manager){animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);inset-block-end:0.5rem;inset-inline:var(--calcite-shell-tip-spacing)}slot[name=center-row]::slotted(calcite-shell-center-row),slot[name=panel-bottom]::slotted(calcite-shell-center-row){margin-block-start:auto}slot[name=panel-top]::slotted(calcite-shell-center-row){margin-block-end:auto}.position-wrapper{position:absolute;pointer-events:none;inset:0}:host([hidden]){display:none}[hidden]{display:none}",xle=wle,Sle=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleHeaderSlotChange=t=>{this.hasHeader=!!Qi(t)},this.handleFooterSlotChange=t=>{this.hasFooter=!!Qi(t)},this.handleAlertsSlotChange=t=>{var i;this.hasAlerts=!!Qi(t),(i=rl(t))==null||i.map(n=>{n.tagName==="CALCITE-ALERT"&&(n.embedded=!0)})},this.handleSheetsSlotChange=t=>{var i;this.hasSheets=!!Qi(t),(i=rl(t))==null||i.map(n=>{n.tagName==="CALCITE-SHEET"&&(n.embedded=!0)})},this.handleModalsSlotChange=t=>{var i;this.hasModals=!!Qi(t),(i=rl(t))==null||i.map(n=>{n.tagName==="CALCITE-MODAL"&&(n.embedded=!0)})},this.handlePanelTopChange=t=>{this.hasPanelTop=Qi(t)},this.handlePanelBottomChange=t=>{this.hasPanelBottom=Qi(t)},this.handleDialogsSlotChange=t=>{var i;this.hasDialogs=!!Qi(t),(i=rl(t))==null||i.map(n=>{n.tagName==="CALCITE-DIALOG"&&(n.embedded=!0)})},this.contentBehind=!1,this.hasHeader=!1,this.hasFooter=!1,this.hasAlerts=!1,this.hasModals=!1,this.hasDialogs=!1,this.hasSheets=!1,this.hasPanelTop=!1,this.hasPanelBottom=!1,this.hasOnlyPanelBottom=!1,this.panelIsResizing=!1}handleCalciteInternalShellPanelResizeStart(t){this.panelIsResizing=!0,t.stopPropagation()}handleCalciteInternalShellPanelResizeEnd(t){this.panelIsResizing=!1,t.stopPropagation()}updateHasOnlyPanelBottom(){this.hasOnlyPanelBottom=!this.hasPanelTop&&this.hasPanelBottom}connectedCallback(){f_(this)}disconnectedCallback(){p_(this)}renderHeader(){return fe("div",{hidden:!this.hasHeader},fe("slot",{key:"header",name:kl.header,onSlotchange:this.handleHeaderSlotChange}))}renderFooter(){return fe("div",{class:Cc.footer,hidden:!this.hasFooter,key:"footer"},fe("slot",{name:kl.footer,onSlotchange:this.handleFooterSlotChange}))}renderAlerts(){return fe("div",{hidden:!this.hasAlerts},fe("slot",{key:"alerts",name:kl.alerts,onSlotchange:this.handleAlertsSlotChange}))}renderSheets(){return fe("div",{hidden:!this.hasSheets},fe("slot",{key:"sheets",name:kl.sheets,onSlotchange:this.handleSheetsSlotChange}))}renderModals(){return fe("div",{hidden:!this.hasModals},fe("slot",{key:"modals",name:kl.modals,onSlotchange:this.handleModalsSlotChange}))}renderDialogs(){return fe("div",{hidden:!this.hasDialogs},fe("slot",{key:"dialogs",name:kl.dialogs,onSlotchange:this.handleDialogsSlotChange}))}renderContent(){const{panelIsResizing:t}=this,i=fe("slot",{key:"default-slot"}),n=t?fe("div",{class:Cc.contentNonInteractive},i):i,s=fe("slot",{key:"center-row-slot",name:kl.centerRow}),u=fe("slot",{key:"panel-bottom-slot",name:kl.panelBottom,onSlotchange:this.handlePanelBottomChange}),p=fe("slot",{key:"panel-top-slot",name:kl.panelTop,onSlotchange:this.handlePanelTopChange}),g="content-container";return this.contentBehind?[fe("div",{class:{[Cc.content]:!0,[Cc.contentBehind]:!0},key:g},n),fe("div",{class:{[Cc.contentBehindCenterContent]:!0,[Cc.contentBottom]:this.hasOnlyPanelBottom}},p,u,s)]:[fe("div",{class:{[Cc.content]:!0,[Cc.contentBottom]:this.hasOnlyPanelBottom},key:g},p,n,u,s)]}renderMain(){return fe("div",{class:Cc.main},fe("slot",{name:kl.panelStart}),this.renderContent(),fe("slot",{name:kl.panelEnd}))}renderPositionedSlots(){return fe("div",{class:Cc.positionedSlotWrapper},this.renderAlerts(),this.renderModals(),this.renderDialogs(),this.renderSheets())}render(){return fe(d_,{key:"6864b8b95b6edd871ad622b0d49a3f4a42a0a8a8"},this.renderHeader(),this.renderMain(),this.renderFooter(),this.renderPositionedSlots())}get el(){return this}static get watchers(){return{hasPanelTop:["updateHasOnlyPanelBottom"],hasPanelBottom:["updateHasOnlyPanelBottom"]}}static get style(){return xle}},[1,"calcite-shell",{contentBehind:[516,"content-behind"],hasHeader:[32],hasFooter:[32],hasAlerts:[32],hasModals:[32],hasDialogs:[32],hasSheets:[32],hasPanelTop:[32],hasPanelBottom:[32],hasOnlyPanelBottom:[32],panelIsResizing:[32]},[[0,"calciteInternalShellPanelResizeStart","handleCalciteInternalShellPanelResizeStart"],[0,"calciteInternalShellPanelResizeEnd","handleCalciteInternalShellPanelResizeEnd"]],{hasPanelTop:["updateHasOnlyPanelBottom"],hasPanelBottom:["updateHasOnlyPanelBottom"]}]);function _le(){if(typeof customElements>"u")return;["calcite-shell"].forEach(t=>{switch(t){case"calcite-shell":customElements.get(t)||customElements.define(t,Sle);break}})}_le();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function y_(e){return e==="Enter"||e===" "}const sB=["0","1","2","3","4","5","6","7","8","9"];/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Ele=new RegExp("\\.(0+)?$"),Tle=new RegExp("0+$");class qi{constructor(t){if(t instanceof qi)return t;const[i,n]=Ole(t).split(".").concat("");this.value=BigInt(i+n.padEnd(qi.DECIMALS,"0").slice(0,qi.DECIMALS))+BigInt(qi.ROUNDED&&n[qi.DECIMALS]>="5"),this.isNegative=t.charAt(0)==="-"}getIntegersAndDecimals(){const t=this.value.toString().replace("-","").padStart(qi.DECIMALS+1,"0"),i=t.slice(0,-qi.DECIMALS),n=t.slice(-qi.DECIMALS).replace(Tle,"");return{integers:i,decimals:n}}toString(){const{integers:t,decimals:i}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${t}${i.length?"."+i:""}`}formatToParts(t){const{integers:i,decimals:n}=this.getIntegersAndDecimals(),s=t.numberFormatter.formatToParts(BigInt(i));return this.isNegative&&s.unshift({type:"minusSign",value:t.minusSign}),n.length&&(s.push({type:"decimal",value:t.decimal}),n.split("").forEach(u=>s.push({type:"fraction",value:u}))),s}format(t){const{integers:i,decimals:n}=this.getIntegersAndDecimals(),s=`${this.isNegative?t.minusSign:""}${t.numberFormatter.format(BigInt(i))}`,u=n.length?`${t.decimal}${n.split("").map(p=>t.numberFormatter.format(Number(p))).join("")}`:"";return`${s}${u}`}add(t){return qi.fromBigInt(this.value+new qi(t).value)}subtract(t){return qi.fromBigInt(this.value-new qi(t).value)}multiply(t){return qi._divRound(this.value*new qi(t).value,qi.SHIFT)}divide(t){return qi._divRound(this.value*qi.SHIFT,new qi(t).value)}}qi.DECIMALS=100;qi.ROUNDED=!0;qi.SHIFT=BigInt("1"+"0".repeat(qi.DECIMALS));qi._divRound=(e,t)=>qi.fromBigInt(e/t+(qi.ROUNDED?e*BigInt(2)/t%BigInt(2):BigInt(0)));qi.fromBigInt=e=>Object.assign(Object.create(qi.prototype),{value:e,isNegative:e<BigInt(0)});function aO(e){return!(!e||isNaN(Number(e)))}function kNe(e){return!e||!Ile(e)?"":zS(e,t=>{let i=!1;const n=t.split("").filter((s,u)=>s.match(/\./g)&&!i?(i=!0,!0):s.match(/-/g)&&u===0?!0:sB.includes(s)).join("");return aO(n)?new qi(n).toString():""})}const oB=/^([-0])0+(?=\d)/,Mle=/(?!^\.)\.$/,$le=/(?!^-)-/g,kle=/^-\b0\b\.?0*$/,Cle=/0*$/,CNe=e=>zS(e,t=>{const i=t.replace($le,"").replace(Mle,"").replace(oB,"$1");return aO(i)?kle.test(i)?i:Ale(i):t});function Ale(e){const t=e.split(".")[1],i=new qi(e).toString(),[n,s]=i.split(".");return t&&s!==t?`${n}.${t}`:i}function zS(e,t){if(!e)return e;const i=e.toLowerCase().indexOf("e")+1;return i?e.replace(/[eE]*$/g,"").substring(0,i).concat(e.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((n,s)=>t(s===1?n.replace(/\./g,""):n)).join("e").replace(/^e/,"1e"):t(e)}function Ole(e){const t=e.split(/[eE]/);if(t.length===1)return e;const i=+e;if(Number.isSafeInteger(i))return`${i}`;const n=e.charAt(0)==="-",s=+t[1],u=t[0].split("."),p=(n?u[0].substring(1):u[0])||"",g=u[1]||"",w=(I,R)=>{const F=Math.abs(R)-I.length,q=F>0?`${"0".repeat(F)}${I}`:I;return`${q.slice(0,R)}.${q.slice(R)}`},E=(I,R)=>{const F=R>I.length?`${I}${"0".repeat(R-I.length)}`:I;return`${F.slice(0,R)}.${F.slice(R)}`},A=s>0?`${p}${E(g,s)}`:`${w(p,s)}${g}`;return`${n?"-":""}${A.charAt(0)==="."?"0":""}${A.replace(Ele,"").replace(oB,"")}`}function Ile(e){return sB.some(t=>e.includes(t))}function ANe(e,t,i){const n=t.split(".")[1];if(n){const s=n.match(Cle)[0];if(s&&i.delocalize(e).length!==t.length&&n.indexOf("e")===-1){const u=i.decimal;return e=e.includes(u)?e:`${e}${u}`,e.padEnd(e.length+s.length,i.localize("0"))}}return e}const Ff="en",Ple=["ar","bg","bs","ca","cs","da","de","el",Ff,"es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","no","nl","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],Rle=["ar","bg","bs","ca","cs","da","de","de-AT","de-CH","el",Ff,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],Dle=["arab","arabext","latn"],aB=e=>Dle.includes(e),fT=new Intl.NumberFormat().resolvedOptions().numberingSystem,lB=fT==="arab"||!aB(fT)?"latn":fT,Nle=e=>aB(e)?e:lB;function lO(e,t="cldr"){const i=t==="cldr"?Rle:Ple;return e?i.includes(e)?e:(e=e.toLowerCase(),e==="nb"?"no":t==="t9n"&&e==="pt"?"pt-BR":(e.includes("-")&&(e=e.replace(/(\w+)-(\w+)/,(n,s,u)=>`${s}-${u.toUpperCase()}`),i.includes(e)||(e=e.split("-")[0])),e==="zh"?"zh-CN":i.includes(e)?e:(console.warn(`Translations for the "${e}" locale are not available and will fall back to the default, English (en).`),Ff))):Ff}function ONe(e){switch(e){case"it-CH":return"de-CH";case"bs":return"bs-Cyrl";default:return e}}const Q2=new Set;function ka(e){Lle(e),Q2.size===0&&(n9==null||n9.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],subtree:!0})),Q2.add(e)}function Lle(e){e.effectiveLocale=zle(e)}function Ca(e){Q2.delete(e),Q2.size===0&&n9.disconnect()}const n9=yo("mutation",e=>{e.forEach(t=>{const i=t.target;Q2.forEach(n=>{if(!rle(i,n.el))return;const u=Fh(n.el,"[lang]");if(!u){n.effectiveLocale=Ff;return}const p=u.lang;n.effectiveLocale=u.hasAttribute("lang")&&p===""?Ff:p})})});function zle(e){var t;return e.el.lang||((t=Fh(e.el,"[lang]"))==null?void 0:t.lang)||document.documentElement.lang||Ff}class jle{constructor(){this.delocalize=t=>this._numberFormatOptions?zS(t,i=>i.replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex)):t,this.localize=t=>this._numberFormatOptions?zS(t,i=>aO(i.trim())?new qi(i.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):i):t}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(t){if(t.locale=lO(t==null?void 0:t.locale),t.numberingSystem=Nle(t==null?void 0:t.numberingSystem),!this._numberFormatOptions&&t.locale===Ff&&t.numberingSystem===lB&&Object.keys(t).length===2||JSON.stringify(this._numberFormatOptions)===JSON.stringify(t))return;this._numberFormatOptions=t,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const i=new Map(this._digits.map((s,u)=>[s,u])),n=new Intl.NumberFormat(this._numberFormatOptions.locale,{numberingSystem:this._numberFormatOptions.numberingSystem}).formatToParts(-123456789e-1);this._actualGroup=n.find(s=>s.type==="group").value,this._group=this._actualGroup.trim().length===0||this._actualGroup==" "?"":this._actualGroup,this._decimal=n.find(s=>s.type==="decimal").value,this._minusSign=n.find(s=>s.type==="minusSign").value,this._getDigitIndex=s=>i.get(s)}}const IL=new jle;let qv,PL;function Fle(e={}){return Object.entries(e).sort(([t],[i])=>t.localeCompare(i)).map(t=>`${t[0]}-${t[1]}`).flat().join(":")}function INe(e,t){e=lO(e),qv||(qv=new Map),PL!==e&&(qv.clear(),PL=e);const i=Fle(t),n=qv.get(i);if(n)return n;const s=new Intl.DateTimeFormat(e,t);return qv.set(i,s),s}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const oM=(e,t,i)=>Math.max(t,Math.min(e,i)),Ule=new RegExp(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),aM=e=>{const t=(""+e).match(Ule);return!t||parseInt(t[1])===0?0:Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0))};function PNe(e){return aM(e)>0&&e>0?parseFloat(`0.${e.toString().split(".")[1]}`):e}function RNe(e,t,i,n,s){return(e-t)*(s-n)/(i-t)+n}function DNe(e,t,i){return e<i?-1:e>t-i?1:0}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const G5={};async function Vle(e,t){const i=`${t}_${e}`;return G5[i]||(G5[i]=fetch(eO(`./assets/${t}/t9n/messages_${e}.json`)).then(n=>(n.ok||RL(),n.json())).catch(()=>RL())),G5[i]}function RL(){throw new Error("could not fetch component message bundle")}function cO(e){e.messages={...e.defaultMessages,...e.messageOverrides}}function Gle(){}async function yc(e){e.defaultMessages=await cB(e,e.effectiveLocale),cO(e)}async function cB(e,t){if(!zh())return{};const{el:i}=e,s=i.tagName.toLowerCase().replace("calcite-","");return Vle(lO(t,"t9n"),s)}async function gc(e,t){e.defaultMessages=await cB(e,t),cO(e)}function vc(e){e.onMessagesChange=Hle}function bc(e){e.onMessagesChange=Gle}function Hle(){cO(this)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const kd={container:"container",content:"content",contentHeader:"content__header",contentBody:"content__body",floatContent:"float--content",contentOverlay:"content--overlay",separator:"separator",floatAll:"float-all"},DL={actionBar:"action-bar",header:"header"},qle=`:host{pointer-events:none;position:relative;display:flex;flex:0 1 auto;align-items:stretch;z-index:var(--calcite-shell-panel-z-index, var(--calcite-z-index));--calcite-shell-panel-detached-max-height:unset;--calcite-shell-panel-max-height:unset;--calcite-internal-shell-panel-shadow-block-start:0 4px 8px -1px rgba(0, 0, 0, 0.08),
    0 2px 4px -1px rgba(0, 0, 0, 0.04);--calcite-internal-shell-panel-shadow-block-end:0 -4px 8px -1px rgba(0, 0, 0, 0.08),
    0 -2px 4px -1px rgba(0, 0, 0, 0.04);--calcite-internal-shell-panel-shadow-inline-start:4px 0 8px -1px rgba(0, 0, 0, 0.08),
    2px 0 4px -1px rgba(0, 0, 0, 0.04);--calcite-internal-shell-panel-shadow-inline-end:-4px 0 8px -1px rgba(0, 0, 0, 0.08),
    -2px 0 4px -1px rgba(0, 0, 0, 0.04)}.calcite--rtl.content--overlay{--calcite-internal-shell-panel-shadow-inline-start:-4px 0 8px -1px rgba(0, 0, 0, 0.08),
    -2px 0 4px -1px rgba(0, 0, 0, 0.04);--calcite-internal-shell-panel-shadow-inline-end:4px 0 8px -1px rgba(0, 0, 0, 0.08),
    2px 0 4px -1px rgba(0, 0, 0, 0.04)}:host([layout=vertical]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index) + 1))}:host([layout=vertical][display-mode=overlay]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index-header) + 1))}:host([layout=vertical][display-mode=float-all]) .content{flex:2}:host([layout=vertical][width-scale=s]:not([display-mode=float-all])) .content{--calcite-internal-shell-panel-width:var(--calcite-shell-panel-width, 12vw);--calcite-internal-shell-panel-max-width:var(--calcite-shell-panel-max-width, 300px);--calcite-internal-shell-panel-min-width:var(--calcite-shell-panel-min-width, 150px)}:host([layout=vertical][width-scale=s][display-mode=float-all]) .content{--calcite-internal-shell-panel-width:var(--calcite-shell-panel-width, 12vw);--calcite-internal-shell-panel-min-width:var(--calcite-shell-panel-min-width, 150px)}:host([layout=vertical][width-scale=m]:not([display-mode=float-all])) .content{--calcite-internal-shell-panel-width:var(--calcite-shell-panel-width, 20vw);--calcite-internal-shell-panel-max-width:var(--calcite-shell-panel-max-width, 420px);--calcite-internal-shell-panel-min-width:var(--calcite-shell-panel-min-width, 240px)}:host([layout=vertical][width-scale=m][display-mode=float-all]) .content{--calcite-internal-shell-panel-width:var(--calcite-shell-panel-width, 20vw);--calcite-internal-shell-panel-min-width:var(--calcite-shell-panel-min-width, 240px)}:host([layout=vertical][width-scale=l]:not([display-mode=float-all])) .content{--calcite-internal-shell-panel-width:var(--calcite-shell-panel-width, 45vw);--calcite-internal-shell-panel-max-width:var(--calcite-shell-panel-max-width, 680px);--calcite-internal-shell-panel-min-width:var(--calcite-shell-panel-min-width, 340px)}:host([layout=vertical][width-scale=l][display-mode=float-all]) .content{--calcite-internal-shell-panel-width:var(--calcite-shell-panel-width, 45vw);--calcite-internal-shell-panel-min-width:var(--calcite-shell-panel-min-width, 340px)}:host([layout=horizontal][height-scale=s]) .content{--calcite-internal-shell-panel-max-height:var(
    --calcite-shell-panel-max-height,
    var(--calcite-shell-panel-detached-max-height, 20vh)
  )}:host([layout=horizontal]) .content{--calcite-internal-shell-panel-min-height:var(--calcite-shell-panel-min-height, 5vh);--calcite-internal-shell-panel-max-height:var(
    --calcite-shell-panel-max-height,
    var(--calcite-shell-panel-detached-max-height, 30vh)
  )}:host([layout=horizontal][height-scale=l]) .content{--calcite-internal-shell-panel-max-height:var(
    --calcite-shell-panel-max-height,
    var(--calcite-shell-panel-detached-max-height, 40vh)
  )}.container{pointer-events:none;box-sizing:border-box;display:flex;block-size:100%;flex:1 1 auto;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-color-text-2)}.container *{box-sizing:border-box}.container.float-all{margin-block:0.5rem;margin-inline:0.5rem}:host([layout=horizontal]) .container{block-size:auto;inline-size:100%;flex-direction:column}:host(:hover) .separator:not(:hover):not(:focus),:host(:focus-within) .separator:not(:hover):not(:focus){opacity:1;background-color:var(--calcite-color-border-3)}.separator{pointer-events:auto;position:absolute;display:flex;background-color:transparent;opacity:0;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;cursor:col-resize;outline:none}.separator:hover{opacity:1;background-color:var(--calcite-color-border-2)}.separator:focus{background-color:var(--calcite-color-brand);opacity:1}:host([layout=vertical]) .separator{inset-block:0px;block-size:100%;inline-size:0.125rem;cursor:col-resize}:host([layout=horizontal][position=start]) .separator{inset-block-end:0px}:host([layout=horizontal][position=end]) .separator{inset-block-start:0px}:host([layout=horizontal]) .separator{inset-inline-end:0px;block-size:0.125rem;inline-size:100%;cursor:row-resize}:host([layout=vertical][position=start]) .separator{inset-inline-end:-2px}:host([layout=horizontal][position=start]) .separator{inset-block-end:-2px}:host([layout=vertical][position=end]) .separator{inset-inline-start:-2px}:host([layout=horizontal][position=end]) .separator{inset-block-start:-2px}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%;inline-size:100%;flex:1 1 auto;max-block-size:unset;max-inline-size:unset}::slotted(.calcite-match-height){display:flex;flex:1 1 auto;overflow:hidden}.content{pointer-events:auto;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:stretch;align-self:stretch;background-color:var(--calcite-color-background);padding:0px;transition:max-block-size var(--calcite-animation-timing), max-inline-size var(--calcite-animation-timing)}:host([layout=vertical]:not([display-mode=float-all])) .content{inline-size:var(--calcite-internal-shell-panel-width);max-inline-size:var(--calcite-internal-shell-panel-max-width);min-inline-size:var(--calcite-internal-shell-panel-min-width)}:host([layout=vertical][display-mode=float-all]) .content{inline-size:var(--calcite-internal-shell-panel-width);min-inline-size:var(--calcite-internal-shell-panel-min-width)}:host([layout=horizontal]) .content{block-size:var(--calcite-internal-shell-panel-height);max-block-size:var(--calcite-internal-shell-panel-max-height);min-block-size:var(--calcite-internal-shell-panel-min-height)}.content__header{display:flex;flex:0 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch}.content__body{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.content--overlay{position:absolute;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([layout=vertical]) .content--overlay{inset-block-start:0px;block-size:100%}:host([layout=horizontal]) .content--overlay{inset-inline-start:0px;inline-size:100%}:host([layout=vertical][position=start]) .content--overlay{inset-inline-start:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-inline-start)}:host([layout=vertical][position=end]) .content--overlay{inset-inline-end:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-inline-end)}:host([layout=horizontal][position=start]) .content--overlay{inset-block-start:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-block-start)}:host([layout=horizontal][position=end]) .content--overlay{inset-block-end:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-block-end)}.float--content{margin-inline:0.5rem;margin-block:0.5rem auto;block-size:auto;overflow:hidden;border-radius:0.25rem;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);max-block-size:var(--calcite-internal-shell-panel-max-height, calc(100% - 1rem))}.float--content ::slotted(calcite-panel),.float--content ::slotted(calcite-flow){max-block-size:unset}:host([layout=horizontal]) .float--content{margin-block:0.5rem}:host([position=start]) .float--content ::slotted(calcite-panel),:host([position=start]) .float--content ::slotted(calcite-flow),:host([position=end]) .float--content ::slotted(calcite-panel),:host([position=end]) .float--content ::slotted(calcite-flow){border-style:none}.content[hidden]{display:none}slot[name=action-bar]::slotted(calcite-action-bar),.content ::slotted(calcite-flow),.content ::slotted(calcite-panel:not([closed])){border-width:1px;border-style:solid;border-color:var(--calcite-color-border-3)}:host([position=start]:not([slot=panel-end]):not([display-mode=float-all])) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start]:not([slot=panel-end]):not([display-mode=float-all])) .content ::slotted(calcite-flow),:host([position=start]:not([slot=panel-end]):not([display-mode=float-all])) .content ::slotted(calcite-panel),:host([position=end][slot=panel-start]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end][slot=panel-start]) .content ::slotted(calcite-flow),:host([position=end][slot=panel-start]) .content ::slotted(calcite-panel){border-inline-start:none}:host([position=end]:not([slot=panel-start])) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end]:not([slot=panel-start])) .content ::slotted(calcite-flow),:host([position=end]:not([slot=panel-start])) .content ::slotted(calcite-panel),:host([position=start][slot=panel-end]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start][slot=panel-end]) .content ::slotted(calcite-flow),:host([position=start][slot=panel-end]) .content ::slotted(calcite-panel){border-inline-end:none}:host([layout=horizontal]:not([display-mode=float-all])) slot[name=action-bar]::slotted(calcite-action-bar){border-inline:0}:host([layout=horizontal][position=start]:not([display-mode=float-all])) .content ::slotted(calcite-flow),:host([layout=horizontal][position=start]:not([display-mode=float-all])) .content ::slotted(calcite-panel){border-inline:0;border-block-start:0}:host([layout=horizontal][position=end]) .content ::slotted(calcite-flow),:host([layout=horizontal][position=end]) .content ::slotted(calcite-panel){border-inline:0;border-block-end:0}:host([hidden]){display:none}[hidden]{display:none}`,Ble=qle,Wle=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalShellPanelResizeStart=gt(this,"calciteInternalShellPanelResizeStart",6),this.calciteInternalShellPanelResizeEnd=gt(this,"calciteInternalShellPanelResizeEnd",6),this.initialContentWidth=null,this.initialContentHeight=null,this.initialClientX=null,this.initialClientY=null,this.contentWidthMax=null,this.contentWidthMin=null,this.contentHeightMax=null,this.contentHeightMin=null,this.step=1,this.stepMultiplier=10,this.actionBars=[],this.storeContentEl=t=>{this.contentEl=t},this.getKeyAdjustedSize=t=>{const{key:i}=t,{el:n,step:s,stepMultiplier:u,layout:p,contentWidthMin:g,contentWidthMax:w,initialContentWidth:E,initialContentHeight:A,contentHeightMin:I,contentHeightMax:R,position:F}=this,q=s*u;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].indexOf(i)>-1&&t.preventDefault();const K=If(n),te=["ArrowLeft","ArrowRight"],ce=["ArrowDown","ArrowUp"],ye=K==="rtl"&&te.includes(i)?-1:1;if(p==="horizontal"?F==="end"?i===ce[1]||i===te[0]:i===ce[0]||i===te[1]:i===ce[1]||(F==="end"?i===te[0]:i===te[1])){const xe=t.shiftKey?q:s;return p==="horizontal"?A+ye*xe:E+ye*xe}if(p==="horizontal"?F==="end"?i===ce[0]||i===te[0]:i===ce[1]||i===te[1]:i===ce[0]||(F==="end"?i===te[1]:i===te[0])){const xe=t.shiftKey?q:s;return p==="horizontal"?A-ye*xe:E-ye*xe}return i==="Home"&&p==="horizontal"&&typeof I=="number"?I:i==="Home"&&p==="vertical"&&typeof g=="number"?g:i==="End"&&p==="horizontal"&&typeof R=="number"?R:i==="End"&&p==="vertical"&&typeof w=="number"?w:i==="PageDown"?p==="horizontal"?A-q:E-q:i==="PageUp"?p==="horizontal"?A+q:E+q:null},this.initialKeydownWidth=t=>{this.setInitialContentWidth();const i=this.getKeyAdjustedSize(t);typeof i=="number"&&this.setContentWidth(i)},this.initialKeydownHeight=t=>{this.setInitialContentHeight();const i=this.getKeyAdjustedSize(t);typeof i=="number"&&this.setContentHeight(i)},this.separatorKeyDown=t=>{this.layout==="horizontal"?this.initialKeydownHeight(t):this.initialKeydownWidth(t)},this.separatorPointerMove=t=>{t.preventDefault();const{el:i,layout:n,initialContentWidth:s,initialContentHeight:u,position:p,initialClientX:g,initialClientY:w}=this,E=n==="horizontal"?t.clientY-w:t.clientX-g,A=n==="vertical"&&If(i)==="rtl"?-1:1,I=p==="end"?-A*E:A*E;n==="horizontal"?this.setContentHeight(u+I):this.setContentWidth(s+I)},this.separatorPointerUp=t=>{g2(t)&&(this.calciteInternalShellPanelResizeEnd.emit(),t.preventDefault(),window.removeEventListener("pointerup",this.separatorPointerUp),window.removeEventListener("pointermove",this.separatorPointerMove))},this.setInitialContentHeight=()=>{var t;this.initialContentHeight=(t=this.contentEl)==null?void 0:t.getBoundingClientRect().height},this.setInitialContentWidth=()=>{var t;this.initialContentWidth=(t=this.contentEl)==null?void 0:t.getBoundingClientRect().width},this.separatorPointerDown=t=>{if(!g2(t))return;this.calciteInternalShellPanelResizeStart.emit(),t.preventDefault();const{separatorEl:i}=this;i&&document.activeElement!==i&&i.focus(),this.layout==="horizontal"?(this.setInitialContentHeight(),this.initialClientY=t.clientY):(this.setInitialContentWidth(),this.initialClientX=t.clientX),window.addEventListener("pointerup",this.separatorPointerUp),window.addEventListener("pointermove",this.separatorPointerMove)},this.connectSeparator=t=>{this.disconnectSeparator(),this.separatorEl=t,t==null||t.addEventListener("pointerdown",this.separatorPointerDown)},this.disconnectSeparator=()=>{var t;(t=this.separatorEl)==null||t.removeEventListener("pointerdown",this.separatorPointerDown)},this.setActionBarsLayout=t=>{t.forEach(i=>i.layout=this.layout)},this.handleActionBarSlotChange=t=>{const i=rl(t).filter(n=>n==null?void 0:n.matches("calcite-action-bar"));this.actionBars=i,this.setActionBarsLayout(i)},this.handleHeaderSlotChange=t=>{this.hasHeader=Qi(t)},this.collapsed=!1,this.detached=!1,this.displayMode="dock",this.detachedHeightScale=void 0,this.heightScale=void 0,this.widthScale="m",this.layout="vertical",this.position="start",this.resizable=!1,this.messages=void 0,this.messageOverrides=void 0,this.contentWidth=null,this.contentHeight=null,this.defaultMessages=void 0,this.effectiveLocale="",this.hasHeader=!1}handleDetached(t){t?this.displayMode="float-content":(this.displayMode==="float-content"||this.displayMode==="float")&&(this.displayMode="dock")}handleDisplayMode(t){this.detached=t==="float-content"||t==="float"}handleDetachedHeightScale(t){this.heightScale=t}handleHeightScale(t){this.detachedHeightScale=t}layoutHandler(){this.setActionBarsLayout(this.actionBars)}onMessagesChange(){}connectedCallback(){f_(this),ka(this),vc(this)}async componentWillLoad(){await yc(this)}disconnectedCallback(){p_(this),this.disconnectSeparator(),Ca(this),bc(this)}componentDidLoad(){this.updateAriaValues()}effectiveLocaleChange(){gc(this,this.effectiveLocale)}renderHeader(){return fe("div",{class:kd.contentHeader,hidden:!this.hasHeader,key:"header"},fe("slot",{name:DL.header,onSlotchange:this.handleHeaderSlotChange}))}render(){const{collapsed:t,position:i,initialContentWidth:n,initialContentHeight:s,contentWidth:u,contentWidthMax:p,contentWidthMin:g,contentHeight:w,contentHeightMax:E,contentHeightMin:A,resizable:I,layout:R,displayMode:F}=this,q=If(this.el),B=F!=="float-content"&&F!=="float"&&I,K=B?R==="horizontal"?w?{height:`${w}px`}:null:u?{width:`${u}px`}:null:null,te=!t&&B?fe("div",{"aria-label":this.messages.resize,"aria-orientation":R==="horizontal"?"vertical":"horizontal","aria-valuemax":R=="horizontal"?E:p,"aria-valuemin":R=="horizontal"?A:g,"aria-valuenow":R=="horizontal"?w??s:u??n,class:kd.separator,key:"separator",onKeyDown:this.separatorKeyDown,ref:this.connectSeparator,role:"separator",tabIndex:0,"touch-action":"none"}):null,ce=()=>R==="horizontal"?i==="start"?nu.calciteAnimateInDown:nu.calciteAnimateInUp:q==="ltr"&&i==="end"||q==="rtl"&&i==="start"?nu.calciteAnimateInLeft:nu.calciteAnimateInRight,ye=fe("div",{class:{[nu.rtl]:q==="rtl",[kd.content]:!0,[kd.contentOverlay]:F==="overlay",[kd.floatContent]:F==="float-content"||F==="float",[nu.calciteAnimate]:F==="overlay",[ce()]:F==="overlay"},hidden:t,key:"content",ref:this.storeContentEl,style:K},this.renderHeader(),fe("div",{class:kd.contentBody},fe("slot",null)),te),we=[fe("slot",{key:"action-bar",name:DL.actionBar,onSlotchange:this.handleActionBarSlotChange}),ye];return i==="end"&&we.reverse(),fe("div",{class:{[kd.container]:!0,[kd.floatAll]:F==="float-all"}},we)}setContentWidth(t){const{contentWidthMax:i,contentWidthMin:n}=this,s=Math.round(t);this.contentWidth=typeof i=="number"&&typeof n=="number"?oM(s,n,i):s}updateAriaValues(){const{contentEl:t}=this,i=t&&getComputedStyle(t);i&&(this.layout==="horizontal"?this.updateHeights(i):this.updateWidths(i),Hr(this))}setContentHeight(t){const{contentHeightMax:i,contentHeightMin:n}=this,s=Math.round(t);this.contentHeight=typeof i=="number"&&typeof n=="number"?oM(s,n,i):s}updateWidths(t){const i=parseInt(t.getPropertyValue("max-width"),10),n=parseInt(t.getPropertyValue("min-width"),10),s=parseInt(t.getPropertyValue("width"),10);typeof s=="number"&&!isNaN(s)&&(this.initialContentWidth=s),typeof i=="number"&&!isNaN(i)&&(this.contentWidthMax=i),typeof n=="number"&&!isNaN(n)&&(this.contentWidthMin=n)}updateHeights(t){const i=parseInt(t.getPropertyValue("max-height"),10),n=parseInt(t.getPropertyValue("min-height"),10),s=parseInt(t.getPropertyValue("height"),10);typeof s=="number"&&!isNaN(s)&&(this.initialContentHeight=s),typeof i=="number"&&!isNaN(i)&&(this.contentHeightMax=i),typeof n=="number"&&!isNaN(n)&&(this.contentHeightMin=n)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{detached:["handleDetached"],displayMode:["handleDisplayMode"],detachedHeightScale:["handleDetachedHeightScale"],heightScale:["handleHeightScale"],layout:["layoutHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ble}},[1,"calcite-shell-panel",{collapsed:[516],detached:[516],displayMode:[513,"display-mode"],detachedHeightScale:[513,"detached-height-scale"],heightScale:[513,"height-scale"],widthScale:[513,"width-scale"],layout:[513],position:[513],resizable:[516],messages:[1040],messageOverrides:[1040],contentWidth:[32],contentHeight:[32],defaultMessages:[32],effectiveLocale:[32],hasHeader:[32]},void 0,{detached:["handleDetached"],displayMode:["handleDisplayMode"],detachedHeightScale:["handleDetachedHeightScale"],heightScale:["handleHeightScale"],layout:["layoutHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Jle(){if(typeof customElements>"u")return;["calcite-shell-panel"].forEach(t=>{switch(t){case"calcite-shell-panel":customElements.get(t)||customElements.define(t,Wle);break}})}Jle();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Zle=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function Yle(e){return`${e.split("-").map((n,s)=>s===0?n:`${n[0].toUpperCase()}${n.slice(1)}`).join("")}${Zle.includes(e)?"Input":"Change"}`}const lM="hidden-form-input";function uO(e){return"checked"in e}const cM=new WeakMap,hO=new WeakSet;function Kle(e,t){if(Fh(t.parentElement,"[form]"))return!0;const n="calciteInternalFormComponentRegister";let s=!1;return e.addEventListener(n,u=>{s=u.composedPath().some(p=>hO.has(p)),u.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),s}function Xle(e,{status:t,message:i,icon:n}){"status"in e&&(e.status=t),"validationIcon"in e&&typeof e.validationIcon!="string"&&(e.validationIcon=n),"validationMessage"in e&&!e.validationMessage&&(e.validationMessage=i)}function uB(e){return e.nodeName==="CALCITE-RADIO-BUTTON"?Fh(e,"calcite-radio-button-group"):e}const Qle=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function NL(e){var g;const t=e==null?void 0:e.target,i=t==null?void 0:t.validationMessage,n=uB(t==null?void 0:t.parentElement);if(!n)return;const s=(g=n==null?void 0:n.nodeName)==null?void 0:g.toLowerCase(),u=s==null?void 0:s.split("-");if(u.length<2||u[0]!=="calcite")return;e==null||e.preventDefault(),"validity"in n&&(n.validity=t==null?void 0:t.validity),n.dispatchEvent(Qle),Xle(n,{message:i,icon:!0,status:"invalid"});const p=Yle(s);n.addEventListener(p,()=>{"status"in n&&(n.status="idle"),"validationIcon"in n&&!n.validationIcon&&(n.validationIcon=!1),"validationMessage"in n&&n.validationMessage===i&&(n.validationMessage=""),"validity"in n&&(n.validity=t==null?void 0:t.validity)},{once:!0})}function ece(e){const{formEl:t}=e;return t?(t.addEventListener("invalid",NL,!0),t.requestSubmit(),t.removeEventListener("invalid",NL,!0),requestAnimationFrame(()=>{const i=t.querySelectorAll("[status=invalid]");for(const n of i)if(n!=null&&n.validationMessage){n==null||n.setFocus();break}}),!0):!1}function tce(e){var t;(t=e.formEl)==null||t.reset()}function ice(e){const{el:t,value:i}=e,n=hB(e);if(!n||Kle(n,t))return;e.formEl=n,e.defaultValue=i,uO(e)&&(e.defaultChecked=e.checked);const s=(e.onFormReset||nce).bind(e);n.addEventListener("reset",s),cM.set(e.el,s),hO.add(t)}function hB(e){const{el:t,form:i}=e;return i?Aw(t,{id:i}):Fh(t,"form")}function nce(){if("status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),uO(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function rce(e){const{el:t,formEl:i}=e;if(!i)return;const n=cM.get(t);i.removeEventListener("reset",n),cM.delete(t),e.formEl=null,hO.delete(t)}function sce(e,t){e.defaultValue=t}const oce="calciteInternalHiddenInputInput",dB=e=>{e.target.dispatchEvent(new CustomEvent(oce,{bubbles:!0}))},LL=e=>e.removeEventListener("input",dB);function ace(e){const{el:t,formEl:i,name:n,value:s}=e,{ownerDocument:u}=t,p=t.querySelectorAll(`input[slot="${lM}"]`);if(!i||!n){p.forEach(I=>{LL(I),I.remove()});return}const g=Array.isArray(s)?s:[s],w=[],E=new Set;p.forEach(I=>{const R=g.find(F=>F==I.value);R!=null?(E.add(R),zL(e,I,R)):w.push(I)});let A;g.forEach(I=>{if(E.has(I))return;let R=w.pop();R||(R=u.createElement("input"),R.slot=lM),A||(A=u.createDocumentFragment()),A.append(R),R.addEventListener("input",dB),zL(e,R,I)}),A&&t.append(A),w.forEach(I=>{LL(I),I.remove()})}function zL(e,t,i){var E;const{defaultValue:n,disabled:s,form:u,name:p,required:g}=e;t.defaultValue=n,t.disabled=s,t.name=p,t.required=g,t.tabIndex=-1,u?t.setAttribute("form",u):t.removeAttribute("form"),uO(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?i||"on":""):t.value=i||"",(E=e.syncHiddenFormInput)==null||E.call(e,t);const w=uB(e.el);if(w&&"validity"in w)for(const A in{...t==null?void 0:t.validity})w.validity[A]=t.validity[A]}const lce=({component:e})=>(ace(e),fe("slot",{name:lM}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function cce(){const{disabled:e}=this;e||HTMLElement.prototype.click.call(this)}function fB(e){e.target.disabled&&e.preventDefault()}const pB=["mousedown","mouseup","click"];function mB(e){e.target.disabled&&(e.stopImmediatePropagation(),e.preventDefault())}const jS={capture:!0};function T1(e){if(e.disabled){e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),uce(e);return}dce(e),e.el.removeAttribute("aria-disabled")}function uce(e){e.el.click=cce,hce(e.el)}function hce(e){e.addEventListener("pointerdown",fB,jS),pB.forEach(t=>e.addEventListener(t,mB,jS))}function dce(e){delete e.el.click,fce(e.el)}function fce(e){e.removeEventListener("pointerdown",fB,jS),pB.forEach(t=>e.removeEventListener(t,mB,jS))}const pce={container:"interaction-container"},M1=({disabled:e},t)=>fe("div",{class:pce.container,inert:e},...t);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function q0(e){return e==="l"?"m":"s"}async function yB(e){await(mce(e)?e.componentOnReady():new Promise(t=>requestAnimationFrame(()=>t())))}function mce(e){return typeof e.componentOnReady=="function"}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const gB="calciteInternalLabelClick",g_="calciteInternalLabelConnected",FS="calciteInternalLabelDisconnected",jL="calcite-label",Hy=new WeakMap,v2=new WeakMap,ew=new WeakMap,US=new WeakMap,B0=new Set,yce=e=>{const{id:t}=e,i=t&&Aw(e,{selector:`${jL}[for="${t}"]`});if(i)return i;const n=Fh(e,jL);return!n||gce(n,e)?null:n};function gce(e,t){let i;const n="custom-element-ancestor-check",s=p=>{p.stopImmediatePropagation();const g=p.composedPath();i=g.slice(g.indexOf(t),g.indexOf(e))};return e.addEventListener(n,s,{once:!0}),t.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),e.removeEventListener(n,s),i.filter(p=>p!==t&&p!==e).filter(p=>{var g;return(g=p.tagName)==null?void 0:g.includes("-")}).length>0}function v_(e){if(!e)return;const t=yce(e.el);if(v2.has(t)&&t===e.labelEl||!t&&B0.has(e))return;const i=bce.bind(e);if(t){e.labelEl=t;const n=Hy.get(t)||[];n.push(e),Hy.set(t,n.sort(bB)),v2.has(e.labelEl)||(v2.set(e.labelEl,FL),e.labelEl.addEventListener(gB,FL)),B0.delete(e),document.removeEventListener(g_,ew.get(e)),US.set(e,i),document.addEventListener(FS,i)}else B0.has(e)||(i(),document.removeEventListener(FS,US.get(e)))}function vB(e){if(!e||(B0.delete(e),document.removeEventListener(g_,ew.get(e)),document.removeEventListener(FS,US.get(e)),ew.delete(e),US.delete(e),!e.labelEl))return;const t=Hy.get(e.labelEl);t.length===1&&(e.labelEl.removeEventListener(gB,v2.get(e.labelEl)),v2.delete(e.labelEl)),Hy.set(e.labelEl,t.filter(i=>i!==e).sort(bB)),e.labelEl=null}function bB(e,t){return yle(e.el,t.el)?-1:1}function wB(e){var t,i;return e.label||((i=(t=e.labelEl)==null?void 0:t.textContent)==null?void 0:i.trim())||""}function FL(e){const t=e.detail.sourceEvent.target,i=Hy.get(this),n=i.find(p=>p.el===t);if(i.includes(n))return;const u=i[0];u.disabled||u.onLabelClick(e)}function vce(){B0.has(this)&&v_(this)}function bce(){B0.add(this);const e=ew.get(this)||vce.bind(this);ew.set(this,e),document.addEventListener(g_,e)}async function wce(e){var n;if(await yB(e),Hy.has(e))return;const i=(n=e.ownerDocument)==null?void 0:n.getElementById(e.for);i&&requestAnimationFrame(()=>{for(const s of B0)if(s.el===i){v_(s);break}})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const xB=new WeakMap,SB=new WeakMap;function Ss(e){SB.set(e,new Promise(t=>xB.set(e,t)))}function _s(e){xB.get(e)()}function xce(e){return SB.get(e)}async function Es(e){if(await xce(e),!!zh())return Hr(e),new Promise(t=>requestAnimationFrame(()=>t()))}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Sce={flipRtl:"flip-rtl"},_B={},pT={},EB={s:16,m:24,l:32};function TB({icon:e,scale:t}){const i=EB[t],n=Tce(e),s=n.charAt(n.length-1)==="F";return`${s?n.substring(0,n.length-1):n}${i}${s?"F":""}`}async function _ce(e){const t=TB(e),i=MB(t);if(i)return i;pT[t]||(pT[t]=fetch(eO(`./assets/icon/${t}.json`)).then(s=>s.json()).catch(()=>(console.error(`"${t}" is not a valid calcite-ui-icon name`),"")));const n=await pT[t];return _B[t]=n,n}function Ece(e){return MB(TB(e))}function MB(e){return _B[e]}function Tce(e){const t=!isNaN(Number(e.charAt(0))),i=e.split("-");if(i.length>0){const s=/[a-z]/i;e=i.map((u,p)=>u.replace(s,function(w,E){return p===0&&E===0?w:w.toUpperCase()})).join("")}return t?`i${e}`:e}const Mce=":host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}",$ce=Mce,kce=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.textLabel=void 0,this.pathData=void 0,this.visible=!1}connectedCallback(){this.visible||this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){var t;(t=this.intersectionObserver)==null||t.disconnect(),this.intersectionObserver=null}render(){const{el:t,flipRtl:i,pathData:n,scale:s,textLabel:u}=this,p=If(t),g=EB[s],w=!!u,E=[].concat(n||"");return fe(Ar,{key:"724265acdc6fb528bf7b25d7ec445c73a63f4c8e","aria-hidden":Js(!w),"aria-label":w?u:null,role:w?"img":null},fe("svg",{key:"864ee2d80bebd282543ba5d94c57f84b48a6204d","aria-hidden":"true",class:{[Sce.flipRtl]:p==="rtl"&&i,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${g} ${g}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},E.map(A=>typeof A=="string"?fe("path",{d:A}):fe("path",{d:A.d,opacity:"opacity"in A?A.opacity:1}))))}async loadIconPathData(){const{icon:t,scale:i,visible:n}=this;if(!zh()||!t||!n)return;const s={icon:t,scale:i},u=Ece(s)||await _ce(s);t===this.icon&&(this.pathData=u)}waitUntilVisible(t){if(this.intersectionObserver=yo("intersection",i=>{i.forEach(n=>{n.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,t())})},{rootMargin:"50px"}),!this.intersectionObserver){t();return}this.intersectionObserver.observe(this.el)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return $ce}},[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]},void 0,{icon:["loadIconPathData"],scale:["loadIconPathData"]}]);function Xs(){if(typeof customElements>"u")return;["calcite-icon"].forEach(t=>{switch(t){case"calcite-icon":customElements.get(t)||customElements.define(t,kce);break}})}Xs();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Im={loader:"loader",loaderParts:"loader__svgs",loaderPart:"loader__svg",loaderPartId:e=>`${Im.loaderPart}--${e}`,loaderText:"loader__text",loaderPercentage:"loader__percentage"},Cce='@charset "UTF-8";@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{position:relative;margin-inline:auto;display:none;align-items:center;justify-content:center;opacity:1;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-color-brand);stroke-width:3;fill:none;transform:scale(1, 1);animation:loader-color-shift calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) alternate-reverse infinite linear;padding-block:var(--calcite-loader-padding, 4rem);will-change:contents}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--3);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem;--calcite-internal-loader-value-line-height:0.625rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem;--calcite-internal-loader-value-line-height:1.375rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem;--calcite-internal-loader-value-line-height:1.71875rem}:host([no-padding]){padding-block:0px}:host{display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);margin-block-start:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{display:block;text-align:center;color:var(--calcite-color-text-1);font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size);line-height:var(--calcite-internal-loader-value-line-height);align-self:center}.loader__svgs{position:absolute;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);animation-iteration-count:infinite;animation-timing-function:linear;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.66 / var(--calcite-internal-duration-factor));animation-name:loader-clockwise;display:flex}.loader__svg{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);animation-iteration-count:infinite;animation-timing-function:linear}.loader__svg--1{animation-name:loader-offset-1}.loader__svg--2{animation-name:loader-offset-2}.loader__svg--3{animation-name:loader-offset-3}:host([type=determinate]),:host([type=determinate-value]){animation:none;stroke:var(--calcite-color-border-3)}:host([type=determinate]) .loader__svgs,:host([type=determinate-value]) .loader__svgs{animation:none}:host([type=determinate]) .loader__svg--3,:host([type=determinate-value]) .loader__svg--3{animation:none;stroke:var(--calcite-color-brand);stroke-dasharray:150.79632;transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;animation:none;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size-inline);min-block-size:var(--calcite-loader-size-inline);inline-size:var(--calcite-loader-size-inline);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([inline]) .loader__svgs{inset-block-start:0px;margin:0px;inset-inline-start:0;inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-color-brand);transform:scale(1.05, 1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 4.8 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-83.7757333333}100%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:-279.2524444444}}.loader__svg--2{stroke-dasharray:55.8504888889 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.4 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-97.7383555556}100%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:-279.2524444444}}.loader__svg--3{stroke-dasharray:13.9626222222 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 7.734 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-76.7944222222}100%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:-279.2524444444}}@keyframes loader-color-shift{0%{stroke:var(--calcite-color-brand)}33%{stroke:var(--calcite-color-brand-press)}66%{stroke:var(--calcite-color-brand-hover)}100%{stroke:var(--calcite-color-brand)}}@keyframes loader-clockwise{100%{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}',Ace=Cce,Oce=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.formatValue=()=>this.type!=="determinate-value"?`${this.value}`:this.formatter.format(this.value/100),this.complete=!1,this.inline=!1,this.label=void 0,this.scale="m",this.type="indeterminate",this.value=0,this.text="",this.effectiveLocale=""}valueChangeHandler(){this.complete=this.type.startsWith("determinate")&&this.value===100}connectedCallback(){ka(this),this.updateFormatter()}disconnectedCallback(){Ca(this)}componentWillLoad(){requestAnimationFrame(()=>this.valueChangeHandler())}render(){const{el:t,inline:i,label:n,scale:s,text:u,type:p,value:g}=this,w=t.id||jh(),E=.45,A=i?this.getInlineSize(s):this.getSize(s),I=A*E,R=`0 0 ${A} ${A}`,F=p.startsWith("determinate"),q=2*I*Math.PI,B=g/100*q,K=q-B,te=Math.floor(g),ce={"stroke-dasharray":`${B} ${K}`};return fe(Ar,{key:"8272bdfae9fff51b19ed8fa66197eb93b53feb4c","aria-label":n,"aria-valuemax":F?"100":void 0,"aria-valuemin":F?"0":void 0,"aria-valuenow":F?te.toString():void 0,id:w,role:"progressbar"},fe("div",{key:"3d410c178af39bb57cc478bdd06c0392f6ba71a3",class:Im.loaderParts},[1,2,3].map(ye=>fe("svg",{"aria-hidden":"true",class:{[Im.loaderPart]:!0,[Im.loaderPartId(ye)]:!0},key:ye,style:F&&ye===3?ce:void 0,viewBox:R},fe("circle",{cx:A/2,cy:A/2,r:I}))),F&&fe("div",{key:"4ccc633930dee031bf769908d712df39e0677bbb",class:Im.loaderPercentage},this.formatValue())),u&&fe("div",{key:"6d0d51988bdfafee2a19faed9e14d3bda06d79b5",class:Im.loaderText},u))}formatterPropsChange(){this.updateFormatter()}getSize(t){return{s:32,m:56,l:80}[t]}getInlineSize(t){return{s:12,m:16,l:20}[t]}updateFormatter(){var t;this.type!=="determinate-value"||((t=this.formatter)==null?void 0:t.resolvedOptions().locale)===this.effectiveLocale||(this.formatter=new Intl.NumberFormat(this.effectiveLocale,{style:"percent"}))}get el(){return this}static get watchers(){return{value:["valueChangeHandler"],effectiveLocale:["formatterPropsChange"],type:["formatterPropsChange"]}}static get style(){return Ace}},[1,"calcite-loader",{complete:[1540],inline:[516],label:[1],scale:[513],type:[513],value:[2],text:[1],effectiveLocale:[32]},void 0,{value:["valueChangeHandler"],effectiveLocale:["formatterPropsChange"],type:["formatterPropsChange"]}]);function bl(){if(typeof customElements>"u")return;["calcite-loader"].forEach(t=>{switch(t){case"calcite-loader":customElements.get(t)||customElements.define(t,Oce);break}})}bl();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Ko={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},Ice=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-color:transparent}:host button:focus,:host a:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host button,:host a{--calcite-button-content-margin-internal:0.5rem;--calcite-button-padding-x-internal:7px;--calcite-button-padding-y-internal:3px;padding-block:var(--calcite-button-padding-y-internal);padding-inline:var(--calcite-button-padding-x-internal);position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host button:hover,:host a:hover{text-decoration-line:none}:host button span,:host a span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.content{margin-inline:var(--calcite-button-content-margin-internal)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin-internal:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin-internal:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-button-content-margin-internal)}.icon{position:relative;margin:0px;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(0.5)}100%{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}100%{inline-size:0;opacity:0;transform:scale(0.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0px}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-button-content-margin-internal)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{border-width:1px;border-style:solid;border-color:transparent}:host([kind=brand]) button,:host([kind=brand]) a{background-color:var(--calcite-color-brand);color:var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) button:focus,:host([kind=brand]) a:hover,:host([kind=brand]) a:focus{background-color:var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{background-color:var(--calcite-color-brand-press)}:host([kind=brand]) button calcite-loader,:host([kind=brand]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([kind=danger]) button,:host([kind=danger]) a{background-color:var(--calcite-color-status-danger);color:var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) button:focus,:host([kind=danger]) a:hover,:host([kind=danger]) a:focus{background-color:var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{background-color:var(--calcite-color-status-danger-press)}:host([kind=danger]) button calcite-loader,:host([kind=danger]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([kind=neutral]) button,:host([kind=neutral]) a{background-color:var(--calcite-color-foreground-3);color:var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) button:focus,:host([kind=neutral]) a:hover,:host([kind=neutral]) a:focus{background-color:var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{background-color:var(--calcite-color-foreground-1)}:host([kind=neutral]) button calcite-loader,:host([kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) button:focus,:host([kind=inverse]) a:hover,:host([kind=inverse]) a:focus{background-color:var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{background-color:var(--calcite-color-inverse-press)}:host([kind=inverse]) button calcite-loader,:host([kind=inverse]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{border-width:1px;border-style:solid;background-color:var(--calcite-color-foreground-1);box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{border-color:var(--calcite-color-brand);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{border-color:var(--calcite-color-brand-hover);color:var(--calcite-color-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-brand);box-shadow:inset 0 0 0 2px var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{border-color:var(--calcite-color-brand-press);color:var(--calcite-color-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{border-color:var(--calcite-color-status-danger);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{border-color:var(--calcite-color-status-danger-hover);color:var(--calcite-color-status-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{border-color:var(--calcite-color-status-danger);color:var(--calcite-color-status-danger);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{border-color:var(--calcite-color-status-danger-press);color:var(--calcite-color-status-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-border-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button calcite-loader,:host([appearance=outline-fill][kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{border-color:var(--calcite-color-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{border-color:var(--calcite-color-inverse);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{border-color:var(--calcite-color-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse-press)}:host([appearance=outline-fill][kind=inverse]) button calcite-loader,:host([appearance=outline-fill][kind=inverse]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{border-color:var(--calcite-color-brand);background-color:transparent;color:var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{border-color:var(--calcite-color-brand-hover);color:var(--calcite-color-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-brand);box-shadow:inset 0 0 0 2px var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{border-color:var(--calcite-color-brand-press);color:var(--calcite-color-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{border-color:var(--calcite-color-status-danger);background-color:transparent;color:var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{border-color:var(--calcite-color-status-danger-hover);color:var(--calcite-color-status-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{border-color:var(--calcite-color-status-danger);color:var(--calcite-color-status-danger);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{border-color:var(--calcite-color-status-danger-press);color:var(--calcite-color-status-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{background-color:transparent;color:var(--calcite-color-text-1);border-color:var(--calcite-color-border-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button calcite-loader,:host([appearance=outline][kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{background-color:transparent;color:var(--calcite-color-text-1);border-color:var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{border-color:var(--calcite-color-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{border-color:var(--calcite-color-inverse);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{border-color:var(--calcite-color-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse-press)}:host([appearance=outline][kind=inverse]) button calcite-loader,:host([appearance=outline][kind=inverse]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{color:var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{color:var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{color:var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{color:var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{border-block-start-width:1px;border-block-end-width:1px;color:var(--calcite-color-text-3);border-block-start-color:var(--calcite-color-border-input);border-block-end-color:var(--calcite-color-border-input);border-block-style:solid}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y-internal:0}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{color:var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button,:host([appearance=transparent][kind=inverse]) a,:host([appearance=transparent][kind=inverse]) calcite-loader{color:var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-button-padding-y-internal:3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x-internal:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-padding-y-internal:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x-internal:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-button-padding-x-internal:1rem;--calcite-button-padding-y-internal:11px}:host([scale=l]) .button-padding--shrunk{--calcite-button-padding-y-internal:9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host(:is([scale=s],[scale=m],[scale=l])[width=full]) a:not(.content--slotted),:host(:is([scale=s],[scale=m],[scale=l])[width=full]) button:not(.content--slotted){inline-size:var(--calcite-container-size-content-fluid)}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y-internal:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:2.75rem}:host([hidden]){display:none}[hidden]{display:none}`,Pce=Ice,Rce=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=yo("mutation",()=>this.updateHasContent()),this.resizeObserver=yo("resize",()=>this.setTooltipText()),this.handleClick=()=>{const{type:t}=this;this.href||(t==="submit"?ece(this):t==="reset"&&tce(this))},this.setTooltipText=()=>{const{contentEl:t}=this;t&&(this.tooltipText=t.offsetWidth<t.scrollWidth&&this.el.innerText||null)},this.setChildEl=t=>{var i;this.childEl=t,t&&((i=this.resizeObserver)==null||i.observe(t))},this.alignment="center",this.appearance="solid",this.label=void 0,this.kind="brand",this.disabled=!1,this.form=void 0,this.download=!1,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.loading=!1,this.name=void 0,this.rel=void 0,this.round=!1,this.scale="m",this.splitChild=!1,this.target=void 0,this.type="button",this.width="auto",this.messages=void 0,this.messageOverrides=void 0,this.hasContent=!1,this.effectiveLocale="",this.defaultMessages=void 0,this.tooltipText=void 0}handleGlobalAttributesChanged(){Hr(this)}onMessagesChange(){}async connectedCallback(){ka(this),vc(this),this.setupTextContentObserver(),v_(this),this.formEl=hB(this)}disconnectedCallback(){var t,i;(t=this.mutationObserver)==null||t.disconnect(),vB(this),Ca(this),bc(this),(i=this.resizeObserver)==null||i.disconnect(),this.formEl=null}async componentWillLoad(){Ss(this),zh()&&(this.updateHasContent(),await yc(this))}componentDidLoad(){_s(this),this.setTooltipText()}componentDidRender(){T1(this)}render(){const t=this.href?"a":"button",i=t,n=this.loading?fe("div",{class:Ko.buttonLoader},fe("calcite-loader",{class:this.loading?Ko.loadingIn:Ko.loadingOut,inline:!0,label:this.messages.loading,scale:this.scale==="l"?"m":"s"})):null,s=!this.iconStart&&!this.iconEnd,u=fe("calcite-icon",{key:"f1036c0a1bf5740fe63806e3559ea66fac29b726",class:{[Ko.icon]:!0,[Ko.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:q0(this.scale)}),p=fe("calcite-icon",{key:"d2c22ecf9ca23426b4c4a3b42d623f35ee988a44",class:{[Ko.icon]:!0,[Ko.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:q0(this.scale)}),g=fe("span",{key:"d1803021f5fa106c9e296402ec0a1498ecdf36c7",class:Ko.content,ref:w=>this.contentEl=w},fe("slot",{key:"d2f729c16f9c803ffa109b68d58a22a4383dd426"}));return fe(M1,{key:"2757c795d29f812cf11def4df108837b9971dcdb",disabled:this.disabled},fe(i,{key:"e67a4882c8a0c13d6b5f98bc8c5b53c10ba36e3e","aria-busy":Js(this.loading),"aria-expanded":this.el.ariaExpanded?this.el.ariaExpanded:null,"aria-label":this.loading?this.messages.loading:wB(this),"aria-live":"polite",class:{[Ko.buttonPadding]:s,[Ko.buttonPaddingShrunk]:!s,[Ko.contentSlotted]:this.hasContent,[Ko.iconStartEmpty]:!this.iconStart,[Ko.iconEndEmpty]:!this.iconEnd},disabled:t==="button"?this.disabled:null,download:t==="a"?this.download===!0||this.download===""?"":this.download||null:null,href:t==="a"&&this.href,name:t==="button"&&this.name,onClick:this.handleClick,ref:this.setChildEl,rel:t==="a"&&this.rel,tabIndex:this.disabled?-1:null,target:t==="a"&&this.target,title:this.tooltipText,type:t==="button"&&this.type},n,this.iconStart?u:null,this.hasContent?g:null,this.iconEnd?p:null))}async setFocus(){var t;await Es(this),(t=this.childEl)==null||t.focus()}effectiveLocaleChange(){gc(this,this.effectiveLocale)}updateHasContent(){var i,n;const t=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=this.el.childNodes.length===1&&((i=this.el.childNodes[0])==null?void 0:i.nodeName)==="#text"?((n=this.el.textContent)==null?void 0:n.trim().length)>0:t}setupTextContentObserver(){var t;(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{"aria-expanded":["handleGlobalAttributesChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Pce}},[1,"calcite-button",{alignment:[513],appearance:[513],label:[1],kind:[513],disabled:[516],form:[513],download:[520],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],loading:[516],name:[513],rel:[513],round:[516],scale:[513],splitChild:[520,"split-child"],target:[513],type:[513],width:[513],messages:[1040],messageOverrides:[1040],hasContent:[32],effectiveLocale:[32],defaultMessages:[32],tooltipText:[32],setFocus:[64]},void 0,{"aria-expanded":["handleGlobalAttributesChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Dce(){if(typeof customElements>"u")return;["calcite-button","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-button":customElements.get(t)||customElements.define(t,Rce);break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break}})}Dce();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function Nce(e,t,i){const n=t[0]-e[0],s=i[0]-t[0],u=t[1]-e[1],p=i[1]-t[1],g=u/(n||s<0&&0),w=p/(s||n<0&&0),E=(g*s+w*n)/(n+s);return(Math.sign(g)+Math.sign(w))*Math.min(Math.abs(g),Math.abs(w),.5*Math.abs(E))||0}function UL(e,t,i){const n=t[0]-e[0],s=t[1]-e[1];return n?(3*s/n-i)/2:i}function VL(e,t,i,n,s){const[u,p]=e,[g,w]=t,E=(g-u)/3,A=s([u+E,p+E*i]).join(","),I=s([g-E,w-E*n]).join(","),R=s([g,w]).join(",");return`C ${A} ${I} ${R}`}function Lce({width:e,height:t,min:i,max:n}){const s=n[0]-i[0],u=n[1]-i[1];return p=>{const g=(p[0]-i[0])/s*e,w=t-p[1]/u*t;return[g,w]}}function zce(e){const[t,i]=e[0],n=[t,i],s=[t,i];return e.reduce(({min:u,max:p},[g,w])=>({min:[Math.min(u[0],g),Math.min(u[1],w)],max:[Math.max(p[0],g),Math.max(p[1],w)]}),{min:n,max:s})}function jce({data:e,min:t,max:i,t:n}){if(e.length===0)return"";const[s,u]=n(e[0]),[p,g]=n(t),[w]=n(i);let E,A,I;const R=e.reduce((B,K,te)=>{if(A=e[te-2],I=e[te-1],te>1){const ce=Nce(A,I,K),ye=E===void 0?UL(A,I,ce):E,_e=VL(A,I,ye,ce,n);return E=ce,`${B} ${_e}`}return B},`M ${p},${g} L ${p},${u} L ${s},${u}`),F=e[e.length-1],q=VL(I,F,E,UL(I,F,E),n);return`${R} ${q} L ${w},${g} Z`}const Fce=":host{display:block;block-size:100%}.svg{fill:currentColor;stroke:transparent;margin:0px;display:block;block-size:100%;inline-size:100%;padding:0px}.svg .graph-path--highlight{fill:var(--calcite-color-brand);opacity:0.5}:host([hidden]){display:none}[hidden]{display:none}",Uce=Fce,Vce=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.graphId=`calcite-graph-${jh()}`,this.resizeObserver=yo("resize",()=>Hr(this)),this.data=[],this.colorStops=void 0,this.highlightMin=void 0,this.highlightMax=void 0,this.min=void 0,this.max=void 0}connectedCallback(){var t;(t=this.resizeObserver)==null||t.observe(this.el)}disconnectedCallback(){var t;(t=this.resizeObserver)==null||t.disconnect()}render(){const{data:t,colorStops:i,el:n,highlightMax:s,highlightMin:u,min:p,max:g}=this,w=this.graphId,{clientHeight:E,clientWidth:A}=n;if(!t||t.length===0)return fe("svg",{"aria-hidden":"true",class:"svg",height:E,preserveAspectRatio:"none",viewBox:`0 0 ${A} ${E}`,width:A});const{min:I,max:R}=zce(t);let F=I,q=R;(p<I[0]||p>I[0])&&(F=[p,0]),(g>R[0]||g<R[0])&&(q=[g,R[1]]);const B=Lce({min:F,max:q,width:A,height:E}),[K]=B([u,q[1]]),[te]=B([s,q[1]]),ce=jce({data:t,min:I,max:R,t:B}),ye=i?`url(#linear-gradient-${w})`:void 0;return fe("svg",{"aria-hidden":"true",class:"svg",height:E,preserveAspectRatio:"none",viewBox:`0 0 ${A} ${E}`,width:A},i?fe("defs",null,fe("linearGradient",{id:`linear-gradient-${w}`,x1:"0",x2:"1",y1:"0",y2:"0"},i.map(({offset:_e,color:we,opacity:xe})=>fe("stop",{offset:`${_e*100}%`,"stop-color":we,"stop-opacity":xe})))):null,u!==void 0?[fe("mask",{height:"100%",id:`${w}1`,width:"100%",x:"0%",y:"0%"},fe("path",{d:`
            M 0,0
            L ${K-1},0
            L ${K-1},${E}
            L 0,${E}
            Z
          `,fill:"white"})),fe("mask",{height:"100%",id:`${w}2`,width:"100%",x:"0%",y:"0%"},fe("path",{d:`
            M ${K+1},0
            L ${te-1},0
            L ${te-1},${E}
            L ${K+1}, ${E}
            Z
          `,fill:"white"})),fe("mask",{height:"100%",id:`${w}3`,width:"100%",x:"0%",y:"0%"},fe("path",{d:`
                M ${te+1},0
                L ${A},0
                L ${A},${E}
                L ${te+1}, ${E}
                Z
              `,fill:"white"})),fe("path",{class:"graph-path",d:ce,fill:ye,mask:`url(#${w}1)`}),fe("path",{class:"graph-path--highlight",d:ce,fill:ye,mask:`url(#${w}2)`}),fe("path",{class:"graph-path",d:ce,fill:ye,mask:`url(#${w}3)`})]:fe("path",{class:"graph-path",d:ce,fill:ye}))}get el(){return this}static get style(){return Uce}},[1,"calcite-graph",{data:[16],colorStops:[16],highlightMin:[2,"highlight-min"],highlightMax:[2,"highlight-max"],min:[514],max:[514]}]);function $B(){if(typeof customElements>"u")return;["calcite-graph"].forEach(t=>{switch(t){case"calcite-graph":customElements.get(t)||customElements.define(t,Vce);break}})}$B();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Li={container:"container",containerRange:"container--range",graph:"graph",handle:"handle",handleExtension:"handle-extension",handleLabel:"handle__label",handleLabelMinValue:"handle__label--minValue",handleLabelValue:"handle__label--value",hyphen:"hyphen",hyphenWrap:"hyphen--wrap",static:"static",thumb:"thumb",thumbActive:"thumb--active",thumbContainer:"thumb-container",thumbMinValue:"thumb--minValue",thumbPrecise:"thumb--precise",thumbValue:"thumb--value",tick:"tick",tickActive:"tick--active",tickLabel:"tick__label",tickMax:"tick__label--max",tickMin:"tick__label--min",ticks:"ticks",track:"track",trackRange:"track__range",transformed:"transformed"},Gce=250,Hce=`@charset "UTF-8";:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}.scale--s{--calcite-slider-handle-size:0.625rem;--calcite-slider-handle-extension-height:0.4rem;--calcite-slider-container-font-size:var(--calcite-font-size--3)}.scale--s .handle__label,.scale--s .tick__label{line-height:.75rem}.scale--m{--calcite-slider-handle-size:0.875rem;--calcite-slider-handle-extension-height:0.5rem;--calcite-slider-container-font-size:var(--calcite-font-size--2)}.scale--m .handle__label,.scale--m .tick__label{line-height:1rem}.scale--l{--calcite-slider-handle-size:1rem;--calcite-slider-handle-extension-height:0.65rem;--calcite-slider-container-font-size:var(--calcite-font-size--1)}.scale--l .handle__label,.scale--l .tick__label{line-height:1rem}.handle__label,.tick__label{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2);font-size:var(--calcite-slider-container-font-size)}:host{display:block}.container{position:relative;display:block;overflow-wrap:normal;word-break:normal;padding-inline:calc(var(--calcite-slider-handle-size) * 0.5);padding-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-inline:0;--calcite-slider-full-handle-height:calc(
    var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height)
  );touch-action:none;-webkit-user-select:none;user-select:none}:host([disabled]) .track__range,:host([disabled]) .tick--active{background-color:var(--calcite-color-text-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.375rem}.scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.5rem}.scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.55rem}:host([precise]:not([has-histogram])) .container .thumb--value{--calcite-slider-thumb-y-offset:calc(var(--calcite-slider-full-handle-height) * -1)}.thumb-container{position:relative;max-inline-size:100%}.thumb{--calcite-slider-thumb-x-offset:calc(var(--calcite-slider-handle-size) * 0.5);position:absolute;margin:0px;display:flex;cursor:pointer;flex-direction:column;align-items:center;border-style:none;background-color:transparent;padding:0px;font-family:inherit;outline:2px solid transparent;outline-offset:2px;transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset))}.thumb .handle__label.static,.thumb .handle__label.transformed{position:absolute;inset-block:0px;opacity:0}.thumb .handle__label.hyphen::after{content:"";display:inline-block;inline-size:1em}.thumb .handle__label.hyphen--wrap{display:flex}.thumb .handle{box-sizing:border-box;border-radius:9999px;background-color:var(--calcite-color-foreground-1);outline-color:transparent;block-size:var(--calcite-slider-handle-size);inline-size:var(--calcite-slider-handle-size);box-shadow:0 0 0 2px var(--calcite-color-text-3) inset;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease}.thumb .handle-extension{inline-size:0.125rem;block-size:var(--calcite-slider-handle-extension-height);background-color:var(--calcite-color-text-3)}.thumb:hover .handle{box-shadow:0 0 0 3px var(--calcite-color-brand) inset}.thumb:hover .handle-extension{background-color:var(--calcite-color-brand)}.thumb:focus .handle{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.thumb:focus .handle-extension{background-color:var(--calcite-color-brand)}.thumb.thumb--minValue{transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset))}.thumb.thumb--precise{--calcite-slider-thumb-y-offset:-0.125rem}:host([label-handles]) .thumb{--calcite-slider-thumb-x-offset:50%}:host([label-handles]):host(:not([has-histogram])) .scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.4375rem}:host([label-handles]):host(:not([has-histogram])) .scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.875rem}:host([label-handles]):host(:not([has-histogram])) .scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-2rem}:host([has-histogram][label-handles]) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--minValue.thumb--precise .handle__label{margin-block-start:0.5em}:host(:not([has-histogram]):not([precise])) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--value .handle__label{margin-block-end:0.5em}:host([label-handles][precise]):host(:not([has-histogram])) .scale--s .thumb--value{--calcite-slider-thumb-y-offset:-2.075rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--m .thumb--value{--calcite-slider-thumb-y-offset:-2.75rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--l .thumb--value{--calcite-slider-thumb-y-offset:-3.0625rem}.thumb:focus .handle,.thumb--active .handle{background-color:var(--calcite-color-brand);box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16)}.thumb:hover.thumb--precise::after,.thumb:focus.thumb--precise::after,.thumb--active.thumb--precise::after{background-color:var(--calcite-color-brand)}.track{position:relative;block-size:0.125rem;border-radius:0px;background-color:var(--calcite-color-border-2);transition:all var(--calcite-internal-animation-timing-medium) ease-in}.track__range{position:absolute;inset-block-start:0px;block-size:0.125rem;background-color:var(--calcite-color-brand)}.container--range .track__range:hover{cursor:ew-resize}.container--range .track__range::after{position:absolute;inline-size:100%;content:"";inset-block-start:calc(var(--calcite-slider-full-handle-height) * 0.5 * -1);block-size:calc(var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height))}@media (forced-colors: active){.thumb{outline-width:0;outline-offset:0}.handle{outline:2px solid transparent;outline-offset:2px}.thumb:focus .handle,.thumb .handle-extension,.thumb:hover .handle-extension,.thumb:focus .handle-extension,.thumb:active .handle-extension{background-color:canvasText}.track{background-color:canvasText}.track__range{background-color:highlight}}.tick{position:absolute;block-size:0.25rem;inline-size:0.125rem;border-width:1px;border-style:solid;background-color:var(--calcite-color-border-input);border-color:var(--calcite-color-foreground-1);inset-block-start:-2px;pointer-events:none;margin-inline-start:calc(-1 * 0.125rem)}.tick--active{background-color:var(--calcite-color-brand)}.tick__label{pointer-events:none;margin-block-start:0.875rem;display:flex;justify-content:center}.tick__label--min{transition:opacity var(--calcite-animation-timing)}.tick__label--max{transition:opacity var(--calcite-internal-animation-timing-fast)}:host([has-histogram][label-handles]) .tick__label--min,:host([has-histogram][label-handles]) .tick__label--max,:host([has-histogram][precise]) .tick__label--min,:host([has-histogram][precise]) .tick__label--max{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}.graph{color:var(--calcite-color-foreground-3);block-size:48px}:host([label-ticks][ticks]) .container{padding-block-end:calc(0.875rem + var(--calcite-slider-container-font-size))}:host([has-histogram]):host([precise][label-handles]) .container{padding-block-end:calc(var(--calcite-slider-full-handle-height) + 1em)}:host([has-histogram]):host([label-handles]:not([precise])) .container{padding-block-end:calc(var(--calcite-slider-handle-size) * 0.5 + 1em)}:host([has-histogram]):host([precise]:not([label-handles])) .container{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container{padding-block-start:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container--range{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([label-handles]:not([precise])) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container--range{padding-block-end:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}`,qce=Hce;function Xo(e){return Array.isArray(e)}const Bce=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteSliderInput=gt(this,"calciteSliderInput",6),this.calciteSliderChange=gt(this,"calciteSliderChange",6),this.handleKeyDown=t=>{const i=this.shouldMirror(),{activeProp:n,max:s,min:u,pageStep:p,step:g}=this,w=this[n],{key:E}=t;if(y_(E)){t.preventDefault();return}let A;if(E==="ArrowUp"||E==="ArrowRight"?A=w+g*(i&&E==="ArrowRight"?-1:1):E==="ArrowDown"||E==="ArrowLeft"?A=w-g*(i&&E==="ArrowLeft"?-1:1):E==="PageUp"?p&&(A=w+p):E==="PageDown"?p&&(A=w-p):E==="Home"?A=u:E==="End"&&(A=s),isNaN(A))return;t.preventDefault();const I=Number(A.toFixed(aM(g)));this.setValue({[n]:this.clamp(I,n)})},this.activeProp="value",this.guid=`calcite-slider-${jh()}`,this.onThumbBlur=()=>{this.activeProp=null},this.onThumbFocus=t=>{const i=t.currentTarget;this.activeProp=i.getAttribute("data-value-prop")},this.onThumbPointerDown=t=>{const i=t.currentTarget;this.pointerDownDragStart(t,i.getAttribute("data-value-prop"))},this.onTrackPointerDown=t=>{this.pointerDownDragStart(t,"minMaxValue")},this.dragUpdate=t=>{if(!this.disabled&&(t.preventDefault(),this.dragProp)){const i=this.mapToRange(t.clientX||t.pageX);if(Xo(this.value)&&this.dragProp==="minMaxValue")if(this.minValueDragRange&&this.maxValueDragRange&&this.minMaxValueRange){const n=i-this.minValueDragRange,s=i+this.maxValueDragRange;s<=this.max&&n>=this.min&&s-n===this.minMaxValueRange&&this.setValue({minValue:this.clamp(n,"minValue"),maxValue:this.clamp(s,"maxValue")})}else this.minValueDragRange=i-this.minValue,this.maxValueDragRange=this.maxValue-i,this.minMaxValueRange=this.maxValue-this.minValue;else this.setValue({[this.dragProp]:this.clamp(i,this.dragProp)})}},this.pointerUpDragEnd=t=>{this.disabled||!g2(t)||this.dragEnd(t)},this.dragEnd=t=>{this.disabled||(this.removeDragListeners(),this.focusActiveHandle(t.clientX),this.lastDragPropValue!=this[this.dragProp]&&this.emitChange(),this.dragProp=null,this.lastDragPropValue=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.minMaxValueRange=null)},this.storeTrackRef=t=>{this.trackEl=t},this.storeThumbRef=t=>{if(!t)return;t.getAttribute("data-value-prop")==="minValue"?this.minHandle=t:this.maxHandle=t},this.formatValue=t=>(IL.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},IL.localize(t.toString())),this.disabled=!1,this.fillPlacement="start",this.form=void 0,this.groupSeparator=!1,this.hasHistogram=!1,this.histogram=void 0,this.histogramStops=void 0,this.labelHandles=!1,this.labelFormatter=void 0,this.labelTicks=!1,this.max=100,this.maxLabel=void 0,this.maxValue=void 0,this.min=0,this.minLabel=void 0,this.minValue=void 0,this.mirrored=!1,this.name=void 0,this.numberingSystem=void 0,this.pageStep=void 0,this.precise=!1,this.required=!1,this.snap=!1,this.step=1,this.ticks=void 0,this.value=0,this.scale="m",this.effectiveLocale="",this.minMaxValueRange=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.tickValues=[]}histogramWatcher(t){this.hasHistogram=!!t}ticksWatcher(){this.tickValues=this.generateTickValues()}valueHandler(){this.setMinMaxFromValue()}minMaxValueHandler(){this.setValueFromMinMax()}connectedCallback(){ka(this),this.setMinMaxFromValue(),this.setValueFromMinMax(),v_(this),ice(this)}disconnectedCallback(){vB(this),rce(this),Ca(this),this.removeDragListeners()}componentWillLoad(){Ss(this),Xo(this.value)||(this.value=this.snap?this.getClosestStep(this.value):this.clamp(this.value)),this.ticksWatcher(),this.histogramWatcher(this.histogram),sce(this,this.value)}componentDidLoad(){_s(this)}componentDidRender(){this.labelHandles&&(this.adjustHostObscuredHandleLabel("value"),Xo(this.value)&&(this.adjustHostObscuredHandleLabel("minValue"),this.precise&&!this.hasHistogram||this.hyphenateCollidingRangeHandleLabels())),this.hideObscuredBoundingTickLabels(),T1(this)}render(){const t=this.el.id||this.guid,i=Xo(this.value)?this.maxValue:this.value,n=this.minValue||this.min,s=this.shouldUseMinValue(),u=this.getUnitInterval(s?this.minValue:n)*100,p=this.getUnitInterval(i)*100,g=this.shouldMirror(),w=Xo(this.value),E=this.buildThumbType("max"),A=this.renderThumb({type:E,thumbPlacement:E.includes("histogram")?"below":"above",maxInterval:p,minInterval:u,mirror:g}),I=this.buildThumbType("min"),R=w&&this.renderThumb({type:I,thumbPlacement:I.includes("histogram")||I.includes("precise")?"below":"above",maxInterval:p,minInterval:u,mirror:g}),F=w?"start":this.fillPlacement,q=F==="none"?{left:"unset",right:"unset"}:F==="end"?{left:`${g?u:p}%`,right:`${g?p:u}%`}:{left:`${g?100-p:u}%`,right:`${g?u:100-p}%`};return fe(Ar,{key:"dee9376120224b51dfa12f3e87fbdce4a481a1ed",id:t,onKeyDown:this.handleKeyDown,onTouchStart:this.handleTouchStart},fe(M1,{key:"65bca4d477d57ced846ef97b466917b6d7fc2f21",disabled:this.disabled},fe("div",{key:"99dd57b50ded2302ca1d255708d9e4bd90de3ecb","aria-label":wB(this),class:{[Li.container]:!0,[Li.containerRange]:w,[`scale--${this.scale}`]:!0}},this.renderGraph(),fe("div",{key:"47647c0d347232a0ddb384333b15860a0264aefa",class:Li.track,ref:this.storeTrackRef},fe("div",{key:"3dc176871f6245f2dde77a016ddc747ad9571d3d",class:Li.trackRange,onPointerDown:this.onTrackPointerDown,style:q}),fe("div",{key:"0c08b977678d6ac7e8b9944157e51948969a5dc5",class:Li.ticks},this.tickValues.map(B=>{const K=`${this.getUnitInterval(B)*100}%`;let te=!1;if(F==="start"||F==="end")if(s)te=B>=this.minValue&&B<=this.maxValue;else{const ce=F==="start"?n:i,ye=F==="start"?i:this.max;te=B>=ce&&B<=ye}return fe("span",{class:{[Li.tick]:!0,[Li.tickActive]:te},style:{left:g?"":K,right:g?K:""}},this.renderTickLabel(B))}))),fe("div",{key:"51996cb05142dbeec20093ca12b017adee23f293",class:Li.thumbContainer},R,A,fe(lce,{key:"6fd5c00374205d47e226a417674264417323a5c3",component:this})))))}renderThumb({type:t,mirror:i,thumbPlacement:n,minInterval:s,maxInterval:u}){const p=t.includes("labeled"),g=t.includes("precise"),w=t.includes("min"),E=Xo(this.value),A=w?this.minValue:E?this.maxValue:this.value,I=w?"minValue":E?"maxValue":"value",R=w?this.minLabel:E?this.maxLabel:this.minLabel,F=w?this.minValue:A,q=I==="minValue"?this.internalLabelFormatter(this.minValue,"min"):I==="maxValue"?this.internalLabelFormatter(this.maxValue,"max"):this.internalLabelFormatter(A,"value"),B=w?{left:`${i?100-s:s}%`}:{right:`${i?u:100-u}%`},K=`${Li.handleLabel} ${w?Li.handleLabelMinValue:Li.handleLabelValue}`,ce=[...p?[fe("span",{"aria-hidden":"true",class:K},q),fe("span",{"aria-hidden":"true",class:`${K} ${Li.static}`},q),fe("span",{"aria-hidden":"true",class:`${K} ${Li.transformed}`},q)]:[],fe("div",{class:Li.handle}),g&&fe("div",{class:Li.handleExtension})];return n==="below"&&ce.reverse(),fe("div",{"aria-label":R,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":F,class:{[Li.thumb]:!0,[Li.thumbValue]:!w,[Li.thumbActive]:this.lastDragProp!=="minMaxValue"&&this.dragProp===I,[Li.thumbPrecise]:g,[Li.thumbMinValue]:w},"data-value-prop":I,key:t,onBlur:this.onThumbBlur,onFocus:this.onThumbFocus,onPointerDown:this.onThumbPointerDown,ref:this.storeThumbRef,role:"slider",style:B,tabIndex:0},ce)}renderGraph(){return this.histogram?fe("calcite-graph",{class:Li.graph,colorStops:this.histogramStops,data:this.histogram,highlightMax:Xo(this.value)?this.maxValue:this.value,highlightMin:Xo(this.value)?this.minValue:this.min,max:this.max,min:this.min}):null}renderTickLabel(t){const{hasHistogram:i,labelHandles:n,labelTicks:s,max:u,min:p,precise:g,value:w}=this,E=Xo(w),A=t===p,I=t===u,R=A||I;return s&&(!i&&(R||!g||!E)||i&&(R||!g&&!n))?fe("span",{class:{[Li.tickLabel]:!0,[Li.tickMin]:A,[Li.tickMax]:I}},this.internalLabelFormatter(t,"tick")):null}pointerDownHandler(t){if(this.disabled||!g2(t))return;const i=t.clientX||t.pageX,n=this.mapToRange(i);let s="value";Xo(this.value)&&(n>=this.minValue&&n<=this.maxValue&&this.lastDragProp==="minMaxValue"?s="minMaxValue":s=Math.abs(this.maxValue-n)<Math.abs(this.minValue-n)||n>=this.maxValue?"maxValue":"minValue"),this.lastDragPropValue=this[s],this.dragStart(s),this.el.shadowRoot.querySelector(`.${Li.thumb}:active`)||this.setValue({[s]:this.clamp(n,s)}),this.focusActiveHandle(i)}handleTouchStart(t){t.preventDefault()}async setFocus(){await Es(this);const t=this.minHandle?this.minHandle:this.maxHandle;t==null||t.focus()}buildThumbType(t){const i=[t];return this.labelHandles&&i.push("labeled"),this.precise&&i.push("precise"),this.hasHistogram&&i.push("histogram"),i.join("-")}setValueFromMinMax(){const{minValue:t,maxValue:i}=this;typeof t=="number"&&typeof i=="number"&&(this.value=[t,i])}setMinMaxFromValue(){const{value:t}=this;Xo(t)&&(this.minValue=t[0],this.maxValue=t[1])}onLabelClick(){this.setFocus()}shouldMirror(){return this.mirrored&&!this.hasHistogram}shouldUseMinValue(){return Xo(this.value)?this.hasHistogram&&this.maxValue===0||!this.hasHistogram&&this.minValue===0:!1}getTickDensity(){const t=(this.max-this.min)/this.ticks/Gce;return t<1?1:t}generateTickValues(){const t=this.ticks??0;if(t<=0)return[];const i=[this.min],n=this.getTickDensity(),s=t*n;let u=this.min;for(;u<this.max;)u+=s,i.push(Math.min(u,this.max));return i.includes(this.max)||i.push(this.max),i}pointerDownDragStart(t,i){g2(t)&&this.dragStart(i)}dragStart(t){this.dragProp=t,this.lastDragProp=this.dragProp,this.activeProp=t,window.addEventListener("pointermove",this.dragUpdate),window.addEventListener("pointerup",this.pointerUpDragEnd),window.addEventListener("pointercancel",this.dragEnd)}focusActiveHandle(t){this.dragProp==="minValue"?this.minHandle.focus():this.dragProp==="maxValue"||this.dragProp==="value"?this.maxHandle.focus():this.dragProp==="minMaxValue"&&this.getClosestHandle(t).focus()}emitInput(){this.calciteSliderInput.emit()}emitChange(){this.calciteSliderChange.emit()}removeDragListeners(){window.removeEventListener("pointermove",this.dragUpdate),window.removeEventListener("pointerup",this.pointerUpDragEnd),window.removeEventListener("pointercancel",this.dragEnd)}setValue(t){let i;if(Object.keys(t).forEach(s=>{const u=t[s];i||(i=this[s]!==u),this[s]=u}),!i)return;this.dragProp||this.emitChange(),this.emitInput()}clamp(t,i){return t=oM(t,this.min,this.max),i==="maxValue"&&(t=Math.max(t,this.minValue)),i==="minValue"&&(t=Math.min(t,this.maxValue)),t}mapToRange(t){const i=this.max-this.min,{left:n,width:s}=this.trackEl.getBoundingClientRect(),u=(t-n)/s,p=this.shouldMirror(),g=this.clamp(this.min+i*(p?1-u:u)),w=Number(g.toFixed(aM(this.step)));return this.snap&&this.step?this.getClosestStep(w):w}getClosestStep(t){const{max:i,min:n,step:s}=this,u=new qi(`${Math.floor((t-n)/s)}`).multiply(`${s}`).add(`${n}`).toString();let p=this.clamp(Number(u));return p>i&&(p-=s),p}getClosestHandle(t){return this.getDistanceX(this.maxHandle,t)>this.getDistanceX(this.minHandle,t)?this.minHandle:this.maxHandle}getDistanceX(t,i){return Math.abs(t.getBoundingClientRect().left-i)}getFontSizeForElement(t){return Number(window.getComputedStyle(t).getPropertyValue("font-size").match(/\d+/)[0])}getUnitInterval(t){t=this.clamp(t);const i=this.max-this.min;return(t-this.min)/i}adjustHostObscuredHandleLabel(t){const i=this.el.shadowRoot.querySelector(`.handle__label--${t}`),n=this.el.shadowRoot.querySelector(`.handle__label--${t}.static`),s=this.el.shadowRoot.querySelector(`.handle__label--${t}.transformed`),u=n.getBoundingClientRect(),p=this.getHostOffset(u.left,u.right);i.style.transform=`translateX(${p}px)`,s.style.transform=`translateX(${p}px)`}hyphenateCollidingRangeHandleLabels(){const{shadowRoot:t}=this.el,i=this.shouldMirror(),n=i?"value":"minValue",s=i?"minValue":"value",u=t.querySelector(`.handle__label--${n}`),p=t.querySelector(`.handle__label--${n}.static`),g=t.querySelector(`.handle__label--${n}.transformed`),w=this.getHostOffset(p.getBoundingClientRect().left,p.getBoundingClientRect().right),E=t.querySelector(`.handle__label--${s}`),A=t.querySelector(`.handle__label--${s}.static`),I=t.querySelector(`.handle__label--${s}.transformed`),R=this.getHostOffset(A.getBoundingClientRect().left,A.getBoundingClientRect().right),F=this.getFontSizeForElement(u),q=this.getRangeLabelOverlap(g,I),B=u,K=F/2;if(q>0){if(B.classList.add(Li.hyphen,Li.hyphenWrap),R===0&&w===0){let te=q/2-K;te=Math.sign(te)===-1?Math.abs(te):-te;const ce=this.getHostOffset(g.getBoundingClientRect().left+te-K,g.getBoundingClientRect().right+te-K);let ye=q/2;const _e=this.getHostOffset(I.getBoundingClientRect().left+ye,I.getBoundingClientRect().right+ye);ce!==0&&(te+=ce,ye+=ce),_e!==0&&(te+=_e,ye+=_e),u.style.transform=`translateX(${te}px)`,g.style.transform=`translateX(${te-K}px)`,E.style.transform=`translateX(${ye}px)`,I.style.transform=`translateX(${ye}px)`}else if(w>0||R>0)u.style.transform=`translateX(${w+K}px)`,E.style.transform=`translateX(${q+R}px)`,I.style.transform=`translateX(${q+R}px)`;else if(w<0||R<0){let te=Math.abs(w)+q-K;te=Math.sign(te)===-1?Math.abs(te):-te,u.style.transform=`translateX(${te}px)`,g.style.transform=`translateX(${te-K}px)`}}else B.classList.remove(Li.hyphen,Li.hyphenWrap),u.style.transform=`translateX(${w}px)`,g.style.transform=`translateX(${w}px)`,E.style.transform=`translateX(${R}px)`,I.style.transform=`translateX(${R}px)`}hideObscuredBoundingTickLabels(){const t=Xo(this.value);if(!this.hasHistogram&&!t&&!this.labelHandles&&!this.precise||!this.hasHistogram&&!t&&this.labelHandles&&!this.precise||!this.hasHistogram&&!t&&!this.labelHandles&&this.precise||!this.hasHistogram&&!t&&this.labelHandles&&this.precise||!this.hasHistogram&&t&&!this.precise||this.hasHistogram&&!this.precise&&!this.labelHandles)return;const i=this.el.shadowRoot.querySelector(`.${Li.thumbMinValue}`),n=this.el.shadowRoot.querySelector(`.${Li.thumbValue}`),s=this.el.shadowRoot.querySelector(`.${Li.tickMin}`),u=this.el.shadowRoot.querySelector(`.${Li.tickMax}`);!i&&n&&s&&u&&(s.style.opacity=this.isMinTickLabelObscured(s,n)?"0":"1",u.style.opacity=this.isMaxTickLabelObscured(u,n)?"0":"1"),i&&n&&s&&u&&(s.style.opacity=this.isMinTickLabelObscured(s,i)||this.isMinTickLabelObscured(s,n)?"0":"1",u.style.opacity=this.isMaxTickLabelObscured(u,i)||this.isMaxTickLabelObscured(u,n)&&this.hasHistogram?"0":"1")}getHostOffset(t,i){const n=this.el.getBoundingClientRect(),s=7;return t+s<n.left?n.left-t-s:i-s>n.right?-(i-n.right)+s:0}getRangeLabelOverlap(t,i){const n=t.getBoundingClientRect(),s=i.getBoundingClientRect(),u=this.getFontSizeForElement(t),p=n.right+u-s.left;return Math.max(p,0)}isMinTickLabelObscured(t,i){const n=t.getBoundingClientRect(),s=i.getBoundingClientRect();return AL(n,s)}isMaxTickLabelObscured(t,i){const n=t.getBoundingClientRect(),s=i.getBoundingClientRect();return AL(n,s)}internalLabelFormatter(t,i){const n=this.labelFormatter;if(!n)return this.formatValue(t);const s=n(t,i,this.formatValue);return s??this.formatValue(t)}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{histogram:["histogramWatcher"],ticks:["ticksWatcher"],value:["valueHandler"],minValue:["minMaxValueHandler"],maxValue:["minMaxValueHandler"]}}static get style(){return qce}},[17,"calcite-slider",{disabled:[516],fillPlacement:[513,"fill-placement"],form:[513],groupSeparator:[516,"group-separator"],hasHistogram:[1540,"has-histogram"],histogram:[16],histogramStops:[16],labelHandles:[516,"label-handles"],labelFormatter:[16],labelTicks:[516,"label-ticks"],max:[514],maxLabel:[1,"max-label"],maxValue:[1026,"max-value"],min:[514],minLabel:[1,"min-label"],minValue:[1026,"min-value"],mirrored:[516],name:[513],numberingSystem:[1,"numbering-system"],pageStep:[514,"page-step"],precise:[516],required:[516],snap:[516],step:[514],ticks:[514],value:[1538],scale:[513],effectiveLocale:[32],minMaxValueRange:[32],minValueDragRange:[32],maxValueDragRange:[32],tickValues:[32],setFocus:[64]},[[1,"pointerdown","pointerDownHandler"]],{histogram:["histogramWatcher"],ticks:["ticksWatcher"],value:["valueHandler"],minValue:["minMaxValueHandler"],maxValue:["minMaxValueHandler"]}]);function Wce(){if(typeof customElements>"u")return;["calcite-slider","calcite-graph"].forEach(t=>{switch(t){case"calcite-slider":customElements.get(t)||customElements.define(t,Bce);break;case"calcite-graph":customElements.get(t)||$B();break}})}Wce();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Cl={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",indicatorText:"indicator-text",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible",indicatorWithIcon:"indicator-with-icon",indicatorWithoutIcon:"indicator-without-icon"},Jce={tooltip:"tooltip"},Zce=`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;background-color:transparent}:host,button{border-end-end-radius:var(--calcite-action-corner-radius-end-end, var(--calcite-action-corner-radius, var(--calcite-corner-radius)));border-end-start-radius:var(--calcite-action-corner-radius-end-start, var(--calcite-action-corner-radius, var(--calcite-corner-radius)));border-start-end-radius:var(--calcite-action-corner-radius-start-end, var(--calcite-action-corner-radius, var(--calcite-corner-radius)));border-start-start-radius:var(--calcite-action-corner-radius-start-start, var(--calcite-action-corner-radius, var(--calcite-corner-radius)))}.button{position:relative;margin:0px;display:flex;inline-size:auto;cursor:pointer;align-items:center;justify-content:flex-start;border-style:none;font-family:var(--calcite-font-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1));color:var(--calcite-action-text-color, var(--calcite-color-text-3));text-align:unset;flex:1 0 auto}.button:hover,.button:focus{background-color:var(--calcite-action-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-action-text-color-pressed, var(--calcite-color-text-1))}.button:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.button:active{background-color:var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3))}.icon-container{pointer-events:none;margin:0px;display:flex;align-items:center;justify-content:center;min-inline-size:1rem;min-block-size:1.5rem}.text-container{margin:0px;inline-size:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5rem;opacity:0;transition-property:opacity;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-property:margin;transition-property:inline-size}.text-container--visible{inline-size:auto;flex:1 1 auto;opacity:1}:host([active]) .button,:host([active]) .button:hover,:host([active]) .button:focus{color:var(--calcite-action-text-color-pressed, var(--calcite-color-text-1));background-color:var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3))}:host([active]) .button:active{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .text-container{opacity:var(--calcite-opacity-disabled)}:host([loading]) calcite-loader[inline]{margin-inline-end:0px}:host([appearance=transparent]) .button{background-color:transparent;transition-property:box-shadow;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host([appearance=transparent]) .button:hover,:host([appearance=transparent]) .button:focus{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]) .button:active{background-color:var(--calcite-color-transparent-press)}:host([data-active]) .button{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host([scale=s]) .button{padding-inline:0.5rem;padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=s]) .button--text-visible .icon-container{margin-inline-end:0.5rem}:host([scale=m]) .button{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=m]) .button--text-visible .icon-container{margin-inline-end:0.75rem}:host([scale=l]) .button{padding:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=l]) .button--text-visible .icon-container{margin-inline-end:1rem}:host([alignment=center]) .button{justify-content:center}:host([alignment=end]) .button{justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-inline:0px}.slot-container{display:flex}.slot-container--hidden{display:none}.button--text-visible{inline-size:100%}.indicator-with-icon{position:relative}.indicator-with-icon::after{content:"";position:absolute;block-size:0.5rem;inline-size:0.5rem;border-radius:9999px;inset-block-end:-0.275rem;inset-inline-end:-0.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-without-icon{margin-inline:0.25rem;inline-size:1rem;position:relative}.indicator-without-icon::after{content:"";position:absolute;block-size:0.5rem;inline-size:0.5rem;border-radius:9999px;inset-block-end:-0.275rem;inset-inline-end:-0.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;background-color:var(--calcite-color-foreground-1);opacity:var(--calcite-opacity-disabled)}:host([disabled]):host([active]) .button,:host([disabled]):host([active]) .button:hover,:host([disabled]):host([active]) .button:focus{background-color:var(--calcite-color-foreground-3);opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,Yce=Zce,Kce=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=yo("mutation",()=>Hr(this)),this.guid=`calcite-action-${jh()}`,this.indicatorId=`${this.guid}-indicator`,this.buttonId=`${this.guid}-button`,this.handleTooltipSlotChange=t=>{const n=t.target.assignedElements({flatten:!0}).filter(s=>s==null?void 0:s.matches("calcite-tooltip"))[0];n&&(n.referenceElement=this.buttonEl)},this.active=!1,this.alignment=void 0,this.appearance="solid",this.compact=!1,this.disabled=!1,this.icon=void 0,this.iconFlipRtl=!1,this.indicator=!1,this.label=void 0,this.loading=!1,this.scale="m",this.text=void 0,this.textEnabled=!1,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0}onMessagesChange(){}effectiveLocaleChange(){gc(this,this.effectiveLocale)}connectedCallback(){var t;ka(this),vc(this),(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0})}async componentWillLoad(){Ss(this),zh()&&await yc(this)}componentDidLoad(){_s(this)}disconnectedCallback(){var t;Ca(this),bc(this),(t=this.mutationObserver)==null||t.disconnect()}componentDidRender(){T1(this)}async setFocus(){var t;await Es(this),(t=this.buttonEl)==null||t.focus()}renderTextContainer(){const{text:t,textEnabled:i}=this,n={[Cl.textContainer]:!0,[Cl.textContainerVisible]:i};return t?fe("div",{class:n,key:"text-container"},t):null}renderIndicatorText(){const{indicator:t,messages:i,indicatorId:n,buttonId:s}=this;return fe("div",{"aria-labelledby":s,"aria-live":"polite",class:Cl.indicatorText,id:n,role:"region"},t?i.indicator:null)}renderIconContainer(){var F;const{loading:t,icon:i,scale:n,el:s,iconFlipRtl:u,indicator:p}=this,g=n==="l"?"l":"m",w=t?fe("calcite-loader",{inline:!0,label:this.messages.loading,scale:g}):null,E=i?fe("calcite-icon",{class:{[Cl.indicatorWithIcon]:p},flipRtl:u,icon:i,scale:q0(this.scale)}):null,A=w||E,I=A||((F=s.children)==null?void 0:F.length),R=fe("div",{class:{[Cl.slotContainer]:!0,[Cl.slotContainerHidden]:t}},fe("slot",null));return I?fe("div",{"aria-hidden":"true",class:Cl.iconContainer,key:"icon-container"},A,R):null}render(){const{active:t,compact:i,disabled:n,icon:s,loading:u,textEnabled:p,label:g,text:w,indicator:E,indicatorId:A,buttonId:I,messages:R}=this,F=g||w,q=F?`${F}${E?` (${R.indicator})`:""}`:"",B={[Cl.button]:!0,[Cl.buttonTextVisible]:p,[Cl.buttonCompact]:i};return fe(Ar,{key:"3b459307dcb6f8d373e70cd5c7a45d122565a70e"},fe(M1,{key:"3a81f1fb62a66f1dbd608f095ed90f2d47a9daf6",disabled:n},fe("button",{key:"bb5249babc116d462becd6b9a056ca0d368c6e09","aria-busy":Js(u),"aria-controls":E?A:null,"aria-label":q,"aria-pressed":Js(t),class:B,disabled:n,id:I,ref:K=>this.buttonEl=K},this.renderIconContainer(),this.renderTextContainer(),!s&&E&&fe("div",{class:Cl.indicatorWithoutIcon,key:"indicator-no-icon"})),fe("slot",{key:"983989711d64076eca866c1928f9c777331fcba4",name:Jce.tooltip,onSlotchange:this.handleTooltipSlotChange}),this.renderIndicatorText()))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Yce}},[1,"calcite-action",{active:[516],alignment:[513],appearance:[513],compact:[516],disabled:[516],icon:[1],iconFlipRtl:[516,"icon-flip-rtl"],indicator:[516],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Uh(){if(typeof customElements>"u")return;["calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-action":customElements.get(t)||customElements.define(t,Kce);break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break}})}Uh();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Bu={container:"container",containerContent:"container-content",hasProgress:"progress-bar",hide:"hide",primary:"primary",secondary:"secondary",tertiary:"tertiary"},Ps={logo:"logo",user:"user",progress:"progress",navigationAction:"navigation-action",contentStart:"content-start",contentEnd:"content-end",contentCenter:"content-center",navSecondary:"navigation-secondary",navTertiary:"navigation-tertiary"},Xce={hamburger:"hamburger"},Qce=":host([hidden]){display:none}[hidden]{display:none}.container{margin-inline:auto;display:flex;inline-size:100%;flex-direction:column;margin-block:0;margin-inline:auto;background-color:var(--calcite-navigation-background, var(--calcite-color-foreground-1))}.container.primary,.container.secondary,.container.tertiary{border-block-end:1px solid;border-block-end-color:var(--calcite-navigation-border-color, var(--calcite-color-border-3))}.user,.logo{display:flex}.hide{display:none}.primary{block-size:4rem}.secondary{block-size:3rem}.tertiary{block-size:3rem}.container-content{margin-inline:auto;display:flex;block-size:100%;inline-size:100%;margin-block:0;inline-size:var(--calcite-navigation-width, 100%);max-inline-size:100%}.container-content.progress-bar{margin-block-start:0.125rem}slot[name]{display:flex;flex-direction:row}slot[name=navigation-secondary]::slotted(calcite-navigation),slot[name=navigation-tertiary]::slotted(calcite-navigation){inline-size:100%}slot[name=content-start]::slotted(*),slot[name=content-center]::slotted(*),slot[name=content-end]::slotted(*){display:flex;flex-direction:row;align-items:center}slot[name=progress],slot[name=progress] calcite-progress{inset-block-start:0;inset-inline:0}slot[name=content-end]{margin-inline-start:auto}slot[name=content-start]{margin-inline-end:auto}slot[name=content-end],slot[name=logo]~slot[name=user],slot[name=user]:only-child{margin-inline-start:auto}slot[name=content-center]{margin-inline-start:auto;margin-inline-end:auto}slot[name=content-start]~slot[name=content-center]{margin-inline-start:0px}slot[name=content-start]~slot[name=content-end],slot[name=content-center]~slot[name=content-end],slot[name=content-center]~slot[name=user],slot[name=content-end]~slot[name=user]{margin:0px}",eue=Qce,tue=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteNavigationActionSelect=gt(this,"calciteNavigationActionSelect",6),this.actionClickHandler=()=>{this.calciteNavigationActionSelect.emit()},this.handleUserSlotChange=t=>{this.isPrimaryLevel()&&(this.userSlotHasElements=Qi(t))},this.handleLogoSlotChange=t=>{this.isPrimaryLevel()&&(this.logoSlotHasElements=Qi(t))},this.handleContentStartSlotChange=t=>{this.isPrimaryLevel()&&(this.primaryContentStartSlotHasElements=Qi(t))},this.handleContentEndSlotChange=t=>{this.isPrimaryLevel()&&(this.primaryContentEndSlotHasElements=Qi(t))},this.handleContentCenterSlotChange=t=>{this.isPrimaryLevel()&&(this.primaryContentCenterSlotHasElements=Qi(t))},this.handleSecondarySlotChange=t=>{this.secondarySlotHasElements=Qi(t)},this.handleTertiarySlotChange=t=>{this.tertiarySlotHasElements=Qi(t)},this.handleMenuActionSlotChange=t=>{this.isPrimaryLevel()&&(this.navigationActionSlotHasElements=Qi(t),this.navigationActionSlotHasElements&&(this.navigationAction=!1))},this.handleProgressSlotChange=t=>{this.isPrimaryLevel()&&(this.progressSlotHasElement=Qi(t))},this.label=void 0,this.navigationAction=!1,this.logoSlotHasElements=void 0,this.navigationActionSlotHasElements=void 0,this.primaryContentCenterSlotHasElements=void 0,this.primaryContentEndSlotHasElements=void 0,this.primaryContentStartSlotHasElements=void 0,this.progressSlotHasElement=void 0,this.secondarySlotHasElements=void 0,this.tertiarySlotHasElements=void 0,this.userSlotHasElements=void 0}async setFocus(){var t;return await Es(this),(t=this.navigationActionEl)==null?void 0:t.setFocus()}componentWillLoad(){Ss(this)}componentDidLoad(){_s(this)}isPrimaryLevel(){return this.el.slot!==Ps.navSecondary&&this.el.slot!==Ps.navTertiary}renderMenuAction(){return fe("slot",{name:Ps.navigationAction,onSlotchange:this.handleMenuActionSlotChange},this.navigationAction&&fe("calcite-action",{icon:Xce.hamburger,onClick:this.actionClickHandler,ref:t=>this.navigationActionEl=t,text:this.label}))}render(){const t=this.logoSlotHasElements||this.userSlotHasElements||this.navigationActionSlotHasElements||this.primaryContentCenterSlotHasElements||this.primaryContentEndSlotHasElements||this.primaryContentStartSlotHasElements||this.navigationAction,i=this.el.slot;return fe(Ar,{key:"bf64aa6c6c41bfad6413b58f7897527bb62e1d96"},fe("div",{key:"8c30501a94d5c41e60291c1f0d1cb2856afa5d62",class:{[Bu.container]:!0,[Bu.secondary]:i===Ps.navSecondary,[Bu.tertiary]:i===Ps.navTertiary,[Bu.primary]:t}},fe("div",{key:"ef4c088fc24566ca24da9abe6a30903fedcad4d9",class:{[Bu.hide]:!this.progressSlotHasElement,[Ps.progress]:!0}},fe("slot",{key:"0abc91e366b542e11ee76f13f099ee8b64a55ee0",name:Ps.progress,onSlotchange:this.handleProgressSlotChange})),fe("div",{key:"689dc16c2ab71944a78f3bfc16c1c16c9159f073",class:{[Bu.containerContent]:!0,[Bu.hasProgress]:this.progressSlotHasElement}},this.renderMenuAction(),fe("div",{key:"122f9d2d278a0a87dc1774f4933a4bb120410e48",class:{[Bu.hide]:!this.logoSlotHasElements,[Ps.logo]:!0}},fe("slot",{key:"38f2a0106cb2b3a844b60406c629c0cff4c1b64e",name:Ps.logo,onSlotchange:this.handleLogoSlotChange})),fe("slot",{key:"af8aa2c6ed65c95c51ebe31314cd1e684beef657",name:Ps.contentStart,onSlotchange:this.handleContentStartSlotChange}),fe("slot",{key:"989ba0f344ce973ea32b07ee02b04d62068cefb8",name:Ps.contentCenter,onSlotchange:this.handleContentCenterSlotChange}),fe("slot",{key:"e0fd2d40efb52e8735ca426c1374a3da4882a77d",name:Ps.contentEnd,onSlotchange:this.handleContentEndSlotChange}),fe("div",{key:"56e905fef7a76fd14be7085f367d6abf8b44a80b",class:{[Bu.hide]:!this.userSlotHasElements,[Ps.user]:!0}},fe("slot",{key:"e038f1510da60abbb05c1fd8541563334f86f6d5",name:Ps.user,onSlotchange:this.handleUserSlotChange})))),fe(d_,{key:"3a65439c3774cfb42fa6bc5f12c234a66f8bb314"},fe("slot",{key:"52e0b810e42911da6dc1ea448026f5756df0206f",name:Ps.navSecondary,onSlotchange:this.handleSecondarySlotChange}),fe("slot",{key:"97c2666bcd896fa763cb84d6b53285e2e26b51d1",name:Ps.navTertiary,onSlotchange:this.handleTertiarySlotChange})))}get el(){return this}static get style(){return eue}},[1,"calcite-navigation",{label:[1],navigationAction:[516,"navigation-action"],logoSlotHasElements:[32],navigationActionSlotHasElements:[32],primaryContentCenterSlotHasElements:[32],primaryContentEndSlotHasElements:[32],primaryContentStartSlotHasElements:[32],progressSlotHasElement:[32],secondarySlotHasElements:[32],tertiarySlotHasElements:[32],userSlotHasElements:[32],setFocus:[64]}]);function iue(){if(typeof customElements>"u")return;["calcite-navigation","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-navigation":customElements.get(t)||customElements.define(t,tue);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break}})}iue();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const dO=(e,t)=>{const i=e.level?`h${e.level}`:"div";return delete e.level,fe(i,{class:e.class,key:e.key},t)};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Ac={container:"container",heading:"heading",description:"description",anchor:"anchor",image:"image",standalone:"standalone",icon:"icon"},nue=`:host{display:inline-flex;outline:2px solid transparent;outline-offset:2px}.anchor{margin:0px;display:flex;cursor:pointer;align-items:center;justify-content:center;font-size:var(--calcite-font-size-0);line-height:1.25rem;text-decoration-line:none;outline-color:transparent;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;color:inherit;border-block-end:2px solid transparent}.anchor:hover,.anchor:focus{background-color:var(--calcite-color-foreground-2)}.anchor:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.anchor:active{background-color:var(--calcite-color-foreground-3)}.image,.icon{margin:0px;display:flex;block-size:1.75rem;padding-inline:1rem}.image~.icon{padding-inline-start:0px}.image~.container,.icon~.container{padding-inline-start:0px}:host(:active) .anchor{color:var(--calcite-color-text-1)}:host([active]) .anchor{color:var(--calcite-color-text-1);border-color:var(--calcite-color-brand);--calcite-icon-color:var(--calcite-color-brand)}.container{margin-block-start:0.125rem;display:flex;flex-direction:column;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-inline:1rem;text-align:start}.heading{margin-inline-start:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--calcite-font-size-0);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}.standalone{font-size:var(--calcite-font-size-1)}.description{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host([hidden]){display:none}[hidden]{display:none}`,rue=nue,sue=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=void 0,this.href=void 0,this.icon=void 0,this.iconFlipRtl=!1,this.label=void 0,this.rel=void 0,this.description=void 0,this.target=void 0,this.heading=void 0,this.thumbnail=void 0,this.headingLevel=void 0}async setFocus(){await Es(this),this.href&&this.el.focus()}componentWillLoad(){Ss(this)}componentDidLoad(){_s(this)}renderIcon(){return fe("calcite-icon",{class:Ac.icon,flipRtl:this.iconFlipRtl,icon:this.icon,scale:"l"})}renderHeaderContent(){const{heading:t,headingLevel:i,description:n}=this,s=t?fe(dO,{class:{[Ac.heading]:!0,[Ac.standalone]:!this.description},key:Ac.heading,level:i},t):null,u=n?fe("span",{class:Ac.description,key:Ac.description},n):null;return s||u?fe("div",{class:Ac.container,key:Ac.container},s,u):null}render(){const{thumbnail:t}=this;return fe(Ar,{key:"40dcb76c1c7919fd1a8b6929616d1d507c1e3301"},fe("a",{key:"7b457d99add3c3d4edbd4478711f9b9c9fb12caf",class:Ac.anchor,href:this.href,rel:this.rel,target:this.target},t&&fe("img",{key:"592aa3cfc2dfa47f9aa603f7edce4521dbaa27ae",alt:this.label||"",class:Ac.image,src:t}),this.icon&&this.renderIcon(),this.renderHeaderContent()))}static get delegatesFocus(){return!0}get el(){return this}static get style(){return rue}},[17,"calcite-navigation-logo",{active:[516],href:[513],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],rel:[513],description:[1],target:[513],heading:[1],thumbnail:[1],headingLevel:[514,"heading-level"],setFocus:[64]}]);function oue(){if(typeof customElements>"u")return;["calcite-navigation-logo","calcite-icon"].forEach(t=>{switch(t){case"calcite-navigation-logo":customElements.get(t)||customElements.define(t,sue);break;case"calcite-icon":customElements.get(t)||Xs();break}})}oue();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */var kB={exports:{}},CB={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},AB={exports:{}},aue=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},lue=aue,cue=Array.prototype.concat,uue=Array.prototype.slice,GL=AB.exports=function(t){for(var i=[],n=0,s=t.length;n<s;n++){var u=t[n];lue(u)?i=cue.call(i,uue.call(u)):i.push(u)}return i};GL.wrap=function(e){return function(){return e(GL(arguments))}};var b2=CB,Ow=AB.exports,OB=Object.hasOwnProperty,IB=Object.create(null);for(var mT in b2)OB.call(b2,mT)&&(IB[b2[mT]]=mT);var fa=kB.exports={to:{},get:{}};fa.get=function(e){var t=e.substring(0,3).toLowerCase(),i,n;switch(t){case"hsl":i=fa.get.hsl(e),n="hsl";break;case"hwb":i=fa.get.hwb(e),n="hwb";break;default:i=fa.get.rgb(e),n="rgb";break}return i?{model:n,value:i}:null};fa.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,i=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^(\w+)$/,p=[0,0,0,1],g,w,E;if(g=e.match(i)){for(E=g[2],g=g[1],w=0;w<3;w++){var A=w*2;p[w]=parseInt(g.slice(A,A+2),16)}E&&(p[3]=parseInt(E,16)/255)}else if(g=e.match(t)){for(g=g[1],E=g[3],w=0;w<3;w++)p[w]=parseInt(g[w]+g[w],16);E&&(p[3]=parseInt(E+E,16)/255)}else if(g=e.match(n)){for(w=0;w<3;w++)p[w]=parseInt(g[w+1],0);g[4]&&(g[5]?p[3]=parseFloat(g[4])*.01:p[3]=parseFloat(g[4]))}else if(g=e.match(s)){for(w=0;w<3;w++)p[w]=Math.round(parseFloat(g[w+1])*2.55);g[4]&&(g[5]?p[3]=parseFloat(g[4])*.01:p[3]=parseFloat(g[4]))}else return(g=e.match(u))?g[1]==="transparent"?[0,0,0,0]:OB.call(b2,g[1])?(p=b2[g[1]],p[3]=1,p):null:null;for(w=0;w<3;w++)p[w]=Pf(p[w],0,255);return p[3]=Pf(p[3],0,1),p};fa.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,i=e.match(t);if(i){var n=parseFloat(i[4]),s=(parseFloat(i[1])%360+360)%360,u=Pf(parseFloat(i[2]),0,100),p=Pf(parseFloat(i[3]),0,100),g=Pf(isNaN(n)?1:n,0,1);return[s,u,p,g]}return null};fa.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,i=e.match(t);if(i){var n=parseFloat(i[4]),s=(parseFloat(i[1])%360+360)%360,u=Pf(parseFloat(i[2]),0,100),p=Pf(parseFloat(i[3]),0,100),g=Pf(isNaN(n)?1:n,0,1);return[s,u,p,g]}return null};fa.to.hex=function(){var e=Ow(arguments);return"#"+H5(e[0])+H5(e[1])+H5(e[2])+(e[3]<1?H5(Math.round(e[3]*255)):"")};fa.to.rgb=function(){var e=Ow(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};fa.to.rgb.percent=function(){var e=Ow(arguments),t=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+i+"%, "+n+"%)":"rgba("+t+"%, "+i+"%, "+n+"%, "+e[3]+")"};fa.to.hsl=function(){var e=Ow(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};fa.to.hwb=function(){var e=Ow(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};fa.to.keyword=function(e){return IB[e.slice(0,3)]};function Pf(e,t,i){return Math.min(Math.max(t,e),i)}function H5(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}const tw=CB,PB={};for(const e of Object.keys(tw))PB[tw[e]]=e;const Lt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var RB=Lt;for(const e of Object.keys(Lt)){if(!("channels"in Lt[e]))throw new Error("missing channels property: "+e);if(!("labels"in Lt[e]))throw new Error("missing channel labels property: "+e);if(Lt[e].labels.length!==Lt[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:i}=Lt[e];delete Lt[e].channels,delete Lt[e].labels,Object.defineProperty(Lt[e],"channels",{value:t}),Object.defineProperty(Lt[e],"labels",{value:i})}Lt.rgb.hsl=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,s=Math.min(t,i,n),u=Math.max(t,i,n),p=u-s;let g,w;u===s?g=0:t===u?g=(i-n)/p:i===u?g=2+(n-t)/p:n===u&&(g=4+(t-i)/p),g=Math.min(g*60,360),g<0&&(g+=360);const E=(s+u)/2;return u===s?w=0:E<=.5?w=p/(u+s):w=p/(2-u-s),[g,w*100,E*100]};Lt.rgb.hsv=function(e){let t,i,n,s,u;const p=e[0]/255,g=e[1]/255,w=e[2]/255,E=Math.max(p,g,w),A=E-Math.min(p,g,w),I=function(R){return(E-R)/6/A+1/2};return A===0?(s=0,u=0):(u=A/E,t=I(p),i=I(g),n=I(w),p===E?s=n-i:g===E?s=1/3+t-n:w===E&&(s=2/3+i-t),s<0?s+=1:s>1&&(s-=1)),[s*360,u*100,E*100]};Lt.rgb.hwb=function(e){const t=e[0],i=e[1];let n=e[2];const s=Lt.rgb.hsl(e)[0],u=1/255*Math.min(t,Math.min(i,n));return n=1-1/255*Math.max(t,Math.max(i,n)),[s,u*100,n*100]};Lt.rgb.cmyk=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,s=Math.min(1-t,1-i,1-n),u=(1-t-s)/(1-s)||0,p=(1-i-s)/(1-s)||0,g=(1-n-s)/(1-s)||0;return[u*100,p*100,g*100,s*100]};function hue(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}Lt.rgb.keyword=function(e){const t=PB[e];if(t)return t;let i=1/0,n;for(const s of Object.keys(tw)){const u=tw[s],p=hue(e,u);p<i&&(i=p,n=s)}return n};Lt.keyword.rgb=function(e){return tw[e]};Lt.rgb.xyz=function(e){let t=e[0]/255,i=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const s=t*.4124+i*.3576+n*.1805,u=t*.2126+i*.7152+n*.0722,p=t*.0193+i*.1192+n*.9505;return[s*100,u*100,p*100]};Lt.rgb.lab=function(e){const t=Lt.rgb.xyz(e);let i=t[0],n=t[1],s=t[2];i/=95.047,n/=100,s/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const u=116*n-16,p=500*(i-n),g=200*(n-s);return[u,p,g]};Lt.hsl.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;let s,u,p;if(i===0)return p=n*255,[p,p,p];n<.5?s=n*(1+i):s=n+i-n*i;const g=2*n-s,w=[0,0,0];for(let E=0;E<3;E++)u=t+1/3*-(E-1),u<0&&u++,u>1&&u--,6*u<1?p=g+(s-g)*6*u:2*u<1?p=s:3*u<2?p=g+(s-g)*(2/3-u)*6:p=g,w[E]=p*255;return w};Lt.hsl.hsv=function(e){const t=e[0];let i=e[1]/100,n=e[2]/100,s=i;const u=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,s*=u<=1?u:2-u;const p=(n+i)/2,g=n===0?2*s/(u+s):2*i/(n+i);return[t,g*100,p*100]};Lt.hsv.rgb=function(e){const t=e[0]/60,i=e[1]/100;let n=e[2]/100;const s=Math.floor(t)%6,u=t-Math.floor(t),p=255*n*(1-i),g=255*n*(1-i*u),w=255*n*(1-i*(1-u));switch(n*=255,s){case 0:return[n,w,p];case 1:return[g,n,p];case 2:return[p,n,w];case 3:return[p,g,n];case 4:return[w,p,n];case 5:return[n,p,g]}};Lt.hsv.hsl=function(e){const t=e[0],i=e[1]/100,n=e[2]/100,s=Math.max(n,.01);let u,p;p=(2-i)*n;const g=(2-i)*s;return u=i*s,u/=g<=1?g:2-g,u=u||0,p/=2,[t,u*100,p*100]};Lt.hwb.rgb=function(e){const t=e[0]/360;let i=e[1]/100,n=e[2]/100;const s=i+n;let u;s>1&&(i/=s,n/=s);const p=Math.floor(6*t),g=1-n;u=6*t-p,(p&1)!==0&&(u=1-u);const w=i+u*(g-i);let E,A,I;switch(p){default:case 6:case 0:E=g,A=w,I=i;break;case 1:E=w,A=g,I=i;break;case 2:E=i,A=g,I=w;break;case 3:E=i,A=w,I=g;break;case 4:E=w,A=i,I=g;break;case 5:E=g,A=i,I=w;break}return[E*255,A*255,I*255]};Lt.cmyk.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100,s=e[3]/100,u=1-Math.min(1,t*(1-s)+s),p=1-Math.min(1,i*(1-s)+s),g=1-Math.min(1,n*(1-s)+s);return[u*255,p*255,g*255]};Lt.xyz.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100;let s,u,p;return s=t*3.2406+i*-1.5372+n*-.4986,u=t*-.9689+i*1.8758+n*.0415,p=t*.0557+i*-.204+n*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,p=p>.0031308?1.055*p**(1/2.4)-.055:p*12.92,s=Math.min(Math.max(0,s),1),u=Math.min(Math.max(0,u),1),p=Math.min(Math.max(0,p),1),[s*255,u*255,p*255]};Lt.xyz.lab=function(e){let t=e[0],i=e[1],n=e[2];t/=95.047,i/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const s=116*i-16,u=500*(t-i),p=200*(i-n);return[s,u,p]};Lt.lab.xyz=function(e){const t=e[0],i=e[1],n=e[2];let s,u,p;u=(t+16)/116,s=i/500+u,p=u-n/200;const g=u**3,w=s**3,E=p**3;return u=g>.008856?g:(u-16/116)/7.787,s=w>.008856?w:(s-16/116)/7.787,p=E>.008856?E:(p-16/116)/7.787,s*=95.047,u*=100,p*=108.883,[s,u,p]};Lt.lab.lch=function(e){const t=e[0],i=e[1],n=e[2];let s;s=Math.atan2(n,i)*360/2/Math.PI,s<0&&(s+=360);const p=Math.sqrt(i*i+n*n);return[t,p,s]};Lt.lch.lab=function(e){const t=e[0],i=e[1],s=e[2]/360*2*Math.PI,u=i*Math.cos(s),p=i*Math.sin(s);return[t,u,p]};Lt.rgb.ansi16=function(e,t=null){const[i,n,s]=e;let u=t===null?Lt.rgb.hsv(e)[2]:t;if(u=Math.round(u/50),u===0)return 30;let p=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return u===2&&(p+=60),p};Lt.hsv.ansi16=function(e){return Lt.rgb.ansi16(Lt.hsv.rgb(e),e[2])};Lt.rgb.ansi256=function(e){const t=e[0],i=e[1],n=e[2];return t===i&&i===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)};Lt.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const i=(~~(e>50)+1)*.5,n=(t&1)*i*255,s=(t>>1&1)*i*255,u=(t>>2&1)*i*255;return[n,s,u]};Lt.ansi256.rgb=function(e){if(e>=232){const u=(e-232)*10+8;return[u,u,u]}e-=16;let t;const i=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,s=t%6/5*255;return[i,n,s]};Lt.rgb.hex=function(e){const i=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(i.length)+i};Lt.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let i=t[0];t[0].length===3&&(i=i.split("").map(g=>g+g).join(""));const n=parseInt(i,16),s=n>>16&255,u=n>>8&255,p=n&255;return[s,u,p]};Lt.rgb.hcg=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,s=Math.max(Math.max(t,i),n),u=Math.min(Math.min(t,i),n),p=s-u;let g,w;return p<1?g=u/(1-p):g=0,p<=0?w=0:s===t?w=(i-n)/p%6:s===i?w=2+(n-t)/p:w=4+(t-i)/p,w/=6,w%=1,[w*360,p*100,g*100]};Lt.hsl.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=i<.5?2*t*i:2*t*(1-i);let s=0;return n<1&&(s=(i-.5*n)/(1-n)),[e[0],n*100,s*100]};Lt.hsv.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=t*i;let s=0;return n<1&&(s=(i-n)/(1-n)),[e[0],n*100,s*100]};Lt.hcg.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;if(i===0)return[n*255,n*255,n*255];const s=[0,0,0],u=t%1*6,p=u%1,g=1-p;let w=0;switch(Math.floor(u)){case 0:s[0]=1,s[1]=p,s[2]=0;break;case 1:s[0]=g,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=p;break;case 3:s[0]=0,s[1]=g,s[2]=1;break;case 4:s[0]=p,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=g}return w=(1-i)*n,[(i*s[0]+w)*255,(i*s[1]+w)*255,(i*s[2]+w)*255]};Lt.hcg.hsv=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);let s=0;return n>0&&(s=t/n),[e[0],s*100,n*100]};Lt.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let s=0;return n>0&&n<.5?s=t/(2*n):n>=.5&&n<1&&(s=t/(2*(1-n))),[e[0],s*100,n*100]};Lt.hcg.hwb=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);return[e[0],(n-t)*100,(1-n)*100]};Lt.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,s=n-t;let u=0;return s<1&&(u=(n-s)/(1-s)),[e[0],s*100,u*100]};Lt.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Lt.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Lt.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Lt.gray.hsl=function(e){return[0,0,e[0]]};Lt.gray.hsv=Lt.gray.hsl;Lt.gray.hwb=function(e){return[0,100,e[0]]};Lt.gray.cmyk=function(e){return[0,0,0,e[0]]};Lt.gray.lab=function(e){return[e[0],0,0]};Lt.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};Lt.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const VS=RB;function due(){const e={},t=Object.keys(VS);for(let i=t.length,n=0;n<i;n++)e[t[n]]={distance:-1,parent:null};return e}function fue(e){const t=due(),i=[e];for(t[e].distance=0;i.length;){const n=i.pop(),s=Object.keys(VS[n]);for(let u=s.length,p=0;p<u;p++){const g=s[p],w=t[g];w.distance===-1&&(w.distance=t[n].distance+1,w.parent=n,i.unshift(g))}}return t}function pue(e,t){return function(i){return t(e(i))}}function mue(e,t){const i=[t[e].parent,e];let n=VS[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)i.unshift(t[s].parent),n=pue(VS[t[s].parent][s],n),s=t[s].parent;return n.conversion=i,n}var yue=function(e){const t=fue(e),i={},n=Object.keys(t);for(let s=n.length,u=0;u<s;u++){const p=n[u];t[p].parent!==null&&(i[p]=mue(p,t))}return i};const uM=RB,gue=yue,Pm={},vue=Object.keys(uM);function bue(e){const t=function(...i){const n=i[0];return n==null?n:(n.length>1&&(i=n),e(i))};return"conversion"in e&&(t.conversion=e.conversion),t}function wue(e){const t=function(...i){const n=i[0];if(n==null)return n;n.length>1&&(i=n);const s=e(i);if(typeof s=="object")for(let u=s.length,p=0;p<u;p++)s[p]=Math.round(s[p]);return s};return"conversion"in e&&(t.conversion=e.conversion),t}vue.forEach(e=>{Pm[e]={},Object.defineProperty(Pm[e],"channels",{value:uM[e].channels}),Object.defineProperty(Pm[e],"labels",{value:uM[e].labels});const t=gue(e);Object.keys(t).forEach(n=>{const s=t[n];Pm[e][n]=wue(s),Pm[e][n].raw=bue(s)})});var xue=Pm;const Rm=kB.exports,da=xue,DB=["keyword","gray","hex"],hM={};for(const e of Object.keys(da))hM[[...da[e].labels].sort().join("")]=e;const GS={};function ts(e,t){if(!(this instanceof ts))return new ts(e,t);if(t&&t in DB&&(t=null),t&&!(t in da))throw new Error("Unknown model: "+t);let i,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof ts)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const s=Rm.get(e);if(s===null)throw new Error("Unable to parse color from string: "+e);this.model=s.model,n=da[this.model].channels,this.color=s.value.slice(0,n),this.valpha=typeof s.value[n]=="number"?s.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=da[this.model].channels;const s=Array.prototype.slice.call(e,0,n);this.color=dM(s,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(e);"alpha"in e&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const u=s.sort().join("");if(!(u in hM))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=hM[u];const{labels:p}=da[this.model],g=[];for(i=0;i<p.length;i++)g.push(e[p[i]]);this.color=dM(g)}if(GS[this.model])for(n=da[this.model].channels,i=0;i<n;i++){const s=GS[this.model][i];s&&(this.color[i]=s(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ts.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Rm.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const i=t.valpha===1?t.color:[...t.color,this.valpha];return Rm.to[t.model](i)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),i=t.valpha===1?t.color:[...t.color,this.valpha];return Rm.to.rgb.percent(i)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=da[this.model],{labels:i}=da[this.model];for(let n=0;n<t;n++)e[i[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new ts([...this.color.map(_ue(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new ts([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:nr("rgb",0,Rr(255)),green:nr("rgb",1,Rr(255)),blue:nr("rgb",2,Rr(255)),hue:nr(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:nr("hsl",1,Rr(100)),lightness:nr("hsl",2,Rr(100)),saturationv:nr("hsv",1,Rr(100)),value:nr("hsv",2,Rr(100)),chroma:nr("hcg",1,Rr(100)),gray:nr("hcg",2,Rr(100)),white:nr("hwb",1,Rr(100)),wblack:nr("hwb",2,Rr(100)),cyan:nr("cmyk",0,Rr(100)),magenta:nr("cmyk",1,Rr(100)),yellow:nr("cmyk",2,Rr(100)),black:nr("cmyk",3,Rr(100)),x:nr("xyz",0,Rr(95.047)),y:nr("xyz",1,Rr(100)),z:nr("xyz",2,Rr(108.833)),l:nr("lab",0,Rr(100)),a:nr("lab",1),b:nr("lab",2),keyword(e){return e!==void 0?new ts(e):da[this.model].keyword(this.color)},hex(e){return e!==void 0?new ts(e):Rm.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new ts(e);const t=this.rgb().round().color;let i=Math.round(this.valpha*255).toString(16).toUpperCase();return i.length===1&&(i="0"+i),Rm.to.hex(t)+i},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[i,n]of e.entries()){const s=n/255;t[i]=s<=.04045?s/12.92:((s+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return ts.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let i=t.color[0];return i=(i+e)%360,i=i<0?360+i:i,t.color[0]=i,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const i=e.rgb(),n=this.rgb(),s=t===void 0?.5:t,u=2*s-1,p=i.alpha()-n.alpha(),g=((u*p===-1?u:(u+p)/(1+u*p))+1)/2,w=1-g;return ts.rgb(g*i.red()+w*n.red(),g*i.green()+w*n.green(),g*i.blue()+w*n.blue(),i.alpha()*s+n.alpha()*(1-s))}};for(const e of Object.keys(da)){if(DB.includes(e))continue;const{channels:t}=da[e];ts.prototype[e]=function(...i){return this.model===e?new ts(this):i.length>0?new ts(i,e):new ts([...Eue(da[this.model][e].raw(this.color)),this.valpha],e)},ts[e]=function(...i){let n=i[0];return typeof n=="number"&&(n=dM(i,t)),new ts(n,e)}}function Sue(e,t){return Number(e.toFixed(t))}function _ue(e){return function(t){return Sue(t,e)}}function nr(e,t,i){e=Array.isArray(e)?e:[e];for(const n of e)(GS[n]||(GS[n]=[]))[t]=i;return e=e[0],function(n){let s;return n!==void 0?(i&&(n=i(n)),s=this[e](),s.color[t]=n,s):(s=this[e]().color[t],i&&(s=i(s)),s)}}function Rr(e){return function(t){return Math.max(0,Math.min(e,t))}}function Eue(e){return Array.isArray(e)?e:[e]}function dM(e,t){for(let i=0;i<t;i++)typeof e[i]!="number"&&(e[i]=0);return e}var Tue=ts;const Mue=Tue,qNe={channel:"channel",channels:"channels",colorField:"color-field",colorFieldScope:"scope--color-field",colorMode:"color-mode",colorModeContainer:"color-mode-container",container:"container",control:"control",controlAndScope:"control-and-scope",controlSection:"control-section",deleteColor:"delete-color",header:"header",hexAndChannelsGroup:"hex-and-channels-group",hexOptions:"color-hex-options",hueScope:"scope--hue",hueSlider:"hue-slider",opacityScope:"scope--opacity",opacitySlider:"opacity-slider",preview:"preview",previewAndSliders:"preview-and-sliders",saveColor:"save-color",savedColor:"saved-color",savedColors:"saved-colors",savedColorsButtons:"saved-colors-buttons",savedColorsSection:"saved-colors-section",scope:"scope",section:"section",slider:"slider",sliders:"sliders",splitSection:"section--split"},BNe=Mue("#007AC2"),WNe="calcite-color-",JNe={r:255,g:255,b:255},$ue={h:360,s:100,v:100},ZNe=$ue.h-1,YNe={min:0,max:100},kue={s:{slider:{height:12,width:104},colorField:{height:80,width:160},thumb:{radius:7},preview:{size:20}},m:{slider:{height:12,width:204},colorField:{height:150,width:272},thumb:{radius:7},preview:{size:24}},l:{slider:{height:12,width:384},colorField:{height:200,width:464},thumb:{radius:7},preview:{size:32}}},KNe=1,XNe=/^[0-9A-F]$/i,Cue=/^#[0-9A-F]{3}$/i,Aue=/^#[0-9A-F]{6}$/i,Oue=/^#[0-9A-F]{4}$/i,Iue=/^#[0-9A-F]{8}$/i,QNe=e=>Number((e*100).toFixed()),eLe=e=>Number((e/100).toFixed(2));function HS(e,t=!1){return fM(e,t)||Pue(e,t)}function NB(e,t,i){return e?e.length===t&&i.test(e):!1}function fM(e,t=!1){return NB(e,t?5:4,t?Oue:Cue)}function Pue(e,t=!1){return NB(e,t?9:7,t?Iue:Aue)}function tLe(e,t=!1,i=!1){if(e=e.toLowerCase(),e.startsWith("#")||(e=`#${e}`),fM(e,t))return HL(pM(e,t));if(t&&i&&HS(e,!1)){const n=fM(e,!1);return HL(pM(`${e}${n?"f":"ff"}`,!0))}return e}function iLe(e,t=!1){return t?e.hexa():e.hex()}function HL(e){const{r:t,g:i,b:n}=e,s=q5(t),u=q5(i),p=q5(n),g="a"in e?q5(e.a*255):"";return`#${s}${u}${p}${g}`.toLowerCase()}function q5(e){return e.toString(16).padStart(2,"0")}function nLe(e){const t={...e,a:e.alpha??1};return delete t.alpha,t}function rLe(e){const t={...e,alpha:e.a??1};return delete t.a,t}function pM(e,t=!1){if(!HS(e,t))return null;e=e.replace("#","");let i,n,s,u;if(e.length===3||e.length===4){const[g,w,E,A]=e.split("");i=parseInt(`${g}${g}`,16),n=parseInt(`${w}${w}`,16),s=parseInt(`${E}${E}`,16),u=parseInt(`${A}${A}`,16)/255}else i=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16),u=parseInt(e.slice(6,8),16)/255;return isNaN(u)?{r:i,g:n,b:s}:{r:i,g:n,b:s,a:u}}const LB=e=>e,dr=LB({HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"}),fr=LB({RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"});function sLe(e){if(typeof e=="string"){if(e.startsWith("#")){const{length:t}=e;if(t===4||t===7)return dr.HEX;if(t===5||t===9)return dr.HEXA}if(e.startsWith("rgba("))return dr.RGBA_CSS;if(e.startsWith("rgb("))return dr.RGB_CSS;if(e.startsWith("hsl("))return dr.HSL_CSS;if(e.startsWith("hsla("))return dr.HSLA_CSS}if(typeof e=="object"){if(vm(e,"r","g","b"))return vm(e,"a")?fr.RGBA:fr.RGB;if(vm(e,"h","s","l"))return vm(e,"a")?fr.HSLA:fr.HSL;if(vm(e,"h","s","v"))return vm(e,"a")?fr.HSVA:fr.HSV}return null}function vm(e,...t){return t.every(i=>i&&e&&`${i}`in e)}function oLe(e,t){return(e==null?void 0:e.rgb().array().toString())===(t==null?void 0:t.rgb().array().toString())}function aLe(e){return e===dr.HEXA||e===dr.RGBA_CSS||e===dr.HSLA_CSS||e===fr.RGBA||e===fr.HSLA||e===fr.HSVA}function lLe(e){return e===dr.HEX?dr.HEXA:e===dr.RGB_CSS?dr.RGBA_CSS:e===dr.HSL_CSS?dr.HSLA_CSS:e===fr.RGB?fr.RGBA:e===fr.HSL?fr.HSLA:e===fr.HSV?fr.HSVA:e}function cLe(e){return e===dr.HEXA?dr.HEX:e===dr.RGBA_CSS?dr.RGB_CSS:e===dr.HSLA_CSS?dr.HSL_CSS:e===fr.RGBA?fr.RGB:e===fr.HSLA?fr.HSL:e===fr.HSVA?fr.HSV:e}function uLe(e,t){const{slider:{width:i},preview:n}=e;if(t)return i;const s=kue.l.preview.size-n.size;return i+s}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const B5={thumbnail:"thumbnail",background:"background",initials:"initials",icon:"icon"};function Rue(e){e=Due(e);let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let i="#";for(let n=0;n<3;n++){const s=t>>n*8&255;i+=("00"+s.toString(16)).substr(-2)}return i}function Due(e){const t=Math.floor(e.length/2),i=e.split("").reverse().join("");return i.substring(t)+i.slice(0,t)}function Nue(e){let{r:t,g:i,b:n}=e;t/=255,i/=255,n/=255;const s=Math.max(t,i,n),u=Math.min(t,i,n),p=s-u;if(s===u)return 0;let g=(s+u)/2;switch(s){case t:g=(i-n)/p+(i<n?6:0);break;case i:g=(n-t)/p+2;break;case n:g=(t-i)/p+4;break}return Math.round(g*60)}function Lue(e){return Nue(pM(e))}const zue=":host{display:inline-block;overflow:hidden;border-radius:var(--calcite-avatar-corner-radius, 50%);color:var(--calcite-avatar-color, var(--calcite-color-text-2))}:host([scale=s]){block-size:1.5rem;inline-size:1.5rem;font-size:var(--calcite-font-size--3)}:host([scale=m]){block-size:2rem;inline-size:2rem;font-size:var(--calcite-font-size--2)}:host([scale=l]){block-size:2.75rem;inline-size:2.75rem;font-size:var(--calcite-font-size-0)}.icon{display:flex}.background{display:flex;block-size:100%;inline-size:100%;align-items:center;justify-content:center;border-radius:var(--calcite-avatar-corner-radius, 50%)}.initials{font-weight:var(--calcite-font-weight-bold);text-transform:uppercase}.thumbnail{block-size:100%;inline-size:100%;border-radius:var(--calcite-avatar-corner-radius, 50%)}:host([hidden]){display:none}[hidden]{display:none}",jue=zue,Fue=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.scale="m",this.thumbnail=void 0,this.fullName=void 0,this.username=void 0,this.userId=void 0,this.label=void 0,this.thumbnailFailedToLoad=!1}render(){return this.determineContent()}determineContent(){if(this.thumbnail&&!this.thumbnailFailedToLoad)return fe("img",{alt:this.label||"",class:B5.thumbnail,onError:()=>this.thumbnailFailedToLoad=!0,src:this.thumbnail});const t=this.generateInitials(),i=this.generateFillColor();return fe("span",{"aria-label":this.label||this.fullName,class:B5.background,role:"figure",style:{backgroundColor:i}},t?fe("span",{"aria-hidden":"true",class:B5.initials},t):fe("calcite-icon",{class:B5.icon,icon:"user",scale:this.scale}))}generateFillColor(){const{userId:t,username:i,fullName:n,el:s}=this,u=tle(s),p=t&&`#${t.substr(t.length-6)}`,g=i||n||"",w=p&&HS(p)?p:Rue(g);return!t&&!g||!HS(w)?"var(--calcite-avatar-background-color, var(--calcite-color-foreground-2))":`var(--calcite-avatar-background-color, hsl(${Lue(w)}, 60%, ${u==="dark"?20:90}%))`}generateInitials(){const{fullName:t,username:i}=this;return t?t.trim().split(" ").map(n=>n.substring(0,1)).join(""):i?i.substring(0,2):!1}get el(){return this}static get style(){return jue}},[1,"calcite-avatar",{scale:[513],thumbnail:[513],fullName:[513,"full-name"],username:[513],userId:[513,"user-id"],label:[1],thumbnailFailedToLoad:[32]}]);function zB(){if(typeof customElements>"u")return;["calcite-avatar","calcite-icon"].forEach(t=>{switch(t){case"calcite-avatar":customElements.get(t)||customElements.define(t,Fue);break;case"calcite-icon":customElements.get(t)||Xs();break}})}zB();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const bm={textContainer:"text-container",fullName:"full-name",username:"username",button:"button"},Uue=`:host{display:inline-flex;outline:2px solid transparent;outline-offset:2px}:host .button{background-color:transparent;border:none;margin:0px;display:flex;cursor:pointer;align-items:center;justify-content:center;font-family:var(--calcite-font-family);font-size:var(--calcite-font-size-0);line-height:1.25rem;outline-color:transparent;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-block-end:2px solid transparent}:host(:hover) .button,:host(:focus) .button{background-color:var(--calcite-color-foreground-2)}:host(:focus) .button{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host(:active) .button{background-color:var(--calcite-color-foreground-3);color:var(--calcite-color-text-1)}:host([active]) .button{border-color:var(--calcite-color-brand);color:var(--calcite-color-text-1);--calcite-icon-color:var(--calcite-color-brand)}.text-container{margin-block-start:0.125rem;display:flex;flex-direction:column;padding-inline:1rem;text-align:start}calcite-avatar{padding-inline:1rem}calcite-avatar~.text-container{padding-inline-start:0px}.full-name{margin-inline-start:0px;font-size:var(--calcite-font-size-0);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}.username{color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host([hidden]){display:none}[hidden]{display:none}`,Vue=Uue,Gue=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=void 0,this.fullName=void 0,this.label=void 0,this.textDisabled=!1,this.thumbnail=void 0,this.userId=void 0,this.username=void 0}async setFocus(){await Es(this),this.el.focus()}componentWillLoad(){Ss(this)}componentDidLoad(){_s(this)}render(){return fe(Ar,{key:"d848f4b0ee430fdbf74ce63be874afc055b1a48a"},fe("button",{key:"d8187d1795407a9d12e4f2c6c3d75dba47cdf028","aria-label":this.label,class:bm.button},fe("calcite-avatar",{key:"3a8526feb870ed33d7eae888c71f9489d90df26f","full-name":this.fullName,label:this.label,thumbnail:this.thumbnail,"user-id":this.userId,username:this.username}),(this.fullName||this.username)&&!this.textDisabled&&fe("div",{key:"111bc54b8e187a95849ed325aca22880c00d1191",class:bm.textContainer},this.fullName&&fe("span",{class:bm.fullName,key:bm.fullName},this.fullName),this.username&&fe("span",{class:bm.username,key:bm.username},this.username))))}static get delegatesFocus(){return!0}get el(){return this}static get style(){return Vue}},[17,"calcite-navigation-user",{active:[516],fullName:[1,"full-name"],label:[1],textDisabled:[516,"text-disabled"],thumbnail:[1],userId:[1,"user-id"],username:[1],setFocus:[64]}]);function Hue(){if(typeof customElements>"u")return;["calcite-navigation-user","calcite-avatar","calcite-icon"].forEach(t=>{switch(t){case"calcite-navigation-user":customElements.get(t)||customElements.define(t,Gue);break;case"calcite-avatar":customElements.get(t)||zB();break;case"calcite-icon":customElements.get(t)||Xs();break}})}Hue();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const que=":host{display:flex}ul{margin:0px;display:inline-flex;block-size:100%;align-items:center;padding:0px}:host([layout=vertical]) ul{display:flex;inline-size:100%;flex-direction:column}:host([hidden]){display:none}[hidden]{display:none}",Bue=que,Wue=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.menuItems=[],this.handleMenuSlotChange=t=>{this.menuItems=rl(t),this.setMenuItemLayout(this.menuItems,this.layout)},this.label=void 0,this.layout="horizontal",this.messageOverrides=void 0,this.messages=void 0,this.defaultMessages=void 0,this.effectiveLocale=""}handleGlobalAttributesChanged(){Hr(this),this.setMenuItemLayout(this.menuItems,this.layout)}handleLayoutChange(t){this.setMenuItemLayout(this.menuItems,t)}onMessagesChange(){}effectiveLocaleChange(){gc(this,this.effectiveLocale)}connectedCallback(){ka(this),vc(this)}async componentWillLoad(){Ss(this),await yc(this)}componentDidLoad(){_s(this)}disconnectedCallback(){Ca(this),bc(this)}async setFocus(){await Es(this),this.el.focus()}calciteInternalNavMenuItemKeyEvent(t){const i=t.target,n=t.detail.children,s=t.detail.event.key;t.stopPropagation(),s==="ArrowDown"?i.layout==="vertical"?wf(this.menuItems,i,"next",!1):t.detail.isSubmenuOpen&&n[0].setFocus():s==="ArrowUp"?this.layout==="vertical"?wf(this.menuItems,i,"previous",!1):t.detail.isSubmenuOpen&&n[n.length-1].setFocus():s==="ArrowRight"?this.layout==="horizontal"?wf(this.menuItems,i,"next",!1):t.detail.isSubmenuOpen&&n[0].setFocus():s==="ArrowLeft"?this.layout==="horizontal"?wf(this.menuItems,i,"previous",!1):t.detail.isSubmenuOpen&&this.focusParentElement(t.target):s==="Escape"&&this.focusParentElement(t.target),t.preventDefault()}focusParentElement(t){const i=t.parentElement;i&&(n1(i),i.open=!1)}setMenuItemLayout(t,i){t.forEach(n=>{n.layout=i,this.getEffectiveRole()==="menubar"&&(n.isTopLevelItem=!0,n.topLevelMenuLayout=this.layout)})}getEffectiveRole(){return this.el.role||"menubar"}render(){return fe(Ar,{key:"75308ac4419f7116f73975ad9ff88d25817d0522"},fe("ul",{key:"ed22f7ab681c6e583b0b5aa720823898759687cb","aria-label":this.label,role:this.getEffectiveRole()},fe("slot",{key:"4296d48a1a8921802458776d02e119feeaf12b3e",onSlotchange:this.handleMenuSlotChange})))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{role:["handleGlobalAttributesChanged"],layout:["handleLayoutChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Bue}},[17,"calcite-menu",{label:[1],layout:[513],messageOverrides:[1040],messages:[1040],defaultMessages:[32],effectiveLocale:[32],setFocus:[64]},[[0,"calciteInternalMenuItemKeyEvent","calciteInternalNavMenuItemKeyEvent"]],{role:["handleGlobalAttributesChanged"],layout:["handleLayoutChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function jB(){if(typeof customElements>"u")return;["calcite-menu"].forEach(t=>{switch(t){case"calcite-menu":customElements.get(t)||customElements.define(t,Wue);break}})}jB();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const $n={container:"container",content:"content",dropdownVertical:"dropdown--vertical",dropdownMenuItems:"dropdown-menu-items",dropdownAction:"dropdown-action",layoutVertical:"layout--vertical",hoverHrefIcon:"hover-href-icon",icon:"icon",iconBreadcrumb:"icon--breadcrumb",iconDropdown:"icon--dropdown",iconEnd:"icon--end",iconStart:"icon--start",isParentVertical:"parent--vertical",itemContent:"item-content",open:"open",nested:"nested",textContainer:"text-container"},Jue=`:host{position:relative;box-sizing:border-box;display:flex;align-items:center;flex-shrink:0}:host .container,:host .item-content,:host .content{min-block-size:3rem}:host([layout=vertical]){inline-size:100%}:host(:not([layout=vertical])){block-size:100%}.container,.item-content{display:flex;block-size:100%;inline-size:100%;flex-direction:row;align-items:stretch}.content{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);padding-inline:1rem;font-size:var(--calcite-font-size-0);color:var(--calcite-color-text-2);outline:2px solid transparent;outline-offset:2px;text-decoration:none;border-block-end:0.125rem solid transparent;padding-block-start:0.125rem}.content:hover{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-2)}.content:focus{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-2);outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.content:active{background-color:var(--calcite-color-foreground-3);color:var(--calcite-color-text-1)}.content span{display:inline-flex}.content.layout--vertical{display:flex;inline-size:100%;justify-content:flex-start;padding-block:1rem;border-block-end:0;border-inline-end:0.25rem solid transparent}:host([active]) .content{color:var(--calcite-color-text-1);border-color:var(--calcite-color-brand)}:host([active]) .content .icon{--calcite-icon-color:var(--calcite-color-brand)}:host([layout=vertical]) .content{padding-inline:0.75rem}.icon--start{margin-inline-end:0.75rem}.icon--end{margin-inline-start:0.75rem}:host([layout=vertical]) .icon--end{margin-inline-start:auto;padding-inline-start:0.75rem}.icon--dropdown{position:relative;margin-inline-start:auto;margin-inline-end:0px;padding-inline-start:0.5rem;--calcite-icon-color:var(--calcite-color-text-3)}:host([layout=vertical]) .icon--end~.icon--dropdown{margin-inline-start:0.75rem}:host([layout=vertical]) .hover-href-icon{padding-inline-start:0.5rem}:host([layout=vertical]) .hover-href-icon~.icon--end{margin-inline-start:0.5rem}:host([layout=vertical]) .hover-href-icon~.icon--breadcrumb{margin-inline-start:0.75rem}.icon--breadcrumb{margin-inline-end:0px;padding-inline-start:0.5rem;--calcite-icon-color:var(--calcite-color-text-3)}:host([layout=vertical]) .icon--breadcrumb{margin-inline-start:auto}:host([layout=vertical]) .icon--breadcrumb~.icon--dropdown{margin-inline-start:0.5rem}:host([layout=vertical]) .icon--end~.icon--breadcrumb{margin-inline-start:0.5rem}:host([breadcrumb]) .content{padding-inline-end:0.75rem}calcite-action{position:relative;block-size:auto;border-inline-start:1px solid var(--calcite-color-foreground-1)}calcite-action::after{position:absolute;inset-inline-start:-1px;display:block;inline-size:1px;content:"";inset-block:0.75rem;background-color:var(--calcite-color-border-3)}calcite-action:hover::after{block-size:100%;inset-block:0}.content:focus~calcite-action,.content:hover~calcite-action{color:var(--calcite-color-text-1);border-inline-start:1px solid var(--calcite-color-border-3)}.container:hover .dropdown-action{background-color:var(--calcite-color-foreground-2)}.dropdown-menu-items{position:absolute;display:none;block-size:auto;min-inline-size:100%;flex-direction:column;overflow:visible;border:1px solid var(--calcite-color-border-3);background:var(--calcite-color-foreground-1);inset-block-start:100%;z-index:var(--calcite-z-index-dropdown)}.dropdown-menu-items.open{display:block}.dropdown-menu-items.nested{position:absolute;inset-block-start:-1px;transform:translateX(calc(100% - 2px))}.parent--vertical{flex-direction:column}.dropdown--vertical.dropdown-menu-items{position:relative;border-radius:0px;box-shadow:none;inset-block-start:0;transform:none}.dropdown--vertical.dropdown-menu-items:last-of-type{border-inline:0}:host([layout=vertical]:last-of-type) .dropdown-menu-items{border-block-end:0}:host([slot=submenu-item]) .parent--vertical{padding-inline-start:1.5rem}.dropdown-menu-items.nested.calcite--rtl{transform:translateX(calc(-100% + 2px))}.dropdown--vertical.dropdown-menu-items.nested.calcite--rtl{transform:none}.hover-href-icon{position:relative;inset-inline-end:0.25rem;margin-inline-start:auto;opacity:0;transition:all var(--calcite-internal-animation-timing-medium) ease-in-out}.content:focus .hover-href-icon,.content:hover .hover-href-icon{inset-inline-end:-0.25rem;opacity:1}:host([hidden]){display:none}[hidden]{display:none}`,Zue=Jue,Yue=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalMenuItemKeyEvent=gt(this,"calciteInternalMenuItemKeyEvent",7),this.calciteMenuItemSelect=gt(this,"calciteMenuItemSelect",7),this.clickHandler=t=>{(this.href&&t.target===this.dropdownActionEl||!this.href&&this.hasSubmenu)&&(this.open=!this.open),this.selectMenuItem(t)},this.handleMenuItemSlotChange=t=>{this.submenuItems=rl(t),this.submenuItems.forEach(i=>{i.topLevelMenuLayout||(i.topLevelMenuLayout=this.topLevelMenuLayout)}),this.hasSubmenu=this.submenuItems.length>0},this.keyDownHandler=async t=>{const{hasSubmenu:i,href:n,layout:s,open:u,submenuItems:p}=this,g=t.key,w=t.target===this.dropdownActionEl;if(!t.defaultPrevented){if(g===" "||g==="Enter")i&&(!n||n&&w)&&(this.open=!u),!(n&&w)&&g!=="Enter"&&this.selectMenuItem(t),(g===" "||n&&w)&&t.preventDefault();else if(g==="Escape"){if(u){this.open=!1;return}this.calciteInternalMenuItemKeyEvent.emit({event:t}),t.preventDefault()}else if(g==="ArrowDown"||g==="ArrowUp"){if(t.preventDefault(),(w||!n)&&i&&!u&&s==="horizontal"){this.open=!0;return}this.calciteInternalMenuItemKeyEvent.emit({event:t,children:p,isSubmenuOpen:u&&i})}else if(g==="ArrowLeft")t.preventDefault(),this.calciteInternalMenuItemKeyEvent.emit({event:t,children:p,isSubmenuOpen:!0});else if(g==="ArrowRight"){if(t.preventDefault(),(w||!n)&&i&&!u&&s==="vertical"){this.open=!0;return}this.calciteInternalMenuItemKeyEvent.emit({event:t,children:p,isSubmenuOpen:u&&i})}}},this.active=void 0,this.breadcrumb=void 0,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.isTopLevelItem=!1,this.label=void 0,this.layout=void 0,this.messageOverrides=void 0,this.messages=void 0,this.open=!1,this.rel=void 0,this.target=void 0,this.text=void 0,this.topLevelMenuLayout=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.hasSubmenu=!1,this.submenuItems=void 0}onMessagesChange(){}effectiveLocaleChange(){gc(this,this.effectiveLocale)}async setFocus(){await Es(this),this.anchorEl.focus()}handleClickOut(t){this.topLevelMenuLayout!=="vertical"&&this.hasSubmenu&&this.open&&!t.composedPath().includes(this.el)&&(this.open=!1)}handleFocusOut(t){this.topLevelMenuLayout!=="vertical"&&!this.el.contains(t.relatedTarget)&&(this.open=!1)}connectedCallback(){ka(this),vc(this)}async componentWillLoad(){Ss(this),await yc(this)}componentDidLoad(){_s(this)}disconnectedCallback(){Ca(this),bc(this)}blurHandler(){this.isFocused=!1}focusHandler(t){const i=t.target;this.isFocused=!0,i.open&&!this.open&&(i.open=!1)}selectMenuItem(t){t.target!==this.dropdownActionEl&&this.calciteMenuItemSelect.emit()}renderIconStart(){return fe("calcite-icon",{class:`${$n.icon} ${$n.iconStart}`,flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,key:$n.iconStart,scale:"s"})}renderIconEnd(){return fe("calcite-icon",{class:`${$n.icon} ${$n.iconEnd}`,flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,key:$n.iconEnd,scale:"s"})}renderBreadcrumbIcon(t){return fe("calcite-icon",{class:`${$n.icon} ${$n.iconBreadcrumb}`,icon:t==="rtl"?"chevron-left":"chevron-right",key:$n.iconBreadcrumb,scale:"s"})}renderDropdownIcon(t){const i=t==="rtl"?"chevron-left":"chevron-right";return fe("calcite-icon",{class:`${$n.icon} ${$n.iconDropdown}`,icon:this.topLevelMenuLayout==="vertical"||this.isTopLevelItem?this.open?"chevron-up":"chevron-down":i,key:$n.iconDropdown,scale:"s"})}renderDropdownAction(t){const i=t==="rtl"?"chevron-left":"chevron-right";return fe("calcite-action",{class:$n.dropdownAction,icon:this.topLevelMenuLayout==="vertical"||this.isTopLevelItem?this.open?"chevron-up":"chevron-down":i,key:$n.dropdownAction,onClick:this.clickHandler,onKeyDown:this.keyDownHandler,ref:n=>this.dropdownActionEl=n,text:this.messages.open})}renderSubmenuItems(t){return fe("calcite-menu",{class:{[$n.dropdownMenuItems]:!0,[$n.open]:this.open,[$n.nested]:!this.isTopLevelItem,[nu.rtl]:t==="rtl",[$n.dropdownVertical]:this.topLevelMenuLayout==="vertical"},label:this.messages.submenu,layout:"vertical",role:"menu"},fe("slot",{name:"submenu-item",onSlotchange:this.handleMenuItemSlotChange}))}renderHrefIcon(t){return fe("calcite-icon",{class:$n.hoverHrefIcon,icon:t==="rtl"?"arrow-left":"arrow-right",key:$n.hoverHrefIcon,scale:"s"})}renderItemContent(t){const i=this.href&&(this.topLevelMenuLayout==="vertical"||!this.isTopLevelItem);return fe(d_,null,this.iconStart&&this.renderIconStart(),fe("div",{class:$n.textContainer},fe("span",null,this.text)),i&&this.renderHrefIcon(t),this.iconEnd&&this.renderIconEnd(),this.breadcrumb?this.renderBreadcrumbIcon(t):null,!this.href&&this.hasSubmenu?this.renderDropdownIcon(t):null)}render(){const t=If(this.el);return fe(Ar,{key:"e57c6579d3287593d663a8586cfd25c90246b1a4",onBlur:this.blurHandler,onFocus:this.focusHandler},fe("li",{key:"954549390e447ec43ccf681949095d1393d9068a",class:{[$n.container]:!0,[$n.isParentVertical]:this.topLevelMenuLayout==="vertical"},role:"none"},fe("div",{key:"6130156128f303bb225007e337fae78385614cf5",class:$n.itemContent},fe("a",{key:"9103ba8f3683feb1eb2301f05412b434c39ec3d3","aria-current":this.isFocused?"page":!1,"aria-expanded":Js(this.open),"aria-haspopup":Js(this.hasSubmenu),"aria-label":this.label,class:{[$n.layoutVertical]:this.layout==="vertical",[$n.content]:!0},href:this.href,onClick:this.clickHandler,onKeyDown:this.keyDownHandler,ref:i=>this.anchorEl=i,rel:this.rel,role:"menuitem",tabIndex:this.isTopLevelItem?0:-1,target:this.target},this.renderItemContent(t)),this.href&&this.hasSubmenu?this.renderDropdownAction(t):null),this.renderSubmenuItems(t)))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Zue}},[1,"calcite-menu-item",{active:[516],breadcrumb:[516],href:[1],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],isTopLevelItem:[4,"is-top-level-item"],label:[1],layout:[513],messageOverrides:[1040],messages:[1040],open:[1540],rel:[513],target:[513],text:[1],topLevelMenuLayout:[1,"top-level-menu-layout"],defaultMessages:[32],effectiveLocale:[32],hasSubmenu:[32],submenuItems:[32],setFocus:[64]},[[8,"click","handleClickOut"],[0,"focusout","handleFocusOut"]],{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Kue(){if(typeof customElements>"u")return;["calcite-menu-item","calcite-action","calcite-icon","calcite-loader","calcite-menu"].forEach(t=>{switch(t){case"calcite-menu-item":customElements.get(t)||customElements.define(t,Yue);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break;case"calcite-menu":customElements.get(t)||jB();break}})}Kue();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 *//*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Xue(e,t,i){return(t=ehe(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function qL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function BL(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(i),!0).forEach(function(n){Xue(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Que(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ehe(e){var t=Que(e,"string");return typeof t=="symbol"?t:t+""}var WL={activateTrap:function(t,i){if(t.length>0){var n=t[t.length-1];n!==i&&n.pause()}var s=t.indexOf(i);s===-1||t.splice(s,1),t.push(i)},deactivateTrap:function(t,i){var n=t.indexOf(i);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},the=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},ihe=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},w2=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},nhe=function(t){return w2(t)&&!t.shiftKey},rhe=function(t){return w2(t)&&t.shiftKey},JL=function(t){return setTimeout(t,0)},ZL=function(t,i){var n=-1;return t.every(function(s,u){return i(s)?(n=u,!1):!0}),n},Bv=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,n):t},W5=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},she=[],ohe=function(t,i){var n=(i==null?void 0:i.document)||document,s=(i==null?void 0:i.trapStack)||she,u=BL({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:nhe,isKeyBackward:rhe},i),p={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},g,w=function(De,Me,et){return De&&De[Me]!==void 0?De[Me]:u[et||Me]},E=function(De,Me){var et=typeof(Me==null?void 0:Me.composedPath)=="function"?Me.composedPath():void 0;return p.containerGroups.findIndex(function(Ve){var lt=Ve.container,st=Ve.tabbableNodes;return lt.contains(De)||(et==null?void 0:et.includes(lt))||st.find(function(Tt){return Tt===De})})},A=function(De){var Me=u[De];if(typeof Me=="function"){for(var et=arguments.length,Ve=new Array(et>1?et-1:0),lt=1;lt<et;lt++)Ve[lt-1]=arguments[lt];Me=Me.apply(void 0,Ve)}if(Me===!0&&(Me=void 0),!Me){if(Me===void 0||Me===!1)return Me;throw new Error("`".concat(De,"` was specified but was not a node, or did not return a node"))}var st=Me;if(typeof Me=="string"&&(st=n.querySelector(Me),!st))throw new Error("`".concat(De,"` as selector refers to no known node"));return st},I=function(){var De=A("initialFocus");if(De===!1)return!1;if(De===void 0||!dT(De,u.tabbableOptions))if(E(n.activeElement)>=0)De=n.activeElement;else{var Me=p.tabbableGroups[0],et=Me&&Me.firstTabbableNode;De=et||A("fallbackFocus")}if(!De)throw new Error("Your focus-trap needs to have at least one focusable element");return De},R=function(){if(p.containerGroups=p.containers.map(function(De){var Me=eB(De,u.tabbableOptions),et=Qae(De,u.tabbableOptions),Ve=Me.length>0?Me[0]:void 0,lt=Me.length>0?Me[Me.length-1]:void 0,st=et.find(function(Xe){return gm(Xe)}),Tt=et.slice().reverse().find(function(Xe){return gm(Xe)}),Se=!!Me.find(function(Xe){return O0(Xe)>0});return{container:De,tabbableNodes:Me,focusableNodes:et,posTabIndexesFound:Se,firstTabbableNode:Ve,lastTabbableNode:lt,firstDomTabbableNode:st,lastDomTabbableNode:Tt,nextTabbableNode:function($t){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,bt=Me.indexOf($t);return bt<0?Mt?et.slice(et.indexOf($t)+1).find(function(Yt){return gm(Yt)}):et.slice(0,et.indexOf($t)).reverse().find(function(Yt){return gm(Yt)}):Me[bt+(Mt?1:-1)]}}}),p.tabbableGroups=p.containerGroups.filter(function(De){return De.tabbableNodes.length>0}),p.tabbableGroups.length<=0&&!A("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(p.containerGroups.find(function(De){return De.posTabIndexesFound})&&p.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},F=function(De){var Me=De.activeElement;if(Me)return Me.shadowRoot&&Me.shadowRoot.activeElement!==null?F(Me.shadowRoot):Me},q=function(De){if(De!==!1&&De!==F(document)){if(!De||!De.focus){q(I());return}De.focus({preventScroll:!!u.preventScroll}),p.mostRecentlyFocusedNode=De,the(De)&&De.select()}},B=function(De){var Me=A("setReturnFocus",De);return Me||(Me===!1?!1:De)},K=function(De){var Me=De.target,et=De.event,Ve=De.isBackward,lt=Ve===void 0?!1:Ve;Me=Me||W5(et),R();var st=null;if(p.tabbableGroups.length>0){var Tt=E(Me,et),Se=Tt>=0?p.containerGroups[Tt]:void 0;if(Tt<0)lt?st=p.tabbableGroups[p.tabbableGroups.length-1].lastTabbableNode:st=p.tabbableGroups[0].firstTabbableNode;else if(lt){var Xe=ZL(p.tabbableGroups,function(xn){var hi=xn.firstTabbableNode;return Me===hi});if(Xe<0&&(Se.container===Me||dT(Me,u.tabbableOptions)&&!gm(Me,u.tabbableOptions)&&!Se.nextTabbableNode(Me,!1))&&(Xe=Tt),Xe>=0){var $t=Xe===0?p.tabbableGroups.length-1:Xe-1,Mt=p.tabbableGroups[$t];st=O0(Me)>=0?Mt.lastTabbableNode:Mt.lastDomTabbableNode}else w2(et)||(st=Se.nextTabbableNode(Me,!1))}else{var bt=ZL(p.tabbableGroups,function(xn){var hi=xn.lastTabbableNode;return Me===hi});if(bt<0&&(Se.container===Me||dT(Me,u.tabbableOptions)&&!gm(Me,u.tabbableOptions)&&!Se.nextTabbableNode(Me))&&(bt=Tt),bt>=0){var Yt=bt===p.tabbableGroups.length-1?0:bt+1,Kt=p.tabbableGroups[Yt];st=O0(Me)>=0?Kt.firstTabbableNode:Kt.firstDomTabbableNode}else w2(et)||(st=Se.nextTabbableNode(Me))}}else st=A("fallbackFocus");return st},te=function(De){var Me=W5(De);if(!(E(Me,De)>=0)){if(Bv(u.clickOutsideDeactivates,De)){g.deactivate({returnFocus:u.returnFocusOnDeactivate});return}Bv(u.allowOutsideClick,De)||De.preventDefault()}},ce=function(De){var Me=W5(De),et=E(Me,De)>=0;if(et||Me instanceof Document)et&&(p.mostRecentlyFocusedNode=Me);else{De.stopImmediatePropagation();var Ve,lt=!0;if(p.mostRecentlyFocusedNode)if(O0(p.mostRecentlyFocusedNode)>0){var st=E(p.mostRecentlyFocusedNode),Tt=p.containerGroups[st].tabbableNodes;if(Tt.length>0){var Se=Tt.findIndex(function(Xe){return Xe===p.mostRecentlyFocusedNode});Se>=0&&(u.isKeyForward(p.recentNavEvent)?Se+1<Tt.length&&(Ve=Tt[Se+1],lt=!1):Se-1>=0&&(Ve=Tt[Se-1],lt=!1))}}else p.containerGroups.some(function(Xe){return Xe.tabbableNodes.some(function($t){return O0($t)>0})})||(lt=!1);else lt=!1;lt&&(Ve=K({target:p.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(p.recentNavEvent)})),q(Ve||p.mostRecentlyFocusedNode||I())}p.recentNavEvent=void 0},ye=function(De){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;p.recentNavEvent=De;var et=K({event:De,isBackward:Me});et&&(w2(De)&&De.preventDefault(),q(et))},_e=function(De){(u.isKeyForward(De)||u.isKeyBackward(De))&&ye(De,u.isKeyBackward(De))},we=function(De){ihe(De)&&Bv(u.escapeDeactivates,De)!==!1&&(De.preventDefault(),g.deactivate())},xe=function(De){var Me=W5(De);E(Me,De)>=0||Bv(u.clickOutsideDeactivates,De)||Bv(u.allowOutsideClick,De)||(De.preventDefault(),De.stopImmediatePropagation())},pe=function(){if(p.active)return WL.activateTrap(s,g),p.delayInitialFocusTimer=u.delayInitialFocus?JL(function(){q(I())}):q(I()),n.addEventListener("focusin",ce,!0),n.addEventListener("mousedown",te,{capture:!0,passive:!1}),n.addEventListener("touchstart",te,{capture:!0,passive:!1}),n.addEventListener("click",xe,{capture:!0,passive:!1}),n.addEventListener("keydown",_e,{capture:!0,passive:!1}),n.addEventListener("keydown",we),g},Ze=function(){if(p.active)return n.removeEventListener("focusin",ce,!0),n.removeEventListener("mousedown",te,!0),n.removeEventListener("touchstart",te,!0),n.removeEventListener("click",xe,!0),n.removeEventListener("keydown",_e,!0),n.removeEventListener("keydown",we),g},Fe=function(De){var Me=De.some(function(et){var Ve=Array.from(et.removedNodes);return Ve.some(function(lt){return lt===p.mostRecentlyFocusedNode})});Me&&q(I())},He=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Fe):void 0,nt=function(){He&&(He.disconnect(),p.active&&!p.paused&&p.containers.map(function(De){He.observe(De,{subtree:!0,childList:!0})}))};return g={get active(){return p.active},get paused(){return p.paused},activate:function(De){if(p.active)return this;var Me=w(De,"onActivate"),et=w(De,"onPostActivate"),Ve=w(De,"checkCanFocusTrap");Ve||R(),p.active=!0,p.paused=!1,p.nodeFocusedBeforeActivation=n.activeElement,Me==null||Me();var lt=function(){Ve&&R(),pe(),nt(),et==null||et()};return Ve?(Ve(p.containers.concat()).then(lt,lt),this):(lt(),this)},deactivate:function(De){if(!p.active)return this;var Me=BL({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},De);clearTimeout(p.delayInitialFocusTimer),p.delayInitialFocusTimer=void 0,Ze(),p.active=!1,p.paused=!1,nt(),WL.deactivateTrap(s,g);var et=w(Me,"onDeactivate"),Ve=w(Me,"onPostDeactivate"),lt=w(Me,"checkCanReturnFocus"),st=w(Me,"returnFocus","returnFocusOnDeactivate");et==null||et();var Tt=function(){JL(function(){st&&q(B(p.nodeFocusedBeforeActivation)),Ve==null||Ve()})};return st&&lt?(lt(B(p.nodeFocusedBeforeActivation)).then(Tt,Tt),this):(Tt(),this)},pause:function(De){if(p.paused||!p.active)return this;var Me=w(De,"onPause"),et=w(De,"onPostPause");return p.paused=!0,Me==null||Me(),Ze(),nt(),et==null||et(),this},unpause:function(De){if(!p.paused||!p.active)return this;var Me=w(De,"onUnpause"),et=w(De,"onPostUnpause");return p.paused=!1,Me==null||Me(),R(),pe(),nt(),et==null||et(),this},updateContainerElements:function(De){var Me=[].concat(De).filter(Boolean);return p.containers=Me.map(function(et){return typeof et=="string"?n.querySelector(et):et}),p.active&&R(),nt(),this}},g.updateContainerElements(t),g};function FB(e,t){const{el:i}=e,n=(t==null?void 0:t.focusTrapEl)||i;if(!n)return;const s={clickOutsideDeactivates:!0,escapeDeactivates:!1,fallbackFocus:n,setReturnFocus:u=>(n1(u),!1),...t==null?void 0:t.focusTrapOptions,document:i.ownerDocument,tabbableOptions:tB,trapStack:Cae};e.focusTrap=ohe(n,s)}function mM(e,t){var i;e.focusTrapDisabled||(i=e.focusTrap)==null||i.activate(t)}function x2(e,t){var i;(i=e.focusTrap)==null||i.deactivate(t)}function UB(e){var t;(t=e.focusTrap)==null||t.updateContainerElements(e.el)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const ahe=Goe;function YL(e){return"opened"in e?e.opened:e.open}function Rf(e){ahe(()=>{e.transitionEl&&gle(e.transitionEl,e.openTransitionProp,()=>{YL(e)?e.onBeforeOpen():e.onBeforeClose()},()=>{YL(e)?e.onOpen():e.onClose()})})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function KL(e,t){return(e+t)%t}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */var lhe=typeof global=="object"&&global&&global.Object===Object&&global;const che=lhe;var uhe=typeof self=="object"&&self&&self.Object===Object&&self,hhe=che||uhe||Function("return this")();const VB=hhe;var dhe=VB.Symbol;const qS=dhe;var GB=Object.prototype,fhe=GB.hasOwnProperty,phe=GB.toString,Wv=qS?qS.toStringTag:void 0;function mhe(e){var t=fhe.call(e,Wv),i=e[Wv];try{e[Wv]=void 0;var n=!0}catch{}var s=phe.call(e);return n&&(t?e[Wv]=i:delete e[Wv]),s}var yhe=Object.prototype,ghe=yhe.toString;function vhe(e){return ghe.call(e)}var bhe="[object Null]",whe="[object Undefined]",XL=qS?qS.toStringTag:void 0;function xhe(e){return e==null?e===void 0?whe:bhe:XL&&XL in Object(e)?mhe(e):vhe(e)}function She(e){return e!=null&&typeof e=="object"}var _he="[object Symbol]";function Ehe(e){return typeof e=="symbol"||She(e)&&xhe(e)==_he}var The=/\s/;function Mhe(e){for(var t=e.length;t--&&The.test(e.charAt(t)););return t}var $he=/^\s+/;function khe(e){return e&&e.slice(0,Mhe(e)+1).replace($he,"")}function yM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var QL=NaN,Che=/^[-+]0x[0-9a-f]+$/i,Ahe=/^0b[01]+$/i,Ohe=/^0o[0-7]+$/i,Ihe=parseInt;function ez(e){if(typeof e=="number")return e;if(Ehe(e))return QL;if(yM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=khe(e);var i=Ahe.test(e);return i||Ohe.test(e)?Ihe(e.slice(2),i?2:8):Che.test(e)?QL:+e}var Phe=function(){return VB.Date.now()};const yT=Phe;var Rhe="Expected a function",Dhe=Math.max,Nhe=Math.min;function Lhe(e,t,i){var n,s,u,p,g,w,E=0,A=!1,I=!1,R=!0;if(typeof e!="function")throw new TypeError(Rhe);t=ez(t)||0,yM(i)&&(A=!!i.leading,I="maxWait"in i,u=I?Dhe(ez(i.maxWait)||0,t):u,R="trailing"in i?!!i.trailing:R);function F(xe){var pe=n,Ze=s;return n=s=void 0,E=xe,p=e.apply(Ze,pe),p}function q(xe){return E=xe,g=setTimeout(te,t),A?F(xe):p}function B(xe){var pe=xe-w,Ze=xe-E,Fe=t-pe;return I?Nhe(Fe,u-Ze):Fe}function K(xe){var pe=xe-w,Ze=xe-E;return w===void 0||pe>=t||pe<0||I&&Ze>=u}function te(){var xe=yT();if(K(xe))return ce(xe);g=setTimeout(te,B(xe))}function ce(xe){return g=void 0,R&&n?F(xe):(n=s=void 0,p)}function ye(){g!==void 0&&clearTimeout(g),E=0,n=w=s=g=void 0}function _e(){return g===void 0?p:ce(yT())}function we(){var xe=yT(),pe=K(xe);if(n=arguments,s=this,w=xe,pe){if(g===void 0)return q(w);if(I)return clearTimeout(g),g=setTimeout(te,t),F(w)}return g===void 0&&(g=setTimeout(te,t)),p}return we.cancel=ye,we.flush=_e,we}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const HB=["top","right","bottom","left"],tz=["start","end"],iz=HB.reduce((e,t)=>e.concat(t,t+"-"+tz[0],t+"-"+tz[1]),[]),qy=Math.min,W0=Math.max,BS=Math.round,J5=Math.floor,Uf=e=>({x:e,y:e}),zhe={left:"right",right:"left",bottom:"top",top:"bottom"},jhe={start:"end",end:"start"};function gM(e,t,i){return W0(e,qy(t,i))}function $1(e,t){return typeof e=="function"?e(t):e}function Oh(e){return e.split("-")[0]}function cu(e){return e.split("-")[1]}function qB(e){return e==="x"?"y":"x"}function fO(e){return e==="y"?"height":"width"}function b_(e){return["top","bottom"].includes(Oh(e))?"y":"x"}function pO(e){return qB(b_(e))}function BB(e,t,i){i===void 0&&(i=!1);const n=cu(e),s=pO(e),u=fO(s);let p=s==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(p=JS(p)),[p,JS(p)]}function Fhe(e){const t=JS(e);return[WS(e),t,WS(t)]}function WS(e){return e.replace(/start|end/g,t=>jhe[t])}function Uhe(e,t,i){const n=["left","right"],s=["right","left"],u=["top","bottom"],p=["bottom","top"];switch(e){case"top":case"bottom":return i?t?s:n:t?n:s;case"left":case"right":return t?u:p;default:return[]}}function Vhe(e,t,i,n){const s=cu(e);let u=Uhe(Oh(e),i==="start",n);return s&&(u=u.map(p=>p+"-"+s),t&&(u=u.concat(u.map(WS)))),u}function JS(e){return e.replace(/left|right|bottom|top/g,t=>zhe[t])}function Ghe(e){return{top:0,right:0,bottom:0,left:0,...e}}function WB(e){return typeof e!="number"?Ghe(e):{top:e,right:e,bottom:e,left:e}}function ZS(e){const{x:t,y:i,width:n,height:s}=e;return{width:n,height:s,top:i,left:t,right:t+n,bottom:i+s,x:t,y:i}}function nz(e,t,i){let{reference:n,floating:s}=e;const u=b_(t),p=pO(t),g=fO(p),w=Oh(t),E=u==="y",A=n.x+n.width/2-s.width/2,I=n.y+n.height/2-s.height/2,R=n[g]/2-s[g]/2;let F;switch(w){case"top":F={x:A,y:n.y-s.height};break;case"bottom":F={x:A,y:n.y+n.height};break;case"right":F={x:n.x+n.width,y:I};break;case"left":F={x:n.x-s.width,y:I};break;default:F={x:n.x,y:n.y}}switch(cu(t)){case"start":F[p]-=R*(i&&E?-1:1);break;case"end":F[p]+=R*(i&&E?-1:1);break}return F}const Hhe=async(e,t,i)=>{const{placement:n="bottom",strategy:s="absolute",middleware:u=[],platform:p}=i,g=u.filter(Boolean),w=await(p.isRTL==null?void 0:p.isRTL(t));let E=await p.getElementRects({reference:e,floating:t,strategy:s}),{x:A,y:I}=nz(E,n,w),R=n,F={},q=0;for(let B=0;B<g.length;B++){const{name:K,fn:te}=g[B],{x:ce,y:ye,data:_e,reset:we}=await te({x:A,y:I,initialPlacement:n,placement:R,strategy:s,middlewareData:F,rects:E,platform:p,elements:{reference:e,floating:t}});A=ce??A,I=ye??I,F={...F,[K]:{...F[K],..._e}},we&&q<=50&&(q++,typeof we=="object"&&(we.placement&&(R=we.placement),we.rects&&(E=we.rects===!0?await p.getElementRects({reference:e,floating:t,strategy:s}):we.rects),{x:A,y:I}=nz(E,R,w)),B=-1)}return{x:A,y:I,placement:R,strategy:s,middlewareData:F}};async function iw(e,t){var i;t===void 0&&(t={});const{x:n,y:s,platform:u,rects:p,elements:g,strategy:w}=e,{boundary:E="clippingAncestors",rootBoundary:A="viewport",elementContext:I="floating",altBoundary:R=!1,padding:F=0}=$1(t,e),q=WB(F),K=g[R?I==="floating"?"reference":"floating":I],te=ZS(await u.getClippingRect({element:(i=await(u.isElement==null?void 0:u.isElement(K)))==null||i?K:K.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(g.floating)),boundary:E,rootBoundary:A,strategy:w})),ce=I==="floating"?{x:n,y:s,width:p.floating.width,height:p.floating.height}:p.reference,ye=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g.floating)),_e=await(u.isElement==null?void 0:u.isElement(ye))?await(u.getScale==null?void 0:u.getScale(ye))||{x:1,y:1}:{x:1,y:1},we=ZS(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:ce,offsetParent:ye,strategy:w}):ce);return{top:(te.top-we.top+q.top)/_e.y,bottom:(we.bottom-te.bottom+q.bottom)/_e.y,left:(te.left-we.left+q.left)/_e.x,right:(we.right-te.right+q.right)/_e.x}}const qhe=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:n,placement:s,rects:u,platform:p,elements:g,middlewareData:w}=t,{element:E,padding:A=0}=$1(e,t)||{};if(E==null)return{};const I=WB(A),R={x:i,y:n},F=pO(s),q=fO(F),B=await p.getDimensions(E),K=F==="y",te=K?"top":"left",ce=K?"bottom":"right",ye=K?"clientHeight":"clientWidth",_e=u.reference[q]+u.reference[F]-R[F]-u.floating[q],we=R[F]-u.reference[F],xe=await(p.getOffsetParent==null?void 0:p.getOffsetParent(E));let pe=xe?xe[ye]:0;(!pe||!await(p.isElement==null?void 0:p.isElement(xe)))&&(pe=g.floating[ye]||u.floating[q]);const Ze=_e/2-we/2,Fe=pe/2-B[q]/2-1,He=qy(I[te],Fe),nt=qy(I[ce],Fe),Qe=He,De=pe-B[q]-nt,Me=pe/2-B[q]/2+Ze,et=gM(Qe,Me,De),Ve=!w.arrow&&cu(s)!=null&&Me!==et&&u.reference[q]/2-(Me<Qe?He:nt)-B[q]/2<0,lt=Ve?Me<Qe?Me-Qe:Me-De:0;return{[F]:R[F]+lt,data:{[F]:et,centerOffset:Me-et-lt,...Ve&&{alignmentOffset:lt}},reset:Ve}}});function Bhe(e,t,i){return(e?[...i.filter(s=>cu(s)===e),...i.filter(s=>cu(s)!==e)]:i.filter(s=>Oh(s)===s)).filter(s=>e?cu(s)===e||(t?WS(s)!==s:!1):!0)}const Whe=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var i,n,s;const{rects:u,middlewareData:p,placement:g,platform:w,elements:E}=t,{crossAxis:A=!1,alignment:I,allowedPlacements:R=iz,autoAlignment:F=!0,...q}=$1(e,t),B=I!==void 0||R===iz?Bhe(I||null,F,R):R,K=await iw(t,q),te=((i=p.autoPlacement)==null?void 0:i.index)||0,ce=B[te];if(ce==null)return{};const ye=BB(ce,u,await(w.isRTL==null?void 0:w.isRTL(E.floating)));if(g!==ce)return{reset:{placement:B[0]}};const _e=[K[Oh(ce)],K[ye[0]],K[ye[1]]],we=[...((n=p.autoPlacement)==null?void 0:n.overflows)||[],{placement:ce,overflows:_e}],xe=B[te+1];if(xe)return{data:{index:te+1,overflows:we},reset:{placement:xe}};const pe=we.map(He=>{const nt=cu(He.placement);return[He.placement,nt&&A?He.overflows.slice(0,2).reduce((Qe,De)=>Qe+De,0):He.overflows[0],He.overflows]}).sort((He,nt)=>He[1]-nt[1]),Fe=((s=pe.filter(He=>He[2].slice(0,cu(He[0])?2:3).every(nt=>nt<=0))[0])==null?void 0:s[0])||pe[0][0];return Fe!==g?{data:{index:te+1,overflows:we},reset:{placement:Fe}}:{}}}},Jhe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,n;const{placement:s,middlewareData:u,rects:p,initialPlacement:g,platform:w,elements:E}=t,{mainAxis:A=!0,crossAxis:I=!0,fallbackPlacements:R,fallbackStrategy:F="bestFit",fallbackAxisSideDirection:q="none",flipAlignment:B=!0,...K}=$1(e,t);if((i=u.arrow)!=null&&i.alignmentOffset)return{};const te=Oh(s),ce=Oh(g)===g,ye=await(w.isRTL==null?void 0:w.isRTL(E.floating)),_e=R||(ce||!B?[JS(g)]:Fhe(g));!R&&q!=="none"&&_e.push(...Vhe(g,B,q,ye));const we=[g,..._e],xe=await iw(t,K),pe=[];let Ze=((n=u.flip)==null?void 0:n.overflows)||[];if(A&&pe.push(xe[te]),I){const Qe=BB(s,p,ye);pe.push(xe[Qe[0]],xe[Qe[1]])}if(Ze=[...Ze,{placement:s,overflows:pe}],!pe.every(Qe=>Qe<=0)){var Fe,He;const Qe=(((Fe=u.flip)==null?void 0:Fe.index)||0)+1,De=we[Qe];if(De)return{data:{index:Qe,overflows:Ze},reset:{placement:De}};let Me=(He=Ze.filter(et=>et.overflows[0]<=0).sort((et,Ve)=>et.overflows[1]-Ve.overflows[1])[0])==null?void 0:He.placement;if(!Me)switch(F){case"bestFit":{var nt;const et=(nt=Ze.map(Ve=>[Ve.placement,Ve.overflows.filter(lt=>lt>0).reduce((lt,st)=>lt+st,0)]).sort((Ve,lt)=>Ve[1]-lt[1])[0])==null?void 0:nt[0];et&&(Me=et);break}case"initialPlacement":Me=g;break}if(s!==Me)return{reset:{placement:Me}}}return{}}}};function rz(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sz(e){return HB.some(t=>e[t]>=0)}const Zhe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:i}=t,{strategy:n="referenceHidden",...s}=$1(e,t);switch(n){case"referenceHidden":{const u=await iw(t,{...s,elementContext:"reference"}),p=rz(u,i.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:sz(p)}}}case"escaped":{const u=await iw(t,{...s,altBoundary:!0}),p=rz(u,i.floating);return{data:{escapedOffsets:p,escaped:sz(p)}}}default:return{}}}}};async function Yhe(e,t){const{placement:i,platform:n,elements:s}=e,u=await(n.isRTL==null?void 0:n.isRTL(s.floating)),p=Oh(i),g=cu(i),w=b_(i)==="y",E=["left","top"].includes(p)?-1:1,A=u&&w?-1:1,I=$1(t,e);let{mainAxis:R,crossAxis:F,alignmentAxis:q}=typeof I=="number"?{mainAxis:I,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...I};return g&&typeof q=="number"&&(F=g==="end"?q*-1:q),w?{x:F*A,y:R*E}:{x:R*E,y:F*A}}const Khe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,n;const{x:s,y:u,placement:p,middlewareData:g}=t,w=await Yhe(t,e);return p===((i=g.offset)==null?void 0:i.placement)&&(n=g.arrow)!=null&&n.alignmentOffset?{}:{x:s+w.x,y:u+w.y,data:{...w,placement:p}}}}},Xhe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:n,placement:s}=t,{mainAxis:u=!0,crossAxis:p=!1,limiter:g={fn:K=>{let{x:te,y:ce}=K;return{x:te,y:ce}}},...w}=$1(e,t),E={x:i,y:n},A=await iw(t,w),I=b_(Oh(s)),R=qB(I);let F=E[R],q=E[I];if(u){const K=R==="y"?"top":"left",te=R==="y"?"bottom":"right",ce=F+A[K],ye=F-A[te];F=gM(ce,F,ye)}if(p){const K=I==="y"?"top":"left",te=I==="y"?"bottom":"right",ce=q+A[K],ye=q-A[te];q=gM(ce,q,ye)}const B=g.fn({...t,[R]:F,[I]:q});return{...B,data:{x:B.x-i,y:B.y-n}}}}};function w_(){return typeof window<"u"}function vg(e){return JB(e)?(e.nodeName||"").toLowerCase():"#document"}function ya(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vh(e){var t;return(t=(JB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JB(e){return w_()?e instanceof Node||e instanceof ya(e).Node:!1}function cc(e){return w_()?e instanceof Element||e instanceof ya(e).Element:!1}function fu(e){return w_()?e instanceof HTMLElement||e instanceof ya(e).HTMLElement:!1}function oz(e){return!w_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ya(e).ShadowRoot}function Iw(e){const{overflow:t,overflowX:i,overflowY:n,display:s}=uc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(s)}function Qhe(e){return["table","td","th"].includes(vg(e))}function x_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function S_(e){const t=mO(),i=cc(e)?uc(e):e;return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(i.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(i.contain||"").includes(n))}function ede(e){let t=Vf(e);for(;fu(t)&&!By(t);){if(S_(t))return t;if(x_(t))return null;t=Vf(t)}return null}function mO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function By(e){return["html","body","#document"].includes(vg(e))}function uc(e){return ya(e).getComputedStyle(e)}function __(e){return cc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vf(e){if(vg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oz(e)&&e.host||Vh(e);return oz(t)?t.host:t}function ZB(e){const t=Vf(e);return By(t)?e.ownerDocument?e.ownerDocument.body:e.body:fu(t)&&Iw(t)?t:ZB(t)}function nw(e,t,i){var n;t===void 0&&(t=[]),i===void 0&&(i=!0);const s=ZB(e),u=s===((n=e.ownerDocument)==null?void 0:n.body),p=ya(s);if(u){const g=tde(p);return t.concat(p,p.visualViewport||[],Iw(s)?s:[],g&&i?nw(g):[])}return t.concat(s,nw(s,[],i))}function tde(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function YB(e){const t=uc(e);let i=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=fu(e),u=s?e.offsetWidth:i,p=s?e.offsetHeight:n,g=BS(i)!==u||BS(n)!==p;return g&&(i=u,n=p),{width:i,height:n,$:g}}function yO(e){return cc(e)?e:e.contextElement}function Ty(e){const t=yO(e);if(!fu(t))return Uf(1);const i=t.getBoundingClientRect(),{width:n,height:s,$:u}=YB(t);let p=(u?BS(i.width):i.width)/n,g=(u?BS(i.height):i.height)/s;return(!p||!Number.isFinite(p))&&(p=1),(!g||!Number.isFinite(g))&&(g=1),{x:p,y:g}}const ide=Uf(0);function KB(e){const t=ya(e);return!mO()||!t.visualViewport?ide:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nde(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==ya(e)?!1:t}function r1(e,t,i,n){t===void 0&&(t=!1),i===void 0&&(i=!1);const s=e.getBoundingClientRect(),u=yO(e);let p=Uf(1);t&&(n?cc(n)&&(p=Ty(n)):p=Ty(e));const g=nde(u,i,n)?KB(u):Uf(0);let w=(s.left+g.x)/p.x,E=(s.top+g.y)/p.y,A=s.width/p.x,I=s.height/p.y;if(u){const R=ya(u),F=n&&cc(n)?ya(n):n;let q=R,B=q.frameElement;for(;B&&n&&F!==q;){const K=Ty(B),te=B.getBoundingClientRect(),ce=uc(B),ye=te.left+(B.clientLeft+parseFloat(ce.paddingLeft))*K.x,_e=te.top+(B.clientTop+parseFloat(ce.paddingTop))*K.y;w*=K.x,E*=K.y,A*=K.x,I*=K.y,w+=ye,E+=_e,q=ya(B),B=q.frameElement}}return ZS({width:A,height:I,x:w,y:E})}function rde(e){let{elements:t,rect:i,offsetParent:n,strategy:s}=e;const u=s==="fixed",p=Vh(n),g=t?x_(t.floating):!1;if(n===p||g&&u)return i;let w={scrollLeft:0,scrollTop:0},E=Uf(1);const A=Uf(0),I=fu(n);if((I||!I&&!u)&&((vg(n)!=="body"||Iw(p))&&(w=__(n)),fu(n))){const R=r1(n);E=Ty(n),A.x=R.x+n.clientLeft,A.y=R.y+n.clientTop}return{width:i.width*E.x,height:i.height*E.y,x:i.x*E.x-w.scrollLeft*E.x+A.x,y:i.y*E.y-w.scrollTop*E.y+A.y}}function sde(e){return Array.from(e.getClientRects())}function XB(e){return r1(Vh(e)).left+__(e).scrollLeft}function ode(e){const t=Vh(e),i=__(e),n=e.ownerDocument.body,s=W0(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),u=W0(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let p=-i.scrollLeft+XB(e);const g=-i.scrollTop;return uc(n).direction==="rtl"&&(p+=W0(t.clientWidth,n.clientWidth)-s),{width:s,height:u,x:p,y:g}}function ade(e,t){const i=ya(e),n=Vh(e),s=i.visualViewport;let u=n.clientWidth,p=n.clientHeight,g=0,w=0;if(s){u=s.width,p=s.height;const E=mO();(!E||E&&t==="fixed")&&(g=s.offsetLeft,w=s.offsetTop)}return{width:u,height:p,x:g,y:w}}function lde(e,t){const i=r1(e,!0,t==="fixed"),n=i.top+e.clientTop,s=i.left+e.clientLeft,u=fu(e)?Ty(e):Uf(1),p=e.clientWidth*u.x,g=e.clientHeight*u.y,w=s*u.x,E=n*u.y;return{width:p,height:g,x:w,y:E}}function az(e,t,i){let n;if(t==="viewport")n=ade(e,i);else if(t==="document")n=ode(Vh(e));else if(cc(t))n=lde(t,i);else{const s=KB(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return ZS(n)}function QB(e,t){const i=Vf(e);return i===t||!cc(i)||By(i)?!1:uc(i).position==="fixed"||QB(i,t)}function cde(e,t){const i=t.get(e);if(i)return i;let n=nw(e,[],!1).filter(g=>cc(g)&&vg(g)!=="body"),s=null;const u=uc(e).position==="fixed";let p=u?Vf(e):e;for(;cc(p)&&!By(p);){const g=uc(p),w=S_(p);!w&&g.position==="fixed"&&(s=null),(u?!w&&!s:!w&&g.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Iw(p)&&!w&&QB(e,p))?n=n.filter(A=>A!==p):s=g,p=Vf(p)}return t.set(e,n),n}function ude(e){let{element:t,boundary:i,rootBoundary:n,strategy:s}=e;const p=[...i==="clippingAncestors"?x_(t)?[]:cde(t,this._c):[].concat(i),n],g=p[0],w=p.reduce((E,A)=>{const I=az(t,A,s);return E.top=W0(I.top,E.top),E.right=qy(I.right,E.right),E.bottom=qy(I.bottom,E.bottom),E.left=W0(I.left,E.left),E},az(t,g,s));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function hde(e){const{width:t,height:i}=YB(e);return{width:t,height:i}}function dde(e,t,i){const n=fu(t),s=Vh(t),u=i==="fixed",p=r1(e,!0,u,t);let g={scrollLeft:0,scrollTop:0};const w=Uf(0);if(n||!n&&!u)if((vg(t)!=="body"||Iw(s))&&(g=__(t)),n){const I=r1(t,!0,u,t);w.x=I.x+t.clientLeft,w.y=I.y+t.clientTop}else s&&(w.x=XB(s));const E=p.left+g.scrollLeft-w.x,A=p.top+g.scrollTop-w.y;return{x:E,y:A,width:p.width,height:p.height}}function gT(e){return uc(e).position==="static"}function lz(e,t){return!fu(e)||uc(e).position==="fixed"?null:t?t(e):e.offsetParent}function eW(e,t){const i=ya(e);if(x_(e))return i;if(!fu(e)){let s=Vf(e);for(;s&&!By(s);){if(cc(s)&&!gT(s))return s;s=Vf(s)}return i}let n=lz(e,t);for(;n&&Qhe(n)&&gT(n);)n=lz(n,t);return n&&By(n)&&gT(n)&&!S_(n)?i:n||ede(e)||i}const fde=async function(e){const t=this.getOffsetParent||eW,i=this.getDimensions,n=await i(e.floating);return{reference:dde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pde(e){return uc(e).direction==="rtl"}const vM={convertOffsetParentRelativeRectToViewportRelativeRect:rde,getDocumentElement:Vh,getClippingRect:ude,getOffsetParent:eW,getElementRects:fde,getClientRects:sde,getDimensions:hde,getScale:Ty,isElement:cc,isRTL:pde};function mde(e,t){let i=null,n;const s=Vh(e);function u(){var g;clearTimeout(n),(g=i)==null||g.disconnect(),i=null}function p(g,w){g===void 0&&(g=!1),w===void 0&&(w=1),u();const{left:E,top:A,width:I,height:R}=e.getBoundingClientRect();if(g||t(),!I||!R)return;const F=J5(A),q=J5(s.clientWidth-(E+I)),B=J5(s.clientHeight-(A+R)),K=J5(E),ce={rootMargin:-F+"px "+-q+"px "+-B+"px "+-K+"px",threshold:W0(0,qy(1,w))||1};let ye=!0;function _e(we){const xe=we[0].intersectionRatio;if(xe!==w){if(!ye)return p();xe?p(!1,xe):n=setTimeout(()=>{p(!1,1e-7)},1e3)}ye=!1}try{i=new IntersectionObserver(_e,{...ce,root:s.ownerDocument})}catch{i=new IntersectionObserver(_e,ce)}i.observe(e)}return p(!0),u}function yde(e,t,i,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:u=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:w=!1}=n,E=yO(e),A=s||u?[...E?nw(E):[],...nw(t)]:[];A.forEach(te=>{s&&te.addEventListener("scroll",i,{passive:!0}),u&&te.addEventListener("resize",i)});const I=E&&g?mde(E,i):null;let R=-1,F=null;p&&(F=new ResizeObserver(te=>{let[ce]=te;ce&&ce.target===E&&F&&(F.unobserve(t),cancelAnimationFrame(R),R=requestAnimationFrame(()=>{var ye;(ye=F)==null||ye.observe(t)})),i()}),E&&!w&&F.observe(E),F.observe(t));let q,B=w?r1(e):null;w&&K();function K(){const te=r1(e);B&&(te.x!==B.x||te.y!==B.y||te.width!==B.width||te.height!==B.height)&&i(),B=te,q=requestAnimationFrame(K)}return i(),()=>{var te;A.forEach(ce=>{s&&ce.removeEventListener("scroll",i),u&&ce.removeEventListener("resize",i)}),I==null||I(),(te=F)==null||te.disconnect(),F=null,w&&cancelAnimationFrame(q)}}const gde=Khe,vde=Whe,bde=Xhe,cz=Jhe,wde=Zhe,xde=qhe,Sde=(e,t,i)=>{const n=new Map,s={platform:vM,...i},u={...s.platform,_c:n};return Hhe(e,t,{...s,platform:u})};function _de(e){return Ede(e)}function vT(e){return e.assignedSlot?e.assignedSlot:e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}function Ede(e){for(let t=e;t;t=vT(t))if(t instanceof Element&&getComputedStyle(t).display==="none")return null;for(let t=vT(e);t;t=vT(t)){if(!(t instanceof Element))continue;const i=getComputedStyle(t);if(i.display!=="contents"&&(i.position!=="static"||S_(i)||t.tagName==="BODY"))return t}return null}(function(){if(zh()){const t=vM.getOffsetParent;vM.getOffsetParent=i=>t(i,_de)}})();function uz(e){const t=window.devicePixelRatio||1;return Math.round(e*t)/t}const tW=async(e,{referenceEl:t,floatingEl:i,overlayPositioning:n="absolute",placement:s,flipDisabled:u,flipPlacements:p,offsetDistance:g,offsetSkidding:w,arrowEl:E,type:A})=>{var we;if(!t||!i)return null;const I=If(i)==="rtl",{x:R,y:F,placement:q,strategy:B,middlewareData:K}=await Sde(t,i,{strategy:n,placement:s==="auto"||s==="auto-start"||s==="auto-end"?void 0:dz(s,I),middleware:kde({placement:s,flipDisabled:u,flipPlacements:p==null?void 0:p.map(xe=>dz(xe,I)),offsetDistance:g,offsetSkidding:w,arrowEl:E,type:A})});if(E&&K.arrow){const{x:xe,y:pe}=K.arrow,Ze=q.split("-")[0],Fe=xe!=null?"left":"top",He=Ade[Ze],nt={left:"",top:"",bottom:"",right:""};"floatingLayout"in e&&(e.floatingLayout=Ze==="left"||Ze==="right"?"horizontal":"vertical"),Object.assign(E.style,{...nt,[Fe]:`${Fe=="left"?xe:pe}px`,[Ze]:"100%",transform:He})}const ce=((we=K.hide)==null?void 0:we.referenceHidden)?"hidden":null,ye=ce?"none":null;i.setAttribute(Tde,q);const{open:_e}=e;Object.assign(i.style,{visibility:ce,pointerEvents:ye,position:B,transform:_e?`translate(${uz(R)}px,${uz(F)}px)`:"",top:0,left:0})},Tde="data-placement",hz=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end","leading","trailing","leading-start","leading-end","trailing-start","trailing-end"],Mde="bottom-start",$de="bottom-end",Wy={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function kde({placement:e,flipDisabled:t,flipPlacements:i,offsetDistance:n,offsetSkidding:s,arrowEl:u,type:p}){const g=[bde(),wde()];if(p==="menu")return[...g,cz({fallbackPlacements:i||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(p==="popover"||p==="tooltip"){const w=[...g,gde({mainAxis:typeof n=="number"?n:0,crossAxis:typeof s=="number"?s:0})];return e==="auto"||e==="auto-start"||e==="auto-end"?w.push(vde({alignment:e==="auto-start"?"start":e==="auto-end"?"end":null})):t||w.push(cz(i?{fallbackPlacements:i}:{})),u&&w.push(xde({element:u})),w}return[]}function iW(e,t){const i=e.filter(n=>hz.includes(n));return i.length!==e.length&&console.warn(`${t.tagName}: Invalid value found in: flipPlacements. Try any of these: ${hz.map(n=>`"${n}"`).join(", ").trim()}`,{el:t}),i}function dz(e,t=!1){const i=["left","right"];return t&&i.reverse(),e.replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}async function gO(e,t,i=!1){if(!e.open||!t.floatingEl||!t.referenceEl)return;if(!rw.get(e))return nW(e,t.referenceEl,t.floatingEl);await(i?Cde(e):tW)(e,t)}function Cde(e){let t=YS.get(e);return t||(t=Lhe(tW,dL.reposition,{leading:!0,maxWait:dL.reposition}),YS.set(e,t),t)}const Ade={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},rw=new WeakMap,YS=new WeakMap;async function nW(e,t,i){if(!i.isConnected)return;const n=zh()?yde:(p,g,w)=>(w(),()=>{});rw.set(e,{state:"pending"});let s;const u=n(t,i,()=>{const p=e.reposition();s||(s=p)});return rw.set(e,{state:"active",cleanUp:u}),s}async function dy(e,t,i){if(!(!i||!t)&&(E_(e,t,i),Object.assign(i.style,{visibility:"hidden",pointerEvents:"none",position:e.overlayPositioning}),!!e.open))return nW(e,t,i)}function E_(e,t,i){var s;if(!i||!t)return;const n=rw.get(e);(n==null?void 0:n.state)==="active"&&n.cleanUp(),rw.delete(e),(s=YS.get(e))==null||s.cancel(),YS.delete(e)}const fz=4,rW=Math.ceil(Math.hypot(fz,fz));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const pz={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},Ode={width:12,height:6,strokeWidth:1},sW=({floatingLayout:e,key:t,ref:i})=>{const{width:n,height:s,strokeWidth:u}=Ode,p=n/2,g=e==="vertical",w=`M0,0 H${n} L${n-p},${s} Q${p},${s} ${p},${s} Z`;return fe("svg",{"aria-hidden":"true",class:pz.arrow,height:n,key:t,ref:i,viewBox:`0 0 ${n} ${n+(g?0:u)}`,width:n+(g?u:0)},fe("path",{class:pz.arrowStroke,d:w,fill:"none","stroke-width":u+1}),fe("path",{d:w,stroke:"none"}))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */class Ide{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=t=>{const{registeredElements:i}=this,n=t.find(s=>i.has(s));return i.get(n)},this.togglePopovers=t=>{const i=t.composedPath(),n=this.queryPopover(i);n&&!n.triggerDisabled&&(n.open=!n.open),Array.from(this.registeredElements.values()).filter(s=>s!==n&&s.autoClose&&s.open&&!i.includes(s)).forEach(s=>s.open=!1)},this.keyDownHandler=t=>{t.defaultPrevented||(t.key==="Escape"?this.closeAllPopovers():y_(t.key)&&this.togglePopovers(t))},this.clickHandler=t=>{mle(t)||this.togglePopovers(t)}}registerElement(t,i){this.registeredElementCount++,this.registeredElements.set(t,i),this.registeredElementCount===1&&this.addListeners()}unregisterElement(t){this.registeredElements.delete(t)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(t=>t.open=!1)}addListeners(){window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}}const Oc={container:"container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContainer:"headerContainer",heading:"heading"},Pde="auto",mz="aria-controls",yz="aria-expanded",Rde=":host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, var(--calcite-z-index-popup));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset, left, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{inset-block-start:-5px}:host([data-placement^=top]) .calcite-floating-ui-anim{inset-block-start:5px}:host([data-placement^=left]) .calcite-floating-ui-anim{left:5px}:host([data-placement^=right]) .calcite-floating-ui-anim{left:-5px}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;inset-block:0;left:0}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-width:1px;border-style:solid;background-color:var(--calcite-popover-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-popover-border-color, var(--calcite-color-border-3));border-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round))}.calcite-floating-ui-arrow{fill:var(--calcite-popover-background-color, var(--calcite-color-foreground-1))}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);word-wrap:break-word;word-break:break-word;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.headerContainer{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.headerContainer.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));--calcite-action-corner-radius-start-end:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp));--calcite-action-corner-radius-end-end:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp))}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}:host([hidden]){display:none}[hidden]{display:none}",Dde=Rde,gz=new Ide,Nde=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePopoverBeforeClose=gt(this,"calcitePopoverBeforeClose",6),this.calcitePopoverClose=gt(this,"calcitePopoverClose",6),this.calcitePopoverBeforeOpen=gt(this,"calcitePopoverBeforeOpen",6),this.calcitePopoverOpen=gt(this,"calcitePopoverOpen",6),this.mutationObserver=yo("mutation",()=>this.updateFocusTrapElements()),this.guid=`calcite-popover-${jh()}`,this.openTransitionProp="opacity",this.hasLoaded=!1,this.setTransitionEl=t=>{this.transitionEl=t},this.setFilteredPlacements=()=>{const{el:t,flipPlacements:i}=this;this.filteredFlipPlacements=i?iW(i,t):null},this.setUpReferenceElement=(t=!0)=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement(),dy(this,this.effectiveReferenceElement,this.el);const{el:i,referenceElement:n,effectiveReferenceElement:s}=this;t&&n&&!s&&console.warn(`${i.tagName}: reference-element id "${n}" was not found.`,{el:i}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:t,open:i}=this;t&&"setAttribute"in t&&t.setAttribute(yz,Js(i))},this.addReferences=()=>{const{effectiveReferenceElement:t}=this;if(!t)return;const i=this.getId();"setAttribute"in t&&t.setAttribute(mz,i),gz.registerElement(t,this.el),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:t}=this;t&&("removeAttribute"in t&&(t.removeAttribute(mz),t.removeAttribute(yz)),gz.unregisterElement(t))},this.hide=()=>{this.open=!1},this.storeArrowEl=t=>{this.arrowEl=t,this.reposition(!0)},this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.pointerDisabled=!1,this.flipPlacements=void 0,this.heading=void 0,this.headingLevel=void 0,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.offsetDistance=rW,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=Pde,this.referenceElement=void 0,this.scale="m",this.triggerDisabled=!1,this.effectiveLocale="",this.floatingLayout="vertical",this.effectiveReferenceElement=void 0,this.defaultMessages=void 0}handleFocusTrapDisabled(t){this.open&&(t?x2(this):mM(this))}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMessagesChange(){}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(){Rf(this),this.reposition(!0),this.setExpandedAttr()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}effectiveLocaleChange(){gc(this,this.effectiveLocale)}connectedCallback(){var t;(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),ka(this),vc(this),FB(this),requestAnimationFrame(()=>this.setUpReferenceElement(this.hasLoaded))}async componentWillLoad(){await yc(this),Ss(this)}componentDidLoad(){_s(this),this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.open&&Rf(this),this.hasLoaded=!0}disconnectedCallback(){var t;(t=this.mutationObserver)==null||t.disconnect(),this.removeReferences(),Ca(this),bc(this),E_(this,this.effectiveReferenceElement,this.el),x2(this)}async reposition(t=!1){const{el:i,effectiveReferenceElement:n,placement:s,overlayPositioning:u,flipDisabled:p,filteredFlipPlacements:g,offsetDistance:w,offsetSkidding:E,arrowEl:A}=this;return gO(this,{floatingEl:i,referenceEl:n,overlayPositioning:u,placement:s,flipDisabled:p,flipPlacements:g,offsetDistance:w,offsetSkidding:E,arrowEl:A,type:"popover"},t)}async setFocus(){await Es(this),Hr(this.el),m_(this.el)}async updateFocusTrapElements(){UB(this)}getReferenceElement(){const{referenceElement:t,el:i}=this;return(typeof t=="string"?Aw(i,{id:t}):t)||null}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),mM(this)}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),x2(this)}renderCloseButton(){const{messages:t,closable:i}=this;return i?fe("div",{class:Oc.closeButtonContainer,key:Oc.closeButtonContainer},fe("calcite-action",{appearance:"transparent",class:Oc.closeButton,onClick:this.hide,ref:n=>this.closeButtonEl=n,scale:this.scale,text:t.close},fe("calcite-icon",{icon:"x",scale:q0(this.scale)}))):null}renderHeader(){const{heading:t,headingLevel:i}=this,n=t?fe(dO,{class:Oc.heading,level:i},t):null;return n?fe("div",{class:Oc.header,key:Oc.header},n,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:t,heading:i,label:n,open:s,pointerDisabled:u,floatingLayout:p}=this,g=t&&s,w=!g,E=u?null:fe(sW,{floatingLayout:p,key:"floating-arrow",ref:this.storeArrowEl});return fe(Ar,{key:"a563d48090d6e6c0c138023e169667834f657c4c","aria-hidden":Js(w),"aria-label":n,"aria-live":"polite","calcite-hydrated-hidden":w,id:this.getId(),role:"dialog"},fe("div",{key:"73053dbdce2cfc68fcd42667089d611e81010955",class:{[Oc.container]:!0,[Wy.animation]:!0,[Wy.animationActive]:g},ref:this.setTransitionEl},E,fe("div",{key:"1fbcd45ee42b10a67881ced74db2db051231c94d",class:{[Oc.hasHeader]:!!i,[Oc.headerContainer]:!0}},this.renderHeader(),fe("div",{key:"522abe801b98787863aac14d990b948d2d286156",class:Oc.content},fe("slot",{key:"022a8f690288acdbac4ec1b3eccf807ffe382d5d"})),i?null:this.renderCloseButton())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Dde}},[1,"calcite-popover",{autoClose:[516,"auto-close"],closable:[516],flipDisabled:[516,"flip-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],pointerDisabled:[516,"pointer-disabled"],flipPlacements:[16],heading:[1],headingLevel:[514,"heading-level"],label:[1],messageOverrides:[1040],messages:[1040],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],scale:[513],triggerDisabled:[516,"trigger-disabled"],effectiveLocale:[32],floatingLayout:[32],effectiveReferenceElement:[32],defaultMessages:[32],reposition:[64],setFocus:[64],updateFocusTrapElements:[64]},void 0,{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function bg(){if(typeof customElements>"u")return;["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-popover":customElements.get(t)||customElements.define(t,Nde);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break}})}bg();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const vz={menu:"menu",defaultTrigger:"default-trigger"},Jy={tooltip:"tooltip",trigger:"trigger"},Lde={menu:"ellipsis"},zde="data-active",jde=":host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}",Fde=jde,Ude=["ArrowUp","ArrowDown","End","Home"],Vde=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpen=gt(this,"calciteActionMenuOpen",6),this.actionElements=[],this.guid=`calcite-action-menu-${jh()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.connectMenuButtonEl=()=>{const{menuButtonId:t,menuId:i,open:n,label:s}=this,u=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==u&&(this.disconnectMenuButtonEl(),this.menuButtonEl=u,this.setTooltipReferenceElement(),u&&(u.active=n,u.setAttribute("aria-controls",i),u.setAttribute("aria-expanded",Js(n)),u.setAttribute("aria-haspopup","true"),u.id||(u.id=t),u.label||(u.label=s),u.text||(u.text=s),u.addEventListener("click",this.menuButtonClick),u.addEventListener("keydown",this.menuButtonKeyDown)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:t}=this;t&&(t.removeEventListener("click",this.menuButtonClick),t.removeEventListener("keydown",this.menuButtonKeyDown))},this.setMenuButtonEl=t=>{const i=t.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-action"));this.slottedMenuButtonEl=i[0],this.connectMenuButtonEl()},this.setDefaultMenuButtonEl=t=>{this.defaultMenuButtonEl=t,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=()=>{this.toggleOpen()},this.updateTooltip=t=>{const i=t.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-tooltip"));this.tooltipEl=i[0],this.setTooltipReferenceElement()},this.setTooltipReferenceElement=()=>{const{tooltipEl:t,expanded:i,menuButtonEl:n,open:s}=this;t&&(t.referenceElement=!i&&!s?n:null)},this.updateAction=(t,i)=>{const{guid:n,activeMenuItemIndex:s}=this,u=`${n}-action-${i}`;t.tabIndex=-1,t.setAttribute("role","menuitem"),t.id||(t.id=u),t.toggleAttribute(zde,i===s)},this.updateActions=t=>{t==null||t.forEach(this.updateAction)},this.handleDefaultSlotChange=t=>{const i=t.target.assignedElements({flatten:!0}).reduce((n,s)=>s!=null&&s.matches("calcite-action")?(n.push(s),n):s!=null&&s.matches("calcite-action-group")?n.concat(Array.from(s.querySelectorAll("calcite-action"))):n,[]);this.actionElements=i.filter(n=>!n.disabled&&!n.hidden)},this.menuButtonKeyDown=t=>{const{key:i}=t,{actionElements:n,activeMenuItemIndex:s,open:u}=this;if(n.length){if(y_(i)){if(t.preventDefault(),!u){this.toggleOpen();return}const p=n[s];p?p.click():this.toggleOpen(!1)}if(i==="Tab"){this.open=!1;return}if(i==="Escape"){this.toggleOpen(!1),t.preventDefault();return}this.handleActionNavigation(t,i,n)}},this.handleActionNavigation=(t,i,n)=>{if(!this.isValidKey(i,Ude))return;if(t.preventDefault(),!this.open){this.toggleOpen(),(i==="Home"||i==="ArrowDown")&&(this.activeMenuItemIndex=0),(i==="End"||i==="ArrowUp")&&(this.activeMenuItemIndex=n.length-1);return}i==="Home"&&(this.activeMenuItemIndex=0),i==="End"&&(this.activeMenuItemIndex=n.length-1);const s=this.activeMenuItemIndex;i==="ArrowUp"&&(this.activeMenuItemIndex=KL(Math.max(s-1,-1),n.length)),i==="ArrowDown"&&(this.activeMenuItemIndex=KL(s+1,n.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(t=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=t},this.handlePopoverOpen=()=>{this.open=!0},this.handlePopoverClose=()=>{this.open=!1},this.appearance="solid",this.expanded=!1,this.flipPlacements=void 0,this.label=void 0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale=void 0,this.menuButtonEl=void 0,this.activeMenuItemIndex=-1}connectedCallback(){this.connectMenuButtonEl()}componentWillLoad(){Ss(this)}componentDidLoad(){_s(this)}disconnectedCallback(){this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(t){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=t),this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){return await Es(this),n1(this.menuButtonEl)}renderMenuButton(){const{appearance:t,label:i,scale:n,expanded:s}=this;return fe("slot",{name:Jy.trigger,onSlotchange:this.setMenuButtonEl},fe("calcite-action",{appearance:t,class:vz.defaultTrigger,icon:Lde.menu,ref:this.setDefaultMenuButtonEl,scale:n,text:i,textEnabled:s}))}renderMenuItems(){const{actionElements:t,activeMenuItemIndex:i,open:n,menuId:s,menuButtonEl:u,label:p,placement:g,overlayPositioning:w,flipPlacements:E}=this,A=t[i],I=(A==null?void 0:A.id)||null;return fe("calcite-popover",{autoClose:!0,flipPlacements:E,focusTrapDisabled:!0,label:p,offsetDistance:0,onCalcitePopoverClose:this.handlePopoverClose,onCalcitePopoverOpen:this.handlePopoverOpen,open:n,overlayPositioning:w,placement:g,pointerDisabled:!0,referenceElement:u},fe("div",{"aria-activedescendant":I,"aria-labelledby":u==null?void 0:u.id,class:vz.menu,id:s,onClick:this.handleCalciteActionClick,role:"menu",tabIndex:-1},fe("slot",{onSlotchange:this.handleDefaultSlotChange})))}render(){return fe(d_,{key:"d13aa4f3d43fb5651c0487ccfa456813f69955d2"},this.renderMenuButton(),this.renderMenuItems(),fe("slot",{key:"b63d187516c766db6a1b1db3df34050fdec9e6ce",name:Jy.tooltip,onSlotchange:this.updateTooltip}))}isValidKey(t,i){return!!i.find(n=>n===t)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return Fde}},[1,"calcite-action-menu",{appearance:[513],expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],menuButtonEl:[32],activeMenuItemIndex:[32],setFocus:[64]},void 0,{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}]);function Pw(){if(typeof customElements>"u")return;["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-menu":customElements.get(t)||customElements.define(t,Vde);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break;case"calcite-popover":customElements.get(t)||bg();break}})}Pw();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const bz={scrim:"scrim",content:"content"},wz={s:72,l:480},Gde=":host{--calcite-scrim-background:var(--calcite-color-transparent-scrim);position:absolute;inset:0px;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}.scrim{position:absolute;inset:0px;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}",Hde=Gde,qde=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.resizeObserver=yo("resize",()=>this.handleResize()),this.handleDefaultSlotChange=t=>{this.hasContent=ule(t)},this.storeLoaderEl=t=>{this.loaderEl=t,this.handleResize()},this.loading=!1,this.messages=void 0,this.messageOverrides=void 0,this.loaderScale=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.hasContent=!1}onMessagesChange(){}effectiveLocaleChange(){gc(this,this.effectiveLocale)}connectedCallback(){var t;ka(this),vc(this),(t=this.resizeObserver)==null||t.observe(this.el)}async componentWillLoad(){await yc(this)}disconnectedCallback(){var t;Ca(this),bc(this),(t=this.resizeObserver)==null||t.disconnect()}render(){const{hasContent:t,loading:i,messages:n}=this;return fe("div",{key:"286b03bb4a18b45f1b6914684a5178e952a44127",class:bz.scrim},i?fe("calcite-loader",{label:n.loading,ref:this.storeLoaderEl,scale:this.loaderScale}):null,fe("div",{key:"0f8cd111720239b204d0d201610c4145d5616753",class:bz.content,hidden:!t},fe("slot",{key:"fe7bbced9871c9179971da0ef7ca07ea1c9ac33e",onSlotchange:this.handleDefaultSlotChange})))}getScale(t){return t<wz.s?"s":t>=wz.l?"l":"m"}handleResize(){const{loaderEl:t,el:i}=this;t&&(this.loaderScale=this.getScale(Math.min(i.clientHeight,i.clientWidth)??0))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Hde}},[1,"calcite-scrim",{loading:[516],messages:[1040],messageOverrides:[1040],loaderScale:[32],defaultMessages:[32],effectiveLocale:[32],hasContent:[32]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function vO(){if(typeof customElements>"u")return;["calcite-scrim","calcite-loader"].forEach(t=>{switch(t){case"calcite-scrim":customElements.get(t)||customElements.define(t,qde);break;case"calcite-loader":customElements.get(t)||bl();break}})}vO();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const rr={actionBarContainer:"action-bar-container",container:"container",contentBottom:"content-bottom",contentTop:"content-top",header:"header",headerContainer:"header-container",headerContainerBorderEnd:"header-container--border-end",heading:"heading",description:"description",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",contentWrapper:"content-wrapper",fabContainer:"fab-container",footer:"footer",footerContent:"footer-content",footerActions:"footer-actions",footerStart:"footer-start",footerEnd:"footer-end"},xz={close:"close",collapse:"collapse"},Z5={close:"x",menu:"ellipsis",expand:"chevron-down",collapse:"chevron-up"},Ln={actionBar:"action-bar",alerts:"alerts",contentBottom:"content-bottom",contentTop:"content-top",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerEnd:"footer-end",footerStart:"footer-start",footerActions:"footer-actions"},Bde=`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height:calc(var(--calcite-icon-size) * 3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0px;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:0.5rem}:host([scale=s]){--calcite-internal-panel-default-padding:var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding:10px}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-internal-panel-default-padding:var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding:var(--calcite-spacing-lg)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-internal-panel-default-padding:var(--calcite-spacing-xl);--calcite-internal-panel-header-vertical-padding:var(--calcite-spacing-xxl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0);line-height:1.25rem}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;border-block-start:1px solid var(--calcite-color-border-3);background-color:var(--calcite-color-foreground-1)}.container{position:relative;margin:0px;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;background-color:var(--calcite-color-background);padding:0px;transition:max-block-size var(--calcite-animation-timing), inline-size var(--calcite-animation-timing)}.container[hidden]{display:none}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-color-foreground-1);border-block-end:var(--calcite-panel-header-border-block-end, 1px solid var(--calcite-color-border-3))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-color-border-3)}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:0.75rem;padding-block:0.875rem;margin-inline-end:auto}.header-content .heading,.header-content .description{display:block;overflow-wrap:break-word;padding:0px}.header-content .heading{margin-inline:0px;margin-block:0px 0.25rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-color-text-2)}.back-button{border-width:0px;border-style:solid;border-color:var(--calcite-color-border-3);border-inline-end-width:1px}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;outline-color:transparent;padding:var(--calcite-panel-content-space, 0);background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.content-top,.content-bottom{padding:var(--calcite-internal-panel-default-padding)}.header-content{flex:1 1 auto;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-padding)}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-color-border-3);padding:var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-padding))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-padding)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-padding)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-padding)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:0.5rem;inset-inline:0;inline-size:-moz-fit-content;inline-size:fit-content}:host([hidden]){display:none}[hidden]{display:none}`,Wde=Bde,Jde=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePanelClose=gt(this,"calcitePanelClose",6),this.calcitePanelToggle=gt(this,"calcitePanelToggle",6),this.calcitePanelScroll=gt(this,"calcitePanelScroll",6),this.resizeObserver=yo("resize",()=>this.resizeHandler()),this.resizeHandler=()=>{const{panelScrollEl:t}=this;if(!t||typeof t.scrollHeight!="number"||typeof t.offsetHeight!="number")return;t.scrollHeight>t.offsetHeight?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")},this.setContainerRef=t=>{this.containerEl=t},this.panelKeyDownHandler=t=>{this.closable&&t.key==="Escape"&&!t.defaultPrevented&&(this.handleUserClose(),t.preventDefault())},this.handleUserClose=()=>{this.closed=!0,this.calcitePanelClose.emit()},this.open=()=>{this.isClosed=!1},this.close=async()=>{const t=this.beforeClose??(()=>Promise.resolve());try{await t()}catch{requestAnimationFrame(()=>{this.closed=!1});return}this.isClosed=!0},this.collapse=()=>{this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()},this.panelScrollHandler=()=>{this.calcitePanelScroll.emit()},this.handleHeaderActionsStartSlotChange=t=>{this.hasStartActions=Qi(t)},this.handleHeaderActionsEndSlotChange=t=>{this.hasEndActions=Qi(t)},this.handleHeaderMenuActionsSlotChange=t=>{this.hasMenuItems=Qi(t)},this.handleActionBarSlotChange=t=>{const i=rl(t).filter(n=>n==null?void 0:n.matches("calcite-action-bar"));i.forEach(n=>n.layout="horizontal"),this.hasActionBar=!!i.length},this.handleHeaderContentSlotChange=t=>{this.hasHeaderContent=Qi(t)},this.handleFabSlotChange=t=>{this.hasFab=Qi(t)},this.handleFooterActionsSlotChange=t=>{this.hasFooterActions=Qi(t)},this.handleFooterEndSlotChange=t=>{this.hasFooterEndContent=Qi(t)},this.handleFooterStartSlotChange=t=>{this.hasFooterStartContent=Qi(t)},this.handleFooterSlotChange=t=>{this.hasFooterContent=Qi(t)},this.contentBottomSlotChangeHandler=t=>{this.hasContentBottom=Qi(t)},this.contentTopSlotChangeHandler=t=>{this.hasContentTop=Qi(t)},this.setPanelScrollEl=t=>{var i,n;this.panelScrollEl=t,(i=this.resizeObserver)==null||i.disconnect(),t&&((n=this.resizeObserver)==null||n.observe(t),this.resizeHandler())},this.handleAlertsSlotChange=t=>{var i;(i=rl(t))==null||i.map(n=>{n.nodeName==="CALCITE-ALERT"&&(n.embedded=!0)})},this.beforeClose=void 0,this.closed=!1,this.disabled=!1,this.closable=!1,this.collapsed=!1,this.collapseDirection="down",this.collapsible=!1,this.headingLevel=void 0,this.loading=!1,this.heading=void 0,this.description=void 0,this.menuFlipPlacements=void 0,this.menuOpen=!1,this.menuPlacement=$de,this.messageOverrides=void 0,this.messages=void 0,this.overlayPositioning="absolute",this.scale="m",this.isClosed=!1,this.hasStartActions=!1,this.hasEndActions=!1,this.hasMenuItems=!1,this.hasHeaderContent=!1,this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.defaultMessages=void 0,this.effectiveLocale="",this.showHeaderContent=!1}toggleDialog(t){t?this.close():this.open()}onMessagesChange(){}connectedCallback(){ka(this),vc(this)}async componentWillLoad(){Ss(this),this.isClosed=this.closed,await yc(this)}componentDidLoad(){_s(this)}componentDidRender(){T1(this)}disconnectedCallback(){var t;Ca(this),bc(this),(t=this.resizeObserver)==null||t.disconnect()}effectiveLocaleChange(){gc(this,this.effectiveLocale)}async setFocus(){await Es(this),m_(this.containerEl)}async scrollContentTo(t){var i;(i=this.panelScrollEl)==null||i.scrollTo(t)}renderHeaderContent(){const{heading:t,headingLevel:i,description:n,hasHeaderContent:s}=this,u=t?fe(dO,{class:rr.heading,level:i},t):null,p=n?fe("span",{class:rr.description},n):null;return!s&&(u||p)?fe("div",{class:rr.headerContent,key:"header-content"},u,p):null}renderActionBar(){return fe("div",{class:rr.actionBarContainer,hidden:!this.hasActionBar},fe("slot",{name:Ln.actionBar,onSlotchange:this.handleActionBarSlotChange}))}renderHeaderSlottedContent(){return fe("div",{class:rr.headerContent,hidden:!this.hasHeaderContent,key:"slotted-header-content"},fe("slot",{name:Ln.headerContent,onSlotchange:this.handleHeaderContentSlotChange}))}renderHeaderStartActions(){const{hasStartActions:t}=this;return fe("div",{class:{[rr.headerActionsStart]:!0,[rr.headerActions]:!0},hidden:!t,key:"header-actions-start"},fe("slot",{name:Ln.headerActionsStart,onSlotchange:this.handleHeaderActionsStartSlotChange}))}renderHeaderActionsEnd(){const{hasEndActions:t,messages:i,closable:n,collapsed:s,collapseDirection:u,collapsible:p,hasMenuItems:g}=this,{collapse:w,expand:E,close:A}=i,I=[Z5.expand,Z5.collapse];u==="up"&&I.reverse();const R=p?fe("calcite-action",{"aria-expanded":Js(!s),"aria-label":w,icon:s?I[0]:I[1],id:xz.collapse,onClick:this.collapse,scale:this.scale,text:w,title:s?E:w}):null,F=n?fe("calcite-action",{"aria-label":A,icon:Z5.close,id:xz.close,onClick:this.handleUserClose,scale:this.scale,text:A,title:A}):null,q=fe("slot",{name:Ln.headerActionsEnd,onSlotchange:this.handleHeaderActionsEndSlotChange}),B=t||R||F||g;return fe("div",{class:{[rr.headerActionsEnd]:!0,[rr.headerActions]:!0},hidden:!B,key:"header-actions-end"},q,this.renderMenu(),R,F)}renderMenu(){const{hasMenuItems:t,messages:i,menuOpen:n,menuFlipPlacements:s,menuPlacement:u}=this;return fe("calcite-action-menu",{flipPlacements:s??["top","bottom"],hidden:!t,key:"menu",label:i.options,open:n,overlayPositioning:this.overlayPositioning,placement:u},fe("calcite-action",{icon:Z5.menu,scale:this.scale,slot:Jy.trigger,text:i.options}),fe("slot",{name:Ln.headerMenuActions,onSlotchange:this.handleHeaderMenuActionsSlotChange}))}renderHeaderNode(){const{hasHeaderContent:t,hasStartActions:i,hasEndActions:n,closable:s,collapsible:u,hasMenuItems:p,hasActionBar:g}=this,w=this.renderHeaderContent(),E=t||!!w||i||n||u||s||p;return this.showHeaderContent=E,fe("header",{class:rr.header,hidden:!(E||g)},fe("div",{class:{[rr.headerContainer]:!0,[rr.headerContainerBorderEnd]:g},hidden:!E},this.renderHeaderStartActions(),this.renderHeaderSlottedContent(),w,this.renderHeaderActionsEnd()),this.renderActionBar(),this.renderContentTop())}renderFooterNode(){const{hasFooterEndContent:t,hasFooterStartContent:i,hasFooterContent:n,hasFooterActions:s}=this,u=i||t||n||s;return fe("footer",{class:rr.footer,hidden:!u},fe("div",{class:rr.footerContent,hidden:!n},fe("slot",{name:Ln.footer,onSlotchange:this.handleFooterSlotChange})),fe("div",{class:rr.footerStart,hidden:n||!i},fe("slot",{name:Ln.footerStart,onSlotchange:this.handleFooterStartSlotChange})),fe("div",{class:rr.footerEnd,hidden:n||!t},fe("slot",{name:Ln.footerEnd,onSlotchange:this.handleFooterEndSlotChange})),fe("div",{class:rr.footerActions,hidden:n||!s},fe("slot",{key:"footer-actions-slot",name:Ln.footerActions,onSlotchange:this.handleFooterActionsSlotChange})))}renderContent(){return fe("div",{class:rr.contentWrapper,hidden:this.collapsible&&this.collapsed,onScroll:this.panelScrollHandler,ref:this.setPanelScrollEl},fe("slot",null),this.renderFab())}renderContentBottom(){return fe("div",{class:rr.contentBottom,hidden:!this.hasContentBottom},fe("slot",{name:Ln.contentBottom,onSlotchange:this.contentBottomSlotChangeHandler}))}renderContentTop(){return fe("div",{class:rr.contentTop,hidden:!this.hasContentTop},fe("slot",{name:Ln.contentTop,onSlotchange:this.contentTopSlotChangeHandler}))}renderFab(){return fe("div",{class:rr.fabContainer,hidden:!this.hasFab},fe("slot",{name:Ln.fab,onSlotchange:this.handleFabSlotChange}))}render(){const{disabled:t,loading:i,isClosed:n}=this,s=fe("article",{key:"0f439dffdca536eb6973ac386b0566091249aee3","aria-busy":Js(i),class:rr.container,hidden:n,ref:this.setContainerRef},this.renderHeaderNode(),this.renderContent(),this.renderContentBottom(),this.renderFooterNode(),fe("slot",{key:"alerts",name:Ln.alerts,onSlotchange:this.handleAlertsSlotChange}));return fe(Ar,{key:"6e5baec07ecb356871dea038ebc2d5ee2d8ed54f",onKeyDown:this.panelKeyDownHandler},fe(M1,{key:"924cda1799b359f1bb3fb119cebfff5a7349b72d",disabled:t},i?fe("calcite-scrim",{loading:i}):null,s))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{closed:["toggleDialog"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Wde}},[1,"calcite-panel",{beforeClose:[16],closed:[1540],disabled:[516],closable:[516],collapsed:[516],collapseDirection:[1,"collapse-direction"],collapsible:[516],headingLevel:[514,"heading-level"],loading:[516],heading:[1],description:[1],menuFlipPlacements:[16],menuOpen:[516,"menu-open"],menuPlacement:[513,"menu-placement"],messageOverrides:[1040],messages:[1040],overlayPositioning:[513,"overlay-positioning"],scale:[513],isClosed:[32],hasStartActions:[32],hasEndActions:[32],hasMenuItems:[32],hasHeaderContent:[32],hasActionBar:[32],hasContentBottom:[32],hasContentTop:[32],hasFab:[32],hasFooterActions:[32],hasFooterContent:[32],hasFooterEndContent:[32],hasFooterStartContent:[32],defaultMessages:[32],effectiveLocale:[32],showHeaderContent:[32],setFocus:[64],scrollContentTo:[64]},void 0,{closed:["toggleDialog"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function oW(){if(typeof customElements>"u")return;["calcite-panel","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover","calcite-scrim"].forEach(t=>{switch(t){case"calcite-panel":customElements.get(t)||customElements.define(t,Jde);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-action-menu":customElements.get(t)||Pw();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break;case"calcite-popover":customElements.get(t)||bg();break;case"calcite-scrim":customElements.get(t)||vO();break}})}oW();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */var Zde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aW={exports:{}};(function(e,t){(function(i,n){e.exports=n()})(Zde,function(){function i(z,D){var G=Object.keys(z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(z);D&&(W=W.filter(function(J){return Object.getOwnPropertyDescriptor(z,J).enumerable})),G.push.apply(G,W)}return G}function n(z){for(var D=1;D<arguments.length;D++){var G=arguments[D]!=null?arguments[D]:{};D%2?i(Object(G),!0).forEach(function(W){w(z,W,G[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(G)):i(Object(G)).forEach(function(W){Object.defineProperty(z,W,Object.getOwnPropertyDescriptor(G,W))})}return z}function s(z){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s(z)}function u(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function p(z,D){for(var G=0;G<D.length;G++){var W=D[G];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(z,B(W.key),W)}}function g(z,D,G){return D&&p(z.prototype,D),Object.defineProperty(z,"prototype",{writable:!1}),z}function w(z,D,G){return(D=B(D))in z?Object.defineProperty(z,D,{value:G,enumerable:!0,configurable:!0,writable:!0}):z[D]=G,z}function E(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),D&&I(z,D)}function A(z){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},A(z)}function I(z,D){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,W){return G.__proto__=W,G},I(z,D)}function R(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function F(z){var D=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var G,W=A(z);if(D){var J=A(this).constructor;G=Reflect.construct(W,arguments,J)}else G=W.apply(this,arguments);return function(ee,se){if(se&&(typeof se=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(ee)}(this,G)}}function q(){return q=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(z,D,G){var W=function(ee,se){for(;!Object.prototype.hasOwnProperty.call(ee,se)&&(ee=A(ee))!==null;);return ee}(z,D);if(W){var J=Object.getOwnPropertyDescriptor(W,D);return J.get?J.get.call(arguments.length<3?z:G):J.value}},q.apply(this,arguments)}function B(z){var D=function(G,W){if(typeof G!="object"||G===null)return G;var J=G[Symbol.toPrimitive];if(J!==void 0){var ee=J.call(G,W);if(typeof ee!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(z,"string");return typeof D=="symbol"?D:D+""}var K=function(z){return!(!z||!z.Window)&&z instanceof z.Window},te=void 0,ce=void 0;function ye(z){te=z;var D=z.document.createTextNode("");D.ownerDocument!==z.document&&typeof z.wrap=="function"&&z.wrap(D)===D&&(z=z.wrap(z)),ce=z}function _e(z){return K(z)?z:(z.ownerDocument||z).defaultView||ce.window}typeof window<"u"&&window&&ye(window);var we=function(z){return!!z&&s(z)==="object"},xe=function(z){return typeof z=="function"},pe={window:function(z){return z===ce||K(z)},docFrag:function(z){return we(z)&&z.nodeType===11},object:we,func:xe,number:function(z){return typeof z=="number"},bool:function(z){return typeof z=="boolean"},string:function(z){return typeof z=="string"},element:function(z){if(!z||s(z)!=="object")return!1;var D=_e(z)||ce;return/object|function/.test(typeof Element>"u"?"undefined":s(Element))?z instanceof Element||z instanceof D.Element:z.nodeType===1&&typeof z.nodeName=="string"},plainObject:function(z){return we(z)&&!!z.constructor&&/function Object\b/.test(z.constructor.toString())},array:function(z){return we(z)&&z.length!==void 0&&xe(z.splice)}};function Ze(z){var D=z.interaction;if(D.prepared.name==="drag"){var G=D.prepared.axis;G==="x"?(D.coords.cur.page.y=D.coords.start.page.y,D.coords.cur.client.y=D.coords.start.client.y,D.coords.velocity.client.y=0,D.coords.velocity.page.y=0):G==="y"&&(D.coords.cur.page.x=D.coords.start.page.x,D.coords.cur.client.x=D.coords.start.client.x,D.coords.velocity.client.x=0,D.coords.velocity.page.x=0)}}function Fe(z){var D=z.iEvent,G=z.interaction;if(G.prepared.name==="drag"){var W=G.prepared.axis;if(W==="x"||W==="y"){var J=W==="x"?"y":"x";D.page[J]=G.coords.start.page[J],D.client[J]=G.coords.start.client[J],D.delta[J]=0}}}var He={id:"actions/drag",install:function(z){var D=z.actions,G=z.Interactable,W=z.defaults;G.prototype.draggable=He.draggable,D.map.drag=He,D.methodDict.drag="draggable",W.actions.drag=He.defaults},listeners:{"interactions:before-action-move":Ze,"interactions:action-resume":Ze,"interactions:action-move":Fe,"auto-start:check":function(z){var D=z.interaction,G=z.interactable,W=z.buttons,J=G.options.drag;if(J&&J.enabled&&(!D.pointerIsDown||!/mouse|pointer/.test(D.pointerType)||(W&G.options.drag.mouseButtons)!=0))return z.action={name:"drag",axis:J.lockAxis==="start"?J.startAxis:J.lockAxis},!1}},draggable:function(z){return pe.object(z)?(this.options.drag.enabled=z.enabled!==!1,this.setPerAction("drag",z),this.setOnEvents("drag",z),/^(xy|x|y|start)$/.test(z.lockAxis)&&(this.options.drag.lockAxis=z.lockAxis),/^(xy|x|y)$/.test(z.startAxis)&&(this.options.drag.startAxis=z.startAxis),this):pe.bool(z)?(this.options.drag.enabled=z,this):this.options.drag},beforeMove:Ze,move:Fe,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(z){return z.search("drag")===0}},nt=He,Qe={init:function(z){var D=z;Qe.document=D.document,Qe.DocumentFragment=D.DocumentFragment||De,Qe.SVGElement=D.SVGElement||De,Qe.SVGSVGElement=D.SVGSVGElement||De,Qe.SVGElementInstance=D.SVGElementInstance||De,Qe.Element=D.Element||De,Qe.HTMLElement=D.HTMLElement||Qe.Element,Qe.Event=D.Event,Qe.Touch=D.Touch||De,Qe.PointerEvent=D.PointerEvent||D.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function De(){}var Me=Qe,et={init:function(z){var D=Me.Element,G=z.navigator||{};et.supportsTouch="ontouchstart"in z||pe.func(z.DocumentTouch)&&Me.document instanceof z.DocumentTouch,et.supportsPointerEvent=G.pointerEnabled!==!1&&!!Me.PointerEvent,et.isIOS=/iP(hone|od|ad)/.test(G.platform),et.isIOS7=/iP(hone|od|ad)/.test(G.platform)&&/OS 7[^\d]/.test(G.appVersion),et.isIe9=/MSIE 9/.test(G.userAgent),et.isOperaMobile=G.appName==="Opera"&&et.supportsTouch&&/Presto/.test(G.userAgent),et.prefixedMatchesSelector="matches"in D.prototype?"matches":"webkitMatchesSelector"in D.prototype?"webkitMatchesSelector":"mozMatchesSelector"in D.prototype?"mozMatchesSelector":"oMatchesSelector"in D.prototype?"oMatchesSelector":"msMatchesSelector",et.pEventTypes=et.supportsPointerEvent?Me.PointerEvent===z.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,et.wheelEvent=Me.document&&"onmousewheel"in Me.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Ve=et;function lt(z,D){if(z.contains)return z.contains(D);for(;D;){if(D===z)return!0;D=D.parentNode}return!1}function st(z,D){for(;pe.element(z);){if(Se(z,D))return z;z=Tt(z)}return null}function Tt(z){var D=z.parentNode;if(pe.docFrag(D)){for(;(D=D.host)&&pe.docFrag(D););return D}return D}function Se(z,D){return ce!==te&&(D=D.replace(/\/deep\//g," ")),z[Ve.prefixedMatchesSelector](D)}var Xe=function(z){return z.parentNode||z.host};function $t(z,D){for(var G,W=[],J=z;(G=Xe(J))&&J!==D&&G!==J.ownerDocument;)W.unshift(J),J=G;return W}function Mt(z,D,G){for(;pe.element(z);){if(Se(z,D))return!0;if((z=Tt(z))===G)return Se(z,D)}return!1}function bt(z){return z.correspondingUseElement||z}function Yt(z){var D=z instanceof Me.SVGElement?z.getBoundingClientRect():z.getClientRects()[0];return D&&{left:D.left,right:D.right,top:D.top,bottom:D.bottom,width:D.width||D.right-D.left,height:D.height||D.bottom-D.top}}function Kt(z){var D,G=Yt(z);if(!Ve.isIOS7&&G){var W={x:(D=(D=_e(z))||ce).scrollX||D.document.documentElement.scrollLeft,y:D.scrollY||D.document.documentElement.scrollTop};G.left+=W.x,G.right+=W.x,G.top+=W.y,G.bottom+=W.y}return G}function xn(z){for(var D=[];z;)D.push(z),z=Tt(z);return D}function hi(z){return!!pe.string(z)&&(Me.document.querySelector(z),!0)}function wt(z,D){for(var G in D)z[G]=D[G];return z}function Ji(z,D,G){return z==="parent"?Tt(G):z==="self"?D.getRect(G):st(G,z)}function mr(z,D,G,W){var J=z;return pe.string(J)?J=Ji(J,D,G):pe.func(J)&&(J=J.apply(void 0,W)),pe.element(J)&&(J=Kt(J)),J}function Qs(z){return z&&{x:"x"in z?z.x:z.left,y:"y"in z?z.y:z.top}}function ks(z){return!z||"x"in z&&"y"in z||((z=wt({},z)).x=z.left||0,z.y=z.top||0,z.width=z.width||(z.right||0)-z.x,z.height=z.height||(z.bottom||0)-z.y),z}function Ho(z,D,G){z.left&&(D.left+=G.x),z.right&&(D.right+=G.x),z.top&&(D.top+=G.y),z.bottom&&(D.bottom+=G.y),D.width=D.right-D.left,D.height=D.bottom-D.top}function wo(z,D,G){var W=G&&z.options[G];return Qs(mr(W&&W.origin||z.options.origin,z,D,[z&&D]))||{x:0,y:0}}function Ci(z,D){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(de){return!0},W=arguments.length>3?arguments[3]:void 0;if(W=W||{},pe.string(z)&&z.search(" ")!==-1&&(z=re(z)),pe.array(z))return z.forEach(function(de){return Ci(de,D,G,W)}),W;if(pe.object(z)&&(D=z,z=""),pe.func(D)&&G(z))W[z]=W[z]||[],W[z].push(D);else if(pe.array(D))for(var J=0,ee=D;J<ee.length;J++){var se=ee[J];Ci(z,se,G,W)}else if(pe.object(D))for(var ae in D)Ci(re(ae).map(function(de){return"".concat(z).concat(de)}),D[ae],G,W);return W}function re(z){return z.trim().split(/ +/)}var mn=function(z,D){return Math.sqrt(z*z+D*D)},xc=["webkit","moz"];function ci(z,D){z.__set||(z.__set={});var G=function(J){if(xc.some(function(ee){return J.indexOf(ee)===0}))return 1;typeof z[J]!="function"&&J!=="__set"&&Object.defineProperty(z,J,{get:function(){return J in z.__set?z.__set[J]:z.__set[J]=D[J]},set:function(ee){z.__set[J]=ee},configurable:!0})};for(var W in D)G(W);return z}function Ni(z,D){z.page=z.page||{},z.page.x=D.page.x,z.page.y=D.page.y,z.client=z.client||{},z.client.x=D.client.x,z.client.y=D.client.y,z.timeStamp=D.timeStamp}function us(z){z.page.x=0,z.page.y=0,z.client.x=0,z.client.y=0}function Xn(z){return z instanceof Me.Event||z instanceof Me.Touch}function Sn(z,D,G){return z=z||"page",(G=G||{}).x=D[z+"X"],G.y=D[z+"Y"],G}function xo(z,D){return D=D||{x:0,y:0},Ve.isOperaMobile&&Xn(z)?(Sn("screen",z,D),D.x+=window.scrollX,D.y+=window.scrollY):Sn("page",z,D),D}function qo(z){return pe.number(z.pointerId)?z.pointerId:z.identifier}function Eu(z,D,G){var W=D.length>1?pt(D):D[0];xo(W,z.page),function(J,ee){ee=ee||{},Ve.isOperaMobile&&Xn(J)?Sn("screen",J,ee):Sn("client",J,ee)}(W,z.client),z.timeStamp=G}function qr(z){var D=[];return pe.array(z)?(D[0]=z[0],D[1]=z[1]):z.type==="touchend"?z.touches.length===1?(D[0]=z.touches[0],D[1]=z.changedTouches[0]):z.touches.length===0&&(D[0]=z.changedTouches[0],D[1]=z.changedTouches[1]):(D[0]=z.touches[0],D[1]=z.touches[1]),D}function pt(z){for(var D={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},G=0;G<z.length;G++){var W=z[G];for(var J in D)D[J]+=W[J]}for(var ee in D)D[ee]/=z.length;return D}function eo(z){if(!z.length)return null;var D=qr(z),G=Math.min(D[0].pageX,D[1].pageX),W=Math.min(D[0].pageY,D[1].pageY),J=Math.max(D[0].pageX,D[1].pageX),ee=Math.max(D[0].pageY,D[1].pageY);return{x:G,y:W,left:G,top:W,right:J,bottom:ee,width:J-G,height:ee-W}}function h(z,D){var G=D+"X",W=D+"Y",J=qr(z),ee=J[0][G]-J[1][G],se=J[0][W]-J[1][W];return mn(ee,se)}function N(z,D){var G=D+"X",W=D+"Y",J=qr(z),ee=J[1][G]-J[0][G],se=J[1][W]-J[0][W];return 180*Math.atan2(se,ee)/Math.PI}function x(z){return pe.string(z.pointerType)?z.pointerType:pe.number(z.pointerType)?[void 0,void 0,"touch","pen","mouse"][z.pointerType]:/touch/.test(z.type||"")||z instanceof Me.Touch?"touch":"mouse"}function c(z){var D=pe.func(z.composedPath)?z.composedPath():z.path;return[bt(D?D[0]:z.target),bt(z.currentTarget)]}var a=function(){function z(D){u(this,z),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=D}return g(z,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),z}();Object.defineProperty(a.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var r=function(z,D){for(var G=0;G<D.length;G++){var W=D[G];z.push(W)}return z},o=function(z){return r([],z)},l=function(z,D){for(var G=0;G<z.length;G++)if(D(z[G],G,z))return G;return-1},d=function(z,D){return z[l(z,D)]},f=function(z){E(G,z);var D=F(G);function G(W,J,ee){var se;u(this,G),(se=D.call(this,J._interaction)).dropzone=void 0,se.dragEvent=void 0,se.relatedTarget=void 0,se.draggable=void 0,se.propagationStopped=!1,se.immediatePropagationStopped=!1;var ae=ee==="dragleave"?W.prev:W.cur,de=ae.element,Ee=ae.dropzone;return se.type=ee,se.target=de,se.currentTarget=de,se.dropzone=Ee,se.dragEvent=J,se.relatedTarget=J.target,se.draggable=J.interactable,se.timeStamp=J.timeStamp,se}return g(G,[{key:"reject",value:function(){var W=this,J=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&J.cur.dropzone===this.dropzone&&J.cur.element===this.target)if(J.prev.dropzone=this.dropzone,J.prev.element=this.target,J.rejected=!0,J.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var ee=J.activeDrops,se=l(ee,function(de){var Ee=de.dropzone,me=de.element;return Ee===W.dropzone&&me===W.target});J.activeDrops.splice(se,1);var ae=new G(J,this.dragEvent,"dropdeactivate");ae.dropzone=this.dropzone,ae.target=this.target,this.dropzone.fire(ae)}else this.dropzone.fire(new G(J,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),G}(a);function m(z,D){for(var G=0,W=z.slice();G<W.length;G++){var J=W[G],ee=J.dropzone,se=J.element;D.dropzone=ee,D.target=se,ee.fire(D),D.propagationStopped=D.immediatePropagationStopped=!1}}function b(z,D){for(var G=function(ee,se){for(var ae=[],de=0,Ee=ee.interactables.list;de<Ee.length;de++){var me=Ee[de];if(me.options.drop.enabled){var Oe=me.options.drop.accept;if(!(pe.element(Oe)&&Oe!==se||pe.string(Oe)&&!Se(se,Oe)||pe.func(Oe)&&!Oe({dropzone:me,draggableElement:se})))for(var Be=0,ut=me.getAllElements();Be<ut.length;Be++){var at=ut[Be];at!==se&&ae.push({dropzone:me,element:at,rect:me.getRect(at)})}}}return ae}(z,D),W=0;W<G.length;W++){var J=G[W];J.rect=J.dropzone.getRect(J.element)}return G}function _(z,D,G){for(var W=z.dropState,J=z.interactable,ee=z.element,se=[],ae=0,de=W.activeDrops;ae<de.length;ae++){var Ee=de[ae],me=Ee.dropzone,Oe=Ee.element,Be=Ee.rect,ut=me.dropCheck(D,G,J,ee,Oe,Be);se.push(ut?Oe:null)}var at=function(yt){for(var Et,St,Nt,ti=[],yi=0;yi<yt.length;yi++){var Jt=yt[yi],Qt=yt[Et];if(Jt&&yi!==Et)if(Qt){var Qn=Xe(Jt),cn=Xe(Qt);if(Qn!==Jt.ownerDocument)if(cn!==Jt.ownerDocument)if(Qn!==cn){ti=ti.length?ti:$t(Qt);var As=void 0;if(Qt instanceof Me.HTMLElement&&Jt instanceof Me.SVGElement&&!(Jt instanceof Me.SVGSVGElement)){if(Jt===cn)continue;As=Jt.ownerSVGElement}else As=Jt;for(var Or=$t(As,Qt.ownerDocument),Ia=0;Or[Ia]&&Or[Ia]===ti[Ia];)Ia++;var Tp=[Or[Ia-1],Or[Ia],ti[Ia]];if(Tp[0])for(var ad=Tp[0].lastChild;ad;){if(ad===Tp[1]){Et=yi,ti=Or;break}if(ad===Tp[2])break;ad=ad.previousSibling}}else Nt=Qt,(parseInt(_e(St=Jt).getComputedStyle(St).zIndex,10)||0)>=(parseInt(_e(Nt).getComputedStyle(Nt).zIndex,10)||0)&&(Et=yi);else Et=yi}else Et=yi}return Et}(se);return W.activeDrops[at]||null}function $(z,D,G){var W=z.dropState,J={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return G.type==="dragstart"&&(J.activate=new f(W,G,"dropactivate"),J.activate.target=null,J.activate.dropzone=null),G.type==="dragend"&&(J.deactivate=new f(W,G,"dropdeactivate"),J.deactivate.target=null,J.deactivate.dropzone=null),W.rejected||(W.cur.element!==W.prev.element&&(W.prev.dropzone&&(J.leave=new f(W,G,"dragleave"),G.dragLeave=J.leave.target=W.prev.element,G.prevDropzone=J.leave.dropzone=W.prev.dropzone),W.cur.dropzone&&(J.enter=new f(W,G,"dragenter"),G.dragEnter=W.cur.element,G.dropzone=W.cur.dropzone)),G.type==="dragend"&&W.cur.dropzone&&(J.drop=new f(W,G,"drop"),G.dropzone=W.cur.dropzone,G.relatedTarget=W.cur.element),G.type==="dragmove"&&W.cur.dropzone&&(J.move=new f(W,G,"dropmove"),G.dropzone=W.cur.dropzone)),J}function C(z,D){var G=z.dropState,W=G.activeDrops,J=G.cur,ee=G.prev;D.leave&&ee.dropzone.fire(D.leave),D.enter&&J.dropzone.fire(D.enter),D.move&&J.dropzone.fire(D.move),D.drop&&J.dropzone.fire(D.drop),D.deactivate&&m(W,D.deactivate),G.prev.dropzone=J.dropzone,G.prev.element=J.element}function P(z,D){var G=z.interaction,W=z.iEvent,J=z.event;if(W.type==="dragmove"||W.type==="dragend"){var ee=G.dropState;D.dynamicDrop&&(ee.activeDrops=b(D,G.element));var se=W,ae=_(G,se,J);ee.rejected=ee.rejected&&!!ae&&ae.dropzone===ee.cur.dropzone&&ae.element===ee.cur.element,ee.cur.dropzone=ae&&ae.dropzone,ee.cur.element=ae&&ae.element,ee.events=$(G,0,se)}}var L={id:"actions/drop",install:function(z){var D=z.actions,G=z.interactStatic,W=z.Interactable,J=z.defaults;z.usePlugin(nt),W.prototype.dropzone=function(ee){return function(se,ae){if(pe.object(ae)){if(se.options.drop.enabled=ae.enabled!==!1,ae.listeners){var de=Ci(ae.listeners),Ee=Object.keys(de).reduce(function(Oe,Be){return Oe[/^(enter|leave)/.test(Be)?"drag".concat(Be):/^(activate|deactivate|move)/.test(Be)?"drop".concat(Be):Be]=de[Be],Oe},{}),me=se.options.drop.listeners;me&&se.off(me),se.on(Ee),se.options.drop.listeners=Ee}return pe.func(ae.ondrop)&&se.on("drop",ae.ondrop),pe.func(ae.ondropactivate)&&se.on("dropactivate",ae.ondropactivate),pe.func(ae.ondropdeactivate)&&se.on("dropdeactivate",ae.ondropdeactivate),pe.func(ae.ondragenter)&&se.on("dragenter",ae.ondragenter),pe.func(ae.ondragleave)&&se.on("dragleave",ae.ondragleave),pe.func(ae.ondropmove)&&se.on("dropmove",ae.ondropmove),/^(pointer|center)$/.test(ae.overlap)?se.options.drop.overlap=ae.overlap:pe.number(ae.overlap)&&(se.options.drop.overlap=Math.max(Math.min(1,ae.overlap),0)),"accept"in ae&&(se.options.drop.accept=ae.accept),"checker"in ae&&(se.options.drop.checker=ae.checker),se}return pe.bool(ae)?(se.options.drop.enabled=ae,se):se.options.drop}(this,ee)},W.prototype.dropCheck=function(ee,se,ae,de,Ee,me){return function(Oe,Be,ut,at,yt,Et,St){var Nt=!1;if(!(St=St||Oe.getRect(Et)))return!!Oe.options.drop.checker&&Oe.options.drop.checker(Be,ut,Nt,Oe,Et,at,yt);var ti=Oe.options.drop.overlap;if(ti==="pointer"){var yi=wo(at,yt,"drag"),Jt=xo(Be);Jt.x+=yi.x,Jt.y+=yi.y;var Qt=Jt.x>St.left&&Jt.x<St.right,Qn=Jt.y>St.top&&Jt.y<St.bottom;Nt=Qt&&Qn}var cn=at.getRect(yt);if(cn&&ti==="center"){var As=cn.left+cn.width/2,Or=cn.top+cn.height/2;Nt=As>=St.left&&As<=St.right&&Or>=St.top&&Or<=St.bottom}return cn&&pe.number(ti)&&(Nt=Math.max(0,Math.min(St.right,cn.right)-Math.max(St.left,cn.left))*Math.max(0,Math.min(St.bottom,cn.bottom)-Math.max(St.top,cn.top))/(cn.width*cn.height)>=ti),Oe.options.drop.checker&&(Nt=Oe.options.drop.checker(Be,ut,Nt,Oe,Et,at,yt)),Nt}(this,ee,se,ae,de,Ee,me)},G.dynamicDrop=function(ee){return pe.bool(ee)?(z.dynamicDrop=ee,G):z.dynamicDrop},wt(D.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),D.methodDict.drop="dropzone",z.dynamicDrop=!1,J.actions.drop=L.defaults},listeners:{"interactions:before-action-start":function(z){var D=z.interaction;D.prepared.name==="drag"&&(D.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(z,D){var G=z.interaction,W=z.iEvent;if(G.prepared.name==="drag"){var J=G.dropState;J.activeDrops=[],J.events={},J.activeDrops=b(D,G.element),J.events=$(G,0,W),J.events.activate&&(m(J.activeDrops,J.events.activate),D.fire("actions/drop:start",{interaction:G,dragEvent:W}))}},"interactions:action-move":P,"interactions:after-action-move":function(z,D){var G=z.interaction,W=z.iEvent;if(G.prepared.name==="drag"){var J=G.dropState;C(G,J.events),D.fire("actions/drop:move",{interaction:G,dragEvent:W}),J.events={}}},"interactions:action-end":function(z,D){if(z.interaction.prepared.name==="drag"){var G=z.interaction,W=z.iEvent;P(z,D),C(G,G.dropState.events),D.fire("actions/drop:end",{interaction:G,dragEvent:W})}},"interactions:stop":function(z){var D=z.interaction;if(D.prepared.name==="drag"){var G=D.dropState;G&&(G.activeDrops=null,G.events=null,G.cur.dropzone=null,G.cur.element=null,G.prev.dropzone=null,G.prev.element=null,G.rejected=!1)}}},getActiveDrops:b,getDrop:_,getDropEvents:$,fireDropEvents:C,filterEventType:function(z){return z.search("drag")===0||z.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},V=L;function U(z){var D=z.interaction,G=z.iEvent,W=z.phase;if(D.prepared.name==="gesture"){var J=D.pointers.map(function(Ee){return Ee.pointer}),ee=W==="start",se=W==="end",ae=D.interactable.options.deltaSource;if(G.touches=[J[0],J[1]],ee)G.distance=h(J,ae),G.box=eo(J),G.scale=1,G.ds=0,G.angle=N(J,ae),G.da=0,D.gesture.startDistance=G.distance,D.gesture.startAngle=G.angle;else if(se||D.pointers.length<2){var de=D.prevEvent;G.distance=de.distance,G.box=de.box,G.scale=de.scale,G.ds=0,G.angle=de.angle,G.da=0}else G.distance=h(J,ae),G.box=eo(J),G.scale=G.distance/D.gesture.startDistance,G.angle=N(J,ae),G.ds=G.scale-D.gesture.scale,G.da=G.angle-D.gesture.angle;D.gesture.distance=G.distance,D.gesture.angle=G.angle,pe.number(G.scale)&&G.scale!==1/0&&!isNaN(G.scale)&&(D.gesture.scale=G.scale)}}var Y={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(z){var D=z.actions,G=z.Interactable,W=z.defaults;G.prototype.gesturable=function(J){return pe.object(J)?(this.options.gesture.enabled=J.enabled!==!1,this.setPerAction("gesture",J),this.setOnEvents("gesture",J),this):pe.bool(J)?(this.options.gesture.enabled=J,this):this.options.gesture},D.map.gesture=Y,D.methodDict.gesture="gesturable",W.actions.gesture=Y.defaults},listeners:{"interactions:action-start":U,"interactions:action-move":U,"interactions:action-end":U,"interactions:new":function(z){z.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(z){if(!(z.interaction.pointers.length<2)){var D=z.interactable.options.gesture;if(D&&D.enabled)return z.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(z){return z.search("gesture")===0}},X=Y;function Z(z,D,G,W,J,ee,se){if(!D)return!1;if(D===!0){var ae=pe.number(ee.width)?ee.width:ee.right-ee.left,de=pe.number(ee.height)?ee.height:ee.bottom-ee.top;if(se=Math.min(se,Math.abs((z==="left"||z==="right"?ae:de)/2)),ae<0&&(z==="left"?z="right":z==="right"&&(z="left")),de<0&&(z==="top"?z="bottom":z==="bottom"&&(z="top")),z==="left"){var Ee=ae>=0?ee.left:ee.right;return G.x<Ee+se}if(z==="top"){var me=de>=0?ee.top:ee.bottom;return G.y<me+se}if(z==="right")return G.x>(ae>=0?ee.right:ee.left)-se;if(z==="bottom")return G.y>(de>=0?ee.bottom:ee.top)-se}return!!pe.element(W)&&(pe.element(D)?D===W:Mt(W,D,J))}function ne(z){var D=z.iEvent,G=z.interaction;if(G.prepared.name==="resize"&&G.resizeAxes){var W=D;G.interactable.options.resize.square?(G.resizeAxes==="y"?W.delta.x=W.delta.y:W.delta.y=W.delta.x,W.axes="xy"):(W.axes=G.resizeAxes,G.resizeAxes==="x"?W.delta.y=0:G.resizeAxes==="y"&&(W.delta.x=0))}}var oe,he,be={id:"actions/resize",before:["actions/drag"],install:function(z){var D=z.actions,G=z.browser,W=z.Interactable,J=z.defaults;be.cursors=function(ee){return ee.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(G),be.defaultMargin=G.supportsTouch||G.supportsPointerEvent?20:10,W.prototype.resizable=function(ee){return function(se,ae,de){return pe.object(ae)?(se.options.resize.enabled=ae.enabled!==!1,se.setPerAction("resize",ae),se.setOnEvents("resize",ae),pe.string(ae.axis)&&/^x$|^y$|^xy$/.test(ae.axis)?se.options.resize.axis=ae.axis:ae.axis===null&&(se.options.resize.axis=de.defaults.actions.resize.axis),pe.bool(ae.preserveAspectRatio)?se.options.resize.preserveAspectRatio=ae.preserveAspectRatio:pe.bool(ae.square)&&(se.options.resize.square=ae.square),se):pe.bool(ae)?(se.options.resize.enabled=ae,se):se.options.resize}(this,ee,z)},D.map.resize=be,D.methodDict.resize="resizable",J.actions.resize=be.defaults},listeners:{"interactions:new":function(z){z.interaction.resizeAxes="xy"},"interactions:action-start":function(z){(function(D){var G=D.iEvent,W=D.interaction;if(W.prepared.name==="resize"&&W.prepared.edges){var J=G,ee=W.rect;W._rects={start:wt({},ee),corrected:wt({},ee),previous:wt({},ee),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},J.edges=W.prepared.edges,J.rect=W._rects.corrected,J.deltaRect=W._rects.delta}})(z),ne(z)},"interactions:action-move":function(z){(function(D){var G=D.iEvent,W=D.interaction;if(W.prepared.name==="resize"&&W.prepared.edges){var J=G,ee=W.interactable.options.resize.invert,se=ee==="reposition"||ee==="negate",ae=W.rect,de=W._rects,Ee=de.start,me=de.corrected,Oe=de.delta,Be=de.previous;if(wt(Be,me),se){if(wt(me,ae),ee==="reposition"){if(me.top>me.bottom){var ut=me.top;me.top=me.bottom,me.bottom=ut}if(me.left>me.right){var at=me.left;me.left=me.right,me.right=at}}}else me.top=Math.min(ae.top,Ee.bottom),me.bottom=Math.max(ae.bottom,Ee.top),me.left=Math.min(ae.left,Ee.right),me.right=Math.max(ae.right,Ee.left);for(var yt in me.width=me.right-me.left,me.height=me.bottom-me.top,me)Oe[yt]=me[yt]-Be[yt];J.edges=W.prepared.edges,J.rect=me,J.deltaRect=Oe}})(z),ne(z)},"interactions:action-end":function(z){var D=z.iEvent,G=z.interaction;if(G.prepared.name==="resize"&&G.prepared.edges){var W=D;W.edges=G.prepared.edges,W.rect=G._rects.corrected,W.deltaRect=G._rects.delta}},"auto-start:check":function(z){var D=z.interaction,G=z.interactable,W=z.element,J=z.rect,ee=z.buttons;if(J){var se=wt({},D.coords.cur.page),ae=G.options.resize;if(ae&&ae.enabled&&(!D.pointerIsDown||!/mouse|pointer/.test(D.pointerType)||(ee&ae.mouseButtons)!=0)){if(pe.object(ae.edges)){var de={left:!1,right:!1,top:!1,bottom:!1};for(var Ee in de)de[Ee]=Z(Ee,ae.edges[Ee],se,D._latestPointer.eventTarget,W,J,ae.margin||be.defaultMargin);de.left=de.left&&!de.right,de.top=de.top&&!de.bottom,(de.left||de.right||de.top||de.bottom)&&(z.action={name:"resize",edges:de})}else{var me=ae.axis!=="y"&&se.x>J.right-be.defaultMargin,Oe=ae.axis!=="x"&&se.y>J.bottom-be.defaultMargin;(me||Oe)&&(z.action={name:"resize",axes:(me?"x":"")+(Oe?"y":"")})}return!z.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(z){var D=z.edges,G=z.axis,W=z.name,J=be.cursors,ee=null;if(G)ee=J[W+G];else if(D){for(var se="",ae=0,de=["top","bottom","left","right"];ae<de.length;ae++){var Ee=de[ae];D[Ee]&&(se+=Ee)}ee=J[se]}return ee},filterEventType:function(z){return z.search("resize")===0},defaultMargin:null},Ce=be,Pe={id:"actions",install:function(z){z.usePlugin(X),z.usePlugin(Ce),z.usePlugin(nt),z.usePlugin(V)}},qe=0,Ue={request:function(z){return oe(z)},cancel:function(z){return he(z)},init:function(z){if(oe=z.requestAnimationFrame,he=z.cancelAnimationFrame,!oe)for(var D=["ms","moz","webkit","o"],G=0;G<D.length;G++){var W=D[G];oe=z["".concat(W,"RequestAnimationFrame")],he=z["".concat(W,"CancelAnimationFrame")]||z["".concat(W,"CancelRequestAnimationFrame")]}oe=oe&&oe.bind(z),he=he&&he.bind(z),oe||(oe=function(J){var ee=Date.now(),se=Math.max(0,16-(ee-qe)),ae=z.setTimeout(function(){J(ee+se)},se);return qe=ee+se,ae},he=function(J){return clearTimeout(J)})}},Je={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(z){Je.isScrolling=!0,Ue.cancel(Je.i),z.autoScroll=Je,Je.interaction=z,Je.prevTime=Je.now(),Je.i=Ue.request(Je.scroll)},stop:function(){Je.isScrolling=!1,Je.interaction&&(Je.interaction.autoScroll=null),Ue.cancel(Je.i)},scroll:function(){var z=Je.interaction,D=z.interactable,G=z.element,W=z.prepared.name,J=D.options[W].autoScroll,ee=je(J.container,D,G),se=Je.now(),ae=(se-Je.prevTime)/1e3,de=J.speed*ae;if(de>=1){var Ee={x:Je.x*de,y:Je.y*de};if(Ee.x||Ee.y){var me=Ht(ee);pe.window(ee)?ee.scrollBy(Ee.x,Ee.y):ee&&(ee.scrollLeft+=Ee.x,ee.scrollTop+=Ee.y);var Oe=Ht(ee),Be={x:Oe.x-me.x,y:Oe.y-me.y};(Be.x||Be.y)&&D.fire({type:"autoscroll",target:G,interactable:D,delta:Be,interaction:z,container:ee})}Je.prevTime=se}Je.isScrolling&&(Ue.cancel(Je.i),Je.i=Ue.request(Je.scroll))},check:function(z,D){var G;return(G=z.options[D].autoScroll)==null?void 0:G.enabled},onInteractionMove:function(z){var D=z.interaction,G=z.pointer;if(D.interacting()&&Je.check(D.interactable,D.prepared.name))if(D.simulation)Je.x=Je.y=0;else{var W,J,ee,se,ae=D.interactable,de=D.element,Ee=D.prepared.name,me=ae.options[Ee].autoScroll,Oe=je(me.container,ae,de);if(pe.window(Oe))se=G.clientX<Je.margin,W=G.clientY<Je.margin,J=G.clientX>Oe.innerWidth-Je.margin,ee=G.clientY>Oe.innerHeight-Je.margin;else{var Be=Yt(Oe);se=G.clientX<Be.left+Je.margin,W=G.clientY<Be.top+Je.margin,J=G.clientX>Be.right-Je.margin,ee=G.clientY>Be.bottom-Je.margin}Je.x=J?1:se?-1:0,Je.y=ee?1:W?-1:0,Je.isScrolling||(Je.margin=me.margin,Je.speed=me.speed,Je.start(D))}}};function je(z,D,G){return(pe.string(z)?Ji(z,D,G):z)||_e(G)}function Ht(z){return pe.window(z)&&(z=window.document.body),{x:z.scrollLeft,y:z.scrollTop}}var Dt={id:"auto-scroll",install:function(z){var D=z.defaults,G=z.actions;z.autoScroll=Je,Je.now=function(){return z.now()},G.phaselessTypes.autoscroll=!0,D.perAction.autoScroll=Je.defaults},listeners:{"interactions:new":function(z){z.interaction.autoScroll=null},"interactions:destroy":function(z){z.interaction.autoScroll=null,Je.stop(),Je.interaction&&(Je.interaction=null)},"interactions:stop":Je.stop,"interactions:action-move":function(z){return Je.onInteractionMove(z)}}},ni=Dt;function mi(z,D){var G=!1;return function(){return G||(ce.console.warn(D),G=!0),z.apply(this,arguments)}}function Ai(z,D){return z.name=D.name,z.axis=D.axis,z.edges=D.edges,z}function xi(z){return pe.bool(z)?(this.options.styleCursor=z,this):z===null?(delete this.options.styleCursor,this):this.options.styleCursor}function ri(z){return pe.func(z)?(this.options.actionChecker=z,this):z===null?(delete this.options.actionChecker,this):this.options.actionChecker}var zt={id:"auto-start/interactableMethods",install:function(z){var D=z.Interactable;D.prototype.getAction=function(G,W,J,ee){var se=function(ae,de,Ee,me,Oe){var Be=ae.getRect(me),ut=de.buttons||{0:1,1:4,3:8,4:16}[de.button],at={action:null,interactable:ae,interaction:Ee,element:me,rect:Be,buttons:ut};return Oe.fire("auto-start:check",at),at.action}(this,W,J,ee,z);return this.options.actionChecker?this.options.actionChecker(G,W,se,this,ee,J):se},D.prototype.ignoreFrom=mi(function(G){return this._backCompatOption("ignoreFrom",G)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),D.prototype.allowFrom=mi(function(G){return this._backCompatOption("allowFrom",G)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),D.prototype.actionChecker=ri,D.prototype.styleCursor=xi}};function Ct(z,D,G,W,J){return D.testIgnoreAllow(D.options[z.name],G,W)&&D.options[z.name].enabled&&Wt(D,G,z,J)?z:null}function Zi(z,D,G,W,J,ee,se){for(var ae=0,de=W.length;ae<de;ae++){var Ee=W[ae],me=J[ae],Oe=Ee.getAction(D,G,z,me);if(Oe){var Be=Ct(Oe,Ee,me,ee,se);if(Be)return{action:Be,interactable:Ee,element:me}}}return{action:null,interactable:null,element:null}}function Pi(z,D,G,W,J){var ee=[],se=[],ae=W;function de(me){ee.push(me),se.push(ae)}for(;pe.element(ae);){ee=[],se=[],J.interactables.forEachMatch(ae,de);var Ee=Zi(z,D,G,ee,se,W,J);if(Ee.action&&!Ee.interactable.options[Ee.action.name].manualStart)return Ee;ae=Tt(ae)}return{action:null,interactable:null,element:null}}function zn(z,D,G){var W=D.action,J=D.interactable,ee=D.element;W=W||{name:null},z.interactable=J,z.element=ee,Ai(z.prepared,W),z.rect=J&&W.name?J.getRect(ee):null,qn(z,G),G.fire("autoStart:prepared",{interaction:z})}function Wt(z,D,G,W){var J=z.options,ee=J[G.name].max,se=J[G.name].maxPerElement,ae=W.autoStart.maxInteractions,de=0,Ee=0,me=0;if(!(ee&&se&&ae))return!1;for(var Oe=0,Be=W.interactions.list;Oe<Be.length;Oe++){var ut=Be[Oe],at=ut.prepared.name;if(ut.interacting()&&(++de>=ae||ut.interactable===z&&((Ee+=at===G.name?1:0)>=ee||ut.element===D&&(me++,at===G.name&&me>=se))))return!1}return ae>0}function tn(z,D){return pe.number(z)?(D.autoStart.maxInteractions=z,this):D.autoStart.maxInteractions}function vi(z,D,G){var W=G.autoStart.cursorElement;W&&W!==z&&(W.style.cursor=""),z.ownerDocument.documentElement.style.cursor=D,z.style.cursor=D,G.autoStart.cursorElement=D?z:null}function qn(z,D){var G=z.interactable,W=z.element,J=z.prepared;if(z.pointerType==="mouse"&&G&&G.options.styleCursor){var ee="";if(J.name){var se=G.options[J.name].cursorChecker;ee=pe.func(se)?se(J,G,W,z._interacting):D.actions.map[J.name].getCursor(J)}vi(z.element,ee||"",D)}else D.autoStart.cursorElement&&vi(D.autoStart.cursorElement,"",D)}var xl={id:"auto-start/base",before:["actions"],install:function(z){var D=z.interactStatic,G=z.defaults;z.usePlugin(zt),G.base.actionChecker=null,G.base.styleCursor=!0,wt(G.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),D.maxInteractions=function(W){return tn(W,z)},z.autoStart={maxInteractions:1/0,withinInteractionLimit:Wt,cursorElement:null}},listeners:{"interactions:down":function(z,D){var G=z.interaction,W=z.pointer,J=z.event,ee=z.eventTarget;G.interacting()||zn(G,Pi(G,W,J,ee,D),D)},"interactions:move":function(z,D){(function(G,W){var J=G.interaction,ee=G.pointer,se=G.event,ae=G.eventTarget;J.pointerType!=="mouse"||J.pointerIsDown||J.interacting()||zn(J,Pi(J,ee,se,ae,W),W)})(z,D),function(G,W){var J=G.interaction;if(J.pointerIsDown&&!J.interacting()&&J.pointerWasMoved&&J.prepared.name){W.fire("autoStart:before-start",G);var ee=J.interactable,se=J.prepared.name;se&&ee&&(ee.options[se].manualStart||!Wt(ee,J.element,J.prepared,W)?J.stop():(J.start(J.prepared,ee,J.element),qn(J,W)))}}(z,D)},"interactions:stop":function(z,D){var G=z.interaction,W=G.interactable;W&&W.options.styleCursor&&vi(G.element,"",D)}},maxInteractions:tn,withinInteractionLimit:Wt,validateAction:Ct},Aa=xl,ge={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(z,D){var G=z.interaction,W=z.eventTarget,J=z.dx,ee=z.dy;if(G.prepared.name==="drag"){var se=Math.abs(J),ae=Math.abs(ee),de=G.interactable.options.drag,Ee=de.startAxis,me=se>ae?"x":se<ae?"y":"xy";if(G.prepared.axis=de.lockAxis==="start"?me[0]:de.lockAxis,me!=="xy"&&Ee!=="xy"&&Ee!==me){G.prepared.name=null;for(var Oe=W,Be=function(at){if(at!==G.interactable){var yt=G.interactable.options.drag;if(!yt.manualStart&&at.testIgnoreAllow(yt,Oe,W)){var Et=at.getAction(G.downPointer,G.downEvent,G,Oe);if(Et&&Et.name==="drag"&&function(St,Nt){if(!Nt)return!1;var ti=Nt.options.drag.startAxis;return St==="xy"||ti==="xy"||ti===St}(me,at)&&Aa.validateAction(Et,at,Oe,W,D))return at}}};pe.element(Oe);){var ut=D.interactables.forEachMatch(Oe,Be);if(ut){G.prepared.name="drag",G.interactable=ut,G.element=Oe;break}Oe=Tt(Oe)}}}}}};function We(z){var D=z.prepared&&z.prepared.name;if(!D)return null;var G=z.interactable.options;return G[D].hold||G[D].delay}var ot={id:"auto-start/hold",install:function(z){var D=z.defaults;z.usePlugin(Aa),D.perAction.hold=0,D.perAction.delay=0},listeners:{"interactions:new":function(z){z.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(z){var D=z.interaction,G=We(D);G>0&&(D.autoStartHoldTimer=setTimeout(function(){D.start(D.prepared,D.interactable,D.element)},G))},"interactions:move":function(z){var D=z.interaction,G=z.duplicate;D.autoStartHoldTimer&&D.pointerWasMoved&&!G&&(clearTimeout(D.autoStartHoldTimer),D.autoStartHoldTimer=null)},"autoStart:before-start":function(z){var D=z.interaction;We(D)>0&&(D.prepared.name=null)}},getHoldDuration:We},It=ot,Fi={id:"auto-start",install:function(z){z.usePlugin(Aa),z.usePlugin(It),z.usePlugin(ge)}},_n=function(z){return/^(always|never|auto)$/.test(z)?(this.options.preventDefault=z,this):pe.bool(z)?(this.options.preventDefault=z?"always":"never",this):this.options.preventDefault};function En(z){var D=z.interaction,G=z.event;D.interactable&&D.interactable.checkAndPreventDefault(G)}var yr={id:"core/interactablePreventDefault",install:function(z){var D=z.Interactable;D.prototype.preventDefault=_n,D.prototype.checkAndPreventDefault=function(G){return function(W,J,ee){var se=W.options.preventDefault;if(se!=="never")if(se!=="always"){if(J.events.supportsPassive&&/^touch(start|move)$/.test(ee.type)){var ae=_e(ee.target).document,de=J.getDocOptions(ae);if(!de||!de.events||de.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(ee.type)||pe.element(ee.target)&&Se(ee.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||ee.preventDefault()}else ee.preventDefault()}(this,z,G)},z.interactions.docEvents.push({type:"dragstart",listener:function(G){for(var W=0,J=z.interactions.list;W<J.length;W++){var ee=J[W];if(ee.element&&(ee.element===G.target||lt(ee.element,G.target)))return void ee.interactable.checkAndPreventDefault(G)}}})},listeners:["down","move","up","cancel"].reduce(function(z,D){return z["interactions:".concat(D)]=En,z},{})};function Tu(z,D){if(D.phaselessTypes[z])return!0;for(var G in D.map)if(z.indexOf(G)===0&&z.substr(G.length)in D.phases)return!0;return!1}function Kh(z){var D={};for(var G in z){var W=z[G];pe.plainObject(W)?D[G]=Kh(W):pe.array(W)?D[G]=o(W):D[G]=W}return D}var Cs=function(){function z(D){u(this,z),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=D,this.result=Xh(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return g(z,[{key:"start",value:function(D,G){var W,J,ee=D.phase,se=this.interaction,ae=function(Ee){var me=Ee.interactable.options[Ee.prepared.name],Oe=me.modifiers;return Oe&&Oe.length?Oe:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(Be){var ut=me[Be];return ut&&ut.enabled&&{options:ut,methods:ut._methods}}).filter(function(Be){return!!Be})}(se);this.prepareStates(ae),this.startEdges=wt({},se.edges),this.edges=wt({},this.startEdges),this.startOffset=(W=se.rect,J=G,W?{left:J.x-W.left,top:J.y-W.top,right:W.right-J.x,bottom:W.bottom-J.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var de=this.fillArg({phase:ee,pageCoords:G,preEnd:!1});return this.result=Xh(),this.startAll(de),this.result=this.setAll(de)}},{key:"fillArg",value:function(D){var G=this.interaction;return D.interaction=G,D.interactable=G.interactable,D.element=G.element,D.rect||(D.rect=G.rect),D.edges||(D.edges=this.startEdges),D.startOffset=this.startOffset,D}},{key:"startAll",value:function(D){for(var G=0,W=this.states;G<W.length;G++){var J=W[G];J.methods.start&&(D.state=J,J.methods.start(D))}}},{key:"setAll",value:function(D){var G=D.phase,W=D.preEnd,J=D.skipModifiers,ee=D.rect,se=D.edges;D.coords=wt({},D.pageCoords),D.rect=wt({},ee),D.edges=wt({},se);for(var ae=J?this.states.slice(J):this.states,de=Xh(D.coords,D.rect),Ee=0;Ee<ae.length;Ee++){var me,Oe=ae[Ee],Be=Oe.options,ut=wt({},D.coords),at=null;(me=Oe.methods)!=null&&me.set&&this.shouldDo(Be,W,G)&&(D.state=Oe,at=Oe.methods.set(D),Ho(D.edges,D.rect,{x:D.coords.x-ut.x,y:D.coords.y-ut.y})),de.eventProps.push(at)}wt(this.edges,D.edges),de.delta.x=D.coords.x-D.pageCoords.x,de.delta.y=D.coords.y-D.pageCoords.y,de.rectDelta.left=D.rect.left-ee.left,de.rectDelta.right=D.rect.right-ee.right,de.rectDelta.top=D.rect.top-ee.top,de.rectDelta.bottom=D.rect.bottom-ee.bottom;var yt=this.result.coords,Et=this.result.rect;if(yt&&Et){var St=de.rect.left!==Et.left||de.rect.right!==Et.right||de.rect.top!==Et.top||de.rect.bottom!==Et.bottom;de.changed=St||yt.x!==de.coords.x||yt.y!==de.coords.y}return de}},{key:"applyToInteraction",value:function(D){var G=this.interaction,W=D.phase,J=G.coords.cur,ee=G.coords.start,se=this.result,ae=this.startDelta,de=se.delta;W==="start"&&wt(this.startDelta,se.delta);for(var Ee=0,me=[[ee,ae],[J,de]];Ee<me.length;Ee++){var Oe=me[Ee],Be=Oe[0],ut=Oe[1];Be.page.x+=ut.x,Be.page.y+=ut.y,Be.client.x+=ut.x,Be.client.y+=ut.y}var at=this.result.rectDelta,yt=D.rect||G.rect;yt.left+=at.left,yt.right+=at.right,yt.top+=at.top,yt.bottom+=at.bottom,yt.width=yt.right-yt.left,yt.height=yt.bottom-yt.top}},{key:"setAndApply",value:function(D){var G=this.interaction,W=D.phase,J=D.preEnd,ee=D.skipModifiers,se=this.setAll(this.fillArg({preEnd:J,phase:W,pageCoords:D.modifiedCoords||G.coords.cur.page}));if(this.result=se,!se.changed&&(!ee||ee<this.states.length)&&G.interacting())return!1;if(D.modifiedCoords){var ae=G.coords.cur.page,de={x:D.modifiedCoords.x-ae.x,y:D.modifiedCoords.y-ae.y};se.coords.x+=de.x,se.coords.y+=de.y,se.delta.x+=de.x,se.delta.y+=de.y}this.applyToInteraction(D)}},{key:"beforeEnd",value:function(D){var G=D.interaction,W=D.event,J=this.states;if(J&&J.length){for(var ee=!1,se=0;se<J.length;se++){var ae=J[se];D.state=ae;var de=ae.options,Ee=ae.methods,me=Ee.beforeEnd&&Ee.beforeEnd(D);if(me)return this.endResult=me,!1;ee=ee||!ee&&this.shouldDo(de,!0,D.phase,!0)}ee&&G.move({event:W,preEnd:!0})}}},{key:"stop",value:function(D){var G=D.interaction;if(this.states&&this.states.length){var W=wt({states:this.states,interactable:G.interactable,element:G.element,rect:null},D);this.fillArg(W);for(var J=0,ee=this.states;J<ee.length;J++){var se=ee[J];W.state=se,se.methods.stop&&se.methods.stop(W)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(D){this.states=[];for(var G=0;G<D.length;G++){var W=D[G],J=W.options,ee=W.methods,se=W.name;this.states.push({options:J,methods:ee,index:G,name:se})}return this.states}},{key:"restoreInteractionCoords",value:function(D){var G=D.interaction,W=G.coords,J=G.rect,ee=G.modification;if(ee.result){for(var se=ee.startDelta,ae=ee.result,de=ae.delta,Ee=ae.rectDelta,me=0,Oe=[[W.start,se],[W.cur,de]];me<Oe.length;me++){var Be=Oe[me],ut=Be[0],at=Be[1];ut.page.x-=at.x,ut.page.y-=at.y,ut.client.x-=at.x,ut.client.y-=at.y}J.left-=Ee.left,J.right-=Ee.right,J.top-=Ee.top,J.bottom-=Ee.bottom}}},{key:"shouldDo",value:function(D,G,W,J){return!(!D||D.enabled===!1||J&&!D.endOnly||D.endOnly&&!G||W==="start"&&!D.setStart)}},{key:"copyFrom",value:function(D){this.startOffset=D.startOffset,this.startDelta=D.startDelta,this.startEdges=D.startEdges,this.edges=D.edges,this.states=D.states.map(function(G){return Kh(G)}),this.result=Xh(wt({},D.result.coords),wt({},D.result.rect))}},{key:"destroy",value:function(){for(var D in this)this[D]=null}}]),z}();function Xh(z,D){return{rect:D,coords:z,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Sl(z,D){var G=z.defaults,W={start:z.start,set:z.set,beforeEnd:z.beforeEnd,stop:z.stop},J=function(ee){var se=ee||{};for(var ae in se.enabled=se.enabled!==!1,G)ae in se||(se[ae]=G[ae]);var de={options:se,methods:W,name:D,enable:function(){return se.enabled=!0,de},disable:function(){return se.enabled=!1,de}};return de};return D&&typeof D=="string"&&(J._defaults=G,J._methods=W),J}function Mu(z){var D=z.iEvent,G=z.interaction.modification.result;G&&(D.modifiers=G.eventProps)}var Qh={id:"modifiers/base",before:["actions"],install:function(z){z.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(z){var D=z.interaction;D.modification=new Cs(D)},"interactions:before-action-start":function(z){var D=z.interaction,G=z.interaction.modification;G.start(z,D.coords.start.page),D.edges=G.edges,G.applyToInteraction(z)},"interactions:before-action-move":function(z){var D=z.interaction,G=D.modification,W=G.setAndApply(z);return D.edges=G.edges,W},"interactions:before-action-end":function(z){var D=z.interaction,G=D.modification,W=G.beforeEnd(z);return D.edges=G.startEdges,W},"interactions:action-start":Mu,"interactions:action-move":Mu,"interactions:action-end":Mu,"interactions:after-action-start":function(z){return z.interaction.modification.restoreInteractionCoords(z)},"interactions:after-action-move":function(z){return z.interaction.modification.restoreInteractionCoords(z)},"interactions:stop":function(z){return z.interaction.modification.stop(z)}}},Yg=Qh,Kg={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Sc=function(z){E(G,z);var D=F(G);function G(W,J,ee,se,ae,de,Ee){var me;u(this,G),(me=D.call(this,W)).relatedTarget=null,me.screenX=void 0,me.screenY=void 0,me.button=void 0,me.buttons=void 0,me.ctrlKey=void 0,me.shiftKey=void 0,me.altKey=void 0,me.metaKey=void 0,me.page=void 0,me.client=void 0,me.delta=void 0,me.rect=void 0,me.x0=void 0,me.y0=void 0,me.t0=void 0,me.dt=void 0,me.duration=void 0,me.clientX0=void 0,me.clientY0=void 0,me.velocity=void 0,me.speed=void 0,me.swipe=void 0,me.axes=void 0,me.preEnd=void 0,ae=ae||W.element;var Oe=W.interactable,Be=(Oe&&Oe.options||Kg).deltaSource,ut=wo(Oe,ae,ee),at=se==="start",yt=se==="end",Et=at?R(me):W.prevEvent,St=at?W.coords.start:yt?{page:Et.page,client:Et.client,timeStamp:W.coords.cur.timeStamp}:W.coords.cur;return me.page=wt({},St.page),me.client=wt({},St.client),me.rect=wt({},W.rect),me.timeStamp=St.timeStamp,yt||(me.page.x-=ut.x,me.page.y-=ut.y,me.client.x-=ut.x,me.client.y-=ut.y),me.ctrlKey=J.ctrlKey,me.altKey=J.altKey,me.shiftKey=J.shiftKey,me.metaKey=J.metaKey,me.button=J.button,me.buttons=J.buttons,me.target=ae,me.currentTarget=ae,me.preEnd=de,me.type=Ee||ee+(se||""),me.interactable=Oe,me.t0=at?W.pointers[W.pointers.length-1].downTime:Et.t0,me.x0=W.coords.start.page.x-ut.x,me.y0=W.coords.start.page.y-ut.y,me.clientX0=W.coords.start.client.x-ut.x,me.clientY0=W.coords.start.client.y-ut.y,me.delta=at||yt?{x:0,y:0}:{x:me[Be].x-Et[Be].x,y:me[Be].y-Et[Be].y},me.dt=W.coords.delta.timeStamp,me.duration=me.timeStamp-me.t0,me.velocity=wt({},W.coords.velocity[Be]),me.speed=mn(me.velocity.x,me.velocity.y),me.swipe=yt||se==="inertiastart"?me.getSwipe():null,me}return g(G,[{key:"getSwipe",value:function(){var W=this._interaction;if(W.prevEvent.speed<600||this.timeStamp-W.prevEvent.timeStamp>150)return null;var J=180*Math.atan2(W.prevEvent.velocityY,W.prevEvent.velocityX)/Math.PI;J<0&&(J+=360);var ee=112.5<=J&&J<247.5,se=202.5<=J&&J<337.5;return{up:se,down:!se&&22.5<=J&&J<157.5,left:ee,right:!ee&&(292.5<=J||J<67.5),angle:J,speed:W.prevEvent.speed,velocity:{x:W.prevEvent.velocityX,y:W.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),G}(a);Object.defineProperties(Sc.prototype,{pageX:{get:function(){return this.page.x},set:function(z){this.page.x=z}},pageY:{get:function(){return this.page.y},set:function(z){this.page.y=z}},clientX:{get:function(){return this.client.x},set:function(z){this.client.x=z}},clientY:{get:function(){return this.client.y},set:function(z){this.client.y=z}},dx:{get:function(){return this.delta.x},set:function(z){this.delta.x=z}},dy:{get:function(){return this.delta.y},set:function(z){this.delta.y=z}},velocityX:{get:function(){return this.velocity.x},set:function(z){this.velocity.x=z}},velocityY:{get:function(){return this.velocity.y},set:function(z){this.velocity.y=z}}});var rE=g(function z(D,G,W,J,ee){u(this,z),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=D,this.pointer=G,this.event=W,this.downTime=J,this.downTarget=ee}),$3=function(z){return z.interactable="",z.element="",z.prepared="",z.pointerIsDown="",z.pointerWasMoved="",z._proxy="",z}({}),Xg=function(z){return z.start="",z.move="",z.end="",z.stop="",z.interacting="",z}({}),Qg=0,sE=function(){function z(D){var G=this,W=D.pointerType,J=D.scopeFire;u(this,z),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=mi(function(me){this.move(me)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Qg++,this._scopeFire=J,this.pointerType=W;var ee=this;this._proxy={};var se=function(me){Object.defineProperty(G._proxy,me,{get:function(){return ee[me]}})};for(var ae in $3)se(ae);var de=function(me){Object.defineProperty(G._proxy,me,{value:function(){return ee[me].apply(ee,arguments)}})};for(var Ee in Xg)de(Ee);this._scopeFire("interactions:new",{interaction:this})}return g(z,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(D,G,W){var J=this.updatePointer(D,G,W,!0),ee=this.pointers[J];this._scopeFire("interactions:down",{pointer:D,event:G,eventTarget:W,pointerIndex:J,pointerInfo:ee,type:"down",interaction:this})}},{key:"start",value:function(D,G,W){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(D.name==="gesture"?2:1)||!G.options[D.name].enabled)&&(Ai(this.prepared,D),this.interactable=G,this.element=W,this.rect=G.getRect(W),this.edges=this.prepared.edges?wt({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(D,G,W){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(D,G,W,!1);var J,ee,se=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(J=this.coords.cur.client.x-this.coords.start.client.x,ee=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=mn(J,ee)>this.pointerMoveTolerance);var ae,de,Ee,me=this.getPointerIndex(D),Oe={pointer:D,pointerIndex:me,pointerInfo:this.pointers[me],event:G,type:"move",eventTarget:W,dx:J,dy:ee,duplicate:se,interaction:this};se||(ae=this.coords.velocity,de=this.coords.delta,Ee=Math.max(de.timeStamp/1e3,.001),ae.page.x=de.page.x/Ee,ae.page.y=de.page.y/Ee,ae.client.x=de.client.x/Ee,ae.client.y=de.client.y/Ee,ae.timeStamp=Ee),this._scopeFire("interactions:move",Oe),se||this.simulation||(this.interacting()&&(Oe.type=null,this.move(Oe)),this.pointerWasMoved&&Ni(this.coords.prev,this.coords.cur))}},{key:"move",value:function(D){D&&D.event||us(this.coords.delta),(D=wt({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},D||{})).phase="move",this._doPhase(D)}},{key:"pointerUp",value:function(D,G,W,J){var ee=this.getPointerIndex(D);ee===-1&&(ee=this.updatePointer(D,G,W,!1));var se=/cancel$/i.test(G.type)?"cancel":"up";this._scopeFire("interactions:".concat(se),{pointer:D,pointerIndex:ee,pointerInfo:this.pointers[ee],event:G,eventTarget:W,type:se,curEventTarget:J,interaction:this}),this.simulation||this.end(G),this.removePointer(D,G)}},{key:"documentBlur",value:function(D){this.end(D),this._scopeFire("interactions:blur",{event:D,type:"blur",interaction:this})}},{key:"end",value:function(D){var G;this._ending=!0,D=D||this._latestPointer.event,this.interacting()&&(G=this._doPhase({event:D,interaction:this,phase:"end"})),this._ending=!1,G===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(D){var G=qo(D);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:l(this.pointers,function(W){return W.id===G})}},{key:"getPointerInfo",value:function(D){return this.pointers[this.getPointerIndex(D)]}},{key:"updatePointer",value:function(D,G,W,J){var ee,se,ae,de=qo(D),Ee=this.getPointerIndex(D),me=this.pointers[Ee];return J=J!==!1&&(J||/(down|start)$/i.test(G.type)),me?me.pointer=D:(me=new rE(de,D,G,null,null),Ee=this.pointers.length,this.pointers.push(me)),Eu(this.coords.cur,this.pointers.map(function(Oe){return Oe.pointer}),this._now()),ee=this.coords.delta,se=this.coords.prev,ae=this.coords.cur,ee.page.x=ae.page.x-se.page.x,ee.page.y=ae.page.y-se.page.y,ee.client.x=ae.client.x-se.client.x,ee.client.y=ae.client.y-se.client.y,ee.timeStamp=ae.timeStamp-se.timeStamp,J&&(this.pointerIsDown=!0,me.downTime=this.coords.cur.timeStamp,me.downTarget=W,ci(this.downPointer,D),this.interacting()||(Ni(this.coords.start,this.coords.cur),Ni(this.coords.prev,this.coords.cur),this.downEvent=G,this.pointerWasMoved=!1)),this._updateLatestPointer(D,G,W),this._scopeFire("interactions:update-pointer",{pointer:D,event:G,eventTarget:W,down:J,pointerInfo:me,pointerIndex:Ee,interaction:this}),Ee}},{key:"removePointer",value:function(D,G){var W=this.getPointerIndex(D);if(W!==-1){var J=this.pointers[W];this._scopeFire("interactions:remove-pointer",{pointer:D,event:G,eventTarget:null,pointerIndex:W,pointerInfo:J,interaction:this}),this.pointers.splice(W,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(D,G,W){this._latestPointer.pointer=D,this._latestPointer.event=G,this._latestPointer.eventTarget=W}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(D,G,W,J){return new Sc(this,D,this.prepared.name,G,this.element,W,J)}},{key:"_fireEvent",value:function(D){var G;(G=this.interactable)==null||G.fire(D),(!this.prevEvent||D.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=D)}},{key:"_doPhase",value:function(D){var G=D.event,W=D.phase,J=D.preEnd,ee=D.type,se=this.rect;if(se&&W==="move"&&(Ho(this.edges,se,this.coords.delta[this.interactable.options.deltaSource]),se.width=se.right-se.left,se.height=se.bottom-se.top),this._scopeFire("interactions:before-action-".concat(W),D)===!1)return!1;var ae=D.iEvent=this._createPreparedEvent(G,W,J,ee);return this._scopeFire("interactions:action-".concat(W),D),W==="start"&&(this.prevEvent=ae),this._fireEvent(ae),this._scopeFire("interactions:after-action-".concat(W),D),!0}},{key:"_now",value:function(){return Date.now()}}]),z}();function k3(z){mp(z.interaction)}function mp(z){if(!function(G){return!(!G.offset.pending.x&&!G.offset.pending.y)}(z))return!1;var D=z.offset.pending;return yp(z.coords.cur,D),yp(z.coords.delta,D),Ho(z.edges,z.rect,D),D.x=0,D.y=0,!0}function ev(z){var D=z.x,G=z.y;this.offset.pending.x+=D,this.offset.pending.y+=G,this.offset.total.x+=D,this.offset.total.y+=G}function yp(z,D){var G=z.page,W=z.client,J=D.x,ee=D.y;G.x+=J,G.y+=ee,W.x+=J,W.y+=ee}Xg.offsetBy="";var ed={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(z){z.Interaction.prototype.offsetBy=ev},listeners:{"interactions:new":function(z){z.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(z){return function(D){D.pointerIsDown&&(yp(D.coords.cur,D.offset.total),D.offset.pending.x=0,D.offset.pending.y=0)}(z.interaction)},"interactions:before-action-start":k3,"interactions:before-action-move":k3,"interactions:before-action-end":function(z){var D=z.interaction;if(mp(D))return D.move({offset:!0}),D.end(),!1},"interactions:stop":function(z){var D=z.interaction;D.offset.total.x=0,D.offset.total.y=0,D.offset.pending.x=0,D.offset.pending.y=0}}},$u=ed,C3=function(){function z(D){u(this,z),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=D}return g(z,[{key:"start",value:function(D){var G=this.interaction,W=td(G);if(!W||!W.enabled)return!1;var J=G.coords.velocity.client,ee=mn(J.x,J.y),se=this.modification||(this.modification=new Cs(G));if(se.copyFrom(G.modification),this.t0=G._now(),this.allowResume=W.allowResume,this.v0=ee,this.currentOffset={x:0,y:0},this.startCoords=G.coords.cur.page,this.modifierArg=se.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-G.coords.cur.timeStamp<50&&ee>W.minSpeed&&ee>W.endSpeed)this.startInertia();else{if(se.result=se.setAll(this.modifierArg),!se.result.changed)return!1;this.startSmoothEnd()}return G.modification.result.rect=null,G.offsetBy(this.targetOffset),G._doPhase({interaction:G,event:D,phase:"inertiastart"}),G.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),G.modification.result.rect=null,this.active=!0,G.simulation=this,!0}},{key:"startInertia",value:function(){var D=this,G=this.interaction.coords.velocity.client,W=td(this.interaction),J=W.resistance,ee=-Math.log(W.endSpeed/this.v0)/J;this.targetOffset={x:(G.x-ee)/J,y:(G.y-ee)/J},this.te=ee,this.lambda_v0=J/this.v0,this.one_ve_v0=1-W.endSpeed/this.v0;var se=this.modification,ae=this.modifierArg;ae.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},se.result=se.setAll(ae),se.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+se.result.delta.x,y:this.targetOffset.y+se.result.delta.y}),this.onNextFrame(function(){return D.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var D=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return D.smoothEndTick()})}},{key:"onNextFrame",value:function(D){var G=this;this.timeout=Ue.request(function(){G.active&&D()})}},{key:"inertiaTick",value:function(){var D,G,W,J,ee,se,ae,de=this,Ee=this.interaction,me=td(Ee).resistance,Oe=(Ee._now()-this.t0)/1e3;if(Oe<this.te){var Be,ut=1-(Math.exp(-me*Oe)-this.lambda_v0)/this.one_ve_v0;this.isModified?(D=0,G=0,W=this.targetOffset.x,J=this.targetOffset.y,ee=this.modifiedOffset.x,se=this.modifiedOffset.y,Be={x:id(ae=ut,D,W,ee),y:id(ae,G,J,se)}):Be={x:this.targetOffset.x*ut,y:this.targetOffset.y*ut};var at={x:Be.x-this.currentOffset.x,y:Be.y-this.currentOffset.y};this.currentOffset.x+=at.x,this.currentOffset.y+=at.y,Ee.offsetBy(at),Ee.move(),this.onNextFrame(function(){return de.inertiaTick()})}else Ee.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var D=this,G=this.interaction,W=G._now()-this.t0,J=td(G).smoothEndDuration;if(W<J){var ee={x:L1(W,0,this.targetOffset.x,J),y:L1(W,0,this.targetOffset.y,J)},se={x:ee.x-this.currentOffset.x,y:ee.y-this.currentOffset.y};this.currentOffset.x+=se.x,this.currentOffset.y+=se.y,G.offsetBy(se),G.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return D.smoothEndTick()})}else G.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(D){var G=D.pointer,W=D.event,J=D.eventTarget,ee=this.interaction;ee.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),ee.updatePointer(G,W,J,!0),ee._doPhase({interaction:ee,event:W,phase:"resume"}),Ni(ee.coords.prev,ee.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ue.cancel(this.timeout)}}]),z}();function td(z){var D=z.interactable,G=z.prepared;return D&&D.options&&G.name&&D.options[G.name].inertia}var A3={id:"inertia",before:["modifiers","actions"],install:function(z){var D=z.defaults;z.usePlugin($u),z.usePlugin(Yg),z.actions.phases.inertiastart=!0,z.actions.phases.resume=!0,D.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(z){var D=z.interaction;D.inertia=new C3(D)},"interactions:before-action-end":function(z){var D=z.interaction,G=z.event;return(!D._interacting||D.simulation||!D.inertia.start(G))&&null},"interactions:down":function(z){var D=z.interaction,G=z.eventTarget,W=D.inertia;if(W.active)for(var J=G;pe.element(J);){if(J===D.element){W.resume(z);break}J=Tt(J)}},"interactions:stop":function(z){var D=z.interaction.inertia;D.active&&D.stop()},"interactions:before-action-resume":function(z){var D=z.interaction.modification;D.stop(z),D.start(z,z.interaction.coords.cur.page),D.applyToInteraction(z)},"interactions:before-action-inertiastart":function(z){return z.interaction.modification.setAndApply(z)},"interactions:action-resume":Mu,"interactions:action-inertiastart":Mu,"interactions:after-action-inertiastart":function(z){return z.interaction.modification.restoreInteractionCoords(z)},"interactions:after-action-resume":function(z){return z.interaction.modification.restoreInteractionCoords(z)}}};function id(z,D,G,W){var J=1-z;return J*J*D+2*J*z*G+z*z*W}function L1(z,D,G,W){return-G*(z/=W)*(z-2)+D}var gp=A3;function _l(z,D){for(var G=0;G<D.length;G++){var W=D[G];if(z.immediatePropagationStopped)break;W(z)}}var z1=function(){function z(D){u(this,z),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=wt({},D||{})}return g(z,[{key:"fire",value:function(D){var G,W=this.global;(G=this.types[D.type])&&_l(D,G),!D.propagationStopped&&W&&(G=W[D.type])&&_l(D,G)}},{key:"on",value:function(D,G){var W=Ci(D,G);for(D in W)this.types[D]=r(this.types[D]||[],W[D])}},{key:"off",value:function(D,G){var W=Ci(D,G);for(D in W){var J=this.types[D];if(J&&J.length)for(var ee=0,se=W[D];ee<se.length;ee++){var ae=se[ee],de=J.indexOf(ae);de!==-1&&J.splice(de,1)}}}},{key:"getRect",value:function(D){return null}}]),z}(),j1=function(){function z(D){u(this,z),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=D,ci(this,D)}return g(z,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),z}();function nd(z){return pe.object(z)?{capture:!!z.capture,passive:!!z.passive}:{capture:!!z,passive:!1}}function ku(z,D){return z===D||(typeof z=="boolean"?!!D.capture===z&&!D.passive:!!z.capture==!!D.capture&&!!z.passive==!!D.passive)}var F1={id:"events",install:function(z){var D,G=[],W={},J=[],ee={add:se,remove:ae,addDelegate:function(me,Oe,Be,ut,at){var yt=nd(at);if(!W[Be]){W[Be]=[];for(var Et=0;Et<J.length;Et++){var St=J[Et];se(St,Be,de),se(St,Be,Ee,!0)}}var Nt=W[Be],ti=d(Nt,function(yi){return yi.selector===me&&yi.context===Oe});ti||(ti={selector:me,context:Oe,listeners:[]},Nt.push(ti)),ti.listeners.push({func:ut,options:yt})},removeDelegate:function(me,Oe,Be,ut,at){var yt,Et=nd(at),St=W[Be],Nt=!1;if(St)for(yt=St.length-1;yt>=0;yt--){var ti=St[yt];if(ti.selector===me&&ti.context===Oe){for(var yi=ti.listeners,Jt=yi.length-1;Jt>=0;Jt--){var Qt=yi[Jt];if(Qt.func===ut&&ku(Qt.options,Et)){yi.splice(Jt,1),yi.length||(St.splice(yt,1),ae(Oe,Be,de),ae(Oe,Be,Ee,!0)),Nt=!0;break}}if(Nt)break}}},delegateListener:de,delegateUseCapture:Ee,delegatedEvents:W,documents:J,targets:G,supportsOptions:!1,supportsPassive:!1};function se(me,Oe,Be,ut){if(me.addEventListener){var at=nd(ut),yt=d(G,function(Et){return Et.eventTarget===me});yt||(yt={eventTarget:me,events:{}},G.push(yt)),yt.events[Oe]||(yt.events[Oe]=[]),d(yt.events[Oe],function(Et){return Et.func===Be&&ku(Et.options,at)})||(me.addEventListener(Oe,Be,ee.supportsOptions?at:at.capture),yt.events[Oe].push({func:Be,options:at}))}}function ae(me,Oe,Be,ut){if(me.addEventListener&&me.removeEventListener){var at=l(G,function(Qn){return Qn.eventTarget===me}),yt=G[at];if(yt&&yt.events)if(Oe!=="all"){var Et=!1,St=yt.events[Oe];if(St){if(Be==="all"){for(var Nt=St.length-1;Nt>=0;Nt--){var ti=St[Nt];ae(me,Oe,ti.func,ti.options)}return}for(var yi=nd(ut),Jt=0;Jt<St.length;Jt++){var Qt=St[Jt];if(Qt.func===Be&&ku(Qt.options,yi)){me.removeEventListener(Oe,Be,ee.supportsOptions?yi:yi.capture),St.splice(Jt,1),St.length===0&&(delete yt.events[Oe],Et=!0);break}}}Et&&!Object.keys(yt.events).length&&G.splice(at,1)}else for(Oe in yt.events)yt.events.hasOwnProperty(Oe)&&ae(me,Oe,"all")}}function de(me,Oe){for(var Be=nd(Oe),ut=new j1(me),at=W[me.type],yt=c(me)[0],Et=yt;pe.element(Et);){for(var St=0;St<at.length;St++){var Nt=at[St],ti=Nt.selector,yi=Nt.context;if(Se(Et,ti)&&lt(yi,yt)&&lt(yi,Et)){var Jt=Nt.listeners;ut.currentTarget=Et;for(var Qt=0;Qt<Jt.length;Qt++){var Qn=Jt[Qt];ku(Qn.options,Be)&&Qn.func(ut)}}}Et=Tt(Et)}}function Ee(me){return de(me,!0)}return(D=z.document)==null||D.createElement("div").addEventListener("test",null,{get capture(){return ee.supportsOptions=!0},get passive(){return ee.supportsPassive=!0}}),z.events=ee,ee}},U1={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(z){for(var D=0,G=U1.methodOrder;D<G.length;D++){var W=G[D],J=U1[W](z);if(J)return J}return null},simulationResume:function(z){var D=z.pointerType,G=z.eventType,W=z.eventTarget,J=z.scope;if(!/down|start/i.test(G))return null;for(var ee=0,se=J.interactions.list;ee<se.length;ee++){var ae=se[ee],de=W;if(ae.simulation&&ae.simulation.allowResume&&ae.pointerType===D)for(;de;){if(de===ae.element)return ae;de=Tt(de)}}return null},mouseOrPen:function(z){var D,G=z.pointerId,W=z.pointerType,J=z.eventType,ee=z.scope;if(W!=="mouse"&&W!=="pen")return null;for(var se=0,ae=ee.interactions.list;se<ae.length;se++){var de=ae[se];if(de.pointerType===W){if(de.simulation&&!hs(de,G))continue;if(de.interacting())return de;D||(D=de)}}if(D)return D;for(var Ee=0,me=ee.interactions.list;Ee<me.length;Ee++){var Oe=me[Ee];if(!(Oe.pointerType!==W||/down/i.test(J)&&Oe.simulation))return Oe}return null},hasPointer:function(z){for(var D=z.pointerId,G=0,W=z.scope.interactions.list;G<W.length;G++){var J=W[G];if(hs(J,D))return J}return null},idle:function(z){for(var D=z.pointerType,G=0,W=z.scope.interactions.list;G<W.length;G++){var J=W[G];if(J.pointers.length===1){var ee=J.interactable;if(ee&&(!ee.options.gesture||!ee.options.gesture.enabled))continue}else if(J.pointers.length>=2)continue;if(!J.interacting()&&D===J.pointerType)return J}return null}};function hs(z,D){return z.pointers.some(function(G){return G.id===D})}var Cu=U1,rd=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function sd(z,D){return function(G){var W=D.interactions.list,J=x(G),ee=c(G),se=ee[0],ae=ee[1],de=[];if(/^touch/.test(G.type)){D.prevTouchTime=D.now();for(var Ee=0,me=G.changedTouches;Ee<me.length;Ee++){var Oe=me[Ee],Be={pointer:Oe,pointerId:qo(Oe),pointerType:J,eventType:G.type,eventTarget:se,curEventTarget:ae,scope:D},ut=O3(Be);de.push([Be.pointer,Be.eventTarget,Be.curEventTarget,ut])}}else{var at=!1;if(!Ve.supportsPointerEvent&&/mouse/.test(G.type)){for(var yt=0;yt<W.length&&!at;yt++)at=W[yt].pointerType!=="mouse"&&W[yt].pointerIsDown;at=at||D.now()-D.prevTouchTime<500||G.timeStamp===0}if(!at){var Et={pointer:G,pointerId:qo(G),pointerType:J,eventType:G.type,curEventTarget:ae,eventTarget:se,scope:D},St=O3(Et);de.push([Et.pointer,Et.eventTarget,Et.curEventTarget,St])}}for(var Nt=0;Nt<de.length;Nt++){var ti=de[Nt],yi=ti[0],Jt=ti[1],Qt=ti[2];ti[3][z](yi,G,Jt,Qt)}}}function O3(z){var D=z.pointerType,G=z.scope,W={interaction:Cu.search(z),searchDetails:z};return G.fire("interactions:find",W),W.interaction||G.interactions.new({pointerType:D})}function vp(z,D){var G=z.doc,W=z.scope,J=z.options,ee=W.interactions.docEvents,se=W.events,ae=se[D];for(var de in W.browser.isIOS&&!J.events&&(J.events={passive:!1}),se.delegatedEvents)ae(G,de,se.delegateListener),ae(G,de,se.delegateUseCapture,!0);for(var Ee=J&&J.events,me=0;me<ee.length;me++){var Oe=ee[me];ae(G,Oe.type,Oe.listener,Ee)}}var tv={id:"core/interactions",install:function(z){for(var D={},G=0;G<rd.length;G++){var W=rd[G];D[W]=sd(W,z)}var J,ee=Ve.pEventTypes;function se(){for(var ae=0,de=z.interactions.list;ae<de.length;ae++){var Ee=de[ae];if(Ee.pointerIsDown&&Ee.pointerType==="touch"&&!Ee._interacting)for(var me=function(){var ut=Be[Oe];z.documents.some(function(at){return lt(at.doc,ut.downTarget)})||Ee.removePointer(ut.pointer,ut.event)},Oe=0,Be=Ee.pointers;Oe<Be.length;Oe++)me()}}(J=Me.PointerEvent?[{type:ee.down,listener:se},{type:ee.down,listener:D.pointerDown},{type:ee.move,listener:D.pointerMove},{type:ee.up,listener:D.pointerUp},{type:ee.cancel,listener:D.pointerUp}]:[{type:"mousedown",listener:D.pointerDown},{type:"mousemove",listener:D.pointerMove},{type:"mouseup",listener:D.pointerUp},{type:"touchstart",listener:se},{type:"touchstart",listener:D.pointerDown},{type:"touchmove",listener:D.pointerMove},{type:"touchend",listener:D.pointerUp},{type:"touchcancel",listener:D.pointerUp}]).push({type:"blur",listener:function(ae){for(var de=0,Ee=z.interactions.list;de<Ee.length;de++)Ee[de].documentBlur(ae)}}),z.prevTouchTime=0,z.Interaction=function(ae){E(Ee,ae);var de=F(Ee);function Ee(){return u(this,Ee),de.apply(this,arguments)}return g(Ee,[{key:"pointerMoveTolerance",get:function(){return z.interactions.pointerMoveTolerance},set:function(me){z.interactions.pointerMoveTolerance=me}},{key:"_now",value:function(){return z.now()}}]),Ee}(sE),z.interactions={list:[],new:function(ae){ae.scopeFire=function(Ee,me){return z.fire(Ee,me)};var de=new z.Interaction(ae);return z.interactions.list.push(de),de},listeners:D,docEvents:J,pointerMoveTolerance:1},z.usePlugin(yr)},listeners:{"scope:add-document":function(z){return vp(z,"add")},"scope:remove-document":function(z){return vp(z,"remove")},"interactable:unset":function(z,D){for(var G=z.interactable,W=D.interactions.list.length-1;W>=0;W--){var J=D.interactions.list[W];J.interactable===G&&(J.stop(),D.fire("interactions:destroy",{interaction:J}),J.destroy(),D.interactions.list.length>2&&D.interactions.list.splice(W,1))}}},onDocSignal:vp,doOnInteractions:sd,methodNames:rd},bp=tv,Bo=function(z){return z[z.On=0]="On",z[z.Off=1]="Off",z}(Bo||{}),I3=function(){function z(D,G,W,J){u(this,z),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new z1,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=G.actions,this.target=D,this._context=G.context||W,this._win=_e(hi(D)?this._context:D),this._doc=this._win.document,this._scopeEvents=J,this.set(G)}return g(z,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(D,G){return pe.func(G.onstart)&&this.on("".concat(D,"start"),G.onstart),pe.func(G.onmove)&&this.on("".concat(D,"move"),G.onmove),pe.func(G.onend)&&this.on("".concat(D,"end"),G.onend),pe.func(G.oninertiastart)&&this.on("".concat(D,"inertiastart"),G.oninertiastart),this}},{key:"updatePerActionListeners",value:function(D,G,W){var J,ee=this,se=(J=this._actions.map[D])==null?void 0:J.filterEventType,ae=function(de){return(se==null||se(de))&&Tu(de,ee._actions)};(pe.array(G)||pe.object(G))&&this._onOff(Bo.Off,D,G,void 0,ae),(pe.array(W)||pe.object(W))&&this._onOff(Bo.On,D,W,void 0,ae)}},{key:"setPerAction",value:function(D,G){var W=this._defaults;for(var J in G){var ee=J,se=this.options[D],ae=G[ee];ee==="listeners"&&this.updatePerActionListeners(D,se.listeners,ae),pe.array(ae)?se[ee]=o(ae):pe.plainObject(ae)?(se[ee]=wt(se[ee]||{},Kh(ae)),pe.object(W.perAction[ee])&&"enabled"in W.perAction[ee]&&(se[ee].enabled=ae.enabled!==!1)):pe.bool(ae)&&pe.object(W.perAction[ee])?se[ee].enabled=ae:se[ee]=ae}}},{key:"getRect",value:function(D){return D=D||(pe.element(this.target)?this.target:null),pe.string(this.target)&&(D=D||this._context.querySelector(this.target)),Kt(D)}},{key:"rectChecker",value:function(D){var G=this;return pe.func(D)?(this.getRect=function(W){var J=wt({},D.apply(G,W));return"width"in J||(J.width=J.right-J.left,J.height=J.bottom-J.top),J},this):D===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(D,G){if(hi(G)||pe.object(G)){for(var W in this.options[D]=G,this._actions.map)this.options[W][D]=G;return this}return this.options[D]}},{key:"origin",value:function(D){return this._backCompatOption("origin",D)}},{key:"deltaSource",value:function(D){return D==="page"||D==="client"?(this.options.deltaSource=D,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var D=this.target;return pe.string(D)?Array.from(this._context.querySelectorAll(D)):pe.func(D)&&D.getAllElements?D.getAllElements():pe.element(D)?[D]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(D){return this._context===D.ownerDocument||lt(this._context,D)}},{key:"testIgnoreAllow",value:function(D,G,W){return!this.testIgnore(D.ignoreFrom,G,W)&&this.testAllow(D.allowFrom,G,W)}},{key:"testAllow",value:function(D,G,W){return!D||!!pe.element(W)&&(pe.string(D)?Mt(W,D,G):!!pe.element(D)&&lt(D,W))}},{key:"testIgnore",value:function(D,G,W){return!(!D||!pe.element(W))&&(pe.string(D)?Mt(W,D,G):!!pe.element(D)&&lt(D,W))}},{key:"fire",value:function(D){return this.events.fire(D),this}},{key:"_onOff",value:function(D,G,W,J,ee){pe.object(G)&&!pe.array(G)&&(J=W,W=null);var se=Ci(G,W,ee);for(var ae in se){ae==="wheel"&&(ae=Ve.wheelEvent);for(var de=0,Ee=se[ae];de<Ee.length;de++){var me=Ee[de];Tu(ae,this._actions)?this.events[D===Bo.On?"on":"off"](ae,me):pe.string(this.target)?this._scopeEvents[D===Bo.On?"addDelegate":"removeDelegate"](this.target,this._context,ae,me,J):this._scopeEvents[D===Bo.On?"add":"remove"](this.target,ae,me,J)}}return this}},{key:"on",value:function(D,G,W){return this._onOff(Bo.On,D,G,W)}},{key:"off",value:function(D,G,W){return this._onOff(Bo.Off,D,G,W)}},{key:"set",value:function(D){var G=this._defaults;for(var W in pe.object(D)||(D={}),this.options=Kh(G.base),this._actions.methodDict){var J=W,ee=this._actions.methodDict[J];this.options[J]={},this.setPerAction(J,wt(wt({},G.perAction),G.actions[J])),this[ee](D[J])}for(var se in D)se!=="getRect"?pe.func(this[se])&&this[se](D[se]):this.rectChecker(D.getRect);return this}},{key:"unset",value:function(){if(pe.string(this.target))for(var D in this._scopeEvents.delegatedEvents)for(var G=this._scopeEvents.delegatedEvents[D],W=G.length-1;W>=0;W--){var J=G[W],ee=J.selector,se=J.context,ae=J.listeners;ee===this.target&&se===this._context&&G.splice(W,1);for(var de=ae.length-1;de>=0;de--)this._scopeEvents.removeDelegate(this.target,this._context,D,ae[de][0],ae[de][1])}else this._scopeEvents.remove(this.target,"all")}}]),z}(),oE=function(){function z(D){var G=this;u(this,z),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=D,D.addListeners({"interactable:unset":function(W){var J=W.interactable,ee=J.target,se=pe.string(ee)?G.selectorMap[ee]:ee[G.scope.id],ae=l(se,function(de){return de===J});se.splice(ae,1)}})}return g(z,[{key:"new",value:function(D,G){G=wt(G||{},{actions:this.scope.actions});var W=new this.scope.Interactable(D,G,this.scope.document,this.scope.events);return this.scope.addDocument(W._doc),this.list.push(W),pe.string(D)?(this.selectorMap[D]||(this.selectorMap[D]=[]),this.selectorMap[D].push(W)):(W.target[this.scope.id]||Object.defineProperty(D,this.scope.id,{value:[],configurable:!0}),D[this.scope.id].push(W)),this.scope.fire("interactable:new",{target:D,options:G,interactable:W,win:this.scope._win}),W}},{key:"getExisting",value:function(D,G){var W=G&&G.context||this.scope.document,J=pe.string(D),ee=J?this.selectorMap[D]:D[this.scope.id];if(ee)return d(ee,function(se){return se._context===W&&(J||se.inContext(D))})}},{key:"forEachMatch",value:function(D,G){for(var W=0,J=this.list;W<J.length;W++){var ee=J[W],se=void 0;if((pe.string(ee.target)?pe.element(D)&&Se(D,ee.target):D===ee.target)&&ee.inContext(D)&&(se=G(ee)),se!==void 0)return se}}}]),z}(),aE=function(){function z(){var D=this;u(this,z),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Ve,this.defaults=Kh(Kg),this.Eventable=z1,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(W){var J=function ee(se,ae){var de=W.interactables.getExisting(se,ae);return de||((de=W.interactables.new(se,ae)).events.global=ee.globalEvents),de};return J.getPointerAverage=pt,J.getTouchBBox=eo,J.getTouchDistance=h,J.getTouchAngle=N,J.getElementRect=Kt,J.getElementClientRect=Yt,J.matchesSelector=Se,J.closest=st,J.globalEvents={},J.version="1.10.27",J.scope=W,J.use=function(ee,se){return this.scope.usePlugin(ee,se),this},J.isSet=function(ee,se){return!!this.scope.interactables.get(ee,se&&se.context)},J.on=mi(function(ee,se,ae){if(pe.string(ee)&&ee.search(" ")!==-1&&(ee=ee.trim().split(/ +/)),pe.array(ee)){for(var de=0,Ee=ee;de<Ee.length;de++){var me=Ee[de];this.on(me,se,ae)}return this}if(pe.object(ee)){for(var Oe in ee)this.on(Oe,ee[Oe],se);return this}return Tu(ee,this.scope.actions)?this.globalEvents[ee]?this.globalEvents[ee].push(se):this.globalEvents[ee]=[se]:this.scope.events.add(this.scope.document,ee,se,{options:ae}),this},"The interact.on() method is being deprecated"),J.off=mi(function(ee,se,ae){if(pe.string(ee)&&ee.search(" ")!==-1&&(ee=ee.trim().split(/ +/)),pe.array(ee)){for(var de=0,Ee=ee;de<Ee.length;de++){var me=Ee[de];this.off(me,se,ae)}return this}if(pe.object(ee)){for(var Oe in ee)this.off(Oe,ee[Oe],se);return this}var Be;return Tu(ee,this.scope.actions)?ee in this.globalEvents&&(Be=this.globalEvents[ee].indexOf(se))!==-1&&this.globalEvents[ee].splice(Be,1):this.scope.events.remove(this.scope.document,ee,se,ae),this},"The interact.off() method is being deprecated"),J.debug=function(){return this.scope},J.supportsTouch=function(){return Ve.supportsTouch},J.supportsPointerEvent=function(){return Ve.supportsPointerEvent},J.stop=function(){for(var ee=0,se=this.scope.interactions.list;ee<se.length;ee++)se[ee].stop();return this},J.pointerMoveTolerance=function(ee){return pe.number(ee)?(this.scope.interactions.pointerMoveTolerance=ee,this):this.scope.interactions.pointerMoveTolerance},J.addDocument=function(ee,se){this.scope.addDocument(ee,se)},J.removeDocument=function(ee){this.scope.removeDocument(ee)},J}(this),this.InteractEvent=Sc,this.Interactable=void 0,this.interactables=new oE(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(W){return D.removeDocument(W.target)};var G=this;this.Interactable=function(W){E(ee,W);var J=F(ee);function ee(){return u(this,ee),J.apply(this,arguments)}return g(ee,[{key:"_defaults",get:function(){return G.defaults}},{key:"set",value:function(se){return q(A(ee.prototype),"set",this).call(this,se),G.fire("interactable:set",{options:se,interactable:this}),this}},{key:"unset",value:function(){q(A(ee.prototype),"unset",this).call(this);var se=G.interactables.list.indexOf(this);se<0||(G.interactables.list.splice(se,1),G.fire("interactable:unset",{interactable:this}))}}]),ee}(I3)}return g(z,[{key:"addListeners",value:function(D,G){this.listenerMaps.push({id:G,map:D})}},{key:"fire",value:function(D,G){for(var W=0,J=this.listenerMaps;W<J.length;W++){var ee=J[W].map[D];if(ee&&ee(G,this,D)===!1)return!1}}},{key:"init",value:function(D){return this.isInitialized?this:function(G,W){return G.isInitialized=!0,pe.window(W)&&ye(W),Me.init(W),Ve.init(W),Ue.init(W),G.window=W,G.document=W.document,G.usePlugin(bp),G.usePlugin(F1),G}(this,D)}},{key:"pluginIsInstalled",value:function(D){var G=D.id;return G?!!this._plugins.map[G]:this._plugins.list.indexOf(D)!==-1}},{key:"usePlugin",value:function(D,G){if(!this.isInitialized)return this;if(this.pluginIsInstalled(D))return this;if(D.id&&(this._plugins.map[D.id]=D),this._plugins.list.push(D),D.install&&D.install(this,G),D.listeners&&D.before){for(var W=0,J=this.listenerMaps.length,ee=D.before.reduce(function(ae,de){return ae[de]=!0,ae[P3(de)]=!0,ae},{});W<J;W++){var se=this.listenerMaps[W].id;if(se&&(ee[se]||ee[P3(se)]))break}this.listenerMaps.splice(W,0,{id:D.id,map:D.listeners})}else D.listeners&&this.listenerMaps.push({id:D.id,map:D.listeners});return this}},{key:"addDocument",value:function(D,G){if(this.getDocIndex(D)!==-1)return!1;var W=_e(D);G=G?wt({},G):{},this.documents.push({doc:D,options:G}),this.events.documents.push(D),D!==this.document&&this.events.add(W,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:D,window:W,scope:this,options:G})}},{key:"removeDocument",value:function(D){var G=this.getDocIndex(D),W=_e(D),J=this.documents[G].options;this.events.remove(W,"unload",this.onWindowUnload),this.documents.splice(G,1),this.events.documents.splice(G,1),this.fire("scope:remove-document",{doc:D,window:W,scope:this,options:J})}},{key:"getDocIndex",value:function(D){for(var G=0;G<this.documents.length;G++)if(this.documents[G].doc===D)return G;return-1}},{key:"getDocOptions",value:function(D){var G=this.getDocIndex(D);return G===-1?null:this.documents[G].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),z}();function P3(z){return z&&z.replace(/\/.*$/,"")}var V1=new aE,ds=V1.interactStatic,lE=typeof globalThis<"u"?globalThis:window;V1.init(lE);var cE=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(z){var D=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(W){var J=W[0],ee=W[1];return J in z||ee in z}),G=function(W,J){for(var ee=z.range,se=z.limits,ae=se===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:se,de=z.offset,Ee=de===void 0?{x:0,y:0}:de,me={range:ee,grid:z,x:null,y:null},Oe=0;Oe<D.length;Oe++){var Be=D[Oe],ut=Be[0],at=Be[1],yt=Math.round((W-Ee.x)/z[ut]),Et=Math.round((J-Ee.y)/z[at]);me[ut]=Math.max(ae.left,Math.min(ae.right,yt*z[ut]+Ee.x)),me[at]=Math.max(ae.top,Math.min(ae.bottom,Et*z[at]+Ee.y))}return me};return G.grid=z,G.coordFields=D,G}}),uE={id:"snappers",install:function(z){var D=z.interactStatic;D.snappers=wt(D.snappers||{},cE),D.createSnapGrid=D.snappers.grid}},hE=uE,R3={start:function(z){var D=z.state,G=z.rect,W=z.edges,J=z.pageCoords,ee=D.options,se=ee.ratio,ae=ee.enabled,de=D.options,Ee=de.equalDelta,me=de.modifiers;se==="preserve"&&(se=G.width/G.height),D.startCoords=wt({},J),D.startRect=wt({},G),D.ratio=se,D.equalDelta=Ee;var Oe=D.linkedEdges={top:W.top||W.left&&!W.bottom,left:W.left||W.top&&!W.right,bottom:W.bottom||W.right&&!W.top,right:W.right||W.bottom&&!W.left};if(D.xIsPrimaryAxis=!(!W.left&&!W.right),D.equalDelta){var Be=(Oe.left?1:-1)*(Oe.top?1:-1);D.edgeSign={x:Be,y:Be}}else D.edgeSign={x:Oe.left?-1:1,y:Oe.top?-1:1};if(ae!==!1&&wt(W,Oe),me!=null&&me.length){var ut=new Cs(z.interaction);ut.copyFrom(z.interaction.modification),ut.prepareStates(me),D.subModification=ut,ut.startAll(n({},z))}},set:function(z){var D=z.state,G=z.rect,W=z.coords,J=D.linkedEdges,ee=wt({},W),se=D.equalDelta?dE:fE;if(wt(z.edges,J),se(D,D.xIsPrimaryAxis,W,G),!D.subModification)return null;var ae=wt({},G);Ho(J,ae,{x:W.x-ee.x,y:W.y-ee.y});var de=D.subModification.setAll(n(n({},z),{},{rect:ae,edges:J,pageCoords:W,prevCoords:W,prevRect:ae})),Ee=de.delta;return de.changed&&(se(D,Math.abs(Ee.x)>Math.abs(Ee.y),de.coords,de.rect),wt(W,de.coords)),de.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function dE(z,D,G){var W=z.startCoords,J=z.edgeSign;D?G.y=W.y+(G.x-W.x)*J.y:G.x=W.x+(G.y-W.y)*J.x}function fE(z,D,G,W){var J=z.startRect,ee=z.startCoords,se=z.ratio,ae=z.edgeSign;if(D){var de=W.width/se;G.y=ee.y+(de-J.height)*ae.y}else{var Ee=W.height*se;G.x=ee.x+(Ee-J.width)*ae.x}}var pE=Sl(R3,"aspectRatio"),D3=function(){};D3._defaults={};var od=D3;function Au(z,D,G){return pe.func(z)?mr(z,D.interactable,D.element,[G.x,G.y,D]):mr(z,D.interactable,D.element)}var G1={start:function(z){var D=z.rect,G=z.startOffset,W=z.state,J=z.interaction,ee=z.pageCoords,se=W.options,ae=se.elementRect,de=wt({left:0,top:0,right:0,bottom:0},se.offset||{});if(D&&ae){var Ee=Au(se.restriction,J,ee);if(Ee){var me=Ee.right-Ee.left-D.width,Oe=Ee.bottom-Ee.top-D.height;me<0&&(de.left+=me,de.right+=me),Oe<0&&(de.top+=Oe,de.bottom+=Oe)}de.left+=G.left-D.width*ae.left,de.top+=G.top-D.height*ae.top,de.right+=G.right-D.width*(1-ae.right),de.bottom+=G.bottom-D.height*(1-ae.bottom)}W.offset=de},set:function(z){var D=z.coords,G=z.interaction,W=z.state,J=W.options,ee=W.offset,se=Au(J.restriction,G,D);if(se){var ae=function(de){return!de||"left"in de&&"top"in de||((de=wt({},de)).left=de.x||0,de.top=de.y||0,de.right=de.right||de.left+de.width,de.bottom=de.bottom||de.top+de.height),de}(se);D.x=Math.max(Math.min(ae.right-ee.right,D.x),ae.left+ee.left),D.y=Math.max(Math.min(ae.bottom-ee.bottom,D.y),ae.top+ee.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},mE=Sl(G1,"restrict"),iv={top:1/0,left:1/0,bottom:-1/0,right:-1/0},N3={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function L3(z,D){for(var G=0,W=["top","left","bottom","right"];G<W.length;G++){var J=W[G];J in z||(z[J]=D[J])}return z}var wp={noInner:iv,noOuter:N3,start:function(z){var D,G=z.interaction,W=z.startOffset,J=z.state,ee=J.options;ee&&(D=Qs(Au(ee.offset,G,G.coords.start.page))),D=D||{x:0,y:0},J.offset={top:D.y+W.top,left:D.x+W.left,bottom:D.y-W.bottom,right:D.x-W.right}},set:function(z){var D=z.coords,G=z.edges,W=z.interaction,J=z.state,ee=J.offset,se=J.options;if(G){var ae=wt({},D),de=Au(se.inner,W,ae)||{},Ee=Au(se.outer,W,ae)||{};L3(de,iv),L3(Ee,N3),G.top?D.y=Math.min(Math.max(Ee.top+ee.top,ae.y),de.top+ee.top):G.bottom&&(D.y=Math.max(Math.min(Ee.bottom+ee.bottom,ae.y),de.bottom+ee.bottom)),G.left?D.x=Math.min(Math.max(Ee.left+ee.left,ae.x),de.left+ee.left):G.right&&(D.x=Math.max(Math.min(Ee.right+ee.right,ae.x),de.right+ee.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},yE=Sl(wp,"restrictEdges"),gE=wt({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(z){}},G1.defaults),vE=Sl({start:G1.start,set:G1.set,defaults:gE},"restrictRect"),bE={width:-1/0,height:-1/0},wE={width:1/0,height:1/0},xE=Sl({start:function(z){return wp.start(z)},set:function(z){var D=z.interaction,G=z.state,W=z.rect,J=z.edges,ee=G.options;if(J){var se=ks(Au(ee.min,D,z.coords))||bE,ae=ks(Au(ee.max,D,z.coords))||wE;G.options={endOnly:ee.endOnly,inner:wt({},wp.noInner),outer:wt({},wp.noOuter)},J.top?(G.options.inner.top=W.bottom-se.height,G.options.outer.top=W.bottom-ae.height):J.bottom&&(G.options.inner.bottom=W.top+se.height,G.options.outer.bottom=W.top+ae.height),J.left?(G.options.inner.left=W.right-se.width,G.options.outer.left=W.right-ae.width):J.right&&(G.options.inner.right=W.left+se.width,G.options.outer.right=W.left+ae.width),wp.set(z),G.options=ee}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),xp={start:function(z){var D,G=z.interaction,W=z.interactable,J=z.element,ee=z.rect,se=z.state,ae=z.startOffset,de=se.options,Ee=de.offsetWithOrigin?function(Be){var ut=Be.interaction.element,at=Qs(mr(Be.state.options.origin,null,null,[ut])),yt=at||wo(Be.interactable,ut,Be.interaction.prepared.name);return yt}(z):{x:0,y:0};if(de.offset==="startCoords")D={x:G.coords.start.page.x,y:G.coords.start.page.y};else{var me=mr(de.offset,W,J,[G]);(D=Qs(me)||{x:0,y:0}).x+=Ee.x,D.y+=Ee.y}var Oe=de.relativePoints;se.offsets=ee&&Oe&&Oe.length?Oe.map(function(Be,ut){return{index:ut,relativePoint:Be,x:ae.left-ee.width*Be.x+D.x,y:ae.top-ee.height*Be.y+D.y}}):[{index:0,relativePoint:null,x:D.x,y:D.y}]},set:function(z){var D=z.interaction,G=z.coords,W=z.state,J=W.options,ee=W.offsets,se=wo(D.interactable,D.element,D.prepared.name),ae=wt({},G),de=[];J.offsetWithOrigin||(ae.x-=se.x,ae.y-=se.y);for(var Ee=0,me=ee;Ee<me.length;Ee++)for(var Oe=me[Ee],Be=ae.x-Oe.x,ut=ae.y-Oe.y,at=0,yt=J.targets.length;at<yt;at++){var Et=J.targets[at],St=void 0;(St=pe.func(Et)?Et(Be,ut,D._proxy,Oe,at):Et)&&de.push({x:(pe.number(St.x)?St.x:Be)+Oe.x,y:(pe.number(St.y)?St.y:ut)+Oe.y,range:pe.number(St.range)?St.range:J.range,source:Et,index:at,offset:Oe})}for(var Nt={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},ti=0;ti<de.length;ti++){var yi=de[ti],Jt=yi.range,Qt=yi.x-ae.x,Qn=yi.y-ae.y,cn=mn(Qt,Qn),As=cn<=Jt;Jt===1/0&&Nt.inRange&&Nt.range!==1/0&&(As=!1),Nt.target&&!(As?Nt.inRange&&Jt!==1/0?cn/Jt<Nt.distance/Nt.range:Jt===1/0&&Nt.range!==1/0||cn<Nt.distance:!Nt.inRange&&cn<Nt.distance)||(Nt.target=yi,Nt.distance=cn,Nt.range=Jt,Nt.inRange=As,Nt.delta.x=Qt,Nt.delta.y=Qn)}return Nt.inRange&&(G.x=Nt.target.x,G.y=Nt.target.y),W.closest=Nt,Nt},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Sp=Sl(xp,"snap"),H1={start:function(z){var D=z.state,G=z.edges,W=D.options;if(!G)return null;z.state={options:{targets:null,relativePoints:[{x:G.left?0:1,y:G.top?0:1}],offset:W.offset||"self",origin:{x:0,y:0},range:W.range}},D.targetFields=D.targetFields||[["width","height"],["x","y"]],xp.start(z),D.offsets=z.state.offsets,z.state=D},set:function(z){var D=z.interaction,G=z.state,W=z.coords,J=G.options,ee=G.offsets,se={x:W.x-ee[0].x,y:W.y-ee[0].y};G.options=wt({},J),G.options.targets=[];for(var ae=0,de=J.targets||[];ae<de.length;ae++){var Ee=de[ae],me=void 0;if(me=pe.func(Ee)?Ee(se.x,se.y,D):Ee){for(var Oe=0,Be=G.targetFields;Oe<Be.length;Oe++){var ut=Be[Oe],at=ut[0],yt=ut[1];if(at in me||yt in me){me.x=me[at],me.y=me[yt];break}}G.options.targets.push(me)}}var Et=xp.set(z);return G.options=J,Et},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},z3=Sl(H1,"snapSize"),q1={aspectRatio:pE,restrictEdges:yE,restrict:mE,restrictRect:vE,restrictSize:xE,snapEdges:Sl({start:function(z){var D=z.edges;return D?(z.state.targetFields=z.state.targetFields||[[D.left?"left":"right",D.top?"top":"bottom"]],H1.start(z)):null},set:H1.set,defaults:wt(Kh(H1.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Sp,snapSize:z3,spring:od,avoid:od,transform:od,rubberband:od},j3={id:"modifiers",install:function(z){var D=z.interactStatic;for(var G in z.usePlugin(Yg),z.usePlugin(hE),D.modifiers=q1,q1){var W=q1[G],J=W._defaults,ee=W._methods;J._methods=ee,z.defaults.perAction[G]=J}}},F3=j3,nv=function(z){E(G,z);var D=F(G);function G(W,J,ee,se,ae,de){var Ee;if(u(this,G),ci(R(Ee=D.call(this,ae)),ee),ee!==J&&ci(R(Ee),J),Ee.timeStamp=de,Ee.originalEvent=ee,Ee.type=W,Ee.pointerId=qo(J),Ee.pointerType=x(J),Ee.target=se,Ee.currentTarget=null,W==="tap"){var me=ae.getPointerIndex(J);Ee.dt=Ee.timeStamp-ae.pointers[me].downTime;var Oe=Ee.timeStamp-ae.tapTime;Ee.double=!!ae.prevTap&&ae.prevTap.type!=="doubletap"&&ae.prevTap.target===Ee.target&&Oe<500}else W==="doubletap"&&(Ee.dt=J.timeStamp-ae.tapTime,Ee.double=!0);return Ee}return g(G,[{key:"_subtractOrigin",value:function(W){var J=W.x,ee=W.y;return this.pageX-=J,this.pageY-=ee,this.clientX-=J,this.clientY-=ee,this}},{key:"_addOrigin",value:function(W){var J=W.x,ee=W.y;return this.pageX+=J,this.pageY+=ee,this.clientX+=J,this.clientY+=ee,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),G}(a),Oa={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(z){z.pointerEvents=Oa,z.defaults.actions.pointerEvents=Oa.defaults,wt(z.actions.phaselessTypes,Oa.types)},listeners:{"interactions:new":function(z){var D=z.interaction;D.prevTap=null,D.tapTime=0},"interactions:update-pointer":function(z){var D=z.down,G=z.pointerInfo;!D&&G.hold||(G.hold={duration:1/0,timeout:null})},"interactions:move":function(z,D){var G=z.interaction,W=z.pointer,J=z.event,ee=z.eventTarget;z.duplicate||G.pointerIsDown&&!G.pointerWasMoved||(G.pointerIsDown&&rv(z),_c({interaction:G,pointer:W,event:J,eventTarget:ee,type:"move"},D))},"interactions:down":function(z,D){(function(G,W){for(var J=G.interaction,ee=G.pointer,se=G.event,ae=G.eventTarget,de=G.pointerIndex,Ee=J.pointers[de].hold,me=xn(ae),Oe={interaction:J,pointer:ee,event:se,eventTarget:ae,type:"hold",targets:[],path:me,node:null},Be=0;Be<me.length;Be++){var ut=me[Be];Oe.node=ut,W.fire("pointerEvents:collect-targets",Oe)}if(Oe.targets.length){for(var at=1/0,yt=0,Et=Oe.targets;yt<Et.length;yt++){var St=Et[yt].eventable.options.holdDuration;St<at&&(at=St)}Ee.duration=at,Ee.timeout=setTimeout(function(){_c({interaction:J,eventTarget:ae,pointer:ee,event:se,type:"hold"},W)},at)}})(z,D),_c(z,D)},"interactions:up":function(z,D){rv(z),_c(z,D),function(G,W){var J=G.interaction,ee=G.pointer,se=G.event,ae=G.eventTarget;J.pointerWasMoved||_c({interaction:J,eventTarget:ae,pointer:ee,event:se,type:"tap"},W)}(z,D)},"interactions:cancel":function(z,D){rv(z),_c(z,D)}},PointerEvent:nv,fire:_c,collectEventTargets:U3,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function _c(z,D){var G=z.interaction,W=z.pointer,J=z.event,ee=z.eventTarget,se=z.type,ae=z.targets,de=ae===void 0?U3(z,D):ae,Ee=new nv(se,W,J,ee,G,D.now());D.fire("pointerEvents:new",{pointerEvent:Ee});for(var me={interaction:G,pointer:W,event:J,eventTarget:ee,targets:de,type:se,pointerEvent:Ee},Oe=0;Oe<de.length;Oe++){var Be=de[Oe];for(var ut in Be.props||{})Ee[ut]=Be.props[ut];var at=wo(Be.eventable,Be.node);if(Ee._subtractOrigin(at),Ee.eventable=Be.eventable,Ee.currentTarget=Be.node,Be.eventable.fire(Ee),Ee._addOrigin(at),Ee.immediatePropagationStopped||Ee.propagationStopped&&Oe+1<de.length&&de[Oe+1].node!==Ee.currentTarget)break}if(D.fire("pointerEvents:fired",me),se==="tap"){var yt=Ee.double?_c({interaction:G,pointer:W,event:J,eventTarget:ee,type:"doubletap"},D):Ee;G.prevTap=yt,G.tapTime=yt.timeStamp}return Ee}function U3(z,D){var G=z.interaction,W=z.pointer,J=z.event,ee=z.eventTarget,se=z.type,ae=G.getPointerIndex(W),de=G.pointers[ae];if(se==="tap"&&(G.pointerWasMoved||!de||de.downTarget!==ee))return[];for(var Ee=xn(ee),me={interaction:G,pointer:W,event:J,eventTarget:ee,type:se,path:Ee,targets:[],node:null},Oe=0;Oe<Ee.length;Oe++){var Be=Ee[Oe];me.node=Be,D.fire("pointerEvents:collect-targets",me)}return se==="hold"&&(me.targets=me.targets.filter(function(ut){var at,yt;return ut.eventable.options.holdDuration===((at=G.pointers[ae])==null||(yt=at.hold)==null?void 0:yt.duration)})),me.targets}function rv(z){var D=z.interaction,G=z.pointerIndex,W=D.pointers[G].hold;W&&W.timeout&&(clearTimeout(W.timeout),W.timeout=null)}var V3=Object.freeze({__proto__:null,default:Oa});function G3(z){var D=z.interaction;D.holdIntervalHandle&&(clearInterval(D.holdIntervalHandle),D.holdIntervalHandle=null)}var _p={id:"pointer-events/holdRepeat",install:function(z){z.usePlugin(Oa);var D=z.pointerEvents;D.defaults.holdRepeatInterval=0,D.types.holdrepeat=z.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(z,D){return z["pointerEvents:".concat(D)]=G3,z},{"pointerEvents:new":function(z){var D=z.pointerEvent;D.type==="hold"&&(D.count=(D.count||0)+1)},"pointerEvents:fired":function(z,D){var G=z.interaction,W=z.pointerEvent,J=z.eventTarget,ee=z.targets;if(W.type==="hold"&&ee.length){var se=ee[0].eventable.options.holdRepeatInterval;se<=0||(G.holdIntervalHandle=setTimeout(function(){D.pointerEvents.fire({interaction:G,eventTarget:J,type:"hold",pointer:W,event:W},D)},se))}}})},Ep=_p,SE={id:"pointer-events/interactableTargets",install:function(z){var D=z.Interactable;D.prototype.pointerEvents=function(W){return wt(this.events.options,W),this};var G=D.prototype._backCompatOption;D.prototype._backCompatOption=function(W,J){var ee=G.call(this,W,J);return ee===this&&(this.events.options[W]=J),ee}},listeners:{"pointerEvents:collect-targets":function(z,D){var G=z.targets,W=z.node,J=z.type,ee=z.eventTarget;D.interactables.forEachMatch(W,function(se){var ae=se.events,de=ae.options;ae.types[J]&&ae.types[J].length&&se.testIgnoreAllow(de,W,ee)&&G.push({node:W,eventable:ae,props:{interactable:se}})})},"interactable:new":function(z){var D=z.interactable;D.events.getRect=function(G){return D.getRect(G)}},"interactable:set":function(z,D){var G=z.interactable,W=z.options;wt(G.events.options,D.pointerEvents.defaults),wt(G.events.options,W.pointerEvents||{})}}},B1=SE,H3={id:"pointer-events",install:function(z){z.usePlugin(V3),z.usePlugin(Ep),z.usePlugin(B1)}},q3=H3,sv={id:"reflow",install:function(z){var D=z.Interactable;z.actions.phases.reflow=!0,D.prototype.reflow=function(G){return function(W,J,ee){for(var se=W.getAllElements(),ae=ee.window.Promise,de=ae?[]:null,Ee=function(){var Oe=se[me],Be=W.getRect(Oe);if(!Be)return 1;var ut,at=d(ee.interactions.list,function(St){return St.interacting()&&St.interactable===W&&St.element===Oe&&St.prepared.name===J.name});if(at)at.move(),de&&(ut=at._reflowPromise||new ae(function(St){at._reflowResolve=St}));else{var yt=ks(Be),Et=function(St){return{coords:St,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:yt.x,y:yt.y},client:{x:yt.x,y:yt.y},timeStamp:ee.now()});ut=function(St,Nt,ti,yi,Jt){var Qt=St.interactions.new({pointerType:"reflow"}),Qn={interaction:Qt,event:Jt,pointer:Jt,eventTarget:ti,phase:"reflow"};Qt.interactable=Nt,Qt.element=ti,Qt.prevEvent=Jt,Qt.updatePointer(Jt,Jt,ti,!0),us(Qt.coords.delta),Ai(Qt.prepared,yi),Qt._doPhase(Qn);var cn=St.window,As=cn.Promise,Or=As?new As(function(Ia){Qt._reflowResolve=Ia}):void 0;return Qt._reflowPromise=Or,Qt.start(yi,Nt,ti),Qt._interacting?(Qt.move(Qn),Qt.end(Jt)):(Qt.stop(),Qt._reflowResolve()),Qt.removePointer(Jt,Jt),Or}(ee,W,Oe,J,Et)}de&&de.push(ut)},me=0;me<se.length&&!Ee();me++);return de&&ae.all(de).then(function(){return W})}(this,G,z)}},listeners:{"interactions:stop":function(z,D){var G=z.interaction;G.pointerType==="reflow"&&(G._reflowResolve&&G._reflowResolve(),function(W,J){W.splice(W.indexOf(J),1)}(D.interactions.list,G))}}},ov=sv;if(ds.use(yr),ds.use($u),ds.use(q3),ds.use(gp),ds.use(F3),ds.use(Fi),ds.use(Pe),ds.use(ni),ds.use(ov),ds.default=ds,s(e)==="object"&&e)try{e.exports=ds}catch{}return ds.default=ds,ds})})(aW);const Y5=aW.exports,Cd={dialog:"dialog",panel:"panel",scrim:"scrim",container:"container",containerOpen:"container--open",containerEmbedded:"container--embedded",assistiveText:"assistive-text",openingActive:"dialog--opening-active"},Qo={actionBar:"action-bar",alerts:"alerts",content:"content",contentTop:"content-top",contentBottom:"content-bottom",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerStart:"footer-start",footerEnd:"footer-end"},Ad=25,K5=25,Sz={x:0,y:0},_z={top:0,right:0,bottom:0,left:0},Yde=`:host{--calcite-dialog-scrim-background-color:rgba(0, 0, 0, 0.85);pointer-events:none;inset:0px;z-index:var(--calcite-z-index-overlay);display:flex;--calcite-internal-dialog-animation-offset:20px}:host([modal]){position:absolute}.container{pointer-events:auto;position:fixed;inset:0px;z-index:var(--calcite-z-index-overlay);display:flex;align-items:center;justify-content:center;overflow:hidden;color:var(--calcite-color-text-2);opacity:0;visibility:hidden;transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88)}:host([placement=top]) .container{align-items:flex-start;justify-content:center}:host([placement=top-start]) .container{align-items:flex-start;justify-content:flex-start}:host([placement=top-end]) .container{align-items:flex-start;justify-content:flex-end}:host([placement=bottom]) .container{align-items:flex-end;justify-content:center}:host([placement=bottom-start]) .container{align-items:flex-end;justify-content:flex-start}:host([placement=bottom-end]) .container{align-items:flex-end;justify-content:flex-end}:host(:not([modal])) .container{pointer-events:none}:host([scale=s]){--calcite-internal-dialog-content-padding:var(--calcite-dialog-content-space, var(--calcite-spacing-sm));--calcite-internal-dialog-min-size-x:198px;--calcite-internal-dialog-min-size-y:140px}:host([scale=m]){--calcite-internal-dialog-content-padding:var(--calcite-dialog-content-space, var(--calcite-spacing-md));--calcite-internal-dialog-min-size-x:288px;--calcite-internal-dialog-min-size-y:180px}:host([scale=l]){--calcite-internal-dialog-content-padding:var(--calcite-dialog-content-space, var(--calcite-spacing-lg));--calcite-internal-dialog-min-size-x:388px;--calcite-internal-dialog-min-size-y:220px}.scrim{--calcite-scrim-background:var(--calcite-dialog-scrim-background-color, var(--calcite-color-transparent-scrim));--calcite-scrim-background-color:var(
    --calcite-dialog-scrim-background-color,
    var(--calcite-color-transparent-scrim)
  );position:fixed;inset:0px;display:flex;overflow-y:hidden}calcite-panel{--calcite-panel-content-space:var(--calcite-dialog-content-space, var(--calcite-internal-dialog-content-padding));--calcite-panel-footer-padding:var(--calcite-dialog-footer-space);--calcite-panel-header-border-block-end:var(--calcite-border-width-sm) solid var(--calcite-dialog-border-color);--calcite-panel-background-color:var(--calcite-dialog-background-color)}.dialog{pointer-events:none;position:relative;z-index:var(--calcite-z-index-modal);margin:1.5rem;box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;border-radius:0.25rem;opacity:0;--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-overflow-scrolling:touch;visibility:hidden;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);min-inline-size:var(--calcite-dialog-min-size-x, var(--calcite-internal-dialog-min-size-x));max-inline-size:var(--calcite-dialog-max-size-x, 100%);min-block-size:var(--calcite-dialog-min-size-y, var(--calcite-internal-dialog-min-size-y));max-block-size:var(--calcite-dialog-max-size-y, 100%);--calcite-internal-dialog-hidden-position:calc(
    var(--calcite-dialog-offset-y, 0px) + var(--calcite-internal-dialog-animation-offset)
  );--calcite-internal-dialog-shown-position:var(--calcite-dialog-offset-y, 0);inset-inline-start:var(--calcite-dialog-offset-x, 0);inset-block-start:var(--calcite-internal-dialog-hidden-position)}.dialog--opening-active{inset-block-start:var(--calcite-internal-dialog-shown-position)}:host([menu-open]) .dialog{transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88)}.panel{border-radius:0.25rem}.container--open{opacity:1;visibility:visible;transition-delay:0ms}.container--open .dialog{pointer-events:auto;visibility:visible;opacity:1;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition-delay:0ms}:host([width=small]) .dialog{inline-size:auto}:host([width-scale=s]) .dialog{inline-size:var(--calcite-dialog-size-x, 32rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 35rem){:host([width-scale=s]) .dialog{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}:host([width-scale=s]) .dialog--opening-active{inset-block-start:0}}:host([width-scale=m]) .dialog{inline-size:var(--calcite-dialog-size-x, 48rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 51rem){:host([width-scale=m]) .dialog{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}:host([width-scale=m]) .dialog--opening-active{inset-block-start:0}}:host([width-scale=l]) .dialog{inline-size:var(--calcite-dialog-size-x, 94rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 97rem){:host([width-scale=l]) .dialog{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}:host([width-scale=l]) .dialog--opening-active{inset-block-start:0}}:host([placement=cover]) .dialog{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0px}:host([placement=cover]) .panel{border-radius:0px}:host([kind]) .panel{border-start-start-radius:0px;border-start-end-radius:0px}:host([kind=brand]) .dialog{border-color:var(--calcite-color-brand)}:host([kind=danger]) .dialog{border-color:var(--calcite-color-status-danger)}:host([kind=info]) .dialog{border-color:var(--calcite-color-status-info)}:host([kind=success]) .dialog{border-color:var(--calcite-color-status-success)}:host([kind=warning]) .dialog{border-color:var(--calcite-color-status-warning)}:host([kind=brand][open]) .dialog,:host([kind=danger][open]) .dialog,:host([kind=info][open]) .dialog,:host([kind=success][open]) .dialog,:host([kind=warning][open]) .dialog{border-width:0px;border-block-start-width:4px;border-style:solid}.container--embedded{position:absolute;pointer-events:auto}.container--embedded calcite-scrim{position:absolute}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,Kde=Yde;let bT=0,Ez="";const lW=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteDialogBeforeClose=gt(this,"calciteDialogBeforeClose",6),this.calciteDialogClose=gt(this,"calciteDialogClose",6),this.calciteDialogBeforeOpen=gt(this,"calciteDialogBeforeOpen",6),this.calciteDialogOpen=gt(this,"calciteDialogOpen",6),this.calciteDialogScroll=gt(this,"calciteDialogScroll",6),this.openTransitionProp="opacity",this.resizePosition={..._z},this.dragPosition={...Sz},this.ignoreOpenChange=!1,this.mutationObserver=yo("mutation",()=>this.handleMutationObserver()),this.handleKeyDown=t=>{const{key:i,shiftKey:n,defaultPrevented:s}=t,{dragEnabled:u,resizable:p,resizePosition:g,dragPosition:w,transitionEl:E}=this;if(!(s||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(i)))switch(i){case"ArrowUp":n&&p&&E?(this.updateSize({size:this.getTransitionElDOMRect().height-Ad,type:"blockSize"}),g.bottom-=Ad,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault()):u&&(w.y-=K5,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault());break;case"ArrowDown":n&&p&&E?(this.updateSize({size:this.getTransitionElDOMRect().height+Ad,type:"blockSize"}),g.bottom+=Ad,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault()):u&&(w.y+=K5,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault());break;case"ArrowLeft":n&&p&&E?(this.updateSize({size:this.getTransitionElDOMRect().width-Ad,type:"inlineSize"}),g.right-=Ad,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault()):u&&(w.x-=K5,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault());break;case"ArrowRight":n&&p&&E?(this.updateSize({size:this.getTransitionElDOMRect().width+Ad,type:"inlineSize"}),g.right+=Ad,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault()):u&&(w.x+=K5,this.updateTransform(),this.triggerInteractModifiers(),t.preventDefault());break}},this.setTransitionEl=t=>{this.transitionEl=t,this.setupInteractions()},this.openEnd=()=>{this.setFocus(),this.el.removeEventListener("calciteDialogOpen",this.openEnd)},this.handleInternalPanelScroll=t=>{t.target===this.panelEl&&(t.stopPropagation(),this.calciteDialogScroll.emit())},this.handleInternalPanelCloseClick=t=>{t.target===this.panelEl&&(t.stopPropagation(),this.open=!1)},this.handlePanelKeyDown=t=>{this.escapeDisabled&&t.key==="Escape"&&t.preventDefault()},this.handleOutsideClose=()=>{this.outsideCloseDisabled||(this.open=!1)},this.closeDialog=async()=>{if(this.beforeClose)try{await this.beforeClose()}catch{requestAnimationFrame(()=>{this.ignoreOpenChange=!0,this.open=!0,this.ignoreOpenChange=!1});return}bT--,this.opened=!1,this.updateOverflowHiddenClass()},this.updateOverflowHiddenClass=()=>{this.opened&&!this.embedded&&this.modal?this.addOverflowHiddenClass():this.removeOverflowHiddenClass()},this.handleMutationObserver=()=>{this.updateFocusTrapElements()},this.beforeClose=void 0,this.description=void 0,this.dragEnabled=!1,this.closeDisabled=!1,this.embedded=!1,this.escapeDisabled=!1,this.heading=void 0,this.headingLevel=void 0,this.kind=void 0,this.loading=!1,this.menuOpen=!1,this.messages=void 0,this.messageOverrides=void 0,this.modal=!1,this.open=!1,this.outsideCloseDisabled=!1,this.overlayPositioning="absolute",this.placement="center",this.resizable=!1,this.scale="m",this.widthScale="m",this.opened=!1,this.hasFooter=!0,this.hasContentTop=!1,this.hasContentBottom=!1,this.effectiveLocale=void 0,this.defaultMessages=void 0,this.assistiveText=null}onMessagesChange(){}onModalChange(){this.updateOverflowHiddenClass()}async componentWillLoad(){await yc(this),Ss(this),this.open&&this.openDialog()}componentDidLoad(){_s(this)}connectedCallback(){var t;(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0}),ka(this),vc(this),FB(this),this.setupInteractions()}disconnectedCallback(){var t;this.removeOverflowHiddenClass(),(t=this.mutationObserver)==null||t.disconnect(),x2(this),Ca(this),bc(this),this.embedded=!1,this.cleanupInteractions()}render(){const{assistiveText:t,description:i,heading:n,opened:s}=this;return fe(Ar,{key:"bf406255eaa6d94c8443af185a74a2b2d58c6d59"},fe("div",{key:"de2a34b6da4a82c66e9fafdbdd2056e4e11e1315",class:{[Cd.container]:!0,[Cd.containerOpen]:s,[Cd.containerEmbedded]:this.embedded}},this.modal?fe("calcite-scrim",{class:Cd.scrim,onClick:this.handleOutsideClose}):null,fe("div",{key:"be47093e3a955ce45a71c555700143a4a1c7a166","aria-description":i,"aria-label":n,"aria-modal":Js(this.modal),class:Cd.dialog,onKeyDown:this.handleKeyDown,ref:this.setTransitionEl,role:"dialog"},t?fe("div",{"aria-live":"polite",class:Cd.assistiveText,key:"assistive-text"},t):null,fe("slot",{key:"6ed9f10ae7d5ecc1ec9062d6aba559001d5194e6",name:Qo.content},fe("calcite-panel",{key:"cd6ebaa7d7362cbeb70e9ae623f38298d1e831e3",beforeClose:this.beforeClose,class:Cd.panel,closable:!this.closeDisabled,closed:!s,description:i,heading:n,headingLevel:this.headingLevel,loading:this.loading,menuOpen:this.menuOpen,messageOverrides:this.messageOverrides,onCalcitePanelClose:this.handleInternalPanelCloseClick,onCalcitePanelScroll:this.handleInternalPanelScroll,onKeyDown:this.handlePanelKeyDown,overlayPositioning:this.overlayPositioning,ref:u=>this.panelEl=u,scale:this.scale},fe("slot",{key:"2ce955775c33b09fc849a083d0bcc1c8ce523dd8",name:Qo.actionBar,slot:Ln.actionBar}),fe("slot",{key:"dd44184de251320af6225baa2e59571b881a23cd",name:Qo.alerts,slot:Ln.alerts}),fe("slot",{key:"da343a1a10e015b04b37463c10592e612a576e9b",name:Qo.headerActionsStart,slot:Ln.headerActionsStart}),fe("slot",{key:"6680fde2bd7ad6dc5803c78ea7250d11d4920b7c",name:Qo.headerActionsEnd,slot:Ln.headerActionsEnd}),fe("slot",{key:"a17ca64188ffe6000792e67eafc838df575ebbc3",name:Qo.headerContent,slot:Ln.headerContent}),fe("slot",{key:"7e048c4a9104053ca0a61ab2514b018efb4fc872",name:Qo.headerMenuActions,slot:Ln.headerMenuActions}),fe("slot",{key:"6760c8a6c105a511fcb859cfd222f8c1355a82c4",name:Qo.fab,slot:Ln.fab}),fe("slot",{key:"e0f2e7644281d408d8c21ce5bf16b08af0a59c3b",name:Qo.contentTop,slot:Ln.contentTop}),fe("slot",{key:"01889c3b7fc13bc49521c27feb2ab35346552504",name:Qo.contentBottom,slot:Ln.contentBottom}),fe("slot",{key:"593bad35110b5d7e7b44d598b397e4b87cc28e28",name:Qo.footerStart,slot:Ln.footerStart}),fe("slot",{key:"5e84099e096a6afb678cce9731b189f4011dc067",name:Qo.footer,slot:Ln.footer}),fe("slot",{key:"69a805bd0c1f43a6d165939e62db562428f39f11",name:Qo.footerEnd,slot:Ln.footerEnd}),fe("slot",{key:"b49e14ff6d2c63caaa8fd296920618e7673eb71b"}))))))}effectiveLocaleChange(){gc(this,this.effectiveLocale)}handleInteractionChange(){this.setupInteractions()}updateAssistiveText(){const{messages:t}=this;this.assistiveText=t&&(this.dragEnabled||this.resizable)?`${this.dragEnabled?t.dragEnabled:""} ${this.resizable?t.resizeEnabled:""}`:null}handleEscape(t){this.open&&!this.escapeDisabled&&t.key==="Escape"&&!t.defaultPrevented&&(this.open=!1,t.preventDefault())}async setFocus(){var t;return await Es(this),((t=this.panelEl)==null?void 0:t.setFocus())??m_(this.el)}async updateFocusTrapElements(){UB(this)}async scrollContentTo(t){var i;await((i=this.panelEl)==null?void 0:i.scrollContentTo(t))}onBeforeOpen(){this.calciteDialogBeforeOpen.emit()}onOpen(){this.calciteDialogOpen.emit(),mM(this)}onBeforeClose(){this.calciteDialogBeforeClose.emit()}onClose(){this.calciteDialogClose.emit(),x2(this)}toggleDialog(t){this.ignoreOpenChange||(t?this.openDialog():this.closeDialog())}handleOpenedChange(t){this.transitionEl.classList.toggle(Cd.openingActive,t),Rf(this)}async triggerInteractModifiers(){const{interaction:t}=this;t&&(await t.reflow({name:"drag"}),await t.reflow({name:"resize"}))}getTransitionElDOMRect(){return this.transitionEl.getBoundingClientRect()}updateTransform(){const{dragPosition:{x:t,y:i},resizePosition:n,transitionEl:s,dragEnabled:u,resizable:p}=this;if(!s)return;if(!u&&!p){s.style.transform=null;return}const{top:g,right:w,bottom:E,left:A}=this.getAdjustedResizePosition(n),I=Math.round(t+A+w),R=Math.round(i+g+E);s.style.transform=I||R?`translate(${I}px, ${R}px)`:null}updateSize({type:t,size:i}){const{transitionEl:n}=this;n&&(n.style[t]=i!==null?`${Math.round(i)}px`:null)}cleanupInteractions(){var t;(t=this.interaction)==null||t.unset(),this.updateSize({size:null,type:"inlineSize"}),this.updateSize({size:null,type:"blockSize"}),this.dragPosition={...Sz},this.resizePosition={..._z},this.updateTransform()}setupInteractions(){this.cleanupInteractions();const{el:t,transitionEl:i,resizable:n,dragEnabled:s,resizePosition:u,dragPosition:p}=this;if(!(!i||!this.open)){if((n||s)&&(this.interaction=Y5(i,{context:t.ownerDocument})),n){const{minInlineSize:g,minBlockSize:w,maxInlineSize:E,maxBlockSize:A}=window.getComputedStyle(i);this.interaction.resizable({edges:{top:!0,right:!0,bottom:!0,left:!0},modifiers:[Y5.modifiers.restrictSize({min:{width:this.isPixelValue(g)?parseInt(g,10):0,height:this.isPixelValue(w)?parseInt(w,10):0},max:{width:this.isPixelValue(E)?parseInt(E,10):window.innerWidth,height:this.isPixelValue(A)?parseInt(A,10):window.innerHeight}}),Y5.modifiers.restrict({restriction:"parent"})],listeners:{move:({rect:I,deltaRect:R})=>{R&&(u.top+=R.top,u.right+=R.right,u.bottom+=R.bottom,u.left+=R.left),this.updateSize({size:I.width,type:"inlineSize"}),this.updateSize({size:I.height,type:"blockSize"}),this.updateTransform()}}})}s&&this.interaction.draggable({modifiers:[Y5.modifiers.restrictRect({restriction:"parent"})],listeners:{move:({dx:g,dy:w})=>{p.x+=g,p.y+=w,this.updateTransform()}}})}}isPixelValue(t){return t.indexOf("px")!==-1}getAdjustedResizePosition({top:t,right:i,bottom:n,left:s}){const u=t/2,p=i/2,g=n/2,w=s/2;switch(this.placement){case"top":return{top:t,right:p,bottom:0,left:w};case"top-start":return{top:t,right:0,bottom:0,left:s};case"top-end":return{top:t,right:i,bottom:0,left:0};case"bottom":return{top:0,right:p,bottom:n,left:w};case"bottom-start":return{top:0,right:0,bottom:n,left:s};case"bottom-end":return{top:0,right:i,bottom:n,left:0};case"cover":case"center":default:return{top:u,right:p,bottom:g,left:w}}}async openDialog(){await yB(this.el),this.el.addEventListener("calciteDialogOpen",this.openEnd),this.opened=!0,this.updateOverflowHiddenClass()}addOverflowHiddenClass(){bT===0&&(Ez=document.documentElement.style.overflow),bT++,document.documentElement.style.setProperty("overflow","hidden")}removeOverflowHiddenClass(){document.documentElement.style.setProperty("overflow",Ez)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],modal:["onModalChange"],effectiveLocale:["effectiveLocaleChange"],open:["handleInteractionChange","toggleDialog"],placement:["handleInteractionChange"],resizable:["handleInteractionChange","updateAssistiveText"],dragEnabled:["handleInteractionChange","updateAssistiveText"],messages:["updateAssistiveText"],opened:["handleOpenedChange"]}}static get style(){return Kde}},[1,"calcite-dialog",{beforeClose:[16],description:[1],dragEnabled:[516,"drag-enabled"],closeDisabled:[516,"close-disabled"],embedded:[1028],escapeDisabled:[516,"escape-disabled"],heading:[1],headingLevel:[514,"heading-level"],kind:[513],loading:[516],menuOpen:[516,"menu-open"],messages:[1040],messageOverrides:[1040],modal:[516],open:[1540],outsideCloseDisabled:[516,"outside-close-disabled"],overlayPositioning:[513,"overlay-positioning"],placement:[513],resizable:[516],scale:[513],widthScale:[513,"width-scale"],opened:[32],hasFooter:[32],hasContentTop:[32],hasContentBottom:[32],effectiveLocale:[32],defaultMessages:[32],assistiveText:[32],setFocus:[64],updateFocusTrapElements:[64],scrollContentTo:[64]},[[8,"keydown","handleEscape"]],{messageOverrides:["onMessagesChange"],modal:["onModalChange"],effectiveLocale:["effectiveLocaleChange"],open:["handleInteractionChange","toggleDialog"],placement:["handleInteractionChange"],resizable:["handleInteractionChange","updateAssistiveText"],dragEnabled:["handleInteractionChange","updateAssistiveText"],messages:["updateAssistiveText"],opened:["handleOpenedChange"]}]);function cW(){if(typeof customElements>"u")return;["calcite-dialog","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-panel","calcite-popover","calcite-scrim"].forEach(t=>{switch(t){case"calcite-dialog":customElements.get(t)||customElements.define(t,lW);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-action-menu":customElements.get(t)||Pw();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break;case"calcite-panel":customElements.get(t)||oW();break;case"calcite-popover":customElements.get(t)||bg();break;case"calcite-scrim":customElements.get(t)||vO();break}})}cW();const Xde=lW,Qde=cW,efe=Object.freeze(Object.defineProperty({__proto__:null,CalciteDialog:Xde,defineCustomElement:Qde},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const tfe={container:"container"},ife=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([alignment=start]){text-align:start}:host([alignment=end]){text-align:end}:host([alignment=center]){text-align:center}:host([scale=s]) .container{gap:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, 0.5rem)}:host([scale=m]) .container{gap:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, 0.75rem)}:host([scale=l]) .container{gap:0.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;margin-block-end:var(--calcite-label-margin-bottom, 1rem)}:host .container{margin-inline:0px;margin-block-start:0px;inline-size:100%;line-height:1.375;color:var(--calcite-color-text-1)}:host([layout=default]) .container{display:flex;flex-direction:column}:host([layout=inline]) .container,:host([layout=inline-space-between]) .container{display:flex;flex-direction:row;align-items:center;gap:0.5rem}:host([layout=inline][scale=l]) .container{gap:0.75rem}:host([layout=inline-space-between]) .container{justify-content:space-between}:host([disabled])>.container{opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted(*[disabled]),:host([disabled]) ::slotted(*[disabled] *){--tw-bg-opacity:1}:host([disabled]) ::slotted(calcite-input-message:not([active])){--tw-bg-opacity:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}",nfe=ife,rfe=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalLabelClick=gt(this,"calciteInternalLabelClick",2),this.labelClickHandler=t=>{var i;((i=window.getSelection())==null?void 0:i.type)!=="Range"&&this.calciteInternalLabelClick.emit({sourceEvent:t})},this.alignment="start",this.for=void 0,this.scale="m",this.layout="default"}handleForChange(){wce(this.el)}connectedCallback(){document.dispatchEvent(new CustomEvent(g_))}disconnectedCallback(){document.dispatchEvent(new CustomEvent(FS))}render(){return fe(Ar,{key:"c3eff09792519c9e5a76ee28e3754db83b536f99",onClick:this.labelClickHandler},fe("div",{key:"387902edd9b59be290f95ad6c2721584037d7256",class:tfe.container},fe("slot",{key:"b54d782522e95323333040e40e1a6dd06b52a575"})))}get el(){return this}static get watchers(){return{for:["handleForChange"]}}static get style(){return nfe}},[1,"calcite-label",{alignment:[513],for:[513],scale:[513],layout:[513]},void 0,{for:["handleForChange"]}]);function sfe(){if(typeof customElements>"u")return;["calcite-label"].forEach(t=>{switch(t){case"calcite-label":customElements.get(t)||customElements.define(t,rfe);break}})}sfe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const ofe={dropdownTrigger:"trigger"},afe=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host .calcite-dropdown-wrapper{--calcite-floating-ui-z-index:var(--calcite-z-index-dropdown);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.calcite-dropdown-wrapper .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset, left, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}.calcite-dropdown-wrapper[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.calcite-dropdown-wrapper[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.calcite-dropdown-wrapper[data-placement^=left] .calcite-floating-ui-anim{left:5px}.calcite-dropdown-wrapper[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.calcite-dropdown-wrapper[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block:0;left:0}:host([open]) .calcite-dropdown-wrapper{visibility:visible}:host .calcite-dropdown-content{max-block-size:45vh;inline-size:auto;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-color-foreground-1);inline-size:var(--calcite-dropdown-width)}.calcite-trigger-container{position:relative;display:flex;block-size:100%;flex:1 1 auto;word-wrap:break-word;word-break:break-word}@media (forced-colors: active){:host([open]) .calcite-dropdown-wrapper{border:1px solid canvasText}}:host([width-scale=s]){--calcite-dropdown-width:12rem}:host([width-scale=m]){--calcite-dropdown-width:14rem}:host([width-scale=l]){--calcite-dropdown-width:16rem}:host([hidden]){display:none}[hidden]{display:none}",lfe=afe,cfe=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteDropdownSelect=gt(this,"calciteDropdownSelect",6),this.calciteDropdownBeforeClose=gt(this,"calciteDropdownBeforeClose",6),this.calciteDropdownClose=gt(this,"calciteDropdownClose",6),this.calciteDropdownBeforeOpen=gt(this,"calciteDropdownBeforeOpen",6),this.calciteDropdownOpen=gt(this,"calciteDropdownOpen",6),this.items=[],this.groups=[],this.mutationObserver=yo("mutation",()=>this.updateItems()),this.resizeObserver=yo("resize",t=>this.resizeObserverCallback(t)),this.openTransitionProp="opacity",this.guid=`calcite-dropdown-${jh()}`,this.focusLastDropdownItem=!1,this.setFilteredPlacements=()=>{const{el:t,flipPlacements:i}=this;this.filteredFlipPlacements=i?iW(i,t):null},this.updateTriggers=t=>{this.triggers=t.target.assignedElements({flatten:!0}),this.reposition(!0)},this.updateItems=()=>{this.items=this.groups.map(t=>Array.from(t==null?void 0:t.querySelectorAll("calcite-dropdown-item"))).reduce((t,i)=>[...t,...i],[]),this.updateSelectedItems(),this.reposition(!0),this.items.forEach(t=>t.scale=this.scale)},this.updateGroups=t=>{const i=t.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-dropdown-group"));this.groups=i,this.updateItems(),this.updateGroupScale()},this.resizeObserverCallback=t=>{t.forEach(i=>{const{target:n}=i;n===this.referenceEl?this.setDropdownWidth():n===this.scrollerEl&&this.setMaxScrollerHeight()})},this.setDropdownWidth=()=>{const{referenceEl:t,scrollerEl:i}=this,n=t==null?void 0:t.clientWidth;!n||!i||(i.style.minWidth=`${n}px`)},this.setMaxScrollerHeight=()=>{const{scrollerEl:t}=this;if(!t)return;this.reposition(!0);const i=this.getMaxScrollerHeight();t.style.maxHeight=i>0?`${i}px`:"",this.reposition(!0)},this.setScrollerAndTransitionEl=t=>{this.resizeObserver.observe(t),this.scrollerEl=t,this.transitionEl=t},this.setReferenceEl=t=>{this.referenceEl=t,dy(this,this.referenceEl,this.floatingEl),this.resizeObserver.observe(t)},this.setFloatingEl=t=>{this.floatingEl=t,dy(this,this.referenceEl,this.floatingEl)},this.keyDownHandler=t=>{if(!t.composedPath().includes(this.referenceEl))return;const{defaultPrevented:i,key:n}=t;if(!i){if(n==="Escape"){this.closeCalciteDropdown(),t.preventDefault();return}if(this.open&&t.shiftKey&&n==="Tab"){this.closeCalciteDropdown(),t.preventDefault();return}y_(n)?(this.toggleDropdown(),t.preventDefault()):(n==="ArrowDown"||n==="ArrowUp")&&(this.focusLastDropdownItem=n==="ArrowUp",this.open=!0,this.el.addEventListener("calciteDropdownOpen",this.onOpenEnd))}},this.focusOnFirstActiveOrDefaultItem=()=>{const i=this.getTraversableItems().find(n=>n.selected)||(this.focusLastDropdownItem?this.items[this.items.length-1]:this.items[0]);this.focusLastDropdownItem=!1,i&&n1(i)},this.onOpenEnd=()=>{this.focusOnFirstActiveOrDefaultItem(),this.el.removeEventListener("calciteDropdownOpen",this.onOpenEnd)},this.toggleDropdown=()=>{this.open=!this.open,this.open&&this.el.addEventListener("calciteDropdownOpen",this.onOpenEnd)},this.open=!1,this.closeOnSelectDisabled=!1,this.disabled=!1,this.flipPlacements=void 0,this.maxItems=0,this.overlayPositioning="absolute",this.placement=Mde,this.selectedItems=[],this.type="click",this.widthScale=void 0,this.scale="m"}openHandler(){if(Rf(this),this.disabled){this.open=!1;return}this.reposition(!0)}handleDisabledChange(t){t||(this.open=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}maxItemsHandler(){this.setMaxScrollerHeight()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}handlePropsChange(){this.updateItems(),this.updateGroupScale()}async setFocus(){await Es(this),m_(this.referenceEl)}connectedCallback(){var t;(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),this.open&&(this.openHandler(),Rf(this)),this.updateItems(),dy(this,this.referenceEl,this.floatingEl)}componentWillLoad(){Ss(this)}componentDidLoad(){_s(this),dy(this,this.referenceEl,this.floatingEl)}componentDidRender(){T1(this)}disconnectedCallback(){var t,i;(t=this.mutationObserver)==null||t.disconnect(),(i=this.resizeObserver)==null||i.disconnect(),E_(this,this.referenceEl,this.floatingEl)}render(){const{open:t,guid:i}=this;return fe(Ar,{key:"377c3d9687bc025f004b4efe58bfa5f0893d86d0"},fe(M1,{key:"9e2f48be045fc6db10cc7203a8b998ec2b6abafd",disabled:this.disabled},fe("div",{key:"8607de2d53a4f8c4b29206ee56aa23ad4c2cbe3d",class:"calcite-trigger-container",id:`${i}-menubutton`,onClick:this.toggleDropdown,onKeyDown:this.keyDownHandler,ref:this.setReferenceEl},fe("slot",{key:"07de8df34055ddc39301654a5ca312ddf293e6a9","aria-controls":`${i}-menu`,"aria-expanded":Js(t),"aria-haspopup":"menu",name:ofe.dropdownTrigger,onSlotchange:this.updateTriggers})),fe("div",{key:"c1469efb62eb704b021ce6479ad55deda59582d4","aria-hidden":Js(!t),class:"calcite-dropdown-wrapper",ref:this.setFloatingEl},fe("div",{key:"f875166d486a53cd393f17d9295974aa449d449f","aria-labelledby":`${i}-menubutton`,class:{"calcite-dropdown-content":!0,[Wy.animation]:!0,[Wy.animationActive]:t},id:`${i}-menu`,ref:this.setScrollerAndTransitionEl,role:"menu"},fe("slot",{key:"bc6e61383aaf85b3d6242a86c50da68bc8b31e27",onSlotchange:this.updateGroups})))))}async reposition(t=!1){const{floatingEl:i,referenceEl:n,placement:s,overlayPositioning:u,filteredFlipPlacements:p}=this;return gO(this,{floatingEl:i,referenceEl:n,overlayPositioning:u,placement:s,flipPlacements:p,type:"menu"},t)}closeCalciteDropdownOnClick(t){this.disabled||!this.open||t.composedPath().includes(this.el)||this.closeCalciteDropdown(!1)}closeCalciteDropdownOnEvent(t){this.closeCalciteDropdown(),t.stopPropagation()}closeCalciteDropdownOnOpenEvent(t){t.composedPath().includes(this.el)||(this.open=!1)}pointerEnterHandler(){this.disabled||this.type!=="hover"||this.toggleDropdown()}pointerLeaveHandler(){this.disabled||this.type!=="hover"||this.closeCalciteDropdown()}getTraversableItems(){return this.items.filter(t=>!t.disabled&&!t.hidden)}calciteInternalDropdownItemKeyEvent(t){const{keyboardEvent:i}=t.detail,n=i.target,s=this.getTraversableItems();switch(i.key){case"Tab":this.open=!1,this.updateTabIndexOfItems(n);break;case"ArrowDown":wf(s,n,"next");break;case"ArrowUp":wf(s,n,"previous");break;case"Home":wf(s,n,"first");break;case"End":wf(s,n,"last");break}t.stopPropagation()}handleItemSelect(t){this.updateSelectedItems(),t.stopPropagation(),this.calciteDropdownSelect.emit(),(!this.closeOnSelectDisabled||t.detail.requestedDropdownGroup.selectionMode==="none")&&this.closeCalciteDropdown(),t.stopPropagation()}updateGroupScale(){var t;(t=this.groups)==null||t.forEach(i=>i.scale=this.scale)}onBeforeOpen(){this.calciteDropdownBeforeOpen.emit()}onOpen(){this.calciteDropdownOpen.emit()}onBeforeClose(){this.calciteDropdownBeforeClose.emit()}onClose(){this.calciteDropdownClose.emit()}updateSelectedItems(){this.selectedItems=this.items.filter(t=>t.selected)}getMaxScrollerHeight(){const{maxItems:t,items:i}=this;let n=0,s=0,u;return this.groups.forEach(p=>{t>0&&n<t&&Array.from(p.children).forEach((g,w)=>{w===0&&(isNaN(u)&&(u=g.offsetTop),s+=u),n<t&&(s+=g.offsetHeight,n+=1)})}),i.length>t?s:0}closeCalciteDropdown(t=!0){this.open=!1,t&&n1(this.triggers[0])}updateTabIndexOfItems(t){this.items.forEach(i=>{i.tabIndex=t!==i?-1:0})}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{open:["openHandler"],disabled:["handleDisabledChange"],flipPlacements:["flipPlacementsHandler"],maxItems:["maxItemsHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],scale:["handlePropsChange"]}}static get style(){return lfe}},[17,"calcite-dropdown",{open:[1540],closeOnSelectDisabled:[516,"close-on-select-disabled"],disabled:[516],flipPlacements:[16],maxItems:[514,"max-items"],overlayPositioning:[513,"overlay-positioning"],placement:[513],selectedItems:[1040],type:[513],widthScale:[513,"width-scale"],scale:[513],setFocus:[64],reposition:[64]},[[8,"click","closeCalciteDropdownOnClick"],[0,"calciteInternalDropdownCloseRequest","closeCalciteDropdownOnEvent"],[8,"calciteDropdownOpen","closeCalciteDropdownOnOpenEvent"],[1,"pointerenter","pointerEnterHandler"],[1,"pointerleave","pointerLeaveHandler"],[0,"calciteInternalDropdownItemKeyEvent","calciteInternalDropdownItemKeyEvent"],[0,"calciteInternalDropdownItemSelect","handleItemSelect"]],{open:["openHandler"],disabled:["handleDisabledChange"],flipPlacements:["flipPlacementsHandler"],maxItems:["maxItemsHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],scale:["handlePropsChange"]}]);function ufe(){if(typeof customElements>"u")return;["calcite-dropdown"].forEach(t=>{switch(t){case"calcite-dropdown":customElements.get(t)||customElements.define(t,cfe);break}})}ufe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Ud={container:"container",containerNone:"container--none-selection",icon:"dropdown-item-icon",iconEnd:"dropdown-item-icon--end",iconStart:"dropdown-item-icon--start",itemContent:"dropdown-item-content",link:"dropdown-link"};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const hfe=":host{position:relative;display:block}.container{text-align:start}.dropdown-title{margin-block-end:-1px;display:block;cursor:default;overflow-wrap:break-word;border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-color-border-3);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-color-text-2)}.dropdown-separator{display:block;block-size:1px;background-color:var(--calcite-color-border-3)}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .dropdown-title{padding:0.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .dropdown-title{padding:0.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .dropdown-title{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}",dfe=hfe,uW=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalDropdownItemChange=gt(this,"calciteInternalDropdownItemChange",6),this.updateItems=()=>{Array.from(this.el.querySelectorAll("calcite-dropdown-item")).forEach(t=>t.selectionMode=this.selectionMode)},this.mutationObserver=yo("mutation",()=>this.updateItems()),this.groupTitle=void 0,this.scale="m",this.selectionMode="single"}handlePropsChange(){this.updateItems()}connectedCallback(){var t;this.updateItems(),(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0})}componentWillLoad(){this.groupPosition=this.getGroupPosition()}disconnectedCallback(){var t;(t=this.mutationObserver)==null||t.disconnect()}render(){const t=this.groupTitle?fe("span",{"aria-hidden":"true",class:"dropdown-title"},this.groupTitle):null,i=this.groupPosition>0?fe("div",{class:"dropdown-separator",role:"separator"}):null;return fe(Ar,{key:"f41943751aefdb17d4f5d5bd8778c219cfd01a00","aria-label":this.groupTitle,role:"group"},fe("div",{key:"87b78040b93c06081ca8282a785d466ed8fcf334",class:{[Ud.container]:!0}},i,t,fe("slot",{key:"f635a5bdbe439315eba6292a4858cbd8519d23d1"})))}updateActiveItemOnChange(t){this.requestedDropdownGroup=t.detail.requestedDropdownGroup,this.requestedDropdownItem=t.detail.requestedDropdownItem,this.calciteInternalDropdownItemChange.emit({requestedDropdownGroup:this.requestedDropdownGroup,requestedDropdownItem:this.requestedDropdownItem})}getGroupPosition(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-dropdown-group"),this.el)}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{selectionMode:["handlePropsChange"]}}static get style(){return dfe}},[17,"calcite-dropdown-group",{groupTitle:[513,"group-title"],scale:[513],selectionMode:[513,"selection-mode"]},[[0,"calciteInternalDropdownItemSelect","updateActiveItemOnChange"]],{selectionMode:["handlePropsChange"]}]);function hW(){if(typeof customElements>"u")return;["calcite-dropdown-group"].forEach(t=>{switch(t){case"calcite-dropdown-group":customElements.get(t)||customElements.define(t,uW);break}})}hW();const ffe=uW,pfe=hW,_Le=Object.freeze(Object.defineProperty({__proto__:null,CalciteDropdownGroup:ffe,defineCustomElement:pfe},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const mfe=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;flex-grow:1;align-items:center;outline-color:transparent}.container{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;color:var(--calcite-color-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);text-align:start}.container a{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;color:var(--calcite-color-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-color:transparent}.dropdown-item-content{flex:1 1 auto;padding-block:0.125rem}.dropdown-item-icon{position:relative;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:scale(0.9)}:host([scale=s]) .container{padding-block:0.25rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .dropdown-item-icon,:host([scale=s]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .container{padding-block:0.5rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .dropdown-item-icon,:host([scale=m]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-md)}:host([scale=m]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .container{padding-block:0.625rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .dropdown-item-icon,:host([scale=l]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-xl)}:host([scale=l]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-xl)}:host(:focus){outline:2px solid transparent;outline-offset:2px;outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host(:focus) .container{color:var(--calcite-color-text-1);text-decoration-line:none}:host(:hover:not([disabled])) .container,:host(:active:not([disabled])) .container{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-1);text-decoration-line:none}:host(:hover:not([disabled])) .dropdown-link,:host(:active:not([disabled])) .dropdown-link{color:var(--calcite-color-text-1)}:host(:active:not([disabled])) .container{background-color:var(--calcite-color-foreground-3)}:host([selected]) .container:not(.container--none-selection),:host([selected]) .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}:host([selected]) .container:not(.container--none-selection) calcite-icon,:host([selected]) .dropdown-link calcite-icon{color:var(--calcite-color-brand)}:host(:hover:not([disabled])) .dropdown-item-icon{color:var(--calcite-color-border-1);opacity:1}:host([selected]) .dropdown-item-icon{color:var(--calcite-color-brand);opacity:1}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,yfe=mfe,dW=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteDropdownItemSelect=gt(this,"calciteDropdownItemSelect",6),this.calciteInternalDropdownItemSelect=gt(this,"calciteInternalDropdownItemSelect",6),this.calciteInternalDropdownItemKeyEvent=gt(this,"calciteInternalDropdownItemKeyEvent",6),this.calciteInternalDropdownCloseRequest=gt(this,"calciteInternalDropdownCloseRequest",6),this.disabled=!1,this.href=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.iconEnd=void 0,this.label=void 0,this.rel=void 0,this.selected=!1,this.target=void 0,this.selectionMode="single",this.scale="m"}async setFocus(){var t;await Es(this),(t=this.el)==null||t.focus()}componentWillLoad(){Ss(this),this.initialize()}componentDidLoad(){_s(this)}connectedCallback(){this.initialize()}componentDidRender(){T1(this)}render(){const{href:t,selectionMode:i,label:n,iconFlipRtl:s}=this,u=fe("calcite-icon",{key:"1ec1c941651dda8f39fa15427592141f04180f3e",class:Ud.iconStart,flipRtl:s==="start"||s==="both",icon:this.iconStart,scale:q0(this.scale)}),p=fe("span",{key:"3ab167ed4054ca34b4e13e72b752af6cf25522ae",class:Ud.itemContent},fe("slot",{key:"88cf44809fb48450c66cc8f105bbda008a78157d"})),g=fe("calcite-icon",{key:"32fb27182943a032c0037f1f878a95c194d2dff1",class:Ud.iconEnd,flipRtl:s==="end"||s==="both",icon:this.iconEnd,scale:q0(this.scale)}),w=this.iconStart&&this.iconEnd?[u,p,g]:this.iconStart?[u,p]:this.iconEnd?[p,g]:p,E=t?fe("a",{"aria-label":n,class:Ud.link,href:t,ref:F=>this.childLink=F,rel:this.rel,tabIndex:-1,target:this.target},w):w,A=t?null:i==="single"?"menuitemradio":i==="multiple"?"menuitemcheckbox":"menuitem",I=i!=="none"?Js(this.selected):null,{disabled:R}=this;return fe(Ar,{key:"beec8e51bf18bdcab1928181828b372cc70bb7ee","aria-checked":I,"aria-label":t?"":n,role:A,tabIndex:R?-1:0},fe(M1,{key:"5cbbd1074d6c571f4cac3a99e4a2c09bf113db55",disabled:R},fe("div",{key:"bff025aeb280c9d0d829e5cf4d94e9392604e607",class:{[Ud.container]:!0,[Ud.containerNone]:i==="none"}},i!=="none"?fe("calcite-icon",{class:Ud.icon,icon:i==="multiple"?"check":"bullet-point",scale:q0(this.scale)}):null,E)))}onClick(){this.emitRequestedItem()}keyDownHandler(t){switch(t.key){case" ":case"Enter":this.emitRequestedItem(),this.href&&this.childLink.click(),t.preventDefault();break;case"Escape":this.calciteInternalDropdownCloseRequest.emit(),t.preventDefault();break;case"Tab":this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:t});break;case"ArrowUp":case"ArrowDown":case"Home":case"End":t.preventDefault(),this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:t});break}}updateActiveItemOnChange(t){t.composedPath().includes(this.parentDropdownGroupEl)&&(this.requestedDropdownGroup=t.detail.requestedDropdownGroup,this.requestedDropdownItem=t.detail.requestedDropdownItem,this.determineActiveItem()),t.stopPropagation()}initialize(){this.parentDropdownGroupEl=this.el.closest("calcite-dropdown-group"),this.selectionMode==="none"&&(this.selected=!1)}determineActiveItem(){switch(this.selectionMode){case"multiple":this.el===this.requestedDropdownItem&&(this.selected=!this.selected);break;case"single":this.el===this.requestedDropdownItem?this.selected=!0:this.requestedDropdownGroup===this.parentDropdownGroupEl&&(this.selected=!1);break;case"none":this.selected=!1;break}}emitRequestedItem(){this.calciteDropdownItemSelect.emit(),this.calciteInternalDropdownItemSelect.emit({requestedDropdownItem:this.el,requestedDropdownGroup:this.parentDropdownGroupEl})}get el(){return this}static get style(){return yfe}},[1,"calcite-dropdown-item",{disabled:[516],href:[513],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],iconEnd:[513,"icon-end"],label:[1],rel:[513],selected:[1540],target:[513],selectionMode:[1,"selection-mode"],scale:[513],setFocus:[64]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"],[16,"calciteInternalDropdownItemChange","updateActiveItemOnChange"]]]);function fW(){if(typeof customElements>"u")return;["calcite-dropdown-item","calcite-icon"].forEach(t=>{switch(t){case"calcite-dropdown-item":customElements.get(t)||customElements.define(t,dW);break;case"calcite-icon":customElements.get(t)||Xs();break}})}fW();const gfe=dW,vfe=fW,TLe=Object.freeze(Object.defineProperty({__proto__:null,CalciteDropdownItem:gfe,defineCustomElement:vfe},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Zy={menuActions:"menu-actions",menuTooltip:"menu-tooltip"},bfe={menu:"ellipsis"},wfe={container:"container"},xfe=':host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:flex;flex-direction:column;padding:0px;background-color:transparent;border-color:var(--calcite-action-group-border-color, var(--calcite-color-border-3));border-style:solid;border-width:0}.container{display:flex;flex-grow:1;flex-direction:column}:host([columns="1"]){--calcite-internal-action-group-columns:1}:host([columns="2"]){--calcite-internal-action-group-columns:2}:host([columns="3"]){--calcite-internal-action-group-columns:3}:host([columns="4"]){--calcite-internal-action-group-columns:4}:host([columns="5"]){--calcite-internal-action-group-columns:5}:host([columns="6"]){--calcite-internal-action-group-columns:6}:host(:first-child){padding-block-start:0px}:host([layout=horizontal]),:host([layout=horizontal]) .container{flex-direction:row}:host([layout=grid]){display:grid}:host([layout=grid]) .container{display:grid;place-content:stretch;background-color:transparent;grid-template-columns:repeat(var(--calcite-action-group-columns, var(--calcite-internal-action-group-columns, 3)), auto);gap:var(--calcite-action-group-gap, 1px);padding:var(--calcite-action-group-gap, 1px)}:host([hidden]){display:none}[hidden]{display:none}',Sfe=xfe,_fe=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.setMenuOpen=t=>{this.menuOpen=!!t.target.open},this.handleMenuActionsSlotChange=t=>{this.hasMenuActions=Qi(t)},this.expanded=!1,this.label=void 0,this.layout="vertical",this.columns=void 0,this.menuOpen=!1,this.overlayPositioning="absolute",this.scale=void 0,this.menuFlipPlacements=void 0,this.menuPlacement=void 0,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0,this.hasMenuActions=!1}expandedHandler(){this.menuOpen=!1}onMessagesChange(){}effectiveLocaleChange(){gc(this,this.effectiveLocale)}async setFocus(){await Es(this),this.el.focus()}connectedCallback(){ka(this),vc(this),f_(this)}disconnectedCallback(){Ca(this),bc(this),p_(this)}async componentWillLoad(){Ss(this),await yc(this)}componentDidLoad(){_s(this)}renderMenu(){const{expanded:t,menuOpen:i,scale:n,layout:s,messages:u,overlayPositioning:p,hasMenuActions:g,menuFlipPlacements:w,menuPlacement:E}=this;return fe("calcite-action-menu",{expanded:t,flipPlacements:w??(s==="horizontal"?["top","bottom"]:["left","right"]),hidden:!g,label:u.more,onCalciteActionMenuOpen:this.setMenuOpen,open:i,overlayPositioning:p,placement:E??(s==="horizontal"?"bottom-start":"leading-start"),scale:n},fe("calcite-action",{icon:bfe.menu,scale:n,slot:Jy.trigger,text:u.more,textEnabled:t}),fe("slot",{name:Zy.menuActions,onSlotchange:this.handleMenuActionsSlotChange}),fe("slot",{name:Zy.menuTooltip,slot:Jy.tooltip}))}render(){return fe("div",{key:"8143606c5745053f15140f34ff5ea375a683325f","aria-label":this.label,class:wfe.container,role:"group"},fe("slot",{key:"e8c2821b9ce2e9d0293478989fc31d24f043f9c3"}),this.renderMenu())}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Sfe}},[17,"calcite-action-group",{expanded:[516],label:[1],layout:[513],columns:[514],menuOpen:[1540,"menu-open"],overlayPositioning:[513,"overlay-positioning"],scale:[513],menuFlipPlacements:[16],menuPlacement:[513,"menu-placement"],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],hasMenuActions:[32],setFocus:[64]},void 0,{expanded:["expandedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function pW(){if(typeof customElements>"u")return;["calcite-action-group","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-group":customElements.get(t)||customElements.define(t,_fe);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-action-menu":customElements.get(t)||Pw();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break;case"calcite-popover":customElements.get(t)||bg();break}})}pW();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Efe=2,Tz=e=>e.reduce((t,i)=>t+i,0)/e.length,$Le=e=>{const t=e.filter(n=>n.slot!==Zy.menuActions),i=t==null?void 0:t.length;return{actionWidth:i?Tz(t.map(n=>n.clientWidth||0)):0,actionHeight:i?Tz(t.map(n=>n.clientHeight||0)):0}},Tfe=({width:e,actionWidth:t,layout:i,height:n,actionHeight:s,groupCount:u})=>{const p=i==="horizontal"?e:n,g=i==="horizontal"?t:s;return Math.floor((p-u*Efe)/g)},kLe=({layout:e,actionCount:t,actionWidth:i,width:n,actionHeight:s,height:u,groupCount:p})=>Math.max(t-Tfe({width:n,actionWidth:i,layout:e,height:u,actionHeight:s,groupCount:p}),0),mW=e=>Array.from(e.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===Jy.trigger:!0),CLe=({actionGroups:e,expanded:t,overflowCount:i})=>{let n=i;e.reverse().forEach(s=>{let u=0;const p=mW(s).reverse();p.forEach(g=>{g.slot===Zy.menuActions&&(g.removeAttribute("slot"),g.textEnabled=t)}),n>0&&p.some(g=>(p.filter(E=>!E.slot).length>1&&p.length>2&&!g.closest("calcite-action-menu")&&(g.textEnabled=!0,g.setAttribute("slot",Zy.menuActions),u++,u>1&&n--),n<1)),Hr(s)})},Mz={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function Mfe(e,t){var i;return e||((i=t.closest("calcite-shell-panel"))==null?void 0:i.position)||"start"}function $z({el:e,expanded:t}){mW(e).filter(i=>i.slot!==Zy.menuActions).forEach(i=>i.textEnabled=t),e.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(i=>i.expanded=t)}const $fe=({tooltip:e,referenceElement:t,expanded:i,ref:n})=>(e&&(e.referenceElement=!i&&t?t:null),n&&n(t),t),kfe=({expanded:e,expandText:t,collapseText:i,expandLabel:n,collapseLabel:s,toggle:u,el:p,position:g,tooltip:w,ref:E,scale:A})=>{const I=If(p)==="rtl",R=e?i:t,F=e?s:n,q=[Mz.chevronsLeft,Mz.chevronsRight];I&&q.reverse();const B=Mfe(g,p)==="end",K=B?q[1]:q[0],te=B?q[0]:q[1];return fe("calcite-action",{icon:e?K:te,id:"expand-toggle",label:F,onClick:u,ref:ye=>$fe({tooltip:w,referenceElement:ye,expanded:e,ref:E}),scale:A,text:R,textEnabled:e,title:!e&&!w?R:null})};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const kz={actionGroupEnd:"action-group--end",container:"container"},Cfe={expandTooltip:"expand-tooltip"},Afe=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:block}@keyframes in{0%{opacity:0}100%{opacity:1}}:host{animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:var(--calcite-action-pad-corner-radius, 0.125rem);background:transparent}:host([expanded][layout=vertical]) .container{max-inline-size:var(--calcite-action-pad-expanded-max-width, auto)}:host([layout=vertical]) ::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:1px}.container{display:inline-flex;flex-direction:column;overflow-y:auto;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);gap:var(--calcite-action-pad-items-space, 0);border-radius:calc(var(--calcite-action-pad-corner-radius, 0.125rem) * 2);background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}.action-group--bottom{flex-grow:1;justify-content:flex-end;padding-block-end:0px}:host([layout=horizontal]) .container{flex-direction:row}:host([layout=horizontal]) .container .action-group--bottom{padding:0px}:host([layout=horizontal]) .container ::slotted(calcite-action-group:not(:last-of-type)){border-inline-end-width:1px}:host([hidden]){display:none}[hidden]{display:none}",Ofe=Afe,Ife=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionPadToggle=gt(this,"calciteActionPadToggle",6),this.mutationObserver=yo("mutation",()=>this.setGroupLayout(Array.from(this.el.querySelectorAll("calcite-action-group")))),this.actionMenuOpenHandler=t=>{if(t.target.menuOpen){const i=t.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach(n=>{i.includes(n)||(n.menuOpen=!1)})}},this.toggleExpand=()=>{this.expanded=!this.expanded,this.calciteActionPadToggle.emit()},this.handleDefaultSlotChange=t=>{const i=rl(t).filter(n=>n==null?void 0:n.matches("calcite-action-group"));this.setGroupLayout(i)},this.handleTooltipSlotChange=t=>{const i=rl(t).filter(n=>n==null?void 0:n.matches("calcite-tooltip"));this.expandTooltip=i[0]},this.actionsEndGroupLabel=void 0,this.expandDisabled=!1,this.expanded=!1,this.layout="vertical",this.position=void 0,this.scale=void 0,this.messages=void 0,this.messageOverrides=void 0,this.overlayPositioning="absolute",this.expandTooltip=void 0,this.effectiveLocale="",this.defaultMessages=void 0}expandedHandler(t){$z({el:this.el,expanded:t})}layoutHandler(){this.updateGroups()}onMessagesChange(){}effectiveLocaleChange(){gc(this,this.effectiveLocale)}connectedCallback(){var t;f_(this),ka(this),vc(this),(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var t;Ca(this),bc(this),p_(this),(t=this.mutationObserver)==null||t.disconnect()}async componentWillLoad(){Ss(this);const{el:t,expanded:i}=this;$z({el:t,expanded:i}),await yc(this)}componentDidLoad(){_s(this)}async setFocus(){var t;await Es(this),(t=this.el)==null||t.focus()}updateGroups(){this.setGroupLayout(Array.from(this.el.querySelectorAll("calcite-action-group")))}setGroupLayout(t){t.forEach(i=>i.layout=this.layout)}renderBottomActionGroup(){const{expanded:t,expandDisabled:i,messages:n,el:s,position:u,toggleExpand:p,scale:g,layout:w,actionsEndGroupLabel:E,overlayPositioning:A}=this,I=i?null:fe(kfe,{collapseLabel:n.collapseLabel,collapseText:n.collapse,el:s,expandLabel:n.expandLabel,expandText:n.expand,expanded:t,position:u,scale:g,toggle:p,tooltip:this.expandTooltip});return I?fe("calcite-action-group",{class:kz.actionGroupEnd,label:E,layout:w,overlayPositioning:A,scale:g},fe("slot",{name:Cfe.expandTooltip,onSlotchange:this.handleTooltipSlotChange}),I):null}render(){return fe(Ar,{key:"ca50c5f475d78b92b5347ab912727587420ceea5",onCalciteActionMenuOpen:this.actionMenuOpenHandler},fe("div",{key:"81b26e9b6bd0a04357fe00ef55111c6bb609f4e7",class:kz.container},fe("slot",{key:"e346dc6cfab0e26cfc694b43063715d7b845ae32",onSlotchange:this.handleDefaultSlotChange}),this.renderBottomActionGroup()))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],layout:["layoutHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ofe}},[17,"calcite-action-pad",{actionsEndGroupLabel:[1,"actions-end-group-label"],expandDisabled:[516,"expand-disabled"],expanded:[1540],layout:[513],position:[513],scale:[513],messages:[1040],messageOverrides:[1040],overlayPositioning:[513,"overlay-positioning"],expandTooltip:[32],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]},void 0,{expanded:["expandedHandler"],layout:["layoutHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function Pfe(){if(typeof customElements>"u")return;["calcite-action-pad","calcite-action","calcite-action-group","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-pad":customElements.get(t)||customElements.define(t,Ife);break;case"calcite-action":customElements.get(t)||Uh();break;case"calcite-action-group":customElements.get(t)||pW();break;case"calcite-action-menu":customElements.get(t)||Pw();break;case"calcite-icon":customElements.get(t)||Xs();break;case"calcite-loader":customElements.get(t)||bl();break;case"calcite-popover":customElements.get(t)||bg();break}})}Pfe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Rfe={container:"container"},Dfe=300,Nfe=500,Cz="aria-describedby";function yW(e){const{referenceElement:t}=e;return(typeof t=="string"?Aw(e,{id:t}):t)||null}class Lfe{constructor(){this.registeredElements=new WeakMap,this.registeredShadowRootCounts=new WeakMap,this.hoverOpenTimeout=null,this.hoverCloseTimeout=null,this.activeTooltip=null,this.registeredElementCount=0,this.clickedTooltip=null,this.queryTooltip=t=>{const{registeredElements:i}=this,n=t.find(s=>i.has(s));return i.get(n)},this.keyDownHandler=t=>{if(t.key==="Escape"&&!t.defaultPrevented){const{activeTooltip:i}=this;if(i!=null&&i.open){this.clearHoverTimeout(),this.closeActiveTooltip();const n=yW(i);n instanceof Element&&n.contains(t.target)&&t.preventDefault()}}},this.pointerMoveHandler=t=>{const i=t.composedPath(),{activeTooltip:n}=this,s=this.queryTooltip(i);if(this.pathHasOpenTooltip(s,i)){this.clearHoverTimeout();return}s!==this.clickedTooltip&&(s?this.openHoveredTooltip(s):n!=null&&n.open&&this.closeHoveredTooltip(),this.clickedTooltip=null)},this.clickHandler=t=>{this.clickedTooltip=null;const i=t.composedPath(),n=this.queryTooltip(i);if(this.pathHasOpenTooltip(n,i)){this.clearHoverTimeout();return}if(this.closeActiveTooltip(),!!n){if(this.clearHoverTimeout(),n.closeOnClick){this.clickedTooltip=n,this.toggleTooltip(n,!1);return}this.toggleTooltip(n,!0)}},this.blurHandler=()=>{this.closeActiveTooltip()},this.focusInHandler=t=>{const i=t.composedPath(),n=this.queryTooltip(i);if(this.pathHasOpenTooltip(n,i)){this.clearHoverTimeout();return}this.closeTooltipIfNotActive(n),n&&this.toggleFocusedTooltip(n,!0)},this.openHoveredTooltip=t=>{var i;this.hoverOpenTimeout=window.setTimeout(()=>{this.hoverOpenTimeout!==null&&(this.clearHoverCloseTimeout(),this.closeTooltipIfNotActive(t),this.toggleTooltip(t,!0))},(i=this.activeTooltip)!=null&&i.open?0:Dfe)},this.closeHoveredTooltip=()=>{this.hoverCloseTimeout=window.setTimeout(()=>{this.hoverCloseTimeout!==null&&this.closeActiveTooltip()},Nfe)}}registerElement(t,i){this.registeredElementCount++,this.registeredElements.set(t,i);const n=this.getReferenceElShadowRootNode(t);n&&this.registerShadowRoot(n),this.registeredElementCount===1&&this.addListeners()}unregisterElement(t){const i=this.getReferenceElShadowRootNode(t);i&&this.unregisterShadowRoot(i),this.registeredElements.delete(t)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}pathHasOpenTooltip(t,i){const{activeTooltip:n}=this;return(n==null?void 0:n.open)&&i.includes(n)||(t==null?void 0:t.open)&&i.includes(t)}addShadowListeners(t){t.addEventListener("focusin",this.focusInHandler,{capture:!0})}removeShadowListeners(t){t.removeEventListener("focusin",this.focusInHandler,{capture:!0})}addListeners(){window.addEventListener("keydown",this.keyDownHandler,{capture:!0}),window.addEventListener("pointermove",this.pointerMoveHandler,{capture:!0}),window.addEventListener("click",this.clickHandler,{capture:!0}),window.addEventListener("focusin",this.focusInHandler,{capture:!0}),window.addEventListener("blur",this.blurHandler)}removeListeners(){window.removeEventListener("keydown",this.keyDownHandler,{capture:!0}),window.removeEventListener("pointermove",this.pointerMoveHandler,{capture:!0}),window.removeEventListener("click",this.clickHandler,{capture:!0}),window.removeEventListener("focusin",this.focusInHandler,{capture:!0}),window.removeEventListener("blur",this.blurHandler)}clearHoverOpenTimeout(){window.clearTimeout(this.hoverOpenTimeout),this.hoverOpenTimeout=null}clearHoverCloseTimeout(){window.clearTimeout(this.hoverCloseTimeout),this.hoverCloseTimeout=null}clearHoverTimeout(){this.clearHoverOpenTimeout(),this.clearHoverCloseTimeout()}closeTooltipIfNotActive(t){this.activeTooltip!==t&&this.closeActiveTooltip()}closeActiveTooltip(){const{activeTooltip:t}=this;t!=null&&t.open&&this.toggleTooltip(t,!1)}toggleFocusedTooltip(t,i){i&&this.clearHoverTimeout(),this.toggleTooltip(t,i)}toggleTooltip(t,i){t.open=i,this.activeTooltip=i?t:null}registerShadowRoot(t){const{registeredShadowRootCounts:i}=this,n=i.get(t),s=Math.min((typeof n=="number"?n:0)+1,1);s===1&&this.addShadowListeners(t),i.set(t,s)}unregisterShadowRoot(t){const{registeredShadowRootCounts:i}=this,n=i.get(t),s=Math.max((typeof n=="number"?n:1)-1,0);s===0&&this.removeShadowListeners(t),i.set(t,s)}getReferenceElShadowRootNode(t){return t instanceof Element?ile(t):null}}const zfe=":host{--calcite-floating-ui-z-index:var(--calcite-tooltip-z-index, var(--calcite-z-index-tooltip));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset, left, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{inset-block-start:-5px}:host([data-placement^=top]) .calcite-floating-ui-anim{inset-block-start:5px}:host([data-placement^=left]) .calcite-floating-ui-anim{left:5px}:host([data-placement^=right]) .calcite-floating-ui-anim{left:-5px}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;inset-block:0;left:0}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}.container{position:relative;overflow:hidden;border-radius:0.25rem;padding-block:0.75rem;padding-inline:1rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);max-inline-size:20rem;max-block-size:20rem;text-align:start}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-3);background-color:var(--calcite-color-foreground-1)}.arrow::before{outline:1px solid var(--calcite-color-border-3)}:host([hidden]){display:none}[hidden]{display:none}",jfe=zfe,Az=new Lfe,gW=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTooltipBeforeClose=gt(this,"calciteTooltipBeforeClose",6),this.calciteTooltipClose=gt(this,"calciteTooltipClose",6),this.calciteTooltipBeforeOpen=gt(this,"calciteTooltipBeforeOpen",6),this.calciteTooltipOpen=gt(this,"calciteTooltipOpen",6),this.guid=`calcite-tooltip-${jh()}`,this.openTransitionProp="opacity",this.setTransitionEl=t=>{this.transitionEl=t},this.setUpReferenceElement=(t=!0)=>{this.removeReferences(),this.effectiveReferenceElement=yW(this.el),dy(this,this.effectiveReferenceElement,this.el);const{el:i,referenceElement:n,effectiveReferenceElement:s}=this;t&&n&&!s&&console.warn(`${i.tagName}: reference-element id "${n}" was not found.`,{el:i}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.addReferences=()=>{const{effectiveReferenceElement:t}=this;if(!t)return;const i=this.getId();"setAttribute"in t&&t.setAttribute(Cz,i),Az.registerElement(t,this.el)},this.removeReferences=()=>{const{effectiveReferenceElement:t}=this;t&&("removeAttribute"in t&&t.removeAttribute(Cz),Az.unregisterElement(t))},this.closeOnClick=!1,this.label=void 0,this.offsetDistance=rW,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.referenceElement=void 0,this.effectiveReferenceElement=void 0,this.floatingLayout="vertical"}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(){Rf(this),this.reposition(!0)}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement()}connectedCallback(){this.setUpReferenceElement(!0),this.open&&Rf(this)}async componentWillLoad(){this.open&&Rf(this)}componentDidLoad(){this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement()}disconnectedCallback(){this.removeReferences(),E_(this,this.effectiveReferenceElement,this.el)}async reposition(t=!1){const{el:i,effectiveReferenceElement:n,placement:s,overlayPositioning:u,offsetDistance:p,offsetSkidding:g,arrowEl:w}=this;return gO(this,{floatingEl:i,referenceEl:n,overlayPositioning:u,placement:s,offsetDistance:p,offsetSkidding:g,arrowEl:w,type:"tooltip"},t)}onBeforeOpen(){this.calciteTooltipBeforeOpen.emit()}onOpen(){this.calciteTooltipOpen.emit()}onBeforeClose(){this.calciteTooltipBeforeClose.emit()}onClose(){this.calciteTooltipClose.emit()}render(){const{effectiveReferenceElement:t,label:i,open:n,floatingLayout:s}=this,u=t&&n,p=!u;return fe(Ar,{key:"4f097fd8c6eda6dfcd5734e5aaea1f52092501e7","aria-hidden":Js(p),"aria-label":i,"aria-live":"polite","calcite-hydrated-hidden":p,id:this.getId(),role:"tooltip"},fe("div",{key:"6b5055ab6f95277dd4daeaaff15cb9848d85eea0",class:{[Wy.animation]:!0,[Wy.animationActive]:u},ref:this.setTransitionEl},fe(sW,{key:"57f68bea5a7bb369d82437f10535cab9753677ea",floatingLayout:s,ref:g=>this.arrowEl=g}),fe("div",{key:"100b8318173849508952f996acaeb5bf81b8af43",class:Rfe.container},fe("slot",{key:"f89d3ae9313d9555e6a7acdc32c323de85319a3a"}))))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return jfe}},[1,"calcite-tooltip",{closeOnClick:[516,"close-on-click"],label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[516],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],effectiveReferenceElement:[32],floatingLayout:[32],reposition:[64]},void 0,{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}]);function vW(){if(typeof customElements>"u")return;["calcite-tooltip"].forEach(t=>{switch(t){case"calcite-tooltip":customElements.get(t)||customElements.define(t,gW);break}})}vW();const Ffe=gW,Ufe=vW,Vfe=Object.freeze(Object.defineProperty({__proto__:null,CalciteTooltip:Ffe,defineCustomElement:Ufe},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Gfe=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline}:host a,:host span{position:relative;display:flex;cursor:pointer;align-items:center;justify-content:center;border-radius:0px;border-style:none;font-family:inherit;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;text-decoration:none;line-height:inherit;font-size:inherit;-webkit-appearance:none}:host a:hover,:host span:hover{text-decoration:none}:host a,:host span{outline-color:transparent}:host a:focus,:host span:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}calcite-icon{inline-size:1em;block-size:1em;min-inline-size:unset;min-block-size:unset}.calcite-link--icon{vertical-align:middle;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;margin-block-start:-0.25em}:host .calcite-link--icon.icon-start{margin-inline-end:0.5rem}:host .calcite-link--icon.icon-end{margin-inline-start:0.5rem}:host span,:host a{position:relative;display:inline;border-style:none;background-color:transparent;padding:0px;color:var(--calcite-color-text-link);transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;line-height:inherit;white-space:initial;background-image:linear-gradient(currentColor, currentColor), linear-gradient(var(--calcite-color-brand-underline), var(--calcite-color-brand-underline));background-position-x:0%, 100%;background-position-y:min(1.5em, 100%);background-repeat:no-repeat, no-repeat;background-size:0% 1px, 100% 1px}:host span:hover,:host span:focus,:host a:hover,:host a:focus{background-size:100% 1px, 100% 1px}:host span:active,:host a:active{background-size:100% 2px, 100% 2px}:host span.calcite--rtl,:host a.calcite--rtl{background-position:100% 100%, 100% 100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,Hfe=Gfe,qfe=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childElClickHandler=t=>{t.isTrusted||t.stopPropagation()},this.storeTagRef=t=>{this.childEl=t},this.disabled=!1,this.download=!1,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.rel=void 0,this.target=void 0}componentWillLoad(){Ss(this)}componentDidLoad(){_s(this)}componentDidRender(){T1(this)}render(){const{download:t,el:i}=this,n=If(i),s=this.href?"a":"span",u=fe("calcite-icon",{key:"c9844033e9bd5da35333b485aad27ddb2df6b039",class:"calcite-link--icon icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),p=fe("calcite-icon",{key:"f1de10682fee566552253cf2ae3cb6725f5e5f11",class:"calcite-link--icon icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),g=s,w=s==="span"?"link":null,E=s==="span"?0:null;return fe(Ar,{key:"5ad440468fcccb6fe7c146ec57462e7593f96109",role:"presentation"},fe(M1,{key:"916c68cd97c31fa1ec69f408d25d3023749698e1",disabled:this.disabled},fe(g,{key:"e00cebc0c56b95c02192872ac84df996a74a5fa4",class:{[nu.rtl]:n==="rtl"},download:s==="a"?t===!0||t===""?"":t||null:null,href:s==="a"&&this.href,onClick:this.childElClickHandler,ref:this.storeTagRef,rel:s==="a"&&this.rel,role:w,tabIndex:E,target:s==="a"&&this.target},this.iconStart?u:null,fe("slot",{key:"57b25ff3b8f7f3d048796a559c2911178d6b8ddf"}),this.iconEnd?p:null)))}clickHandler(t){this.disabled||t.isTrusted||this.childEl.click()}async setFocus(){await Es(this),n1(this.childEl)}get el(){return this}static get style(){return Hfe}},[1,"calcite-link",{disabled:[516],download:[520],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],rel:[1],target:[1],setFocus:[64]},[[0,"click","clickHandler"]]]);function Bfe(){if(typeof customElements>"u")return;["calcite-link","calcite-icon"].forEach(t=>{switch(t){case"calcite-link":customElements.get(t)||customElements.define(t,qfe);break;case"calcite-icon":customElements.get(t)||Xs();break}})}Bfe();var go=typeof window<"u"&&"$arcgis"in window&&typeof window.$arcgis=="object"&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function vo(e){return e.default!==void 0}async function Wfe(){if(go)return await window.$arcgis.import("esri/core/Accessor");const e=await rt(()=>Promise.resolve().then(()=>mye),void 0,import.meta.url);return vo(e)?e.default:e}async function Jfe(){if(go)return await window.$arcgis.import("esri/layers/GraphicsLayer");const e=await rt(()=>Promise.resolve().then(()=>Lke),void 0,import.meta.url);return vo(e)?e.default:e}async function Zfe(e){const t=await Jfe();return new t(e)}async function Yfe(){if(go)return await window.$arcgis.import("esri/views/MapView");const e=await rt(()=>import("./MapView-B_hC41MZ.js").then(t=>t.H),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url);return vo(e)?e.default:e}async function Kfe(e){const t=await Yfe();return new t(e)}async function Xfe(){if(go)return await window.$arcgis.import("esri/WebMap");const e=await rt(()=>import("./WebMap-QsQtHZyE.js").then(t=>t.W),__vite__mapDeps([35,1,2,3,4,5,6,7,8,9,36,37,18,19,38]),import.meta.url);return vo(e)?e.default:e}async function Qfe(e){const t=await Xfe();return new t(e)}async function epe(){if(go)return await window.$arcgis.import("esri/widgets/AreaMeasurement2D");const e=await rt(()=>import("./AreaMeasurement2D-CYFkwehr.js"),__vite__mapDeps([39,40,41,42,43,44,45,46,47,48]),import.meta.url);return vo(e)?e.default:e}async function tpe(e){const t=await epe();return new t(e)}async function ipe(){if(go)return await window.$arcgis.import("esri/widgets/BasemapGallery");const e=await rt(()=>import("./BasemapGallery-BUL_HPfm.js"),__vite__mapDeps([49,8,2,3,4,10,11,50,33]),import.meta.url);return vo(e)?e.default:e}async function npe(e){const t=await ipe();return new t(e)}async function rpe(){if(go)return await window.$arcgis.import("esri/widgets/DistanceMeasurement2D");const e=await rt(()=>import("./DistanceMeasurement2D-DbdcnfPx.js"),__vite__mapDeps([51,40,41,42,43,44,45,46,47,48]),import.meta.url);return vo(e)?e.default:e}async function spe(e){const t=await rpe();return new t(e)}async function ope(){if(go)return await window.$arcgis.import("esri/widgets/Editor");const e=await rt(()=>import("./Editor-u-8CI6m_.js"),__vite__mapDeps([52,53,42,43,54,55,56,2,3,4,57,50,6,7,58,59,60,12,61,62,63,20,64,65,66,67,68,69,70]),import.meta.url);return vo(e)?e.default:e}async function ape(e){const t=await ope();return new t(e)}async function lpe(){if(go)return await window.$arcgis.import("esri/widgets/Expand");const e=await rt(()=>import("./Expand-CBjumAPo.js"),[],import.meta.url);return vo(e)?e.default:e}async function cpe(e){const t=await lpe();return new t(e)}async function upe(){if(go)return await window.$arcgis.import("esri/widgets/LayerList");const e=await rt(()=>import("./LayerList-US2yd4-s.js").then(t=>t.L),__vite__mapDeps([71,12,7,72]),import.meta.url);return vo(e)?e.default:e}async function hpe(e){const t=await upe();return new t(e)}async function dpe(){if(go)return await window.$arcgis.import("esri/widgets/Legend");const e=await rt(()=>import("./Legend-mFl876_F.js"),__vite__mapDeps([73,74,75,76,77,78,79,80,81,63,61,62,20,64,65,82,56,2,3,4,50,33]),import.meta.url);return vo(e)?e.default:e}async function fpe(e){const t=await dpe();return new t(e)}async function ppe(){if(go)return await window.$arcgis.import("esri/widgets/Search");const e=await rt(()=>import("./Search-ChsChgAM.js"),__vite__mapDeps([83,84,77,18,85,37,19,34,33,57]),import.meta.url);return vo(e)?e.default:e}async function mpe(e){const t=await ppe();return new t(e)}async function ype(){if(go)return await window.$arcgis.import("esri/widgets/Sketch");const e=await rt(()=>Promise.resolve().then(()=>LDe),void 0,import.meta.url);return vo(e)?e.default:e}async function gpe(e){const t=await ype();return new t(e)}async function vpe(){if(go)return await window.$arcgis.import("esri/core/accessorSupport/decorators");const e=await rt(()=>import("./decorators-CYj5J_bl.js"),[],import.meta.url);return vo(e)?e.default:e}async function bW(){if(go)return await window.$arcgis.import("esri/core/reactiveUtils");const e=await rt(()=>Promise.resolve().then(()=>vwe),void 0,import.meta.url);return vo(e)?e.default:e}var bM=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function Vn(e,t,...i){try{return e==null?void 0:e.call(t,...i)}catch(n){console.error(n,e)}}async function KS(e,t,...i){try{const n=e==null?void 0:e.call(t,...i);return n instanceof Promise?await n:n}catch(n){console.error(n,e)}}var bpe=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"];new Set(bpe);var wpe=e=>e.replace(xpe,(t,i)=>`${i===0?"":"-"}${t.toLowerCase()}`),xpe=/[A-Z]+(?![a-z])|[A-Z]/gu;function Spe(e,t){const i=t/_pe;let n=0;const s=setInterval(()=>{n+=i,n>=t&&(clearInterval(s),e())},i);return s}var _pe=4;function wW(e){return e!==void 0}/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */function Epe(e,t){var i;if(t){const n=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(n,([s,u])=>u.noAccessor?void 0:[s,[(u.readOnly?2048:0)|(u.state?32:16)]]).filter(wW))}else{const n=e.constructor,s=((i=n.__registerControllers)==null?void 0:i.call(n,e))??void 0;if(n.__registerControllers=void 0,typeof s!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(s).filter(([u,[p]])=>(p&63)!==0))}}function Tpe(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:(t&4)!==0?e==="false"?!1:e===""||!!e:(t&2)!==0?Number.parseFloat(e):(t&1)!==0?String(e):e}var xW=(e,t)=>{var i,n;return(n=(i=e.manager.internals.members)==null?void 0:i[t])==null?void 0:n[0]},bO=Symbol.for("controller"),Mpe=e=>typeof e=="object"&&e!==null&&(bO in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),gb;function fy(e){gb!==e&&(gb=e,queueMicrotask(()=>{gb===e&&(gb=void 0)}))}function T_(e){return gb}var Jp=[];function wO(e){if(e===void 0){Jp=[];return}const t=Jp.indexOf(e);Jp=t===-1?[...Jp,e]:Jp.slice(0,t+1),queueMicrotask(()=>{Jp=[]})}function $pe(){return Jp}var py;function kpe(e){py!==e&&(py=e,queueMicrotask(()=>{py===e&&(py=void 0)}))}function Cpe(){const e=py;return py=void 0,e}var Ape=async(e,t)=>{const i=xO(e);if(i===void 0)return e;if(await i.ready,typeof t=="function"){const n=i.watchExports(s=>t(s,n))}return i.exports},Ope=async e=>{const t=xO(e);return await t.ready,t},xO=e=>{const t=Cpe();if(t!==void 0)return t;const n=T_().manager.internals.resolveExports(e);if(n!==void 0)return n;if(Mpe(e))return e},kh={setter:!1,getter:!1,readOnly:!1},XS=new WeakMap,SW;SW=bO;var SO=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new bM,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[SW]=!0,this.ready=this._ready.promise,this._exports=Iz(this),this._exportWatchers=new Set;const t=e??T_();this.component=t,this.component.addController(this),wO(this),this.component.manager===void 0||queueMicrotask(()=>this.catchUpLifecycle())}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(Vn),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e){this._exports=Iz(e),this._exportWatchers.forEach(Vn)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return fy(this.component),Ape}get useRef(){return fy(this.component),Ope}get useRefSync(){return fy(this.component),xO}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&Vn(e.hostConnected,e),this._callbacks.hostConnected.forEach(Vn),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Vn(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(Vn),this._lifecycleCleanups.forEach(Vn),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await KS(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(KS)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&Vn(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(Vn),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&Vn(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(Oz,e)}triggerUpdated(e){const t=this;t.hostUpdated&&Vn(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(Oz,e)}triggerDestroy(){const e=this;e.hostDestroy&&Vn(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(Vn)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){fy(this.component);const t=Vn(e);(Array.isArray(t)?t:[t]).forEach(n=>{typeof n=="function"?this._lifecycleCleanups.push(n):typeof n=="object"&&typeof n.remove=="function"&&this._lifecycleCleanups.push(n.remove)})}};function Oz(e){Vn(e,void 0,this)}var _W=SO;function Iz(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(i,n,s){if(!(Ipe.has(n)&&n in i&&i[n]===t)&&(n in i||n in Promise.prototype||typeof n=="symbol"))return typeof i=="function"?i[n]:Reflect.get(i,n,s)},set:(i,n,s,u)=>Reflect.set(i,n,s,u)});return t}var Ipe=new Set(["exports","_exports"]);function Ppe(e,t,i){const n=Object.keys(e),s=n.length;Th===void 0&&queueMicrotask(EW),Th??(Th=new Map);let u=Th.get(e);return u===void 0&&(u={callbacks:[],keyCount:s},Th.set(e,u)),u.keyCount!==s&&(u.callbacks.forEach(p=>p(n)),u.callbacks=[],u.keyCount=s),u.callbacks.push(p=>{const g=E=>Vn(t,null,E),w=p[s];w===void 0?g(void 0):e[w]===i?g(w):g(void 0)}),i}var Th=void 0;function EW(){Array.from((Th==null?void 0:Th.entries())??[]).forEach(([e,{callbacks:t}])=>{const i=Object.keys(e);t.forEach(n=>n(i))}),Th=void 0}function My(e,t,i){var n;const s=t,u=e.manager.internals;(n=u.allWatchers)[s]??(n[s]=[]);const p=u.allWatchers[s],g=i,w=(E,A,I)=>Vn(g,null,E,A,I);return p.push(w),()=>{const E=p.indexOf(w);E!==-1&&p.splice(E,1)}}var Rpe=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([i,[n]])=>{var s;n&2048&&((s=t.setters)[i]??(s[i]=[]),t.setters[i].push(t.readonlySetter))})},this.trackedValue=wM,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this.reactiveUtilsIntegrations=new Set,this._exports=new WeakMap,this.readonlySetter=(t,i,n)=>{if(kh.readOnly)return t;throw new Error(`Cannot assign to read-only property "${n}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const i=this.keyTrackers;this.trackedValue=wM,this.keyTrackers=[],i.forEach(n=>n(e,t))}getSetProxy(e){const t=this.component,i=t.constructor.prototype;if(this._getSetProxy(i,e,"class"),t.manager.isLit)return;const n=t.el.constructor.prototype;i!==n&&this._getSetProxy(n,e,"html")}_getSetProxy(e,t,i){const n=this.component,s=xW(n,t);let u;do u=Object.getOwnPropertyDescriptor(e,t);while(!u&&(e=Object.getPrototypeOf(e)));if(!u)return;const p=u.get,g=u.set,w=X5 in p,E=X5 in g;if(w&&E)return;const A=!w,I=!E,R=A?function(){let B=p.call(this);const K=XS.get(this);if(kh.getter||K===void 0)return B;const te=K.manager.internals;B=te.accessorGetter[t](B,t);const ce=te.getters[t]??wT;for(let ye=0;ye<ce.length;ye++)B=ce[ye](B,t);return B}:p,F=I?function(B){var _e;const K=p.call(this),te=XS.get(this);if(te===void 0){g.call(this,B);return}let ce=te.manager.isLit?B??void 0:Tpe(B,s);const ye=te.manager.internals;if(ce===K)g.call(this,ce);else{const we=kh.setter?wT:ye.setters[t]??wT;for(let xe=0;xe<we.length&&(ce=we[xe](ce,K,t),ce!==K);xe++);ce=ye.accessorSetter[t](ce,K,t),g.call(this,ce),ce!==K&&((_e=ye.enabledWatchers[t])==null||_e.forEach(xe=>xe(ce,K,t)))}ye.keyTrackers.length>0&&(ye==null||ye.firePropTrackers(t,B))}:g;A&&(R[X5]=!0),I&&(F[X5]=!0),Object.defineProperty(e,t,{...u,get:R,set:F})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},wT=[],X5=Symbol(),wM=Symbol(),xu=(e,t)=>new Dpe(e,t),Dpe=class extends _W{constructor(e,t){const i="addController"in e,n=new Set;function s(w){var E;n.add(w),!(bO in w)&&e.renderRoot&&e.el.isConnected&&((E=w.hostConnected)==null||E.call(w))}function u(w){var E;n.delete(w),(E=w.controllerRemoved)==null||E.call(w)}const p=e;if(p.addController=s,p.removeController=u,!i){const w=t??e.constructor.__forceUpdate;p.requestUpdate=()=>w(e)}super(e),this.internals=new Rpe(this.component),this.destroyed=!1,this._updatePromise=new bM,this._originalLifecycles={},this.isLit=i,this.component.manager=this,Epe(e,i),this._controllers=n,this.exports=void 0,this.hasDestroy=xT in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const g=this.internals;Object.keys(g.members).forEach(w=>{g.accessorGetter[w]=S2,g.accessorSetter[w]=S2,g.getSetProxy(w)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(g.enableReadonly),wO(void 0),fy(e),XS.set(e.el,e),XS.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,i=e.el===e;this._originalLifecycles={_connectedCallback:t||i?void 0:e.connectedCallback,_disconnectedCallback:t||i?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const n=this._connectedCallback.bind(this),s=this._disconnectedCallback.bind(this),u=this._update.bind(this),p=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:n,hostDisconnected:s,hostUpdate:u,hostUpdated:p}):(e.connectedCallback=n,e.disconnectedCallback=s,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=u,e.componentDidUpdate=p),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){var t,i;if(this.destroyed){const n=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${n} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${xT} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,EW(),(t=e.enableReadonly)==null||t.call(e),this._controllers.forEach(Lpe),(i=this._originalLifecycles._connectedCallback)==null||i.call(this.component)}_disconnectedCallback(){var e;this.destroyed||(this._controllers.forEach(zpe),(e=this._originalLifecycles._disconnectedCallback)==null||e.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){var t;const e=this.internals.reactiveUtilsIntegrations;if(e.size>0)for(const i of e)"triggerLoad"in i?await i.triggerLoad():await KS(i.hostLoad,i);await Promise.allSettled(Array.from(this._controllers,jpe,e)),await((t=this._originalLifecycles._load)==null?void 0:t.call(this.component)),this.hasDestroy&&My(this.component,xT,()=>this._setAutoDestroyTimeout())}_loaded(){var e;this._controllers.forEach(Fpe),(e=this._originalLifecycles._loaded)==null||e.call(this.component)}_update(){var t;const e=this.component;this._controllers.forEach(Upe,e.$changes),(t=this._originalLifecycles._willUpdate)==null||t.call(this.component)}_updated(){var t;const e=this.component;if(this._controllers.forEach(Vpe,e.$changes),(t=this._originalLifecycles._updated)==null||t.call(this.component),this.isLit)e.$changes=new Map;else{const i=this._updatePromise;this._updatePromise=new bM,i.resolve(!0)}}async destroy(){var e;if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(Gpe),this._controllers.clear(),await((e=this._originalLifecycles._destroy)==null?void 0:e.call(this.component))}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=Spe(e,Npe)}}},xT="autoDestroyDisabled",Npe=1e3,S2=e=>e;function Lpe(e){"triggerConnected"in e?e.triggerConnected():Vn(e.hostConnected,e)}function zpe(e){"triggerDisconnected"in e?e.triggerDisconnected():Vn(e.hostDisconnected,e)}async function jpe(e){this.has(e)||("triggerLoad"in e?await e.triggerLoad():await KS(e.hostLoad,e))}function Fpe(e){"triggerLoaded"in e?e.triggerLoaded():Vn(e.hostLoaded,e)}function Upe(e){"triggerUpdate"in e?e.triggerUpdate(this):Vn(e.hostUpdate,e,this)}function Vpe(e){"triggerUpdated"in e?e.triggerUpdated(this):Vn(e.hostUpdated,e,this)}function Gpe(e){"triggerDestroy"in e?e.triggerDestroy():Vn(e.hostDestroy,e)}function M_(e,t,i){const n=e.manager.internals;return n.trackedValue!==wM&&n.trackedValue!==i&&n.firePropTrackers(void 0,void 0),n.keyTrackers.length===0&&queueMicrotask(()=>n.firePropTrackers(void 0,void 0)),n.trackedValue=i,n.keyTrackers.push((s,u)=>Vn(t,void 0,i===u?s:void 0)),i}function TW(e,t,i){const n=Array.isArray(e)?e:[e];let s=n.length+1;const u=g=>{s-=1,g!==void 0&&(s=Math.min(s,0)),s===0&&t(g)};n.forEach(g=>Ppe(g,w=>u(w===void 0?void 0:{key:w,host:g,isReactive:!1}),i));const p=n.find(g=>"manager"in g&&typeof g.manager=="object"&&g.manager.component===g);return p&&M_(p,g=>u(g===void 0?void 0:{key:g,host:p,isReactive:xW(p,g)!==void 0}),i),i}function Vs(e,t){const i=T_();return M_(i,n=>{const s=n,u=i.manager,p=i,g=p[s];if(g!=null&&g!==e&&typeof t.set=="function"){const w=t.set(g,e,s);if(w!==g)if(u.isLit)p[s]=w;else{let E=!0;u.onConnected(()=>{E&&(E=!0,MW(()=>{p[s]=w}))})}}Hpe(i,s,t)},e)}function MW(e){kh.setter=!0;try{return e()}finally{kh.setter=!1}}function $W(e){kh.getter=!0;try{return e()}finally{kh.getter=!1}}function Hpe(e,t,i){var n,s;const u=i,p=e.manager.internals,g=typeof u.get=="function"?u.get:void 0;g&&((n=p.getters)[t]??(n[t]=[]),p.getters[t].unshift(g));const w=u.set==="ignore"?qpe:u.set;w&&((s=p.setters)[t]??(s[t]=[]),p.setters[t].unshift(w))}var qpe=(e,t)=>t;function ST(e){const t=T_();return Vs(e,{set:t.manager.internals.readonlySetter})}function Bpe(e){kh.readOnly=!0;try{return e()}finally{kh.readOnly=!1}}var _O=e=>(...t)=>{const i=$pe(),n=new e(...t),s=n.exports;wO(i.at(-1));const u=n.component.manager.internals;u.markExports(n,s),n.watchExports(g=>u.markExports(n,g)),kpe(n);const p=[n.component,...i].reverse();return TW(p,g=>g===void 0?void 0:Wpe(n,g,s),s)};function Wpe(e,{host:t,key:i,isReactive:n},s){const u=t,p=u[i]!==e.exports,g=u[i]!==s,w=s!==e.exports;if(p&&!g&&w&&(u[i]=e.exports),t===e.component){if(n){const A=e.component.manager.internals;g&&A.markExports(e,u[i]),My(e.component,i,I=>{I!==e.exports&&A.markExports(e,I)})}e.assignedProperty=n?void 0:i}e.watchExports(()=>{var R;if(u[i]===e.exports)return;const A=e.component.manager;((R=A.internals.setters[i])==null?void 0:R.includes(A.internals.readonlySetter))?Bpe(()=>{u[i]=e.exports}):u[i]=e.exports})}var _T;async function Jpe(){return _T??(_T=bW()),await _T}var Zpe=Promise.all([Wfe(),vpe()]),Pz=class extends SO{async hostLoad(){const[e,{subclass:t,property:i}]=await Zpe;class n extends e{}const s=(I,R)=>A[R];function u(I,R,F){return A!==void 0&&(A[F]=I),I}const p=this.component,g=p.manager.internals,w=[];if($W(()=>Object.keys(g.members).forEach(I=>{g.accessorSetter[I]===S2&&(w.push(I),g.accessorGetter[I]=s,g.accessorSetter[I]=u,i({value:p[I]})(n.prototype,I))})),this._enabledMembers=w,w.length===0)return;const E=t(p.el.tagName)(n),A=new E;this._instance=A}controllerRemoved(){var t,i;super.controllerRemoved();const e=this.component.manager.internals;(t=this._instance)==null||t.destroy(),(i=this._enabledMembers)==null||i.forEach(n=>{e.accessorGetter[n]=S2,e.accessorSetter[n]=S2})}},kW=(e,t)=>(i,n)=>Ype(i,e,n),CW=class extends _W{constructor(e,t,i){super(e),this._loadAccessor=t,this._options=i,this._watchedProperties=new Map,this._isBinding={value:!0},this.setProvisionalExports(au.makeGetterProxy(e,this._watchedProperties,this._isBinding,this.constructor.allowedPropNameMismatches));const n=e.manager.internals.reactiveUtilsIntegrations;n.add(this);const s=Array.from(n).find(u=>u instanceof Pz);s&&n.delete(s),n.add(s??new Pz(this.component)),M_(e,u=>{u&&(this._instancePropName=u)},this.exports)}hostConnected(){this._isBinding.value=!1}async hostLoad(){var g,w;this.reactiveUtils=await Jpe();const e=this.component,t=this._gatherParameters(),i=((w=(g=this._options)==null?void 0:g.editConstructorProperties)==null?void 0:w.call(e,t))??t,n=i instanceof Promise?await i:i,s=e,u=typeof this._instancePropName=="string"?s[this._instancePropName]:void 0;u!=null&&u!==this.exports?(this._instance=u,u.set(n)):this._instance=await this._createInstance(n),!e.manager.destroyed&&(au.watchComponentUpdates(this,this._instance,this._watchedProperties),au.watchAccessorUpdates(this,this._instance,this._watchedProperties),this.exports=this._instance)}_gatherParameters(){return Object.fromEntries(Array.from(this._watchedProperties,([i,n])=>[n,this.component[i]]).filter(([,i])=>i!==void 0))}async _createInstance(e){return this._isAccessorConstructor(this._loadAccessor)?new this._loadAccessor(e):await this._loadAccessor(e)}_isAccessorConstructor(e){return"prototype"in e&&"declaredClass"in e.prototype}hostDestroy(){this._instance&&this._instance.destroy()}async reCreate(){this.hostDestroy(),await this.hostLoad()}},Ype=_O(CW),au={makeGetterProxy:(e,t,i,n)=>new Proxy({},{has:(s,u)=>typeof u=="string"||u in s,get:(s,u)=>{const p=Reflect.get(s,u);if(typeof u=="symbol"||u in Promise.prototype)return p;const g=u in s,w=(i==null?void 0:i.value)??!0;return g||!w?p:TW(e,E=>{E!==void 0&&t.set(E.key,u)},p)}}),watchComponentUpdates(e,t,i){function n(g,w){const E=i.get(w),A=t[E];return typeof A=="boolean"&&E!==w&&w.toLowerCase().includes("disable")?!A:A}const s=(g,w,E)=>{const A=i.get(E),I=t[A],R=typeof I=="boolean"&&A!==E&&E.toLowerCase().includes("disable");if((R?!I:u.manager.isLit?I??void 0:I)===g)return g;t[A]=R?!g:g;const q=t[A];return R?!q:q},u=e.component,p=u.manager.internals;i.forEach((g,w)=>{p.accessorGetter[w]=n,p.accessorSetter[w]=s})},watchAccessorUpdates(e,t,i){const{component:n}=e,s=n,u=t,p=Kpe(t);$W(()=>i.forEach((g,w)=>{if(p.has(g))return;const E=s[w];let A=u[g];n.manager.isLit&&(A??(A=void 0));const R=typeof E=="boolean"&&g!==w&&w.toLowerCase().includes("disable")?!E:E;R!=null&&A!==R&&(u[g]=R)})),e.onLifecycle(()=>{if(!t.destroyed)return Array.from(i,([g,w])=>e.reactiveUtils.watch(()=>u[w],()=>{const E=u[w],I=typeof E=="boolean"&&w!==g&&g.toLowerCase().includes("disable")?!E:E;MW(()=>{s[g]=I})},{initial:!0}))})},reEmitAccessorEvents(e,t,i,n){if(!("on"in t&&typeof t.on=="function"))return;const u=Object.entries(e.component).map(([w,E])=>{const A=E;if(!w.startsWith(n)||w===n||typeof A!="object"||A===null||!("emit"in A)||typeof A.emit!="function")return;const I=A.emit,R=w.slice(n.length);return[wpe(R).toLowerCase(),I]}).filter(wW);if(u.length===0)return;const p=t,g=()=>p;e.onLifecycle(()=>{if(!t.destroyed)return u.map(([w,E])=>i.on(g,w,E))})},async reCreate(e,t){const i=t.manager.useRefSync(e);i!==void 0&&await i.reCreate()}};function Kpe(e){var n;const i=Object.entries(((n=e.__accessor__)==null?void 0:n.metadata)??{});return new Set(i.filter(([s,u])=>(u==null?void 0:u.readOnly)===!0).map(([s])=>s))}/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */var AW=e=>Qpe(void 0,e),Xpe=class extends SO{constructor(e,t){super(e);const i=this.exports;try{fy(this.component);const n=t(this.component,this),s=this.exports!==i;if(n instanceof Promise){s||this.setProvisionalExports(n);const u=n.then(p=>{this.exports=p,super.catchUpLifecycle()}).catch(p=>{this._ready.reject(p),console.error(p)});this.onLoad(async()=>await u)}else(!s||n!==void 0)&&(this.exports=n),queueMicrotask(()=>super.catchUpLifecycle())}catch(n){this._ready.reject(n),console.error(n)}}catchUpLifecycle(){}},Qpe=_O(Xpe),e0e=AW,np=e=>t0e,Rz="arcgisPropertyChange",t0e=(...e)=>AW((t,i)=>{let s=t[Rz];return t.manager.isLit&&(s=t.constructor.$createEvent(Rz,void 0,t)),i.onLoad(()=>i.onLifecycle(()=>e.map(u=>My(t,u,()=>s.emit({name:u}))))),s});/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */function vb(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=i0e(e);if(!t){const i=PW(e.referenceElement);if(!i){IW(e);return}return Nz(i,e,!0),i}return n0e(t,e.el.parent)||(e.el.parent=t,t.tagName.toLowerCase()==="arcgis-expand"?r0e(t,e):t.tagName.toLowerCase()==="arcgis-placement"?s0e(t,e):Nz(t,e,!1)),t}function i0e({el:e}){for(let t=e.parentElement;t;t=(t==null?void 0:t.parentElement)??null){if(Dz.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&Dz.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}const Dz=new Set(["arcgis-map","arcgis-scene","arcgis-expand","arcgis-placement"]);function n0e(e,t){if(e!==t)return!1;const i=e.tagName.toLowerCase();return i==="arcgis-expand"||i==="arcgis-placement"}function $_(e,t,i="arcgisReady"){var s;const n=e;typeof((s=n.view)==null?void 0:s.ready)=="boolean"?t(n.view):e.addEventListener(i,u=>u.target===e?$_(e,t,i):void 0,{once:!0})}const r0e=(e,t)=>$_(e,i=>{var n,s;t.el.childElem&&typeof e.content=="object"&&((n=e.content)==null||n.append(t.el.childElem)),e.expandIcon=t.icon||((s=t.widget)==null?void 0:s.icon)||e.expandIcon,t.position=e.position,t.el.view=i}),s0e=(e,t)=>$_(e,i=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=i}),Nz=(e,t,i)=>$_(e,n=>{i?IW(t):t.el.childElem&&o0e(e,t),t.el.view=n},"arcgisViewReadyChange");function o0e(e,t){var p;const i=t.el.childElem??t.el,n=[...e.children],s={};for(const g of n){const w=g.getAttribute("position")??"manual";s[w]??(s[w]=[]),s[w].push({child:g,position:w,index:n.indexOf(g)})}const u=(p=s[t.position??"manual"])==null?void 0:p.findIndex(({child:g})=>g===t.el);e.view.ui.remove(i),e.view.ui.add(i,{position:t.position,index:u})}function a0e(e){let t=!1,i=e.el.view;const n=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.el),"view")??{get:()=>i,set:s=>i=s};Object.defineProperty(e.el,"view",{get:n.get.bind(e.el),set:s=>{n.set.call(e.el,s),s&&!t&&(t=!0,e.arcgisReady.emit())},configurable:!0,enumerable:!0}),i&&(e.el.view=i)}function l0e(e,t){return t===void 0||(e==null?void 0:e.targetGeometry)!==(t==null?void 0:t.targetGeometry)||(e==null?void 0:e.rotation)!==(t==null?void 0:t.rotation)||(e==null?void 0:e.scale)!==(t==null?void 0:t.scale)}function Lz(e,t){return OW(t==null?void 0:t.center,e)}function OW(e,t){if(typeof t=="string")return OW(e,t.split(",").map(Number));if(!e)return t;if(Array.isArray(t)){const i=t[0],n=t[1],s=t.length>2?t[2]:void 0;if(i!==e.longitude||n!==e.latitude||s!==e.z)return t}else if(t&&!(e!=null&&e.equals(t)))return t}async function c0e(e,t){t!=null&&(typeof t=="string"?e.el.view=await u0e(t):e.widget&&(e.el.view=t.view))}async function u0e(e){const t=PW(e);return await new Promise(i=>{var n;typeof((n=t==null?void 0:t.view)==null?void 0:n.ready)=="boolean"?i(t.view):t&&t.addEventListener("arcgisViewReadyChange",()=>i(t.view),{once:!0})})}function IW(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function PW(e){return typeof e!="string"?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const h0e=".arcgis-map{padding:0;margin:0;height:100%;width:100%}",d0e=h0e,f0e=kW(Qfe),p0e=kW(Kfe),zz=[0,"arcgis-map",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],view:[1040],map:[1040],allLayerViews:[1040],background:[1040],basemapView:[1040],basemap:[1025],center:[1025],constraints:[1040],extent:[1040],fatalError:[1040],floors:[1040],gamepad:[1040],graphics:[1040],ground:[1025],highlightOptions:[1040],interacting:[1028],ipsInfo:[1040],itemId:[1537,"item-id"],layerViews:[1040],magnifier:[1040],navigating:[1028],navigation:[1040],padding:[1040],popup:[1040],popupDisabled:[1028,"popup-disabled"],ready:[1028],resizeAlign:[1025,"resize-align"],resolution:[1026],rotation:[1026],scale:[1026],spatialReference:[1040],stationary:[1028],suspended:[1540],theme:[1040],timeExtent:[1040],timeZone:[1025,"time-zone"],toMap:[1040],toScreen:[1040],updating:[1540],viewpoint:[1040],zoom:[1026],addLayer:[64],addLayers:[64],closePopup:[64],destroy:[64],goTo:[64],hitTest:[64],openPopup:[64],takeScreenshot:[64],tryFatalErrorRecovery:[64],whenLayerView:[64]}],m0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>zz[2]??{},this.arcgisViewReadyChange=gt(this,"arcgisViewReadyChange",7),this.arcgisViewChange=gt(this,"arcgisViewChange",7),this.arcgisViewClick=gt(this,"arcgisViewClick",7),this.arcgisViewDoubleClick=gt(this,"arcgisViewDoubleClick",7),this.arcgisViewDrag=gt(this,"arcgisViewDrag",7),this.arcgisViewHold=gt(this,"arcgisViewHold",7),this.arcgisViewImmediateClick=gt(this,"arcgisViewImmediateClick",7),this.arcgisViewImmediateDoubleClick=gt(this,"arcgisViewImmediateDoubleClick",7),this.arcgisViewKeyDown=gt(this,"arcgisViewKeyDown",7),this.arcgisViewKeyUp=gt(this,"arcgisViewKeyUp",7),this.arcgisViewLayerviewCreate=gt(this,"arcgisViewLayerviewCreate",7),this.arcgisViewLayerviewCreateError=gt(this,"arcgisViewLayerviewCreateError",7),this.arcgisViewLayerviewDestroy=gt(this,"arcgisViewLayerviewDestroy",7),this.arcgisViewMouseWheel=gt(this,"arcgisViewMouseWheel",7),this.arcgisViewPointerDown=gt(this,"arcgisViewPointerDown",7),this.arcgisViewPointerEnter=gt(this,"arcgisViewPointerEnter",7),this.arcgisViewPointerLeave=gt(this,"arcgisViewPointerLeave",7),this.arcgisViewPointerMove=gt(this,"arcgisViewPointerMove",7),this.arcgisViewPointerUp=gt(this,"arcgisViewPointerUp",7),this.manager=xu(this,Hr),this.reactiveUtils=e0e(bW),this._map=f0e(this,{editConstructorProperties:this._editMapProperties}),this._setChildElement=t=>{this.el.childElem=t},this.autoDestroyDisabled=!1,this.view=ST(p0e(this,{editConstructorProperties:this._editViewProperties})),this.map=this.view.map,this.allLayerViews=this.view.allLayerViews,this.background=this.view.background,this.basemapView=this.view.basemapView,this.basemap=this._map.basemap,this.center=Vs(void 0,{get:t=>this.view.center??t,set:t=>{const i=Lz(t,this.ready?this.view:void 0);return this.ready?(this.view.center=i,this.view.center):i}}),this.constraints=this.view.constraints,this.extent=Vs(void 0,{get:t=>this.view.extent??t,set:(t,i)=>this.view.ready?(t&&!(i!=null&&i.equals(t))&&(this.view.extent=t),this.view.extent):t}),this.fatalError=this.view.fatalError,this.floors=this.view.floors,this.gamepad=Vs(void 0,{get:()=>this.ready?this.view.input.gamepad:void 0,set:"ignore"}),this.graphics=this.view.graphics,this.ground=this._map.ground,this.highlightOptions=this.view.highlightOptions,this.interacting=Vs(!1,{get:()=>this.view.interacting,set:"ignore"}),this.ipsInfo=this._map.ipsInfo,this.itemId=Vs(void 0,{get:t=>{var i;return((i=this._map.portalItem)==null?void 0:i.id)??t},set:t=>(this.ready&&au.reCreate(this._map,this).then(()=>{this.view.map=this._map}).catch(console.error),t)}),this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.navigating=Vs(!1,{get:()=>this.view.navigating,set:"ignore"}),this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.scale=Vs(void 0,{get:t=>this.view.scale??t,set:t=>(this.ready&&(this.view.scale=t),t)}),this.spatialReference=Vs(this.view.spatialReference,{set:(t,i)=>i!=null&&i.equals(t)?i:t}),this.stationary=Vs(!0,{get:()=>this.view.stationary,set:"ignore"}),this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.toMap=ST((...t)=>this.view.toMap(...t)),this.toScreen=ST((...t)=>this.view.toScreen(...t)),this.updating=this.view.updating,this.viewpoint=Vs(void 0,{get:()=>this.view.viewpoint,set:(t,i)=>l0e(i,t)?t:i}),this.zoom=Vs(void 0,{get:t=>this.view.zoom??t,set:t=>(this.ready&&(this.view.zoom=t),t)})}async addLayer(t,i){var n;(n=this.map)==null||n.add(t,i)}async addLayers(t,i){var n;(n=this.map)==null||n.addMany(t,i)}async closePopup(){var t;(t=this.view)==null||t.closePopup()}async destroy(){await this.manager.destroy()}async goTo(t,i){var n;return await((n=this.view)==null?void 0:n.goTo(t,i))}async hitTest(t,i){var n;return await((n=this.view)==null?void 0:n.hitTest(t,i))}async openPopup(t){var i;await((i=this.view)==null?void 0:i.openPopup(t))}async takeScreenshot(t){var i;return await((i=this.view)==null?void 0:i.takeScreenshot(t))}async tryFatalErrorRecovery(){var t;(t=this.view)==null||t.tryFatalErrorRecovery()}async whenLayerView(t){var i;return await((i=this.view)==null?void 0:i.whenLayerView(t))}componentDidLoad(){var i;(i=this.view).container??(i.container=this.el.childElem);const{watch:t}=this.reactiveUtils;this.manager.onLifecycle(()=>[t(()=>this.view.stationary,()=>{this.arcgisViewChange.emit()},{initial:!0}),t(()=>this.view.ready,()=>this.arcgisViewReadyChange.emit(),{initial:this.view.ready})]),au.reEmitAccessorEvents(this.manager,this.view,this.reactiveUtils,"arcgisView")}render(){return fe("div",{key:"77569d288f8260b1aeddb513498de4b38a9dd9ae",class:"arcgis-map",ref:this._setChildElement})}_editMapProperties(t){this.map&&(this._map=this.map),this.itemId?t.portalItem={id:this.itemId}:this.basemap?this.basemap==="none"&&(t.basemap=void 0,this.basemap=null):t.basemap="topo-vector";const{basemap:i,...n}=t;i||(t=n);const{ground:s,...u}=t;return s||(t=u),t}_editViewProperties(t){this.view.ui||(t.ui={components:["attribution"]}),t.map??(t.map=this._map);const i=Lz(this.center,void 0);return i&&(t.center=i),this.viewpoint&&(t.viewpoint=this.viewpoint),this.scale!==void 0&&(t.scale=this.scale),this.extent&&(t.extent=this.extent),this.zoom!==void 0&&(t.zoom=this.zoom),t}get el(){return this}static get style(){return d0e}},zz);function y0e(){if(typeof customElements>"u")return;["arcgis-map"].forEach(t=>{switch(t){case"arcgis-map":customElements.get(t)||customElements.define(t,m0e);break}})}y0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const Gh=(e,t)=>(i,n)=>v0e(i,e,n);class g0e extends CW{constructor(t,i,n){super(t,i,n),this._watchedViewModelProperties=new Map,this._watchedVisibleElementsProperties={},this._isBindingViewModel={value:!0},Object.defineProperty(this.exports,"viewModel",{value:au.makeGetterProxy(t,this._watchedViewModelProperties,this._isBindingViewModel)}),Object.defineProperty(this.exports,"visibleElements",{value:this._makeVisibleElementsBinder()})}hostConnected(){super.hostConnected(),this._isBindingViewModel.value=!1,this.component.manager.loadedCalled&&vb(this.component)}async hostLoad(){if(this._watchedProperties.delete("viewModel"),await super.hostLoad(),this.component.manager.destroyed)return;this._watchMetaProperties(),au.reEmitAccessorEvents(this,this._instance,this.reactiveUtils,"widget"),this.onLifecycle(()=>this.reactiveUtils.watch(()=>this._instance.viewModel,n=>{this.component.viewModel=n},{initial:!0}));const t=this._instance.viewModel;typeof t=="object"&&(au.reEmitAccessorEvents(this,t,this.reactiveUtils,"viewModel"),au.watchComponentUpdates(this,t,this._watchedViewModelProperties),au.watchAccessorUpdates(this,t,this._watchedViewModelProperties));const i=Object.entries(this._watchedVisibleElementsProperties);i.length>0&&this.onLifecycle(()=>i.map(([n,s])=>{let u=this._instance.visibleElements??{},p;for(const A of s.slice(0,-1))if(typeof u[A]=="object"&&u[A]!==null)u=u[A];else{p=!!u[A];break}p===void 0&&(p=!!(u[s.slice(-1)[0]]??!0)),n.startsWith("hide");const w=n.startsWith("hide")||n.startsWith("show")?n.startsWith("hide"):p,E=this.component;return typeof E[n]=="boolean"?this._updateWidgetVisibleElement(s,E[n],w):E[n]=!1,My(this.component,n,A=>this._updateWidgetVisibleElement(s,A,w))}))}_updateWidgetVisibleElement(t,i,n){let s=this._instance.visibleElements??{};for(const p of t.slice(0,-1))(typeof s[p]!="object"||s[p]===null)&&(s[p]={}),s=s[p];const u=!!(n?!i:i);s[t.at(-1)]=u}hostLoaded(){const{el:t}=this.component;t.childElem??(t.childElem=document.createElement("div")),this._instance.container=t.childElem;let i=!1;const n=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>{var s;return this._instance.view??((s=this._instance.viewModel)==null?void 0:s.view)},set:s=>{!("view"in this._instance)&&typeof this._instance.viewModel=="object"?this._instance.viewModel.view=s:this._instance.view=s,!("map"in this._instance)&&typeof this._instance.viewModel=="object"?this._instance.viewModel.map=s.map:this._instance.map=s.map,this._watchViewDestroy(),s&&!i&&(i=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),n&&(this._instance.view=n),this.component.el.isConnected&&(vb(this.component),this._watchViewDestroy())}hostDisconnected(){var t,i;typeof this.component.el.childElem=="object"&&((i=(t=this.component.el.view)==null?void 0:t.ui)==null||i.remove(this.component.el.childElem))}hostDestroy(){var t;super.hostDestroy(),(t=this._watchViewDestroyHandle)==null||t.remove()}_watchMetaProperties(){My(this.component,"position",t=>{this.component.el.childElem!=null&&typeof t=="string"&&vb(this.component)}),My(this.component,"referenceElement",()=>vb(this.component))}_makeVisibleElementsBinder(){return new Proxy({},{has:(t,i)=>typeof i=="string"||Reflect.has(t,i),get:(t,i)=>{if(typeof i=="symbol"||i in Promise.prototype)return Reflect.get(t,i);const n=[i],s=this._makeRecursiveProxy(n);return M_(this.component,u=>{const p=u;this.component[p]=!1,this._watchedVisibleElementsProperties[p]=n},s)}})}_makeRecursiveProxy(t){const i=new Proxy({},{get:(n,s)=>{const u=Reflect.get(n,s);return typeof s=="symbol"||s in Promise.prototype?u:(t.push(s),i)}});return i}_watchViewDestroy(){var t;(t=this._watchViewDestroyHandle)==null||t.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>{var i;return((i=this.component.el.view)==null?void 0:i.destroyed)===!0},()=>void this.component.destroy().catch(console.error),{sync:!0})}}const v0e=_O(g0e);/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const b0e="",w0e=b0e,x0e=Gh(fpe),jz=[0,"arcgis-legend",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],headingLevel:[1026,"heading-level"],referenceElement:[1025,"reference-element"],activeLayerInfos:[1040],basemapLegendVisible:[1028,"basemap-legend-visible"],hideLayersNotInCurrentView:[1028,"hide-layers-not-in-current-view"],icon:[1025],label:[1025],respectLayerVisibilityDisabled:[1028,"respect-layer-visibility-disabled"],legendStyle:[1025,"legend-style"],layerInfos:[1040],position:[1025],respectLayerDefinitionExpression:[1028,"respect-layer-definition-expression"],state:[1537],destroy:[64]}],S0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>jz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.manager=xu(this,Hr),this.widget=x0e(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("state"),this.autoDestroyDisabled=!1,this.headingLevel=this.widget.headingLevel,this.referenceElement=void 0,this.activeLayerInfos=this.widget.activeLayerInfos,this.basemapLegendVisible=this.widget.basemapLegendVisible,this.hideLayersNotInCurrentView=this.widget.hideLayersNotInCurrentView,this.icon=this.widget.icon,this.label=this.widget.label,this.respectLayerVisibilityDisabled=this.widget.respectLayerVisibility,this.legendStyle=this.widget.style,this.layerInfos=this.widget.layerInfos,this.position="bottom-left",this.respectLayerDefinitionExpression=this.widget.respectLayerDefinitionExpression,this.state=this.viewModel.state}async destroy(){await this.manager.destroy()}get el(){return this}static get style(){return w0e}},jz);function _0e(){if(typeof customElements>"u")return;["arcgis-legend"].forEach(t=>{switch(t){case"arcgis-legend":customElements.get(t)||customElements.define(t,S0e);break}})}_0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const E0e="",T0e=E0e,M0e=Gh(mpe),Fz=[0,"arcgis-search",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],activeMenu:[1025,"active-menu"],activeSource:[1040],activeSourceIndex:[1026,"active-source-index"],allPlaceholder:[1025,"all-placeholder"],allSources:[1040],autoSelectDisabled:[1028,"auto-select-disabled"],defaultSources:[1040],disabled:[1540],icon:[1025],label:[1025],includeDefaultSourcesDisabled:[1028,"include-default-sources-disabled"],locationDisabled:[1028,"location-disabled"],maxResults:[1026,"max-results"],maxSuggestions:[1026,"max-suggestions"],minSuggestCharacters:[1026,"min-suggest-characters"],popupDisabled:[1028,"popup-disabled"],popupTemplate:[1040],portal:[1040],resultGraphic:[1040],resultGraphicDisabled:[1028,"result-graphic-disabled"],results:[1040],searchAllDisabled:[1028,"search-all-disabled"],searchTerm:[1025,"search-term"],selectedResult:[1040],sources:[1040],suggestions:[1040],suggestionsDisabled:[1028,"suggestions-disabled"],position:[1025],state:[1537],blurSearch:[64],clearSearch:[64],focusSearch:[64],destroy:[64],search:[64],suggest:[64]}],$0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>Fz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.widgetSearchBlur=gt(this,"arcgisBlur",7),this.widgetSearchClear=gt(this,"arcgisClear",7),this.widgetSearchComplete=gt(this,"arcgisComplete",7),this.widgetSearchFocus=gt(this,"arcgisFocus",7),this.widgetSearchStart=gt(this,"arcgisStart",7),this.widgetSelectResult=gt(this,"arcgisSelectResult",7),this.widgetSuggestComplete=gt(this,"arcgisSuggestComplete",7),this.widgetSuggestStart=gt(this,"arcgisSuggestStart",7),this.manager=xu(this,Hr),this.widget=M0e(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.activeMenu=this.widget.activeMenu,this.activeSource=this.widget.activeSource,this.activeSourceIndex=this.widget.activeSourceIndex,this.allPlaceholder=this.widget.allPlaceholder,this.allSources=this.widget.allSources,this.autoSelectDisabled=this.widget.autoSelect,this.defaultSources=this.widget.defaultSources,this.disabled=this.widget.disabled,this.icon=this.widget.icon,this.label=this.widget.label,this.includeDefaultSourcesDisabled=this.widget.includeDefaultSources,this.locationDisabled=this.widget.locationEnabled,this.maxResults=this.widget.maxResults,this.maxSuggestions=this.widget.maxSuggestions,this.minSuggestCharacters=this.widget.minSuggestCharacters,this.popupDisabled=this.widget.popupEnabled,this.popupTemplate=this.widget.popupTemplate,this.portal=this.widget.portal,this.resultGraphic=this.widget.resultGraphic,this.resultGraphicDisabled=this.widget.resultGraphicEnabled,this.results=this.widget.results,this.searchAllDisabled=this.widget.searchAllEnabled,this.searchTerm=this.widget.searchTerm,this.selectedResult=this.widget.selectedResult,this.sources=this.widget.sources,this.suggestions=this.widget.suggestions,this.suggestionsDisabled=this.widget.suggestionsEnabled,this.position="top-right",this.state=this.viewModel.state}async blurSearch(){var t;(t=this.widget)==null||t.blur()}async clearSearch(){var t;(t=this.widget)==null||t.clear()}async focusSearch(){var t;(t=this.widget)==null||t.focus()}async destroy(){await this.manager.destroy()}async search(t){var i;return await((i=this.widget)==null?void 0:i.search(t))}async suggest(t){var i;return await((i=this.widget)==null?void 0:i.suggest(t))}get el(){return this}static get style(){return T0e}},Fz);function k0e(){if(typeof customElements>"u")return;["arcgis-search"].forEach(t=>{switch(t){case"arcgis-search":customElements.get(t)||customElements.define(t,$0e);break}})}k0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const C0e="",A0e=C0e,O0e=Gh(ape),Uz=[0,"arcgis-editor",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],activeWorkflow:[1040],allowedWorkflows:[1025,"allowed-workflows"],icon:[1025],label:[1025],labelOptions:[1040],layerInfos:[1040],snappingOptions:[1040],supportingWidgetDefaults:[1040],tooltipOptions:[1040],headingLevel:[1026,"heading-level"],hideCreateFeaturesSection:[1028,"hide-create-features-section"],hideEditFeaturesSection:[1028,"hide-edit-features-section"],hideLabelsToggle:[1028,"hide-labels-toggle"],hideTooltipsToggle:[1028,"hide-tooltips-toggle"],showSnappingControlsElementsHeader:[1028,"show-snapping-controls-elements-header"],hideSnappingControlsElementsEnabledToggle:[1028,"hide-snapping-controls-elements-enabled-toggle"],hideSnappingControlsElementsSelfEnabledToggle:[1028,"hide-snapping-controls-elements-self-enabled-toggle"],hideSnappingControlsElementsFeatureEnabledToggle:[1028,"hide-snapping-controls-elements-feature-enabled-toggle"],hideSnappingControlsElementsLayerList:[1028,"hide-snapping-controls-elements-layer-list"],position:[1025],state:[1537],cancelWorkflow:[64],destroy:[64],deleteFeatureFromWorkflow:[64],startCreateFeaturesWorkflowAtFeatureCreation:[64],startCreateFeaturesWorkflowAtFeatureTypeSelection:[64],startUpdateWorkflowAtFeatureEdit:[64],startUpdateWorkflowAtFeatureSelection:[64],startUpdateWorkflowAtMultipleFeatureSelection:[64]}],I0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>Uz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.manager=xu(this,Hr),this.widget=O0e(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("activeWorkflow","state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.activeWorkflow=this.widget.activeWorkflow,this.allowedWorkflows=this.widget.allowedWorkflows,this.icon=this.widget.icon,this.label=this.widget.label,this.labelOptions=this.widget.labelOptions,this.layerInfos=this.widget.layerInfos,this.snappingOptions=this.widget.snappingOptions,this.supportingWidgetDefaults=this.widget.supportingWidgetDefaults,this.tooltipOptions=this.widget.tooltipOptions,this.headingLevel=this.widget.headingLevel,this.hideCreateFeaturesSection=this.widget.visibleElements.createFeaturesSection,this.hideEditFeaturesSection=this.widget.visibleElements.editFeaturesSection,this.hideLabelsToggle=this.widget.visibleElements.labelsToggle,this.hideTooltipsToggle=this.widget.visibleElements.tooltipsToggle,this.showSnappingControlsElementsHeader=this.widget.visibleElements.snappingControlsElements.header,this.hideSnappingControlsElementsEnabledToggle=this.widget.visibleElements.snappingControlsElements.enabledToggle,this.hideSnappingControlsElementsSelfEnabledToggle=this.widget.visibleElements.snappingControlsElements.selfEnabledToggle,this.hideSnappingControlsElementsFeatureEnabledToggle=this.widget.visibleElements.snappingControlsElements.featureEnabledToggle,this.hideSnappingControlsElementsLayerList=this.widget.visibleElements.snappingControlsElements.layerList,this.position="bottom-left",this.state=this.viewModel.state}async cancelWorkflow(){var t;await((t=this.widget)==null?void 0:t.cancelWorkflow())}async destroy(){await this.manager.destroy()}async deleteFeatureFromWorkflow(){var t;await((t=this.widget)==null?void 0:t.deleteFeatureFromWorkflow())}async startCreateFeaturesWorkflowAtFeatureCreation(t){var i;await((i=this.widget)==null?void 0:i.startCreateFeaturesWorkflowAtFeatureCreation(t))}async startCreateFeaturesWorkflowAtFeatureTypeSelection(){var t;await((t=this.widget)==null?void 0:t.startCreateFeaturesWorkflowAtFeatureTypeSelection())}async startUpdateWorkflowAtFeatureEdit(t){var i;await((i=this.widget)==null?void 0:i.startUpdateWorkflowAtFeatureEdit(t))}async startUpdateWorkflowAtFeatureSelection(){var t;await((t=this.widget)==null?void 0:t.startUpdateWorkflowAtFeatureSelection())}async startUpdateWorkflowAtMultipleFeatureSelection(t){var i;await((i=this.widget)==null?void 0:i.startUpdateWorkflowAtMultipleFeatureSelection(t))}get el(){return this}static get style(){return A0e}},Uz);function P0e(){if(typeof customElements>"u")return;["arcgis-editor"].forEach(t=>{switch(t){case"arcgis-editor":customElements.get(t)||customElements.define(t,I0e);break}})}P0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const R0e="arcgis-sketch{}",D0e=R0e,N0e=Gh(gpe),Vz=[0,"arcgis-sketch",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],activeTool:[1537,"active-tool"],availableCreateTools:[1040],createGraphic:[1040],creationMode:[1025,"creation-mode"],defaultCreateOptions:[1040],defaultUpdateOptions:[1040],defaultGraphicsLayerDisabled:[1028,"default-graphics-layer-disabled"],icon:[1025],label:[1025],labelOptions:[1040],layer:[1040],layout:[1025],pointSymbol:[1040],polylineSymbol:[1040],polygonSymbol:[1040],snappingOptions:[1040],tooltipOptions:[1040],updateGraphics:[1040],hideCreateToolsPoint:[1028,"hide-create-tools-point"],hideCreateToolsPolyline:[1028,"hide-create-tools-polyline"],hideCreateToolsPolygon:[1028,"hide-create-tools-polygon"],hideCreateToolsRectangle:[1028,"hide-create-tools-rectangle"],hideCreateToolsCircle:[1028,"hide-create-tools-circle"],hideDuplicateButton:[1028,"hide-duplicate-button"],hideSelectionToolsRectangleSelection:[1028,"hide-selection-tools-rectangle-selection"],hideSelectionToolsLassoSelection:[1028,"hide-selection-tools-lasso-selection"],hideSettingsMenu:[1028,"hide-settings-menu"],hideLabelsToggle:[1028,"hide-labels-toggle"],hideTooltipsToggle:[1028,"hide-tooltips-toggle"],hideSnappingControls:[1028,"hide-snapping-controls"],showSnappingControlsElementsHeader:[1028,"show-snapping-controls-elements-header"],hideSnappingControlsElementsEnabledToggle:[1028,"hide-snapping-controls-elements-enabled-toggle"],hideSnappingControlsElementsSelfEnabledToggle:[1028,"hide-snapping-controls-elements-self-enabled-toggle"],hideSnappingControlsElementsFeatureEnabledToggle:[1028,"hide-snapping-controls-elements-feature-enabled-toggle"],hideSnappingControlsElementsLayerList:[1028,"hide-snapping-controls-elements-layer-list"],hideUndoRedoMenu:[1028,"hide-undo-redo-menu"],position:[1025],state:[1537],cancel:[64],complete:[64],create:[64],delete:[64],destroy:[64],duplicate:[64],redo:[64],undo:[64],update:[64]},[[0,"arcgisReady","arcgisReadyHandler"]]],L0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>Vz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.widgetCreate=gt(this,"arcgisCreate",7),this.widgetDelete=gt(this,"arcgisDelete",7),this.widgetRedo=gt(this,"arcgisRedo",7),this.widgetUndo=gt(this,"arcgisUndo",7),this.widgetUpdate=gt(this,"arcgisUpdate",7),this.manager=xu(this,Hr),this.widget=N0e(this,{editConstructorProperties:this._editConstructorProperties}),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.activeTool=this.widget.activeTool,this.availableCreateTools=this.widget.availableCreateTools,this.createGraphic=this.widget.createGraphic,this.creationMode=this.widget.creationMode,this.defaultCreateOptions=this.widget.defaultCreateOptions,this.defaultUpdateOptions=this.widget.defaultUpdateOptions,this.defaultGraphicsLayerDisabled=!1,this.icon=this.widget.icon,this.label=this.widget.label,this.labelOptions=this.widget.labelOptions,this.layer=this.widget.layer,this.layout=this.widget.layout,this.pointSymbol=this.viewModel.pointSymbol,this.polylineSymbol=this.viewModel.polylineSymbol,this.polygonSymbol=this.viewModel.polygonSymbol,this.snappingOptions=this.widget.snappingOptions,this.tooltipOptions=this.widget.tooltipOptions,this.updateGraphics=this.widget.updateGraphics,this.hideCreateToolsPoint=this.widget.visibleElements.createTools.point,this.hideCreateToolsPolyline=this.widget.visibleElements.createTools.polyline,this.hideCreateToolsPolygon=this.widget.visibleElements.createTools.polygon,this.hideCreateToolsRectangle=this.widget.visibleElements.createTools.rectangle,this.hideCreateToolsCircle=this.widget.visibleElements.createTools.circle,this.hideDuplicateButton=this.widget.visibleElements.duplicateButton,this.hideSelectionToolsRectangleSelection=this.widget.visibleElements.selectionTools["rectangle-selection"],this.hideSelectionToolsLassoSelection=this.widget.visibleElements.selectionTools["lasso-selection"],this.hideSettingsMenu=this.widget.visibleElements.settingsMenu,this.hideLabelsToggle=this.widget.visibleElements.labelsToggle,this.hideTooltipsToggle=this.widget.visibleElements.tooltipsToggle,this.hideSnappingControls=this.widget.visibleElements.snappingControls,this.showSnappingControlsElementsHeader=this.widget.visibleElements.snappingControlsElements.header,this.hideSnappingControlsElementsEnabledToggle=this.widget.visibleElements.snappingControlsElements.enabledToggle,this.hideSnappingControlsElementsSelfEnabledToggle=this.widget.visibleElements.snappingControlsElements.selfEnabledToggle,this.hideSnappingControlsElementsFeatureEnabledToggle=this.widget.visibleElements.snappingControlsElements.featureEnabledToggle,this.hideSnappingControlsElementsLayerList=this.widget.visibleElements.snappingControlsElements.layerList,this.hideUndoRedoMenu=this.widget.visibleElements.undoRedoMenu,this.position="bottom-left",this.state=this.widget.state}async _editConstructorProperties(t){return this.defaultGraphicsLayerDisabled||(t.layer??(t.layer=await Zfe({title:"Sketch Layer"}))),t}arcgisReadyHandler(){var t,i;!this.defaultGraphicsLayerDisabled&&!((t=this.el.view)!=null&&t.map.layers.includes(this.widget.layer))&&((i=this.el.view)==null||i.map.add(this.widget.layer))}async cancel(){var t;(t=this.widget)==null||t.cancel()}async complete(){var t;(t=this.widget)==null||t.complete()}async create(t,i){var n;await((n=this.widget)==null?void 0:n.create(t,i))}async delete(){var t;(t=this.widget)==null||t.delete()}async destroy(){await this.manager.destroy()}async duplicate(){var t;(t=this.widget)==null||t.duplicate()}async redo(){var t;(t=this.widget)==null||t.redo()}async undo(){var t;(t=this.widget)==null||t.undo()}async update(t,i){var n;return void((n=this.widget)==null?void 0:n.update(t,i))}get el(){return this}static get style(){return D0e}},Vz);function z0e(){if(typeof customElements>"u")return;["arcgis-sketch"].forEach(t=>{switch(t){case"arcgis-sketch":customElements.get(t)||customElements.define(t,L0e);break}})}z0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const j0e="",F0e=j0e,U0e=Gh(hpe),Gz=[0,"arcgis-layer-list",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],collapsed:[1540],headingLevel:[1026,"heading-level"],catalogLayerList:[1040],catalogOptions:[1040],dragEnabled:[1028,"drag-enabled"],filterPlaceholder:[1025,"filter-placeholder"],filterText:[1025,"filter-text"],icon:[1025],knowledgeGraphOptions:[1040],tableList:[1040],label:[1025],listItemCreatedFunction:[1040],minDragEnabledItems:[1026,"min-drag-enabled-items"],minFilterItems:[1026,"min-filter-items"],openedLayers:[1040],operationalItems:[1040],selectedItems:[1040],selectionMode:[1025,"selection-mode"],visibilityAppearance:[1025,"visibility-appearance"],hideCatalogLayerList:[1028,"hide-catalog-layer-list"],showCloseButton:[1028,"show-close-button"],showCollapseButton:[1028,"show-collapse-button"],showErrors:[1028,"show-errors"],showFilter:[1028,"show-filter"],hideFlow:[1028,"hide-flow"],showHeading:[1028,"show-heading"],hideStatusIndicators:[1028,"hide-status-indicators"],showTemporaryLayerIndicators:[1028,"show-temporary-layer-indicators"],position:[1025],state:[1537],destroy:[64],triggerAction:[64]}],V0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>Gz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.widgetTriggerAction=gt(this,"arcgisTriggerAction",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.manager=xu(this,Hr),this.widget=U0e(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.collapsed=this.widget.collapsed,this.headingLevel=this.widget.headingLevel,this.catalogLayerList=Vs(void 0,{get:()=>this.widget.catalogLayerList,set:"ignore"}),this.catalogOptions=this.widget.catalogOptions,this.dragEnabled=this.widget.dragEnabled,this.filterPlaceholder=this.widget.filterPlaceholder,this.filterText=this.widget.filterText,this.icon=this.widget.icon,this.knowledgeGraphOptions=this.widget.knowledgeGraphOptions,this.tableList=Vs(void 0,{get:()=>this.widget.tableList,set:"ignore"}),this.label=this.widget.label,this.listItemCreatedFunction=this.widget.listItemCreatedFunction,this.minDragEnabledItems=this.widget.minDragEnabledItems,this.minFilterItems=this.widget.minFilterItems,this.openedLayers=Vs(void 0,{get:()=>this.widget.openedLayers,set:"ignore"}),this.operationalItems=Vs(void 0,{get:()=>this.widget.operationalItems,set:"ignore"}),this.selectedItems=this.widget.selectedItems,this.selectionMode=this.widget.selectionMode,this.visibilityAppearance=this.widget.visibilityAppearance,this.hideCatalogLayerList=this.widget.visibleElements.catalogLayerList,this.showCloseButton=this.widget.visibleElements.closeButton,this.showCollapseButton=this.widget.visibleElements.collapseButton,this.showErrors=this.widget.visibleElements.errors,this.showFilter=this.widget.visibleElements.filter,this.hideFlow=this.widget.visibleElements.flow,this.showHeading=this.widget.visibleElements.heading,this.hideStatusIndicators=this.widget.visibleElements.statusIndicators,this.showTemporaryLayerIndicators=this.widget.visibleElements.temporaryLayerIndicators,this.position="bottom-left",this.state=this.viewModel.state}async destroy(){await this.manager.destroy()}async triggerAction(t,i){var n;(n=this.widget)==null||n.triggerAction(t,i)}get el(){return this}static get style(){return F0e}},Gz);function G0e(){if(typeof customElements>"u")return;["arcgis-layer-list"].forEach(t=>{switch(t){case"arcgis-layer-list":customElements.get(t)||customElements.define(t,V0e);break}})}G0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const H0e="arcgis-expand{pointer-events:auto}arcgis-expand>.esri-expand__content--expanded{background-color:var(--calcite-color-background)}",q0e=H0e,B0e=Gh(cpe),Hz=[0,"arcgis-expand",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],icon:[1025],content:[1025],label:[1025],autoCollapse:[1028,"auto-collapse"],closeOnEsc:[1028,"close-on-esc"],collapseIcon:[1025,"collapse-icon"],collapseTooltip:[1025,"collapse-tooltip"],expanded:[1540],expandIcon:[1025,"expand-icon"],expandTooltip:[1025,"expand-tooltip"],group:[1025],iconNumber:[1026,"icon-number"],mode:[1025],placement:[1025],position:[1025],referenceElement:[1025,"reference-element"],destroy:[64],collapse:[64],expand:[64],toggle:[64]}],W0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>Hz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.manager=xu(this,Hr),this.widget=B0e(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.icon=this.widget.icon,this.content=this.widget.content,this.label=this.widget.label,this.autoCollapse=this.widget.autoCollapse,this.closeOnEsc=this.widget.closeOnEsc,this.collapseIcon=this.widget.collapseIcon,this.collapseTooltip=this.widget.collapseTooltip,this.expanded=this.widget.expanded,this.expandIcon=this.widget.expandIcon,this.expandTooltip=this.widget.expandTooltip,this.group=this.widget.group,this.iconNumber=this.widget.iconNumber,this.mode=this.widget.mode,this.placement=this.widget.placement,this.position="top-right",this.referenceElement=void 0,this.content??(this.content=document.createElement("div"))}async destroy(){await this.manager.destroy()}async collapse(){var t;(t=this.widget)==null||t.collapse()}async expand(){var t;(t=this.widget)==null||t.expand()}async toggle(){this.expanded?await this.collapse():await this.expand()}get el(){return this}static get style(){return q0e}},Hz);function J0e(){if(typeof customElements>"u")return;["arcgis-expand"].forEach(t=>{switch(t){case"arcgis-expand":customElements.get(t)||customElements.define(t,W0e);break}})}J0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const Z0e="",Y0e=Z0e,K0e=Gh(npe),qz=[0,"arcgis-basemap-gallery",{activeBasemap:[1040],autoDestroyDisabled:[1028,"auto-destroy-disabled"],disabled:[1540],icon:[1025],label:[1025],headingLevel:[1026,"heading-level"],source:[1040],position:[1025],referenceElement:[1025,"reference-element"],state:[1537],destroy:[64]}],X0e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>qz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.manager=xu(this,Hr),this.widget=K0e(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("activeBasemap","state"),this.activeBasemap=this.widget.activeBasemap,this.autoDestroyDisabled=!1,this.disabled=this.widget.disabled,this.icon=this.widget.icon,this.label=this.widget.label,this.headingLevel=this.widget.headingLevel,this.source=this.widget.source,this.position="bottom-left",this.referenceElement=void 0,this.state=this.viewModel.state}async destroy(){await this.manager.destroy()}get el(){return this}static get style(){return Y0e}},qz);function Q0e(){if(typeof customElements>"u")return;["arcgis-basemap-gallery"].forEach(t=>{switch(t){case"arcgis-basemap-gallery":customElements.get(t)||customElements.define(t,X0e);break}})}Q0e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const e1e="arcgis-placement{display:block;pointer-events:auto;box-shadow:none}.arcgis-placement__container{display:flex}",t1e=e1e,i1e=Ei(class extends _i{constructor(){super(),this.__registerHost(),this.arcgisReady=gt(this,"arcgisReady",7),this._setContainer=t=>{this.el.childElem=t},this.referenceElement=void 0,this.position="bottom-left"}referenceElementWatcher(t){c0e(this,t)}positionWatcher(t){var i;this.el.childElem&&t!==void 0&&((i=this.el.view)==null||i.ui.move(this.el.childElem,t))}async componentDidLoad(){a0e(this),vb(this)}disconnectedCallback(){var t,i;this.el.childElem&&((i=(t=this.el.view)==null?void 0:t.ui)==null||i.remove(this.el.childElem))}render(){return fe("div",{key:"71b98c7f94af271e6881f46e4036085576e1fbd4",ref:this._setContainer,class:"arcgis-placement__container"},fe("slot",{key:"ac18bc6a5a4ae5a8642d73b7b692c6180a3c13ec"}))}get el(){return this}static get watchers(){return{referenceElement:["referenceElementWatcher"],position:["positionWatcher"]}}static get style(){return t1e}},[4,"arcgis-placement",{referenceElement:[1,"reference-element"],position:[1]},void 0,{referenceElement:["referenceElementWatcher"],position:["positionWatcher"]}]);function n1e(){if(typeof customElements>"u")return;["arcgis-placement"].forEach(t=>{switch(t){case"arcgis-placement":customElements.get(t)||customElements.define(t,i1e);break}})}n1e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const r1e="",s1e=r1e,o1e=Gh(spe),Bz=[0,"arcgis-distance-measurement-2d",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],icon:[1025],label:[1025],unit:[1025],unitOptions:[1040],position:[1025],state:[1537],destroy:[64]}],a1e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>Bz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.manager=xu(this,Hr),this.widget=o1e(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.icon=this.widget.icon,this.label=this.widget.label,this.unit=this.widget.unit,this.unitOptions=this.widget.unitOptions,this.position="bottom-left",this.state=this.viewModel.state}async destroy(){await this.manager.destroy()}get el(){return this}static get style(){return s1e}},Bz);function l1e(){if(typeof customElements>"u")return;["arcgis-distance-measurement-2d"].forEach(t=>{switch(t){case"arcgis-distance-measurement-2d":customElements.get(t)||customElements.define(t,a1e);break}})}l1e();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */const c1e="",u1e=c1e,h1e=Gh(tpe),Wz=[0,"arcgis-area-measurement-2d",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],label:[1025],icon:[1025],unit:[1025],unitOptions:[1040],position:[1025],state:[1537],destroy:[64]}],d1e=Ei(class extends _i{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>Wz[2]??{},this.arcgisReady=gt(this,"arcgisReady",7),this.arcgisPropertyChange=gt(this,"arcgisPropertyChange",7),this.manager=xu(this,Hr),this.widget=h1e(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=np()("state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.label=this.widget.label,this.icon=this.widget.icon,this.unit=this.widget.unit,this.unitOptions=this.widget.unitOptions,this.position="bottom-left",this.state=this.viewModel.state}async destroy(){await this.manager.destroy()}get el(){return this}static get style(){return u1e}},Wz);function f1e(){if(typeof customElements>"u")return;["arcgis-area-measurement-2d"].forEach(t=>{switch(t){case"arcgis-area-measurement-2d":customElements.get(t)||customElements.define(t,d1e);break}})}f1e();function S(e,t,i,n){var s,u=arguments.length,p=u<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(e,t,i,n);else for(var g=e.length-1;g>=0;g--)(s=e[g])&&(p=(u<3?s(p):u>3?s(t,i,p):s(t,i))||p);return u>3&&p&&Object.defineProperty(t,i,p),p}function HLe(e,t){return function(i,n){t(i,n,e)}}function qLe(e,t,i,n){function s(u){return u instanceof i?u:new i(function(p){p(u)})}return new(i||(i=Promise))(function(u,p){function g(A){try{E(n.next(A))}catch(I){p(I)}}function w(A){try{E(n.throw(A))}catch(I){p(I)}}function E(A){A.done?u(A.value):s(A.value).then(g,w)}E((n=n.apply(e,[])).next())})}let xf;function Ge(e){return typeof xf[e]=="function"?xf[e]=xf[e](globalThis):xf[e]}var Sq,_q,Eq,Tq;xf=(Sq=globalThis.dojoConfig)!=null&&Sq.has||(_q=globalThis.esriConfig)!=null&&_q.has?{...(Eq=globalThis.dojoConfig)==null?void 0:Eq.has,...(Tq=globalThis.esriConfig)==null?void 0:Tq.has}:{},Ge.add=(e,t,i,n)=>{(n||xf[e]===void 0)&&(xf[e]=t),i&&Ge(e)},Ge.cache=xf,Ge.add("big-integer-warning-enabled",!0),Ge.add("esri-deprecation-warnings",!0),Ge.add("esri-tests-disable-screenshots",!1),Ge.add("esri-tests-use-full-window",!1),Ge.add("esri-tests-post-to-influx",!0),Ge.add("esri-cim-animations-enable-status","enabled"),Ge.add("esri-cim-animations-spotlight",!1),Ge.add("esri-cim-animations-freeze-time",!1),Ge.add("enable-feature:multiple-highlights",!1),(()=>{var t;Ge.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(Ge.add("host-browser",e),Ge.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),Ge.add("dom",e),Ge("host-browser")){const i=navigator,n=i.userAgent,s=i.appVersion,u=parseFloat(s);if(Ge.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),Ge.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),Ge.add("khtml",s.includes("Konqueror")?u:void 0),Ge.add("edge",parseFloat(n.split("Edge/")[1])||void 0),Ge.add("opr",parseFloat(n.split("OPR/")[1])||void 0),Ge.add("webkit",!Ge("wp")&&!Ge("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),Ge.add("chrome",!Ge("edge")&&!Ge("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),Ge.add("android",!Ge("wp")&&parseFloat(n.split("Android ")[1])||void 0),Ge.add("safari",!s.includes("Safari")||Ge("wp")||Ge("chrome")||Ge("android")||Ge("edge")||Ge("opr")?void 0:parseFloat(s.split("Version/")[1])),Ge.add("mac",s.includes("Macintosh")),!Ge("wp")&&/(iPhone|iPod|iPad)/.test(n)){const p=RegExp.$1.replace(/P/,"p"),g=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",w=parseFloat(g.replace(/_/,".").replaceAll("_",""));Ge.add(p,w),Ge.add("ios",w)}Ge("webkit")||(!n.includes("Gecko")||Ge("wp")||Ge("khtml")||Ge("edge")||Ge.add("mozilla",u),Ge("mozilla")&&Ge.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&Ge.add("esri-mobile",t),i&&Ge.add("esri-iPhone",i),Ge.add("esri-geolocation",!!navigator.geolocation)}Ge.add("esri-wasm","WebAssembly"in globalThis),Ge.add("esri-performance-mode-frames-between-render",20),Ge.add("esri-force-performance-mode",!1),Ge.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),Ge.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),Ge.add("esri-atomics","Atomics"in globalThis),Ge.add("esri-workers","Worker"in globalThis),Ge.add("web-feat:cache","caches"in globalThis),Ge.add("esri-workers-arraybuffer-transfer",!Ge("safari")||Number(Ge("safari"))>=12),Ge.add("workers-pool-size",8),Ge.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Ge.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Ge.add("featurelayer-fast-triangulation-enabled",!0),Ge.add("featurelayer-animation-enabled",!0),Ge.add("featurelayer-snapshot-enabled",!0),Ge.add("featurelayer-snapshot-point-min-threshold",8e4),Ge.add("featurelayer-snapshot-point-max-threshold",4e5),Ge.add("featurelayer-snapshot-point-coverage",.1),Ge.add("featurelayer-query-max-depth",4),Ge.add("featurelayer-query-pausing-enabled",!1),Ge.add("featurelayer-advanced-symbols",!1),Ge.add("featurelayer-pbf",!0),Ge.add("featurelayer-pbf-statistics",!1),Ge.add("feature-layers-workers",!0),Ge.add("feature-polyline-generalization-factor",1),Ge.add("mapview-transitions-duration",200),Ge.add("mapview-essential-goto-duration",200),Ge.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Ge.add("mapserver-pbf-version-support",10.81),Ge.add("mapservice-popup-identify-max-tolerance",20),Ge("host-webworker")||Ge("host-browser")&&(Ge.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),Ge.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{Ge.add("esri-image-decode",!0,!0,!0)}).catch(()=>{Ge.add("esri-image-decode",!1,!0,!0)})}return!1}),Ge.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();let r9=class Zp{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Zp._m}getInt(){return this._seed=(Zp._a*this._seed+Zp._c)%Zp._m,this._seed}getFloat(){return this.getInt()/(Zp._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const n=i-t;return t+this.getInt()/Zp._m*n}};r9._m=2147483647,r9._a=48271,r9._c=0;const p1e=1.5,BLe=1/p1e,WLe=.5;function JLe(e,t){if(!t)return e;for(const i of t)e.push(i);return e}function ZLe(e,t){return t?e.filter((i,n,s)=>s.findIndex(t.bind(null,i))===n):Array.from(new Set(e))}function pu(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function m1e(e,t,i){let n,s;return i?(n=t.filter(u=>!e.some(p=>i(p,u))),s=e.filter(u=>!t.some(p=>i(p,u)))):(n=t.filter(u=>!e.includes(u)),s=e.filter(u=>!t.includes(u))),{added:n,removed:s}}function YLe(e){return e&&typeof e.length=="number"}let RW=class{constructor(){this.last=0}};const DW=new RW;function xM(e,t,i,n){n=n||DW;const s=Math.max(0,n.last-10);for(let p=s;p<i;++p)if(e[p]===t)return n.last=p,p;const u=Math.min(s,i);for(let p=0;p<u;++p)if(e[p]===t)return n.last=p,p;return-1}function y1e(e,t,i,n){const s=e.length,u=xM(e,t,s,n);if(u!==-1)return e[u]=e[s-1],e.pop(),t}const Al=new Set;function g1e(e,t,i=e.length,n=t.length,s,u){if(n===0||i===0)return i;Al.clear();for(let g=0;g<n;++g)Al.add(t[g]);s=s||DW;const p=Math.max(0,s.last-10);for(let g=p;g<i;++g)if(Al.has(e[g])&&(u==null||u.push(e[g]),Al.delete(e[g]),e[g]=e[i-1],--i,--g,Al.size===0||i===0))return Al.clear(),i;for(let g=0;g<p;++g)if(Al.has(e[g])&&(u==null||u.push(e[g]),Al.delete(e[g]),e[g]=e[i-1],--i,--g,Al.size===0||i===0))return Al.clear(),i;return Al.clear(),i}function XLe(e,t){let i=0;for(let n=0;n<e.length;++n){const s=e[n];t(s,n)&&(e[i]=s,i++)}e.length=i}function NW(e){return e?(Jz.seed=e,()=>Jz.getFloat()):Math.random}function LW(e,t){const i=NW(t);for(let n=e.length-1;n>0;n--){const s=Math.floor(i()*(n+1)),u=e[n];e[n]=e[s],e[s]=u}return e}const Jz=new r9;function k_(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function uo(e,t){return e!=null}const QLe=[];function zW(e){return 32+e.length}function EO(){return 16}function eze(e){if(!e)return 0;let t=FW;for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];switch(typeof n){case"string":t+=zW(n);break;case"number":t+=EO();break;case"boolean":t+=4}}return t}function v1e(e){if(!e)return 0;if(Array.isArray(e))return b1e(e);let t=FW;for(const i in e)e.hasOwnProperty(i)&&(t+=jW(e[i]));return t}function b1e(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let i=UW;for(let n=0;n<t;n++)i+=jW(e[n]);return i}function jW(e){switch(typeof e){case"object":return v1e(e);case"string":return zW(e);case"number":return EO();case"boolean":return 4;default:return 8}}function w1e(e,t){return UW+e.length*t}const FW=32,UW=16;function tze(e){return e instanceof ArrayBuffer}function TO(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function VW(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function GW(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function MO(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function HW(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function $O(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function qW(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function Rw(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function Dw(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function BW(e){return!("buffer"in e)}function ize(...e){return e.reduce((t,i)=>t+(i?BW(i)?w1e(i,EO()):i.byteLength+x1e:0),0)}const x1e=145,WW=1024;function nze(e){return Dw(e)||Rw(e)||$O(e)||MO(e)||TO(e)}function rze(e){return Dw(e)||Rw(e)}function sze(e){return Dw(e)?179769e303:Rw(e)?3402823e32:qW(e)?4294967295:HW(e)?65535:VW(e)||GW(e)?255:$O(e)?2147483647:MO(e)?32767:TO(e)?127:256}function kO(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ke(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=KW(e);if(t!=null)return t;if(JW(e))return e.clone();if(ZW(e))return e.map(ke);if(YW(e))return e.clone();const i={};for(const n of Object.getOwnPropertyNames(e))i[n]=ke(e[n]);return i}function SM(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=KW(e);if(t!=null)return t;if(ZW(e)){let i=!0;const n=e.map(s=>{const u=SM(s);return s!=null&&u==null&&(i=!1),u});return i?n:null}if(JW(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!YW(e)){const i=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const s=e[n],u=SM(s);if(s!=null&&u==null)return null;i[n]=u}return i}return null}function JW(e){return typeof e.clone=="function"}function ZW(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function YW(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function Zz(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function KW(e){if(TO(e)||VW(e)||GW(e)||MO(e)||HW(e)||$O(e)||qW(e)||Rw(e)||Dw(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,n]of e)t.set(i,ke(n));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ke(i));return t}return null}function CO(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function XW(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&pu(e,t):e instanceof Set?t instanceof Set&&_1e(e,t):e instanceof Map?t instanceof Map&&E1e(e,t):!!Zz(e)&&Zz(t)&&S1e(e,t))}function S1e(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const n of i)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function _1e(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function E1e(e,t){if(e.size!==t.size)return!1;for(const[i,n]of e){const s=t.get(i);if(s!==n||s===void 0&&!t.has(i))return!1}return!0}function AO(e,t,i=!1){return eJ(e,t,i)}function Sf(e,t){if(t!=null)return t[e]||QW(e.split("."),!1,t)}function Zs(e,t,i){const n=e.split("."),s=n.pop(),u=QW(n,!0,i);u&&s&&(u[s]=t)}function Yz(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let n=0;n<e.length;n++)if(Yz(e[n],i[n]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(Yz(e[i],t[i]))return!0;return!1}return e!==t}function QW(e,t,i){let n=i;for(const s of e){if(n==null)return;if(!(s in n)){if(!t)return;n[s]={}}n=n[s]}return n}function eJ(e,t,i){return t?Object.keys(t).reduce((n,s)=>{let u=n[s],p=t[s];return u===p?n:u===void 0?(n[s]=ke(p),n):(Array.isArray(p)||Array.isArray(n)?(u=u?Array.isArray(u)?n[s]=u.slice():n[s]=[u]:n[s]=[],p&&(Array.isArray(p)||(p=[p]),i?p.forEach(g=>{u.includes(g)||u.push(g)}):n[s]=p.slice())):p&&typeof p=="object"?n[s]=eJ(u,p,i):n.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(n[s]=p),n)},e||{}):e}var Mq;const Bi={apiKey:void 0,applicationName:"",applicationUrl:(Mq=globalThis.location)==null?void 0:Mq.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(AO(Bi,globalThis.esriConfig,!0),delete Bi.has),!Bi.assetsPath){{const e="4.31";Bi.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Bi.defaultAssetsPath=Bi.assetsPath}const T1e=/\{([^}]+)\}/g;function Kz(e){return e??""}function C_(e,t){return t?e.replaceAll(T1e,typeof t=="object"?(i,n)=>Kz(Sf(n,t)):(i,n)=>Kz(t(n))):e}function oze(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t!=null&&t.includes(i)?i:`\\${i}`)}function tJ(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let Xz;function aze(e){return Xz??(Xz=new DOMParser),Xz.parseFromString(e||"","text/html").body.innerText||""}function lze(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function cze(e,...t){let i=e[0];for(let n=0;n<t.length;++n)i+=t[n]+e[n+1];return i}const Qz={info:0,warn:1,error:2,none:3};let xt=class ea{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ea._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=ea.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,ea._loggers.get(t)||new ea({module:t})}_log(t,i,...n){if(this._matchLevel(t)){if(i!=="always"&&!ea._throttlingDisabled){const s=$1e(n),u=this._loggedMessages[t].get(s);if(i==="once"&&u!=null||i==="oncePerTick"&&u&&u>=ea._tickCounter)return;this._loggedMessages[t].set(s,ea._tickCounter),ea._scheduleTickCounterIncrement()}for(const s of Bi.log.interceptors)if(s(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,i){let n=this;for(;n!=null;){const s=n[t];if(s!=null)return s;n=n.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",M1e)}_matchLevel(t){const i=Bi.log.level||"warn";return Qz[this._parentWithMember("level",i)]<=Qz[t]}static _scheduleTickCounterIncrement(){ea._tickCounterScheduled||(ea._tickCounterScheduled=!0,Promise.resolve().then(()=>{ea._tickCounter++,ea._tickCounterScheduled=!1}))}};function M1e(e,t,...i){console[e](`[${t}]`,...i)}function $1e(...e){return tJ(JSON.stringify(e,(i,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}xt._loggers=new Map,xt._tickCounter=0,xt._tickCounterScheduled=!1,xt._throttlingDisabled=!1;function k1e(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,n)=>n===""?"$":(Sf(n,t)??"").toString())}let iJ=class{constructor(t,i,n=void 0){this.name=t,this.details=n,this.message=(i&&k1e(i,n))??""}toString(){return"["+this.name+"]: "+this.message}},ze=class nJ extends iJ{constructor(t,i,n){super(t,i,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ke(i)}catch{return"[object]"}}))}}catch(t){throw xt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new nJ(t.name,t.message,t.details)}};ze.prototype.type="error";const ej=new WeakMap;function C1e(e,t,i=!1){const n=` DEPRECATED - ${t}`;if(!i)return void e.warn(n);let s=ej.get(e);s||(s=new Set,ej.set(e,s)),s.has(t)||(s.add(t),e.warn(n))}function rJ(e,t,i={}){if(Ge("esri-deprecation-warnings")){const{moduleName:n}=i;Yy(e,`Function: ${(n?n+"::":"")+t+"()"}`,i)}}function QS(e,t,i={}){if(Ge("esri-deprecation-warnings")){const{moduleName:n}=i;Yy(e,`Property: ${(n?n+"::":"")+t}`,i)}}function A1e(e,t,i={}){Ge("esri-deprecation-warnings")&&Yy(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function Yy(e,t,i={}){if(Ge("esri-deprecation-warnings")){const{replacement:n,version:s,see:u,warnOnce:p}=i;let g=t;n&&(g+=`
	 Replacement: ${n}`),s&&(g+=`
	 Version: ${s}`),u&&(g+=`
	 See ${u} for more details.`),C1e(e,g,p)}}function hze(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function dze(e,t){for(const i of e)if(i!=null&&t(i))return i}function tj(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let A_=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(tj(t)){const n=this._getOrCreateGroup(i);for(const s of t)nj(s)&&n.push(s)}else nj(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&i&&n.forEach(i)}}has(t){return this._groups.has(Q5(t))}remove(t){if(typeof t!="string"&&tj(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(ij(this._getGroup(t)),this._groups.delete(Q5(t)),this):this}removeAll(){return this._groups.forEach(ij),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(Q5(t),i),i}_getGroup(t){return this._groups.get(Q5(t))}};function Q5(e){return e||"_default_"}function ij(e){for(const t of e)t instanceof A_?t.removeAll():t.remove()}function nj(e){return e!=null&&(!!e.remove||e instanceof A_)}function O1e(e,t){if(e==null)throw new Error(t??"value is None")}function kr(e){return e==null||e.destroy(),null}function pze(e){return e==null||e.dispose(),null}function Ur(e){return e==null||e.remove(),null}function Df(e){return e==null||e.abort(),null}function mze(e){return e==null||e.release(),null}function sJ(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function I1e(e,t){let i;return e.some((n,s)=>(i=t(n,s),i!=null)),i??void 0}const oJ=Symbol("Accessor-beforeDestroy"),P1e={remove:()=>{}};function Mi(e){return e?{remove(){e&&(e(),e=void 0)}}:P1e}function aJ(e){e.forEach(t=>t==null?void 0:t.remove())}function Ic(e){aJ(e),e.length=0}function Hh(e){return Mi(()=>aJ(e))}function yze(e){return Mi(()=>{var t;return(t=e())==null?void 0:t.remove()})}function gze(e){return Mi(()=>e==null?void 0:e.abort())}function R1e(e){return Mi(e!=null?()=>e.destroy():void 0)}function Vo(e){return e.__accessor__??null}function D1e(e,t){var i;return((i=e==null?void 0:e.metadata)==null?void 0:i[t])!=null}function s9(e,t,i){return i?e4(e,t,{policy:i,path:""}):e4(e,t,null)}function e4(e,t,i){return t?Object.keys(t).reduce((n,s)=>{const u=s;let p=null,g="merge";if(i&&(p=i.path?`${i.path}.${s}`:s,g=i.policy(p)),g==="replace"||g==="replace-arrays"&&Array.isArray(n[u]))return n[u]=t[u],n;if(n[u]===void 0)return n[u]=ke(t[u]),n;let w=n[u],E=t[u];if(w===E)return n;if(Array.isArray(E)||Array.isArray(n))w=w?Array.isArray(w)?n[u]=w.slice():n[u]=[w]:n[u]=[],E&&(Array.isArray(E)||(E=[E]),E.forEach(A=>{w.includes(A)||w.push(A)}));else if(E&&typeof E=="object")if(i){const A=i.path;i.path=p,n[u]=e4(w,E,i),i.path=A}else n[u]=e4(w,E,null);else n.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(n[u]=E);return n},e||{}):e}function lJ(e){return Array.isArray(e)?e:e.split(".")}function rj(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function N1e(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...rj(i));return t}return rj(e)}function cJ(e,t,i,n){const s=N1e(t);if(s.length!==1){const u=s.map(p=>n(e,p,i));return Hh(u)}return n(e,s[0],i)}function uJ(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const n=Vo(t);return D1e(n,i)?n.get(i):t[i]}function hJ(e,t,i){if(e==null)return e;const n=uJ(t[i],e);return!n&&i<t.length-1?void 0:i===t.length-1?n:hJ(n,t,i+1)}function Nw(e,t,i=0){return typeof t!="string"||t.includes(".")?hJ(e,lJ(t),i):uJ(t,e)}function sl(e,t){return Nw(e,t)}function sj(e,t){return Nw(t,e)!==void 0}var Po;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Po||(Po={}));function Lw(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const n in t)t[n]=ke(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function O_(e,t){const i=Lw(e);let n=i[t];return n||(n=i[t]={}),n}function L1e(e,t){return s9(e,t,j1e)}const z1e=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function j1e(e){return z1e.test(e)?"replace":"merge"}function F1e(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function U1e(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let zw=class _M{constructor(t,i,n,s=1,u=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=n,this.allocationSize=s,this._pool=new Array(u),this._initialSize=u;for(let p=0;p<u;p++)this._pool[p]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if(_M.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let s=0;s<n;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):U1e(i)&&i.acquire(...t),i}release(t){t&&!_M.test.disabled&&(this._releaseFunction?this._releaseFunction(t):F1e(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const n=this._pool[i];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};zw.test={disabled:!1};let V1e=class{constructor(t,i){this._observers=t,this._observer=i}remove(){k_(this._observers,this._observer)}},dJ=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return G1e;this._observers==null&&(this._observers=[]);const i=this._observers;let n=!1,s=!1;const u=i.length;for(let p=0;p<u;++p){const g=i[p];if(g.destroyed)s=!0;else if(g===t){n=!0;break}}return n||(i.push(t),s&&this._removeDestroyedObservers()),new V1e(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let n=0;for(let s=0;s<i;++s){for(;s+n<i&&t[s+n].destroyed;)++n;if(n>0){if(!(s+n<i))break;t[s]=t[s+n]}}t.length=i-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const G1e=Mi();var fi;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(fi||(fi={}));const EM=fi.USER+1;function _f(e){switch(e){case"defaults":return fi.DEFAULTS;case"service":return fi.SERVICE;case"portal-item":return fi.PORTAL_ITEM;case"web-scene":return fi.WEB_SCENE;case"web-map":return fi.WEB_MAP;case"link-chart":return fi.LINK_CHART;case"user":return fi.USER;default:return null}}function t4(e){switch(e){case fi.DEFAULTS:return"defaults";case fi.SERVICE:return"service";case fi.PORTAL_ITEM:return"portal-item";case fi.WEB_SCENE:return"web-scene";case fi.WEB_MAP:return"web-map";case fi.LINK_CHART:return"link-chart";case fi.USER:return"user"}}function H1e(e){return t4(e)}var Xi;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Xi||(Xi={}));let I_=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){var t;(t=this.accessed)==null||t.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const i4=new I_,bb=[];let _2=i4;function Gt(e){_2.onAccessed(e)}let o9=!1,a9=!1;function Ih(e,t,i){if(o9)return OO(e,t,i);let n=null;return fJ(e),n=t.call(i),pJ(),n}function q1e(e,t){return Ih(i4,e,t)}function OO(e,t,i){const n=o9;o9=!0,fJ(e);let s=null;try{s=t.call(i)}catch(u){a9&&xt.getLogger("esri.core.accessorSupport.tracking").error(u)}return pJ(),o9=n,s}function fJ(e){_2=e,bb.push(e)}function pJ(){const e=bb.length;if(e>1){const t=bb.pop();_2=bb[e-2],t.onTrackingEnd()}else if(e===1){const t=bb.pop();_2=i4,t.onTrackingEnd()}else _2=i4}function mJ(e,t){if(t.flags&Xi.DepTrackingInitialized)return;t.flags|=Xi.DepTrackingInitialized;const i=a9;a9=!1,t.flags&Xi.AutoTracked?OO(t.trackingTarget,t.metadata.get,e):yJ(e,t),a9=i}const B1e=[];function yJ(e,t){t.flags&Xi.ExplicitlyTracking||(t.flags|=Xi.ExplicitlyTracking,OO(t.trackingTarget,()=>{const i=t.metadata.dependsOn||B1e;for(const n of i)if(typeof n!="string"||n.includes(".")){const s=lJ(n);for(let u=0,p=e;u<s.length&&p!=null&&typeof p=="object";++u)p=oj(p,s[u],u!==s.length-1)}else oj(e,n,!1)}),t.flags&=~Xi.ExplicitlyTracking)}function oj(e,t,i){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const u=parseInt(n,10);if(!isNaN(u))return Array.isArray(e)?e[u]:e.at(u)}const s=Vo(e);if(s){const u=s.propertiesByName.get(n);u&&(Gt(u),mJ(e,u))}return i?e[n]:void 0}let aj=class extends dJ{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new I_(this),this.flags=0,this.flags=Xi.Dirty|(i.nonNullable?Xi.NonNullable:0)|(i.hasOwnProperty("value")?Xi.HasDefaultValue:0)|(i.get===void 0?Xi.DepTrackingInitialized:0)|(i.dependsOn===void 0?Xi.AutoTracked:0)}destroy(){this.flags&Xi.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Gt(this);const i=t.store,n=this.propertyName,s=this.flags,u=i.get(n);if(s&Xi.Computing||~s&Xi.Dirty&&i.has(n))return u;this.flags|=Xi.Computing;const p=t.host;let g;s&Xi.AutoTracked?g=Ih(this.trackingTarget,this.metadata.get,p):(yJ(p,this),g=this.metadata.get.call(p)),this.flags|=Xi.DepTrackingInitialized,i.set(n,g,fi.COMPUTED);const w=i.get(n);return w===u?this.flags&=~Xi.Dirty:q1e(this.commit,this),this.flags&=~Xi.Computing,w}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Xi.Dirty,this.onCommitted()}onInvalidated(){~this.flags&Xi.Overridden&&(this.flags|=Xi.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const n of i)n.onCommitted()}}},W1e=class gJ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new gJ;return this._values.forEach((n,s)=>{t&&t.has(s)||i.set(s,ke(n))}),i}get(t){return this._values.get(t)}originOf(){return fi.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function ex(e,t,i){return e!==void 0}function lj(e,t,i,n){return e!==void 0&&(!(i==null&&e.flags&Xi.NonNullable)||(n.lifecycle,Po.INITIALIZING,!1))}let J1e=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Po.INITIALIZING,this.store=new W1e,this.mutable=!0,this._origin=fi.USER;const i=this.host.constructor.__accessorMetadata__;for(const n in i){const s=new aj(n,i[n]);this.propertiesByName.set(n,s)}this.metadata=i}initialize(){this.lifecycle=Po.CONSTRUCTING}constructed(){this.lifecycle=Po.CONSTRUCTED}destroy(){this.lifecycle=Po.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Po.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Gt(i);const n=this.store;return n.has(t)?n.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&Xi.HasDefaultValue)return"defaults"}return t4(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(ex(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const n=this.propertiesByName.get(t);ex(n)&&this._internalSet(n,i)}getDependsInfo(t,i,n){const s=this.propertiesByName.get(i);if(!ex(s))return"";const u=new I_,p=Ih(u,()=>{var E;return(E=s.metadata.get)==null?void 0:E.call(t)});let g=`${n}${t.declaredClass.split(".").pop()}.${i}: ${p}
`;const w=u.accessed??new Set;if(w.size===0)return g;n+="  ";for(const E of w)E instanceof aj&&(g+=`${n}${E.propertyName}: undefined
`);return g}setAtOrigin(t,i,n){const s=this.propertiesByName.get(t);if(ex(s))return this._setAtOrigin(s,i,n)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&Xi.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&Xi.Overridden&&(i.flags&=~Xi.Overridden,i.notifyChange())}override(t,i){const n=this.propertiesByName.get(t);if(!lj(n,t,i,this))return;const s=n.metadata.cast;if(s){const u=this._cast(s,i),{valid:p,value:g}=u;if(ET.release(u),!p)return;i=g}n.flags|=Xi.Overridden,this._internalSet(n,i)}set(t,i){const n=this.propertiesByName.get(t);if(!lj(n,t,i,this))return;const s=n.metadata.cast;if(s){const p=this._cast(s,i),{valid:g,value:w}=p;if(ET.release(p),!g)return;i=w}const u=n.metadata.set;u?u.call(this.host,i):this._internalSet(n,i)}setDefaultOrigin(t){this._origin=_f(t)}getDefaultOrigin(){return t4(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const n=this.lifecycle!==Po.INITIALIZING?this._origin:fi.DEFAULTS;this._setAtOrigin(t,i,n)}_setAtOrigin(t,i,n){const s=this.store,u=t.propertyName;s.has(u,n)&&CO(i,s.get(u))&&~t.flags&Xi.Overridden&&n===s.originOf(u)||(t.invalidate(),s.set(u,i,n),t.commit(),mJ(this.host,t))}_cast(t,i){const n=ET.acquire();return n.valid=!0,n.value=i,t&&(n.value=t.call(this.host,i,n)),n}},Z1e=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const ET=new zw(Z1e);function n4(e,t,i){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))n4(e,n,t[n]);else{if(t.includes(".")){const s=t.split("."),u=s.splice(-1,1)[0];return void n4(sl(e,s),u,i)}const n=e.__accessor__;n!=null&&Y1e(t,n),e[t]=i}}function Y1e(e,t){if(Ge("esri-unknown-property-errors")&&!K1e(e,t))throw new ze("set:unknown-property",X1e(e,t))}function K1e(e,t){return t.metadata[e]!=null}function X1e(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Q1e;function eme(){return Q1e}var cj;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(cj||(cj={}));function tme(e){e.length=0}let ru=class{constructor(t=50,i=50){this._pool=new zw(Array,void 0,tme,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return TT.acquire()}static release(t){return TT.release(t)}static prune(){TT.prune()}};const TT=new ru(100);let vJ=class extends zw{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const tx=[];function Ky(e){tx.push(e),tx.length===1&&queueMicrotask(()=>{const t=tx.slice();tx.length=0;for(const i of t)i()})}let E2=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var TM;(function(e){const t=(u,p,g,w)=>{let E=p,A=p;const I=g>>>1,R=u[E-1];for(;A<=I;){A=E<<1,A<g&&w(u[A-1],u[A])<0&&++A;const F=u[A-1];if(w(F,R)<=0)break;u[E-1]=F,E=A}u[E-1]=R},i=(u,p)=>u<p?-1:u>p?1:0;function n(u,p,g,w){p===void 0&&(p=0),g===void 0&&(g=u.length),w===void 0&&(w=i);for(let A=g>>>1;A>p;A--)t(u,A,g,w);const E=p+1;for(let A=g-1;A>p;A--){const I=u[p];u[p]=u[A],u[A]=I,t(u,E,A,w)}}function*s(u,p,g,w){p===void 0&&(p=0),g===void 0&&(g=u.length),w===void 0&&(w=i);for(let A=g>>>1;A>p;A--)t(u,A,g,w),yield;const E=p+1;for(let A=g-1;A>p;A--){const I=u[p];u[p]=u[A],u[A]=I,t(u,E,A,w),yield}}e.sort=n,e.iterableSort=s})(TM||(TM={}));const uj=TM,ime=1.5,nme=1.1;let J0=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new RW,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>hj(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let n=0;n<this._length;n++){const s=this.data[n];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const n=this.data.indexOf(t,i);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let n=0;n<i;n++)this.data[this._length++]=t[n]}fill(t,i){for(let n=0;n<i;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,hj(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=xM(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(xM(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,n){this.length=g1e(this.data,t,this.length,i,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const n=this.data[t];this.data[t]=this.data[i],this.data[i]=n}sort(t){uj.sort(this.data,0,this.length,t)}iterableSort(t){return uj.iterableSort(this.data,0,this.length,t)}some(t,i){for(let n=0;n<this.length;++n)if(t.call(i,this.data[n],n,this.data))return!0;return!1}find(t,i){const{data:n,length:s}=this;for(let u=0;u<s;++u)if(t.call(i,n[u]))return n[u]}filterInPlace(t,i){let n=0;for(let s=0;s<this._length;++s){const u=this.data[s];t.call(i,u,s,this.data)&&(this.data[s]=this.data[n],this.data[n]=u,n++)}if(this._deallocator)for(let s=n;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=n,this._shrink(),this}forAll(t,i){const{data:n,length:s}=this;for(let u=0;u<s;++u)t.call(i,n[u],u,n)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const n=new Array(this.length);for(let s=0;s<this.length;++s)n[s]=t.call(i,this.data[s],s,this.data);return n}reduce(t,i){let n=i;for(let s=0;s<this.length;++s)n=t(n,this.data[s],s,this.data);return n}has(t){const i=this.length,n=this.data;for(let s=0;s<i;++s)if(n[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function hj(e){e.data.length>ime*e.length&&(e.data.length=Math.floor(e.length*nme))}function rme(e){return{setTimeout:(t,i)=>{const n=e.setTimeout(t,i);return Mi(()=>e.clearTimeout(n))}}}const sme=rme(globalThis);function P_(e){return ome(e)||bJ(e)}function ome(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function bJ(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function Z0(e,t,i){if(!P_(e))throw new TypeError("target is not a Evented or EventTarget object");return bJ(e)?ame(e,t,i):e.on(t,i)}function ame(e,t,i,n){if(Array.isArray(t)){const s=t.slice();for(const u of s)e.addEventListener(u,i,n);return Mi(()=>{for(const u of s)e.removeEventListener(u,i,n)})}return e.addEventListener(t,i,n),Mi(()=>e.removeEventListener(t,i,n))}function wJ(e,t,i){if(!P_(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const n=Z0(e,t,s=>{n.remove(),i.call(e,s)});return n}function Gn(e="Aborted"){return new ze("AbortError",e)}function Fo(e,t="Aborted"){if(Sa(e))throw Gn(t)}function jw(e){return e instanceof AbortSignal?e:(e==null?void 0:e.signal)??void 0}function Sa(e){const t=jw(e);return t!=null&&t.aborted}function su(e){if(wc(e))throw e}function dj(e){if(!wc(e))throw e}function Ro(e,t){const i=jw(e);if(i!=null){if(!i.aborted)return wJ(i,"abort",()=>t());t()}}function xJ(e,t){const i=jw(e);if(i!=null)return Fo(i),wJ(i,"abort",()=>t(Gn()))}function Fw(e,t){return jw(t)==null?e:new Promise((i,n)=>{let s=Ro(t,()=>n(Gn()));const u=()=>{s=Ur(s)};e.then(u,u),e.then(i,n)})}function wc(e){return(e==null?void 0:e.name)==="AbortError"}async function hc(e){try{return await e}catch(t){if(!wc(t))throw t;return}}async function IO(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),n=i.map(p=>e[p]),s=await IO(n),u={};return i.map((p,g)=>u[p]=s[g]),u}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(n,s)=>{const u=i[s];return u.status==="fulfilled"?{promise:n,value:u.value}:{promise:n,error:u.reason}}))}async function kze(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function Cze(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function lme(e,t=void 0,i){const n=new AbortController;return Ro(i,()=>n.abort()),new Promise((s,u)=>{let p=setTimeout(()=>{p=0,s(t)},e);Ro(n,()=>{p&&(clearTimeout(p),u(Gn()))})})}function Aze(e,t){const i=new AbortController,n=setTimeout(()=>i.abort(),t);return Ro(e,()=>{i.abort(),clearTimeout(n)}),{...e,signal:i.signal}}function wg(e){return e&&typeof e.then=="function"}function MM(e){return wg(e)?e:Promise.resolve(e)}function xg(e,t=-1){let i,n,s,u,p=null;const g=(...w)=>{if(i){n=w,u&&u.reject(Gn()),u=pa();const R=u.promise;if(p){const F=p;p=null,F.abort()}return R}if(s=u||pa(),u=null,t>0){const R=new AbortController;i=MM(e(...w,R.signal));const F=i;lme(t).then(()=>{i===F&&(u?R.abort():p=R)})}else i=1,i=MM(e(...w));const E=()=>{const R=n;n=s=i=p=null,R!=null&&g(...R)},A=i,I=s;return A.then(E,E),A.then(I.resolve,I.reject),I.promise};return g}function pa(){let e,t;const i=new Promise((s,u)=>{e=s,t=u}),n=s=>{e(s)};return n.resolve=s=>e(s),n.reject=s=>t(s),n.timeout=(s,u)=>sme.setTimeout(()=>n.reject(u),s),n.promise=i,n}async function fj(e){await Promise.resolve(),Fo(e)}function Oze(e){return e}function Ize(e){return 1e3*e}function Pze(e){return e}function Rze(e){return .001*e}let cme=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},ume=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},$M=0;const Jv={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},kM=["prepare","preRender","render","postRender","update","finish"],CM=[],s1=new J0;let hme=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function dme(){Y0!=null&&(cancelAnimationFrame(Y0),Y0=requestAnimationFrame(RO))}const r4={frameTasks:s1,willDispatch:!1,clearFrameTasks:fme,dispatch:_J,executeFrameTasks:pme,reschedule:dme};function PO(e){const t=new ume(e);return CM.push(t),r4.willDispatch||(r4.willDispatch=!0,Ky(_J)),t}function zze(e){const t=new cme(e);return s1.push(t),Y0==null&&($M=performance.now(),Y0=requestAnimationFrame(RO)),new hme(t)}let Y0=null;function fme(e=!1){s1.forAll(t=>{t.removed=!0}),e&&SJ()}function RO(){const e=performance.now();Y0=null,Y0=s1.length>0?requestAnimationFrame(RO):null,r4.executeFrameTasks(e)}function pme(e){const t=e-$M;$M=e;const i=1e3/60,n=Math.max(0,t-i);Jv.time=e,Jv.frameDuration=i-n;for(let s=0;s<kM.length;s++){const u=performance.now(),p=kM[s];s1.forAll(g=>{var w;g.paused||g.removed||(s===0&&g.ticks++,g.phases[p]&&(Jv.elapsedFrameTime=performance.now()-e,Jv.deltaTime=g.ticks===0?0:t,(w=g.phases[p])==null||w.call(g,Jv)))}),vme[s].push(performance.now()-u)}SJ(),bme.push(performance.now()-e)}const ix=new J0;function SJ(){s1.forAll(e=>{e.removed&&ix.push(e)}),s1.removeUnorderedMany(ix.data,ix.length),ix.clear()}function _J(){for(;CM.length;){const e=CM.shift();e.isActive&&e.callback()}r4.willDispatch=!1}function mme(e=1,t){const i=pa(),n=()=>{Sa(t)?i.reject(Gn()):e===0?i():(--e,Ky(()=>n()))};return n(),i.promise}function yme(e){return mme(1,e)}async function gme(e){await yme(e),await new Promise(t=>requestAnimationFrame(()=>{e!=null&&e.aborted||t()}))}const vme=kM.map(e=>new E2(e)),bme=new E2("total");function wme(e,t){for(const i of e.values())if(t(i))return!0;return!1}function s4(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function pj(e,t){return t!=null&&e.add(t),e}function EJ(e,t){const i=new Set;return s4(i,e),s4(i,t),i}function TJ(e,t){const i=new Set;for(const n of t)e.has(n)&&i.add(n);return i}function jze(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function Fze(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function xme(e,t){const i=new Set(e);for(const n of t)i.delete(n);return i}function Uze(e,t){return xme(EJ(e,t),TJ(e,t))}function Vze(e){let t;for(t of e);return t}let Sme=0;function T2(){return++Sme}let R_=class extends I_{constructor(t){super(new _me(t)),this._observer&&mj.register(this,new WeakRef(this._observer),this)}destroy(){var t,i;this._observer&&mj.unregister(this._observer),(t=this.accessed)==null||t.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},_me=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Eme}};const mj=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function Eme(){}let $y=!1;const o4=[];function MJ(e,t){let i=new R_(u),n=null,s=!1;function u(){if(!i||s)return;if($y)return void CJ(u);const g=n;i.clear(),$y=!0,s=!0,n=Ih(i,e),s=!1,$y=!1,t(n,g),AJ()}function p(){i&&(i.destroy(),i=null,n=null)}return s=!0,n=Ih(i,e),s=!1,Mi(p)}function $J(e,t){let i=new R_(s),n=null;function s(){t(n,p)}function u(){i&&(i.destroy(),i=null),n=null}function p(){return i?(i.clear(),n=Ih(i,e),n):null}return p(),Mi(u)}function kJ(e,t){let i=!1,n=!1;const s=!!(t!=null&&t.sync);let u=new R_(()=>{i||n||(n=!0,s?p():queueMicrotask(p))});function p(){n=!1,u&&!i&&($y?CJ(p):(u.clear(),$y=!0,i=!0,Ih(u,e),i=!1,$y=!1,AJ()))}function g(){u&&(u.destroy(),u=null)}return i=!0,Ih(u,e),i=!1,Mi(g)}function CJ(e){o4.includes(e)||o4.unshift(e)}function AJ(){for(;o4.length;)o4.pop()()}var M2;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(M2||(M2={}));let sw=class{constructor(){this.uid=T2(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,n,s,u){return this.pool.acquire(M2.Untracked,t,i,n,s,u,CO)}static acquireTracked(t,i,n,s){return this.pool.acquire(M2.Tracked,t,i,n,null,null,s)}notify(t,i){this.type===M2.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,n,s,u,p,g){this.uid=T2(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=n,this.getValue=s,this.target=u,this.path=p,this.equals=g}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=T2(),this.removed=!0}};sw.pool=new vJ(sw);const l9=new ru,Ch=new Set;let a4;function l4(e){Ch.delete(e),Ch.add(e),a4||(a4=PO($me))}function Tme(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function Mme(e){for(const t of Ch.values())t.target===e&&(t.removed=!0)}function $me(){let e=10;for(;a4&&e--;){a4=null;const t=kme(),i=l9.acquire();for(const n of t){const s=n.uid;Tme(n),s===n.uid&&n.removed&&i.push(n)}for(const n of Ch)n.removed&&(i.push(n),Ch.delete(n));for(const n of i)sw.pool.release(n);l9.release(i),l9.release(t),AM.forEach(n=>n())}}function kme(){const e=l9.acquire();e.length=Ch.size;let t=0;for(const i of Ch)e[t]=i,++t;return Ch.clear(),e}const AM=new Set;function Cme(e){return AM.add(e),Mi(()=>AM.delete(e))}function Ame(e,t,i){let n=cJ(e,t,i,(s,u,p)=>{let g,w,E=$J(()=>Nw(s,u),(A,I)=>{var R;((R=s.__accessor__)==null?void 0:R.lifecycle)===Po.DESTROYED||g&&g.uid!==w?n.remove():(g||(g=sw.acquireUntracked(A,p,I,s,u),w=g.uid),l4(g))});return Mi(()=>{E.remove(),g&&(g.uid!==w||g.removed||(g.removed=!0,l4(g)),g=null),n=E=null})});return n}function Ome(e,t,i){const n=cJ(e,t,i,(s,u,p)=>{let g=!1;return MJ(()=>Nw(s,u),(w,E)=>{s.__accessor__.lifecycle!==Po.DESTROYED?g||(g=!0,CO(E,w)||p.call(s,w,E,u,s),g=!1):n.remove()})});return n}function Ime(e,t,i,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Po.DESTROYED?n?Ome(e,t,i):Ame(e,t,i):Mi()}function Pme(e,t,i){let n,s,u=$J(e,(p,g)=>{n&&n.uid!==s?u.remove():(n||(n=sw.acquireTracked(p,t,g,i),s=n.uid),l4(n))});return Mi(()=>{u.remove(),n&&(n.uid!==s||n.removed||(n.removed=!0,l4(n)),n=null),u=null})}function Rme(e,t,i){let n=!1;return MJ(e,(s,u)=>{n||(n=!0,i(u,s)||t(s,u),n=!1)})}function Dme(e,t,i=!1,n=XW){return i?Rme(e,t,n):Pme(e,t,n)}function yj(e){return wme(Ch,t=>t.oldValue===e)}function Bze(e,t){for(const i of e.values())if(t(i))return!0;return!1}function Wze(e,t){for(const i of e.values())if(t(i))return i;return null}function DO(e,t,i){const n=e.get(t);if(n!==void 0)return n;const s=i();return e.set(t,s),s}function Jze(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const ky=()=>xt.getLogger("esri.core.accessorSupport.ensureTypes");function Nme(e){return e==null?e:new Date(e)}function Lme(e){return e==null?e:!!e}function Uw(e){return e==null?e:e.toString()}function Sg(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function NO(e){return e==null?e:Math.round(parseFloat(e))}function zme(e){return null}function jme(e,t){return i=>{let n=e(i);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function OJ(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function c4(e,t){return t!=null&&e&&!(t instanceof e)}function IJ(e){return e&&"isCollection"in e}function gj(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Fme(e,t){if(!(t!=null&&t.constructor)||!IJ(t.constructor))return OM(e,t)?t:new e(t);const i=gj(e.prototype.itemType),n=gj(t.constructor.prototype.itemType);return i?n?i===n?t:i.prototype.isPrototypeOf(n.prototype)?new e(t):(OM(e,t),t):new e(t):t}function OM(e,t){return!!OJ(t)&&(ky().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+D_(e)+"'"),!0)}function Vw(e,t){return t==null?t:IJ(e)?Fme(e,t):c4(e,t)?OM(e,t)?t:new e(t):t}function D_(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const Ume=new WeakMap;function Vme(e){switch(e){case Number:return t=>Sg(t);case fn:return NO;case Boolean:return Lme;case String:return Uw;case Date:return Nme;case N_:return zme;default:return DO(Ume,e,()=>Vw.bind(null,e))}}function ls(e,t){const i=Vme(e);return arguments.length===1?i:i(t)}function ow(e,t,i){return arguments.length===1?ow.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,i)):[e(t,i)])}function Gme(e,t){return arguments.length===1?ow(i=>ls(e,i)):ow(i=>ls(e,i),t)}function PJ(e,t,i){return t!==0&&Array.isArray(i)?i.map(n=>PJ(e,t-1,n)):e(i)}function u4(e,t,i){if(arguments.length===2)return u=>u4(e,t,u);if(!i)return i;i=PJ(e,t,i);let n=t,s=i;for(;n>0&&Array.isArray(s);)n--,s=s[0];if(s!==void 0)for(let u=0;u<n;u++)i=[i];return i}function Hme(e,t,i){return arguments.length===2?u4(n=>ls(e,n),t):u4(n=>ls(e,n),t,i)}function RJ(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function IM(e,t){if(arguments.length===2)return IM(e).call(null,t);const i=new Set,n=e.filter(g=>typeof g!="function"),s=e.filter(g=>typeof g=="function");for(const g of e)typeof g!="string"&&typeof g!="number"||i.add(g);let u=null,p=null;return(g,w)=>{if(g==null)return g;const E=typeof g,A=E==="string"||E==="number";return A&&(i.has(g)||s.some(I=>E==="string"&&I===String||E==="number"&&I===Number))||E==="object"&&s.some(I=>!c4(g,I))?g:(A&&n.length?(u||(u=n.map(I=>typeof I=="string"?`'${I}'`:`${I}`).join(", ")),ky().error("Accessor#set",`'${g}' is not a valid value for this property, only the following values are valid: ${u}`)):typeof g=="object"&&s.length?(p||(p=s.map(I=>D_(I)).join(", ")),ky().error("Accessor#set",`'${g}' is not a valid value for this property, value must be one of ${p}`)):ky().error("Accessor#set",`'${g}' is not a valid value for this property`),w&&(w.valid=!1),null)}}function ml(e,t){if(arguments.length===2)return ml(e).call(null,t);const i={},n=[],s=[];for(const w in e.typeMap){const E=e.typeMap[w];i[w]=ls(E),n.push(D_(E)),s.push(w)}const u=()=>`'${n.join("', '")}'`,p=()=>`'${s.join("', '")}'`,g=typeof e.key=="string"?w=>w[e.key]:e.key;return w=>{if(e.base&&!c4(e.base,w)||w==null)return w;const E=g(w)||e.defaultKeyValue,A=i[E];if(!A)return ky().error("Accessor#set",`Invalid property value, value needs to be one of ${u()}, or a plain object that can autocast (having .type = ${p()})`),null;if(!c4(e.typeMap[E],w))return w;if(typeof e.key=="string"&&!OJ(w)){const I={};for(const R in w)R!==e.key&&(I[R]=w[R]);return A(I)}return A(w)}}let fn=class{},N_=class{};const Kze={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function qme(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function DJ(e){switch(e.type){case"native":return ls(e.value);case"array":return ow(DJ(e.value));case"one-of":return Bme(e);default:return null}}function Bme(e){let t=null;return(i,n)=>RM(i,e)?i:(t==null&&(t=PM(e)),ky().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function PM(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case fn:return"integer";case Date:return"date";case N_:return"null";default:return D_(e.value)}case"array":return`array of ${PM(e.value)}`;case"one-of":{const t=e.values.map(i=>PM(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function RM(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case fn:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case N_:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!RM(i,t.value));case"one-of":return t.values.some(i=>RM(e,i))}}function M(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,i),s=O_(t,i);n&&(n.get||n.set?(s.get=n.get||s.get,s.set=n.set||s.set):"value"in n&&("value"in e&&xt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=n.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const u=e.aliasOf;if(u){const w=typeof u=="string"?u:u.source,E=typeof u=="string"?null:u.overridable===!0;let A;s.dependsOn=[w],s.get=function(){let I=sl(this,w);if(typeof I=="function"){A||(A=w.split(".").slice(0,-1).join("."));const R=sl(this,A);R&&(I=I.bind(R))}return I},s.readOnly||(s.set=E?function(I){this._override(i,I)}:function(I){n4(this,w,I)})}const p=e.type,g=e.types;if(!s.cast){let w;p?w=Wme(p):g&&(w=Array.isArray(g)?ow(ml(g[0])):ml(g)),e.cast=Jme(e.cast,w)}L1e(s,e),e.range&&(s.cast=jme(s.cast,e.range))}}function NJ(e,t,i){const n=O_(e,i);n.json||(n.json={});let s=n.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Wme(e){let t=0,i=e;if(qme(e))return DJ(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const n=i;if(RJ(n))return t===0?IM(n):u4(IM(n),t);if(t===1)return Gme(n);if(t>1)return Hme(n,t);const s=e;return s.from?s.from:ls(s)}function Jme(e,t){if(e||t)return e?t?(i,n)=>t(e(i,n),n):e:t}function Zme(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const n in i)if(t[n]){const s=t[n];i[n].forEach(u=>{t[u]=s}),delete t[n]}}}let dc=class extends iJ{constructor(t,i,n){super(t,i,n)}};dc.prototype.type="warning";function LJ(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const DM=()=>xt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function vj(e,t,i){var n,s;e&&(!i&&!t.read||(n=t.read)!=null&&n.reader||((s=t.read)==null?void 0:s.enabled)===!1||Xme(e)&&Zs("read.reader",_g(e),t))}function _g(e){var i,n;const t=e.ndimArray??0;if(t>1)return Kme(e);if(t===1)return bj(e);if("type"in e&&jJ(e.type)){const s=(n=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:n.Type,u=bj(typeof s=="function"?{type:s}:{types:s});return(p,g,w)=>{const E=u(p,g,w);return E&&new e.type(E)}}return LO(e)}function LO(e){return"type"in e?Yme(e.type):Qme(e.types)}function Yme(e){return e.prototype.read?(t,i,n)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void DM().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const u=new e;return u.read(t,n),u}:e.fromJSON}function zJ(e,t,i,n){return n!==0&&Array.isArray(t)?t.map(s=>zJ(e,s,i,n-1)):e(t,void 0,i)}function Kme(e){const t=LO(e),i=zJ.bind(null,t),n=e.ndimArray??0;return(s,u,p)=>{if(s==null)return s;s=i(s,p,n);let g=n,w=s;for(;g>0&&Array.isArray(w);)g--,w=w[0];if(w!==void 0)for(let E=0;E<g;E++)s=[s];return s}}function bj(e){const t=LO(e);return(i,n,s)=>{if(i==null)return i;if(Array.isArray(i)){const p=[];for(const g of i){const w=t(g,void 0,s);w!==void 0&&p.push(w)}return p}const u=t(i,void 0,s);return u!==void 0?[u]:void 0}}function jJ(e){if(!LJ(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?zO(t.Type):FJ(t.Type))}function Xme(e){return"types"in e?FJ(e.types):zO(e.type)}function zO(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||jJ(e))}function FJ(e){for(const t in e.typeMap)if(!zO(e.typeMap[t]))return!1;return!0}function Qme(e){let t=null;const i=e.errorContext??"type",n=e.validate;return(s,u,p)=>{if(s==null)return s;const g=typeof s;if(g!=="object")return void DM().error(`Expected JSON value of type 'object' to deserialize, but got '${g}'`);t||(t=eye(e));const w=e.key;if(typeof w!="string")return;const E=s[w],A=E?t[E]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!A){const R=`Type '${E||"unknown"}' is not supported`;return p!=null&&p.messages&&s&&p.messages.push(new dc(`${i}:unsupported`,R,{definition:s,context:p})),void DM().error(R)}const I=new A;return I.read(s,p),n?n(I):I}}function eye(e){var i,n;const t={};for(const s in e.typeMap){const u=e.typeMap[s],p=Lw(u.prototype);if(typeof e.key=="function")continue;const g=p[e.key];if(!g)continue;if((i=g.json)!=null&&i.type&&Array.isArray(g.json.type)&&g.json.type.length===1&&typeof g.json.type[0]=="string"){t[g.json.type[0]]=u;continue}const w=(n=g.json)==null?void 0:n.write;if(!(w!=null&&w.writer)){t[s]=u;continue}const E=w.target,A=typeof E=="string"?E:e.key,I={};w.writer(s,I,A),I[A]&&(t[I[A]]=u)}return t}function tye(e){if(e.json||(e.json={}),xj(e.json),Sj(e.json),wj(e.json),e.json.origins)for(const t in e.json.origins)xj(e.json.origins[t]),Sj(e.json.origins[t]),wj(e.json.origins[t]);return!0}function wj(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function xj(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function Sj(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function _j(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=(e==null?void 0:e.ndimArray)??0;e&&(i===1||"type"in e&&LJ(e.type))?t.write.writer=sye:i>1?t.write.writer=oye(i):t.types?Array.isArray(t.types)?t.write.writer=nye(t.types[0]):t.write.writer=iye(t.types):t.write.writer=aw}function iye(e){return(t,i,n,s)=>t?UJ(t,e,s)?aw(t,i,n,s):void 0:aw(t,i,n,s)}function UJ(e,t,i){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(i!=null&&i.messages){const n=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new ze(`${n}:unsupported`,s,{definition:e,context:i})),xt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function nye(e){return(t,i,n,s)=>!t||!Array.isArray(t)?aw(t,i,n,s):aw(t.filter(u=>UJ(u,e,s)),i,n,s)}function aw(e,t,i,n){Zs(i,h4(e,n),t)}function h4(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?rye(e):e}function rye(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function sye(e,t,i,n){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(u=>h4(u,n)),typeof s.toArray=="function"&&(s=s.toArray())):s=[h4(e,n)],Zs(i,s,t)}function VJ(e,t,i){return i!==0&&Array.isArray(e)?e.map(n=>VJ(n,t,i-1)):h4(e,t)}function oye(e){return(t,i,n,s)=>{let u;if(t===null)u=null;else{u=VJ(t,s,e);let p=e,g=u;for(;p>0&&Array.isArray(g);)p--,g=g[0];if(g!==void 0)for(let w=0;w<p;w++)u=[u]}Zs(n,u,i)}}function aye(e,t){return jO(e,"any",t==null?void 0:t.origin)}function NM(e,t){return jO(e,"read",t==null?void 0:t.origin)}function GJ(e,t){return jO(e,"write",t==null?void 0:t.origin)}function jO(e,t,i){let n=e==null?void 0:e.json;if(n!=null&&n.origins&&i){let s;s=i==="link-chart"?n.origins[i]&&(t==="any"||t in n.origins[i])?n.origins[i]:n.origins["web-map"]:n.origins[i],s&&(t==="any"||t in s)&&(n=s)}return n}function lye(e){var i;const t=cye(e);if(e.json.origins)for(const n in e.json.origins){const s=e.json.origins[n],u=s.types?uye(s):t;vj(u,s,!1),s.types&&!s.write&&((i=e.json.write)!=null&&i.enabled)&&(s.write={...e.json.write}),_j(u,s)}vj(t,e.json,!0),_j(t,e.json)}function cye(e){return e.json.types?LM(e.json):e.type?HJ(e):LM(e)}function uye(e){return e.type?HJ(e):LM(e)}function HJ(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!RJ(i);)i=i[0],t++;return{type:i,ndimArray:t}}function LM(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function hye(e){tye(e)&&(Zme(e),lye(e))}const MT=new Set,$T=new Set;function ue(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,fye(t);const i=[],n=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!MT.has(s.initialize)&&(MT.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!$T.has(s.destroy)&&($T.add(s.destroy),n.push(s.destroy)),s=Object.getPrototypeOf(s);MT.clear(),$T.clear();const u=class extends t{constructor(...g){if(super(...g),this.constructor===u&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let w=i.length-1;w>=0;w--)i[w].call(this)}}),n.length){let w=!1;const E=this[oJ];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!w){w=!0,E.call(this);for(let A=0;A<n.length;A++)n[A].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};u.__accessorMetadata__=Lw(t.prototype),u.prototype.declaredClass=e;const p=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(u,"name",{value:p,configurable:!0}),u}}function dye(e,t){return t.get==null?function(){const i=this.__accessor__,n=i.propertiesByName.get(e);if(n===void 0)return;i.mutable&&Gt(n);const s=i.store;return s.has(e)?s.get(e):n.metadata.value}:function(){const i=this.__accessor__,n=i.propertiesByName.get(e);if(n!==void 0)return n.getComputed(i)}}function fye(e){const t=e.prototype,i=Lw(t),n={};for(const s of Object.getOwnPropertyNames(i)){const u=i[s];hye(u),n[s]={enumerable:!0,configurable:!0,get:dye(s,u),set(p){const g=this.__accessor__;if(g!==void 0){if(g.mutable)return g.initialized&&u.readOnly?Ej("read-only",s):g.lifecycle===Po.CONSTRUCTED&&u.constructOnly?Ej("construct-only",s):void g.set(s,p)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:p})}}}Object.defineProperties(e.prototype,n)}const Ej=(e,t)=>{xt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var qJ,BJ;function pye(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Lc=Symbol("Accessor-Handles"),zM=Symbol("Accessor-Initialized");let Zt=class c9{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:n,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const u=this;class p extends u{constructor(...w){super(...w),this.inherited=null,s&&s.apply(this,w)}}Lw(p.prototype);for(const g in t){const w=t[g];p.prototype[g]=typeof w=="function"?function(...E){const A=this.inherited;let I;this.inherited=function(...R){if(u.prototype[g])return u.prototype[g].apply(this,R)};try{I=w.apply(this,E)}catch(R){throw this.inherited=A,R}return this.inherited=A,I}:t[g]}for(const g in i){const w=pye(i[g]);M(w)(p.prototype,g)}return ue(n)(p)}static freeze(t){return t instanceof c9?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof c9?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){var n;if(this[qJ]=null,this[BJ]=!1,this.constructor===c9)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new J1e(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=((n=this.normalizeCtorArgs)==null?void 0:n.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[zM]=!0}initialize(){}[oJ](){this[Lc]=kr(this[Lc])}destroy(){var t;this.destroyed||(Mme(this),this.__accessor__.destroy(),(t=eme())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[zM]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===Po.DESTROYED||!1}commitProperty(t){sl(this,t)}get(t){return rJ(xt.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),sl(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return n4(this,t,i),this}watch(t,i,n){return Ime(this,t,i,n)}addHandles(t,i){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const s of n)s.remove();return}(this[Lc]??(this[Lc]=new A_)).add(t,i)}removeHandles(t){var i;(i=this[Lc])==null||i.remove(t)}removeAllHandles(){var t;(t=this[Lc])==null||t.removeAll()}removeHandlesReference(t){var i;(i=this[Lc])==null||i.removeReference(t)}hasHandles(t){var i;return((i=this[Lc])==null?void 0:i.has(t))===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};qJ=Lc,BJ=zM;const mye=Object.freeze(Object.defineProperty({__proto__:null,default:Zt},Symbol.toStringTag,{value:"Module"}));let yye=class WJ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new WJ;return this._values.forEach((n,s)=>{t&&t.has(s)||i.set(s,ke(n.value),n.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const n=this._values.get(t);return i==null||(n==null?void 0:n.origin)===i?n==null?void 0:n.value:void 0}originOf(t){var i;return((i=this._values.get(t))==null?void 0:i.origin)??fi.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(n=>{var s;return((s=this._values.get(n))==null?void 0:s.origin)===t})}set(t,i,n){if((n=this._normalizeOrigin(n))===fi.DEFAULTS){const s=this._values.get(t);if((s==null?void 0:s.origin)!=null&&s.origin>n)return}this._values.set(t,new gye(i,n))}delete(t,i){var n;(i=this._normalizeOrigin(i))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==i||this._values.delete(t)}has(t,i){var n;return(i=this._normalizeOrigin(i))!=null?((n=this._values.get(t))==null?void 0:n.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},n)=>t(i,n))}_normalizeOrigin(t){if(t!=null)return t===fi.DEFAULTS?t:fi.USER}},gye=class{constructor(t,i){this.value=t,this.origin=i}};function JJ(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),fi.DEFAULTS)});const n=e.metadata;Object.keys(n).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),fi.DEFAULTS)})}function vye(e,t,i){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&sj(n,i))return!0}else for(const s of n)if(s===t||s.includes(".")&&s.indexOf(t)===0&&sj(s,i))return!0;return!1}function bye(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function wye(e,t,i,n,s){let u=NM(t[i],s);bye(u)&&(e[i]=!0);for(const p of Object.getOwnPropertyNames(t))u=NM(t[p],s),vye(u,i,n)&&(e[p]=!0)}function xye(e,t,i,n){const s=i.metadata,u=aye(s[t],n),p=u==null?void 0:u.default;if(p===void 0)return;const g=typeof p=="function"?p.call(e,t,n):p;g!==void 0&&i.set(t,g)}const ZJ={origin:"service"};function YJ(e,t,i=ZJ){if(!t||typeof t!="object")return;const n=Vo(e),s=n.metadata,u={};for(const p of Object.getOwnPropertyNames(t))wye(u,s,p,t,i);n.setDefaultOrigin(i.origin);for(const p of Object.getOwnPropertyNames(u)){const g=NM(s[p],i).read,w=g==null?void 0:g.source;let E;E=w&&typeof w=="string"?Nw(t,w):t[p],g!=null&&g.reader&&(E=g.reader.call(e,E,t,i)),E!==void 0&&n.set(p,E)}if(!i||!i.ignoreDefaults){n.setDefaultOrigin("defaults");for(const p of Object.getOwnPropertyNames(s))u[p]||xye(e,p,n,i)}n.setDefaultOrigin("user")}function Sye(e,t,i,n=ZJ){var u;const s={...n,messages:[]};i(s),(u=s.messages)==null||u.forEach(p=>{p.type!=="warning"||e.loaded?n!=null&&n.messages&&n.messages.push(p):e.loadWarnings.push(p)})}function _ye(e,t,i,n,s){var p,g;const u={};return(g=(p=t.write)==null?void 0:p.writer)==null||g.call(e,n,u,i,s),u}function KJ(e,t,i,n,s,u){if(!(n!=null&&n.write))return!1;const p=sl(e,i);if(!s&&n.write.overridePolicy){const g=n.write.overridePolicy.call(e,p,i,u??void 0);g!==void 0&&(s=g)}if(s||(s=n.write),!s||s.enabled===!1||s.layerContainerTypes&&(u!=null&&u.layerContainerType)&&!s.layerContainerTypes.includes(u.layerContainerType))return!1;if((p===null&&!s.allowNull&&!s.writerEnsuresNonNull||p===void 0)&&s.isRequired){const g=new ze("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return g&&(u!=null&&u.messages)?u.messages.push(g):g&&!u&&xt.getLogger("esri.core.accessorSupport.write").error(g.name,g.message),!1}return!(p===void 0||p===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===fi.DEFAULTS)&&Eye(e,i,u,n,p)||!s.ignoreOrigin&&(u!=null&&u.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(i)<_f(u.origin))}function Eye(e,t,i,n,s){const u=n.default;if(u===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(s);if(typeof u=="function"){if(Array.isArray(s)){const p=u.call(e,t,i??void 0);return pu(p,s)}return!1}return u===s}function Tye(e,t,i,n){const s=Vo(e),u=s.metadata,p=GJ(u[t],n);return!!p&&KJ(e,s,t,p,i,n)}function XJ(e,t,i){var u,p;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return s9(t,e.toJSON(i));const n=Vo(e),s=n.metadata;for(const g in s){const w=GJ(s[g],i);if(!KJ(e,n,g,w,void 0,i))continue;const E=sl(e,g),A=_ye(e,w,w.write&&typeof w.write.target=="string"?w.write.target:g,E,i);Object.keys(A).length>0&&(t=s9(t,A),(p=(u=i==null?void 0:i.resources)==null?void 0:u.pendingOperations)!=null&&p.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>s9(t,A,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:g,oldOrigin:H1e(n.store.originOf(g)),newOrigin:i.origin}))}return t}const FO=e=>{let t=class extends e{constructor(...i){super(...i);const n=Vo(this),s=n.store,u=new yye;n.store=u,JJ(n,s,u)}read(i,n){YJ(this,i,n)}write(i,n){return XJ(this,i??{},n)}toJSON(i){return this.write({},i)}static fromJSON(i,n){return Mye.call(this,i,n)}};return t=S([ue("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Mye(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}function d4(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let tt=class extends FO(Zt){};tt=S([ue("esri.core.JSONSupport")],tt);const $ye=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,kye={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function Tj(e){const t=e==null?void 0:e.match($ye);if(!t)return null;const[,i,n,s]=t;if(!i)return null;let u=null,p=null,g=null;const{devext:w,qaext:E,www:A}=kye;if(n)if(u=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:p,portalHostname:g}=w);break;case"qa":({customBaseUrl:p,portalHostname:g}=E);break;default:return null}else({customBaseUrl:p,portalHostname:g}=A);else switch(i.toLowerCase()){case"devext":({customBaseUrl:p,portalHostname:g}=w);break;case"qaext":({customBaseUrl:p,portalHostname:g}=E);break;case"www":({customBaseUrl:p,portalHostname:g}=A);break;default:return null}return{customBaseUrl:p,isPortal:!1,portalHostname:g,urlKey:u}}function QJ(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function f4(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}function Cye(e){const t=atob(e),i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i.buffer}function Aye(e){const t=new Uint8Array(e);let i="";for(let n=0;n<t.length;n++)i+=String.fromCharCode(t[n]);return btoa(i)}const Oye=()=>xt.getLogger("esri.core.urlUtils"),Eg=Bi.request,Mj="esri/config: esriConfig.request.proxyUrl is not set.",eZ=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,tZ=/^\s*http:/i,Iye=/^\s*https:/i,Pye=/^\s*file:/i,Rye=/:\d+$/,Dye=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Nye=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Lye=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Do=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(Nye);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(Lye),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const nx={},zye=new Do(Bi.applicationUrl);let qs=zye;const jye=Fye();let UO=jye;const VO=()=>qs,ije=()=>UO;function Fye(){const e=qs.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${qs.scheme}://${qs.host}${qs.port!=null?`:${qs.port}`:""}`}${t}`}function ho(e){if(!e)return null;const t={path:null,query:null},i=new Do(e),n=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,n),t.query=j0(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function j0(e){const t=e.split("&"),i={};for(const n of t){if(!n)continue;const s=n.indexOf("=");let u,p;s<0?(u=decodeURIComponent(n),p=""):(u=decodeURIComponent(n.slice(0,s)),p=decodeURIComponent(n.slice(s+1)));let g=i[u];typeof g=="string"&&(g=i[u]=[g]),Array.isArray(g)?g.push(p):i[u]=p}return i}function o1(e,t){return e?Object.keys(e).map(i=>{const n=e[i];if(n==null)return"";const s=encodeURIComponent(i)+"=";return Array.isArray(n)?n.map(u=>d4(u)?s+encodeURIComponent(JSON.stringify(u)):s+encodeURIComponent(u)).join("&"):d4(n)?s+encodeURIComponent(JSON.stringify(n)):s+encodeURIComponent(n)}).filter(i=>i).join("&"):""}function iZ(e=!1){let t,i=Eg.proxyUrl;if(typeof e=="string"){t=Bye(e);const n=Gw(e);n&&(i=n.proxyUrl)}else t=!!e;if(!i)throw Oye().warn(Mj),new ze("urlUtils:proxy-not-set",Mj);return t&&FM()&&(i=WO(i)),ho(i)}function nje(e,t=!1){const i=Gw(e);let n,s;if(i){const u=GO(i.proxyUrl);n=u.path,s=u.query?j0(u.query):null}else if(t){const u=iZ(e);n=u.path,s=u.query}if(n){const u=ho(e);e=n+"?"+u.path;const p=o1({...s,...u.query});p&&(e=`${e}?${p}`)}return e}const Zv={path:"",query:""};function GO(e){const t=e.indexOf("?");return t!==-1?(Zv.path=e.slice(0,t),Zv.query=e.slice(t+1)):(Zv.path=e,Zv.query=null),Zv}function nZ(e){return e=(e=m4(e=Xye(e=GO(e).path),!0)).toLowerCase()}function Uye(e){const t={proxyUrl:e.proxyUrl,urlPrefix:nZ(e.urlPrefix)},i=Eg.proxyRules,n=t.urlPrefix;let s=i.length;for(let u=0;u<i.length;u++){const p=i[u].urlPrefix;if(n.indexOf(p)===0){if(n.length===p.length)return-1;s=u;break}p.indexOf(n)===0&&(s=u+1)}return i.splice(s,0,t),s}function Gw(e){const t=Eg.proxyRules,i=nZ(e);for(let n=0;n<t.length;n++)if(i.indexOf(t[n].urlPrefix)===0)return t[n]}function Vye(e,t){if(!e||!t)return!1;e=p4(e),t=p4(t);const i=Tj(e),n=Tj(t);return i!=null&&n!=null?i.portalHostname===n.portalHostname:i==null&&n==null&&Oo(e,t,!0)}function rZ(e,t){return e=p4(e),t=p4(t),m4(e)===m4(t)}function p4(e){const t=(e=hl(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function jM(e,t=Eg.interceptors){const i=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n);if(t){for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(i))return n}else if(i(n.urls))return n}return null}function Oo(e,t,i=!1){if(!e||!t)return!1;const n=VM(e),s=VM(t);return!(!i&&n.scheme!==s.scheme)&&n.host!=null&&s.host!=null&&n.host.toLowerCase()===s.host.toLowerCase()&&n.port===s.port}function HO(e){if(typeof e=="string"){if(!ga(e))return!0;e=VM(e)}if(Oo(e,qs))return!0;const t=Eg.trustedServers||[];for(let i=0;i<t.length;i++){const n=Gye(t[i]);for(let s=0;s<n.length;s++)if(Oo(e,n[s]))return!0}return!1}function Gye(e){return nx[e]||(BO(e)||rp(e)?nx[e]=[new Do(co(e))]:nx[e]=[new Do(`http://${e}`),new Do(`https://${e}`)]),nx[e]}function co(e,t=UO,i){return rp(e)?i!=null&&i.preserveProtocolRelative?e:qs.scheme==="http"&&qs.authority===dl(e).slice(2)?`http:${e}`:`https:${e}`:BO(e)?e:Xy(e[0]==="/"?Yye(t):t,e)}function qO(e,t=UO,i){if(e==null||!ga(e))return e;const n=hl(e),s=n.toLowerCase(),u=hl(t).toLowerCase().replace(/\/+$/,""),p=i?hl(i).toLowerCase().replace(/\/+$/,""):null;if(p&&u.indexOf(p)!==0)return e;const g=(I,R,F)=>(F=I.indexOf(R,F))===-1?I.length:F;let w=g(s,"/",s.indexOf("//")+2),E=-1;for(;s.slice(0,w+1)===u.slice(0,w)+"/"&&(E=w+1,w!==s.length);)w=g(s,"/",w+1);if(E===-1||p&&E<p.length)return e;e=n.slice(E);const A=u.slice(E-1).replaceAll(/[^/]+/g,"").length;if(A>0)for(let I=0;I<A;I++)e=`../${e}`;else e=`./${e}`;return e}function hl(e){return e=tge(e=ege(e=Qye(e=co(e=e.trim()))))}function Xy(...e){const t=e.filter(uo);if(!(t!=null&&t.length))return;const i=[];if(ga(t[0])){const s=t[0],u=s.indexOf("//");u!==-1&&(i.push(s.slice(0,u+1)),Jye(t[0])&&(i[0]+="/"),t[0]=s.slice(u+2))}else t[0][0]==="/"&&i.push("");const n=t.reduce((s,u)=>u?s.concat(u.split("/")):s,[]);for(let s=0;s<n.length;s++){const u=n[s];u===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!u&&s===n.length-1||u&&(u!=="."||i.length===0))&&i.push(u)}return i.join("/")}function dl(e,t=!1){if(e==null||L_(e)||k1(e))return null;let i=e.indexOf("://");if(i===-1&&rp(e))i=2;else{if(i===-1)return null;i+=3}const n=e.indexOf("/",i);return n!==-1&&(e=e.slice(0,n)),t&&(e=m4(e,!0)),e}function ga(e){return rp(e)||BO(e)}function L_(e){return e!=null&&e.slice(0,5)==="blob:"}function k1(e){return e!=null&&e.slice(0,5)==="data:"}function Hye(e){const t=lw(e);return t!=null&&t.isBase64?Cye(t.data):null}function kT(e){return Aye(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const qye=/^data:(.*?)(;base64)?,(.*)$/;function lw(e){const t=e.match(qye);if(!t)return null;const[,i,n,s]=t;return{mediaType:i,isBase64:!!n,data:s}}function sZ(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function rje(e){return(await fetch(e)).blob()}function sje(e){const t=Hye(e);if(!t)return null;const i=lw(e);return new Blob([t],{type:i.mediaType})}function rp(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function BO(e){return e!=null&&eZ.test(e)}function Bye(e){return e!=null&&Iye.test(e)||qs.scheme==="https"&&rp(e)}function Wye(e){return e!=null&&tZ.test(e)||qs.scheme==="http"&&rp(e)}function Jye(e){return e!=null&&Pye.test(e)}function WO(e){return rp(e)?`https:${e}`:e.replace(tZ,"https:")}function Zye(){return qs.scheme==="http"}function FM(){return qs.scheme==="https"}function m4(e,t=!1){return rp(e)?e.slice(2):(e=e.replace(eZ,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Yye(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function Kye(e){let t=0;if(ga(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function oje(e,t){if(!e)return"";const i=ho(e).path.replace(/\/+$/,""),n=i.slice(i.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(s,"")}function Xye(e){return e.endsWith("/")?e:`${e}/`}function oZ(e){return e.replace(/\/+$/,"")}function Qye(e){if(/^https?:\/\//i.test(e)){const t=GO(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function ege(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function tge(e){const t=Eg.httpsDomains;if(!Wye(e))return e;const i=e.indexOf("/",7);let n;if(n=i===-1?e:e.slice(0,i),n=n.toLowerCase().slice(7),Rye.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return Zye()&&n===qs.authority&&!Dye.test(e)||(FM()&&n===qs.authority||t&&t.some(s=>n===s||n.endsWith(`.${s}`))||FM()&&!Gw(e))&&(e=WO(e)),e}function UM(e,t,i){if(!(t&&i&&e&&ga(e)))return e;const n=e.indexOf("//"),s=e.indexOf("/",n+2),u=e.indexOf(":",n+2),p=Math.min(s<0?e.length:s,u<0?e.length:u);return e.slice(n+2,p).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${i}${e.slice(p)}`}function VM(e){return typeof e=="string"?new Do(co(e)):(e.scheme||(e.scheme=qs.scheme),e)}function aje(e){return nge.test(e)}function aZ(e,t){const i=ho(e),n=Object.keys(i.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),i.path}function ige(e,t,i){const n=ho(e),s=n.query||{};return s[t]=String(i),`${n.path}?${o1(s)}`}function u9(e,t){if(!t)return e;const i=ho(e),n=i.query||{};for(const[u,p]of Object.entries(t))p!=null&&(n[u]=p);const s=o1(n);return s?`${i.path}?${s}`:i.path}function lje(e){if(e==null)return null;const t=e.match(lZ);return t?t[2]:null}function $j(e){if(e==null)return null;const t=e.match(lZ);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function cje(e){return typeof e=="string"?lw(e)??{data:e}:new Promise((t,i)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(lw(n.result)),n.onerror=s=>i(s)})}const lZ=/([^.]*)\.([^/]*)$/,nge=/(^data:image\/svg|\.svg$)/i,cZ="20241122",uZ="f6f7099a0e79cf518abdcf87c5aa8b6f24ecdcd8";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const rge="4.31";let ai,JO=rge;JO="4.31.6";function sge(e){ai=e}function uje(e){const t=ai==null?void 0:ai.findCredential(e);return t!=null&&t.token?ige(e,"token",t.token):e}Ge("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),Ge("host-webworker");const oge=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function age(e){const t=dl(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!oge.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function hZ(e,t){return!(!Bi.apiKey||!age(e))}function lge(e,t,i=!1,n){return new Promise((s,u)=>{if(Sa(n))return void u(kj());let p=()=>{E(),u(new Error(`Unable to load ${t}`))},g=()=>{const A=e;E(),s(A)},w=()=>{if(!e)return;const A=e;E(),A.src="",u(kj())};const E=()=>{Ge("esri-image-decode")||(e.removeEventListener("error",p),e.removeEventListener("load",g)),p=null,g=null,e=null,n!=null&&n.removeEventListener("abort",w),w=null,i&&URL.revokeObjectURL(t)};n!=null&&n.addEventListener("abort",w),Ge("esri-image-decode")?e.decode().then(g,p):(e.addEventListener("error",p),e.addEventListener("load",g))})}function kj(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const dZ="Timeout exceeded";function cge(){return new Error(dZ)}function hje(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===dZ}function uge(e){Bi.request.crossOriginNoCorsDomains||(Bi.request.crossOriginNoCorsDomains={});const t=Bi.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[dl(i)??""]=0:(t[dl("http://"+i)??""]=0,t[dl("https://"+i)??""]=0)}function hge(e){const t=Bi.request.crossOriginNoCorsDomains;if(t){let i=dl(e);if(i)return i=i.toLowerCase(),!Oo(i,VO())&&t[i]<Date.now()-36e5}return!1}async function dge(e){var s;const t=ho(e);e=t.path,((s=t.query)==null?void 0:s.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=Bi.request.crossOriginNoCorsDomains,n=dl(e);i&&n&&(i[n.toLowerCase()]=Date.now())}async function en(e,t){var R;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=j0(t.query.toString().replaceAll("+"," ")));const i=k1(e),n=L_(e);n||i||(e=hl(e));const s={url:e,requestOptions:{...t}},u=F=>({data:F,getAllHeaders:Qy,getHeader:Qy,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),p=jM(e,nl.internalInterceptors);if(p){const F=await Aj(p,s);if(F!=null)return u(F)}let g=jM(e);if(g){const F=await Aj(g,s);if(F!=null)return u(F);g.after||g.error||(g=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(Ge("host-webworker")||Ge("host-node")))throw uu("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw uu("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||n)throw uu("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await gge(),y4)return y4.execute(e,t);const w=new AbortController,E=Ro(t,()=>w.abort()),A={controller:w,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:g,params:s,redoRequest:!1,useIdentity:nl.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},I=await xge(A).finally(()=>E==null?void 0:E.remove());return(R=g==null?void 0:g.after)==null||R.call(g,I),I}let y4;const nl=Bi.request,fZ="FormData"in globalThis,fge=new Set([499,498,403,401]),pge=new Set(["COM_0056","COM_0057","SB_0008"]),mge=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Qy=()=>null,g4=Symbol();function yge(e){const t=dl(e);t&&!en._corsServers.includes(t)&&en._corsServers.push(t)}function Cj(e){const t=dl(e);return!t||t.endsWith(".arcgis.com")||en._corsServers.includes(t)||HO(t)}function uu(e,t,i,n){let s="Error";const u={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Qy,getHeader:Qy,ssl:!1};if(t instanceof ze)return t.details?(t.details=ke(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=u,t;if(t){const p=n&&(()=>Array.from(n.headers)),g=n&&(A=>n.headers.get(A)),w=n==null?void 0:n.status,E=t.message;E&&(s=E),p&&g&&(u.getAllHeaders=p,u.getHeader=g),u.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||w||0,u.subCode=t.subcode,u.messageCode=t.messageCode,typeof t.details=="string"?u.messages=[t.details]:u.messages=t.details,u.raw=g4 in t?t[g4]:t}return wc(t)?Gn():new ze(e,s,u)}async function gge(){Ge("host-webworker")&&!y4&&(y4=await rt(()=>import("./request-Dob1ewU2.js"),[],import.meta.url))}async function GM(){ai||await rt(()=>Promise.resolve().then(()=>X3e),void 0,import.meta.url)}async function vge(e){var g;const t=e.params.url,i=e.params.requestOptions,n=e.controller.signal,s=i.body;let u=null,p=null;if(fZ&&"HTMLFormElement"in globalThis&&(s instanceof FormData?u=s:s instanceof HTMLFormElement&&(u=new FormData(s))),typeof s=="string"&&(p=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:nl.priority,redirect:"follow",signal:n},(u||p)&&(e.fetchOptions.body=u||p),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(g=i.query)!=null&&g.token||u!=null&&u.get("token")),!e.hasToken&&hZ(t)&&(i.query||(i.query={}),i.query.token=Bi.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!pZ(t)&&!Sa(n)){let w;i.authMode==="immediate"?(await GM(),w=await ai.getCredential(t,{signal:n}),e.credential=w):i.authMode==="no-prompt"?(await GM(),w=await ai.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=w):ai&&(w=ai.findCredential(t)),w&&(e.credentialToken=w.token,e.useSSL=!!w.ssl)}}function pZ(e){return mge.some(t=>t.test(e))}async function bge(e){let t=e.params.url;const i=e.params.requestOptions,n=e.fetchOptions??{},s=L_(t)||k1(t),u=i.responseType||"json",p=s?0:i.timeout!=null?i.timeout:nl.timeout;let g=!1;if(!s){e.useSSL&&(t=WO(t));let R={...i.query};e.credentialToken&&(R.token=e.credentialToken);let F=o1(R);Ge("esri-url-encodes-apostrophe")&&(F=F.replaceAll("'","%27"));const q=t.length+1+F.length;let B;g=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||q>nl.maxUrlLength;const K=i.useProxy||!!Gw(t);if(K){const te=iZ(t);B=te.path,!g&&B.length+1+q>nl.maxUrlLength&&(g=!0),te.query&&(R={...te.query,...R})}if(n.method==="HEAD"&&(g||K)){if(g)throw q>nl.maxUrlLength?uu("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):uu("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(K)throw uu("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(g?(n.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=u9(t,R):(n.body=o1(R),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=u9(t,R),K&&(e.useProxy=!0,t=`${B}?${t}`),R.token&&fZ&&n.body instanceof FormData&&!QJ(t)&&n.body.set("token",R.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!Oo(t,VO())){if(HO(t))e.withCredentials=!0;else if(ai){const te=ai.findServerInfo(t);te!=null&&te.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",hge(t)&&await dge(g?u9(t,R):t))}let w,E,A=0,I=!1;p>0&&(A=setTimeout(()=>{I=!0,e.controller.abort()},p));try{if(i.responseType==="native-request-init")E=n,E.url=t,i.signal?E.signal=i.signal:delete E.signal;else if(i.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||g||wge(i.headers)||!s&&!e.useProxy&&nl.proxyUrl&&!Cj(t)){if(en._beforeFetch&&await en._beforeFetch(t,n),w=await fetch(t,n),en._afterFetch&&await en._afterFetch(w),e.useProxy||yge(t),i.responseType==="native")E=w;else if(n.method!=="HEAD")if(w.ok){switch(u){case"array-buffer":E=await w.arrayBuffer();break;case"blob":case"image":E=await w.blob();break;default:E=await w.text()}if(A&&(clearTimeout(A),A=0),u==="json"||u==="xml"||u==="document")if(E)switch(u){case"json":E=JSON.parse(E);break;case"xml":E=Oj(E,"application/xml");break;case"document":E=Oj(E,"text/html")}else E=null;if(E){if(u==="array-buffer"||u==="blob"){const R=w.headers.get("Content-Type");if(R&&/application\/json|text\/plain/i.test(R)&&E[u==="blob"?"size":"byteLength"]<=750)try{const F=await new Response(E).json();F.error&&(E=F)}catch{}}u==="image"&&E instanceof Blob&&(E=await Ij(URL.createObjectURL(E),e,!0))}}else{E=await w.text();try{E=JSON.parse(E)}catch{}}}else E=await Ij(t,e)}catch(R){if(R.name==="AbortError")throw I?cge():Gn("Request canceled");if(!(!w&&R instanceof TypeError&&nl.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||Cj(t))throw R;e.redoRequest=!0,Uye({proxyUrl:nl.proxyUrl,urlPrefix:dl(t)??""})}finally{A&&clearTimeout(A)}return[w,E]}async function Aj(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,n;try{n=await e.before(t)}catch(s){i=uu("request:interceptor",s,t)}if((n instanceof Error||n instanceof ze)&&(i=uu("request:interceptor",n,t)),i)throw e.error&&e.error(i),i;return n}}function wge(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function Oj(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function xge(e){var u,p;let t,i;await vge(e);try{do[t,i]=await bge(e);while(!await Sge(e,t,i))}catch(g){const w=uu("request:server",g,e.params,t);throw w.details.ssl=e.useSSL,(u=e.interceptor)!=null&&u.error&&e.interceptor.error(w),w}const n=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((p=i.user)!=null&&p.username)&&!HO(n)){const g=dl(n,!0);g&&nl.trustedServers.push(g)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&uge(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&ai){const g=ai.findServerInfo(s.server);let w=g==null?void 0:g.owningSystemUrl;if(w){w=w.replace(/\/?$/,"/sharing");const E=ai.findCredential(w,s.userId);E&&ai._getIdenticalSvcIdx(w,E)===-1&&E.resources.unshift(w)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Qy,getHeader:t?g=>t.headers.get(g):Qy,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Sge(e,t,i){var E;if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let s,u;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[g4]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[g4]=i,s;let p,g=null;s&&(u=Number(s.code),g=s.hasOwnProperty("subcode")?Number(s.subcode):null,p=s.messageCode,p=p==null?void 0:p.toUpperCase());const w=n.authMode;if(u===403&&(g===4||(E=s.message)!=null&&E.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(w!=="no-prompt"||u===498)&&u!==void 0&&fge.has(u)&&!pZ(e.params.url)&&(u!==403||(!p||!pge.has(p))&&(g==null||g===2&&e.credentialToken))){await GM();try{const A=await ai.getCredential(e.params.url,{error:uu("request:server",s,e.params),prompt:w!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=A,e.credentialToken=A.token,e.useSSL=e.useSSL||A.ssl,!1}catch(A){if(w==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=A}}if(s)throw s;return!0}function Ij(e,t,i=!1){const n=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=nl.priority,s.src=e,lge(s,e,i,n)}en._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],en._beforeFetch=void 0,en._afterFetch=void 0;var hf;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(hf||(hf={}));let _ge=class{constructor(){this._resolver=pa(),this._status=hf.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=hf.RESOLVED,this._cleanUp()},()=>{this._status=hf.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===hf.RESOLVED}isRejected(){return this._status===hf.REJECTED}isFulfilled(){return this._status!==hf.PENDING}abort(){this._resolver.reject(Gn())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=pa(),i=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(i);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==n||wc(s)||this._resolver.reject(s)}),t.resolve()}};const ZO=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new _ge,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,n){return this._promiseProps.promise.then(()=>this).then(i,n)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=S([ue("esri.core.Promise")],t),t};let HM=class extends ZO(Zt){};HM=S([ue("esri.core.Promise")],HM);const Ege="not-loaded",Tge="loading",Mge="failed",Pj="loaded",mZ=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const s=this.load.bind(this);this.load=u=>{const p=new Promise((g,w)=>{const E=xJ(u,w);this.destroyed&&w(new ze("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(g,w).finally(()=>{E&&E.remove()})});if(this.loadStatus===Ege){this._set("loadStatus",Tge);const g=this._loadController=new AbortController;s({signal:g.signal})}return n(),p}})),this.when(()=>{this._set("loadStatus",Pj),this._loadController=null},n=>{this._set("loadStatus",Mge),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Df(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===Pj}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new ze("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return S([M({readOnly:!0})],t.prototype,"loaded",null),S([M({readOnly:!0})],t.prototype,"loadError",void 0),S([M({clonable:!1})],t.prototype,"loadStatus",void 0),S([M({type:[dc],readOnly:!0})],t.prototype,"loadWarnings",null),t=S([ue("esri.core.Loadable")],t),t};let wb=class extends mZ(HM){};wb=S([ue("esri.core.Loadable")],wb),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=mZ,e.isLoadable=t}(wb||(wb={}));const z_=wb;function ht(e,t,i){let n,s;return t===void 0||Array.isArray(t)?(s=e,i=t,n=[void 0]):(s=t,n=Array.isArray(e)?e:[e]),(u,p)=>{const g=u.constructor.prototype;n.forEach(w=>{const E=NJ(u,w,s);E.read&&typeof E.read=="object"||(E.read={}),E.read.reader=g[p],i&&(E.read.source=(E.read.source||[]).concat(i))})}}let ki=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=$ge(t),this.apiValues=Rj(this._apiToJSON),this.jsonValues=Rj(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,s,u)=>{const p=this.toJSON(n);p!==void 0&&Zs(u,p,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function $ge(e){const t={};for(const i in e)t[e[i]]=i;return t}function Rj(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Ts(){return function(e,t){return new ki(e,{ignoreUnknown:!0,...t})}}let YO=class{constructor(t,i,n,s,u,p){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=s,this.scaleHeight=u;const g=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*g,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=p||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Hn=new YO(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),hu=new YO(3396190,1/169.8944472236118,23e4,6e4,.111),Gf=new YO(1737400,0,0,0,0);function Hw(e){if(!Bi.assetsPath)throw xt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ze("assets:path-not-set","config.assetsPath is not set");return Xy(Bi.assetsPath,e)}let CT,Te=null;function KO(){return!!Te}function kge(){return!!Ge("esri-wasm")}function XO(){return CT||(CT=rt(()=>import("./pe-wasm-CxShyspb.js"),[],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>Hw(`esri/geometry/support/${t}`)})).then(e=>{vZ(e)}),CT)}var qM,An;(function(e){function t(u,p,g){Te.ensureCache.prepare();const w=I0(g),E=g===w,A=Te.ensureFloat64(w),I=Te._pe_geog_to_proj(Te.getPointer(u),p,A);return I&&vf(g,p,A,E),I}function i(u,p,g,w){switch(w){case An.PE_TRANSFORM_P_TO_G:return n(u,p,g);case An.PE_TRANSFORM_G_TO_P:return t(u,p,g)}return 0}function n(u,p,g){return s(u,p,g,0)}function s(u,p,g,w){Te.ensureCache.prepare();const E=I0(g),A=g===E,I=Te.ensureFloat64(E),R=Te._pe_proj_to_geog_center(Te.getPointer(u),p,I,w);return R&&vf(g,p,I,A),R}e.geogToProj=t,e.projGeog=i,e.projToGeog=n,e.projToGeogCenter=s})(qM||(qM={})),function(e){function t(){e.PE_BUFFER_MAX=Te.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=Te.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=Te.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=Te.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=Te.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=Te.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=Te.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=Te.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=Te.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=Te.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=Te.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=Te.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=Te.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=Te.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=Te.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=Te.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=Te.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=Te.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=Te.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=Te.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=Te.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=Te.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=Te.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=Te.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=Te.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=Te.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=Te.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=Te.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=Te.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=Te.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=Te.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=Te.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(An||(An={}));let yZ=null;var cw;(function(e){const t={},i={},n=F=>{const q=F.getType();switch(q){case An.PE_TYPE_GEOGCS:F=Te.castObject(F,Te.PeGeogcs);break;case An.PE_TYPE_PROJCS:F=Te.castObject(F,Te.PeProjcs);break;case An.PE_TYPE_GEOGTRAN:F=Te.castObject(F,Te.PeGeogtran);break;default:q&An.PE_TYPE_UNIT&&(F=Te.castObject(F,Te.PeUnit))}return F};function s(){Te.PeFactory.prototype.initialize(null)}function u(F){return p(An.PE_TYPE_COORDSYS,F)}function p(F,q){let B=null,K=t[F];if(K||(K={},t[F]=K),K.hasOwnProperty(String(q))&&(B=K[q],Te.compare(B,Te.NULL)&&(B=null)),!B){const te=Te.PeFactory.prototype.factoryByType(F,q);Te.compare(te,Te.NULL)||(B=n(te),K[q]=B)}return B}function g(F,q){let B=null,K=i[F];if(K||(K={},i[F]=K),K.hasOwnProperty(q)&&(B=K[q],Te.compare(B,Te.NULL)&&(B=null)),!B){const te=Te.PeFactory.prototype.fromString(F,q);Te.compare(te,Te.NULL)||(B=n(te),K[q]=B)}return B}function w(F){return p(An.PE_TYPE_GEOGCS,F)}function E(F){return p(An.PE_TYPE_GEOGTRAN,F)}function A(F){return Te.PeFactory.prototype.getCode(F)}function I(F){return p(An.PE_TYPE_PROJCS,F)}function R(F){return p(An.PE_TYPE_UNIT,F)}e.initialize=s,e.coordsys=u,e.factoryByType=p,e.fromString=g,e.geogcs=w,e.geogtran=E,e.getCode=A,e.projcs=I,e.unit=R})(cw||(cw={}));let gZ=null;var v4,BM,WM,JM,ZM,YM,b4,KM,w4,x4,XM;function vZ(e){function t(u,p,g){u[p]=g(u[p])}Te=e,An.init(),v4.init(),b4.init(),w4.init(),x4.init(),yZ=class extends Te.PeDouble{constructor(u=NaN){super(u)}destroy(){Te.destroy(this)}[Symbol.dispose](){this.destroy()}},gZ=class extends Te.PeGCSExtent{destroy(){Te.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[Te.PeAngunit,Te.PeDatum,Te.PeGeogcs,Te.PeGeogtran,Te.PeObject,Te.PeParameter,Te.PePrimem,Te.PeProjcs,Te.PeSpheroid,Te.PeUnit];for(const u of i)t(u.prototype,"getName",p=>function(){return p.call(this,new Array(An.PE_NAME_MAX))});for(const u of[Te.PeGeogtran,Te.PeProjcs])t(u.prototype,"getParameters",p=>function(){const g=new Array(An.PE_PARM_MAX);let w=p.call(this);for(let E=0;E<g.length;E++){const A=Te.getValue(w,"*");g[E]=A?Te.wrapPointer(A,Te.PeParameter):null,w+=Int32Array.BYTES_PER_ELEMENT}return g});t(Te.PeHorizon.prototype,"getCoord",u=>function(p=!1){const g=this.getSize();if(!g)return null;const w=[];return vf(w,g,u.call(this),p),w}),t(Te.PeGTlistExtendedEntry.prototype,"getEntries",u=>{const p=Te._pe_getPeGTlistExtendedGTsSize();return function(){let g=null;const w=u.call(this);if(!Te.compare(w,Te.NULL)){g=[w];const E=this.getSteps();if(E>1){const A=Te.getPointer(w);for(let I=1;I<E;I++)g.push(Te.wrapPointer(A+p*I,Te.PeGTlistExtendedGTs))}}return g}});const n=Te._pe_getPeHorizonSize(),s=u=>function(){let p=this._cache;if(p||(p=new Map,this._cache=p),p.has(u))return p.get(u);let g=null;const w=u.call(this);if(!Te.compare(w,Te.NULL)){g=[w];const E=w.getNump();if(E>1){const A=Te.getPointer(w);for(let I=1;I<E;I++)g.push(Te.wrapPointer(A+n*I,Te.PeHorizon))}}return p.set(u,g),g};t(Te.PeProjcs.prototype,"horizonGcsGenerate",s),t(Te.PeProjcs.prototype,"horizonPcsGenerate",s),Te.PeObject.prototype.toString=function(u=An.PE_STR_OPTS_NONE){Te.ensureCache.prepare();const p=Te.getPointer(this),g=Te.ensureInt8(new Array(An.PE_BUFFER_MAX));return Te.UTF8ToString(Te._pe_object_to_string_ext(p,u,g))},Te.PeGeogcs.prototype.destroy=function(){this.Delete(),Jl(this),this.ptr=0},Te.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},Te.PeProjcs.prototype.destroy=function(){this.Delete(),Jl(this),this.ptr=0},Te.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Jl(e){if(!e)return;const t=Te.getClass(e);if(!t)return;const i=Te.getCache(t);if(!i)return;const n=Te.getPointer(e);n&&delete i[n]}function rx(e,t){const i=[],n=new Array(t);for(let s=0;s<e;s++)i.push(Te.ensureInt8(n));return i}function I0(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function vf(e,t,i,n=!1){if(n)for(let s=0;s<2*t;s++)e[s]=Te.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let u=0;u<t;u++)s&&(e[u]=new Array(2)),e[u][0]=Te.getValue(i,"double"),e[u][1]=Te.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=Te.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=Te._pe_getPeGTlistExtendedEntrySize()}function n(s,u,p,g,w,E){let A=null;const I=new Te.PeInteger(E);try{const R=Te.PeGTlistExtended.prototype.getGTlist(s,u,p,g,w,I);if((E=I.val)&&(A=[R],E>1)){const F=Te.getPointer(R);for(let q=1;q<E;q++)A.push(Te.wrapPointer(F+t*q,Te.PeGTlistExtendedEntry))}}finally{Te.destroy(I)}return A}e.init=i,e.getGTlist=n})(v4||(v4={})),function(e){function t(i){if(i!=null&&i.length){for(const n of i)Jl(n),n.getEntries().forEach(s=>{Jl(s);const u=s.getGeogtran();Jl(u),u.getParameters().forEach(Jl),[u.getGeogcs1(),u.getGeogcs2()].forEach(p=>{Jl(p);const g=p.getDatum();Jl(g),Jl(g.getSpheroid()),Jl(p.getPrimem()),Jl(p.getUnit())})});Te.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(BM||(BM={})),function(e){function t(i,n,s,u,p){Te.ensureCache.prepare();const g=I0(s),w=s===g,E=Te.ensureFloat64(g);let A=0;u&&(A=Te.ensureFloat64(u));const I=Te._pe_geog_to_geog(Te.getPointer(i),n,E,A,p);return I&&vf(s,n,E,w),I}e.geogToGeog=t}(WM||(WM={})),function(e){function t(u,p,g,w,E,A,I,R){Te.PeLineType.prototype.geodesic_coordinate(u,p,g,w,E,A,I,R)}function i(u,p,g,w,E,A,I,R,F){Te.PeLineType.prototype.geodetic_coordinate(u,p,g,w,E,A,I,R,F)}function n(u,p,g,w,E,A,I,R,F,q){Te.PeLineType.prototype.geodetic_distance(u,p,g,w,E,A,I,R,F,q)}function s(u,p,g,w,E,A,I,R,F){Te.PeLineType.prototype.great_elliptic_distance(u,p,g,w,E,A,I,R,F)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=n,e.greatEllipticDistance=s}(JM||(JM={})),function(e){function t(p,g){return Te.PeMath.prototype.phi_to_eta(p,g)}function i(p,g){return Te.PeMath.prototype.eta_to_phi(p,g)}function n(p,g){return Te.PeMath.prototype.phi_to_phig(p,g)}function s(p,g,w){return Te.PeMath.prototype.q(p,g,w)}function u(p,g){return Te.PeMath.prototype.q90(p,g)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=n,e.q=s,e.q90=u}(ZM||(ZM={})),function(e){const t=(E,A,I,R,F,q)=>{let B,K;switch(Te.ensureCache.prepare(),E){case"dd":B=Te._pe_geog_to_dd,K=An.PE_DD_MAX;break;case"ddm":B=Te._pe_geog_to_ddm,K=An.PE_DDM_MAX;break;case"dms":B=Te._pe_geog_to_dms,K=An.PE_DMS_MAX}let te=0;A&&(te=Te.getPointer(A));const ce=I0(R),ye=Te.ensureFloat64(ce),_e=rx(I,K),we=B(te,I,ye,F,Te.ensureInt32(_e));if(we)for(let xe=0;xe<I;xe++)q[xe]=Te.UTF8ToString(_e[xe]);return we},i=(E,A,I,R,F)=>{let q;switch(Te.ensureCache.prepare(),E){case"dd":q=Te._pe_dd_to_geog;break;case"ddm":q=Te._pe_ddm_to_geog;break;case"dms":q=Te._pe_dms_to_geog}let B=0;A&&(B=Te.getPointer(A));const K=R.map(_e=>Te.ensureString(_e)),te=Te.ensureInt32(K),ce=Te.ensureFloat64(new Array(2*I)),ye=q(B,I,te,ce);return ye&&vf(F,I,ce),ye};function n(E,A,I,R,F){return t("dms",E,A,I,R,F)}function s(E,A,I,R){return i("dms",E,A,I,R)}function u(E,A,I,R,F){return t("ddm",E,A,I,R,F)}function p(E,A,I,R){return i("ddm",E,A,I,R)}function g(E,A,I,R,F){return t("dd",E,A,I,R,F)}function w(E,A,I,R){return i("dd",E,A,I,R)}e.geogToDms=n,e.dmsToGeog=s,e.geogToDdm=u,e.ddmToGeog=p,e.geogToDd=g,e.ddToGeog=w}(YM||(YM={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=Te.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=Te.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=Te.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=Te.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=Te.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,u,p,g,w,E,A){Te.ensureCache.prepare();let I=0;s&&(I=Te.getPointer(s));const R=I0(p),F=Te.ensureFloat64(R),q=rx(u,An.PE_MGRS_MAX),B=Te.ensureInt32(q),K=Te._pe_geog_to_mgrs_extended(I,u,F,g,w,E,B);if(K)for(let te=0;te<u;te++)A[te]=Te.UTF8ToString(q[te]);return K}function n(s,u,p,g,w){Te.ensureCache.prepare();let E=0;s&&(E=Te.getPointer(s));const A=p.map(q=>Te.ensureString(q)),I=Te.ensureInt32(A),R=Te.ensureFloat64(new Array(2*u)),F=Te._pe_mgrs_to_geog_extended(E,u,I,g,R);return F&&vf(w,u,R),F}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=n}(b4||(b4={})),function(e){function t(n,s,u,p,g,w,E){Te.ensureCache.prepare();let A=0;n&&(A=Te.getPointer(n));const I=I0(u),R=Te.ensureFloat64(I),F=rx(s,An.PE_MGRS_MAX),q=Te.ensureInt32(F),B=Te._pe_geog_to_usng(A,s,R,p,g,w,q);if(B)for(let K=0;K<s;K++)E[K]=Te.UTF8ToString(F[K]);return B}function i(n,s,u,p){Te.ensureCache.prepare();let g=0;n&&(g=Te.getPointer(n));const w=u.map(R=>Te.ensureString(R)),E=Te.ensureInt32(w),A=Te.ensureFloat64(new Array(2*s)),I=Te._pe_usng_to_geog(g,s,E,A);return I&&vf(p,s,A),I}e.geogToUsng=t,e.usngToGeog=i}(KM||(KM={})),function(e){function t(){e.PE_UTM_OPTS_NONE=Te.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=Te.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=Te.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,u,p,g,w){Te.ensureCache.prepare();let E=0;s&&(E=Te.getPointer(s));const A=I0(p),I=Te.ensureFloat64(A),R=rx(u,An.PE_UTM_MAX),F=Te.ensureInt32(R),q=Te._pe_geog_to_utm(E,u,I,g,F);if(q)for(let B=0;B<u;B++)w[B]=Te.UTF8ToString(R[B]);return q}function n(s,u,p,g,w){Te.ensureCache.prepare();let E=0;s&&(E=Te.getPointer(s));const A=p.map(q=>Te.ensureString(q)),I=Te.ensureInt32(A),R=Te.ensureFloat64(new Array(2*u)),F=Te._pe_utm_to_geog(E,u,I,g,R);return F&&vf(w,u,R),F}e.init=t,e.geogToUtm=i,e.utmToGeog=n}(w4||(w4={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=Te.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=Te.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=Te.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=Te.PePCSInfo.prototype.PE_POLE_POINT}function n(s,u=e.PE_PCSINFO_OPTION_DOMAIN){let p=null,g=null;return t.has(s)&&(g=t.get(s),g[u]&&(p=g[u])),p||(p=Te.PePCSInfo.prototype.generate(s,u),g||(g=[],t.set(s,g)),g[u]=p),p}e.init=i,e.generate=n}(x4||(x4={})),function(e){function t(){return Te.PeVersion.prototype.version_string()}e.versionString=t}(XM||(XM={}));const Cge=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return qM},get PeDefs(){return An},get PeDouble(){return yZ},get PeFactory(){return cw},get PeGCSExtent(){return gZ},get PeGTTransformations(){return WM},get PeGTlistExtended(){return v4},get PeGTlistExtendedEntry(){return BM},get PeLineType(){return JM},get PeMath(){return ZM},get PeNotationDms(){return YM},get PeNotationMgrs(){return b4},get PeNotationUsng(){return KM},get PeNotationUtm(){return w4},get PePCSInfo(){return x4},get PeVersion(){return XM},_init:vZ,get _pe(){return Te},isLoaded:KO,isSupported:kge,load:XO},Symbol.toStringTag,{value:"Module"}));var a1;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(a1||(a1={}));let k;const ie={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(k=2e3;k<=2045;k++)ie[k]=0;for(k=2056;k<=2065;k++)ie[k]=0;for(k=2067;k<=2135;k++)ie[k]=0;for(k=2137;k<=2154;k++)ie[k]=0;for(k=2161;k<=2170;k++)ie[k]=0;for(k=2172;k<=2193;k++)ie[k]=0;for(k=2195;k<=2198;k++)ie[k]=0;for(k=2200;k<=2203;k++)ie[k]=0;for(k=2205;k<=2217;k++)ie[k]=0;for(k=2222;k<=2224;k++)ie[k]=1;for(k=2225;k<=2250;k++)ie[k]=2;for(k=2251;k<=2253;k++)ie[k]=1;for(k=2257;k<=2264;k++)ie[k]=2;for(k=2274;k<=2279;k++)ie[k]=2;for(k=2280;k<=2282;k++)ie[k]=1;for(k=2283;k<=2289;k++)ie[k]=2;for(k=2290;k<=2292;k++)ie[k]=0;for(k=2308;k<=2313;k++)ie[k]=0;for(k=2315;k<=2491;k++)ie[k]=0;for(k=2494;k<=2866;k++)ie[k]=0;for(k=2867;k<=2869;k++)ie[k]=1;for(k=2870;k<=2888;k++)ie[k]=2;for(k=2891;k<=2895;k++)ie[k]=2;for(k=2896;k<=2898;k++)ie[k]=1;for(k=2902;k<=2908;k++)ie[k]=2;for(k=2915;k<=2920;k++)ie[k]=2;for(k=2921;k<=2923;k++)ie[k]=1;for(k=2924;k<=2930;k++)ie[k]=2;for(k=2931;k<=2962;k++)ie[k]=0;for(k=2964;k<=2968;k++)ie[k]=2;for(k=2969;k<=2973;k++)ie[k]=0;for(k=2975;k<=2991;k++)ie[k]=0;for(k=2995;k<=3051;k++)ie[k]=0;for(k=3054;k<=3079;k++)ie[k]=0;for(k=3081;k<=3088;k++)ie[k]=0;for(k=3092;k<=3101;k++)ie[k]=0;for(k=3106;k<=3138;k++)ie[k]=0;for(k=3146;k<=3151;k++)ie[k]=0;for(k=3153;k<=3166;k++)ie[k]=0;for(k=3168;k<=3172;k++)ie[k]=0;for(k=3174;k<=3203;k++)ie[k]=0;for(k=3294;k<=3358;k++)ie[k]=0;for(k=3367;k<=3403;k++)ie[k]=0;for(k=3408;k<=3416;k++)ie[k]=0;for(k=3417;k<=3438;k++)ie[k]=2;for(k=3441;k<=3446;k++)ie[k]=2;for(k=3447;k<=3450;k++)ie[k]=0;for(k=3451;k<=3459;k++)ie[k]=2;for(k=3460;k<=3478;k++)ie[k]=0;for(k=3554;k<=3559;k++)ie[k]=0;for(k=3560;k<=3570;k++)ie[k]=2;for(k=3571;k<=3581;k++)ie[k]=0;for(k=3594;k<=3597;k++)ie[k]=0;for(k=3601;k<=3604;k++)ie[k]=0;for(k=3637;k<=3639;k++)ie[k]=0;for(k=3665;k<=3667;k++)ie[k]=0;for(k=3693;k<=3695;k++)ie[k]=0;for(k=3701;k<=3727;k++)ie[k]=0;for(k=3728;k<=3739;k++)ie[k]=2;for(k=3740;k<=3751;k++)ie[k]=0;for(k=3753;k<=3760;k++)ie[k]=2;for(k=3761;k<=3773;k++)ie[k]=0;for(k=3775;k<=3777;k++)ie[k]=0;for(k=3779;k<=3781;k++)ie[k]=0;for(k=3783;k<=3785;k++)ie[k]=0;for(k=3788;k<=3791;k++)ie[k]=0;for(k=3797;k<=3802;k++)ie[k]=0;for(k=3814;k<=3816;k++)ie[k]=0;for(k=3825;k<=3829;k++)ie[k]=0;for(k=3832;k<=3841;k++)ie[k]=0;for(k=3844;k<=3852;k++)ie[k]=0;for(k=3873;k<=3885;k++)ie[k]=0;for(k=3890;k<=3893;k++)ie[k]=0;for(k=3907;k<=3912;k++)ie[k]=0;for(k=3942;k<=3950;k++)ie[k]=0;for(k=3968;k<=3970;k++)ie[k]=0;for(k=3973;k<=3976;k++)ie[k]=0;for(k=3986;k<=3989;k++)ie[k]=0;for(k=3994;k<=3997;k++)ie[k]=0;for(k=4048;k<=4051;k++)ie[k]=0;for(k=4056;k<=4063;k++)ie[k]=0;for(k=4093;k<=4096;k++)ie[k]=0;for(k=4390;k<=4398;k++)ie[k]=0;for(k=4399;k<=4413;k++)ie[k]=2;for(k=4418;k<=4433;k++)ie[k]=2;for(k=4455;k<=4457;k++)ie[k]=2;for(k=4484;k<=4489;k++)ie[k]=0;for(k=4491;k<=4554;k++)ie[k]=0;for(k=4568;k<=4589;k++)ie[k]=0;for(k=4652;k<=4656;k++)ie[k]=0;for(k=4766;k<=4800;k++)ie[k]=0;for(k=5014;k<=5016;k++)ie[k]=0;for(k=5069;k<=5072;k++)ie[k]=0;for(k=5105;k<=5130;k++)ie[k]=0;for(k=5167;k<=5188;k++)ie[k]=0;for(k=5253;k<=5259;k++)ie[k]=0;for(k=5269;k<=5275;k++)ie[k]=0;for(k=5292;k<=5311;k++)ie[k]=0;for(k=5329;k<=5331;k++)ie[k]=0;for(k=5343;k<=5349;k++)ie[k]=0;for(k=5355;k<=5357;k++)ie[k]=0;for(k=5387;k<=5389;k++)ie[k]=0;for(k=5459;k<=5463;k++)ie[k]=0;for(k=5479;k<=5482;k++)ie[k]=0;for(k=5518;k<=5520;k++)ie[k]=0;for(k=5530;k<=5539;k++)ie[k]=0;for(k=5550;k<=5552;k++)ie[k]=0;for(k=5562;k<=5583;k++)ie[k]=0;for(k=5623;k<=5625;k++)ie[k]=2;for(k=5631;k<=5639;k++)ie[k]=0;for(k=5649;k<=5653;k++)ie[k]=0;for(k=5663;k<=5680;k++)ie[k]=0;for(k=5682;k<=5685;k++)ie[k]=0;for(k=5875;k<=5877;k++)ie[k]=0;for(k=5896;k<=5899;k++)ie[k]=0;for(k=5921;k<=5940;k++)ie[k]=0;for(k=6050;k<=6125;k++)ie[k]=0;for(k=6244;k<=6275;k++)ie[k]=0;for(k=6328;k<=6348;k++)ie[k]=0;for(k=6350;k<=6356;k++)ie[k]=0;for(k=6366;k<=6372;k++)ie[k]=0;for(k=6381;k<=6387;k++)ie[k]=0;for(k=6393;k<=6404;k++)ie[k]=0;for(k=6480;k<=6483;k++)ie[k]=0;for(k=6511;k<=6514;k++)ie[k]=0;for(k=6579;k<=6581;k++)ie[k]=0;for(k=6619;k<=6624;k++)ie[k]=0;for(k=6625;k<=6627;k++)ie[k]=2;for(k=6628;k<=6632;k++)ie[k]=0;for(k=6634;k<=6637;k++)ie[k]=0;for(k=6669;k<=6692;k++)ie[k]=0;for(k=6707;k<=6709;k++)ie[k]=0;for(k=6720;k<=6723;k++)ie[k]=0;for(k=6732;k<=6738;k++)ie[k]=0;for(k=6931;k<=6933;k++)ie[k]=0;for(k=6956;k<=6959;k++)ie[k]=0;for(k=7005;k<=7007;k++)ie[k]=0;for(k=7057;k<=7070;k++)ie[k]=2;for(k=7074;k<=7082;k++)ie[k]=0;for(k=7109;k<=7118;k++)ie[k]=0;for(k=7119;k<=7127;k++)ie[k]=1;for(k=7374;k<=7376;k++)ie[k]=0;for(k=7528;k<=7586;k++)ie[k]=0;for(k=7587;k<=7645;k++)ie[k]=2;for(k=7692;k<=7696;k++)ie[k]=0;for(k=7755;k<=7787;k++)ie[k]=0;for(k=7791;k<=7795;k++)ie[k]=0;for(k=7799;k<=7801;k++)ie[k]=0;for(k=7803;k<=7805;k++)ie[k]=0;for(k=7825;k<=7831;k++)ie[k]=0;for(k=7845;k<=7859;k++)ie[k]=0;for(k=8013;k<=8032;k++)ie[k]=0;for(k=8065;k<=8068;k++)ie[k]=1;for(k=8518;k<=8529;k++)ie[k]=2;for(k=8533;k<=8536;k++)ie[k]=2;for(k=8538;k<=8540;k++)ie[k]=2;for(k=8677;k<=8679;k++)ie[k]=0;for(k=8836;k<=8840;k++)ie[k]=0;for(k=8857;k<=8859;k++)ie[k]=0;for(k=8908;k<=8910;k++)ie[k]=0;for(k=9154;k<=9159;k++)ie[k]=0;for(k=9205;k<=9218;k++)ie[k]=0;for(k=9271;k<=9273;k++)ie[k]=0;for(k=9295;k<=9297;k++)ie[k]=0;for(k=9356;k<=9360;k++)ie[k]=0;for(k=9404;k<=9407;k++)ie[k]=0;for(k=9476;k<=9482;k++)ie[k]=0;for(k=9487;k<=9494;k++)ie[k]=0;for(k=9697;k<=9699;k++)ie[k]=0;for(k=9821;k<=9865;k++)ie[k]=0;for(k=10285;k<=10291;k++)ie[k]=0;for(k=10314;k<=10317;k++)ie[k]=0;for(k=10448;k<=10465;k++)ie[k]=0;for(k=10731;k<=10733;k++)ie[k]=0;for(k=11114;k<=11118;k++)ie[k]=0;for(k=20004;k<=20032;k++)ie[k]=0;for(k=20047;k<=20049;k++)ie[k]=0;for(k=20062;k<=20092;k++)ie[k]=0;for(k=20135;k<=20138;k++)ie[k]=0;for(k=20248;k<=20258;k++)ie[k]=0;for(k=20348;k<=20358;k++)ie[k]=0;for(k=20436;k<=20440;k++)ie[k]=0;for(k=20822;k<=20824;k++)ie[k]=0;for(k=20904;k<=20932;k++)ie[k]=0;for(k=20934;k<=20936;k++)ie[k]=0;for(k=21004;k<=21032;k++)ie[k]=0;for(k=21035;k<=21037;k++)ie[k]=0;for(k=21095;k<=21097;k++)ie[k]=0;for(k=21148;k<=21150;k++)ie[k]=0;for(k=21207;k<=21264;k++)ie[k]=0;for(k=21307;k<=21364;k++)ie[k]=0;for(k=21413;k<=21423;k++)ie[k]=0;for(k=21453;k<=21463;k++)ie[k]=0;for(k=21473;k<=21483;k++)ie[k]=0;for(k=21780;k<=21782;k++)ie[k]=0;for(k=21891;k<=21894;k++)ie[k]=0;for(k=21896;k<=21899;k++)ie[k]=0;for(k=22171;k<=22177;k++)ie[k]=0;for(k=22181;k<=22187;k++)ie[k]=0;for(k=22191;k<=22197;k++)ie[k]=0;for(k=22207;k<=22222;k++)ie[k]=0;for(k=22229;k<=22232;k++)ie[k]=0;for(k=22234;k<=22236;k++)ie[k]=0;for(k=22243;k<=22250;k++)ie[k]=0;for(k=22262;k<=22265;k++)ie[k]=0;for(k=22307;k<=22322;k++)ie[k]=0;for(k=22348;k<=22357;k++)ie[k]=0;for(k=22407;k<=22422;k++)ie[k]=0;for(k=22462;k<=22465;k++)ie[k]=0;for(k=22521;k<=22525;k++)ie[k]=0;for(k=22607;k<=22622;k++)ie[k]=0;for(k=22641;k<=22646;k++)ie[k]=0;for(k=22648;k<=22657;k++)ie[k]=0;for(k=22707;k<=22722;k++)ie[k]=0;for(k=22762;k<=22765;k++)ie[k]=0;for(k=22807;k<=22822;k++)ie[k]=0;for(k=22991;k<=22994;k++)ie[k]=0;for(k=23028;k<=23038;k++)ie[k]=0;for(k=23301;k<=23333;k++)ie[k]=2;for(k=23830;k<=23853;k++)ie[k]=0;for(k=23866;k<=23872;k++)ie[k]=0;for(k=23877;k<=23884;k++)ie[k]=0;for(k=23886;k<=23894;k++)ie[k]=0;for(k=23946;k<=23948;k++)ie[k]=0;for(k=24311;k<=24313;k++)ie[k]=0;for(k=24342;k<=24347;k++)ie[k]=0;for(k=24370;k<=24374;k++)ie[k]=10;for(k=24375;k<=24381;k++)ie[k]=0;for(k=24718;k<=24721;k++)ie[k]=0;for(k=24817;k<=24821;k++)ie[k]=0;for(k=24877;k<=24882;k++)ie[k]=0;for(k=24891;k<=24893;k++)ie[k]=0;for(k=25391;k<=25395;k++)ie[k]=0;for(k=25828;k<=25838;k++)ie[k]=0;for(k=26191;k<=26195;k++)ie[k]=0;for(k=26391;k<=26393;k++)ie[k]=0;for(k=26701;k<=26722;k++)ie[k]=0;for(k=26729;k<=26799;k++)ie[k]=2;for(k=26801;k<=26803;k++)ie[k]=2;for(k=26811;k<=26813;k++)ie[k]=2;for(k=26847;k<=26870;k++)ie[k]=2;for(k=26891;k<=26899;k++)ie[k]=0;for(k=26901;k<=26923;k++)ie[k]=0;for(k=26929;k<=26946;k++)ie[k]=0;for(k=26948;k<=26998;k++)ie[k]=0;for(k=27037;k<=27040;k++)ie[k]=0;for(k=27205;k<=27232;k++)ie[k]=0;for(k=27258;k<=27260;k++)ie[k]=0;for(k=27391;k<=27398;k++)ie[k]=0;for(k=27561;k<=27564;k++)ie[k]=0;for(k=27571;k<=27574;k++)ie[k]=0;for(k=27581;k<=27584;k++)ie[k]=0;for(k=27591;k<=27594;k++)ie[k]=0;for(k=27700;k<=27707;k++)ie[k]=0;for(k=28191;k<=28193;k++)ie[k]=0;for(k=28348;k<=28358;k++)ie[k]=0;for(k=28402;k<=28432;k++)ie[k]=0;for(k=28462;k<=28492;k++)ie[k]=0;for(k=29118;k<=29122;k++)ie[k]=0;for(k=29168;k<=29172;k++)ie[k]=0;for(k=29177;k<=29185;k++)ie[k]=0;for(k=29187;k<=29195;k++)ie[k]=0;for(k=29900;k<=29903;k++)ie[k]=0;for(k=30161;k<=30179;k++)ie[k]=0;for(k=30491;k<=30494;k++)ie[k]=0;for(k=30729;k<=30732;k++)ie[k]=0;for(k=31251;k<=31259;k++)ie[k]=0;for(k=31265;k<=31268;k++)ie[k]=0;for(k=31275;k<=31279;k++)ie[k]=0;for(k=31281;k<=31297;k++)ie[k]=0;for(k=31461;k<=31469;k++)ie[k]=0;for(k=31491;k<=31495;k++)ie[k]=0;for(k=31917;k<=31922;k++)ie[k]=0;for(k=31965;k<=32e3;k++)ie[k]=0;for(k=32001;k<=32003;k++)ie[k]=2;for(k=32005;k<=32031;k++)ie[k]=2;for(k=32033;k<=32060;k++)ie[k]=2;for(k=32064;k<=32067;k++)ie[k]=2;for(k=32074;k<=32077;k++)ie[k]=2;for(k=32081;k<=32086;k++)ie[k]=0;for(k=32107;k<=32130;k++)ie[k]=0;for(k=32133;k<=32159;k++)ie[k]=0;for(k=32164;k<=32167;k++)ie[k]=2;for(k=32180;k<=32199;k++)ie[k]=0;for(k=32201;k<=32260;k++)ie[k]=0;for(k=32301;k<=32360;k++)ie[k]=0;for(k=32401;k<=32460;k++)ie[k]=0;for(k=32501;k<=32560;k++)ie[k]=0;for(k=32601;k<=32662;k++)ie[k]=0;for(k=32664;k<=32667;k++)ie[k]=2;for(k=32701;k<=32761;k++)ie[k]=0;for(k=53001;k<=53004;k++)ie[k]=0;for(k=53008;k<=53019;k++)ie[k]=0;for(k=53021;k<=53032;k++)ie[k]=0;for(k=53034;k<=53037;k++)ie[k]=0;for(k=53042;k<=53046;k++)ie[k]=0;for(k=53074;k<=53080;k++)ie[k]=0;for(k=54001;k<=54004;k++)ie[k]=0;for(k=54008;k<=54019;k++)ie[k]=0;for(k=54021;k<=54032;k++)ie[k]=0;for(k=54034;k<=54037;k++)ie[k]=0;for(k=54042;k<=54046;k++)ie[k]=0;for(k=54048;k<=54053;k++)ie[k]=0;for(k=54074;k<=54080;k++)ie[k]=0;for(k=54098;k<=54101;k++)ie[k]=0;for(k=102001;k<=102040;k++)ie[k]=0;for(k=102042;k<=102063;k++)ie[k]=0;for(k=102065;k<=102067;k++)ie[k]=0;for(k=102070;k<=102117;k++)ie[k]=0;for(k=102122;k<=102216;k++)ie[k]=0;for(k=102221;k<=102377;k++)ie[k]=0;for(k=102382;k<=102388;k++)ie[k]=0;for(k=102389;k<=102398;k++)ie[k]=2;for(k=102399;k<=102444;k++)ie[k]=0;for(k=102445;k<=102447;k++)ie[k]=2;for(k=102448;k<=102458;k++)ie[k]=0;for(k=102459;k<=102468;k++)ie[k]=2;for(k=102469;k<=102499;k++)ie[k]=0;for(k=102500;k<=102519;k++)ie[k]=1;for(k=102520;k<=102524;k++)ie[k]=0;for(k=102525;k<=102529;k++)ie[k]=2;for(k=102530;k<=102588;k++)ie[k]=0;for(k=102590;k<=102598;k++)ie[k]=0;for(k=102601;k<=102603;k++)ie[k]=0;for(k=102605;k<=102628;k++)ie[k]=0;for(k=102629;k<=102646;k++)ie[k]=2;for(k=102648;k<=102700;k++)ie[k]=2;for(k=102701;k<=102703;k++)ie[k]=0;for(k=102707;k<=102730;k++)ie[k]=2;for(k=102733;k<=102758;k++)ie[k]=2;for(k=102767;k<=102900;k++)ie[k]=0;for(k=102901;k<=102933;k++)ie[k]=2;for(k=102934;k<=102950;k++)ie[k]=13;for(k=102951;k<=102963;k++)ie[k]=0;for(k=102965;k<=102969;k++)ie[k]=0;for(k=102971;k<=102973;k++)ie[k]=0;for(k=102975;k<=102989;k++)ie[k]=0;for(k=102990;k<=102992;k++)ie[k]=1;for(k=102997;k<=103002;k++)ie[k]=0;for(k=103003;k<=103008;k++)ie[k]=2;for(k=103009;k<=103011;k++)ie[k]=0;for(k=103012;k<=103014;k++)ie[k]=2;for(k=103019;k<=103021;k++)ie[k]=0;for(k=103022;k<=103024;k++)ie[k]=2;for(k=103029;k<=103031;k++)ie[k]=0;for(k=103032;k<=103034;k++)ie[k]=2;for(k=103065;k<=103068;k++)ie[k]=0;for(k=103074;k<=103076;k++)ie[k]=0;for(k=103077;k<=103079;k++)ie[k]=1;for(k=103080;k<=103082;k++)ie[k]=0;for(k=103083;k<=103085;k++)ie[k]=2;for(k=103090;k<=103093;k++)ie[k]=0;for(k=103097;k<=103099;k++)ie[k]=0;for(k=103100;k<=103102;k++)ie[k]=2;for(k=103107;k<=103109;k++)ie[k]=0;for(k=103110;k<=103112;k++)ie[k]=2;for(k=103113;k<=103116;k++)ie[k]=0;for(k=103117;k<=103120;k++)ie[k]=2;for(k=103153;k<=103157;k++)ie[k]=0;for(k=103158;k<=103162;k++)ie[k]=2;for(k=103163;k<=103165;k++)ie[k]=0;for(k=103166;k<=103168;k++)ie[k]=1;for(k=103169;k<=103171;k++)ie[k]=2;for(k=103186;k<=103188;k++)ie[k]=0;for(k=103189;k<=103191;k++)ie[k]=2;for(k=103192;k<=103195;k++)ie[k]=0;for(k=103196;k<=103199;k++)ie[k]=2;for(k=103200;k<=103224;k++)ie[k]=0;for(k=103225;k<=103227;k++)ie[k]=1;for(k=103232;k<=103237;k++)ie[k]=0;for(k=103238;k<=103243;k++)ie[k]=2;for(k=103244;k<=103246;k++)ie[k]=0;for(k=103247;k<=103249;k++)ie[k]=2;for(k=103254;k<=103256;k++)ie[k]=0;for(k=103257;k<=103259;k++)ie[k]=2;for(k=103264;k<=103266;k++)ie[k]=0;for(k=103267;k<=103269;k++)ie[k]=2;for(k=103300;k<=103375;k++)ie[k]=0;for(k=103381;k<=103383;k++)ie[k]=0;for(k=103384;k<=103386;k++)ie[k]=1;for(k=103387;k<=103389;k++)ie[k]=0;for(k=103390;k<=103392;k++)ie[k]=2;for(k=103397;k<=103399;k++)ie[k]=0;for(k=103400;k<=103471;k++)ie[k]=2;for(k=103476;k<=103478;k++)ie[k]=0;for(k=103479;k<=103481;k++)ie[k]=2;for(k=103486;k<=103488;k++)ie[k]=0;for(k=103489;k<=103491;k++)ie[k]=2;for(k=103492;k<=103495;k++)ie[k]=0;for(k=103496;k<=103499;k++)ie[k]=2;for(k=103528;k<=103543;k++)ie[k]=0;for(k=103544;k<=103548;k++)ie[k]=2;for(k=103549;k<=103551;k++)ie[k]=0;for(k=103552;k<=103554;k++)ie[k]=1;for(k=103555;k<=103557;k++)ie[k]=2;for(k=103558;k<=103560;k++)ie[k]=0;for(k=103571;k<=103573;k++)ie[k]=0;for(k=103574;k<=103576;k++)ie[k]=2;for(k=103577;k<=103580;k++)ie[k]=0;for(k=103581;k<=103583;k++)ie[k]=2;for(k=103595;k<=103694;k++)ie[k]=0;for(k=103696;k<=103699;k++)ie[k]=0;for(k=103700;k<=103793;k++)ie[k]=2;for(k=103794;k<=103890;k++)ie[k]=0;for(k=103891;k<=103896;k++)ie[k]=2;for(k=103900;k<=103971;k++)ie[k]=2;for(k=103972;k<=103977;k++)ie[k]=0;for(k=112e3;k<=112101;k++)ie[k]=0;const bZ=[102100,102113,3857,3785,900913],Age=[104905,104971],Oge=[4326,...bZ,...Age],uw=[-20037508342788905e-9,20037508342788905e-9],QM=[-20037508342787e-6,20037508342787e-6],AT={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:uw,origin:QM,dx:1e-5},wZ={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:uw,origin:QM,dx:1e-5},102100:AT,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:uw,origin:QM,dx:1e-5},3857:AT,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:AT};function cs(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,n=t.wkid;if(i!=null||n!=null){if(i===n||fc(e)&&fc(t))return!0;const p=e.latestWkid;if(p!=null&&n===p)return!0;const g=t.latestWkid;return g!=null&&i===g}let s,u;return e.wkt2&&t.wkt2?(s=e.wkt2,u=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,u=t.wkt),!(!s||!u)&&s.toUpperCase()===u.toUpperCase()}async function gje(e,t){if(e===t)return!0;KO()||await XO();const i=u=>{var w;const p=u.wkt2||u.wkt;if(p){const E=cw.fromString(An.PE_TYPE_NONE,p);return E==null?void 0:E.getCode()}const g=u.wkid??u.latestWkid;return g?(w=cw.coordsys(g))==null?void 0:w.getCode():null},n=e?i(e):null,s=t?i(t):null;return n!=null&&s!=null&&n===s}function Cy(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&wZ[t]||null}function vje(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?i?{wkt:n,vcsWkid:i}:{wkt:n}:{})}function eg(e){if(!ol(e))return!1;const{wkid:t}=e;if(t)return ie[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function Ige(e){return!(xZ(e)||SZ(e))}function l1(e){return(e==null?void 0:e.wkid)===4326}function bje(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function Dj(e){return(e==null?void 0:e.wkid)===a1.CGCS2000}function fc(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&bZ.includes(t)}function Pge(e){return(e==null?void 0:e.wkid)===32662}function j_(e){return e===a1.GCSMARS2000||e===a1.GCSMARS2000_SPHERE}function xZ(e){return j_(e==null?void 0:e.wkid)}function F_(e){return e===a1.GCSMOON2000}function SZ(e){return F_(e==null?void 0:e.wkid)}function Rge(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Oge.includes(t)}function ol(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const _Z={wkid:4326,wkt:C_(wZ[4326].wkTemplate,{Central_Meridian:"0.0"})},EZ={wkid:102100,latestWkid:3857},Dge={wkid:32662};function QO(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Nge=QO(Hn),eI=QO(hu),tI=QO(Gf),Lge={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Hn.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},zge=eI.wkt.toUpperCase(),jge=tI.wkt.toUpperCase();function iI(e){if(e!=null&&ol(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(j_(t))return hu;const n=i==null?void 0:i.toUpperCase();if(i&&n===zge)return hu;if(F_(t)||n&&n===jge)return Gf}return Hn}function wje(e){return j_(e)?hu:F_(e)?Gf:Hn}function S4(e){return cs(e,Nge)}function Hf(e){return S4(e)||cs(e,eI)||cs(e,tI)}const xje=39.37,Fge=Hn.radius*Math.PI/200,TZ=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,K0=ie,MZ=/UNIT\[([^\]]+)]/i,$Z=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Uge=Ts()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Pc=e=>e*e,Od=e=>e*e*e,hw={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Pc(.001)},"square-centimeters":{inBaseUnits:Pc(.01)},"square-decimeters":{inBaseUnits:Pc(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Pc(1e3)},"square-inches":{inBaseUnits:Pc(.0254)},"square-feet":{inBaseUnits:Pc(.3048)},"square-yards":{inBaseUnits:Pc(.9144)},"square-miles":{inBaseUnits:Pc(1609.344)},"square-us-feet":{inBaseUnits:Pc(1200/3937)},acres:{inBaseUnits:.0015625*Pc(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Od(.001)},"cubic-centimeters":{inBaseUnits:1e3*Od(.01)},"cubic-decimeters":{inBaseUnits:1e3*Od(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Od(1e3)},"cubic-inches":{inBaseUnits:1e3*Od(.0254)},"cubic-feet":{inBaseUnits:1e3*Od(.3048)},"cubic-yards":{inBaseUnits:1e3*Od(.9144)},"cubic-miles":{inBaseUnits:1e3*Od(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Vge=(()=>{const e={};for(const t in hw)for(const i in hw[t].units)e[i]=t;return e})();function Gge(e,t,i){return e*hw[i].units[t].inBaseUnits}function Hge(e,t,i){return e/hw[i].units[t].inBaseUnits}const Sje=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],kZ=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],qge=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function _je(e){return e==="imperial"||e==="metric"}function c1(e){const t=Vge[e];if(!t)throw new Error("unknown type");return t}function Nj(e,t=null){return t=t||c1(e),hw[t].baseUnit===e}function bn(e,t,i){if(t===i)return e;const n=c1(t);if(n!==c1(i))throw new Error("incompatible units");const s=Nj(t,n)?e:Gge(e,t,n);return Nj(i,n)?s:Hge(s,i,n)}function Bge(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function Eje(e){return Bge(e)}function Tje(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function Mje(e,t){const i=bn(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function $je(e,t){const i=bn(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function kje(e,t){const i=bn(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function Cje(e,t){const i=bn(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function Aje(e,t){const i=bn(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function Oje(e,t){const i=bn(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function CZ(e,t,i){return bn(e,t,"meters")/(i*Math.PI/180)}function AZ(e){return Uge.fromJSON(e.toLowerCase())||null}function _4(e){if(e!=null&&!Ige(e))return 1;const t=qf(e);return t>1e5?1:t}function OZ(e){return qf(e)>=iI(e).metersPerDegree?"meters":qw(e)}function qf(e,t=Hn.metersPerDegree){return nI(e,!0)??t}function nI(e,t=!1){const i=(e==null?void 0:e.wkid)??null,n=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let s=null;if(i){if(j_(i))return hu.metersPerDegree;if(F_(i))return Gf.metersPerDegree;s=K0.values[K0[i]],!s&&t&&$Z.has(i)&&(s=Fge)}else n&&(U_(n)?s=Lj(TZ.exec(n),s):RZ(n)&&(s=Lj(MZ.exec(n),s)));return s}function Ije(e){return eg(e)?1:qf(e)}function Lj(e,t){return e!=null&&e[1]?IZ(e[1]):t}function IZ(e){return parseFloat(e.split(",")[1])}function qw(e){const t=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(t)n=K0.units[K0[t]];else if(i){const s=U_(i)?TZ:RZ(i)?MZ:null;if(s){const u=s.exec(i);u!=null&&u[1]&&(n=Zge(u[1]))}}return n!=null?AZ(n):null}function Wge(e){const t=qw(e);return t!=null&&kZ.includes(t)?t:null}function PZ(e){const t=OZ(e);return t!=null&&kZ.includes(t)?t:null}function Pje(e){const t=qw(e);return t==null?null:qge.get(t)}function RZ(e){return/^GEOCCS/i.test(e)}function U_(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Jge=1e-7;function Zge(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=t==null?void 0:t[1];if(!i||!K0.units.includes(i)){const n=IZ(e);i=null;const s=K0.values;for(let u=0;u<s.length;++u)if(Math.abs(n-s[u])<Jge){i=K0.units[u];break}}return i}function Rje(e){const t=qw(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const Yge={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Kge={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Xge={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Qge=Ts()(Yge),eve=Ts()(Kge),Dje=Ts()(Xge);function vt(e,t,i){let n,s;return t===void 0?(s=e,n=[void 0]):typeof t!="string"?(s=e,n=[void 0],i=t):(s=t,n=Array.isArray(e)?e:[e]),(u,p)=>{const g=u.constructor.prototype;for(const w of n){const E=NJ(u,w,s);E.write&&typeof E.write=="object"||(E.write={}),i&&(E.write.target=i),E.write.writer=g[p]}}}var zc;let nn=zc=class extends tt{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return zc.WebMercator;if((e==null?void 0:e.wkid)===4326)return zc.WGS84;const t=new zc;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return l1(this)}get isWebMercator(){return fc(this)}get isGeographic(){return eg(this)}get isWrappable(){return Rge(this)}get metersPerUnit(){return qf(this)}get unit(){return qw(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===zc.WGS84)return new zc(_Z);if(this===zc.WebMercator)return new zc(EZ);const e=new zc;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ke(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||n?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return cs(this,e)}toJSON(e){return this.write(void 0,e)}};nn.GCS_NAD_1927=null,nn.WGS84=null,nn.WebMercator=null,nn.PlateCarree=null,S([M({readOnly:!0})],nn.prototype,"isWGS84",null),S([M({readOnly:!0})],nn.prototype,"isWebMercator",null),S([M({readOnly:!0})],nn.prototype,"isGeographic",null),S([M({readOnly:!0})],nn.prototype,"isWrappable",null),S([M({type:fn,json:{write:!0}})],nn.prototype,"latestWkid",void 0),S([M({readOnly:!0})],nn.prototype,"metersPerUnit",null),S([M({readOnly:!0})],nn.prototype,"unit",null),S([M({type:fn,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],nn.prototype,"wkid",void 0),S([M({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],nn.prototype,"wkt",void 0),S([vt("wkt"),vt("web-scene","wkt")],nn.prototype,"writeWkt",null),S([M({type:String,json:{write:!1}})],nn.prototype,"wkt2",void 0),S([M({type:fn,json:{write:!0}})],nn.prototype,"vcsWkid",void 0),S([M({type:fn,json:{write:!0}})],nn.prototype,"latestVcsWkid",void 0),S([M()],nn.prototype,"imageCoordinateSystem",void 0),nn=zc=S([ue("esri.geometry.SpatialReference")],nn),nn.prototype.toJSON.isDefaultToJSON=!0,nn.GCS_NAD_1927=Zt.freeze(new nn({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),nn.WGS84=Zt.freeze(new nn(_Z)),nn.WebMercator=Zt.freeze(new nn(EZ)),nn.PlateCarree=Zt.freeze(new nn(Dge));const li=nn;let jc=class extends tt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=li.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof li)return t;if(t!=null){const n=new li;return n.read(t,i),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};S([M()],jc.prototype,"type",void 0),S([M({readOnly:!0})],jc.prototype,"cache",null),S([M({readOnly:!0})],jc.prototype,"extent",null),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],jc.prototype,"hasM",void 0),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],jc.prototype,"hasZ",void 0),S([M({type:li,json:{write:!0},value:li.WGS84})],jc.prototype,"spatialReference",void 0),S([ht("spatialReference")],jc.prototype,"readSpatialReference",null),jc=S([ue("esri.geometry.Geometry")],jc);const C1=jc,tve=Object.prototype.toString;function ive(e){const t="__accessorMetadata__"in e?ls(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return nve.apply(this,i)}}function nve(e,t,i,n){O_(e,t).cast=n}function rve(e){return(t,i)=>{O_(t,e).cast=t[i]}}function pn(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&tve.call(e[0])==="[object Function]"?ive(e[0]):e.length===1&&typeof e[0]=="string"?rve(e[0]):void 0}const sve=57.29577951308232,ove=.017453292519943;function zj(e){return e*sve}function jj(e){return e*ove}function Lje(e){return e/Hn.radius}function zje(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Hn.radius))}function e$(e){return e.wkid!=null||e.wkt!=null}const OT=[0,0];function E4(e,t,i,n,s){const u=e,p=s;if(p.spatialReference=i,"x"in u&&"x"in p)[p.x,p.y]=t(u.x,u.y,OT,n);else if("xmin"in u&&"xmin"in p)[p.xmin,p.ymin]=t(u.xmin,u.ymin,OT,n),[p.xmax,p.ymax]=t(u.xmax,u.ymax,OT,n);else if("paths"in u&&"paths"in p||"rings"in u&&"rings"in p){const g="paths"in u?u.paths:u.rings,w=[];let E;for(let A=0;A<g.length;A++){const I=g[A];E=[],w.push(E);for(let R=0;R<I.length;R++)E.push(t(I[R][0],I[R][1],[0,0],n)),I[R].length>2&&E[R].push(I[R][2]),I[R].length>3&&E[R].push(I[R][3])}"paths"in p?p.paths=w:p.rings=w}else if("points"in u&&"points"in p){const g=u.points,w=[];for(let E=0;E<g.length;E++)w[E]=t(g[E][0],g[E][1],[0,0],n),g[E].length>2&&w[E].push(g[E][2]),g[E].length>3&&w[E].push(g[E][3]);p.points=w}return s}function h9(e,t){const i=e&&(e$(e)?e:e.spatialReference),n=t&&(e$(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!n)&&(!!cs(n,i)||fc(n)&&l1(i)||fc(i)&&l1(n))}function DZ(e,t){if(e==null)return null;const i=e.spatialReference,n=t&&(e$(t)?t:t.spatialReference);return h9(i,n)?cs(i,n)?ke(e):fc(n)?E4(e,my,li.WebMercator,!1,ke(e)):l1(n)?E4(e,V_,li.WGS84,!1,ke(e)):null:null}function my(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=jj(t);return i[0]=jj(e)*Hn.radius,i[1]=Hn.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function V_(e,t,i=[0,0],n=!1){if(e===uw[0])i[0]=-180;else if(e===uw[1])i[0]=180;else{const s=zj(e/Hn.radius);i[0]=n?s:s-360*Math.floor((s+180)/360)}return i[1]=zj(Math.PI/2-2*Math.atan(Math.exp(-t/Hn.radius))),i}function d9(e,t=!1,i=ke(e)){return E4(e,my,li.WebMercator,t,i)}function yy(e,t=!1,i=ke(e)){return E4(e,V_,li.WGS84,t,i)}function ave(e,t){const i=e.x-t.x,n=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+n*n+s*s)}function lve(e){var t;return((t=NZ(e,LZ))==null?void 0:t[0])??null}function cve(e){var t;return((t=NZ(e,LZ))==null?void 0:t[1])??null}function NZ({x:e,y:t,spatialReference:i},n=[0,0]){if(i){if(fc(i))return V_(e,t,n);if(eg(i))return n[0]=e,n[1]=t,n}return null}const LZ=[0,0];var f9;const IT=[0,0];function Fj(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let no=f9=class extends C1{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Zt.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,n,s){let u;if(Array.isArray(e))u=e,s=t,e=u[0],t=u[1],i=u[2],n=u[3];else if(e&&typeof e=="object"){if(u=e,e=u.x!=null?u.x:u.longitude,t=u.y!=null?u.y:u.latitude,i=u.z,n=u.m,(s=u.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new li(s)),u.longitude!=null||u.latitude!=null){if(u.longitude==null)xt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(u.latitude==null)xt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!u.declaredClass&&(s!=null&&s.isWebMercator)){const g=my(u.longitude,u.latitude,IT);e=g[0],t=g[1]}}}else Fj(i)?(s=i,i=null):Fj(n)&&(s=n,n=null);const p={x:e,y:t};return p.x==null&&p.y!=null?xt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):p.y==null&&p.x!=null&&xt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(p.spatialReference=s),i!=null&&(p.z=i),n!=null&&(p.m=n),p}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return cve(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",my(i,e,IT)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return lve(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",my(e,t,IT)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new f9;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return f9.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:n,m:s,spatialReference:u}=this,{z:p,m:g}=e;let{x:w,y:E,spatialReference:A}=e;if(!u.equals(A))if(u.isWebMercator&&A.isWGS84)[w,E]=my(w,E),A=u;else{if(!u.isWGS84||!A.isWebMercator)return!1;[w,E]=V_(w,E),A=u}return t===w&&i===E&&n===p&&s===g&&u.wkid===A.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=Cy(this.spatialReference);if(!e)return this;let t=this.x;const[i,n]=e.valid,s=2*n;let u;return t>n?(u=Math.ceil(Math.abs(t-n)/s),t-=u*s):t<i&&(u=Math.ceil(Math.abs(t-i)/s),t+=u*s),this._set("x",t),this}distance(e){return ave(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};S([M({readOnly:!0})],no.prototype,"cache",null),S([M({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],no.prototype,"hasM",null),S([M({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],no.prototype,"hasZ",null),S([M({type:Number})],no.prototype,"latitude",null),S([M({type:Number})],no.prototype,"longitude",null),S([M({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),pn(e=>isNaN(e)?e:Sg(e))],no.prototype,"x",void 0),S([vt("x")],no.prototype,"writeX",null),S([ht("x")],no.prototype,"readX",null),S([M({type:Number,json:{write:!0}})],no.prototype,"y",void 0),S([M({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],no.prototype,"z",void 0),S([M({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],no.prototype,"m",void 0),no=f9=S([ue("esri.geometry.Point")],no),no.prototype.toJSON.isDefaultToJSON=!0;const gi=no,PT=[0,0];function zZ(e,t){return t!=null&&ao(e,t.x,t.y,t.z)}function jje(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!tg(e,i))return!1;return!0}function uve(e,t){const{xmin:i,ymin:n,zmin:s,xmax:u,ymax:p,zmax:g}=t;return e.hasZ&&t.hasZ?ao(e,i,n,s)&&ao(e,i,p,s)&&ao(e,u,p,s)&&ao(e,u,n,s)&&ao(e,i,n,g)&&ao(e,i,p,g)&&ao(e,u,p,g)&&ao(e,u,n,g):ao(e,i,n)&&ao(e,i,p)&&ao(e,u,p)&&ao(e,u,n)}function tg(e,t){return ao(e,t[0],t[1])}function hve(e,t){return ao(e,t[0],t[1],t[2])}function ao(e,t,i,n){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function dve(e,t){return PT[1]=t.y,PT[0]=t.x,fve(e,PT)}function fve(e,t){return jZ(e.rings,t)}function jZ(e,t){if(!e)return!1;if(pve(e))return Uj(!1,e,t);let i=!1;for(let n=0,s=e.length;n<s;n++)i=Uj(i,e[n],t);return i}function pve(e){return!Array.isArray(e[0][0])}function Uj(e,t,i){const[n,s]=i;let u=e,p=0;for(let g=0,w=t.length;g<w;g++){p++,p===w&&(p=0);const[E,A]=t[g],[I,R]=t[p];(A<s&&R>=s||R<s&&A>=s)&&E+(s-A)/(R-A)*(I-E)<n&&(u=!u)}return u}function mve(e,t){return zZ(e,t)}function yve(e,t){const i=e.hasZ&&t.hasZ;let n,s,u;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(u=t.zmin,e.zmax<u)return!1}else if(u=e.zmin,t.zmax<u)return!1}return!0}function gve(e,t){const{points:i,hasZ:n}=t,s=n?hve:tg;for(const u of i)if(s(e,u))return!0;return!1}const u1=[0,0],h1=[0,0],d1=[0,0],f1=[0,0],vve=[u1,h1,d1,f1],FZ=[[d1,u1],[u1,h1],[h1,f1],[f1,d1]];function bve(e,t){return wve(e,t.rings)}function wve(e,t){u1[0]=e.xmin,u1[1]=e.ymax,h1[0]=e.xmax,h1[1]=e.ymax,d1[0]=e.xmin,d1[1]=e.ymin,f1[0]=e.xmax,f1[1]=e.ymin;for(const i of vve)if(jZ(t,i))return!0;for(const i of t){if(!i.length)continue;let n=i[0];if(tg(e,n))return!0;for(let s=1;s<i.length;s++){const u=i[s];if(tg(e,u)||UZ(n,u,FZ))return!0;n=u}}return!1}function xve(e,t){u1[0]=e.xmin,u1[1]=e.ymax,h1[0]=e.xmax,h1[1]=e.ymax,d1[0]=e.xmin,d1[1]=e.ymin,f1[0]=e.xmax,f1[1]=e.ymin;const i=t.paths;for(const n of i){if(!i.length)continue;let s=n[0];if(tg(e,s))return!0;for(let u=1;u<n.length;u++){const p=n[u];if(tg(e,p)||UZ(s,p,FZ))return!0;s=p}}return!1}const Zr=[0,0];function Sve(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const u=i[s],p=i[s+1];for(let g=t+1;g<e.length;g++)for(let w=0;w<e[g].length-1;w++){const E=e[g][w],A=e[g][w+1];if(t$(u,p,E,A,Zr)&&!(Zr[0]===u[0]&&Zr[1]===u[1]||Zr[0]===E[0]&&Zr[1]===E[1]||Zr[0]===p[0]&&Zr[1]===p[1]||Zr[0]===A[0]&&Zr[1]===A[1]))return!0}}const n=i.length;if(!(n<=4))for(let s=0;s<n-3;s++){let u=n-1;s===0&&(u=n-2);const p=i[s],g=i[s+1];for(let w=s+2;w<u;w++){const E=i[w],A=i[w+1];if(t$(p,g,E,A,Zr)&&!(Zr[0]===p[0]&&Zr[1]===p[1]||Zr[0]===E[0]&&Zr[1]===E[1]||Zr[0]===g[0]&&Zr[1]===g[1]||Zr[0]===A[0]&&Zr[1]===A[1]))return!0}}}return!1}function UZ(e,t,i){for(let n=0;n<i.length;n++)if(t$(e,t,i[n][0],i[n][1]))return!0;return!1}function t$(e,t,i,n,s){const[u,p]=e,[g,w]=t,[E,A]=i,[I,R]=n,F=I-E,q=u-E,B=g-u,K=R-A,te=p-A,ce=w-p,ye=K*B-F*ce;if(ye===0)return!1;const _e=(F*te-K*q)/ye,we=(B*te-ce*q)/ye;return _e>=0&&_e<=1&&we>=0&&we<=1&&(s&&(s[0]=u+_e*(g-u),s[1]=p+_e*(w-p)),!0)}function _ve(e){switch(e){case"esriGeometryEnvelope":case"extent":return yve;case"esriGeometryMultipoint":case"multipoint":return gve;case"esriGeometryPoint":case"point":return mve;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return bve;case"esriGeometryPolyline":case"polyline":return xve}}var qa;function Eve(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Id(e,t,i){return t==null?i:i==null?t:e(t,i)}let Nr=qa=class extends C1{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,n,s){return Eve(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?li.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:n,spatialReference:s??li.WGS84}}static fromBounds(e,t){return new qa({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new qa({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new gi({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new qa;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&h9(t,i)&&(e=t.isWebMercator?d9(e):yy(e,!0)),e.type==="point"?zZ(this,e):e.type==="extent"&&uve(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&h9(t,i)&&(e=t.isWebMercator?d9(e):yy(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,n=this.height*t;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!cs(t,i)&&h9(t,i)&&(e=t.isWebMercator?d9(e):yy(e,!0)),_ve(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Id(Math.min,this.zmin,e.zmin),this.zmax=Id(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Id(Math.min,this.mmin,e.mmin),this.mmax=Id(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Id(Math.max,this.zmin,e.zmin),this.zmax=Id(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Id(Math.max,this.mmin,e.mmin),this.mmax=Id(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Cy(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const n=t.isWebMercator?yy(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(n.x=RT(n.x,e).x),this.spatialReference=new li(C_((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[i,n]=e.valid,s=this.xmin,u=this.xmax;return s>=i&&s<=n&&u>=i&&u<=n||(t=this.center),t}_normalize(e,t,i){const n=this.spatialReference;if(!n)return this;const s=i??Cy(n);if(s==null)return this;const u=this._getParts(s).map(w=>w.extent);if(u.length<2)return u[0]||this;if(u.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return u;let p=!0,g=!0;return u.forEach(w=>{w.hasZ||(p=!1),w.hasM||(g=!1)}),{rings:u.map(w=>{const E=[[w.xmin,w.ymin],[w.xmin,w.ymax],[w.xmax,w.ymax],[w.xmax,w.ymin],[w.xmin,w.ymin]];if(p){const A=(w.zmax-w.zmin)/2;for(let I=0;I<E.length;I++)E[I].push(A)}if(g){const A=(w.mmax-w.mmin)/2;for(let I=0;I<E.length;I++)E[I].push(A)}return E}),hasZ:p,hasM:g,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:u,spatialReference:p}=this,g=this.width,w=this.xmin,E=this.xmax;let A;e=e||Cy(p);const[I,R]=e.valid;A=RT(this.xmin,e);const F=A.x,q=A.frameId;A=RT(this.xmax,e);const B=A.x,K=A.frameId,te=F===B&&g>0;if(g>2*R){const ce=new qa(w<E?F:B,s,R,u,p),ye=new qa(I,s,w<E?B:F,u,p),_e=new qa(0,s,R,u,p),we=new qa(I,s,0,u,p),xe=[],pe=[];ce.contains(_e)&&xe.push(q),ce.contains(we)&&pe.push(q),ye.contains(_e)&&xe.push(K),ye.contains(we)&&pe.push(K);for(let Ze=q+1;Ze<K;Ze++)xe.push(Ze),pe.push(Ze);t.push({extent:ce,frameIds:[q]},{extent:ye,frameIds:[K]},{extent:_e,frameIds:xe},{extent:we,frameIds:pe})}else F>B||te?t.push({extent:new qa(F,s,R,u,p),frameIds:[q]},{extent:new qa(I,s,B,u,p),frameIds:[K]}):t.push({extent:new qa(F,s,B,u,p),frameIds:[q]});this.cache._parts=t}const i=this.hasZ,n=this.hasM;if(i||n){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),n&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let u=0;u<t.length;u++)t[u].extent.set(s)}return t}};function RT(e,t){const[i,n]=t.valid,s=2*n;let u,p=0;return e>n?(u=Math.ceil(Math.abs(e-n)/s),e-=u*s,p=u):e<i&&(u=Math.ceil(Math.abs(e-i)/s),e+=u*s,p=-u),{x:e,frameId:p}}S([M({readOnly:!0})],Nr.prototype,"cache",null),S([M({readOnly:!0})],Nr.prototype,"center",null),S([M({readOnly:!0})],Nr.prototype,"extent",null),S([M({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Nr.prototype,"hasM",null),S([M({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Nr.prototype,"hasZ",null),S([M({readOnly:!0})],Nr.prototype,"height",null),S([M({readOnly:!0})],Nr.prototype,"width",null),S([M({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Nr.prototype,"xmin",void 0),S([M({type:Number,json:{write:!0}})],Nr.prototype,"ymin",void 0),S([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Nr.prototype,"mmin",void 0),S([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Nr.prototype,"zmin",void 0),S([M({type:Number,json:{write:!0}})],Nr.prototype,"xmax",void 0),S([M({type:Number,json:{write:!0}})],Nr.prototype,"ymax",void 0),S([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Nr.prototype,"mmax",void 0),S([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Nr.prototype,"zmax",void 0),Nr=qa=S([ue("esri.geometry.Extent")],Nr),Nr.prototype.toJSON.isDefaultToJSON=!0;const Yn=Nr;let $2;var $q,kq;const Tve=(($q=globalThis.esriConfig)==null?void 0:$q.locale)??((kq=globalThis.dojoConfig)==null?void 0:kq.locale);var Cq;const k2=(Cq=globalThis.document)==null?void 0:Cq.documentElement;function VZ(){var i;const e=k2==null?void 0:k2.getAttribute("lang"),t=(i=globalThis.navigator)==null?void 0:i.language;return Tve??e??t??"en"}function va(){return $2===void 0&&($2=VZ()),$2}function Fje(e=va()){const t=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const p9=[];function Mve(e){return p9.push(e),Mi(()=>p9.splice(p9.indexOf(e),1))}const m9=[];function rI(e){return m9.push(e),Mi(()=>m9.splice(m9.indexOf(e),1))}function Vj(){const e=VZ();$2!==e&&([...m9].forEach(t=>t(e)),$2=e,[...p9].forEach(t=>t(e)))}var Aq;(Aq=globalThis.addEventListener)==null||Aq.call(globalThis,"languagechange",Vj),k2&&new MutationObserver(()=>{Vj()}).observe(k2,{attributeFilter:["lang"]});let sx;function $ve(e){return sx&&!sx.destroyed||(sx=e()),sx}var i$;const kve=new ki({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Ba=i$=class extends Zt{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new i$({categories:this.categories?ke(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(p=>Array.isArray(p)?JSON.stringify(p):p));let n="";if(this.extent){const p=DZ(this.extent,li.WGS84);p!=null&&(n=`${p.xmin},${p.ymin},${p.xmax},${p.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const u={categories:i,bbox:n,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(u.sortField=this.sortField.split(",").map(p=>kve.toJSON(p.trim())).join(","),u.sortOrder=this.sortOrder),{query:{...t,...u}}}};S([M()],Ba.prototype,"categories",void 0),S([M()],Ba.prototype,"disableExtraQuery",void 0),S([M({type:Yn})],Ba.prototype,"extent",void 0),S([M()],Ba.prototype,"filter",void 0),S([M()],Ba.prototype,"num",void 0),S([M()],Ba.prototype,"query",void 0),S([M()],Ba.prototype,"sortField",void 0),S([M()],Ba.prototype,"sortOrder",null),S([M()],Ba.prototype,"start",void 0),Ba=i$=S([ue("esri.portal.PortalQueryParams")],Ba);const tc=Ba;var n$;let xr=n$=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ze("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new n$({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=ls(tc,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(i=i||new tc,n.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new tc,i.query="group:"+this.id+(i.query?" "+i.query:""),n.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(n=>{const s=n.contentCategorySetsGroupQuery;if(s){const u=new tc({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(u,t)}throw new ze("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const s=n.results[0],u=new tc({num:1,query:`typekeywords:"${e}"`});return s.queryItems(u,t)}throw new ze("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(s=>{const u=s==null?void 0:s.categorySchema;return u!=null&&u.length?u:[]}):[])}};S([M()],xr.prototype,"access",void 0),S([M({type:Date})],xr.prototype,"created",void 0),S([M()],xr.prototype,"description",void 0),S([M()],xr.prototype,"id",void 0),S([M()],xr.prototype,"isInvitationOnly",void 0),S([M({type:Date})],xr.prototype,"modified",void 0),S([M()],xr.prototype,"owner",void 0),S([M()],xr.prototype,"portal",void 0),S([M()],xr.prototype,"snippet",void 0),S([M()],xr.prototype,"sortField",void 0),S([M()],xr.prototype,"sortOrder",void 0),S([M()],xr.prototype,"sourceJSON",void 0),S([M()],xr.prototype,"tags",void 0),S([M()],xr.prototype,"thumbnail",void 0),S([M({readOnly:!0})],xr.prototype,"thumbnailUrl",null),S([M()],xr.prototype,"title",void 0),S([M({readOnly:!0})],xr.prototype,"url",null),xr=n$=S([ue("esri.portal.PortalGroup")],xr);const r$=xr;let Yp=class extends Zt{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};S([M()],Yp.prototype,"nextQueryParams",void 0),S([M()],Yp.prototype,"queryParams",void 0),S([M()],Yp.prototype,"results",void 0),S([M()],Yp.prototype,"total",void 0),Yp=S([ue("esri.portal.PortalQueryResult")],Yp);const Cve=Yp;let Ju=class extends tt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const t=(i=this.portal)==null?void 0:i.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ze("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};S([M({type:Date})],Ju.prototype,"created",void 0),S([M()],Ju.prototype,"id",void 0),S([M()],Ju.prototype,"portal",void 0),S([M()],Ju.prototype,"title",void 0),S([M({readOnly:!0})],Ju.prototype,"url",null),S([M()],Ju.prototype,"username",void 0),Ju=S([ue("esri.portal.PortalFolder")],Ju);const Ave=Ju;var s$;let gn=s$=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e==null?void 0:e.data,n=e==null?void 0:e.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let u=this.userContentUrl;return n&&(u+="/"+(typeof n=="string"?n:n.id)),this.portal.request(u+"/addItem",s).then(p=>(t.id=p.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",n=[],s=e.map(u=>u.id);if(s.length){const u={method:"post",query:{items:s.join(","),permanentDelete:t}},p=await this.portal.request(i,u);for(const g of p.results){const w=e.find(I=>g.itemId===I.id),E=g.success;let A=null;E?(w.id=null,w.portal=null):g.error&&(A=new ze("portal:delete-item-failed",g.error.message,g.error)),n.push({item:w,success:E,error:A})}}return n}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(n=>{const s=Ave.fromJSON(n);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const n=r$.fromJSON(i);return n.portal=this.portal,n}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await rt(()=>Promise.resolve().then(()=>aie),void 0,import.meta.url),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:n});let u;return s!=null&&s.items?(u=s.items.map(p=>{const g=i.fromJSON(p);return g.portal=this.portal,g}),await Promise.all(u.map(p=>p.load())),{items:u,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new r$({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ze("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,n=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:n})}toJSON(){throw new ze("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new s$({sourceJSON:e});return t.read(e),t}};S([M()],gn.prototype,"access",void 0),S([M({type:Date})],gn.prototype,"created",void 0),S([M()],gn.prototype,"culture",void 0),S([M()],gn.prototype,"description",void 0),S([M()],gn.prototype,"email",void 0),S([M()],gn.prototype,"favGroupId",void 0),S([M()],gn.prototype,"fullName",void 0),S([M({type:Date})],gn.prototype,"modified",void 0),S([M()],gn.prototype,"orgId",void 0),S([M()],gn.prototype,"portal",void 0),S([M()],gn.prototype,"preferredView",void 0),S([M()],gn.prototype,"privileges",void 0),S([M()],gn.prototype,"region",void 0),S([M()],gn.prototype,"role",void 0),S([M()],gn.prototype,"roleId",void 0),S([M()],gn.prototype,"sourceJSON",void 0),S([M()],gn.prototype,"thumbnail",void 0),S([M({readOnly:!0})],gn.prototype,"thumbnailUrl",null),S([M()],gn.prototype,"units",void 0),S([M({readOnly:!0})],gn.prototype,"userContentUrl",null),S([M({readOnly:!0})],gn.prototype,"url",null),S([M()],gn.prototype,"username",void 0),S([M()],gn.prototype,"userLicenseTypeId",void 0),S([M()],gn.prototype,"userType",void 0),gn=s$=S([ue("esri.portal.PortalUser")],gn);const sI=gn;var ta;let Yv;const Gj={PortalGroup:()=>Promise.resolve({default:r$}),PortalItem:()=>rt(()=>Promise.resolve().then(()=>aie),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:sI})};let mt=ta=class extends FO(z_){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Bi.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){Hj.unregister(this),this.defaultBasemap=kr(this.defaultBasemap),this.defaultDevBasemap=kr(this.defaultDevBasemap),this.defaultVectorBasemap=kr(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Ur(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Bi.request.trustedServers.includes(t)||Bi.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var i;const e=(i=this.user)==null?void 0:i.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return hZ(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=sI.fromJSON(e),t.portal=this),t}load(e){const t=rt(()=>import("./Basemap-NADnrhTn.js").then(i=>i.B),__vite__mapDeps([2,3,4]),import.meta.url).then(({default:i})=>{Fo(e),Yv=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{var n;if(!this.hasAPIKey&&ai){const s=ai;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==ta.AUTH_MODE_AUTO&&this.authMode!==ta.AUTH_MODE_NO_PROMPT||((n=this._esriIdCredentialCreateHandle)==null||n.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",Ove(new WeakRef(this))),Hj.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await rt(async()=>{const{default:i}=await import("./ElevationLayer-LCyVBNkh.js");return{default:i}},__vite__mapDeps([86,87,10,11,88,89,43,90]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,t);i.unshift(...n)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new tc;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(n=>n.type==="Web Scene");return i?new Yv({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Sa(e)?Promise.reject(Gn()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new tc({num:100,sortField:"title"});if(t!=null&&t.length){const n=[];for(const s of t)n.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=n.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return Sa(e)?Promise.reject(Gn()):Promise.resolve([])}fetchRegions(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||va();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||va();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return $ve(()=>new ta)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const n=this.restUrl+"/portals/self",s={authMode:e,query:{culture:va().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(n,s)}queryPortal(e,t,i,n){const s=ls(tc,t),u=p=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...n}).then(g=>{const w=s.clone();return w.start=g.nextStart,new Cve({nextQueryParams:w,queryParams:s,total:g.total,results:ta._resultsToTypedArray(p,{portal:this},g,n)})}).then(g=>Promise.all(g.results.map(w=>typeof w.when=="function"?w.when():g)).then(()=>g,w=>(su(w),g)));return i&&Gj[i]?Gj[i]().then(({default:p})=>(Fo(n),u(p))):u()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ze("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===ta.AUTH_MODE_ANONYMOUS||this.authMode===ta.AUTH_MODE_NO_PROMPT&&!ai)return Promise.reject(new ze("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return ai?ai.getCredential(this.restUrl,{prompt:this.authMode!==ta.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var i;const t=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(n=>{const s=ta._resultsToTypedArray(i,{portal:this},n);return Promise.all(s.map(u=>typeof u.when=="function"?u.when():n)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:n=this.authMode===ta.AUTH_MODE_ANONYMOUS||this.authMode===ta.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:u=!1,method:p="auto",responseType:g="json",signal:w}=t,E={authMode:n,body:s,cacheBust:u,method:p,query:i,responseType:g,timeout:0,signal:w};return t.withCredentials&&(E.withCredentials=!0),en(this._normalizeSSL(e),E).then(A=>A.data)}toJSON(){throw new ze("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new ta({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ze("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new tc;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const n=await this.queryGroups(i,t);if(!n.total)return[];const s=n.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const u=await s.queryItems(i,t);return u.total?u.results.filter(p=>p.type==="Web Map").map(p=>new Yv({portalItem:p})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];const n=new tc({query:i,disableExtraQuery:!0}),s=await this.queryGroups(n,t);if(!s.total)return[];const u=s.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=u.sortField||"name",n.sortOrder=u.sortOrder||"desc";const p=await u.queryItems(n,t);return p.total?p.results.filter(g=>g.type==="Web Scene").map(g=>new Yv({portalItem:g})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Yv.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,n){let s;if(i){const u=n!=null?n.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(p=>{const g=Object.assign(e?e.fromJSON(p):p,t);return typeof g.load=="function"&&g.load(u),g}))}else s=[];return s}};mt.AUTH_MODE_ANONYMOUS="anonymous",mt.AUTH_MODE_AUTO="auto",mt.AUTH_MODE_IMMEDIATE="immediate",mt.AUTH_MODE_NO_PROMPT="no-prompt",S([M()],mt.prototype,"access",void 0),S([M()],mt.prototype,"allSSL",void 0),S([M()],mt.prototype,"authMode",void 0),S([M()],mt.prototype,"authorizedCrossOriginDomains",void 0),S([ht("authorizedCrossOriginDomains")],mt.prototype,"readAuthorizedCrossOriginDomains",null),S([M()],mt.prototype,"basemapGalleryGroupQuery",void 0),S([M({json:{name:"3DBasemapGalleryGroupQuery"}})],mt.prototype,"basemapGalleryGroupQuery3D",void 0),S([M()],mt.prototype,"bingKey",void 0),S([M()],mt.prototype,"canListApps",void 0),S([M()],mt.prototype,"canListData",void 0),S([M()],mt.prototype,"canListPreProvisionedItems",void 0),S([M()],mt.prototype,"canProvisionDirectPurchase",void 0),S([M()],mt.prototype,"canSearchPublic",void 0),S([M()],mt.prototype,"canShareBingPublic",void 0),S([M()],mt.prototype,"canSharePublic",void 0),S([M()],mt.prototype,"canSignInArcGIS",void 0),S([M()],mt.prototype,"canSignInIDP",void 0),S([M()],mt.prototype,"colorSetsGroupQuery",void 0),S([M()],mt.prototype,"commentsEnabled",void 0),S([M({type:Date})],mt.prototype,"created",void 0),S([M()],mt.prototype,"credential",void 0),S([M()],mt.prototype,"culture",void 0),S([M()],mt.prototype,"currentVersion",void 0),S([M()],mt.prototype,"customBaseUrl",void 0),S([M()],mt.prototype,"default3DBasemapQuery",void 0),S([M()],mt.prototype,"defaultBasemap",void 0),S([ht("defaultBasemap")],mt.prototype,"readDefaultBasemap",null),S([M()],mt.prototype,"defaultDevBasemap",void 0),S([ht("defaultDevBasemap")],mt.prototype,"readDefaultDevBasemap",null),S([M({type:Yn})],mt.prototype,"defaultExtent",void 0),S([M()],mt.prototype,"defaultVectorBasemap",void 0),S([ht("defaultVectorBasemap")],mt.prototype,"readDefaultVectorBasemap",null),S([M()],mt.prototype,"description",void 0),S([M()],mt.prototype,"devBasemapGalleryGroupQuery",void 0),S([M()],mt.prototype,"eueiEnabled",void 0),S([M({readOnly:!0})],mt.prototype,"extraQuery",null),S([M()],mt.prototype,"featuredGroups",void 0),S([M()],mt.prototype,"featuredItemsGroupQuery",void 0),S([M()],mt.prototype,"galleryTemplatesGroupQuery",void 0),S([M()],mt.prototype,"layoutGroupQuery",void 0),S([M()],mt.prototype,"livingAtlasGroupQuery",void 0),S([M({readOnly:!0})],mt.prototype,"hasAPIKey",null),S([M()],mt.prototype,"hasCategorySchema",void 0),S([M()],mt.prototype,"hasClassificationSchema",void 0),S([M()],mt.prototype,"helpBase",void 0),S([M()],mt.prototype,"helperServices",void 0),S([M()],mt.prototype,"helpMap",void 0),S([M()],mt.prototype,"homePageFeaturedContent",void 0),S([M()],mt.prototype,"homePageFeaturedContentCount",void 0),S([M()],mt.prototype,"httpPort",void 0),S([M()],mt.prototype,"httpsPort",void 0),S([M()],mt.prototype,"id",void 0),S([M()],mt.prototype,"ipCntryCode",void 0),S([M({readOnly:!0})],mt.prototype,"isOrganization",null),S([M()],mt.prototype,"isPortal",void 0),S([M()],mt.prototype,"isReadOnly",void 0),S([M({readOnly:!0})],mt.prototype,"itemPageUrl",null),S([M()],mt.prototype,"layerTemplatesGroupQuery",void 0),S([M()],mt.prototype,"maxTokenExpirationMinutes",void 0),S([M({type:Date})],mt.prototype,"modified",void 0),S([M()],mt.prototype,"name",void 0),S([M()],mt.prototype,"portalHostname",void 0),S([M()],mt.prototype,"portalMode",void 0),S([M()],mt.prototype,"portalProperties",void 0),S([M()],mt.prototype,"region",void 0),S([M()],mt.prototype,"recycleBinEnabled",void 0),S([M({readOnly:!0})],mt.prototype,"restUrl",null),S([M()],mt.prototype,"rotatorPanels",void 0),S([M()],mt.prototype,"showHomePageDescription",void 0),S([M()],mt.prototype,"sourceJSON",void 0),S([M()],mt.prototype,"staticImagesUrl",void 0),S([M({json:{name:"2DStylesGroupQuery"}})],mt.prototype,"stylesGroupQuery2d",void 0),S([M({json:{name:"stylesGroupQuery"}})],mt.prototype,"stylesGroupQuery3d",void 0),S([M()],mt.prototype,"supportsHostedServices",void 0),S([M()],mt.prototype,"symbolSetsGroupQuery",void 0),S([M()],mt.prototype,"templatesGroupQuery",void 0),S([M()],mt.prototype,"thumbnail",void 0),S([M({readOnly:!0})],mt.prototype,"thumbnailUrl",null),S([M()],mt.prototype,"units",void 0),S([M()],mt.prototype,"url",void 0),S([M()],mt.prototype,"urlKey",void 0),S([ht("urlKey")],mt.prototype,"readUrlKey",null),S([M()],mt.prototype,"user",void 0),S([ht("user")],mt.prototype,"readUser",null),S([M()],mt.prototype,"use3dBasemaps",void 0),S([M()],mt.prototype,"useDefault3dBasemap",void 0),S([M()],mt.prototype,"useStandardizedQuery",void 0),S([M()],mt.prototype,"useVectorBasemaps",void 0),S([M()],mt.prototype,"vectorBasemapGalleryGroupQuery",void 0),mt=ta=S([ue("esri.portal.Portal")],mt);const _a=mt,Hj=new FinalizationRegistry(e=>{e.remove()});function Ove(e){const t=ai;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let y9=class GZ{constructor(){this._emitter=new GZ.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,u){var E;let p=(E=this._listenersMap)==null?void 0:E.get(s);if(!p)return!1;const g=this._target||this;let w=!1;for(const A of p.slice()){const I="deref"in A?A.deref():A;I?I==null||I.call(g,u):w=!0}return w&&(p=p.filter(A=>!("deref"in A)||A.deref()!=null),this._listenersMap.set(s,p)),p.length>0}on(s,u){if(Array.isArray(s)){const g=s.map(w=>this.on(w,u));return Hh(g)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const p=this._listenersMap.get(s)||[];return p.push(u),this._listenersMap.set(s,p),Mi(()=>{var E;const g=(E=this._listenersMap)==null?void 0:E.get(s),w=(g==null?void 0:g.indexOf(u))??-1;w>=0&&g.splice(w,1)})}once(s,u){const p=this.on(s,g=>{p.remove();const w="deref"in u?u.deref():u;w==null||w.call(null,g)});return p}hasEventListener(s){var p;const u=(p=this._listenersMap)==null?void 0:p.get(s);return u!=null&&u.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let s=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(u,p){return this._emitter.emit(u,p)}on(u,p){return this._emitter.on(u,p)}once(u,p){return this._emitter.once(u,p)}hasEventListener(u){return this._emitter.hasEventListener(u)}};return s=S([ue("esri.core.Evented")],s),s};let i=class extends Zt{constructor(){super(...arguments),this._emitter=new y9.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,s){return this._emitter.emit(n,s)}on(n,s){return this._emitter.on(n,s)}once(n,s){return this._emitter.once(n,s)}hasEventListener(n){return this._emitter.hasEventListener(n)}};i=S([ue("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(y9||(y9={}));const Ms=y9,qj=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class A1 extends Error{}class Ive extends A1{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Pve extends A1{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Rve extends A1{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class gy extends A1{}class HZ extends A1{constructor(t){super(`Invalid unit ${t}`)}}class Gs extends A1{}class Pd extends A1{constructor(){super("Zone is an abstract class")}}const _t="numeric",pc="short",ba="long",T4={year:_t,month:_t,day:_t},qZ={year:_t,month:pc,day:_t},Dve={year:_t,month:pc,day:_t,weekday:pc},BZ={year:_t,month:ba,day:_t},WZ={year:_t,month:ba,day:_t,weekday:ba},JZ={hour:_t,minute:_t},ZZ={hour:_t,minute:_t,second:_t},YZ={hour:_t,minute:_t,second:_t,timeZoneName:pc},KZ={hour:_t,minute:_t,second:_t,timeZoneName:ba},XZ={hour:_t,minute:_t,hourCycle:"h23"},QZ={hour:_t,minute:_t,second:_t,hourCycle:"h23"},eY={hour:_t,minute:_t,second:_t,hourCycle:"h23",timeZoneName:pc},tY={hour:_t,minute:_t,second:_t,hourCycle:"h23",timeZoneName:ba},iY={year:_t,month:_t,day:_t,hour:_t,minute:_t},nY={year:_t,month:_t,day:_t,hour:_t,minute:_t,second:_t},rY={year:_t,month:pc,day:_t,hour:_t,minute:_t},sY={year:_t,month:pc,day:_t,hour:_t,minute:_t,second:_t},Nve={year:_t,month:pc,day:_t,weekday:pc,hour:_t,minute:_t},oY={year:_t,month:ba,day:_t,hour:_t,minute:_t,timeZoneName:pc},aY={year:_t,month:ba,day:_t,hour:_t,minute:_t,second:_t,timeZoneName:pc},lY={year:_t,month:ba,day:_t,weekday:ba,hour:_t,minute:_t,timeZoneName:ba},cY={year:_t,month:ba,day:_t,weekday:ba,hour:_t,minute:_t,second:_t,timeZoneName:ba};class Tg{get type(){throw new Pd}get name(){throw new Pd}get ianaName(){return this.name}get isUniversal(){throw new Pd}offsetName(t,i){throw new Pd}formatOffset(t,i){throw new Pd}offset(t){throw new Pd}equals(t){throw new Pd}get isValid(){throw new Pd}}let DT=null;class G_ extends Tg{static get instance(){return DT===null&&(DT=new G_),DT}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return vY(t,i,n)}formatOffset(t,i){return C2(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let g9={};function Lve(e){return g9[e]||(g9[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),g9[e]}const zve={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function jve(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,u,p,g,w,E,A]=n;return[p,s,u,g,w,E,A]}function Fve(e,t){const i=e.formatToParts(t),n=[];for(let s=0;s<i.length;s++){const{type:u,value:p}=i[s],g=zve[u];u==="era"?n[g]=p:oi(g)||(n[g]=parseInt(p,10))}return n}let ox={};class Ea extends Tg{static create(t){return ox[t]||(ox[t]=new Ea(t)),ox[t]}static resetCache(){ox={},g9={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Ea.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return vY(t,i,n,this.name)}formatOffset(t,i){return C2(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const n=Lve(this.name);let[s,u,p,g,w,E,A]=n.formatToParts?Fve(n,i):jve(n,i);g==="BC"&&(s=-Math.abs(s)+1);const R=q_({year:s,month:u,day:p,hour:w===24?0:w,minute:E,second:A,millisecond:0});let F=+i;const q=F%1e3;return F-=q>=0?q:1e3+q,(R-F)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Bj={};function Uve(e,t={}){const i=JSON.stringify([e,t]);let n=Bj[i];return n||(n=new Intl.ListFormat(e,t),Bj[i]=n),n}let o$={};function a$(e,t={}){const i=JSON.stringify([e,t]);let n=o$[i];return n||(n=new Intl.DateTimeFormat(e,t),o$[i]=n),n}let l$={};function Vve(e,t={}){const i=JSON.stringify([e,t]);let n=l$[i];return n||(n=new Intl.NumberFormat(e,t),l$[i]=n),n}let c$={};function Gve(e,t={}){const{base:i,...n}=t,s=JSON.stringify([e,n]);let u=c$[s];return u||(u=new Intl.RelativeTimeFormat(e,t),c$[s]=u),u}let xb=null;function Hve(){return xb||(xb=new Intl.DateTimeFormat().resolvedOptions().locale,xb)}let Wj={};function qve(e){let t=Wj[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,Wj[e]=t}return t}function Bve(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let n,s;try{n=a$(e).resolvedOptions(),s=e}catch{const w=e.substring(0,i);n=a$(w).resolvedOptions(),s=w}const{numberingSystem:u,calendar:p}=n;return[s,u,p]}}function Wve(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Jve(e){const t=[];for(let i=1;i<=12;i++){const n=jt.utc(2009,i,1);t.push(e(n))}return t}function Zve(e){const t=[];for(let i=1;i<=7;i++){const n=jt.utc(2016,11,13+i);t.push(e(n))}return t}function ax(e,t,i,n){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):n(t)}function Yve(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Kve{constructor(t,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:u,...p}=n;if(!i||Object.keys(p).length>0){const g={useGrouping:!1,...n};n.padTo>0&&(g.minimumIntegerDigits=n.padTo),this.inf=Vve(t,g)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):uI(t,3);return Mr(i,this.padTo)}}}class Xve{constructor(t,i,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const p=-1*(t.offset/60),g=p>=0?`Etc/GMT+${p}`:`Etc/GMT${p}`;t.offset!==0&&Ea.create(g).valid?(s=g,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const u={...this.opts};u.timeZone=u.timeZone||s,this.dtf=a$(i,u)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:n}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Qve{constructor(t,i,n){this.opts={style:"long",...n},!i&&yY()&&(this.rtf=Gve(t,n))}format(t,i){return this.rtf?this.rtf.format(t,i):Sbe(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const ebe={firstDay:1,minimalDays:4,weekend:[6,7]};class sn{static fromOpts(t){return sn.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,n,s,u=!1){const p=t||lr.defaultLocale,g=p||(u?"en-US":Hve()),w=i||lr.defaultNumberingSystem,E=n||lr.defaultOutputCalendar,A=u$(s)||lr.defaultWeekSettings;return new sn(g,w,E,A,p)}static resetCache(){xb=null,o$={},l$={},c$={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:n,weekSettings:s}={}){return sn.create(t,i,n,s)}constructor(t,i,n,s,u){const[p,g,w]=Bve(t);this.locale=p,this.numberingSystem=i||g||null,this.outputCalendar=n||w||null,this.weekSettings=s,this.intl=Wve(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Yve(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:sn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,u$(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return ax(this,t,xY,()=>{const n=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=Jve(u=>this.extract(u,n,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return ax(this,t,EY,()=>{const n=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=Zve(u=>this.extract(u,n,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return ax(this,void 0,()=>TY,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[jt.utc(2016,11,13,9),jt.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return ax(this,t,MY,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[jt.utc(-40,1,1),jt.utc(2017,1,1)].map(n=>this.extract(n,i,"era"))),this.eraCache[t]})}extract(t,i,n){const s=this.dtFormatter(t,i),u=s.formatToParts(),p=u.find(g=>g.type.toLowerCase()===n);return p?p.value:null}numberFormatter(t={}){return new Kve(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new Xve(t,this.intl,i)}relFormatter(t={}){return new Qve(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Uve(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:gY()?qve(this.locale):ebe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let NT=null;class rs extends Tg{static get utcInstance(){return NT===null&&(NT=new rs(0)),NT}static instance(t){return t===0?rs.utcInstance:new rs(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new rs(B_(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${C2(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${C2(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return C2(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class tbe extends Tg{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function bf(e,t){if(oi(e)||e===null)return t;if(e instanceof Tg)return e;if(abe(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?G_.instance:i==="utc"||i==="gmt"?rs.utcInstance:rs.parseSpecifier(i)||Ea.create(e)}else return Nf(e)?rs.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new tbe(e)}const oI={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},Jj={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ibe=oI.hanidec.replace(/[\[|\]]/g,"").split("");function nbe(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(e[i].search(oI.hanidec)!==-1)t+=ibe.indexOf(e[i]);else for(const s in Jj){const[u,p]=Jj[s];n>=u&&n<=p&&(t+=n-u)}}return parseInt(t,10)}else return t}let Dm={};function rbe(){Dm={}}function Ol({numberingSystem:e},t=""){const i=e||"latn";return Dm[i]||(Dm[i]={}),Dm[i][t]||(Dm[i][t]=new RegExp(`${oI[i]}${t}`)),Dm[i][t]}let Zj=()=>Date.now(),Yj="system",Kj=null,Xj=null,Qj=null,eF=60,tF,iF=null;class lr{static get now(){return Zj}static set now(t){Zj=t}static set defaultZone(t){Yj=t}static get defaultZone(){return bf(Yj,G_.instance)}static get defaultLocale(){return Kj}static set defaultLocale(t){Kj=t}static get defaultNumberingSystem(){return Xj}static set defaultNumberingSystem(t){Xj=t}static get defaultOutputCalendar(){return Qj}static set defaultOutputCalendar(t){Qj=t}static get defaultWeekSettings(){return iF}static set defaultWeekSettings(t){iF=u$(t)}static get twoDigitCutoffYear(){return eF}static set twoDigitCutoffYear(t){eF=t%100}static get throwOnInvalid(){return tF}static set throwOnInvalid(t){tF=t}static resetCaches(){sn.resetCache(),Ea.resetCache(),jt.resetCache(),rbe()}}class ic{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const uY=[0,31,59,90,120,151,181,212,243,273,304,334],hY=[0,31,60,91,121,152,182,213,244,274,305,335];function al(e,t){return new ic("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function aI(e,t,i){const n=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function dY(e,t,i){return i+(Bw(e)?hY:uY)[t-1]}function fY(e,t){const i=Bw(e)?hY:uY,n=i.findIndex(u=>u<t),s=t-i[n];return{month:n+1,day:s}}function lI(e,t){return(e-t+7)%7+1}function M4(e,t=4,i=1){const{year:n,month:s,day:u}=e,p=dY(n,s,u),g=lI(aI(n,s,u),i);let w=Math.floor((p-g+14-t)/7),E;return w<1?(E=n-1,w=dw(E,t,i)):w>dw(n,t,i)?(E=n+1,w=1):E=n,{weekYear:E,weekNumber:w,weekday:g,...W_(e)}}function nF(e,t=4,i=1){const{weekYear:n,weekNumber:s,weekday:u}=e,p=lI(aI(n,1,t),i),g=Ay(n);let w=s*7+u-p-7+t,E;w<1?(E=n-1,w+=Ay(E)):w>g?(E=n+1,w-=Ay(n)):E=n;const{month:A,day:I}=fY(E,w);return{year:E,month:A,day:I,...W_(e)}}function LT(e){const{year:t,month:i,day:n}=e,s=dY(t,i,n);return{year:t,ordinal:s,...W_(e)}}function rF(e){const{year:t,ordinal:i}=e,{month:n,day:s}=fY(t,i);return{year:t,month:n,day:s,...W_(e)}}function sF(e,t){if(!oi(e.localWeekday)||!oi(e.localWeekNumber)||!oi(e.localWeekYear)){if(!oi(e.weekday)||!oi(e.weekNumber)||!oi(e.weekYear))throw new gy("Cannot mix locale-based week fields with ISO-based week fields");return oi(e.localWeekday)||(e.weekday=e.localWeekday),oi(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),oi(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function sbe(e,t=4,i=1){const n=H_(e.weekYear),s=ll(e.weekNumber,1,dw(e.weekYear,t,i)),u=ll(e.weekday,1,7);return n?s?u?!1:al("weekday",e.weekday):al("week",e.weekNumber):al("weekYear",e.weekYear)}function obe(e){const t=H_(e.year),i=ll(e.ordinal,1,Ay(e.year));return t?i?!1:al("ordinal",e.ordinal):al("year",e.year)}function pY(e){const t=H_(e.year),i=ll(e.month,1,12),n=ll(e.day,1,$4(e.year,e.month));return t?i?n?!1:al("day",e.day):al("month",e.month):al("year",e.year)}function mY(e){const{hour:t,minute:i,second:n,millisecond:s}=e,u=ll(t,0,23)||t===24&&i===0&&n===0&&s===0,p=ll(i,0,59),g=ll(n,0,59),w=ll(s,0,999);return u?p?g?w?!1:al("millisecond",s):al("second",n):al("minute",i):al("hour",t)}function oi(e){return typeof e>"u"}function Nf(e){return typeof e=="number"}function H_(e){return typeof e=="number"&&e%1===0}function abe(e){return typeof e=="string"}function lbe(e){return Object.prototype.toString.call(e)==="[object Date]"}function yY(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function gY(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function cbe(e){return Array.isArray(e)?e:[e]}function oF(e,t,i){if(e.length!==0)return e.reduce((n,s)=>{const u=[t(s),s];return n&&i(n[0],u[0])===n[0]?n:u},null)[1]}function ube(e,t){return t.reduce((i,n)=>(i[n]=e[n],i),{})}function ig(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u$(e){if(e==null)return null;if(typeof e!="object")throw new Gs("Week settings must be an object");if(!ll(e.firstDay,1,7)||!ll(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!ll(t,1,7)))throw new Gs("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function ll(e,t,i){return H_(e)&&e>=t&&e<=i}function hbe(e,t){return e-t*Math.floor(e/t)}function Mr(e,t=2){const i=e<0;let n;return i?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function df(e){if(!(oi(e)||e===null||e===""))return parseInt(e,10)}function Vp(e){if(!(oi(e)||e===null||e===""))return parseFloat(e)}function cI(e){if(!(oi(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function uI(e,t,i=!1){const n=10**t;return(i?Math.trunc:Math.round)(e*n)/n}function Bw(e){return e%4===0&&(e%100!==0||e%400===0)}function Ay(e){return Bw(e)?366:365}function $4(e,t){const i=hbe(t-1,12)+1,n=e+(t-i)/12;return i===2?Bw(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function q_(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function aF(e,t,i){return-lI(aI(e,1,t),i)+t-1}function dw(e,t=4,i=1){const n=aF(e,t,i),s=aF(e+1,t,i);return(Ay(e)-n+s)/7}function h$(e){return e>99?e:e>lr.twoDigitCutoffYear?1900+e:2e3+e}function vY(e,t,i,n=null){const s=new Date(e),u={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(u.timeZone=n);const p={timeZoneName:t,...u},g=new Intl.DateTimeFormat(i,p).formatToParts(s).find(w=>w.type.toLowerCase()==="timezonename");return g?g.value:null}function B_(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-n:n;return i*60+s}function bY(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Gs(`Invalid unit value ${e}`);return t}function k4(e,t){const i={};for(const n in e)if(ig(e,n)){const s=e[n];if(s==null)continue;i[t(n)]=bY(s)}return i}function C2(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Mr(i,2)}:${Mr(n,2)}`;case"narrow":return`${s}${i}${n>0?`:${n}`:""}`;case"techie":return`${s}${Mr(i,2)}${Mr(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function W_(e){return ube(e,["hour","minute","second","millisecond"])}const dbe=["January","February","March","April","May","June","July","August","September","October","November","December"],wY=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fbe=["J","F","M","A","M","J","J","A","S","O","N","D"];function xY(e){switch(e){case"narrow":return[...fbe];case"short":return[...wY];case"long":return[...dbe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const SY=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_Y=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pbe=["M","T","W","T","F","S","S"];function EY(e){switch(e){case"narrow":return[...pbe];case"short":return[..._Y];case"long":return[...SY];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const TY=["AM","PM"],mbe=["Before Christ","Anno Domini"],ybe=["BC","AD"],gbe=["B","A"];function MY(e){switch(e){case"narrow":return[...gbe];case"short":return[...ybe];case"long":return[...mbe];default:return null}}function vbe(e){return TY[e.hour<12?0:1]}function bbe(e,t){return EY(t)[e.weekday-1]}function wbe(e,t){return xY(t)[e.month-1]}function xbe(e,t){return MY(t)[e.year<0?0:1]}function Sbe(e,t,i="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},u=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&u){const I=e==="days";switch(t){case 1:return I?"tomorrow":`next ${s[e][0]}`;case-1:return I?"yesterday":`last ${s[e][0]}`;case 0:return I?"today":`this ${s[e][0]}`}}const p=Object.is(t,-0)||t<0,g=Math.abs(t),w=g===1,E=s[e],A=n?w?E[1]:E[2]||E[1]:w?s[e][0]:e;return p?`${g} ${A} ago`:`in ${g} ${A}`}function lF(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const _be={D:T4,DD:qZ,DDD:BZ,DDDD:WZ,t:JZ,tt:ZZ,ttt:YZ,tttt:KZ,T:XZ,TT:QZ,TTT:eY,TTTT:tY,f:iY,ff:rY,fff:oY,ffff:lY,F:nY,FF:sY,FFF:aY,FFFF:cY};class Bs{static create(t,i={}){return new Bs(t,i)}static parseFormat(t){let i=null,n="",s=!1;const u=[];for(let p=0;p<t.length;p++){const g=t.charAt(p);g==="'"?(n.length>0&&u.push({literal:s||/^\s+$/.test(n),val:n}),i=null,n="",s=!s):s||g===i?n+=g:(n.length>0&&u.push({literal:/^\s+$/.test(n),val:n}),n=g,i=g)}return n.length>0&&u.push({literal:s||/^\s+$/.test(n),val:n}),u}static macroTokenToFormatOpts(t){return _be[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Mr(t,i);const n={...this.opts};return i>0&&(n.padTo=i),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,i){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",u=(F,q)=>this.loc.extract(t,F,q),p=F=>t.isOffsetFixed&&t.offset===0&&F.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,F.format):"",g=()=>n?vbe(t):u({hour:"numeric",hourCycle:"h12"},"dayperiod"),w=(F,q)=>n?wbe(t,F):u(q?{month:F}:{month:F,day:"numeric"},"month"),E=(F,q)=>n?bbe(t,F):u(q?{weekday:F}:{weekday:F,month:"long",day:"numeric"},"weekday"),A=F=>{const q=Bs.macroTokenToFormatOpts(F);return q?this.formatWithSystemDefault(t,q):F},I=F=>n?xbe(t,F):u({era:F},"era"),R=F=>{switch(F){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return p({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return p({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return p({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return g();case"d":return s?u({day:"numeric"},"day"):this.num(t.day);case"dd":return s?u({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return E("short",!0);case"cccc":return E("long",!0);case"ccccc":return E("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return E("short",!1);case"EEEE":return E("long",!1);case"EEEEE":return E("narrow",!1);case"L":return s?u({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?u({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return w("short",!0);case"LLLL":return w("long",!0);case"LLLLL":return w("narrow",!0);case"M":return s?u({month:"numeric"},"month"):this.num(t.month);case"MM":return s?u({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return w("short",!1);case"MMMM":return w("long",!1);case"MMMMM":return w("narrow",!1);case"y":return s?u({year:"numeric"},"year"):this.num(t.year);case"yy":return s?u({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?u({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?u({year:"numeric"},"year"):this.num(t.year,6);case"G":return I("short");case"GG":return I("long");case"GGGGG":return I("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return A(F)}};return lF(Bs.parseFormat(i),R)}formatDurationFromString(t,i){const n=w=>{switch(w[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=w=>E=>{const A=n(E);return A?this.num(w.get(A),E.length):E},u=Bs.parseFormat(i),p=u.reduce((w,{literal:E,val:A})=>E?w:w.concat(A),[]),g=t.shiftTo(...p.map(n).filter(w=>w));return lF(u,s(g))}}const $Y=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Mg(...e){const t=e.reduce((i,n)=>i+n.source,"");return RegExp(`^${t}$`)}function $g(...e){return t=>e.reduce(([i,n,s],u)=>{const[p,g,w]=u(t,s);return[{...i,...p},g||n,w]},[{},null,1]).slice(0,2)}function kg(e,...t){if(e==null)return[null,null];for(const[i,n]of t){const s=i.exec(e);if(s)return n(s)}return[null,null]}function kY(...e){return(t,i)=>{const n={};let s;for(s=0;s<e.length;s++)n[e[s]]=df(t[i+s]);return[n,null,i+s]}}const CY=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ebe=`(?:${CY.source}?(?:\\[(${$Y.source})\\])?)?`,hI=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,AY=RegExp(`${hI.source}${Ebe}`),dI=RegExp(`(?:T${AY.source})?`),Tbe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mbe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,$be=/(\d{4})-?(\d{3})/,kbe=kY("weekYear","weekNumber","weekDay"),Cbe=kY("year","ordinal"),Abe=/(\d{4})-(\d\d)-(\d\d)/,OY=RegExp(`${hI.source} ?(?:${CY.source}|(${$Y.source}))?`),Obe=RegExp(`(?: ${OY.source})?`);function Oy(e,t,i){const n=e[t];return oi(n)?i:df(n)}function Ibe(e,t){return[{year:Oy(e,t),month:Oy(e,t+1,1),day:Oy(e,t+2,1)},null,t+3]}function Cg(e,t){return[{hours:Oy(e,t,0),minutes:Oy(e,t+1,0),seconds:Oy(e,t+2,0),milliseconds:cI(e[t+3])},null,t+4]}function Ww(e,t){const i=!e[t]&&!e[t+1],n=B_(e[t+1],e[t+2]),s=i?null:rs.instance(n);return[{},s,t+3]}function Jw(e,t){const i=e[t]?Ea.create(e[t]):null;return[{},i,t+1]}const Pbe=RegExp(`^T?${hI.source}$`),Rbe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Dbe(e){const[t,i,n,s,u,p,g,w,E]=e,A=t[0]==="-",I=w&&w[0]==="-",R=(F,q=!1)=>F!==void 0&&(q||F&&A)?-F:F;return[{years:R(Vp(i)),months:R(Vp(n)),weeks:R(Vp(s)),days:R(Vp(u)),hours:R(Vp(p)),minutes:R(Vp(g)),seconds:R(Vp(w),w==="-0"),milliseconds:R(cI(E),I)}]}const Nbe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fI(e,t,i,n,s,u,p){const g={year:t.length===2?h$(df(t)):df(t),month:wY.indexOf(i)+1,day:df(n),hour:df(s),minute:df(u)};return p&&(g.second=df(p)),e&&(g.weekday=e.length>3?SY.indexOf(e)+1:_Y.indexOf(e)+1),g}const Lbe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zbe(e){const[,t,i,n,s,u,p,g,w,E,A,I]=e,R=fI(t,s,n,i,u,p,g);let F;return w?F=Nbe[w]:E?F=0:F=B_(A,I),[R,new rs(F)]}function jbe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Fbe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ube=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Vbe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function cF(e){const[,t,i,n,s,u,p,g]=e;return[fI(t,s,n,i,u,p,g),rs.utcInstance]}function Gbe(e){const[,t,i,n,s,u,p,g]=e;return[fI(t,g,i,n,s,u,p),rs.utcInstance]}const Hbe=Mg(Tbe,dI),qbe=Mg(Mbe,dI),Bbe=Mg($be,dI),Wbe=Mg(AY),IY=$g(Ibe,Cg,Ww,Jw),Jbe=$g(kbe,Cg,Ww,Jw),Zbe=$g(Cbe,Cg,Ww,Jw),Ybe=$g(Cg,Ww,Jw);function Kbe(e){return kg(e,[Hbe,IY],[qbe,Jbe],[Bbe,Zbe],[Wbe,Ybe])}function Xbe(e){return kg(jbe(e),[Lbe,zbe])}function Qbe(e){return kg(e,[Fbe,cF],[Ube,cF],[Vbe,Gbe])}function e2e(e){return kg(e,[Rbe,Dbe])}const t2e=$g(Cg);function i2e(e){return kg(e,[Pbe,t2e])}const n2e=Mg(Abe,Obe),r2e=Mg(OY),s2e=$g(Cg,Ww,Jw);function o2e(e){return kg(e,[n2e,IY],[r2e,s2e])}const uF="Invalid Duration",PY={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},a2e={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...PY},Ga=146097/400,wm=146097/4800,l2e={years:{quarters:4,months:12,weeks:Ga/7,days:Ga,hours:Ga*24,minutes:Ga*24*60,seconds:Ga*24*60*60,milliseconds:Ga*24*60*60*1e3},quarters:{months:3,weeks:Ga/28,days:Ga/4,hours:Ga*24/4,minutes:Ga*24*60/4,seconds:Ga*24*60*60/4,milliseconds:Ga*24*60*60*1e3/4},months:{weeks:wm/7,days:wm,hours:wm*24,minutes:wm*24*60,seconds:wm*24*60*60,milliseconds:wm*24*60*60*1e3},...PY},F0=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],c2e=F0.slice(0).reverse();function Rd(e,t,i=!1){const n={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new zi(n)}function RY(e,t){let i=t.milliseconds??0;for(const n of c2e.slice(1))t[n]&&(i+=t[n]*e[n].milliseconds);return i}function hF(e,t){const i=RY(e,t)<0?-1:1;F0.reduceRight((n,s)=>{if(oi(t[s]))return n;if(n){const u=t[n]*i,p=e[s][n],g=Math.floor(u/p);t[s]+=g*i,t[n]-=g*p*i}return s},null),F0.reduce((n,s)=>{if(oi(t[s]))return n;if(n){const u=t[n]%1;t[n]-=u,t[s]+=u*e[n][s]}return s},null)}function u2e(e){const t={};for(const[i,n]of Object.entries(e))n!==0&&(t[i]=n);return t}class zi{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let n=i?l2e:a2e;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||sn.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,i){return zi.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Gs(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new zi({values:k4(t,zi.normalizeUnit),loc:sn.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(Nf(t))return zi.fromMillis(t);if(zi.isDuration(t))return t;if(typeof t=="object")return zi.fromObject(t);throw new Gs(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[n]=e2e(t);return n?zi.fromObject(n,i):zi.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[n]=i2e(t);return n?zi.fromObject(n,i):zi.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Gs("need to specify a reason the Duration is invalid");const n=t instanceof ic?t:new ic(t,i);if(lr.throwOnInvalid)throw new Rve(n);return new zi({invalid:n})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new HZ(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const n={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Bs.create(this.loc,n).formatDurationFromString(this,t):uF}toHuman(t={}){if(!this.isValid)return uF;const i=F0.map(n=>{const s=this.values[n];return oi(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=uI(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},jt.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?RY(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=zi.fromDurationLike(t),n={};for(const s of F0)(ig(i.values,s)||ig(this.values,s))&&(n[s]=i.get(s)+this.get(s));return Rd(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const i=zi.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const n of Object.keys(this.values))i[n]=bY(t(this.values[n],n));return Rd(this,{values:i},!0)}get(t){return this[zi.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...k4(t,zi.normalizeUnit)};return Rd(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:n,matrix:s}={}){const p={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:n};return Rd(this,p)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return hF(this.matrix,t),Rd(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=u2e(this.normalize().shiftToAll().toObject());return Rd(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(p=>zi.normalizeUnit(p));const i={},n={},s=this.toObject();let u;for(const p of F0)if(t.indexOf(p)>=0){u=p;let g=0;for(const E in n)g+=this.matrix[E][p]*n[E],n[E]=0;Nf(s[p])&&(g+=s[p]);const w=Math.trunc(g);i[p]=w,n[p]=(g*1e3-w*1e3)/1e3}else Nf(s[p])&&(n[p]=s[p]);for(const p in n)n[p]!==0&&(i[u]+=p===u?n[p]:n[p]/this.matrix[u][p]);return hF(this.matrix,i),Rd(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Rd(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of F0)if(!i(this.values[n],t.values[n]))return!1;return!0}}const xm="Invalid Interval";function h2e(e,t){return!e||!e.isValid?ar.invalid("missing or invalid start"):!t||!t.isValid?ar.invalid("missing or invalid end"):t<e?ar.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class ar{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Gs("need to specify a reason the Interval is invalid");const n=t instanceof ic?t:new ic(t,i);if(lr.throwOnInvalid)throw new Pve(n);return new ar({invalid:n})}static fromDateTimes(t,i){const n=Kv(t),s=Kv(i),u=h2e(n,s);return u??new ar({start:n,end:s})}static after(t,i){const n=zi.fromDurationLike(i),s=Kv(t);return ar.fromDateTimes(s,s.plus(n))}static before(t,i){const n=zi.fromDurationLike(i),s=Kv(t);return ar.fromDateTimes(s.minus(n),s)}static fromISO(t,i){const[n,s]=(t||"").split("/",2);if(n&&s){let u,p;try{u=jt.fromISO(n,i),p=u.isValid}catch{p=!1}let g,w;try{g=jt.fromISO(s,i),w=g.isValid}catch{w=!1}if(p&&w)return ar.fromDateTimes(u,g);if(p){const E=zi.fromISO(s,i);if(E.isValid)return ar.after(u,E)}else if(w){const E=zi.fromISO(n,i);if(E.isValid)return ar.before(g,E)}}return ar.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const n=this.start.startOf(t,i);let s;return i!=null&&i.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(n,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?ar.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Kv).filter(p=>this.contains(p)).sort((p,g)=>p.toMillis()-g.toMillis()),n=[];let{s}=this,u=0;for(;s<this.e;){const p=i[u]||this.e,g=+p>+this.e?this.e:p;n.push(ar.fromDateTimes(s,g)),s=g,u+=1}return n}splitBy(t){const i=zi.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:n}=this,s=1,u;const p=[];for(;n<this.e;){const g=this.start.plus(i.mapUnits(w=>w*s));u=+g>+this.e?this.e:g,p.push(ar.fromDateTimes(n,u)),n=u,s+=1}return p}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return i>=n?null:ar.fromDateTimes(i,n)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return ar.fromDateTimes(i,n)}static merge(t){const[i,n]=t.sort((s,u)=>s.s-u.s).reduce(([s,u],p)=>u?u.overlaps(p)||u.abutsStart(p)?[s,u.union(p)]:[s.concat([u]),p]:[s,p],[[],null]);return n&&i.push(n),i}static xor(t){let i=null,n=0;const s=[],u=t.map(w=>[{time:w.s,type:"s"},{time:w.e,type:"e"}]),p=Array.prototype.concat(...u),g=p.sort((w,E)=>w.time-E.time);for(const w of g)n+=w.type==="s"?1:-1,n===1?i=w.time:(i&&+i!=+w.time&&s.push(ar.fromDateTimes(i,w.time)),i=null);return ar.merge(s)}difference(...t){return ar.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:xm}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=T4,i={}){return this.isValid?Bs.create(this.s.loc.clone(i),t).formatInterval(this):xm}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:xm}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:xm}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:xm}toFormat(t,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:xm}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):zi.invalid(this.invalidReason)}mapEndpoints(t){return ar.fromDateTimes(t(this.s),t(this.e))}}class lx{static hasDST(t=lr.defaultZone){const i=jt.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return Ea.isValidZone(t)}static normalizeZone(t){return bf(t,lr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||sn.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||sn.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||sn.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null,outputCalendar:u="gregory"}={}){return(s||sn.create(i,n,u)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null,outputCalendar:u="gregory"}={}){return(s||sn.create(i,n,u)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null}={}){return(s||sn.create(i,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null}={}){return(s||sn.create(i,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return sn.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return sn.create(i,null,"gregory").eras(t)}static features(){return{relative:yY(),localeWeek:gY()}}}function dF(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(zi.fromMillis(n).as("days"))}function d2e(e,t,i){const n=[["years",(w,E)=>E.year-w.year],["quarters",(w,E)=>E.quarter-w.quarter+(E.year-w.year)*4],["months",(w,E)=>E.month-w.month+(E.year-w.year)*12],["weeks",(w,E)=>{const A=dF(w,E);return(A-A%7)/7}],["days",dF]],s={},u=e;let p,g;for(const[w,E]of n)i.indexOf(w)>=0&&(p=w,s[w]=E(e,t),g=u.plus(s),g>t?(s[w]--,e=u.plus(s),e>t&&(g=e,s[w]--,e=u.plus(s))):e=g);return[e,s,g,p]}function f2e(e,t,i,n){let[s,u,p,g]=d2e(e,t,i);const w=t-s,E=i.filter(I=>["hours","minutes","seconds","milliseconds"].indexOf(I)>=0);E.length===0&&(p<t&&(p=s.plus({[g]:1})),p!==s&&(u[g]=(u[g]||0)+w/(p-s)));const A=zi.fromObject(u,n);return E.length>0?zi.fromMillis(w,n).shiftTo(...E).plus(A):A}const p2e="missing Intl.DateTimeFormat.formatToParts support";function Yi(e,t=i=>i){return{regex:e,deser:([i])=>t(nbe(i))}}const m2e="",DY=`[ ${m2e}]`,NY=new RegExp(DY,"g");function y2e(e){return e.replace(/\./g,"\\.?").replace(NY,DY)}function fF(e){return e.replace(/\./g,"").replace(NY," ").toLowerCase()}function Il(e,t){return e===null?null:{regex:RegExp(e.map(y2e).join("|")),deser:([i])=>e.findIndex(n=>fF(i)===fF(n))+t}}function pF(e,t){return{regex:e,deser:([,i,n])=>B_(i,n),groups:t}}function cx(e){return{regex:e,deser:([t])=>t}}function g2e(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function v2e(e,t){const i=Ol(t),n=Ol(t,"{2}"),s=Ol(t,"{3}"),u=Ol(t,"{4}"),p=Ol(t,"{6}"),g=Ol(t,"{1,2}"),w=Ol(t,"{1,3}"),E=Ol(t,"{1,6}"),A=Ol(t,"{1,9}"),I=Ol(t,"{2,4}"),R=Ol(t,"{4,6}"),F=K=>({regex:RegExp(g2e(K.val)),deser:([te])=>te,literal:!0}),B=(K=>{if(e.literal)return F(K);switch(K.val){case"G":return Il(t.eras("short"),0);case"GG":return Il(t.eras("long"),0);case"y":return Yi(E);case"yy":return Yi(I,h$);case"yyyy":return Yi(u);case"yyyyy":return Yi(R);case"yyyyyy":return Yi(p);case"M":return Yi(g);case"MM":return Yi(n);case"MMM":return Il(t.months("short",!0),1);case"MMMM":return Il(t.months("long",!0),1);case"L":return Yi(g);case"LL":return Yi(n);case"LLL":return Il(t.months("short",!1),1);case"LLLL":return Il(t.months("long",!1),1);case"d":return Yi(g);case"dd":return Yi(n);case"o":return Yi(w);case"ooo":return Yi(s);case"HH":return Yi(n);case"H":return Yi(g);case"hh":return Yi(n);case"h":return Yi(g);case"mm":return Yi(n);case"m":return Yi(g);case"q":return Yi(g);case"qq":return Yi(n);case"s":return Yi(g);case"ss":return Yi(n);case"S":return Yi(w);case"SSS":return Yi(s);case"u":return cx(A);case"uu":return cx(g);case"uuu":return Yi(i);case"a":return Il(t.meridiems(),0);case"kkkk":return Yi(u);case"kk":return Yi(I,h$);case"W":return Yi(g);case"WW":return Yi(n);case"E":case"c":return Yi(i);case"EEE":return Il(t.weekdays("short",!1),1);case"EEEE":return Il(t.weekdays("long",!1),1);case"ccc":return Il(t.weekdays("short",!0),1);case"cccc":return Il(t.weekdays("long",!0),1);case"Z":case"ZZ":return pF(new RegExp(`([+-]${g.source})(?::(${n.source}))?`),2);case"ZZZ":return pF(new RegExp(`([+-]${g.source})(${n.source})?`),2);case"z":return cx(/[a-z_+-/]{1,256}?/i);case" ":return cx(/[^\S\n\r]/);default:return F(K)}})(e)||{invalidReason:p2e};return B.token=e,B}const b2e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function w2e(e,t,i){const{type:n,value:s}=e;if(n==="literal"){const w=/^\s+$/.test(s);return{literal:!w,val:w?" ":s}}const u=t[n];let p=n;n==="hour"&&(t.hour12!=null?p=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?p="hour12":p="hour24":p=i.hour12?"hour12":"hour24");let g=b2e[p];if(typeof g=="object"&&(g=g[u]),g)return{literal:!1,val:g}}function x2e(e){return[`^${e.map(i=>i.regex).reduce((i,n)=>`${i}(${n.source})`,"")}$`,e]}function S2e(e,t,i){const n=e.match(t);if(n){const s={};let u=1;for(const p in i)if(ig(i,p)){const g=i[p],w=g.groups?g.groups+1:1;!g.literal&&g.token&&(s[g.token.val[0]]=g.deser(n.slice(u,u+w))),u+=w}return[n,s]}else return[n,{}]}function _2e(e){const t=u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,n;return oi(e.z)||(i=Ea.create(e.z)),oi(e.Z)||(i||(i=new rs(e.Z)),n=e.Z),oi(e.q)||(e.M=(e.q-1)*3+1),oi(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),oi(e.u)||(e.S=cI(e.u)),[Object.keys(e).reduce((u,p)=>{const g=t(p);return g&&(u[g]=e[p]),u},{}),i,n]}let zT=null;function E2e(){return zT||(zT=jt.fromMillis(1555555555555)),zT}function T2e(e,t){if(e.literal)return e;const i=Bs.macroTokenToFormatOpts(e.val),n=FY(i,t);return n==null||n.includes(void 0)?e:n}function LY(e,t){return Array.prototype.concat(...e.map(i=>T2e(i,t)))}class zY{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=LY(Bs.parseFormat(i),t),this.units=this.tokens.map(n=>v2e(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=x2e(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[i,n]=S2e(t,this.regex,this.handlers),[s,u,p]=n?_2e(n):[null,null,void 0];if(ig(n,"a")&&ig(n,"H"))throw new gy("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:n,result:s,zone:u,specificOffset:p}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function jY(e,t,i){return new zY(e,i).explainFromTokens(t)}function M2e(e,t,i){const{result:n,zone:s,specificOffset:u,invalidReason:p}=jY(e,t,i);return[n,s,u,p]}function FY(e,t){if(!e)return null;const n=Bs.create(t,e).dtFormatter(E2e()),s=n.formatToParts(),u=n.resolvedOptions();return s.map(p=>w2e(p,e,u))}const jT="Invalid DateTime",$2e=864e13;function Sb(e){return new ic("unsupported zone",`the zone "${e.name}" is not supported`)}function FT(e){return e.weekData===null&&(e.weekData=M4(e.c)),e.weekData}function UT(e){return e.localWeekData===null&&(e.localWeekData=M4(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Gp(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new jt({...i,...t,old:i})}function UY(e,t,i){let n=e-t*60*1e3;const s=i.offset(n);if(t===s)return[n,t];n-=(s-t)*60*1e3;const u=i.offset(n);return s===u?[n,s]:[e-Math.min(s,u)*60*1e3,Math.max(s,u)]}function ux(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function v9(e,t,i){return UY(q_(e),t,i)}function mF(e,t){const i=e.o,n=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,u={...e.c,year:n,month:s,day:Math.min(e.c.day,$4(n,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},p=zi.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),g=q_(u);let[w,E]=UY(g,i,e.zone);return p!==0&&(w+=p,E=e.zone.offset(w)),{ts:w,o:E}}function Sm(e,t,i,n,s,u){const{setZone:p,zone:g}=i;if(e&&Object.keys(e).length!==0||t){const w=t||g,E=jt.fromObject(e,{...i,zone:w,specificOffset:u});return p?E:E.setZone(g)}else return jt.invalid(new ic("unparsable",`the input "${s}" can't be parsed as ${n}`))}function hx(e,t,i=!0){return e.isValid?Bs.create(sn.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function VT(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=Mr(e.c.year,i?6:4),t?(n+="-",n+=Mr(e.c.month),n+="-",n+=Mr(e.c.day)):(n+=Mr(e.c.month),n+=Mr(e.c.day)),n}function yF(e,t,i,n,s,u){let p=Mr(e.c.hour);return t?(p+=":",p+=Mr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(p+=":")):p+=Mr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(p+=Mr(e.c.second),(e.c.millisecond!==0||!n)&&(p+=".",p+=Mr(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!u?p+="Z":e.o<0?(p+="-",p+=Mr(Math.trunc(-e.o/60)),p+=":",p+=Mr(Math.trunc(-e.o%60))):(p+="+",p+=Mr(Math.trunc(e.o/60)),p+=":",p+=Mr(Math.trunc(e.o%60)))),u&&(p+="["+e.zone.ianaName+"]"),p}const VY={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},k2e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},C2e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},GY=["year","month","day","hour","minute","second","millisecond"],A2e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],O2e=["year","ordinal","hour","minute","second","millisecond"];function I2e(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new HZ(e);return t}function gF(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return I2e(e)}}function P2e(e){return w9[e]||(b9===void 0&&(b9=lr.now()),w9[e]=e.offset(b9)),w9[e]}function vF(e,t){const i=bf(t.zone,lr.defaultZone);if(!i.isValid)return jt.invalid(Sb(i));const n=sn.fromObject(t);let s,u;if(oi(e.year))s=lr.now();else{for(const w of GY)oi(e[w])&&(e[w]=VY[w]);const p=pY(e)||mY(e);if(p)return jt.invalid(p);const g=P2e(i);[s,u]=v9(e,g,i)}return new jt({ts:s,zone:i,loc:n,o:u})}function bF(e,t,i){const n=oi(i.round)?!0:i.round,s=(p,g)=>(p=uI(p,n||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(p,g)),u=p=>i.calendary?t.hasSame(e,p)?0:t.startOf(p).diff(e.startOf(p),p).get(p):t.diff(e,p).get(p);if(i.unit)return s(u(i.unit),i.unit);for(const p of i.units){const g=u(p);if(Math.abs(g)>=1)return s(g,p)}return s(e>t?-0:0,i.units[i.units.length-1])}function wF(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let b9,w9={};class jt{constructor(t){const i=t.zone||lr.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new ic("invalid input"):null)||(i.isValid?null:Sb(i));this.ts=oi(t.ts)?lr.now():t.ts;let s=null,u=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,u]=[t.old.c,t.old.o];else{const g=Nf(t.o)&&!t.old?t.o:i.offset(this.ts);s=ux(this.ts,g),n=Number.isNaN(s.year)?new ic("invalid input"):null,s=n?null:s,u=n?null:g}this._zone=i,this.loc=t.loc||sn.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=u,this.isLuxonDateTime=!0}static now(){return new jt({})}static local(){const[t,i]=wF(arguments),[n,s,u,p,g,w,E]=i;return vF({year:n,month:s,day:u,hour:p,minute:g,second:w,millisecond:E},t)}static utc(){const[t,i]=wF(arguments),[n,s,u,p,g,w,E]=i;return t.zone=rs.utcInstance,vF({year:n,month:s,day:u,hour:p,minute:g,second:w,millisecond:E},t)}static fromJSDate(t,i={}){const n=lbe(t)?t.valueOf():NaN;if(Number.isNaN(n))return jt.invalid("invalid input");const s=bf(i.zone,lr.defaultZone);return s.isValid?new jt({ts:n,zone:s,loc:sn.fromObject(i)}):jt.invalid(Sb(s))}static fromMillis(t,i={}){if(Nf(t))return t<-864e13||t>$2e?jt.invalid("Timestamp out of range"):new jt({ts:t,zone:bf(i.zone,lr.defaultZone),loc:sn.fromObject(i)});throw new Gs(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(Nf(t))return new jt({ts:t*1e3,zone:bf(i.zone,lr.defaultZone),loc:sn.fromObject(i)});throw new Gs("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const n=bf(i.zone,lr.defaultZone);if(!n.isValid)return jt.invalid(Sb(n));const s=sn.fromObject(i),u=k4(t,gF),{minDaysInFirstWeek:p,startOfWeek:g}=sF(u,s),w=lr.now(),E=oi(i.specificOffset)?n.offset(w):i.specificOffset,A=!oi(u.ordinal),I=!oi(u.year),R=!oi(u.month)||!oi(u.day),F=I||R,q=u.weekYear||u.weekNumber;if((F||A)&&q)throw new gy("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(R&&A)throw new gy("Can't mix ordinal dates with month/day");const B=q||u.weekday&&!F;let K,te,ce=ux(w,E);B?(K=A2e,te=k2e,ce=M4(ce,p,g)):A?(K=O2e,te=C2e,ce=LT(ce)):(K=GY,te=VY);let ye=!1;for(const He of K){const nt=u[He];oi(nt)?ye?u[He]=te[He]:u[He]=ce[He]:ye=!0}const _e=B?sbe(u,p,g):A?obe(u):pY(u),we=_e||mY(u);if(we)return jt.invalid(we);const xe=B?nF(u,p,g):A?rF(u):u,[pe,Ze]=v9(xe,E,n),Fe=new jt({ts:pe,zone:n,o:Ze,loc:s});return u.weekday&&F&&t.weekday!==Fe.weekday?jt.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${Fe.toISO()}`):Fe.isValid?Fe:jt.invalid(Fe.invalid)}static fromISO(t,i={}){const[n,s]=Kbe(t);return Sm(n,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[n,s]=Xbe(t);return Sm(n,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[n,s]=Qbe(t);return Sm(n,s,i,"HTTP",i)}static fromFormat(t,i,n={}){if(oi(t)||oi(i))throw new Gs("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:u=null}=n,p=sn.fromOpts({locale:s,numberingSystem:u,defaultToEN:!0}),[g,w,E,A]=M2e(p,t,i);return A?jt.invalid(A):Sm(g,w,n,`format ${i}`,t,E)}static fromString(t,i,n={}){return jt.fromFormat(t,i,n)}static fromSQL(t,i={}){const[n,s]=o2e(t);return Sm(n,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Gs("need to specify a reason the DateTime is invalid");const n=t instanceof ic?t:new ic(t,i);if(lr.throwOnInvalid)throw new Ive(n);return new jt({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const n=FY(t,sn.fromObject(i));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return LY(Bs.parseFormat(t),sn.fromObject(i)).map(s=>s.val).join("")}static resetCache(){b9=void 0,w9={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?FT(this).weekYear:NaN}get weekNumber(){return this.isValid?FT(this).weekNumber:NaN}get weekday(){return this.isValid?FT(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?UT(this).weekday:NaN}get localWeekNumber(){return this.isValid?UT(this).weekNumber:NaN}get localWeekYear(){return this.isValid?UT(this).weekYear:NaN}get ordinal(){return this.isValid?LT(this.c).ordinal:NaN}get monthShort(){return this.isValid?lx.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?lx.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?lx.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?lx.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,n=q_(this.c),s=this.zone.offset(n-t),u=this.zone.offset(n+t),p=this.zone.offset(n-s*i),g=this.zone.offset(n-u*i);if(p===g)return[this];const w=n-p*i,E=n-g*i,A=ux(w,p),I=ux(E,g);return A.hour===I.hour&&A.minute===I.minute&&A.second===I.second&&A.millisecond===I.millisecond?[Gp(this,{ts:w}),Gp(this,{ts:E})]:[this]}get isInLeapYear(){return Bw(this.year)}get daysInMonth(){return $4(this.year,this.month)}get daysInYear(){return this.isValid?Ay(this.year):NaN}get weeksInWeekYear(){return this.isValid?dw(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?dw(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:n,calendar:s}=Bs.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(rs.instance(t),i)}toLocal(){return this.setZone(lr.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if(t=bf(t,lr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||n){const u=t.offset(this.ts),p=this.toObject();[s]=v9(p,u,t)}return Gp(this,{ts:s,zone:t})}else return jt.invalid(Sb(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:n}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:n});return Gp(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=k4(t,gF),{minDaysInFirstWeek:n,startOfWeek:s}=sF(i,this.loc),u=!oi(i.weekYear)||!oi(i.weekNumber)||!oi(i.weekday),p=!oi(i.ordinal),g=!oi(i.year),w=!oi(i.month)||!oi(i.day),E=g||w,A=i.weekYear||i.weekNumber;if((E||p)&&A)throw new gy("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&p)throw new gy("Can't mix ordinal dates with month/day");let I;u?I=nF({...M4(this.c,n,s),...i},n,s):oi(i.ordinal)?(I={...this.toObject(),...i},oi(i.day)&&(I.day=Math.min($4(I.year,I.month),I.day))):I=rF({...LT(this.c),...i});const[R,F]=v9(I,this.o,this.zone);return Gp(this,{ts:R,o:F})}plus(t){if(!this.isValid)return this;const i=zi.fromDurationLike(t);return Gp(this,mF(this,i))}minus(t){if(!this.isValid)return this;const i=zi.fromDurationLike(t).negate();return Gp(this,mF(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const n={},s=zi.normalizeUnit(t);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(i){const u=this.loc.getStartOfWeek(),{weekday:p}=this;p<u&&(n.weekNumber=this.weekNumber-1),n.weekday=u}else n.weekday=1;if(s==="quarters"){const u=Math.ceil(this.month/3);n.month=(u-1)*3+1}return this.set(n)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Bs.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):jT}toLocaleString(t=T4,i={}){return this.isValid?Bs.create(this.loc.clone(i),t).formatDateTime(this):jT}toLocaleParts(t={}){return this.isValid?Bs.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:u=!1}={}){if(!this.isValid)return null;const p=t==="extended";let g=VT(this,p);return g+="T",g+=yF(this,p,i,n,s,u),g}toISODate({format:t="extended"}={}){return this.isValid?VT(this,t==="extended"):null}toISOWeekDate(){return hx(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:u=!1,format:p="extended"}={}){return this.isValid?(s?"T":"")+yF(this,p==="extended",i,t,n,u):null}toRFC2822(){return hx(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return hx(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?VT(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(n&&(s+=" "),i?s+="z":t&&(s+="ZZ")),hx(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():jT}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",n={}){if(!this.isValid||!t.isValid)return zi.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},u=cbe(i).map(zi.normalizeUnit),p=t.valueOf()>this.valueOf(),g=p?this:t,w=p?t:this,E=f2e(g,w,u,s);return p?E.negate():E}diffNow(t="milliseconds",i={}){return this.diff(jt.now(),t,i)}until(t){return this.isValid?ar.fromDateTimes(this,t):this}hasSame(t,i,n){if(!this.isValid)return!1;const s=t.valueOf(),u=this.setZone(t.zone,{keepLocalTime:!0});return u.startOf(i,n)<=s&&s<=u.endOf(i,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||jt.fromObject({},{zone:this.zone}),n=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],u=t.unit;return Array.isArray(t.unit)&&(s=t.unit,u=void 0),bF(i,this.plus(n),{...t,numeric:"always",units:s,unit:u})}toRelativeCalendar(t={}){return this.isValid?bF(t.base||jt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(jt.isDateTime))throw new Gs("min requires all arguments be DateTimes");return oF(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(jt.isDateTime))throw new Gs("max requires all arguments be DateTimes");return oF(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,n={}){const{locale:s=null,numberingSystem:u=null}=n,p=sn.fromOpts({locale:s,numberingSystem:u,defaultToEN:!0});return jY(p,t,i)}static fromStringExplain(t,i,n={}){return jt.fromFormatExplain(t,i,n)}static buildFormatParser(t,i={}){const{locale:n=null,numberingSystem:s=null}=i,u=sn.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new zY(u,t)}static fromFormatParser(t,i,n={}){if(oi(t)||oi(i))throw new Gs("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:u=null}=n,p=sn.fromOpts({locale:s,numberingSystem:u,defaultToEN:!0});if(!p.equals(i.locale))throw new Gs(`fromFormatParser called with a locale of ${p}, but the format parser was created for ${i.locale}`);const{result:g,zone:w,specificOffset:E,invalidReason:A}=i.explainFromTokens(t);return A?jt.invalid(A):Sm(g,w,n,`format ${i.format}`,t,E)}static get DATE_SHORT(){return T4}static get DATE_MED(){return qZ}static get DATE_MED_WITH_WEEKDAY(){return Dve}static get DATE_FULL(){return BZ}static get DATE_HUGE(){return WZ}static get TIME_SIMPLE(){return JZ}static get TIME_WITH_SECONDS(){return ZZ}static get TIME_WITH_SHORT_OFFSET(){return YZ}static get TIME_WITH_LONG_OFFSET(){return KZ}static get TIME_24_SIMPLE(){return XZ}static get TIME_24_WITH_SECONDS(){return QZ}static get TIME_24_WITH_SHORT_OFFSET(){return eY}static get TIME_24_WITH_LONG_OFFSET(){return tY}static get DATETIME_SHORT(){return iY}static get DATETIME_SHORT_WITH_SECONDS(){return nY}static get DATETIME_MED(){return rY}static get DATETIME_MED_WITH_SECONDS(){return sY}static get DATETIME_MED_WITH_WEEKDAY(){return Nve}static get DATETIME_FULL(){return oY}static get DATETIME_FULL_WITH_SECONDS(){return aY}static get DATETIME_HUGE(){return lY}static get DATETIME_HUGE_WITH_SECONDS(){return cY}}function Kv(e){if(jt.isDateTime(e))return e;if(e&&e.valueOf&&Nf(e.valueOf()))return jt.fromJSDate(e);if(e&&typeof e=="object")return jt.fromObject(e);throw new Gs(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Ph="system",p1="unknown",mu="UTC",R2e=Intl.DateTimeFormat().resolvedOptions().timeZone,D2e="shortOffset";function N2e(e){return"timeZoneIANA"in e}function L2e(e){return e.startsWith("UTC")}function C4(e,t=!1){return{json:{read:{source:e,reader:(i,n)=>n[e]?x9(n[e]):null},write:!!t&&{allowNull:!0,writer(i,n){n[e]=i?z2e(i):null}}}}}function x9(e,t=Ph){return e?N2e(e)?e.timeZoneIANA:j2e(e,t):t}function z2e(e){return{timeZoneIANA:e}}function j2e(e,t=Ph){if(!e||!qj.has(e.timeZone))return t;const i=qj.get(e.timeZone);return L2e(e.timeZone)||e.respectsDaylightSaving?i:F2e(i)}function F2e(e){const t=jt.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${rs.instance(-i).formatOffset(0,"narrow")}`}function Gje(e,t,i,n,s){if(t&&s==="date")return{timeZone:mu,timeZoneName:void 0};const u=n.timeStyle||n.hour,p=i===p1;return{timeZone:p?s==="timestamp-offset"?void 0:e??mu:i,timeZoneName:p&&u?D2e:void 0}}function Hje(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));return e===Ph||e===p1||t.has(e.toLowerCase())||i.has(e.toLowerCase())}const U2e={year:void 0,month:void 0,day:void 0,weekday:void 0},V2e={hour:void 0,minute:void 0,second:void 0},HY={timeZone:mu},Rc={year:"numeric",month:"numeric",day:"numeric"},Xv={year:"numeric",month:"long",day:"numeric"},Qv={year:"numeric",month:"short",day:"numeric"},eb={year:"numeric",month:"long",weekday:"long",day:"numeric"},ff={hour:"numeric",minute:"numeric"},Kp={...ff,second:"numeric"},qY={hourCycle:"h23"},tb={...ff,...qY},ib={...Kp,...qY},BY={"short-date":Rc,"short-date-short-time":{...Rc,...ff},"short-date-short-time-24":{...Rc,...tb},"short-date-long-time":{...Rc,...Kp},"short-date-long-time-24":{...Rc,...ib},"short-date-le":Rc,"short-date-le-short-time":{...Rc,...ff},"short-date-le-short-time-24":{...Rc,...tb},"short-date-le-long-time":{...Rc,...Kp},"short-date-le-long-time-24":{...Rc,...ib},"long-month-day-year":Xv,"long-month-day-year-short-time":{...Xv,...ff},"long-month-day-year-short-time-24":{...Xv,...tb},"long-month-day-year-long-time":{...Xv,...Kp},"long-month-day-year-long-time-24":{...Xv,...ib},"day-short-month-year":Qv,"day-short-month-year-short-time":{...Qv,...ff},"day-short-month-year-short-time-24":{...Qv,...tb},"day-short-month-year-long-time":{...Qv,...Kp},"day-short-month-year-long-time-24":{...Qv,...ib},"long-date":eb,"long-date-short-time":{...eb,...ff},"long-date-short-time-24":{...eb,...tb},"long-date-long-time":{...eb,...Kp},"long-date-long-time-24":{...eb,...ib},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":ff,"long-time":Kp},G2e=Ts()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),WY={ar:"ar-u-nu-latn-ca-gregory"};let d$=new WeakMap;const J_=BY["short-date-short-time"];function H2e(e){let t=d$.get(e);if(!t){const i=va(),n=WY[i]||i,s=pI(e.timeZone??Ph),u={...e,timeZone:s};t=new Intl.DateTimeFormat(n,u),d$.set(e,t)}return t}function dx(e){return BY[e]}function Bf(e,t=J_){return H2e(t).format(e)}function q2e(e,t=J_){return Bf(new Date(e),{...t,...HY,...V2e})}function B2e(e,t=J_){return Bf(new Date(`1970-01-01T${e}Z`),{...t,...HY,...U2e})}function W2e(e,t=J_){if(t.timeZone)return Bf(new Date(e),t);const i=jt.fromISO(e,{setZone:!0}),n=va(),s=WY[n]??n,u=i.offset===0?mu:t.timeZone,p={...t,timeZone:u};return i.toLocaleString(p,{locale:s})}function pI(e){switch(e){case Ph:return R2e;case p1:return mu;default:return e}}rI(()=>{d$=new WeakMap});const J2e={ar:"ar-u-nu-latn"};let S9=new WeakMap,JY={};function f$(e){const t=e||JY;if(!S9.has(t)){const i=va(),n=J2e[va()]||i;S9.set(t,new Intl.NumberFormat(n,e))}return S9.get(t)}function qje(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function A4(e,t){return Object.is(e,-0)&&(e=0),f$(t).format(e)}function Bje(e,t=va()){var n,s;if(!e)return null;let i=xF.get(t);if(!i){const u=f$().formatToParts(12345.6),p=[...f$({useGrouping:!1}).format(9876543210)].reverse(),g=new Map(p.map((F,q)=>[F,q])),w=new RegExp(`[${(n=u.find(F=>F.type==="group"))==null?void 0:n.value}]`,"g"),E=new RegExp(`[${(s=u.find(F=>F.type==="decimal"))==null?void 0:s.value}]`),A=new RegExp(`[${p.join("")}]`,"g"),I=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,R=/[-\u2212\u2013\u2014\u2015]/g;i=F=>{if((F=F.trim().replaceAll(w,"").replace(E,".").replace(A,B=>String(g.get(B))).replaceAll(I,"").replaceAll(R,"-"))==="")return null;const q=Number(F);return isNaN(q)?null:q},xF.set(t,i)}return i(e)}rI(()=>{S9=new WeakMap,JY={}});const xF=new Map,ZY=()=>xt.getLogger("esri.intl.substitute");function YY(e,t,i={}){const{format:n={}}=i;return C_(e,s=>Z2e(s,t,n))}function Z2e(e,t,i){let n,s;const u=e.indexOf(":");if(u===-1?n=e.trim():(n=e.slice(0,u).trim(),s=e.slice(u+1).trim()),!n)return"";const p=Sf(n,t);if(p==null)return"";const g=(s?i==null?void 0:i[s]:null)??(i==null?void 0:i[n]);return g?Y2e(p,g):s?K2e(p,s):mI(p)}function Y2e(e,t){switch(t.type){case"date":return Bf(e,t.intlOptions);case"number":return A4(e,t.intlOptions);default:return ZY().warn("missing format descriptor for key {key}"),mI(e)}}function K2e(e,t){switch(t.toLowerCase()){case"dateformat":return Bf(e);case"numberformat":return A4(e);default:return ZY().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Bf(e):/^numberformat/i.test(t)?A4(e):mI(e)}}function mI(e){switch(typeof e){case"string":return e;case"number":return A4(e);case"boolean":return""+e;default:return e instanceof Date?Bf(e):""}}const SF=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,X2e={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function _F(e){return e in X2e}const _b=[],Iy=new Map;function EF(e){for(const t of Iy.keys())KY(e.pattern,t)&&Iy.delete(t)}function Q2e(e){return _b.includes(e)||(EF(e),_b.unshift(e)),Mi(()=>{const t=_b.indexOf(e);t>-1&&(_b.splice(t,1),EF(e))})}async function ewe(e){const t=va();Iy.has(e)||Iy.set(e,iwe(e,t));const i=Iy.get(e);return i&&await nwe.add(i),i}function twe(e){if(!SF.test(e))return null;const t=SF.exec(e);if(t===null)return null;const[,i,n]=t,s=i+(n?"-"+n.toUpperCase():"");return _F(s)?s:_F(i)?i:null}async function iwe(e,t){const i=[];for(const n of _b)if(KY(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(s){i.push(s)}throw i.length?new ze("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new ze("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function KY(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}rI(()=>{Iy.clear()});const nwe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=pa())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function rwe(e,t,i,n){const s=t.exec(i);if(!s)throw new ze("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const u=s[1]?`${s[1]}/`:"",p=s[2],g=twe(n),w=`${u}${p}.json`,E=g?`${u}${p}_${g}.json`:w;let A;try{A=await TF(e(E))}catch(I){if(E===w)throw new ze("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:I});try{A=await TF(e(w))}catch(R){throw new ze("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:R})}}return A}async function TF(e){if(MF.fetchBundleAsset!=null)return MF.fetchBundleAsset(e);const t=await en(e,{responseType:"text"});return JSON.parse(t.data)}let swe=class{constructor({base:t="",pattern:i,location:n=new URL(window.location.href)}){let s;s=typeof n=="string"?u=>new URL(u,new URL(n,window.location.href)).href:n instanceof URL?u=>new URL(u,n).href:n,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,i){return rwe(this.getAssetUrl,this.matcher,t,i)}};function owe(e){return new swe(e)}const MF={};Q2e(owe({pattern:"esri/",location:Hw}));function awe(e){return typeof e=="string"?document.getElementById(e):e??null}function Jje(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}function Zje(e,t,i){return IO(e.map((n,s)=>t.apply(i,[n,s])))}async function Yje(e,t,i){return(await IO(e.map((n,s)=>t.apply(i,[n,s])))).map(n=>n.value)}function yI(e){return{ok:!0,value:e}}function gI(e){return{ok:!1,error:e}}function lwe(e){return e!=null&&e.ok===!0?e.value:null}function cwe(e){return e!=null&&e.ok===!1?e.error:null}async function XY(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return yI(await e)}catch(t){return gI(t)}}async function uwe(e){try{return yI(await e)}catch(t){return su(t),gI(t)}}function Z_(e,t){return new Vd(e,t)}let Vd=class extends Zt{get value(){return lwe(this._result)}get error(){return cwe(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Df(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(s=>{this._result=yI(s),this._cleanup()},s=>{this._result=gI(s),this._cleanup()}),this._abortHandle=Ro(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Ur(this._abortHandle),this._abortController=null}};S([M()],Vd.prototype,"value",null),S([M()],Vd.prototype,"error",null),S([M()],Vd.prototype,"finished",null),S([M()],Vd.prototype,"promise",void 0),S([M()],Vd.prototype,"_result",void 0),Vd=S([ue("esri.core.asyncUtils.ReactiveTask")],Vd);var Gi;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Gi||(Gi={}));function vI(e){return(t,i)=>{t[i]=e}}let Zw=class extends dJ{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const n of i)n.onInvalidated(),n.onCommitted()}}};var _h;let hwe=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},dwe=class{constructor(t,i,n,s,u){this.target=t,this.added=i,this.removed=n,this.start=s,this.deleteCount=u}};const Ha=new zw(hwe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function $F(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function GT(e){return e?e instanceof yh?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function HT(e){if(e!=null&&e.length)return e[0]}function fwe(e,t,i,n){const s=Math.min(e.length-i,t.length-n);let u=0;for(;u<s&&e[i+u]===t[n+u];)u++;return u}function QY(e,t,i,n){t&&t.forEach((s,u,p)=>{e.push(s),QY(e,i.call(n,s,u,p),i,n)})}const Dd=new Set,Nd=new Set,Ld=new Set,qT=new Map;let pwe=0,yh=_h=class extends Ms.EventedAccessor{static isCollection(e){return e!=null&&e instanceof _h}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Zw,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:pwe++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof _h?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Gt(this._observable),this._items}set items(e){this._emitBeforeChanges(Gi.ADD)||(this._splice(0,this.length,GT(e)),this._emitAfterChanges(Gi.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Mi();if(e==="change"){const i=this._chgListeners,n={removed:!1,callback:t};return i.push(n),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Mi(()=>{n.removed=!0,i.splice(i.indexOf(n),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,n=this.on(e,s=>{var u;(u=i())==null||u.call(null,s),n.remove()});return n}add(e,t){if(Gt(this._observable),this._emitBeforeChanges(Gi.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(Gi.ADD),this}addMany(e,t=this._items.length){if(Gt(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(Gi.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,GT(e)),this._emitAfterChanges(Gi.ADD),this}at(e){if(Gt(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Gt(this._observable),!this.length||this._emitBeforeChanges(Gi.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(Gi.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Gt(this._observable),this._createNewInstance({items:this._items.map(ke)})}concat(...e){Gt(this._observable);const t=e.map(GT);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Gt(this._observable),!this.length||this._emitBeforeChanges(Gi.REMOVE))return;const i=this._splice(0,this.length),n=i.length;for(let s=0;s<n;s++)e.call(t,i[s],s,i);this._emitAfterChanges(Gi.REMOVE)}destroyAll(){this.drain($F)}destroyMany(e){const t=this.removeMany(e);return t.forEach($F),t}every(e,t){return Gt(this._observable),this._items.every(e,t)}filter(e,t){let i;return Gt(this._observable),i=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return Gt(this._observable),this._items.find(e,t)}findIndex(e,t){return Gt(this._observable),this._items.findIndex(e,t)}flatten(e,t){Gt(this._observable);const i=[];return QY(i,this,e,t),new _h(i)}forEach(e,t){return Gt(this._observable),this._items.forEach(e,t)}getItemAt(e){return Gt(this._observable),this._items[e]}getNextIndex(e){Gt(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Gt(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Gt(this._observable),this._items.indexOf(e,t)}join(e=","){return Gt(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Gt(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Gt(this._observable);const i=this._items.map(e,t);return new _h({items:i})}reorder(e,t=this.length-1){Gt(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(Gi.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(Gi.MOVE)}return e}}pop(){if(Gt(this._observable),!this.length||this._emitBeforeChanges(Gi.REMOVE))return;const e=HT(this._splice(this.length-1,1));return this._emitAfterChanges(Gi.REMOVE),e}push(...e){return Gt(this._observable),this._emitBeforeChanges(Gi.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Gi.ADD)),this.length}reduce(e,t){Gt(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Gt(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Gt(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Gt(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Gi.REMOVE))return;const t=HT(this._splice(e,1));return this._emitAfterChanges(Gi.REMOVE),t}removeMany(e){if(Gt(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(Gi.REMOVE))return[];const t=e instanceof _h?e.toArray():e,i=this._items,n=[],s=t.length;for(let u=0;u<s;u++){const p=t[u],g=i.indexOf(p);if(g>-1){const w=1+fwe(t,i,u+1,g+1),E=this._splice(g,w);E&&E.length>0&&n.push.apply(n,E),u+=w-1}}return this._emitAfterChanges(Gi.REMOVE),n}reverse(){if(Gt(this._observable),this._emitBeforeChanges(Gi.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Gi.MOVE),this}shift(){if(Gt(this._observable),!this.length||this._emitBeforeChanges(Gi.REMOVE))return;const e=HT(this._splice(0,1));return this._emitAfterChanges(Gi.REMOVE),e}slice(e=0,t=this.length){return Gt(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Gt(this._observable),this._items.some(e,t)}sort(e){if(Gt(this._observable),!this.length||this._emitBeforeChanges(Gi.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Gi.MOVE),this}splice(e,t,...i){Gt(this._observable);const n=(t?Gi.REMOVE:0)|(i.length?Gi.ADD:0);if(this._emitBeforeChanges(n))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(n),s}toArray(){return Gt(this._observable),this._items.slice()}toJSON(){return Gt(this._observable),this.toArray()}toLocaleString(){return Gt(this._observable),this._items.toLocaleString()}toString(){return Gt(this._observable),this._items.toString()}unshift(...e){return Gt(this._observable),!e.length||this._emitBeforeChanges(Gi.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Gi.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const n=this._items,s=this.itemType;let u,p;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=PO(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(p=n.splice(e,t),this.hasEventListener("before-remove")){const g=Ha.acquire();g.target=this,g.cancellable=!0;for(let w=0,E=p.length;w<E;w++)u=p[w],g.reset(u),this.emit("before-remove",g),g.defaultPrevented&&(p.splice(w,1),n.splice(e,0,u),e+=1,w-=1,E-=1);Ha.release(g)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const g=Ha.acquire();g.target=this,g.cancellable=!1;const w=p.length;for(let E=0;E<w;E++)g.reset(p[E]),this.emit("after-remove",g);Ha.release(g)}}if(i!=null&&i.length){if(s){const A=[];for(const I of i){const R=s.ensureType(I);R==null&&I!=null||A.push(R)}i=A}const g=this.hasEventListener("before-add"),w=this.hasEventListener("after-add"),E=e===this.length;if(g||w){const A=Ha.acquire();A.target=this,A.cancellable=!0;const I=Ha.acquire();I.target=this,I.cancellable=!1;for(const R of i)g?(A.reset(R),this.emit("before-add",A),A.defaultPrevented||(E?n.push(R):n.splice(e++,0,R),this._set("length",n.length),w&&(I.reset(R),this.emit("after-add",I)))):(E?n.push(R):n.splice(e++,0,R),this._set("length",n.length),I.reset(R),this.emit("after-add",I));Ha.release(I),Ha.release(A)}else{if(E)for(const A of i)n.push(A);else n.splice(e,0,...i);this._set("length",n.length)}}if((i!=null&&i.length||p!=null&&p.length)&&this._notifyChangeEvent(i,p),this.hasEventListener("after-splice")){const g=new dwe(this,i,p,e,t);this.emit("after-splice",g)}return p}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Ha.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Ha.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ha.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ha.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Dd.clear(),Nd.clear(),Ld.clear();for(const{added:w,removed:E}of i){if(w)if(Ld.size===0&&Nd.size===0)for(const A of w)Dd.add(A);else for(const A of w)Nd.has(A)?(Ld.add(A),Nd.delete(A)):Ld.has(A)||Dd.add(A);if(E)if(Ld.size===0&&Dd.size===0)for(const A of E)Nd.add(A);else for(const A of E)Dd.has(A)?Dd.delete(A):(Ld.delete(A),Nd.add(A))}const n=ru.acquire();Dd.forEach(w=>{n.push(w)});const s=ru.acquire();Nd.forEach(w=>{s.push(w)});const u=this._items,p=t.items,g=ru.acquire();if(Ld.forEach(w=>{p.indexOf(w)!==u.indexOf(w)&&g.push(w)}),t.listeners&&(n.length||s.length||g.length)){const w={target:this,added:n,removed:s,moved:g},E=t.listeners.length;for(let A=0;A<E;A++){const I=t.listeners[A];I.removed||I.callback.call(this,w)}}ru.release(n),ru.release(s),ru.release(g)}Dd.clear(),Nd.clear(),Ld.clear()}};yh.ofType=e=>{if(!e)return _h;if(qT.has(e))return qT.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const s=e.typeMap[n].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends _h{};return S([vI({Type:e,ensureType:typeof e=="function"?ls(e):ml(e)})],i.prototype,"itemType",void 0),i=S([ue(`esri.core.Collection<${t}>`)],i),qT.set(e,i),i},S([M()],yh.prototype,"_updating",void 0),S([M()],yh.prototype,"length",void 0),S([M()],yh.prototype,"items",null),S([M({readOnly:!0})],yh.prototype,"updating",null),yh=_h=S([ue("esri.core.Collection")],yh);const Bt=yh;function ei(e,t,i={}){return bI(e,t,i,tK)}function Wf(e,t,i={}){return bI(e,t,i,iK)}function bI(e,t,i={},n){let s=null;const u=i.once?(p,g)=>{n(p)&&(Ur(s),t(p,g))}:(p,g)=>{n(p)&&t(p,g)};if(s=Dme(e,u,i.sync,i.equals),i.initial){const p=e();u(p,p)}return s}function m1(e,t,i,n={}){let s=null,u=null,p=null;function g(){var A;s&&u&&(u.remove(),(A=n.onListenerRemove)==null||A.call(n,s),s=null,u=null)}function w(A){n.once&&n.once&&Ur(p),i(A)}const E=ei(e,(A,I)=>{var R;g(),P_(A)&&(s=A,u=Z0(A,t,w),(R=n.onListenerAdd)==null||R.call(n,A))},{sync:n.sync,initial:!0});return p=Mi(()=>{E.remove(),g()}),p}function mwe(e,t){return eK(e,null,t)}function p$(e,t){return eK(e,iK,t)}function eK(e,t,i){if(Sa(i))return Promise.reject(Gn());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let s=null;function u(){s=Ur(s)}return new Promise((p,g)=>{s=Hh([Ro(i,()=>{u(),g(Gn())}),bI(e,w=>{u(),p(w)},{sync:!1,once:!0},t??tK)])})}function tK(e){return!0}function iK(e){return!!e}function ywe(e,t,i={}){let n=!1;const s=ei(e,(u,p)=>{n||t(u,p)},i);return{remove(){s.remove()},pause(){n=!0},resume(){n=!1}}}function nK(e,t){const i=new Bt,n=m1(e,"after-splice",({added:s,start:u,deleteCount:p})=>{const g=i.splice(u,p);for(const w of g)w.remove();if(s!=null&&s.length){const w=s.map(t);i.addMany(w,u)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(n),i}function gwe(e,t){const i=new Bt,n=nK(e,g=>Z_(async w=>{const E=await t(g,w);if(Sa(w))throw E.remove(),Gn();return E})),s=()=>null,u=async g=>{const w=await g.promise,E=n.indexOf(g);E<0||i.splice(E,1,w)};i.addMany(n.items.map(s));for(const g of n)hc(u(g));const p=n.on("after-splice",({added:g,start:w,deleteCount:E})=>{const A=i.splice(w,E);for(const I of A)I==null||I.remove();if(g!=null&&g.length){i.addMany(g.map(s),w);for(const I of g)hc(u(I))}});return i.addHandles([R1e(n),p]),i}const Ag={sync:!0},No={initial:!0},wa={sync:!0,initial:!0},vwe=Object.freeze(Object.defineProperty({__proto__:null,autorun:kJ,initial:No,mapCollection:nK,mapCollectionAsync:gwe,on:m1,once:mwe,pausable:ywe,sync:Ag,syncAndInitial:wa,watch:ei,when:Wf,whenOnce:p$},Symbol.toStringTag,{value:"Module"})),bwe="randomUUID"in crypto;function wI(){if(bwe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function tFe(){return`{${wI().toUpperCase()}}`}function wwe(){return`{${wI()}}`}function xwe(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var O4=function(){return O4=Object.assign||function(t){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(t[u]=i[u])}return t},O4.apply(this,arguments)},m$={exports:{}},Kn={},y$={exports:{}},O1={};function rK(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Swe(e,t,i){}function _we(e,t,i){}var Ewe=/javascript\s*\:/img;function Twe(e,t){return Ewe.test(t)?"":t}O1.whiteList=rK();O1.getDefaultWhiteList=rK;O1.onAttr=Swe;O1.onIgnoreAttr=_we;O1.safeAttrValue=Twe;var Mwe={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,s;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,s=e.length;n<s;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},nb=Mwe;function $we(e,t){e=nb.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,n=!1,s=0,u=0,p="";function g(){if(!n){var A=nb.trim(e.slice(s,u)),I=A.indexOf(":");if(I!==-1){var R=nb.trim(A.slice(0,I)),F=nb.trim(A.slice(I+1));if(R){var q=t(s,p.length,R,F,A);q&&(p+=q+"; ")}}}s=u+1}for(;u<i;u++){var w=e[u];if(w==="/"&&e[u+1]==="*"){var E=e.indexOf("*/",u+2);if(E===-1)break;u=E+1,s=u+1,n=!1}else w==="("?n=!0:w===")"?n=!1:w===";"?n||g():w===`
`&&g()}return nb.trim(p)}var kwe=$we,fx=O1,Cwe=kwe;function kF(e){return e==null}function Awe(e){var t={};for(var i in e)t[i]=e[i];return t}function sK(e){e=Awe(e||{}),e.whiteList=e.whiteList||fx.whiteList,e.onAttr=e.onAttr||fx.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||fx.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||fx.safeAttrValue,this.options=e}sK.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,s=i.onAttr,u=i.onIgnoreAttr,p=i.safeAttrValue,g=Cwe(e,function(w,E,A,I,R){var F=n[A],q=!1;if(F===!0?q=F:typeof F=="function"?q=F(I):F instanceof RegExp&&(q=F.test(I)),q!==!0&&(q=!1),I=p(A,I),!!I){var B={position:E,sourcePosition:w,source:R,isWhite:q};if(q){var K=s(A,I,B);return kF(K)?A+":"+I:K}else{var K=u(A,I,B);if(!kF(K))return K}}});return g};var Owe=sK;(function(e,t){var i=O1,n=Owe;function s(p,g){var w=new n(g);return w.process(p)}t=e.exports=s,t.FilterCSS=n;for(var u in i)t[u]=i[u]})(y$,y$.exports);var xI=y$.exports,SI={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,s;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,s=e.length;n<s;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},Iwe=xI.FilterCSS,Pwe=xI.getDefaultWhiteList,I4=SI;function oK(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var aK=new Iwe;function Rwe(e,t,i){}function Dwe(e,t,i){}function Nwe(e,t,i){}function Lwe(e,t,i){}function lK(e){return e.replace(jwe,"&lt;").replace(Fwe,"&gt;")}function zwe(e,t,i,n){if(i=pK(i),t==="href"||t==="src"){if(i=I4.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(px.lastIndex=0,px.test(i))return""}else if(t==="style"){if(CF.lastIndex=0,CF.test(i)||(AF.lastIndex=0,AF.test(i)&&(px.lastIndex=0,px.test(i))))return"";n!==!1&&(n=n||aK,i=n.process(i))}return i=mK(i),i}var jwe=/</g,Fwe=/>/g,Uwe=/"/g,Vwe=/&quot;/g,Gwe=/&#([a-zA-Z0-9]*);?/gim,Hwe=/&colon;?/gim,qwe=/&newline;?/gim,px=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,CF=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,AF=/u\s*r\s*l\s*\(.*/gi;function cK(e){return e.replace(Uwe,"&quot;")}function uK(e){return e.replace(Vwe,'"')}function hK(e){return e.replace(Gwe,function(i,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function dK(e){return e.replace(Hwe,":").replace(qwe," ")}function fK(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return I4.trim(t)}function pK(e){return e=uK(e),e=hK(e),e=dK(e),e=fK(e),e}function mK(e){return e=cK(e),e=lK(e),e}function Bwe(){return""}function Wwe(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function n(p){return i?!0:I4.indexOf(e,p)!==-1}var s=[],u=!1;return{onIgnoreTag:function(p,g,w){if(n(p))if(w.isClosing){var E="[/removed]",A=w.position+E.length;return s.push([u!==!1?u:w.position,A]),u=!1,E}else return u||(u=w.position),"[removed]";else return t(p,g,w)},remove:function(p){var g="",w=0;return I4.forEach(s,function(E){g+=p.slice(w,E[0]),w=E[1]}),g+=p.slice(w),g}}}function Jwe(e){for(var t="",i=0;i<e.length;){var n=e.indexOf("<!--",i);if(n===-1){t+=e.slice(i);break}t+=e.slice(i,n);var s=e.indexOf("-->",n);if(s===-1)break;i=s+3}return t}function Zwe(e){var t=e.split("");return t=t.filter(function(i){var n=i.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}Kn.whiteList=oK();Kn.getDefaultWhiteList=oK;Kn.onTag=Rwe;Kn.onIgnoreTag=Dwe;Kn.onTagAttr=Nwe;Kn.onIgnoreTagAttr=Lwe;Kn.safeAttrValue=zwe;Kn.escapeHtml=lK;Kn.escapeQuote=cK;Kn.unescapeQuote=uK;Kn.escapeHtmlEntities=hK;Kn.escapeDangerHtml5Entities=dK;Kn.clearNonPrintableCharacter=fK;Kn.friendlyAttrValue=pK;Kn.escapeAttrValue=mK;Kn.onIgnoreTagStripAll=Bwe;Kn.StripTagBody=Wwe;Kn.stripCommentTag=Jwe;Kn.stripBlankChar=Zwe;Kn.cssFilter=aK;Kn.getDefaultCSSWhiteList=Pwe;var Y_={},pf=SI;function Ywe(e){var t=pf.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=pf.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function Kwe(e){return e.slice(0,2)==="</"}function Xwe(e,t,i){var n="",s=0,u=!1,p=!1,g=0,w=e.length,E="",A="";e:for(g=0;g<w;g++){var I=e.charAt(g);if(u===!1){if(I==="<"){u=g;continue}}else if(p===!1){if(I==="<"){n+=i(e.slice(s,g)),u=g,s=g;continue}if(I===">"){n+=i(e.slice(s,u)),A=e.slice(u,g+1),E=Ywe(A),n+=t(u,n.length,E,A,Kwe(A)),s=g+1,u=!1;continue}if(I==='"'||I==="'")for(var R=1,F=e.charAt(g-R);F.trim()===""||F==="=";){if(F==="="){p=I;continue e}F=e.charAt(g-++R)}}else if(I===p){p=!1;continue}}return s<e.length&&(n+=i(e.substr(s))),n}var Qwe=/[^a-zA-Z0-9\\_:.-]/gim;function e3e(e,t){var i=0,n=0,s=[],u=!1,p=e.length;function g(R,F){if(R=pf.trim(R),R=R.replace(Qwe,"").toLowerCase(),!(R.length<1)){var q=t(R,F||"");q&&s.push(q)}}for(var w=0;w<p;w++){var E=e.charAt(w),A,I;if(u===!1&&E==="="){u=e.slice(i,w),i=w+1,n=e.charAt(i)==='"'||e.charAt(i)==="'"?i:i3e(e,w+1);continue}if(u!==!1&&w===n){if(I=e.indexOf(E,w+1),I===-1)break;A=pf.trim(e.slice(n+1,I)),g(u,A),u=!1,w=I,i=w+1;continue}if(/\s|\n|\t/.test(E))if(e=e.replace(/\s|\n|\t/g," "),u===!1)if(I=t3e(e,w),I===-1){A=pf.trim(e.slice(i,w)),g(A),u=!1,i=w+1;continue}else{w=I-1;continue}else if(I=n3e(e,w-1),I===-1){A=pf.trim(e.slice(i,w)),A=OF(A),g(u,A),u=!1,i=w+1;continue}else continue}return i<e.length&&(u===!1?g(e.slice(i)):g(u,OF(pf.trim(e.slice(i))))),pf.trim(s.join(" "))}function t3e(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function i3e(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function n3e(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function r3e(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function OF(e){return r3e(e)?e.substr(1,e.length-2):e}Y_.parseTag=Xwe;Y_.parseAttr=e3e;var s3e=xI.FilterCSS,Kl=Kn,yK=Y_,o3e=yK.parseTag,a3e=yK.parseAttr,_9=SI;function mx(e){return e==null}function l3e(e){var t=_9.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=_9.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=_9.trim(e.slice(0,-1))),{html:e,closing:i}}function c3e(e){var t={};for(var i in e)t[i]=e[i];return t}function u3e(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(n){return n.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function gK(e){e=c3e(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Kl.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=u3e(e.whiteList||e.allowList):e.whiteList=Kl.whiteList,e.onTag=e.onTag||Kl.onTag,e.onTagAttr=e.onTagAttr||Kl.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Kl.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Kl.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Kl.safeAttrValue,e.escapeHtml=e.escapeHtml||Kl.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new s3e(e.css))}gK.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,s=i.onTag,u=i.onIgnoreTag,p=i.onTagAttr,g=i.onIgnoreTagAttr,w=i.safeAttrValue,E=i.escapeHtml,A=t.cssFilter;i.stripBlankChar&&(e=Kl.stripBlankChar(e)),i.allowCommentTag||(e=Kl.stripCommentTag(e));var I=!1;i.stripIgnoreTagBody&&(I=Kl.StripTagBody(i.stripIgnoreTagBody,u),u=I.onIgnoreTag);var R=o3e(e,function(F,q,B,K,te){var ce={sourcePosition:F,position:q,isClosing:te,isWhite:Object.prototype.hasOwnProperty.call(n,B)},ye=s(B,K,ce);if(!mx(ye))return ye;if(ce.isWhite){if(ce.isClosing)return"</"+B+">";var _e=l3e(K),we=n[B],xe=a3e(_e.html,function(pe,Ze){var Fe=_9.indexOf(we,pe)!==-1,He=p(B,pe,Ze,Fe);return mx(He)?Fe?(Ze=w(B,pe,Ze,A),Ze?pe+'="'+Ze+'"':pe):(He=g(B,pe,Ze,Fe),mx(He)?void 0:He):He});return K="<"+B,xe&&(K+=" "+xe),_e.closing&&(K+=" /"),K+=">",K}else return ye=u(B,K,ce),mx(ye)?E(K):ye},E);return I&&(R=I.remove(R)),R};var h3e=gK;(function(e,t){var i=Kn,n=Y_,s=h3e;function u(g,w){var E=new s(w);return E.process(g)}t=e.exports=u,t.filterXSS=u,t.FilterXSS=s,function(){for(var g in i)t[g]=i[g];for(var w in n)t[w]=n[w]}();function p(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}p()&&(self.filterXSS=e.exports)})(m$,m$.exports);var _m=m$.exports,d3e=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},f3e=function(){function e(t,i){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=O4(O4({},_m.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(u,p,g,w){return u==="a"&&p==="href"||(u==="img"||u==="source")&&p==="src"?n.sanitizeUrl(g):_m.safeAttrValue(u,p,g,w)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;t&&!i?s=t:t&&i?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(u){if(u==="whiteList")s.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]);else if(u==="css"){var p=t.css.whiteList;p!=null&&t.css instanceof Object&&Object.keys(p).forEach(function(g){return s.css.whiteList[g]=p[g]})}else s[u]=t[u]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new _m.FilterXSS(s)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var n=(i??{}).isProtocolRequired,s=n===void 0?!0:n,u=this._trim(t.substring(0,t.indexOf(":"))),p=t==="/",g=/^#/.test(t),w=u&&this.allowedProtocols.indexOf(u.toLowerCase())>-1;return p||g||w?_m.escapeAttrValue(t):!u&&!s?_m.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,n,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,n,s):_m.safeAttrValue(t,i,n,s)},e.prototype.validate=function(t,i){i===void 0&&(i={});var n=this.sanitize(t,i);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(n){return i._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,s){return i.test(n)?n:"&#x".concat(Number(t.charCodeAt(s)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(n){Object.keys(n).forEach(function(s){Array.isArray(n[s])&&Array.isArray(i[s])?i[s]=i[s].concat(n[s]):i[s]=n[s]})}),i},e.prototype._iterateOverObject=function(t,i){var n=this;i===void 0&&(i={});try{var s=!1,u=void 0;if(Array.isArray(t))u=t.reduce(function(g,w){var E=n.validate(w,i);return E.isValid?g.concat([w]):(s=!0,g.concat([E.sanitized]))},[]);else if(d3e(t)){var p=Object.keys(t);u=p.reduce(function(g,w){var E=t[w],A=n.validate(E,i);return A.isValid?g[w]=E:(s=!0,g[w]=A.sanitized),g},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return s?u:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const K_=new Map;function vK(){K_.clear()}function p3e(e){return K_.get(e)}function m3e(e,t){K_.set(e,t)}function BT(e){K_.delete(e)}function y3e(...e){const t=ru.acquire();for(let n=0;n<e.length;n++){const s=e[n],u=typeof s;if(u==="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(u==="object")for(const p in s)s[p]&&t.push(p)}const i=t.join(" ");return ru.release(t),i}const iFe=(()=>{const e=new Map,t=new ResizeObserver(n=>{var s;vK();for(const u of n)(s=e.get(u.target))==null||s(u)}),i=(n,s,u)=>(e.set(n,s),t.observe(n,u),Mi(()=>{t.unobserve(n),e.delete(n)}));return(n,s,u)=>{let p=null;return Hh([ei(()=>typeof n=="function"?n():n,g=>{p==null||p.remove(),g&&(p=i(g,s,u))},wa),Mi(()=>p==null?void 0:p.remove())])}})();function IF(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function nFe(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function rFe(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const g3e=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],v3e=g3e.reduce((e,t)=>(e[t]=[],e),{}),b3e=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],bK=new f3e({whiteList:v3e,onTagAttr:(e,t,i)=>{const n=`${t}="${i}"`;if(b3e.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function sFe(e){return e==="Enter"||e===" "}async function wK(e,t){await gme(jw(t));const i=typeof e=="function"?e():e;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const xK="http://www.w3.org/",X_=`${xK}2000/svg`,SK=`${xK}1999/xlink`;let PF=[],_I=(e,t)=>{let i={};return Object.keys(e).forEach(n=>{i[n]=e[n]}),t&&Object.keys(t).forEach(n=>{i[n]=t[n]}),i},EI=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),_K=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},w3e=(e,t,i)=>{if(t.vnodeSelector!==""){for(let n=i;n<e.length;n++)if(EI(e[n],t))return n}return-1},WT=(e,t,i,n)=>{let s=e[t];if(s.vnodeSelector==="")return;let u=s.properties;if(!(u&&(u.key===void 0?u.bind:u.key))){for(let p=0;p<e.length;p++)if(p!==t){let g=e[p];if(EI(g,s))throw new Error(`${i.vnodeSelector} had a ${s.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},x3e=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},g$=[],v$=!1,EK=e=>{(e.children||[]).forEach(EK),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},RF=()=>{v$=!1,g$.forEach(EK),g$.length=0},DF=e=>{g$.push(e),v$||(v$=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(RF,{timeout:16}):setTimeout(RF,16))},NF=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),DF(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),DF(e))},S3e=(e,t,i)=>{if(!t)return;let n=i.eventHandlerInterceptor,s=Object.keys(t),u=s.length;for(let p=0;p<u;p++){let g=s[p],w=t[g];if(g==="className")throw new Error('Property "className" is not supported, use "class".');if(g==="class")w$(e,w,!0);else if(g==="classes"){let E=Object.keys(w),A=E.length;for(let I=0;I<A;I++){let R=E[I];w[R]&&e.classList.add(R)}}else if(g==="styles"){let E=Object.keys(w),A=E.length;for(let I=0;I<A;I++){let R=E[I],F=w[R];F&&(_K(F),i.styleApplyer(e,R,F))}}else if(g!=="key"&&w!=null){let E=typeof w;E==="function"?(g.lastIndexOf("on",0)===0&&(n&&(w=n(g,w,e,t)),g==="oninput"&&function(){let A=w;w=function(I){A.apply(this,[I]),I.target["oninput-value"]=I.target.value}}()),e[g]=w):i.namespace===X_?g==="href"?e.setAttributeNS(SK,g,w):e.setAttribute(g,w):E==="string"&&g!=="value"?g==="innerHTML"?e[g]=bK.sanitize(w):b$(e)&&g in e?e[g]=w:e.setAttribute(g,w):e[g]=w}}};function b$(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let P4,_3e=(e,t,i)=>{if(t)for(let n of t)A2(n,e,void 0,i)},TK=(e,t,i)=>{_3e(e,t.children,i),t.text&&(e.textContent=t.text),S3e(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},A2=(e,t,i,n)=>{let s,u=0,p=e.vnodeSelector,g=t.ownerDocument;if(p==="")s=e.domNode=g.createTextNode(e.text),i!==void 0?t.insertBefore(s,i):t.appendChild(s);else{for(let w=0;w<=p.length;++w){let E=p.charAt(w);if(w===p.length||E==="."||E==="#"){let A=p.charAt(u-1),I=p.slice(u,w);A==="."?s.classList.add(I):A==="#"?s.id=I:(I==="svg"&&(n=_I(n,{namespace:X_})),n.namespace!==void 0?s=e.domNode=g.createElementNS(n.namespace,I):(s=e.domNode=e.domNode||g.createElement(I),I==="input"&&e.properties&&e.properties.type!==void 0&&s.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(s,i):s.parentNode!==t&&t.appendChild(s)),u=w+1}}TK(s,e,n)}},w$=(e,t,i)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,i)})},E3e=(e,t,i,n)=>{if(!i)return;let s=!1,u=Object.keys(i),p=u.length;for(let g=0;g<p;g++){let w=u[g],E=i[w],A=t[w];if(w==="class")A!==E&&(w$(e,A,!1),w$(e,E,!0));else if(w==="classes"){let I=e.classList,R=Object.keys(E),F=R.length;for(let q=0;q<F;q++){let B=R[q],K=!!E[B];K!==!!A[B]&&(s=!0,K?I.add(B):I.remove(B))}}else if(w==="styles"){let I=Object.keys(E),R=I.length;for(let F=0;F<R;F++){let q=I[F],B=E[q];B!==A[q]&&(s=!0,B?(_K(B),n.styleApplyer(e,q,B)):n.styleApplyer(e,q,""))}}else if(E||typeof A!="string"||(E=""),w!=="value"||b$(e)){if(E!==A){let I=typeof E;I==="function"&&n.eventHandlerInterceptor||(n.namespace===X_?w==="href"?e.setAttributeNS(SK,w,E):e.setAttribute(w,E):I==="string"?w==="innerHTML"?e[w]=bK.sanitize(E):w==="role"&&E===""?e.removeAttribute(w):b$(e)&&w in e?e[w]=E:e.setAttribute(w,E):e[w]!==E&&(e[w]=E),s=!0)}}else{let I=e[w];I!==E&&(e["oninput-value"]?I===e["oninput-value"]:E!==A)&&(e[w]=E,e["oninput-value"]=void 0),E!==A&&(s=!0)}}return s},T3e=(e,t,i,n,s)=>{if(i===n)return!1;n=n||PF;let u,p=(i=i||PF).length,g=n.length,w=0,E=0,A=!1;for(;E<g;){let I=w<p?i[w]:void 0,R=n[E];if(I!==void 0&&EI(I,R))A=P4(I,R,s)||A,w++;else{let F=w3e(i,R,w+1);if(F>=0){for(u=w;u<F;u++)NF(i[u]),WT(i,u,e,"removed");A=P4(i[F],R,s)||A,w=F+1}else A2(R,t,w<p?i[w].domNode:void 0,s),x3e(R),WT(n,E,e,"added")}E++}if(p>w)for(u=w;u<p;u++)NF(i[u]),WT(i,u,e,"removed");return A};P4=(e,t,i)=>{let n=e.domNode,s=!1;if(e===t)return!1;let u=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let p=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(p,n),t.domNode=p,s=!0,s}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=_I(i,{namespace:X_})),e.text!==t.text&&(u=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,u=T3e(t,n,e.children,t.children,i)||u,u=E3e(n,e.properties,t.properties,i)||u,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,i,t.vnodeSelector,t.properties,t.children]);return u&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),s};let yx=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=i,P4(n,i,t)},domNode:e.domNode});const M3e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let Eb=e=>_I(M3e,e),Ef={append:(e,t,i)=>(i=Eb(i),A2(t,e,void 0,i),yx(t,i)),insertBefore:(e,t,i)=>(i=Eb(i),A2(t,e.parentNode,e,i),yx(t,i)),merge:(e,t,i)=>(i=Eb(i),t.domNode=e,TK(e,t,i),yx(t,i)),replace:(e,t,i)=>(i=Eb(i),A2(t,e.parentNode,e,i),e.parentNode.removeChild(e),yx(t,i))},MK,$3e=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};MK=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let k3e=(e,t)=>{let i=e;return t.forEach(n=>{i=i&&i.children?MK(i.children,s=>s.domNode===n):void 0}),i},C3e=(e,t,i)=>{let n=function(s){i("domEvent",s);let u=t(),p=$3e(s.currentTarget,u.domNode);p.reverse();let g,w=k3e(u.getLastRender(),p);return e.scheduleRender(),w&&(g=w.properties[`on${s.type}`].apply(w.properties.bind||this,arguments)),i("domEventProcessed",s),g};return(s,u,p,g)=>n},oFe=e=>{let t,i,n=Eb(e),s=n.performanceLogger,u=!0,p=!1,g=[],w=[],E=(I,R,F)=>{let q,B=()=>q;n.eventHandlerInterceptor=C3e(t,B,s),q=I(R,F(),n),g.push(q),w.push(F)},A=()=>{if(i=void 0,u){u=!1,s("renderStart",void 0);for(let I=0;I<g.length;I++){let R=w[I]();s("rendered",void 0),g[I].update(R),s("patched",void 0)}s("renderDone",void 0),u=!0}};return t={renderNow:A,scheduleRender:()=>{i||p||(i=requestAnimationFrame(A))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),p=!0},resume:()=>{p=!1,u=!0,t.scheduleRender()},append:(I,R)=>{E(Ef.append,I,R)},insertBefore:(I,R)=>{E(Ef.insertBefore,I,R)},merge:(I,R)=>{E(Ef.merge,I,R)},replace:(I,R)=>{E(Ef.replace,I,R)},detach:I=>{for(let R=0;R<w.length;R++)if(w[R]===I)return w.splice(R,1),g.splice(R,1)[0];throw new Error("renderFunction was not found")}},t};const A3e={handleInterceptedEvent:(e,t,i,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||i,[n]))},O3e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}},I3e=e=>({...O3e,...e}),P3e=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},R3e=(e,t)=>e.find(t),LF=(e,t,i=!1)=>{let n=e;return t.forEach((s,u)=>{const p=n!=null&&n.children?R3e(n.children,g=>g.domNode===s):void 0;i&&!p&&u!==t.length-1||(n=p)}),n},D3e=e=>{let t;const i={...A3e,...e},n=I3e(i),s=n.performanceLogger;let u,p=!0,g=!1;const w=[],E=[],A=(R,F,q)=>{var te;let B;n.eventHandlerInterceptor=(ce,ye,_e,we)=>function(xe){let pe;s("domEvent",xe);const Ze=P3e(xe.currentTarget,B.domNode),Fe=Ze.some(nt=>{var Qe;return customElements.get((Qe=nt==null?void 0:nt.tagName)==null?void 0:Qe.toLowerCase())});if(xe.eventPhase===Event.CAPTURING_PHASE||!Fe)Ze.reverse(),pe=LF(B.getLastRender(),Ze);else{const nt=xe.composedPath(),Qe=nt.slice(nt.indexOf(xe.currentTarget),nt.indexOf(B.domNode)).reverse();pe=LF(B.getLastRender(),Qe,!0)}let He;return pe&&(He=i.handleInterceptedEvent(t,pe,this,xe)),s("domEventProcessed",xe),He},(te=i.postProcessProjectionOptions)==null||te.call(i,n);const K=q();B=R(F,K,n),n.eventHandlerInterceptor=void 0,w.push(B),E.push(q),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(B,K)};let I=()=>{if(u=void 0,p){p=!1,s("renderStart",void 0);for(let R=0;R<w.length;R++){const F=E[R]();s("rendered",void 0);try{w[R].update(F)}catch(q){console.error(q)}s("patched",void 0)}s("renderDone",void 0),p=!0}};return i.modifyDoRenderImplementation&&(I=i.modifyDoRenderImplementation(I,w,E)),t={renderNow:I,scheduleRender:()=>{u||g||(u=requestAnimationFrame(I))},stop:()=>{u&&(cancelAnimationFrame(u),u=void 0),g=!0},resume:()=>{g=!1,p=!0,t.scheduleRender()},append:(R,F)=>{A(Ef.append,R,F)},insertBefore:(R,F)=>{A(Ef.insertBefore,R,F)},merge:(R,F)=>{A(Ef.merge,R,F)},replace:(R,F)=>{A(Ef.replace,R,F)},detach:R=>{for(let F=0;F<E.length;F++)if(E[F]===R)return E.splice(F,1),w.splice(F,1)[0];throw new Error("renderFunction was not found")}},t};let $K;function N3e(){try{eO(".")}catch{Dq(co(Hw($K)))}}function Og(e){var i;const t=[];for(const n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push((i=e[n])==null?void 0:i.call(e));return t.length>0?Promise.all(t):null}$K="components/assets";const kK=Symbol("widget"),CK=Symbol("widget-test-data"),L3e=[],z3e={},R4=new WeakMap;function AK(e,t){let i=t.children;if(i!=null&&i.length)for(let s=0;s<i.length;++s)i[s]=AK(e,i[s]);else i=L3e;const n=t.vnodeSelector;if(D4(n)){const s=t.properties||z3e,u=s.key||n,p={key:u,afterCreate:j3e,afterUpdate:F3e,afterRemoved:OK,parentWidget:e,widgetConstructor:n,widgetProperties:{...s,key:u,children:i}};return{vnodeSelector:n.vnodeSelector,properties:p,children:void 0,text:void 0,domNode:null}}return t}function j3e(e,t,i,{parentWidget:n,widgetConstructor:s,widgetProperties:u}){var g;const p=new s(u);p.container=e,R4.set(e,p),(g=p.afterCreate)==null||g.call(p,p,e),n.addHandles(Mi(()=>OK(e))),queueMicrotask(()=>{p[CK].projector.renderNow()})}function F3e(e,t,i,{widgetProperties:n}){var u;const s=R4.get(e);s&&(s.set(n),(u=s.afterUpdate)==null||u.call(s,s,e))}function OK(e){var i;const t=R4.get(e);t&&((i=t.afterRemoved)==null||i.call(t,t,e),t.destroy(),R4.delete(e))}function D4(e){return typeof e=="function"&&e[kK]}const zF=new Set;function U3e(e){zF.add(e),e.finally(()=>zF.delete(e))}var IK;const V3e="esri.widgets.Widget";let G3e=0;function PK(e,t){const i=Object.prototype.hasOwnProperty;for(const n in t)i.call(t,n)&&i.call(e,n)&&(e[n]!=null&&t[n]!=null&&typeof e[n]=="object"&&typeof t[n]=="object"?PK(e[n],t[n]):e[n]=t[n]);return e}const H3e=D3e({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(n,s,u,p)=>{const g=t==null?void 0:t(n,s,u,p),w=i.test(n);if(!((n=n.replace(i,"")).toLowerCase()in u)||w){const E=n[2].toLowerCase()+n.slice(3),A=F=>g==null?void 0:g.call(u,F);u.addEventListener(E,A,w);const I=()=>u.removeEventListener(E,A,w),R=p.afterRemoved;p.afterRemoved=F=>{R==null||R(F),I()}}return g}},handleInterceptedEvent(e,t,i,n){const{eventPhase:s,type:u}=n,p=s===Event.CAPTURING_PHASE;let g=`on${u}${p?"capture":""}`;const w=t.properties;(w&&g in w||(g=`on${u[0].toUpperCase()}${u.slice(1)}${p?"Capture":""}`,w&&g in w))&&(vK(),e.scheduleRender(),w[g].call(w.bind||i,n))}});let JT=!1,Sr=class extends ZO(Ms.EventedAccessor){constructor(t,i){super(t,i),this._attached=!1,this._projector=H3e,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=xg(async()=>{var w;if((w=this._messageBundleProps)!=null&&w.length){const E=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:A,propertyName:I})=>{if(this.destroyed)return;let R=await ewe(A);this.uiStrings&&Object.keys(this.uiStrings)&&(R=PK(ke(R),this.uiStrings)),this[I]=R}));if(this.destroyed)return;for(const A of E)A.status==="rejected"&&xt.getLogger(this).error("widget-intl:locale-error",this.declaredClass,A.reason)}await this.loadLocale()}),N3e();const n="esri-widget-uid-"+wI(),s=this.render.bind(this);this._trackingTarget=new R_(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const u=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),p=()=>{var I,R;if(!this._readyForTrueRender||this.destroyed)return null;const w=s()??u(),E=w.properties??(w.properties={});if(E.key??(E.key=n),D4(w.vnodeSelector)){if(!this.visible)return u()}else this.visible?E.styles||(E.styles={}):(E.class="",E.styles={display:"none"}),(I=E.styles).display??(I.display="");let A=0;return(R=w.children)==null||R.forEach(F=>{var q;D4(F.vnodeSelector)||(F.properties??(F.properties={}),(q=F.properties).key??(q.key=`${this.id}--${A++}`))}),AK(this,w)};this.render=()=>{if(JT)return p();let w=p3e(this)??null;if(w)return w;this._trackingTarget.clear(),JT=!0;try{w=Ih(this._trackingTarget,p)}catch(E){throw xt.getLogger(this).error(E),E}finally{JT=!1}return w&&m3e(this,w),w};const g=this.beforeFirstRender();g?this._resourcesFetch=g.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),U3e(this._resourcesFetch)}normalizeCtorArgs(t,i){const n={...t};return i&&(n.container=i),n}postInitialize(){}beforeFirstRender(){var i;const t=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(dj):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(kr(this._trackingTarget),kr(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,BT(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return awe(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+G3e++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(IK=kK,CK)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(BT(this),this._projector.scheduleRender())}own(t){rJ(xt.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return y3e.apply(this,t)}renderNow(){BT(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(ei(()=>this.viewModel,(n,s)=>{s&&this.removeHandles("delegated-events"),n&&P_(n)&&this.addHandles(this._delegatedEventNames.map(u=>Z0(n,u,p=>{this.emit(u,p)})),"delegated-events")},wa)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(dj),this.scheduleRender()};this.addHandles([Mve(t),ei(()=>this.uiStrings,t),Wf(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=t==null?void 0:t.parentNode)==null||i.removeChild(t)}};Sr[IK]=!0,Sr.vnodeSelector="div",S([M()],Sr.prototype,"_readyForTrueRender",void 0),S([M({value:null})],Sr.prototype,"container",null),S([pn("container")],Sr.prototype,"castContainer",null),S([M()],Sr.prototype,"icon",null),S([M()],Sr.prototype,"id",null),S([M()],Sr.prototype,"label",null),S([M()],Sr.prototype,"renderable",null),S([M()],Sr.prototype,"uiStrings",void 0),S([M()],Sr.prototype,"viewModel",void 0),S([M({value:!0})],Sr.prototype,"visible",null),S([M()],Sr.prototype,"key",void 0),S([M()],Sr.prototype,"children",void 0),S([M()],Sr.prototype,"afterCreate",void 0),S([M()],Sr.prototype,"afterUpdate",void 0),S([M()],Sr.prototype,"afterRemoved",void 0),Sr=S([ue(V3e)],Sr);const Ig=Sr;function Jf(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var q3e=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},RK=function(e,t){for(var i=0,n=e.length;i<n;i++){var s=e[i];Array.isArray(s)?RK(s,t):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=q3e(s)),t.push(s))}},B3e=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var s=[];return RK(i,s),{vnodeSelector:e,properties:t||void 0,children:s,text:void 0,domNode:null}};function dt(e,t,...i){return typeof e!="function"||D4(e)?B3e(e,t,...i):e(t,...i)}function W3e(...e){return e}const DK="calcite-mode-";function J3e(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function Z3e(){return J3e().startsWith("dark")}function NK(){return`${DK}${Z3e()?"dark":"light"}`}function lFe(e){Y3e(e),e.classList.add(NK())}function Y3e(e){Array.from(e.classList).forEach(t=>{t.startsWith(DK)&&e.classList.remove(t)})}const ZT="esri-identity-modal",YT={base:ZT,info:`${ZT}__info`,notice:`${ZT}__notice`},K3e="ArcGIS Online";let ia=class extends Ig{constructor(t,i){super(t,i),this.container=document.createElement("div"),this.error=null,this.oAuthPrompt=!1,this.open=!1,this.signingIn=!1,this.server=null,this.resource=null,this._usernameInputNode=null,this._passwordInputNode=null,document.body.appendChild(this.container)}loadDependencies(){return Og({button:()=>rt(()=>import("./calcite-button-C7XuS4eR.js"),[],import.meta.url),dialog:()=>rt(()=>Promise.resolve().then(()=>efe),void 0,import.meta.url),input:()=>rt(()=>import("./calcite-input-DQ5WGIP5.js"),__vite__mapDeps([91,92,93,94,95,96]),import.meta.url),label:()=>rt(()=>import("./calcite-label-CYdugBmE.js"),[],import.meta.url),notice:()=>rt(()=>import("./calcite-notice-D_xH7l4U.js"),[],import.meta.url)})}get title(){var t;return(t=this.commonMessages)==null?void 0:t.auth.signIn}render(){var ye;const{open:t,title:i,messages:n,signingIn:s,oAuthPrompt:u,server:p,resource:g,error:w}=this,{info:E,oAuthInfo:A,lblItem:I,invalidUser:R,noAuthService:F,lblUser:q,lblPwd:B,lblCancel:K,lblSigning:te,lblOk:ce}=n;return dt("div",{class:this.classes(YT.base,NK())},dt("form",{bind:this,onsubmit:this._submit},dt("calcite-dialog",{bind:this,heading:i,modal:!0,open:t,outsideCloseDisabled:!0,scale:"s",widthScale:"s",onCalciteDialogClose:this._cancel,onCalciteDialogOpen:this._focusUsernameInput},dt("div",{class:YT.info},YY(u?A:E,{server:p&&/\.arcgis\.com/i.test(p)?K3e:p,resource:`(${g||I})`})),w?dt("calcite-notice",{class:YT.notice,icon:"exclamation-mark-triangle",kind:"danger",open:!0},dt("div",{slot:"message"},(ye=w.details)!=null&&ye.httpStatus?R:F)):null,u?null:[dt("calcite-label",null,q,dt("calcite-input",{afterCreate:_e=>this._usernameInputNode=_e,autocomplete:"off",bind:this,name:"username",required:!0,spellcheck:!1,type:"text",value:""})),dt("calcite-label",null,B,dt("calcite-input",{afterCreate:_e=>this._passwordInputNode=_e,bind:this,name:"password",required:!0,type:"password",value:""}))],dt("calcite-button",{appearance:"outline",bind:this,onclick:this._cancel,slot:"footer-end",type:"button"},K),dt("calcite-button",{loading:!!s,slot:"footer-end",type:"submit"},s?te:ce))))}_focusUsernameInput(){return wK(()=>this._usernameInputNode)}_cancel(){this._set("signingIn",!1),this.open=!1,this._usernameInputNode&&(this._usernameInputNode.value=""),this._passwordInputNode&&(this._passwordInputNode.value=""),this.emit("cancel")}_submit(t){var n,s;t.preventDefault(),this._set("signingIn",!0);const i=this.oAuthPrompt?{}:{username:(n=this._usernameInputNode)==null?void 0:n.value,password:(s=this._passwordInputNode)==null?void 0:s.value};this.emit("submit",i)}};S([M({readOnly:!0})],ia.prototype,"container",void 0),S([M(),Jf("esri/t9n/common")],ia.prototype,"commonMessages",void 0),S([M()],ia.prototype,"error",void 0),S([M(),Jf("esri/identity/t9n/identity")],ia.prototype,"messages",void 0),S([M()],ia.prototype,"oAuthPrompt",void 0),S([M()],ia.prototype,"open",void 0),S([M()],ia.prototype,"signingIn",void 0),S([M()],ia.prototype,"server",void 0),S([M({readOnly:!0})],ia.prototype,"title",null),S([M()],ia.prototype,"resource",void 0),ia=S([ue("esri.identity.IdentityModal")],ia);const jF=ia,KT="esriJSAPIOAuth";let x$=class{constructor(t,i){this.oAuthInfo=null,this.storage=null,this.appId=null,this.codeVerifier=null,this.expires=null,this.refreshToken=null,this.ssl=null,this.stateUID=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=i,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token)){if(this.expires==null&&this.refreshToken)t=!0;else if(this.expires){const i=Date.now();this.expires>i&&(this.expires-i)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return!1;const t=this._load(),i=this.oAuthInfo;if(i!=null&&i.authNamespace&&i.portalUrl){let n=t[i.authNamespace];n||(n=t[i.authNamespace]={}),this.appId||(this.appId=i.appId),n[i.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,token:this.token,userId:this.userId};try{this.storage.setItem(KT,JSON.stringify(t))}catch(s){return console.warn(s),!1}return!0}return!1}destroy(){const t=this._load(),i=this.oAuthInfo;if(i!=null&&i.appId&&(i!=null&&i.portalUrl)&&(this.expires==null||this.expires>Date.now())&&(this.refreshToken||this.token)){const n=i.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",s=new FormData;if(s.append("f","json"),s.append("auth_token",this.refreshToken||this.token),s.append("client_id",i.appId),s.append("token_type_hint",this.refreshToken?"refresh_token":"access_token"),typeof navigator.sendBeacon=="function")navigator.sendBeacon(n,s);else{const u=new XMLHttpRequest;u.open("POST",n),u.send(s)}}if(i!=null&&i.authNamespace&&i.portalUrl&&this.storage){const n=t[i.authNamespace];if(n){delete n[i.portalUrl];try{this.storage.setItem(KT,JSON.stringify(t))}catch(s){console.log(s)}}}i&&(i._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),i=this.oAuthInfo;if(i!=null&&i.authNamespace&&i.portalUrl){let n=t[i.authNamespace];n&&(n=n[i.portalUrl],n&&(this.appId=n.appId,this.codeVerifier=n.codeVerifier,this.expires=n.expires,this.refreshToken=n.refreshToken,this.ssl=n.ssl,this.stateUID=n.stateUID,this.token=n.token,this.userId=n.userId))}}_load(){let t={};if(this.storage){const i=this.storage.getItem(KT);if(i)try{t=JSON.parse(i)}catch(n){console.warn(n)}}return t}};x$.prototype.declaredClass="esri.identity.OAuthCredential";var S$;let gs=S$=class extends tt{constructor(e){super(e),this._oAuthCred=null,this.appId=null,this.authNamespace="/",this.expiration=20160,this.flowType="auto",this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl="oauth-callback.html",this.popupWindowFeatures="height=490,width=800,resizable,scrollbars,status",this.portalUrl="https://www.arcgis.com",this.preserveUrlHash=!1,this.userId=null}clone(){return S$.fromJSON(this.toJSON())}};S([M({json:{write:!0}})],gs.prototype,"appId",void 0),S([M({json:{write:!0}})],gs.prototype,"authNamespace",void 0),S([M({json:{write:!0}})],gs.prototype,"expiration",void 0),S([M({json:{write:!0}})],gs.prototype,"flowType",void 0),S([M({json:{write:!0}})],gs.prototype,"forceLogin",void 0),S([M({json:{write:!0}})],gs.prototype,"forceUserId",void 0),S([M({json:{write:!0}})],gs.prototype,"locale",void 0),S([M({json:{write:!0}})],gs.prototype,"minTimeUntilExpiration",void 0),S([M({json:{write:!0}})],gs.prototype,"popup",void 0),S([M({json:{write:!0}})],gs.prototype,"popupCallbackUrl",void 0),S([M({json:{write:!0}})],gs.prototype,"popupWindowFeatures",void 0),S([M({json:{write:!0}})],gs.prototype,"portalUrl",void 0),S([M({json:{write:!0}})],gs.prototype,"preserveUrlHash",void 0),S([M({json:{write:!0}})],gs.prototype,"userId",void 0),gs=S$=S([ue("esri.identity.OAuthInfo")],gs);const FF=gs;let na=class extends tt{constructor(t){super(t),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};S([M({json:{write:!0}})],na.prototype,"adminTokenServiceUrl",void 0),S([M({json:{write:!0}})],na.prototype,"currentVersion",void 0),S([M({json:{write:!0}})],na.prototype,"hasPortal",void 0),S([M({json:{write:!0}})],na.prototype,"hasServer",void 0),S([M({json:{write:!0}})],na.prototype,"owningSystemUrl",void 0),S([M({json:{write:!0}})],na.prototype,"owningTenant",void 0),S([M({json:{write:!0}})],na.prototype,"server",void 0),S([M({json:{write:!0}})],na.prototype,"shortLivedTokenValidity",void 0),S([M({json:{write:!0}})],na.prototype,"tokenServiceUrl",void 0),S([M({json:{write:!0}})],na.prototype,"webTierAuth",void 0),na=S([ue("esri.identity.ServerInfo")],na);const XT=na,E9={},LK=e=>{const t=new Do(e.owningSystemUrl).host,i=new Do(e.server).host,n=/.+\.arcgis\.com$/i;return n.test(t)&&n.test(i)},_$=(e,t)=>!!(LK(e)&&t&&t.some(i=>i.test(e.server)));let T9=null,M9=null;try{T9=window.localStorage,M9=window.sessionStorage}catch{}let zK=class extends Ms{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this._defaultOAuthInfo=null,this._defaultTokenValidity=60,this.dialog=null,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=window.origin!=="null"?window.origin:window.location.origin,this._appUrlObj=ho(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthLocationParams=null,this._gwTokenUrl="/sharing/rest/generateToken",this._agsRest="/rest/services",this._agsPortal=/\/sharing(\/|$)/i,this._agsAdmin=/(https?:\/\/[^/]+\/[^/]+)\/admin\/?(\/.*)?$/i,this._adminSvcs=/\/rest\/admin\/services(\/|$)/i,this._gwDomains=[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"}],this._legacyFed=[],this._regexSDirUrl=/http.+\/rest\/services\/?/gi,this._regexServerType=/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|KnowledgeGraphServer|MapServer|MissionServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer|VideoServer)).*/gi,this._gwUser=/http.+\/users\/([^/]+).*/i,this._gwItem=/http.+\/items\/([^/]+).*/i,this._gwGroup=/http.+\/groups\/([^/]+).*/i,this._rePortalTokenSvc=/\/sharing(\/rest)?\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getPlatformSelfError=null,this._getOAuthLocationParams(),window.addEventListener("pageshow",t=>{this._pageShowHandler(t)})}registerServers(t){const i=this.serverInfos;i?(t=t.filter(n=>!this.findServerInfo(n.server)),this.serverInfos=i.concat(t)):this.serverInfos=t,t.forEach(n=>{n.owningSystemUrl&&this._portals.push(n.owningSystemUrl),n.hasPortal&&this._portals.push(n.server)})}registerOAuthInfos(t){const i=this.oAuthInfos;if(i){for(const n of t){const s=this.findOAuthInfo(n.portalUrl);s&&i.splice(i.indexOf(s),1)}this.oAuthInfos=i.concat(t)}else this.oAuthInfos=t}registerToken(t){t={...t};const i=this._sanitizeUrl(t.server),n=this._isServerRsrc(i);let s,u=this.findServerInfo(i),p=!0;u||(u=new XT,u.server=this._getServerInstanceRoot(i),n?u.hasServer=!0:(u.tokenServiceUrl=this._getTokenSvcUrl(i),u.hasPortal=!0),this.registerServers([u])),s=this._findCredential(i),s?(delete t.server,Object.assign(s,t),p=!1):(s=new Nn({userId:t.userId,server:u.server??void 0,token:t.token,expires:t.expires,ssl:t.ssl,scope:n?"server":"portal"}),s.resources=[i],this.credentials.push(s)),s.emitTokenChange(!1),p||s.refreshServerTokens()}toJSON(){return kO({serverInfos:this.serverInfos.map(t=>t.toJSON()),oAuthInfos:this.oAuthInfos.map(t=>t.toJSON()),credentials:this.credentials.map(t=>t.toJSON())})}initialize(t){if(!t)return;typeof t=="string"&&(t=JSON.parse(t));const i=t.serverInfos,n=t.oAuthInfos,s=t.credentials;if(i){const u=[];i.forEach(p=>{p.server&&p.tokenServiceUrl&&u.push(p.declaredClass?p:new XT(p))}),u.length&&this.registerServers(u)}if(n){const u=[];n.forEach(p=>{p.appId&&u.push(p.declaredClass?p:new FF(p))}),u.length&&this.registerOAuthInfos(u)}s&&s.forEach(u=>{u.server&&u.token&&u.expires&&u.expires>Date.now()&&((u=u.declaredClass?u:new Nn(u)).emitTokenChange(),this.credentials.push(u))})}findServerInfo(t){let i;t=this._sanitizeUrl(t);for(const n of this.serverInfos)if(this._hasSameServerInstance(n.server,t)){i=n;break}return i}findOAuthInfo(t){let i;t=this._sanitizeUrl(t);for(const n of this.oAuthInfos)if(this._hasSameServerInstance(n.portalUrl,t)){i=n;break}return i}findCredential(t,i){if(!t)return;let n;t=this._sanitizeUrl(t);const s=this._isServerRsrc(t)?"server":"portal";if(i){for(const u of this.credentials)if(this._hasSameServerInstance(u.server,t)&&i===u.userId&&u.scope===s){n=u;break}}else for(const u of this.credentials)if(this._hasSameServerInstance(u.server,t)&&this._getIdenticalSvcIdx(t,u)!==-1&&u.scope===s){n=u;break}return n}getCredential(t,i){let n,s,u=!0;i&&(n=!!i.token,s=i.error,u=i.prompt!==!1),i={...i},t=this._sanitizeUrl(t);const p=new AbortController,g=pa();if(i.signal&&Ro(i.signal,()=>{p.abort()}),Ro(p,()=>{g.reject(new ze("identity-manager:user-aborted","ABORTED"))}),Sa(p))return g.promise;i.signal=p.signal;const w=this._isAdminResource(t),E=n?this.findCredential(t):null;let A;if(E&&s&&s.details&&s.details.httpStatus===498)E.destroy();else if(E)return A=new ze("identity-manager:not-authorized","You are currently signed in as: '"+E.userId+"'. You do not have access to this resource: "+t,{error:s}),g.reject(A),g.promise;const I=this._findCredential(t,i);if(I)return g.resolve(I),g.promise;let R=this.findServerInfo(t);if(R)!R.hasPortal&&R.server&&R.owningSystemUrl&&this._hasSameServerInstance(R.server,R.owningSystemUrl)&&(R.hasPortal=!0),!R.hasServer&&this._isServerRsrc(t)&&(R._restInfoPms=this._getTokenSvcUrl(t),R.hasServer=!0);else{const F=this._getTokenSvcUrl(t);if(!F)return A=new ze("identity-manager:unknown-resource","Unknown resource - could not find token service endpoint."),g.reject(A),g.promise;R=new XT,R.server=this._getServerInstanceRoot(t),typeof F=="string"?(R.tokenServiceUrl=F,R.hasPortal=!0):(R._restInfoPms=F,R.hasServer=!0),this.registerServers([R])}return R.hasPortal&&R._selfReq===void 0&&(u||Oo(R.tokenServiceUrl,this._appOrigin)||this._gwDomains.some(F=>F.tokenServiceUrl===R.tokenServiceUrl))&&(R._selfReq={owningTenant:i==null?void 0:i.owningTenant,selfDfd:this._getPortalSelf(R.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),t)}),this._enqueue(t,R,i,g,w)}getResourceName(t){return this._isRESTService(t)?t.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(t)&&t.replace(this._gwUser,"$1")||this._gwItem.test(t)&&t.replace(this._gwItem,"$1")||this._gwGroup.test(t)&&t.replace(this._gwGroup,"$1")||""}generateToken(t,i,n){const s=this._rePortalTokenSvc.test(t.tokenServiceUrl),u=new Do(this._appOrigin),p=t.shortLivedTokenValidity;let g,w,E,A,I,R,F,q;i&&(q=this.tokenValidity||p||this._defaultTokenValidity,q>p&&p>0&&(q=p)),n&&(g=n.isAdmin,w=n.serverUrl,E=n.token,R=n.signal,F=n.ssl,t.customParameters=n.customParameters),g?A=t.adminTokenServiceUrl:(A=t.tokenServiceUrl,I=new Do(A.toLowerCase()),t.webTierAuth&&(n!=null&&n.serverUrl)&&!F&&u.scheme==="http"&&(Oo(u.uri,A,!0)||I.scheme==="https"&&u.host===I.host&&u.port==="7080"&&I.port==="7443")&&(A=A.replace(/^https:/i,"http:").replace(/:7443/i,":7080")));const B={query:{request:"getToken",username:i==null?void 0:i.username,password:i==null?void 0:i.password,serverUrl:w,token:E,expiration:q,referer:g||s?this._appOrigin:null,client:g?"referer":null,f:"json",...t.customParameters},method:"post",authMode:"anonymous",useProxy:this._useProxy(t,n),signal:R,...n==null?void 0:n.ioArgs};return s||(B.withCredentials=!1),en(A,B).then(K=>{const te=K.data;if(!(te!=null&&te.token))return new ze("identity-manager:authentication-failed","Unable to generate token");const ce=t.server;return E9[ce]||(E9[ce]={}),i&&(E9[ce][i.username]=i.password),te.validity=q,te})}isBusy(){return!!this._busy}async checkSignInStatus(t){return(await this.checkAppAccess(t,"")).credential}checkAppAccess(t,i,n){let s=!1;return this.getCredential(t,{prompt:!1}).then(u=>{let p;const g={f:"json"};if(u.scope==="portal")if(i&&(this._doPortalSignIn(t)||n!=null&&n.force))p=u.server+"/sharing/rest/oauth2/validateAppAccess",g.client_id=i;else{if(!u.token)return{credential:u};p=u.server+"/sharing/rest"}else{if(!u.token)return{credential:u};p=u.server+"/rest/services"}return u.token&&(g.token=u.token),en(p,{query:g,authMode:"anonymous"}).then(w=>{if(w.data.valid===!1)throw new ze("identity-manager:not-authorized",`You are currently signed in as: '${u.userId}'.`,w.data);return s=!!w.data.viewOnlyUserTypeApp,{credential:u}}).catch(w=>{var A;if(w.name==="identity-manager:not-authorized")throw w;const E=(A=w.details)==null?void 0:A.httpStatus;if(E===498)throw u.destroy(),new ze("identity-manager:not-authenticated","User is not signed in.");if(E===400)throw new ze("identity-manager:invalid-request");return{credential:u}})}).then(u=>({credential:u.credential,viewOnly:s}))}setOAuthResponseHash(t){t&&(t.charAt(0)==="#"&&(t=t.slice(1)),this._processOAuthPopupParams(j0(t)))}setOAuthRedirectionHandler(t){this._oAuthRedirectFunc=t}setProtocolErrorHandler(t){this._protocolFunc=t}signIn(t,i,n={}){const s=pa(),u=()=>{var A;w==null||w.remove(),E==null||E.remove(),(A=this.dialog)==null||A.destroy(),this.dialog=w=E=null},p=()=>{u(),this._oAuthDfd=null,s.reject(new ze("identity-manager:user-aborted","ABORTED"))};n.signal&&Ro(n.signal,()=>{p()});const g=new jF({open:!0,resource:this.getResourceName(t),server:i.server});this.dialog=g,this.emit("dialog-create");let w=g.on("cancel",p),E=g.on("submit",A=>{this.generateToken(i,A,{isAdmin:n.isAdmin,signal:n.signal}).then(I=>{u();const R=new Nn({userId:A.username,server:i.server??void 0,token:I.token,expires:I.expires!=null?Number(I.expires):null,ssl:!!I.ssl,isAdmin:n.isAdmin,validity:I.validity});s.resolve(R)}).catch(I=>{g.error=I,g.signingIn=!1})});return s.promise}oAuthSignIn(t,i,n,s){this._oAuthDfd=pa();const u=this._oAuthDfd;let p;s!=null&&s.signal&&Ro(s.signal,()=>{const R=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;R&&!R.closed?R.close():this.dialog&&A()}),u.resUrl_=t,u.sinfo_=i,u.oinfo_=n;const g=n._oAuthCred;if(g.storage&&(n.flowType==="authorization-code"||n.flowType==="auto"&&i.currentVersion>=8.4)){let R=crypto.getRandomValues(new Uint8Array(32));p=kT(R),g.codeVerifier=p,R=crypto.getRandomValues(new Uint8Array(32)),g.stateUID=kT(R),g.save()||(g.codeVerifier=p=null)}else g.codeVerifier=null;let w,E;this._getCodeChallenge(p).then(R=>{const F=!s||s.oAuthPopupConfirmation!==!1;if(!n.popup||!F)return void this._doOAuthSignIn(t,i,n,R);const q=new jF({oAuthPrompt:!0,server:i.server,open:!0});this.dialog=q,this.emit("dialog-create"),w=q.on("cancel",A),E=q.on("submit",()=>{I(),this._doOAuthSignIn(t,i,n,R)})});const A=()=>{I(),this._oAuthDfd=null,u.reject(new ze("identity-manager:user-aborted","ABORTED"))},I=()=>{var R;w==null||w.remove(),E==null||E.remove(),(R=this.dialog)==null||R.destroy(),this.dialog=null};return u.promise}destroyCredentials(){this.credentials&&this.credentials.slice().forEach(t=>{t.destroy()}),this.emit("credentials-destroy")}enablePostMessageAuth(t="https://www.arcgis.com/sharing/rest"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=Z0(window,"message",i=>{var n;if((i.origin===this._appOrigin||i.origin.endsWith(".arcgis.com"))&&((n=i.data)==null?void 0:n.type)==="arcgis:auth:requestCredential"){const s=i.source;this.getCredential(t).then(u=>{s.postMessage({type:"arcgis:auth:credential",credential:{expires:u.expires,server:u.server,ssl:u.ssl,token:u.token,userId:u.userId}},i.origin)}).catch(u=>{s.postMessage({type:"arcgis:auth:error",error:{name:u.name,message:u.message}},i.origin)})}})}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthLocationParams(){var n,s;let t=window.location.hash;if(t){t.charAt(0)==="#"&&(t=t.slice(1));const u=j0(t);let p=!1;if(u.access_token&&u.expires_in&&u.state&&u.hasOwnProperty("username"))try{u.state=JSON.parse(u.state),u.state.portalUrl&&(this._oAuthLocationParams=u,p=!0)}catch{}else if(u.error&&u.error_description&&(console.log("IdentityManager OAuth Error: ",u.error," - ",u.error_description),u.error==="access_denied"&&(p=!0,u.state)))try{u.state=JSON.parse(u.state)}catch{}p&&(window.location.hash=((n=u.state)==null?void 0:n.hash)||"")}let i=window.location.search;if(i){i.charAt(0)==="?"&&(i=i.slice(1));const u=j0(i);let p=!1;if(u.code&&u.state)try{u.state=JSON.parse(u.state),u.state.portalUrl&&u.state.uid&&(this._oAuthLocationParams=u,p=!0)}catch{}else if(u.error&&u.error_description&&(console.log("IdentityManager OAuth Error: ",u.error," - ",u.error_description),u.error==="access_denied"&&(p=!0,u.state)))try{u.state=JSON.parse(u.state)}catch{}if(p){const g={...u};["code","error","error_description","message_code","persist","state"].forEach(A=>{delete g[A]});const w=o1(g),E=window.location.pathname+(w?`?${w}`:"")+(((s=u.state)==null?void 0:s.hash)||"");window.history.replaceState(window.history.state,"",E)}}}_getOAuthToken(t,i,n,s,u){return t=t.replace(/^http:/i,"https:"),en(`${t}/sharing/rest/oauth2/token`,{authMode:"anonymous",method:"post",query:s&&u?{grant_type:"authorization_code",code:i,redirect_uri:s,client_id:n,code_verifier:u}:{grant_type:"refresh_token",refresh_token:i,client_id:n}}).then(p=>p.data)}async _getCodeChallenge(t){if(t&&globalThis.isSecureContext){const i=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",i);return kT(new Uint8Array(n))}return null}_pageShowHandler(t){if(t.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const i=new ze("identity-manager:user-aborted","ABORTED");this._errbackFunc(i)}}_findCredential(t,i){let n,s,u,p,g=-1;const w=i==null?void 0:i.token,E=i==null?void 0:i.resource,A=this._isServerRsrc(t)?"server":"portal",I=this.credentials.filter(R=>this._hasSameServerInstance(R.server,t)&&R.scope===A);if(t=E||t,I.length)if(I.length===1){if(n=I[0],u=this.findServerInfo(n.server),s=u==null?void 0:u.owningSystemUrl,p=s?this.findCredential(s,n.userId):void 0,g=this._getIdenticalSvcIdx(t,n),!w)return g===-1&&n.resources.push(t),this._addResource(t,p),n;g!==-1&&(n.resources.splice(g,1),this._removeResource(t,p))}else{let R,F;if(I.some(q=>(F=this._getIdenticalSvcIdx(t,q),F!==-1&&(R=q,u=this.findServerInfo(R.server),s=u==null?void 0:u.owningSystemUrl,p=s?this.findCredential(s,R.userId):void 0,g=F,!0))),w)R&&(R.resources.splice(g,1),this._removeResource(t,p));else if(R)return this._addResource(t,p),R}}_findOAuthInfo(t){let i=this.findOAuthInfo(t);if(!i){for(const n of this.oAuthInfos)if(this._isIdProvider(n.portalUrl,t)){i=n;break}}return i}_addResource(t,i){i&&this._getIdenticalSvcIdx(t,i)===-1&&i.resources.push(t)}_removeResource(t,i){let n=-1;i&&(n=this._getIdenticalSvcIdx(t,i),n>-1&&i.resources.splice(n,1))}_useProxy(t,i){return(i==null?void 0:i.isAdmin)&&!Oo(t.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(t.tokenServiceUrl)&&String(t.currentVersion)==="10.1"&&!Oo(t.tokenServiceUrl,this._appOrigin)}_getOrigin(t){const i=new Do(t);return i.scheme+"://"+i.host+(i.port!=null?":"+i.port:"")}_getServerInstanceRoot(t){const i=t.toLowerCase();let n=i.indexOf(this._agsRest);return n===-1&&this._isAdminResource(t)&&(n=this._agsAdmin.test(t)?t.replace(this._agsAdmin,"$1").length:t.search(this._adminSvcs)),n!==-1||QJ(i)||(n=i.indexOf("/sharing")),n===-1&&i.endsWith("/")&&(n=i.length-1),n>-1?t.slice(0,n):t}_hasSameServerInstance(t,i){return t.endsWith("/")&&(t=t.slice(0,-1)),t=t.toLowerCase(),i=this._getServerInstanceRoot(i).toLowerCase(),t=f4(t),i=f4(i),(t=t.slice(Math.max(0,t.indexOf(":"))))===(i=i.slice(Math.max(0,i.indexOf(":"))))}_sanitizeUrl(t){const i=(Bi.request.proxyUrl||"").toLowerCase(),n=i?t.toLowerCase().indexOf(i+"?"):-1;return n!==-1&&(t=t.slice(n+i.length+1)),t=hl(t),ho(t).path}_isRESTService(t){return t.includes(this._agsRest)}_isAdminResource(t){return this._agsAdmin.test(t)||this._adminSvcs.test(t)}_isServerRsrc(t){return this._isRESTService(t)||this._isAdminResource(t)}_isIdenticalService(t,i){let n=!1;if(this._isRESTService(t)&&this._isRESTService(i)){const s=this._getSuffix(t).toLowerCase(),u=this._getSuffix(i).toLowerCase();if(n=s===u,!n){const p=/(.*)\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;n=s.replaceAll(p,"$1")===u.replaceAll(p,"$1")}}else this._isAdminResource(t)&&this._isAdminResource(i)?n=!0:this._isServerRsrc(t)||this._isServerRsrc(i)||!this._isPortalDomain(t)||(n=!0);return n}_isPortalDomain(t){const i=new Do(t.toLowerCase()),n=this._portalConfig;let s=this._gwDomains.some(u=>u.regex.test(i.uri));return!s&&n&&(s=this._hasSameServerInstance(this._getServerInstanceRoot(n.restBaseUrl),i.uri)),s||Bi.portalUrl&&(s=Oo(i,Bi.portalUrl,!0)),s||(s=this._portals.some(u=>this._hasSameServerInstance(u,i.uri))),s=s||this._agsPortal.test(i.path),s}_isIdProvider(t,i){let n=-1,s=-1;this._gwDomains.forEach((p,g)=>{n===-1&&p.regex.test(t)&&(n=g),s===-1&&p.regex.test(i)&&(s=g)});let u=!1;if(n>-1&&s>-1&&(n===0||n===4?s!==0&&s!==4||(u=!0):n===1?s!==1&&s!==2||(u=!0):n===2?s===2&&(u=!0):n===3&&s===3&&(u=!0)),!u){const p=this.findServerInfo(i),g=p==null?void 0:p.owningSystemUrl;g&&LK(p)&&this._isPortalDomain(g)&&this._isIdProvider(t,g)&&(u=!0)}return u}_getIdenticalSvcIdx(t,i){let n=-1;for(let s=0;s<i.resources.length;s++){const u=i.resources[s];if(this._isIdenticalService(t,u)){n=s;break}}return n}_getSuffix(t){return t.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")}_getTokenSvcUrl(t){let i,n,s;if(this._isRESTService(t)||this._isAdminResource(t)){const u=this._getServerInstanceRoot(t);return i=u+"/admin/generateToken",n=en(t=u+"/rest/info",{query:{f:"json"}}).then(p=>p.data),{adminUrl:i,promise:n}}if(this._isPortalDomain(t)){let u="";if(this._gwDomains.some(p=>(p.regex.test(t)&&(u=p.tokenServiceUrl),!!u)),u||this._portals.some(p=>(this._hasSameServerInstance(p,t)&&(u=p+this._gwTokenUrl),!!u)),u||(s=t.toLowerCase().indexOf("/sharing"),s!==-1&&(u=t.slice(0,s)+this._gwTokenUrl)),u||(u=this._getOrigin(t)+this._gwTokenUrl),u){const p=new Do(t).port;/^http:\/\//i.test(t)&&p==="7080"&&(u=u.replace(/:7080/i,":7443")),u=u.replace(/http:/i,"https:")}return u}}_processOAuthResponseParams(t,i,n){const s=i._oAuthCred;if(t.code){const p=s.codeVerifier;return s.codeVerifier=null,s.stateUID=null,s.save(),this._getOAuthToken(n.server,t.code,i.appId,this._getRedirectURI(i,!0),p).then(g=>{const w=new Nn({userId:g.username,server:n.server??void 0,token:g.access_token,expires:Date.now()+1e3*g.expires_in,ssl:g.ssl,oAuthState:t.state,_oAuthCred:s});return i.userId=w.userId,s.storage=g.persist?T9:M9,s.refreshToken=g.refresh_token,s.token=null,s.expires=g.refresh_token_expires_in?Date.now()+1e3*g.refresh_token_expires_in:null,s.userId=w.userId,s.ssl=w.ssl,s.save(),w})}const u=new Nn({userId:t.username,server:n.server??void 0,token:t.access_token,expires:Date.now()+1e3*Number(t.expires_in),ssl:t.ssl==="true",oAuthState:t.state,_oAuthCred:s});return i.userId=u.userId,s.storage=t.persist?T9:M9,s.refreshToken=null,s.token=u.token,s.expires=u.expires,s.userId=u.userId,s.ssl=u.ssl,s.save(),Promise.resolve(u)}_processOAuthPopupParams(t){var n;const i=this._oAuthDfd;if(this._oAuthDfd=null,i)if(clearInterval(this._oAuthIntervalId),(n=this._oAuthOnPopupHandle)==null||n.remove(),t.error){const s=t.error==="access_denied",u=new ze(s?"identity-manager:user-aborted":"identity-manager:authentication-failed",s?"ABORTED":"OAuth: "+t.error+" - "+t.error_description);i.reject(u)}else this._processOAuthResponseParams(t,i.oinfo_,i.sinfo_).then(s=>{i.resolve(s)}).catch(s=>{i.reject(s)})}_setOAuthResponseQueryString(t){t&&(t.charAt(0)==="?"&&(t=t.slice(1)),this._processOAuthPopupParams(j0(t)))}async _exchangeToken(t,i,n){return(await en(`${t}/sharing/rest/oauth2/exchangeToken`,{authMode:"anonymous",method:"post",query:{f:"json",client_id:i,token:n}})).data.token}async _getPlatformSelf(t,i){var n;if(this._getPlatformSelfError&&Date.now()-this._getPlatformSelfError[1]<1e3)throw this._getPlatformSelfError[0];t=t.replace(/^http:/i,"https:");try{const s=await en(`${t}/sharing/rest/oauth2/platformSelf`,{authMode:"anonymous",headers:{"X-Esri-Auth-Client-Id":i,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},method:"post",query:{f:"json",expiration:30},withCredentials:!0});return this._getPlatformSelfError=null,s.data}catch(s){throw((n=s.details)==null?void 0:n.messageCode)==="OAUTH_0066"&&(this._getPlatformSelfError=[s,Date.now()]),s}}_getPortalSelf(t,i){let n;return this._gwDomains.some(s=>(s.regex.test(t)&&(n=s.customBaseUrl),!!n)),n?Promise.resolve({allSSL:!0,currentVersion:"8.4",customBaseUrl:n,portalMode:"multitenant",supportsOAuth:!0}):(this._appOrigin.startsWith("https:")?t=t.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(i)&&(t=t.replace(/^https:/i,"http:").replace(/:7443/i,":7080")),en(t,{query:{f:"json"},authMode:"anonymous",withCredentials:!0}).then(s=>s.data))}_doPortalSignIn(t){const i=this._portalConfig,n=window.location.href,s=this.findServerInfo(t);return!(!i&&!this._isPortalDomain(n)||!(s?s.hasPortal||s.owningSystemUrl&&this._isPortalDomain(s.owningSystemUrl):this._isPortalDomain(t))||!(this._isIdProvider(n,t)||i&&(this._hasSameServerInstance(this._getServerInstanceRoot(i.restBaseUrl),t)||this._isIdProvider(i.restBaseUrl,t))||Oo(n,t,!0)))}_checkProtocol(t,i,n,s){let u=!0;const p=s?i.adminTokenServiceUrl:i.tokenServiceUrl;return p.trim().toLowerCase().startsWith("https:")&&!this._appOrigin.startsWith("https:")&&Gw(p)&&(u=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:t,serverInfo:i}),!u)&&n(new ze("identity-manager:aborted","Aborted the Sign-In process to avoid sending password over insecure connection.")),u}_enqueue(t,i,n,s,u,p){return s||(s=pa()),s.resUrl_=t,s.sinfo_=i,s.options_=n,s.admin_=u,s.refresh_=p,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(t),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(s)):this._xoReqs.push(s):this._doSignIn(s),s.promise}_doSignIn(t){this._busy=t,this._rejectOnPersistedPageShow=!1;const i=E=>{var K;const A=(K=t.options_)==null?void 0:K.resource,I=t.resUrl_,R=t.refresh_;let F=!1;this.credentials.includes(E)||(R&&this.credentials.includes(R)?(R.userId=E.userId,R.token=E.token,R.expires=E.expires,R.validity=E.validity,R.ssl=E.ssl,R.creationTime=E.creationTime,F=!0,E=R):this.credentials.push(E)),E.resources||(E.resources=[]),E.resources.includes(A||I)||E.resources.push(A||I),E.scope=this._isServerRsrc(I)?"server":"portal",E.emitTokenChange();const q=this._soReqs,B={};this._soReqs=[],q.forEach(te=>{if(!this._isIdenticalService(I,te.resUrl_)){const ce=this._getSuffix(te.resUrl_);B[ce]||(B[ce]=!0,E.resources.push(te.resUrl_))}}),t.resolve(E),q.forEach(te=>{this._hasSameServerInstance(this._getServerInstanceRoot(I),te.resUrl_)?te.resolve(E):this._soReqs.push(te)}),this._busy=t.resUrl_=t.sinfo_=t.refresh_=null,F||this.emit("credential-create",{credential:E}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},n=E=>{t.reject(E),this._busy=t.resUrl_=t.sinfo_=t.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=(E,A,I,R)=>{var ce,ye,_e;const F=t.sinfo_,q=!t.options_||t.options_.prompt!==!1,B=F.hasPortal&&this._findOAuthInfo(t.resUrl_);let K,te;if(E)i(new Nn({userId:E,server:F.server??void 0,token:I??void 0,expires:R!=null?Number(R):null,ssl:!!A}));else if(window!==window.parent&&((ce=this._appUrlObj.query)!=null&&ce["arcgis-auth-origin"])&&((ye=this._appUrlObj.query)!=null&&ye["arcgis-auth-portal"])&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query["arcgis-auth-portal"]),t.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},this._appUrlObj.query["arcgis-auth-origin"]);const we=Z0(window,"message",xe=>{xe.source===window.parent&&xe.data&&(xe.data.type==="arcgis:auth:credential"?(we.remove(),xe.data.credential.expires<Date.now()?n(new ze("identity-manager:credential-request-failed","Parent application's token has expired.")):i(new Nn(xe.data.credential))):xe.data.type==="arcgis:auth:error"&&(we.remove(),xe.data.error.name==="tokenExpiredError"?n(new ze("identity-manager:credential-request-failed","Parent application's token has expired.")):n(ze.fromJSON(xe.data.error))))});Ro((_e=t.options_)==null?void 0:_e.signal,()=>{we.remove()})}else if(B){let we=B._oAuthCred;if(!we){const xe=new x$(B,T9),pe=new x$(B,M9);xe.isValid()&&pe.isValid()?xe.expires>pe.expires?(we=xe,pe.destroy()):(we=pe,xe.destroy()):we=xe.isValid()?xe:pe,B._oAuthCred=we}if(we.isValid()){K=new Nn({userId:we.userId??void 0,server:F.server??void 0,token:we.token??void 0,expires:we.expires,ssl:we.ssl??void 0,_oAuthCred:we});const xe=B.appId!==we.appId&&this._doPortalSignIn(t.resUrl_);xe||we.refreshToken?(t._pendingDfd=we.refreshToken?this._getOAuthToken(F.server,we.refreshToken,we.appId).then(pe=>(K.expires=Date.now()+1e3*pe.expires_in,K.token=pe.access_token,K)):Promise.resolve(K),t._pendingDfd.then(pe=>xe?this._exchangeToken(pe.server,B.appId,pe.token).then(Ze=>(pe.token=Ze,pe)).catch(()=>pe):pe).then(pe=>{i(pe)}).catch(pe=>{var Fe;const Ze=(Fe=pe.details)==null?void 0:Fe.httpStatus;Ze>0&&Ze!==404?(we.destroy(),s()):n(pe)})):i(K)}else if(this._oAuthLocationParams&&this._hasSameServerInstance(B.portalUrl,this._oAuthLocationParams.state.portalUrl)&&(this._oAuthLocationParams.access_token||this._oAuthLocationParams.code&&this._oAuthLocationParams.state.uid===we.stateUID&&we.codeVerifier)){const xe=this._oAuthLocationParams;this._oAuthLocationParams=null,t._pendingDfd=this._processOAuthResponseParams(xe,B,F).then(pe=>{i(pe)}).catch(n)}else{const xe=()=>{q?t._pendingDfd=this.oAuthSignIn(t.resUrl_,F,B,t.options_).then(i,n):(te=new ze("identity-manager:not-authenticated","User is not signed in."),n(te))};this._doPortalSignIn(t.resUrl_)?t._pendingDfd=this._getPlatformSelf(F.server,B.appId).then(pe=>{Oo(pe.portalUrl,this._appOrigin,!0)?(K=new Nn({userId:pe.username,server:F.server??void 0,expires:Date.now()+1e3*pe.expires_in,token:pe.token}),i(K)):xe()}).catch(xe):xe()}}else if(q){if(this._checkProtocol(t.resUrl_,F,n,t.admin_)){let we=t.options_;t.admin_&&(we=we||{},we.isAdmin=!0),t._pendingDfd=this.signIn(t.resUrl_,F,we).then(i,n)}}else te=new ze("identity-manager:not-authenticated","User is not signed in."),n(te)},u=()=>{const E=t.sinfo_,A=E.owningSystemUrl,I=t.options_;let R,F,q,B;if(I&&(R=I.token,F=I.error,q=I.prompt),B=this._findCredential(A,{token:R,resource:t.resUrl_}),!B){for(const K of this.credentials)if(this._isIdProvider(A,K.server)){B=K;break}}if(B){const K=this.findCredential(t.resUrl_,B.userId);if(K)i(K);else if(_$(E,this._legacyFed)){const te=B.toJSON();te.server=E.server,te.resources=null,i(new Nn(te))}else(t._pendingDfd=this.generateToken(this.findServerInfo(B.server),null,{serverUrl:t.resUrl_,token:B.token,signal:t.options_.signal,ssl:B.ssl})).then(te=>{i(new Nn({userId:B==null?void 0:B.userId,server:E.server??void 0,token:te.token,expires:te.expires!=null?Number(te.expires):null,ssl:!!te.ssl,isAdmin:t.admin_,validity:te.validity}))},n)}else this._busy=null,R&&(t.options_.token=null),(t._pendingDfd=this.getCredential(A.replace(/\/?$/,"/sharing"),{resource:t.resUrl_,owningTenant:E.owningTenant,signal:t.options_.signal,token:R,error:F,prompt:q})).then(()=>{this._enqueue(t.resUrl_,t.sinfo_,t.options_,t,t.admin_)},K=>{t.resUrl_=t.sinfo_=t.refresh_=null,t.reject(K)})};this._errbackFunc=n;const p=t.sinfo_.owningSystemUrl,g=this._isServerRsrc(t.resUrl_),w=t.sinfo_._restInfoPms;w?w.promise.then(E=>{const A=t.sinfo_;if(A._restInfoPms){A.adminTokenServiceUrl=A._restInfoPms.adminUrl,A._restInfoPms=null,A.tokenServiceUrl=(Sf("authInfo.tokenServicesUrl",E)||Sf("authInfo.tokenServiceUrl",E)||Sf("tokenServiceUrl",E))??null,A.shortLivedTokenValidity=Sf("authInfo.shortLivedTokenValidity",E)??null,A.currentVersion=E.currentVersion,A.owningTenant=E.owningTenant;const I=A.owningSystemUrl=E.owningSystemUrl;I&&this._portals.push(I)}g&&A.owningSystemUrl?u():s()},()=>{t.sinfo_._restInfoPms=null;const E=new ze("identity-manager:server-identification-failed","Unknown resource - could not find token service endpoint.");n(E)}):g&&p?u():t.sinfo_._selfReq?t.sinfo_._selfReq.selfDfd.then(E=>{var B;const A={};let I,R,F,q;return E&&(I=(B=E.user)==null?void 0:B.username,A.username=I,A.allSSL=E.allSSL,R=E.supportsOAuth,q=parseFloat(E.currentVersion),E.portalMode==="multitenant"&&(F=E.customBaseUrl),t.sinfo_.currentVersion=q),t.sinfo_.webTierAuth=!!I,I&&this.normalizeWebTierAuth?this.generateToken(t.sinfo_,null,{ssl:A.allSSL}).catch(()=>null).then(K=>(A.portalToken=K==null?void 0:K.token,A.tokenExpiration=K==null?void 0:K.expires,A)):!I&&R&&q>=4.4&&!this._findOAuthInfo(t.resUrl_)?this._generateOAuthInfo({portalUrl:t.sinfo_.server,customBaseUrl:F,owningTenant:t.sinfo_._selfReq.owningTenant}).catch(()=>null).then(()=>A):A}).catch(()=>null).then(E=>{t.sinfo_._selfReq=null,E?s(E.username,E.allSSL,E.portalToken,E.tokenExpiration):s()}):s()}_generateOAuthInfo(t){let i,n=null,s=t.portalUrl;const u=t.customBaseUrl,p=t.owningTenant,g=!this._defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(g){n=window.location.href;let w=n.indexOf("?");w>-1&&(n=n.slice(0,w)),w=n.search(/\/(apps|home)\//),n=w>-1?n.slice(0,w):null}return g&&n?(this._hasTestedIfAppIsOnPortal=!0,i=en(n+"/sharing/rest",{query:{f:"json"}}).then(()=>{this._defaultOAuthInfo=new FF({appId:"arcgisonline",popupCallbackUrl:n+"/home/oauth-callback.html"})})):i=Promise.resolve(),i.then(()=>{if(this._defaultOAuthInfo)return s=s.replace(/^http:/i,"https:"),en(s+"/sharing/rest/oauth2/validateRedirectUri",{query:{accountId:p,client_id:this._defaultOAuthInfo.appId,redirect_uri:co(this._defaultOAuthInfo.popupCallbackUrl),f:"json"}}).then(w=>{if(w.data.valid){const E=this._defaultOAuthInfo.clone();w.data.urlKey&&u?E.portalUrl="https://"+w.data.urlKey.toLowerCase()+"."+u:E.portalUrl=s,E.popup=window!==window.top||!(Oo(s,this._appOrigin)||this._gwDomains.some(A=>A.regex.test(s)&&A.regex.test(this._appOrigin))),this.oAuthInfos.push(E)}})})}_doOAuthSignIn(t,i,n,s){const u=n._oAuthCred,p={portalUrl:n.portalUrl};!n.popup&&n.preserveUrlHash&&window.location.hash&&(p.hash=window.location.hash),u.stateUID&&(p.uid=u.stateUID);const g={client_id:n.appId,response_type:u.codeVerifier?"code":"token",state:JSON.stringify(p),expiration:n.expiration,locale:n.locale,redirect_uri:this._getRedirectURI(n,!!u.codeVerifier)};n.forceLogin&&(g.force_login=!0),n.forceUserId&&n.userId&&(g.prepopulatedusername=n.userId),!n.popup&&this._doPortalSignIn(t)&&(g.redirectToUserOrgUrl=!0),u.codeVerifier&&(g.code_challenge=s||u.codeVerifier,g.code_challenge_method=s?"S256":"plain");const w=n.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",E=w+"?"+o1(g);if(n.popup){const A=window.open(E,"esriJSAPIOAuth",n.popupWindowFeatures);if(A)A.focus(),this._oAuthDfd.oAuthWin_=A,this._oAuthIntervalId=setInterval(()=>{if(A.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle.remove();const I=this._oAuthDfd;if(I){const R=new ze("identity-manager:user-aborted","ABORTED");I.reject(R)}}},500),this._oAuthOnPopupHandle=Z0(window,["arcgis:auth:hash","arcgis:auth:location:search"],I=>{I.type==="arcgis:auth:hash"?this.setOAuthResponseHash(I.detail):this._setOAuthResponseQueryString(I.detail)});else{const I=new ze("identity-manager:popup-blocked","ABORTED");this._oAuthDfd.reject(I)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:g,authorizeUrl:w,resourceUrl:t,serverInfo:i,oAuthInfo:n}):window.location.href=E}_getRedirectURI(t,i){const n=window.location.href.replace(/#.*$/,"");if(t.popup)return co(t.popupCallbackUrl);if(i){const s=ho(n);return s.query&&["code","error","error_description","message_code","persist","state"].forEach(u=>{delete s.query[u]}),u9(s.path,s.query)}return n}};zK.prototype.declaredClass="esri.identity.IdentityManagerBase";let Nn=class extends Ms.EventedAccessor{constructor(t){super(t),this._oAuthCred=null,this.tokenRefreshBuffer=2,t!=null&&t._oAuthCred&&(this._oAuthCred=t._oAuthCred)}initialize(){this.resources=this.resources||[],this.creationTime==null&&(this.creationTime=Date.now())}refreshToken(){const t=ai,i=t.findServerInfo(this.server),n=i==null?void 0:i.owningSystemUrl,s=!!n&&this.scope==="server",u=s&&_$(i,t._legacyFed),p=i.webTierAuth,g=p&&t.normalizeWebTierAuth,w=E9[this.server],E=w==null?void 0:w[this.userId];let A,I=this.resources&&this.resources[0],R=s?t.findServerInfo(n):null,F={username:this.userId,password:E};if(p&&!g)return;s&&!R&&t.serverInfos.some(B=>(t._isIdProvider(n,B.server)&&(R=B),!!R));const q=R?t.findCredential(R.server,this.userId):null;if(!s||q){if(!u){if(s)A={serverUrl:I,token:q==null?void 0:q.token,ssl:q==null?void 0:q.ssl};else if(g)F=null,A={ssl:this.ssl};else{if(!E){let B;return I&&(I=t._sanitizeUrl(I),this._enqueued=1,B=t._enqueue(I,i,null,null,this.isAdmin,this),B.then(()=>{this._enqueued=0,this.refreshServerTokens()}).catch(()=>{this._enqueued=0})),B}this.isAdmin&&(A={isAdmin:!0})}return t.generateToken(s?R:i,s?null:F,A).then(B=>{this.token=B.token,this.expires=B.expires!=null?Number(B.expires):null,this.creationTime=Date.now(),this.validity=B.validity,this.emitTokenChange(),this.refreshServerTokens()}).catch(()=>{})}q==null||q.refreshToken()}}refreshServerTokens(){if(this.scope==="portal"){const t=ai;t.credentials.forEach(i=>{const n=t.findServerInfo(i.server),s=n==null?void 0:n.owningSystemUrl;i!==this&&i.userId===this.userId&&s&&i.scope==="server"&&(t._hasSameServerInstance(this.server,s)||t._isIdProvider(s,this.server))&&(_$(n,t._legacyFed)?(i.token=this.token,i.expires=this.expires,i.creationTime=this.creationTime,i.validity=this.validity,i.emitTokenChange()):i.refreshToken())})}}emitTokenChange(t){clearTimeout(this._refreshTimer);const i=ai,n=this.server?i.findServerInfo(this.server):null,s=n==null?void 0:n.owningSystemUrl,u=s?i.findServerInfo(s):null;t===!1||s&&this.scope!=="portal"&&(!(u!=null&&u.webTierAuth)||i.normalizeWebTierAuth)||this.expires==null&&this.validity==null||this._startRefreshTimer(),this.emit("token-change")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const t=ai,i=t.credentials.indexOf(this);i>-1&&t.credentials.splice(i,1),this.emitTokenChange(),this.emit("destroy")}toJSON(){const t=kO({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),i=this.resources;return i&&i.length>0&&(t.resources=i.slice()),t}_startRefreshTimer(){clearTimeout(this._refreshTimer);const t=6e4*this.tokenRefreshBuffer,i=2**31-1;let n=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();n<0?n=0:n>i&&(n=i),this._refreshTimer=setTimeout(this.refreshToken.bind(this),n>t?n-t:n)}};S([M()],Nn.prototype,"creationTime",void 0),S([M()],Nn.prototype,"expires",void 0),S([M()],Nn.prototype,"isAdmin",void 0),S([M()],Nn.prototype,"oAuthState",void 0),S([M()],Nn.prototype,"resources",void 0),S([M()],Nn.prototype,"scope",void 0),S([M()],Nn.prototype,"server",void 0),S([M()],Nn.prototype,"ssl",void 0),S([M()],Nn.prototype,"token",void 0),S([M()],Nn.prototype,"tokenRefreshBuffer",void 0),S([M()],Nn.prototype,"userId",void 0),S([M()],Nn.prototype,"validity",void 0),Nn=S([ue("esri.identity.Credential")],Nn);let jK=class extends zK{};jK.prototype.declaredClass="esri.identity.IdentityManager";const TI=new jK;sge(TI);const X3e=Object.freeze(Object.defineProperty({__proto__:null,default:TI},Symbol.toStringTag,{value:"Module"}));function ng(e,t,i=!1){let{hasM:n,hasZ:s}=e;Array.isArray(t)?t.length!==4||n||s?t.length===3&&i&&!n?(s=!0,n=!1):t.length===3&&n&&s&&(n=!1,s=!1):(n=!0,s=!0):(s=!s&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=n}var E$;function UF(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function Q3e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Gd=E$=class extends C1{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var s;if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):Q3e(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const n=(s=i.points)==null?void 0:s[0];return n&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=n.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=n.length>3:i.hasM===void 0&&(i.hasM=n.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Yn,i=this.hasZ,n=this.hasM,s=i?3:2,u=e[0],p=UF(Math.min),g=UF(Math.max);let w,E,A,I,[R,F]=u,[q,B]=u;for(let K=0,te=e.length;K<te;K++){const ce=e[K],[ye,_e]=ce;if(R=p(R,ye),F=p(F,_e),q=g(q,ye),B=g(B,_e),i&&ce.length>2){const we=ce[2];w=p(w,we),A=g(A,we)}if(n&&ce.length>s){const we=ce[s];E=p(E,we),I=g(I,we)}}return t.xmin=R,t.ymin=F,t.xmax=q,t.ymax=B,t.spatialReference=this.spatialReference,i?(t.zmin=w,t.zmax=A):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=E,t.mmax=I):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ke(this.points)}addPoint(e){return ng(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ke(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new E$(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=t[2],n=3),this.hasM&&(i.m=t[n]),new gi(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new gi(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(ng(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};S([M({readOnly:!0})],Gd.prototype,"cache",null),S([M()],Gd.prototype,"extent",null),S([M({type:[[Number]],json:{write:{isRequired:!0}}})],Gd.prototype,"points",void 0),S([vt("points")],Gd.prototype,"writePoints",null),Gd=E$=S([ue("esri.geometry.Multipoint")],Gd),Gd.prototype.toJSON.isDefaultToJSON=!0;const Pg=Gd;function mFe(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function e5e(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var oc;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(oc||(oc={}));function VF(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const n=e.clone().normalize();if(!n)return null;let s=!1,u=!1;return n.forEach(p=>{p.hasZ&&(s=!0),p.hasM&&(u=!0)}),n.map(p=>{const g=[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]];if(s&&p.hasZ){const w=.5*(p.zmax-p.zmin);for(let E=0;E<g.length;E++)g[E].push(w)}if(u&&p.hasM){const w=.5*(p.mmax-p.mmin);for(let E=0;E<g.length;E++)g[E].push(w)}return g})}return null}function Q_(e,t){const i=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+n*n+s*s)}return Math.sqrt(i*i+n*n)}function FK(e,t,i){const n=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[n,s,e[2]+i*(t[2]-e[2])]:[n,s]}function yFe(e,t,i,n){return t5e(e,t,i[n],i[n+1])}function t5e(e,t,i,n){const[s,u]=t,[p,g]=i,[w,E]=n,A=w-p,I=E-g,R=A*A+I*I,F=(s-p)*A+(u-g)*I,q=Math.min(1,Math.max(0,F/R));return e[0]=p+A*q,e[1]=g+I*q,e}function gFe(e,t,i,n,s,u){let p=i,g=n,w=s-p,E=u-g;if(w!==0||E!==0){const A=((e-p)*w+(t-g)*E)/(w*w+E*E);A>1?(p=s,g=u):A>0&&(p+=w*A,g+=E*A)}return w=e-p,E=t-g,w*w+E*E}function UK(e,t){return FK(e,t,.5)}function vFe(e){const t=e.length;let i=0;for(let n=0;n<t-1;++n)i+=Q_(e[n],e[n+1]);return i}function bFe(e,t){if(t<=0)return e[0];const i=e.length;let n=0;for(let s=0;s<i-1;++s){const u=Q_(e[s],e[s+1]);if(t-n<u){const p=(t-n)/u;return FK(e[s],e[s+1],p)}n+=u}return e[i-1]}function e6(e,t=oc.X,i=oc.Y){let n=0;const s=e.length;let u=e[0];for(let p=1;p<s;p++){const g=e[p];n+=(g[t]-u[t])*(g[i]+u[i]),u=g}if(!VK(e)){const p=e[0];n+=(p[t]-u[t])*(p[i]+u[i])}return n>=0}function VK(e){const t=e.length;return t<3||pu(e[0],e[t-1])}function wFe(e){"rings"in e&&(i5e(e),n5e(e))}function i5e(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)VK(i)||(i.push(i[0].slice()),t=!0);return t}function n5e(e){if(!("rings"in e)||e.rings.length===0||e6(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function GK(e){return e.type!=="polygon"&&e.type!=="polyline"||HK(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function HK(e,t){const i=Cy(t);if(!i)return;const n=i.valid[0],s=i.valid[1],u=s-n;for(const p of e){let g=1/0,w=-1/0;for(const A of p){const I=r5e(A[0],n,s);g=Math.min(g,I),w=Math.max(w,I),A[0]=I}const E=w-g;u-E<E&&p.forEach(A=>{A[0]<0&&(A[0]+=u)})}}function r5e(e,t,i){const n=i-t;return e<t?i-(t-e)%n:e>i?t+(e-t)%n:e}function s5e(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,n]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===n.length&&i.every((s,u)=>s.length===n[u].length)}function xFe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function o5e(e){return e?a5e(e.rings,e.hasZ??!1):null}function a5e(e,t){if(!(e!=null&&e.length))return null;const i=[],n=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let u=0,p=e.length;u<p;u++){const g=qK(e[u],t,s);g&&n.push(g)}if(n.sort((u,p)=>{let g=u[2]-p[2];return g===0&&t&&(g=u[4]-p[4]),g}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const u=e[0]&&e[0].length?l5e(e[0],t):null;if(!u)return null;i[0]=u[0],i[1]=u[1],t&&u.length>2&&(i[2]=u[2])}return i}function qK(e,t,i){let n=0,s=0,u=0,p=0,g=0;const w=e.length?e[0][0]:0,E=e.length?e[0][1]:0,A=e.length&&t?e[0][2]:0;for(let R=0;R<e.length;R++){const F=e[R],q=e[(R+1)%e.length],[B,K,te]=F,ce=B-w,ye=K-E,[_e,we,xe]=q,pe=_e-w,Ze=we-E,Fe=ce*Ze-pe*ye;if(p+=Fe,n+=(ce+pe)*Fe,s+=(ye+Ze)*Fe,t&&F.length>2&&q.length>2){const He=te-A,nt=xe-A,Qe=ce*nt-pe*He;u+=(He+nt)*Qe,g+=Qe}B<i[0]&&(i[0]=B),B>i[1]&&(i[1]=B),K<i[2]&&(i[2]=K),K>i[3]&&(i[3]=K),t&&(te<i[4]&&(i[4]=te),te>i[5]&&(i[5]=te))}if(p>0&&(p*=-1),g>0&&(g*=-1),!p)return null;p*=.5,g*=.5;const I=[n/(6*p)+w,s/(6*p)+E,p];return t&&(i[4]===i[5]||g===0?(I[3]=(i[4]+i[5])/2,I[4]=0):(I[3]=u/(6*g)+A,I[4]=g)),I}function SFe(e,t){let i=0,n=0,s=0;e.nextPoint();const u=e.pathSize?e.x:0,p=e.pathSize?e.y:0;for(let g=0;g<e.pathSize;g++){e.seekInPath(g);const w=[e.x,e.y];e.seekInPath((g+1)%e.pathSize);const E=[e.x,e.y],[A,I]=w,R=A-u,F=I-p,[q,B]=E,K=q-u,te=B-p,ce=R*te-K*F;s+=ce,i+=(R+K)*ce,n+=(F+te)*ce,A<t[0]&&(t[0]=A),A>t[1]&&(t[1]=A),I<t[2]&&(t[2]=I),I>t[3]&&(t[3]=I)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+u,n/(6*s)+p,s]):null}function l5e(e,t){const i=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let s=0,u=0,p=0,g=0;for(let w=0,E=e.length;w<E-1;w++){const A=e[w],I=e[w+1];if(A&&I){i[0]=A[0],i[1]=A[1],n[0]=I[0],n[1]=I[1],t&&A.length>2&&I.length>2&&(i[2]=A[2],n[2]=I[2]);const R=Q_(i,n);if(R){s+=R;const F=UK(A,I);u+=R*F[0],p+=R*F[1],t&&F.length>2&&(g+=R*F[2])}}}return s>0?t?[u/s,p/s,g/s]:[u/s,p/s]:e.length?e[0]:null}function c5e(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const n=[],s=[],u=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const p=qK(e5e(e),e.hasZ,u);p&&s.push(p)}if(s.sort((p,g)=>{let w=p[2]-g[2];return w===0&&t&&(w=p[4]-g[4]),w}),s.length&&(n[0]=s[0][0],n[1]=s[0][1],t&&(n[2]=s[0][3]),(n[0]<u[0]||n[0]>u[1]||n[1]<u[2]||n[1]>u[3]||t&&(n[2]<u[4]||n[2]>u[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const p=e.pathSize?u5e(e):null;if(!p)return null;n[0]=p[0],n[1]=p[1],t&&p.length>2&&(n[2]=p[2])}return n}function u5e(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let s=0,u=0,p=0,g=0;if(e.nextPoint()){let w=e.x,E=e.y,A=e.z;for(;e.nextPoint();){const I=e.x,R=e.y,F=e.z;i[0]=w,i[1]=E,n[0]=I,n[1]=R,t&&(i[2]=A,n[2]=F);const q=Q_(i,n);if(q){s+=q;const B=UK(i,n);u+=q*B[0],p+=q*B[1],t&&B.length>2&&(g+=q*B[2])}w=I,E=R,A=F}}return s>0?t?[u/s,p/s,g/s]:[u/s,p/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const h5e=1e-6;function _Fe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<h5e){const s=c5e(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)f5e(i,n,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=n[0],i[1]+=n[1],i}const d5e=1/3;function f5e(e,t,i){if(!e||!i||i.pathSize<3)return null;i.nextPoint();const n=i.x,s=i.y;i.nextPoint();let u,p=i.x-n,g=i.y-s,w=0,E=0;for(;i.nextPoint();)w=i.x-n,E=i.y-s,u=.5*d5e*(w*g-E*p),e[0]+=u*(p+w),e[1]+=u*(g+E),p=w,g=E;const A=i.getCurrentRingArea(),I=[n,s];return I[0]-=t[0],I[1]-=t[1],I[0]*=A,I[1]*=A,e[0]+=I[0],e[1]+=I[1],e}const GF=new Float32Array(1);function EFe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function yl(e,t,i){return Math.min(Math.max(e,t),i)}function TFe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function p5e(e,t,i){return e+(t-e)*i}function MFe(e,t,i,n,s){return p5e(n,s,(e-t)/(i-t))}function BK(e){return e*Math.PI/180}function m5e(e){return 180*e/Math.PI}function $Fe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function MI(e){return Math.acos(yl(e,-1,1))}function $I(e){return Math.asin(yl(e,-1,1))}function Tf(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}const N4=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function T$(e){return N4.setFloat64(0,e),N4.getBigInt64(0)}function y5e(e){return N4.setBigInt64(0,e),N4.getFloat64(0)}const $9=BigInt("1000000"),g5e=WK(1);function WK(e){const t=T$(e=Math.abs(e)),i=y5e(t<=$9?$9:t-$9);return Math.abs(e-i)}function kFe(e,t,i=g5e){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&WK(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const n=T$(e),s=T$(t);return n<0!=s<0?!1:!((n<s?s-n:n-s)>$9)}function CFe(e,t,i=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const n=Math.abs(e-t),s=Math.abs(e),u=Math.abs(t);if(e===0||t===0||s<1e-12&&u<1e-12){if(n>.01*i)return!1}else if(n/(s+u)>i)return!1;return!0}function AFe(e){return JK(Math.max(-HF,Math.min(e,HF)))}function JK(e){return GF[0]=e,GF[0]}function OFe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Tf(t,1)&&Tf(i,1)&&Tf(n,1))}function IFe(e,t){return(e%t+t)%t}const HF=JK(34028234663852886e22);function PFe(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let n=t.toString().split("e");return n=(t=Math[e](+(n[0]+"e"+(n[1]?+n[1]-i:-i)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+i:i))}function I1(e=w5e){return[e[0],e[1],e[2],e[3]]}function ZK(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function RFe(e,t,i,n,s=I1()){return s[0]=e,s[1]=t,s[2]=i,s[3]=n,s}function DFe(e,t=I1()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function NFe(e,t){return new Yn({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function LFe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function zFe(e,t,i){if(t!=null)if("length"in t)M$(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else ZK(i,e)}function v5e(e,t,i=e){const n=t.length;let s=e[0],u=e[1],p=e[2],g=e[3];for(let w=0;w<n;w++){const E=t[w];s=Math.min(s,E[0]),u=Math.min(u,E[1]),p=Math.max(p,E[0]),g=Math.max(g,E[1])}return i[0]=s,i[1]=u,i[2]=p,i[3]=g,i}function jFe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function YK(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function KK(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function FFe(e){return YK(e)*KK(e)}function UFe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function VFe(e,t){return XK(e,t[0],t[1])}function GFe(e,t){return XK(e,t.x,t.y)}function XK(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function HFe(e,t,i){return t[0]>=e[0]-i&&t[1]>=e[1]-i&&t[0]<=e[2]+i&&t[1]<=e[3]+i}function qFe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function BFe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function WFe(e,t,i,n=e){return n[0]=e[0]+t,n[1]=e[1]+i,n[2]=e[2]+t,n[3]=e[3]+i,n}function b5e(e,t,i=e){return i[0]=e[0]-t,i[1]=e[1]-t,i[2]=e[2]+t,i[3]=e[3]+t,i}function JFe(e){return e?ZK(e,L4):I1(L4)}function M$(e){return e!=null&&e.length===4}function ZFe(e,t){return M$(e)&&M$(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const L4=[1/0,1/0,-1/0,-1/0],w5e=[0,0,0,0];function QK(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function eX(e){return e.points!==void 0}function tX(e){return e.x!==void 0&&e.y!==void 0}function iX(e){return e.paths!==void 0}function nX(e){return e.rings!==void 0}function rX(e){function t(i,n){return i==null?n:n==null?i:e(i,n)}return t}const Mf=rX(Math.min),$f=rX(Math.max);function YFe(e,t){return iX(t)?rg(e,t.paths,!1,!1):nX(t)?rg(e,t.rings,!1,!1):eX(t)?kI(e,t.points,!1,!1,!1,!1):QK(t)?sX(e,t):(tX(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function KFe(e){let t,i,n,s;for(e.reset(),t=n=1/0,i=s=-1/0;e.nextPath();){const u=x5e(e);t=Math.min(u[0],t),n=Math.min(u[1],n),i=Math.max(u[2],i),s=Math.max(u[3],s)}return I1([t,n,i,s])}function x5e(e){let t,i,n,s;for(t=n=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),i=Math.max(e.x,i),s=Math.max(e.y,s);return I1([t,n,i,s])}function XFe(e,t){return iX(t)?rg(e,t.paths,!0,!1):nX(t)?rg(e,t.rings,!0,!1):eX(t)?kI(e,t.points,!0,!1,!0,!1):QK(t)?sX(e,t,!0,!1,!0,!1):(tX(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function rg(e,t,i,n){const s=i?3:2;if(!t.length||!t[0].length)return null;let u,p,g,w,[E,A]=t[0][0],[I,R]=t[0][0];for(let F=0;F<t.length;F++){const q=t[F];for(let B=0;B<q.length;B++){const K=q[B],[te,ce]=K;if(E=Mf(E,te),A=Mf(A,ce),I=$f(I,te),R=$f(R,ce),i&&K.length>2){const ye=K[2];u=Mf(u,ye),p=$f(p,ye)}if(n&&K.length>s){const ye=K[s];g=Mf(u,ye),w=$f(p,ye)}}}return i?n?(e[0]=E,e[1]=A,e[2]=u,e[3]=g,e[4]=I,e[5]=R,e[6]=p,e[7]=w,e.length=8,e):(e[0]=E,e[1]=A,e[2]=u,e[3]=I,e[4]=R,e[5]=p,e.length=6,e):n?(e[0]=E,e[1]=A,e[2]=g,e[3]=I,e[4]=R,e[5]=w,e.length=6,e):(e[0]=E,e[1]=A,e[2]=I,e[3]=R,e.length=4,e)}function sX(e,t,i,n,s,u){const p=t.xmin,g=t.xmax,w=t.ymin,E=t.ymax;let A=t.zmin,I=t.zmax,R=t.mmin,F=t.mmax;return s?(A=A||0,I=I||0,u?(R=R||0,F=F||0,e[0]=p,e[1]=w,e[2]=A,e[3]=R,e[4]=g,e[5]=E,e[6]=I,e[7]=F,e):(e[0]=p,e[1]=w,e[2]=A,e[3]=g,e[4]=E,e[5]=I,e)):u?(R=R||0,F=F||0,e[0]=p,e[1]=w,e[2]=R,e[3]=g,e[4]=E,e[5]=F,e):(e[0]=p,e[1]=w,e[2]=g,e[3]=E,e)}function kI(e,t,i,n,s,u){const p=i?3:2,g=n&&u,w=i&&s;if(!t.length||!t[0].length)return null;let E,A,I,R,[F,q]=t[0],[B,K]=t[0];for(let te=0;te<t.length;te++){const ce=t[te],[ye,_e]=ce;if(F=Mf(F,ye),q=Mf(q,_e),B=$f(B,ye),K=$f(K,_e),w&&ce.length>2){const we=ce[2];E=Mf(E,we),A=$f(A,we)}if(g&&ce.length>p){const we=ce[p];I=Mf(E,we),R=$f(A,we)}}return s?(E=E||0,A=A||0,u?(I=I||0,R=R||0,e[0]=F,e[1]=q,e[2]=E,e[3]=I,e[4]=B,e[5]=K,e[6]=A,e[7]=R,e):(e[0]=F,e[1]=q,e[2]=E,e[3]=B,e[4]=K,e[5]=A,e)):u?(I=I||0,R=R||0,e[0]=F,e[1]=q,e[2]=I,e[3]=B,e[4]=K,e[5]=R,e):(e[0]=F,e[1]=q,e[2]=B,e[3]=K,e)}function S5e(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function _5e(e){return e.points!==void 0}function E5e(e){return e.x!==void 0&&e.y!==void 0}function T5e(e){return e.paths!==void 0}function M5e(e){return e.rings!==void 0}const CI=[];function oX(e,t,i,n){return{xmin:e,ymin:t,xmax:i,ymax:n}}function aX(e,t,i,n,s,u){return{xmin:e,ymin:t,zmin:i,xmax:n,ymax:s,zmax:u}}function lX(e,t,i,n,s,u){return{xmin:e,ymin:t,mmin:i,xmax:n,ymax:s,mmax:u}}function cX(e,t,i,n,s,u,p,g){return{xmin:e,ymin:t,zmin:i,mmin:n,xmax:s,ymax:u,zmax:p,mmax:g}}function AI(e,t=!1,i=!1){return t?i?cX(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):aX(e[0],e[1],e[2],e[3],e[4],e[5]):i?lX(e[0],e[1],e[2],e[3],e[4],e[5]):oX(e[0],e[1],e[2],e[3])}function QFe(e){return e?S5e(e)?e:E5e(e)?k5e(e):M5e(e)?uX(e):T5e(e)?hX(e):_5e(e)?$5e(e):null:null}function $5e(e){const{hasZ:t,hasM:i,points:n}=e;return AI(kI(CI,n,t??!1,i??!1),t,i)}function k5e(e){const{x:t,y:i,z:n,m:s}=e,u=s!=null;return n!=null?u?cX(t,i,n,s,t,i,n,s):aX(t,i,n,t,i,n):u?lX(t,i,s,t,i,s):oX(t,i,t,i)}function uX(e){const{hasZ:t,hasM:i,rings:n}=e,s=rg(CI,n,t??!1,i??!1);return s?AI(s,t,i):null}function hX(e){const{hasZ:t,hasM:i,paths:n}=e,s=rg(CI,n,t??!1,i??!1);return s?AI(s,t,i):null}var k9;function qF(e){return!Array.isArray(e[0])}function C5e(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function A5e(e){var u,p;if(!e)return;let{rings:t,hasM:i,hasZ:n,spatialReference:s}=e;switch(t??(t=[]),C5e(t)&&(t=[t]),(p=(u=t[0])==null?void 0:u[0])==null?void 0:p.length){case 4:n??(n=!0),i??(i=!0);break;case 3:n??(n=i!==!0),i??(i=!n);break;default:n??(n=!1),i??(i=!1)}return s??(s=li.WGS84),{...e,hasM:i,hasZ:n,rings:t,spatialReference:s}}let Yc=k9=class extends C1{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let n=!1,s=!1;for(const p of t)p.hasZ&&(n=!0),p.hasM&&(s=!0);const u={rings:t.map(p=>{const g=[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]];if(n&&p.hasZ){const w=p.zmin+.5*(p.zmax-p.zmin);for(let E=0;E<g.length;E++)g[E].push(w)}if(s&&p.hasM){const w=p.mmin+.5*(p.mmax-p.mmin);for(let E=0;E<g.length;E++)g[E].push(w)}return g}),spatialReference:i};return n&&(u.hasZ=!0),s&&(u.hasM=!0),new k9(u)}constructor(e){super(A5e(e)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=o5e(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new gi;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=uX(this);if(!t)return null;const i=new Yn(t);return i.spatialReference=e,i}get isSelfIntersecting(){return Sve(this.rings)}writeRings(e,t){t.rings=ke(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(qF(e)){const n=[];for(let s=0,u=e.length;s<u;s++)n[s]=e[s].toArray();t[i]=n}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new k9;return e.spatialReference=this.spatialReference,e.rings=ke(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const n=([s,u,p,g],[w,E,A,I])=>s===w&&u===E&&(p==null&&A==null||p===A)&&(g==null&&I==null||g===I);for(let s=0;s<this.rings.length;s++){const u=this.rings[s],p=e.rings[s];if(!pu(u,p,n))return!1}return!0}contains(e){if(!e)return!1;const t=DZ(e,this.spatialReference);return dve(this,t??e)}isClockwise(e){const t=qF(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return e6(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],n=this.hasZ,s=this.hasM;return n&&!s?new gi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!n?new gi(i[0],i[1],void 0,i[2],this.spatialReference):n&&s?new gi(i[0],i[1],i[2],i[3],this.spatialReference):new gi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(ng(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new gi(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,n=t.map(s=>new gi(s,i));return this.notifyChange("rings"),n}setPoint(e,t,i){return this._validateInputs(e,t)?(ng(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};S([M({readOnly:!0})],Yc.prototype,"cache",null),S([M({readOnly:!0})],Yc.prototype,"centroid",null),S([M({readOnly:!0})],Yc.prototype,"extent",null),S([M({readOnly:!0})],Yc.prototype,"isSelfIntersecting",null),S([M({type:[[[Number]]],json:{write:{isRequired:!0}}})],Yc.prototype,"rings",void 0),S([vt("rings")],Yc.prototype,"writeRings",null),Yc=k9=S([ue("esri.geometry.Polygon")],Yc);const fo=Yc;Yc.prototype.toJSON.isDefaultToJSON=!0;var $$;function O5e(e){return!Array.isArray(e[0])}function I5e(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function P5e(e){var u,p;if(!e)return;let{paths:t,hasM:i,hasZ:n,spatialReference:s}=e;switch(t??(t=[]),I5e(t)&&(t=[t]),(p=(u=t[0])==null?void 0:u[0])==null?void 0:p.length){case 4:n??(n=!0),i??(i=!0);break;case 3:n??(n=i!==!0),i??(i=!n);break;default:n??(n=!1),i??(i=!1)}return s??(s=li.WGS84),{...e,hasM:i,hasZ:n,paths:t,spatialReference:s}}let mf=$$=class extends C1{constructor(e){super(P5e(e)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=hX(this);if(!t)return null;const i=new Yn(t);return i.spatialReference=e,i}writePaths(e,t){t.paths=ke(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(O5e(e)){const n=[];for(let s=0,u=e.length;s<u;s++)n[s]=e[s].toArray();t[i]=n}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new $$;return e.spatialReference=this.spatialReference,e.paths=ke(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],n=this.hasZ,s=this.hasM;return n&&!s?new gi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!n?new gi(i[0],i[1],void 0,i[2],this.spatialReference):n&&s?new gi(i[0],i[1],i[2],i[3],this.spatialReference):new gi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(ng(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,n=t.map(s=>new gi(s,i));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new gi(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(ng(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};S([M({readOnly:!0})],mf.prototype,"cache",null),S([M({readOnly:!0})],mf.prototype,"extent",null),S([M({type:[[[Number]]],json:{write:{isRequired:!0}}})],mf.prototype,"paths",void 0),S([vt("paths")],mf.prototype,"writePaths",null),mf=$$=S([ue("esri.geometry.Polyline")],mf);const qh=mf;mf.prototype.toJSON.isDefaultToJSON=!0;const R5e=Ts()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),BF=Ts()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function dX(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function fX(e){return e.points!==void 0}function pX(e){return e.x!==void 0&&e.y!==void 0}function OI(e){return e.paths!==void 0}function Py(e){return e.rings!==void 0}function Yw(e){return e==null?null:e instanceof C1?e:pX(e)?gi.fromJSON(e):OI(e)?qh.fromJSON(e):Py(e)?fo.fromJSON(e):fX(e)?Pg.fromJSON(e):dX(e)?Yn.fromJSON(e):null}function eUe(e){return e?pX(e)?"esriGeometryPoint":OI(e)?"esriGeometryPolyline":Py(e)?"esriGeometryPolygon":dX(e)?"esriGeometryEnvelope":fX(e)?"esriGeometryMultipoint":null:null}const D5e={esriGeometryPoint:gi,esriGeometryPolyline:qh,esriGeometryPolygon:fo,esriGeometryEnvelope:Yn,esriGeometryMultipoint:Pg,esriGeometryMultiPatch:fo};function tUe(e){return e&&D5e[e]||null}const Kw={base:C1,key:"type",typeMap:{extent:Yn,multipoint:Pg,point:gi,polyline:qh,polygon:fo}};ml(Kw);const Wi=e=>{let t=class extends e{clone(){var w;const i=Vo(this);O1e(i,"unable to clone instance of non-accessor class");const n=i.metadata,s=i.store,u={},p=new Map;for(const E in n){const A=n[E],I=s==null?void 0:s.originOf(E),R=A.clonable;if(A.readOnly||R===!1||I!==fi.USER&&I!==fi.DEFAULTS&&I!==fi.WEB_MAP&&I!==fi.WEB_SCENE)continue;const F=this[E];let q=null;q=typeof R=="function"?R(F):R==="reference"?F:SM(F),F!=null&&q==null||(I===fi.DEFAULTS?p.set(E,q):u[E]=q)}const g=new(Object.getPrototypeOf(this)).constructor(u);if(p.size){const E=(w=Vo(g))==null?void 0:w.store;if(E)for(const[A,I]of p)E.set(A,I,fi.DEFAULTS)}return g}};return t=S([ue("esri.core.Clonable")],t),t};let WF=class extends Wi(Zt){};WF=S([ue("esri.core.Clonable")],WF);async function mX(e,t){const{WhereClause:i}=await rt(()=>import("./WhereClause-D6L8HhtD.js").then(n=>n.W),__vite__mapDeps([97,59]),import.meta.url);return i.create(e,{fieldsIndex:t})}function yX(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}function N5e(e){return typeof e=="number"}function t6(e){return typeof e=="string"||e instanceof String}const L5e=mu,k$={date:null,time:null,timeZoneOffset:null},nUe=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]);var X0;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(X0||(X0={}));const z5e=[X0.HMS_MS,X0.HMS,X0.HM,"TT"],Xw="yyyy-MM-dd",j5e=X0.HMS,F5e="latn",U5e=e=>"valueAsDate"in e;function y1(e){return{locale:va(),numberingSystem:F5e,zone:e??L5e}}function gX(e,t){return e===null?null:jt.fromMillis(e,y1(t))}function V5e(e,t){if(e==null||!t6(e)||e===""){if(t){const n=jt.local({zone:t});return{date:null,time:null,timeZoneOffset:n.isValid?n.offset.toString():null}}return k$}const i=jt.fromISO(e,{setZone:!0});return{date:i.toFormat(Xw,y1()),time:i.toFormat(X0.HMS_MS,y1()),timeZoneOffset:i.offset.toString()}}function rUe(e,t){if(e==null||!N5e(e)||isNaN(e))return k$;const i=gX(e,t);return i?{date:i.toFormat(Xw,y1(t)),time:i.toFormat(j5e,y1(t))}:k$}function sUe(e){switch(e.type){case"date":default:return dx("short-date-short-time");case"date-only":return dx("short-date");case"time-only":return dx("short-time");case"timestamp-offset":return{...dx("short-date-short-time"),timeZone:void 0,timeZoneName:"short"}}}function oUe(e,t,i){if(!e||t==null)return null;switch(e.type){case"date":return Bf(t,i);case"date-only":return q2e(t,i);case"time-only":return B2e(t,i);case"timestamp-offset":return W2e(t,i);default:return null}}function aUe(e){const{dateComponent:t,defaultTimeZone:i,timeComponent:n,timeZoneComponent:s,oldValue:u}=e;if(!(t!=null&&t.value))return null;const{year:p,month:g,day:w}=jt.fromFormat(t.value,Xw),{hour:E,minute:A,second:I,millisecond:R}=C$(n,mu)??jt.now(),F=V5e(u,i),q=s!=null&&s.value?parseInt(s.value,10):F.timeZoneOffset!=null?parseInt(F.timeZoneOffset,10):new Date().getTimezoneOffset(),B=rs.instance(q),K=jt.fromObject({year:p,month:g,day:w,hour:E,minute:A,second:I,millisecond:R},{zone:B});return K.isValid?K.toISO({includeOffset:!0}):null}function lUe(e){const{dateComponent:t,timeComponent:i,timeZone:n,max:s,min:u,oldValue:p}=e,g=C$(t,n);let w=!!e.applyRange;if(!g)return null;let E=null;if((i==null?void 0:i.value)!=null){const I=C$(i,n),R=Date.now(),F=s!=null&&s<R?s:R,q=jt.fromMillis(F,y1(n)),B=g||q,{year:K,month:te,day:ce}=B,{hour:ye,minute:_e,second:we,millisecond:xe}=I||q;E=B.set({year:K,month:te,day:ce,hour:ye,minute:_e,second:we,millisecond:xe})}else{const I=gX(ZF({value:p??Date.now(),max:s,min:u}),n),{year:R,month:F,day:q}=g,{hour:B,minute:K,second:te,millisecond:ce}=I;w=!0,E=g.set({year:R,month:F,day:q,hour:B,minute:K,second:te,millisecond:ce})}if(!E.isValid)return null;const A=E.toMillis();return w?ZF({value:A,max:s,min:u}):A}function C$(e,t){if((e==null?void 0:e.value)==null||Array.isArray(e.value))return null;let i=null;return i=U5e(e)?jt.fromFormat(e.value,Xw,y1(t)):Ry(e.value),i!=null&&i.isValid?i:null}function JF(e){const{max:t,min:i,value:n}=e;return!isNaN(n)&&!(t!=null&&n>t)&&!(i!=null&&n<i)}function ZF(e){const{max:t,min:i,value:n}=e;return t!=null&&i!=null?yl(n,i,t):t!=null&&n>t?t:i!=null&&n<i?i:n}function G5e(e){if(!e)return"";const t=e.split(".").at(0);if(!t||t.length<1)throw new ze("invalid time-only field",`Cannot parse valid time-only field value from ${e}`);const i=t.split(":"),n=new Array(3);for(let s=0;s<3;s++){const u=i.at(s)??"";n[s]=u.padStart(2,"0")}return n.join(":")}function cUe(e,t){switch(t){case"date":return e.getTime();case"date-only":return e.toISODate();case"time-only":return G5e(e.toISOTime(!0,!1));case"timestamp-offset":return e.toISOString(!1);default:return null}}function uUe(e){return!!e&&typeof e=="object"&&"getTime"in e&&"toISOString"in e&&"timeZone"in e}function O2(e){if(!e||!t6(e))return null;const t=jt.fromFormat(e,Xw);return t.isValid?t:null}function Ry(e){return e&&t6(e)?I1e(z5e,t=>{const i=jt.fromFormat(e,t);return i.isValid?i:null})??null:null}function I2(e){if(!e||!t6(e))return null;const t=jt.fromISO(e);return t.isValid?t:null}function hUe(e){const{type:t,range:i,value:n}=e;if(n==null||!i||n===i.min||n===i.max)return!0;if(t==="date")return JF({value:n,min:i.min,max:i.max});const{rawMax:s,rawMin:u}=i;let p=null,g=null,w=null;switch(t){case"date-only":p=O2(s),g=O2(u),w=O2(n);break;case"time-only":p=Ry(s),g=Ry(u),w=Ry(n);break;case"timestamp-offset":p=I2(s),g=I2(u),w=I2(n)}return!w||JF({value:w.valueOf(),min:g==null?void 0:g.valueOf(),max:p==null?void 0:p.valueOf()})}var sg;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(sg||(sg={}));const H5e=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function q5e(e){return e!=null&&H5e.has(e.type)}function vX(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function bX(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function wX(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function B5e(e,t,i){const n=i??(e==null?void 0:e.domain);if(!n)return null;switch(n.type){case"range":{const{min:s,max:u}=xX(e,i);if(s!=null&&+t<s||u!=null&&+t>u)return sg.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(n.codedValues==null||n.codedValues.every(s=>s==null||s.code!==t))return sg.INVALID_CODED_VALUE}return null}function xX(e,t){const i=t??(e==null?void 0:e.domain);if(!i||i.type!=="range")return;const n="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,u=q5e(e);return vX(e)||wX(e)||bX(e)?{...W5e(e,s,n),isInteger:u}:{min:n!=null&&typeof n=="number"?n:null,max:s!=null&&typeof s=="number"?s:null,rawMin:n,rawMax:s,isInteger:u}}function W5e(e,t,i){var n,s,u,p,g,w;return vX(e)?{min:(n=O2(i))==null?void 0:n.toMillis(),max:(s=O2(t))==null?void 0:s.toMillis(),rawMin:i,rawMax:t}:wX(e)?{min:(u=Ry(i))==null?void 0:u.toMillis(),max:(p=Ry(t))==null?void 0:p.toMillis(),rawMin:i,rawMax:t}:bX(e)?{min:(g=I2(i))==null?void 0:g.toMillis(),max:(w=I2(t))==null?void 0:w.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}const J5e=()=>xt.getLogger("esri.support.arcadeOnDemand");let QT;function g1(){return QT||(QT=(async()=>{const e=await rt(()=>import("./arcadeUtils-Dv6CPYn_.js").then(t=>t.i),__vite__mapDeps([98,99,59,60,100,101,102,103,104,105]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),QT}const Z5e=(e,t,i)=>SX.create(e,t,i,null,["$feature","$view"],[]),Y5e=(e,t,i,n)=>SX.create(e,t,i,n,["$feature","$view"],[]);let SX=class _X{constructor(t,i,n,s,u,p,g){this.services=null,this.script=t,this.evaluate=s;const w=Array.isArray(p)?p:p==null?void 0:p.fields;this.fields=w??[],this._syntaxTree=n,this._arcade=i,this._arcadeFeature=u,this._spatialReference=g,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,i,n,s,u,p){const{arcade:g,Feature:w,Dictionary:E}=await g1(),A=i instanceof li?i:li.fromJSON(i);let I;try{I=g.parseScript(t,p)}catch(Ze){return J5e().error(new ze("arcade-bad-expression","Failed to parse arcade script",{script:t,error:Ze})),null}const R=u.reduce((Ze,Fe)=>({...Ze,[Fe]:null}),{});let F=null;s!=null&&(F=new E(s),F.immutable=!0,R.$config=null);const q=g.scriptUsesGeometryEngine(I),B=q&&g.enableGeometrySupport(),K=g.scriptUsesFeatureSet(I)&&g.enableFeatureSetSupport(),te=g.scriptIsAsync(I),ce=te&&g.enableAsyncSupport(),ye={vars:R,spatialReference:A,useAsync:!!ce};await Promise.all([B,K,ce]);const _e=new Set;await g.loadDependentModules(_e,I,null,te,q);const we=new E;we.immutable=!1,we.setField("scale",0);const xe=g.compileScript(I,ye),pe=(Ze,Fe)=>{var nt;const He=(nt=Ze.$view)==null?void 0:nt.timeZone;return"$view"in Ze&&Ze.$view&&(we.setField("scale",typeof Ze.$view=="object"&&"scale"in Ze.$view?Ze.$view.scale:void 0),Ze.$view=we),F&&(Ze.$config=F),xe({vars:Ze,spatialReference:A,services:Fe,timeZone:He})};return new _X(t,g,I,pe,new w,n,A)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const K5e=/^([0-9_])/,X5e=/[^a-z0-9_\u0080-\uffff]+/gi;function Q5e(e){return e==null?null:e.trim().replaceAll(X5e,"_").replace(K5e,"F$1")||null}const exe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],txe=["field","normalizationField"];function YF(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(KF(exe,i,t),"visualVariables"in i&&i.visualVariables)for(const n of i.visualVariables)KF(txe,n,t)}}function KF(e,t,i){if(e)for(const n of e){const s=Sf(n,t),u=s&&typeof s!="function"&&i.get(s);u&&Zs(n,u.name,t)}}function EX(e,t){var i;if(e!=null&&((i=t==null?void 0:t.fields)!=null&&i.length))if("startField"in e){const n=t.get(e.startField),s=t.get(e.endField);e.startField=(n==null?void 0:n.name)??null,e.endField=(s==null?void 0:s.name)??null}else{const n=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=(n==null?void 0:n.name)??null,e.endTimeField=(s==null?void 0:s.name)??null}}const e8=new Set;function i6(e,t){return e&&t?(e8.clear(),v1(e8,e,t),Array.from(e8).sort()):[]}function v1(e,t,i){var n;if(i)if((n=t==null?void 0:t.fields)!=null&&n.length)if(i.includes("*"))for(const{name:s}of t.fields)e.add(s);else for(const s of i)po(e,t,s);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const s of i)s!=null&&e.add(s)}}function po(e,t,i){if(typeof i=="string")if(t){const n=t.get(i);n&&e.add(n.name)}else e.add(i)}function dUe(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function fUe(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const n=i6(e,t);return n.length/e.fields.length>=i?["*"]:n}async function Ys(e,t,i){var u;if(!i)return;const{arcadeUtils:n}=await g1(),s=n.extractFieldNames(i,(u=t==null?void 0:t.fields)==null?void 0:u.map(p=>p.name));for(const p of s)po(e,t,p)}async function TX(e,t,i){if(i&&i!=="1=1"){const n=await mX(i,t);if(!n.isStandardized)throw new ze("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});v1(e,t,n.fieldNames)}}function MX({displayField:e,fields:t}){return e||(t!=null&&t.length?t8(t,"name-or-title")||t8(t,"unique-identifier")||t8(t,"type-or-category")||ixe(t):null)}function ixe(e){for(const t of e){if(!(t!=null&&t.name))continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function t8(e,t){for(const i of e)if(i!=null&&i.valueType&&i.valueType===t)return i.name;return null}async function pUe(e,t){var n;if(!t)return;const i=(n=t.elevationInfo)==null?void 0:n.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function nxe(e,t,i){i.onStatisticExpression?Ys(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function mUe(e,t,i){if(!t||!i||!("fields"in i))return;const n=[],s=i.popupTemplate;n.push(rxe(e,t,s)),i.fields&&n.push(...i.fields.map(async u=>nxe(e,t.fieldsIndex,u))),await Promise.all(n)}async function rxe(e,t,i){const n=[];i!=null&&i.expressionInfos&&n.push(...i.expressionInfos.map(u=>Ys(e,t.fieldsIndex,u.expression)));const s=i==null?void 0:i.content;if(Array.isArray(s))for(const u of s)u.type==="expression"&&u.expressionInfo&&n.push(Ys(e,t.fieldsIndex,u.expressionInfo.expression));await Promise.all(n)}async function yUe(e,t,i){t&&(t.timeInfo&&(i!=null&&i.timeExtent)&&v1(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&v1(e,t.fieldsIndex,[t.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await TX(e,t.fieldsIndex,i.where))}async function gUe(e,t,i){t&&i&&await Promise.all(i.map(n=>sxe(e,t,n)))}async function sxe(e,t,i){t&&i&&(i.valueExpression?await Ys(e,t.fieldsIndex,i.valueExpression):i.field&&po(e,t.fieldsIndex,i.field))}function vUe(e){return e?i6(e.fieldsIndex,$X(e)):[]}function oxe(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?i6(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const axe=new Set(["oid","global-id","guid"]),lxe=new Set(["oid","global-id"]),cxe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function uxe(e){const t=new Set;kX(e).forEach(n=>t.add(n)),oxe(e).forEach(n=>t.add(n.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(i.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function $X(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:n,editDateField:s,editorField:u}=t;return[i,n,s,u].filter(Boolean)}function kX(e){return $X(e).map(t=>t.toLowerCase())}function hxe(e,t){var i;return e.editable&&!axe.has(e.type)&&!kX(t).includes(((i=e.name)==null?void 0:i.toLowerCase())??"")}function dxe(e,t){var n;const i=((n=e.name)==null?void 0:n.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&i===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&i===t.globalIdField.toLowerCase()||uxe(t).includes(i)||lxe.has(e.type)||cxe.some(s=>s.test(i)))}async function bUe(e,t){const{labelingInfo:i,fieldsIndex:n}=t;i!=null&&i.length&&await Promise.all(i.map(s=>fxe(e,n,s)))}async function fxe(e,t,i){if(!i)return;const n=i.getLabelExpression(),s=i.where;if(n.type==="arcade")await Ys(e,t,n.expression);else{const u=n.expression.match(/{[^}]*}/g);u&&u.forEach(p=>{po(e,t,p.slice(1,-1))})}await TX(e,t,s)}function pxe(e){const t=e.defaultValue;return t!==void 0&&OX(e,t)?t:e.nullable?null:void 0}function wUe(e){const t=typeof e=="string"?{type:e}:e;return PX(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function CX(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function mxe(e){return e===null||CX(e)}function yxe(e){return e===null||Number.isInteger(e)}function AX(e){return e!=null&&typeof e=="string"}function gxe(e){return e===null||AX(e)}function vxe(){return!0}function OX(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?yxe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?mxe:CX;break;case"string":case"esriFieldTypeString":i=e.nullable?gxe:AX;break;default:i=vxe}return arguments.length===1?i:i(t)}const bxe=["integer","small-integer","big-integer"],wxe=["single","double"],xxe=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Sxe=["esriFieldTypeSingle","esriFieldTypeDouble"],IX=new Set([...bxe,...xxe]),_xe=new Set([...wxe,...Sxe]),Exe=EJ(IX,_xe);function Txe(e){return e!=null&&IX.has(e.type)}function II(e){return e!=null&&Exe.has(e.type)}function PX(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function Mxe(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function xUe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function SUe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function $xe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function XF(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function QF(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function _Ue(e,t){return kxe(e,t)===null}var z4,j4;function EUe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function kxe(e,t){return e==null||e.nullable&&t===null?null:II(e)&&!Cxe(e.type,Number(t))?z4.OUT_OF_RANGE:OX(e,t)?e.domain?B5e(e,t):null:j4.INVALID_TYPE}function Cxe(e,t){const i=typeof e=="string"?PI(e):e;if(!i)return!1;const n=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=n&&t<=s:t>=n&&t<=s}function TUe(e,t){return xX(e,t)||(II(e)?PI(e.type):void 0)}function PI(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Axe;case"esriFieldTypeInteger":case"integer":return Oxe;case"esriFieldTypeBigInteger":case"big-integer":return Ixe;case"esriFieldTypeSingle":case"single":return Pxe;case"esriFieldTypeDouble":case"double":return Rxe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(z4||(z4={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(j4||(j4={}));const Axe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Oxe={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Ixe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Pxe={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Rxe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function MUe(e,t,i){switch(e){case sg.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case sg.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case j4.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case z4.OUT_OF_RANGE:{const{min:n,max:s}=PI(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${s}`}}}function $Ue(e,t){return!Dxe(e,t,null)}function Dxe(e,t,i){if(!(t!=null&&t.attributes)||!e)return!0;const n=new Set(Object.keys(t.attributes));let s=!1;for(const u of e)if(!n.has(u)&&(s=!0,i==null))break;return s}function Nxe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}async function kUe(e,t){const i=new Set;return e!=null&&e.collectRequiredFields&&await e.collectRequiredFields(i,t),Array.from(i).sort()}function RX(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let C9=class extends tt{constructor(t){super(t),this.type=null}};S([M({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],C9.prototype,"type",void 0),C9=S([ue("esri.popup.content.Content")],C9);const Bh=C9;var A$;let Xp=A$=class extends Bh{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new A$({description:this.description,displayType:this.displayType,title:this.title})}};S([M({type:String,json:{write:!0}})],Xp.prototype,"description",void 0),S([M({type:["auto","preview","list"],json:{write:!0}})],Xp.prototype,"displayType",void 0),S([M({type:String,json:{write:!0}})],Xp.prototype,"title",void 0),S([M({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Xp.prototype,"type",void 0),Xp=A$=S([ue("esri.popup.content.AttachmentsContent")],Xp);const og=Xp;var O$;let Qp=O$=class extends Bh{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new O$({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ke(this.outFields):null})}};S([M()],Qp.prototype,"creator",void 0),S([M()],Qp.prototype,"destroyer",void 0),S([M()],Qp.prototype,"outFields",void 0),S([M({type:["custom"],readOnly:!0})],Qp.prototype,"type",void 0),Qp=O$=S([ue("esri.popup.content.CustomContent")],Qp);const Lxe=Qp;var I$;let Nm=I$=class extends tt{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new I$({title:this.title,expression:this.expression})}};S([M({type:String,json:{write:!0}})],Nm.prototype,"title",void 0),S([M({type:String,json:{write:!0}})],Nm.prototype,"expression",void 0),S([M({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Nm.prototype,"returnType",void 0),Nm=I$=S([ue("esri.popup.ElementExpressionInfo")],Nm);const zxe=Nm;var P$;let Tb=P$=class extends Bh{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new P$({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};S([M({type:zxe,json:{write:!0}})],Tb.prototype,"expressionInfo",void 0),S([M({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Tb.prototype,"type",void 0),Tb=P$=S([ue("esri.popup.content.ExpressionContent")],Tb);const n6=Tb;function Rt(e,t={}){const i=e instanceof ki?e:new ki(e,t),{alwaysWriteDefaults:n,default:s,ignoreUnknown:u=!0,name:p,nonNullable:g,readOnly:w=!1}=t;return M({type:u?i.apiValues:String,json:{type:i.jsonValues,default:s,name:p,read:!w&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:n}},nonNullable:g,readOnly:w})}let Lm=class extends Wi(tt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};S([Rt(G2e)],Lm.prototype,"dateFormat",void 0),S([M({type:Boolean,json:{write:!0}})],Lm.prototype,"digitSeparator",void 0),S([M({type:fn,json:{write:!0}})],Lm.prototype,"places",void 0),Lm=S([ue("esri.popup.support.FieldInfoFormat")],Lm);const A9=Lm;var R$;let Ll=R$=class extends tt{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new R$({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};S([M({type:String,json:{write:!0}})],Ll.prototype,"fieldName",void 0),S([M({type:A9,json:{write:!0}})],Ll.prototype,"format",void 0),S([M({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Ll.prototype,"isEditable",void 0),S([M({type:String,json:{write:!0}})],Ll.prototype,"label",void 0),S([Rt(new ki({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ll.prototype,"stringFieldOption",void 0),S([M({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ll.prototype,"statisticType",void 0),S([M({type:String,json:{write:!0}})],Ll.prototype,"tooltip",void 0),S([M({type:Boolean,json:{write:!0}})],Ll.prototype,"visible",void 0),Ll=R$=S([ue("esri.popup.FieldInfo")],Ll);const RI=Ll;var D$;let Zu=D$=class extends Bh{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new D$(ke({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};S([M({type:Object,json:{write:!0}})],Zu.prototype,"attributes",void 0),S([M({type:String,json:{write:!0}})],Zu.prototype,"description",void 0),S([M({type:[RI]})],Zu.prototype,"fieldInfos",void 0),S([vt("fieldInfos")],Zu.prototype,"writeFieldInfos",null),S([M({type:String,json:{write:!0}})],Zu.prototype,"title",void 0),S([M({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Zu.prototype,"type",void 0),Zu=D$=S([ue("esri.popup.content.FieldsContent")],Zu);const ag=Zu;let e0=class extends tt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};S([M({type:String,json:{write:!0}})],e0.prototype,"altText",void 0),S([M({type:String,json:{write:!0}})],e0.prototype,"caption",void 0),S([M({type:String,json:{write:!0}})],e0.prototype,"title",void 0),S([M({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],e0.prototype,"type",void 0),e0=S([ue("esri.popup.content.mixins.MediaInfo")],e0);const DI=e0,F4={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function DX(e){return!!F4[e]||!!F4[e.toLowerCase()]}function NI(e){return F4[e]??F4[e.toLowerCase()]}function jxe(e){return[...NI(e)]}function i8(e,t,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?e+(t-e)*n:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function NX(e,t,i,n=1){const s=(e%360+360)%360/360,u=i<=.5?i*(t+1):i+t-i*t,p=2*i-u;return[Math.round(255*i8(p,u,s+1/3)),Math.round(255*i8(p,u,s)),Math.round(255*i8(p,u,s-1/3)),n]}function Fxe(e){const t=e.length>5,i=t?8:4,n=(1<<i)-1,s=t?1:17,u=t?e.length===9:e.length===5;let p=+("0x"+e.slice(1));if(isNaN(p))return null;const g=[0,0,0,1];let w;return u&&(w=p&n,p>>=i,g[3]=s*w/255),w=p&n,p>>=i,g[2]=s*w,w=p&n,p>>=i,g[1]=s*w,w=p&n,p>>=i,g[0]=s*w,g}function gx(e){return yl(NO(e),0,255)}function vx(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function bx(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let O9=class Lr{static blendColors(t,i,n,s=new Lr){return s.r=Math.round(t.r+(i.r-t.r)*n),s.g=Math.round(t.g+(i.g-t.g)*n),s.b=Math.round(t.b+(i.b-t.b)*n),s.a=t.a+(i.a-t.a)*n,s._sanitize()}static fromRgb(t,i){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(n){const s=n[2].split(/\s*,\s*/),u=n[1];if(u==="rgb"&&s.length===3||u==="rgba"&&s.length===4){const p=s[0];if(p.charAt(p.length-1)==="%"){const g=s.map(w=>2.56*parseFloat(w));return s.length===4&&(g[3]=parseFloat(s[3])),Lr.fromArray(g,i)}return Lr.fromArray(s.map(g=>parseFloat(g)),i)}if(u==="hsl"&&s.length===3||u==="hsla"&&s.length===4)return Lr.fromArray(NX(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new Lr){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const n=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),u=parseInt(t.slice(3,4),16),p=t.length===5?15:parseInt(t.slice(4),16);return Lr.fromArray([n+16*n,s+16*s,u+16*u,(p+16*p)/255],i)}case 7:case 9:{const n=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),u=parseInt(t.slice(5,7),16),p=t.length===7?255:parseInt(t.slice(7),16);return Lr.fromArray([n,s,u,p/255],i)}default:return null}}static fromArray(t,i=new Lr){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const n=DX(t)?NI(t):null;return n&&Lr.fromArray(n,i)||Lr.fromRgb(t,i)||Lr.fromHex(t,i)}static fromJSON(t){return t!=null?new Lr([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Lr.fromString(t,this):Array.isArray(t)?Lr.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Lr||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=(t==null?void 0:t.capitalize)??!1,n=(t==null?void 0:t.digits)??6,s=n===3||n===4,u=n===4||n===8,p=`#${bx(this.r,s)}${bx(this.g,s)}${bx(this.b,s)}${u?bx(Math.round(255*this.a),s):""}`;return i?p.toUpperCase():p}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Lr.AlphaMode.ALWAYS){const i=gx(this.r),n=gx(this.g),s=gx(this.b);return t===Lr.AlphaMode.ALWAYS||this.a!==1?[i,n,s,gx(255*this.a)]:[i,n,s]}clone(){return new Lr(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(vx(this.r,0,255)),this.g=Math.round(vx(this.g,0,255)),this.b=Math.round(vx(this.b,0,255)),this.a=vx(this.a,0,1),this}_set(t,i,n,s){this.r=t,this.g=i,this.b=n,this.a=s}};O9.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(O9||(O9={}));const Ut=O9;var N$;let t0=N$=class extends Zt{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new N$({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};S([M()],t0.prototype,"color",void 0),S([M()],t0.prototype,"fieldName",void 0),S([M()],t0.prototype,"tooltip",void 0),S([M()],t0.prototype,"value",void 0),t0=N$=S([ue("esri.popup.content.support.ChartMediaInfoValueSeries")],t0);const Uxe=t0;var L$;let Hd=L$=class extends tt{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new L$({colors:ke(this.colors),fields:ke(this.fields),normalizeField:this.normalizeField,series:ke(this.series),tooltipField:this.tooltipField})}};S([M({type:[Ut],json:{type:[[fn]],write:!0}})],Hd.prototype,"colors",void 0),S([M({type:[String],json:{write:!0}})],Hd.prototype,"fields",void 0),S([M({type:String,json:{write:!0}})],Hd.prototype,"normalizeField",void 0),S([M({type:[Uxe],json:{read:!1}})],Hd.prototype,"series",void 0),S([M({type:String,json:{write:!0}})],Hd.prototype,"tooltipField",void 0),Hd=L$=S([ue("esri.popup.content.support.ChartMediaInfoValue")],Hd);const Vxe=Hd;let Mb=class extends DI{constructor(t){super(t),this.type=null,this.value=void 0}};S([M({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Mb.prototype,"type",void 0),S([M({type:Vxe,json:{write:!0}})],Mb.prototype,"value",void 0),Mb=S([ue("esri.popup.content.mixins.ChartMediaInfo")],Mb);const r6=Mb,s6=Ts()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var z$;let I9=z$=class extends r6{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new z$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};S([M({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:s6.write}})],I9.prototype,"type",void 0),I9=z$=S([ue("esri.popup.content.BarChartMediaInfo")],I9);const LX=I9;var j$;let P9=j$=class extends r6{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new j$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};S([M({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:s6.write}})],P9.prototype,"type",void 0),P9=j$=S([ue("esri.popup.content.ColumnChartMediaInfo")],P9);const zX=P9;var F$;let $b=F$=class extends tt{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new F$({linkURL:this.linkURL,sourceURL:this.sourceURL})}};S([M({type:String,json:{write:!0}})],$b.prototype,"linkURL",void 0),S([M({type:String,json:{write:!0}})],$b.prototype,"sourceURL",void 0),$b=F$=S([ue("esri.popup.content.support.ImageMediaInfoValue")],$b);const Gxe=$b;var U$;let zm=U$=class extends DI{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new U$({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};S([M({type:Number,json:{write:!0}})],zm.prototype,"refreshInterval",void 0),S([M({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],zm.prototype,"type",void 0),S([M({type:Gxe,json:{write:!0}})],zm.prototype,"value",void 0),zm=U$=S([ue("esri.popup.content.ImageMediaInfo")],zm);const jX=zm;var V$;let R9=V$=class extends r6{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new V$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};S([M({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:s6.write}})],R9.prototype,"type",void 0),R9=V$=S([ue("esri.popup.content.LineChartMediaInfo")],R9);const FX=R9;var G$;let D9=G$=class extends r6{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new G$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};S([M({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:s6.write}})],D9.prototype,"type",void 0),D9=G$=S([ue("esri.popup.content.PieChartMediaInfo")],D9);const UX=D9,H$={base:DI,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":LX,"column-chart":zX,"line-chart":FX,"pie-chart":UX,image:jX}};var q$;let zl=q$=class extends Bh{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?jX.fromJSON(t):t.type==="barchart"?LX.fromJSON(t):t.type==="columnchart"?zX.fromJSON(t):t.type==="linechart"?FX.fromJSON(t):t.type==="piechart"?UX.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new q$(ke({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};S([M()],zl.prototype,"activeMediaInfoIndex",void 0),S([M({type:Object,json:{write:!0}})],zl.prototype,"attributes",void 0),S([M({type:String,json:{write:!0}})],zl.prototype,"description",void 0),S([M({types:[H$]})],zl.prototype,"mediaInfos",void 0),S([ht("mediaInfos")],zl.prototype,"readMediaInfos",null),S([vt("mediaInfos")],zl.prototype,"writeMediaInfos",null),S([M({type:String,json:{write:!0}})],zl.prototype,"title",void 0),S([M({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],zl.prototype,"type",void 0),zl=q$=S([ue("esri.popup.content.MediaContent")],zl);const fw=zl;var B$;let kb=B$=class extends tt{constructor(e){super(e),this.field=null,this.order=null}clone(){return new B$({field:this.field,order:this.order})}};S([M({type:String,json:{write:!0}})],kb.prototype,"field",void 0),S([M({type:["asc","desc"],json:{write:!0}})],kb.prototype,"order",void 0),kb=B$=S([ue("esri.popup.support.RelatedRecordsInfoFieldOrder")],kb);const LI=kb;let Fc=class extends Wi(Bh){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};S([M({type:String,json:{write:!0}})],Fc.prototype,"description",void 0),S([M({type:Number,json:{type:fn,write:!0}})],Fc.prototype,"displayCount",void 0),S([M({type:["list"],json:{write:!0}})],Fc.prototype,"displayType",void 0),S([M({type:[LI],json:{write:!0}})],Fc.prototype,"orderByFields",void 0),S([M({type:Number,json:{type:fn,write:!0}})],Fc.prototype,"relationshipId",void 0),S([M({type:String,json:{write:!0}})],Fc.prototype,"title",void 0),S([M({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Fc.prototype,"type",void 0),Fc=S([ue("esri.popup.content.RelationshipContent")],Fc);const pw=Fc;var W$;let Cb=W$=class extends Bh{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new W$({text:this.text})}};S([M({type:String,json:{write:!0}})],Cb.prototype,"text",void 0),S([M({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Cb.prototype,"type",void 0),Cb=W$=S([ue("esri.popup.content.TextContent")],Cb);const mw=Cb;let Uc=class extends Wi(tt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};S([M({type:String,json:{write:!0}})],Uc.prototype,"title",void 0),S([M({type:String,json:{write:!0}})],Uc.prototype,"description",void 0),S([M({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Uc.prototype,"type",void 0),S([M({type:Boolean,json:{read:!1}})],Uc.prototype,"open",void 0),S([M({type:Number,json:{type:fn,write:!0}})],Uc.prototype,"associatedNetworkSourceId",void 0),S([M({type:Number,json:{type:fn,write:!0}})],Uc.prototype,"associatedAssetGroup",void 0),S([M({type:Number,json:{type:fn,write:!0}})],Uc.prototype,"associatedAssetType",void 0),Uc=S([ue("esri.popup.support.UtilityNetworkAssociationType")],Uc);const Hxe=Uc;let i0=class extends Wi(Bh){constructor(t){super(t),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};S([M({type:String,json:{write:!0}})],i0.prototype,"description",void 0),S([M({type:String,json:{write:!0}})],i0.prototype,"title",void 0),S([M({type:[Hxe],json:{write:!0}})],i0.prototype,"associationTypes",void 0),S([Rt({utilityNetworkAssociations:"utility-network-associations"})],i0.prototype,"type",void 0),i0=S([ue("esri.popup.content.UtilityNetworkAssociationsContent")],i0);const zI=i0,qxe={base:null,key:"type",typeMap:{attachment:og,media:fw,text:mw,expression:n6,field:ag,relationship:pw,utilityNetworkAssociations:zI}},Bxe={base:null,key:"type",typeMap:{attachment:og,media:fw,text:mw,expression:n6,field:ag,relationship:pw}};var J$;let n0=J$=class extends tt{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new J$({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};S([M({type:String,json:{write:!0}})],n0.prototype,"name",void 0),S([M({type:String,json:{write:!0}})],n0.prototype,"title",void 0),S([M({type:String,json:{write:!0}})],n0.prototype,"expression",void 0),S([M({type:["string","number"],json:{write:!0}})],n0.prototype,"returnType",void 0),n0=J$=S([ue("esri.popup.ExpressionInfo")],n0);const Wxe=n0;var Z$;let Ab=Z$=class extends tt{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Z$({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};S([M({type:Boolean,json:{write:!0}})],Ab.prototype,"returnTopmostRaster",void 0),S([M({type:Boolean,json:{write:!0}})],Ab.prototype,"showNoDataRecords",void 0),Ab=Z$=S([ue("esri.popup.LayerOptions")],Ab);const Jxe=Ab;var Y$;let Ob=Y$=class extends tt{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Y$({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ke(this.orderByFields):null})}};S([M({type:Boolean,json:{write:!0}})],Ob.prototype,"showRelatedRecords",void 0),S([M({type:[LI],json:{write:!0}})],Ob.prototype,"orderByFields",void 0),Ob=Y$=S([ue("esri.popup.RelatedRecordsInfo")],Ob);const eU=Ob;let VX=0;const Qw=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+VX++})}};return t=S([ue("esri.core.Identifiable")],t),t},NUe=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:VX++})}};return t=S([ue("esri.core.Identifiable.NumericIdentifiable")],t),t};let tU=class extends Qw(class{}){};tU=S([ue("esri.core.Identifiable")],tU);var K$;let Wa=K$=class extends Qw(Zt){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new K$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};S([M()],Wa.prototype,"active",void 0),S([M()],Wa.prototype,"className",void 0),S([M()],Wa.prototype,"disabled",void 0),S([M()],Wa.prototype,"icon",void 0),S([M()],Wa.prototype,"id",void 0),S([M()],Wa.prototype,"indicator",void 0),S([M()],Wa.prototype,"title",void 0),S([M()],Wa.prototype,"type",void 0),S([M()],Wa.prototype,"visible",void 0),Wa=K$=S([ue("esri.support.actions.ActionBase")],Wa);const e3=Wa;var X$;let N9=X$=class extends e3{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new X$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};S([M()],N9.prototype,"image",void 0),N9=X$=S([ue("esri.support.actions.ActionButton")],N9);const GX=N9;var Q$;let Ib=Q$=class extends e3{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new Q$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};S([M()],Ib.prototype,"image",void 0),S([M()],Ib.prototype,"value",void 0),Ib=Q$=S([ue("esri.support.actions.ActionToggle")],Ib);const HX=Ib,rb="relationships/",iU="expression/",Zxe=Bt.ofType({key:"type",defaultKeyValue:"button",base:e3,typeMap:{button:GX,toggle:HX}}),Yxe={base:Bh,key:"type",typeMap:{media:fw,custom:Lxe,text:mw,attachments:og,fields:ag,expression:n6,relationship:pw,utilityNetworkAssociations:zI}},qX=new Set(["attachments","fields","media","text","expression","relationship"]),Kxe=new Set([...qX,"utility-network-associations"]);let _r=class extends Wi(tt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>ml(Yxe,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||wg(t)?t:(xt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:n}=i;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,n):this._readPopupInfo(i)}writeWebSceneContent(t,i,n,s){this._writePopupTemplateContent(t,i,s)}writeWebMapContent(t,i,n,s){this._writePopupTemplateContent(t,i,s)}writeFieldInfos(t,i,n,s){const{content:u}=this,p=Array.isArray(u)?u:null;if(t){const g=p?p.filter(E=>E.type==="fields"):[],w=g.length&&g.every(E=>{var A;return(A=E.fieldInfos)==null?void 0:A.length});i.fieldInfos=t.filter(Boolean).map(E=>{const A=E.toJSON(s);return w&&(A.visible=!1),A})}if(p)for(const g of p)g.type==="fields"&&this._writeFieldsContent(g,i)}writeLayerOptions(t,i,n,s){i[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...n,...this._getContentExpressionInfos(this.content,n)]),v1(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,n){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>(n==null?void 0:n.origin)==="web-scene"?qX.has(s.type):Kxe.has(s.type)).map(s=>s==null?void 0:s.toJSON(n)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=ke(t.fieldInfos);Array.isArray(i.fieldInfos)?n.forEach(s=>{const u=i.fieldInfos.find(p=>{var g,w;return((g=p.fieldName)==null?void 0:g.toLowerCase())===((w=s.fieldName)==null?void 0:w.toLowerCase())});u?u.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){var u,p;const n=((u=t.orderByFields)==null?void 0:u.map(g=>this._toFieldOrderJSON(g,t.relationshipId)))||[],s=[...((p=i.relatedRecordsInfo)==null?void 0:p.orderByFields)||[],...n];i.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=ke(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...n]:i.mediaInfos=n}_readPopupInfoElements(t,i,n){const s={description:!1,mediaInfos:!1};return n.map(u=>u.type==="media"?(u.mediaInfos||!i||s.mediaInfos||(u.mediaInfos=i,s.mediaInfos=!0),fw.fromJSON(u)):u.type==="text"?(u.text||!t||s.description||(u.text=t,s.description=!0),mw.fromJSON(u)):u.type==="attachments"?og.fromJSON(u):u.type==="fields"?ag.fromJSON(u):u.type==="expression"?n6.fromJSON(u):u.type==="relationship"?pw.fromJSON(u):u.type==="utilityNetworkAssociations"?zI.fromJSON(u):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:n}=t;if(!(i!=null&&i.startsWith(rb)))return null;const s=i.replace(rb,"").split("/");if(s.length!==2)return null;const u=parseInt(s[0],10),p=s[1];return typeof u=="number"&&p?pw.fromJSON({relationshipId:u,orderByFields:[{field:p,order:n}]}):null}_toFieldOrderJSON(t,i){const{order:n,field:s}=t;return{field:`${rb}${i}/${s}`,order:n}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:n,relatedRecordsInfo:s={showRelatedRecords:!1}}){const u=[];t?u.push(new mw({text:t})):u.push(new ag),Array.isArray(i)&&i.length&&u.push(fw.fromJSON({mediaInfos:i})),n&&u.push(og.fromJSON({displayType:"auto"}));const{showRelatedRecords:p,orderByFields:g}=s;return p&&(g!=null&&g.length)&&g.forEach(w=>{const E=this._toRelationshipContent(w);E&&u.push(E)}),u.length?u:t}_getContentElementFields(t){const i=t==null?void 0:t.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((s,u)=>[...s,...this._getMediaInfoFields(u)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:n,value:s}=t,u=s||{},{fields:p,normalizeField:g,tooltipField:w,sourceURL:E,linkURL:A}=u,I=[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(E),...this._extractFieldNames(A),...p??[]];return g&&I.push(g),w&&I.push(w),I}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((n,s)=>[...n,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,n)=>[...i,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,i,n){n&&await Promise.all(n.map(s=>Ys(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:n})=>!(n!==void 0&&!n||!i||i.startsWith(rb)||i.startsWith(iU))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,n)=>[...i,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:i,title:n,type:s}=t,u=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(u)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return RX(t).filter(i=>!(i.indexOf(rb)===0||i.indexOf(iU)===0))}};S([M({type:Zxe})],_r.prototype,"actions",void 0),S([M()],_r.prototype,"content",void 0),S([pn("content")],_r.prototype,"castContent",null),S([ht("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],_r.prototype,"readContent",null),S([vt("web-scene","content",{popupElements:{type:Bt.ofType(Bxe)},showAttachments:{type:Boolean},mediaInfos:{type:Bt.ofType(H$)},description:{type:String},relatedRecordsInfo:{type:eU}})],_r.prototype,"writeWebSceneContent",null),S([vt("content",{popupElements:{type:Bt.ofType(qxe)},showAttachments:{type:Boolean},mediaInfos:{type:Bt.ofType(H$)},description:{type:String},relatedRecordsInfo:{type:eU}})],_r.prototype,"writeWebMapContent",null),S([M({type:[Wxe],json:{write:!0}})],_r.prototype,"expressionInfos",void 0),S([M({type:[RI]})],_r.prototype,"fieldInfos",void 0),S([vt("fieldInfos")],_r.prototype,"writeFieldInfos",null),S([M({type:Jxe})],_r.prototype,"layerOptions",void 0),S([vt("layerOptions")],_r.prototype,"writeLayerOptions",null),S([M({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],_r.prototype,"lastEditInfoEnabled",void 0),S([M()],_r.prototype,"outFields",void 0),S([M()],_r.prototype,"overwriteActions",void 0),S([M()],_r.prototype,"returnGeometry",void 0),S([M({json:{type:String}})],_r.prototype,"title",void 0),S([vt("title")],_r.prototype,"writeTitle",null),_r=S([ue("esri.PopupTemplate")],_r);const t3=_r,nU=new ki({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Xxe=0,jm=class extends tt{constructor(t){super(t),this.id="sym"+Xxe++,this.type=null,this.color=new Ut([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};S([M({type:nU.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:nU.write}}})],jm.prototype,"type",void 0),S([M({type:Ut,json:{write:{allowNull:!0}}})],jm.prototype,"color",void 0),S([ht("color")],jm.prototype,"readColor",null),jm=S([ue("esri.symbols.Symbol")],jm);const $s=jm;var ek;let qd=ek=class extends $s{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const s=n.map(u=>{const p=u.valueExpressionInfo;return p?Ys(e,t,p.expression):null});await Promise.all(s)}}}clone(){return new ek({data:ke(this.data)})}hash(){return tJ(JSON.stringify(this.data)).toString()}};S([M({json:{write:!1}})],qd.prototype,"color",void 0),S([M({json:{write:!0}})],qd.prototype,"data",void 0),S([ht("data",["symbol"])],qd.prototype,"readData",null),S([vt("data",{})],qd.prototype,"writeData",null),S([Rt({CIMSymbolReference:"cim"},{readOnly:!0})],qd.prototype,"type",void 0),qd=ek=S([ue("esri.symbols.CIMSymbol")],qd);const sp=qd;let Fm=class extends tt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,n){t||(i[n]=t)}};S([M({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Fm.prototype,"enabled",void 0),S([vt("enabled")],Fm.prototype,"writeEnabled",null),S([M({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Fm.prototype,"type",void 0),Fm=S([ue("esri.symbols.Symbol3DLayer")],Fm);const Su=Fm,Qxe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,e9e="screenUtils.toPt: input not recognized!",BX=96;function t9e(e){return e?e/72*BX:0}function gl(e){return e?72*e/BX:0}function $i(e){if(typeof e=="string"){const t=e.match(Qxe);if(t){const i=Number(t[1]),n=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",u=n==="px"?gl(i):i;return s?-u:u}return console.warn(e9e),null}return e}function Rh(e=0,t=0){return{x:e,y:t}}function UUe(e){return e?Rh(e.x,e.y):null}function WX(e=0,t=0){return[e,t]}function VUe(e=0,t=0,i=0){return[e,t,i]}function GUe(e){return e}function HUe(e){return e}function qUe(e){return e}function BUe(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function jI(e){const t=NO(100*(1-e));return Math.max(0,Math.min(t,100))}function U4(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function i9e(e,t){const i=t.transparency!=null?U4(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new Ut([n[0]||0,n[1]||0,n[2]||0,i]):null}function n9e(e,t){t.color=e.toJSON().slice(0,3);const i=jI(e.a);i!==0&&(t.transparency=i)}const op={type:Ut,json:{type:[fn],default:null,read:{source:["color","transparency"],reader:i9e},write:{target:{color:{type:[fn]},transparency:{type:fn}},writer:n9e}}},yu={type:Number,cast:$i,json:{write:!0}};let r0=class extends tt{constructor(t){super(t),this.color=new Ut([0,0,0,1]),this.extensionLength=0,this.size=gl(1)}clone(){}cloneProperties(){return{color:ke(this.color),size:this.size,extensionLength:this.extensionLength}}};S([M({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],r0.prototype,"type",void 0),S([M(op)],r0.prototype,"color",void 0),S([M({...yu,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],r0.prototype,"extensionLength",void 0),S([M(yu)],r0.prototype,"size",void 0),r0=S([ue("esri.symbols.edges.Edges3D")],r0);const FI=r0;var tk;let L9=tk=class extends FI{constructor(e){super(e),this.type="sketch"}clone(){return new tk(this.cloneProperties())}};S([Rt({sketch:"sketch"},{readOnly:!0})],L9.prototype,"type",void 0),L9=tk=S([ue("esri.symbols.edges.SketchEdges3D")],L9);const r9e=L9;var ik;let z9=ik=class extends FI{constructor(e){super(e),this.type="solid"}clone(){return new ik(this.cloneProperties())}};S([Rt({solid:"solid"},{readOnly:!0})],z9.prototype,"type",void 0),z9=ik=S([ue("esri.symbols.edges.SolidEdges3D")],z9);const JX=z9,ZX={types:{key:"type",base:FI,typeMap:{solid:JX,sketch:r9e}},json:{write:!0}};function ft(){return[0,0,0]}function Go(e){return[e[0],e[1],e[2]]}function mo(e,t,i){return[e,t,i]}function s9e(e,t,i){return[e,t,i]}function YX(e,t=ft()){const i=Math.min(3,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function o9e(e,t){return new Float64Array(e,t,3)}function KX(){return ft()}function XX(){return mo(1,1,1)}function QX(){return mo(1,0,0)}function eQ(){return mo(0,1,0)}function tQ(){return mo(0,0,1)}const a9e=KX(),l9e=XX(),c9e=QX(),u9e=eQ(),iQ=tQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:l9e,UNIT_X:c9e,UNIT_Y:u9e,UNIT_Z:iQ,ZEROS:a9e,clone:Go,create:ft,createView:o9e,freeze:s9e,fromArray:YX,fromValues:mo,ones:XX,unitX:QX,unitY:eQ,unitZ:tQ,zeros:KX},Symbol.toStringTag,{value:"Module"}));var nk;let ma=nk=class extends tt{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?Go(this.emissiveFactor):null};return new nk(e)}};S([M(op)],ma.prototype,"color",void 0),S([M({type:[Number],json:{write:!1}})],ma.prototype,"emissiveFactor",void 0),ma=nk=S([ue("esri.symbols.support.Symbol3DMaterial")],ma);var rk;let Bd=rk=class extends Su{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new rk({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};S([Rt({Extrude:"extrude"},{readOnly:!0})],Bd.prototype,"type",void 0),S([M({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Bd.prototype,"size",void 0),S([M({type:ma,json:{write:!0}})],Bd.prototype,"material",void 0),S([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Bd.prototype,"castShadows",void 0),S([M(ZX)],Bd.prototype,"edges",void 0),Bd=rk=S([ue("esri.symbols.ExtrudeSymbol3DLayer")],Bd);const nQ=Bd;let Pb=class extends $s{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};S([Rt({esriSLS:"simple-line"},{readOnly:!0})],Pb.prototype,"type",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Pb.prototype,"width",void 0),Pb=S([ue("esri.symbols.LineSymbol")],Pb);const h9e=Pb,d9e=["begin","end","begin-end"],rQ=["arrow","circle","square","diamond","cross","x"];var sk;let Vc=sk=class extends tt{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,n){t[i]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,n){(n==null?void 0:n.origin)==="web-map"||(t[i]=e)}clone(){return new sk({color:ke(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};S([M({type:["begin","end","begin-end"],json:{write:!0}})],Vc.prototype,"placement",void 0),S([Rt({"line-marker":"line-marker"},{readOnly:!0}),M({json:{origins:{"web-map":{write:!1}}}})],Vc.prototype,"type",void 0),S([M({type:rQ})],Vc.prototype,"style",void 0),S([vt("style")],Vc.prototype,"writeStyle",null),S([M({type:Ut,value:null,json:{write:{allowNull:!0}}})],Vc.prototype,"color",null),S([ht("color")],Vc.prototype,"readColor",null),S([vt("color")],Vc.prototype,"writeColor",null),Vc=sk=S([ue("esri.symbols.LineSymbolMarker")],Vc);const f9e=Vc;var ok;const n8=new ki({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Yu=ok=class extends h9e{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,n,s,u){if(e&&typeof e!="string")return e;const p={};return e!=null&&(p.style=e),t!=null&&(p.color=t),i!=null&&(p.width=$i(i)),n!=null&&(p.cap=n),s!=null&&(p.join=s),u!=null&&(p.miterLimit=$i(u)),p}clone(){var e;return new ok({color:ke(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};S([Rt({esriSLS:"simple-line"},{readOnly:!0})],Yu.prototype,"type",void 0),S([M({type:n8.apiValues,json:{read:n8.read,write:n8.write}})],Yu.prototype,"style",void 0),S([M({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],Yu.prototype,"cap",void 0),S([M({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],Yu.prototype,"join",void 0),S([M({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":f9e}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yu.prototype,"marker",void 0),S([M({type:Number,json:{read:!1,write:!1}})],Yu.prototype,"miterLimit",void 0),Yu=ok=S([ue("esri.symbols.SimpleLineSymbol")],Yu);const bo=Yu,ZUe=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));let Rb=class extends $s{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};S([M({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":bo}},json:{default:null,write:!0}})],Rb.prototype,"outline",void 0),S([M({type:["simple-fill","picture-fill"],readOnly:!0})],Rb.prototype,"type",void 0),Rb=S([ue("esri.symbols.FillSymbol")],Rb);const sQ=Rb;let j9=class extends tt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};S([M({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],j9.prototype,"type",void 0),j9=S([ue("esri.symbols.patterns.LinePattern3D")],j9);const oQ=j9,p9e=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var ak;const m9e=Ts()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Db=ak=class extends oQ{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new ak(e)}};S([M({type:["style"]})],Db.prototype,"type",void 0),S([Rt(m9e),M({type:p9e})],Db.prototype,"style",void 0),Db=ak=S([ue("esri.symbols.patterns.LineStylePattern3D")],Db);const UI=Db;let F9=class extends tt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};S([M({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],F9.prototype,"type",void 0),F9=S([ue("esri.symbols.patterns.Pattern3D")],F9);const aQ=F9,y9e=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var lk;let Nb=lk=class extends aQ{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new lk({style:this.style})}};S([M({type:["style"]})],Nb.prototype,"type",void 0),S([M({type:y9e,json:{read:!0,write:!0}})],Nb.prototype,"style",void 0),Nb=lk=S([ue("esri.symbols.patterns.StylePattern3D")],Nb);const lQ=Nb,g9e={types:{key:"type",base:aQ,typeMap:{style:lQ}},json:{write:!0}},cQ={types:{key:"type",base:oQ,typeMap:{style:UI}},json:{write:!0}},P2=new Ut("white");new Ut("black");const v9e=new Ut([255,255,255,0]);function b9e(e){return e.r===0&&e.g===0&&e.b===0}var ck;let R2=ck=class extends ma{constructor(e){super(e),this.colorMixMode=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?Go(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new ck(e)}};S([Rt({multiply:"multiply",replace:"replace",tint:"tint"})],R2.prototype,"colorMixMode",void 0),R2=ck=S([ue("esri.symbols.support.Symbol3DFillMaterial")],R2);function w9e(e,t=!1){return e<=WW?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function QUe(e){return(BW(e)?e.length:e.byteLength/8)<=WW?Array.from(e):new Float64Array(e)}function eVe(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function i3(e=E9e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function VI(e,t,i,n,s,u,p=i3()){return p[0]=e,p[1]=t,p[2]=i,p[3]=n,p[4]=s,p[5]=u,p}function tVe(e,t=i3()){return x9e(e,0,e.length/3,t)}function x9e(e,t,i,n=i3()){return uQ(n,uk),S9e(n,e,t,i),n}function iVe(e,t=w9e(24)){const[i,n,s,u,p,g]=e;return t[0]=i,t[1]=n,t[2]=s,t[3]=i,t[4]=n,t[5]=g,t[6]=i,t[7]=p,t[8]=s,t[9]=i,t[10]=p,t[11]=g,t[12]=u,t[13]=n,t[14]=s,t[15]=u,t[16]=n,t[17]=g,t[18]=u,t[19]=p,t[20]=s,t[21]=u,t[22]=p,t[23]=g,t}function nVe(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Yn(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function rVe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function sVe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function oVe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function S9e(e,t,i=0,n=t.length/3){let s=e[0],u=e[1],p=e[2],g=e[3],w=e[4],E=e[5];for(let A=0;A<n;A++)s=Math.min(s,t[i+3*A]),u=Math.min(u,t[i+3*A+1]),p=Math.min(p,t[i+3*A+2]),g=Math.max(g,t[i+3*A]),w=Math.max(w,t[i+3*A+1]),E=Math.max(E,t[i+3*A+2]);e[0]=s,e[1]=u,e[2]=p,e[3]=g,e[4]=w,e[5]=E}function aVe(e,t,i){const n=t.length;let s=e[0],u=e[1],p=e[2],g=e[3],w=e[4],E=e[5];if(i)for(let A=0;A<n;A++){const I=t[A];s=Math.min(s,I[0]),u=Math.min(u,I[1]),p=Math.min(p,I[2]),g=Math.max(g,I[0]),w=Math.max(w,I[1]),E=Math.max(E,I[2])}else for(let A=0;A<n;A++){const I=t[A];s=Math.min(s,I[0]),u=Math.min(u,I[1]),g=Math.max(g,I[0]),w=Math.max(w,I[1])}e[0]=s,e[1]=u,e[2]=p,e[3]=g,e[4]=w,e[5]=E}function lVe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function n3(e){return e[0]>=e[3]?0:e[3]-e[0]}function r3(e){return e[1]>=e[4]?0:e[4]-e[1]}function s3(e){return e[2]>=e[5]?0:e[5]-e[2]}function cVe(e){const t=n3(e),i=s3(e),n=r3(e);return Math.sqrt(t*t+i*i+n*n)}function uVe(e,t=[0,0,0]){return t[0]=e[0]+n3(e)/2,t[1]=e[1]+r3(e)/2,t[2]=e[2]+s3(e)/2,t}function hVe(e,t=[0,0,0]){return t[0]=n3(e),t[1]=r3(e),t[2]=s3(e),t}function dVe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function _9e(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function fVe(e,t){return t==null||_9e(e,t)}function pVe(e,t,i,n,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+n,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+n,s}function mVe(e,t,i=e){const n=e[0]+n3(e)/2,s=e[1]+r3(e)/2,u=e[2]+s3(e)/2;return i[0]=n+(e[0]-n)*t,i[1]=s+(e[1]-s)*t,i[2]=u+(e[2]-u)*t,i[3]=n+(e[3]-n)*t,i[4]=s+(e[4]-s)*t,i[5]=u+(e[5]-u)*t,i}function yVe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function gVe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function vVe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function uQ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function bVe(e){return e?uQ(e,uk):i3(uk)}function wVe(e,t){return t||(t=I1()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function xVe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function SVe(e,t,i,n,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function rU(e){return e.length===6}function _Ve(e){return n3(e)===0&&r3(e)===0&&s3(e)===0}function EVe(e,t,i){if(e==null||t==null)return e===t;if(!rU(e)||!rU(t))return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const uk=[1/0,1/0,1/0,-1/0,-1/0,-1/0],E9e=[0,0,0,0,0,0];i3();function TVe(e,{isPrimitive:t,width:i,depth:n,height:s}){const u=t?10:1;if(i==null&&s==null&&n==null)return[u*e[0],u*e[1],u*e[2]];const p=mo(i,n,s);let g;for(let w=0;w<3;w++){const E=p[w];if(E!=null){g=E/e[w];break}}for(let w=0;w<3;w++)p[w]==null&&(p[w]=e[w]*g);return p}const T9e=VI(-.5,-.5,-.5,.5,.5,.5),M9e=VI(-.5,-.5,0,.5,.5,1),$9e=VI(-.5,-.5,0,.5,.5,.5);function MVe(e){switch(e){case"sphere":case"cube":case"diamond":return T9e;case"cylinder":case"cone":case"inverted-cone":return M9e;case"tetrahedron":return $9e;default:return}}const GI=["butt","square","round"],k9e=[...GI,"none"],hQ=["miter","bevel","round"];var hk;let s0=hk=class extends tt{constructor(e){super(e),this.color=new Ut([0,0,0,1]),this.size=gl(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new hk(e)}};S([M(op)],s0.prototype,"color",void 0),S([M(yu)],s0.prototype,"size",void 0),S([M(cQ)],s0.prototype,"pattern",void 0),S([M({type:GI,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],s0.prototype,"patternCap",void 0),s0=hk=S([ue("esri.symbols.support.Symbol3DOutline")],s0);var U9;let Ku=U9=class extends Su{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new U9(e)}static fromSimpleFillSymbol(e){var n,s,u;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new UI({style:e.outline.style}):null,i={size:((n=e.outline)==null?void 0:n.width)??0,color:(((s=e.outline)==null?void 0:s.color)??P2).clone(),pattern:t};return t&&((u=e.outline)!=null&&u.cap)&&(i.patternCap=e.outline.cap),new U9({material:new R2({color:(e.color??v9e).clone()}),pattern:e.style&&e.style!=="solid"?new lQ({style:e.style}):null,outline:i})}};S([Rt({Fill:"fill"},{readOnly:!0})],Ku.prototype,"type",void 0),S([M({type:R2,json:{write:!0}})],Ku.prototype,"material",void 0),S([M(g9e)],Ku.prototype,"pattern",void 0),S([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ku.prototype,"castShadows",void 0),S([M({type:s0,json:{write:!0}})],Ku.prototype,"outline",void 0),S([M(ZX)],Ku.prototype,"edges",void 0),Ku=U9=S([ue("esri.symbols.FillSymbol3DLayer")],Ku);const ap=Ku,C9e=["none","underline","line-through"],A9e=["normal","italic","oblique"],O9e=["normal","lighter","bold","bolder"],dQ={type:Number,cast:e=>{const t=Sg(e);return t===0?1:yl(t,.1,4)},nonNullable:!0},I9e=["left","right","center"],P9e=["baseline","top","middle","bottom"],fQ={type:I9e,nonNullable:!0},pQ={type:P9e,nonNullable:!0},$Ve=8;var dk;let Xu=dk=class extends tt{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return $i(e)}clone(){return new dk({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};S([M({type:C9e,json:{default:"none",write:!0}})],Xu.prototype,"decoration",void 0),S([M({type:String,json:{write:!0}})],Xu.prototype,"family",void 0),S([M({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],Xu.prototype,"size",void 0),S([pn("size")],Xu.prototype,"castSize",null),S([M({type:A9e,json:{default:"normal",write:!0}})],Xu.prototype,"style",void 0),S([M({type:O9e,json:{default:"normal",write:!0}})],Xu.prototype,"weight",void 0),Xu=dk=S([ue("esri.symbols.Font")],Xu);const o6=Xu;function Rg(e,t){var n;const i=(n=t==null?void 0:t.url)==null?void 0:n.path;if(e&&i&&(e=co(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=qO(e,t.portalItem.itemUrl);s!=null&&R9e.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return(e=fk(e,t==null?void 0:t.portal))&&a6.test(e)?qI(e):e}function o3(e,t,i=yw.YES){var s,u;if((e=e&&a6.test(e)?yQ(e):e)==null)return e;!ga(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let n=co(e);if(t){const p=((s=t.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((u=t.url)==null?void 0:u.path);if(p){const g=fk(p,t.portal),w=fk(n,t.portal);n=qO(w,g,g),n!=null&&n!==w&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=mQ(n,t==null?void 0:t.portal),ga(n)&&(n=hl(n)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!ga(n)&&!k1(n)&&i===yw.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function HI(e,t,i){return Rg(e,i)}function b1(e,t,i,n){const s=o3(e,n);s!==void 0&&(t[i]=s)}const a6=/\/items\/([^/]+)\/resources\/(.*)/,R9e=/^\.\/resources\//;function D9e(e){const t=(e==null?void 0:e.match(a6))??null;return(t==null?void 0:t[1])??null}function N9e(e){const t=(e==null?void 0:e.match(a6))??null;if(t==null)return null;const i=t[2],n=i.lastIndexOf("/");if(n===-1){const{path:p,extension:g}=$j(i);return{prefix:null,filename:p,extension:g}}const{path:s,extension:u}=$j(i.slice(n+1));return{prefix:i.slice(0,n),filename:s,extension:u}}function mQ(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?UM(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function fk(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,n=VO();return Oo(n,`${n.scheme}://${i}`)?UM(e,t.portalHostname,i):UM(e,i,t.portalHostname)}function qI(e){if(!e)return e||null;let t=e;return t&&ai&&!ai.findCredential(t)&&(t=f4(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function yQ(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&ai&&!ai.findCredential(t)&&(t=f4(t)),t}var yw;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(yw||(yw={}));const kVe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return yw},ensureMainOnlineDomain:mQ,fromCDNUrl:yQ,fromJSON:Rg,itemIdFromResourceUrl:D9e,prefixAndFilenameFromResourceUrl:N9e,read:HI,toCDNUrl:qI,toJSON:o3,write:b1},Symbol.toStringTag,{value:"Module"}));var pk;const L9e=Ts()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let o0=pk=class extends tt{constructor(e){super(e)}readHref(e,t,i){return e?Rg(e,i):t.dataURI}writeHref(e,t,i,n){e&&(k1(e)?t.dataURI=e:(t.href=o3(e,n),ga(t.href)&&(t.href=hl(t.href))))}clone(){return new pk({href:this.href,primitive:this.primitive})}};S([M({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],o0.prototype,"href",void 0),S([ht("href")],o0.prototype,"readHref",null),S([vt("href",{href:{type:String},dataURI:{type:String}})],o0.prototype,"writeHref",null),S([Rt(L9e)],o0.prototype,"primitive",void 0),o0=pk=S([ue("esri.symbols.support.IconSymbol3DLayerResource")],o0);const CVe="circle";var mk;let vy=mk=class extends Zt{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new mk({x:this.x,y:this.y})}};S([M({type:Number})],vy.prototype,"x",void 0),S([M({type:Number})],vy.prototype,"y",void 0),vy=mk=S([ue("esri.symbols.support.Symbol3DAnchorPosition2D")],vy);var yk;let Lb=yk=class extends tt{constructor(e){super(e),this.color=new Ut([0,0,0,1]),this.size=gl(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new yk(e)}};S([M(op)],Lb.prototype,"color",void 0),S([M(yu)],Lb.prototype,"size",void 0),Lb=yk=S([ue("esri.symbols.support.Symbol3DIconOutline")],Lb);var Um;const gQ="esri.symbols.IconSymbol3DLayer";let jl=Um=class extends Su{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Um({anchor:this.anchor,anchorPosition:ke(this.anchorPosition),enabled:this.enabled,material:ke(this.material),outline:ke(this.outline),resource:ke(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||P2,i=sU(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||P2).clone()}:null;return new Um({size:e.size,angle:e.angle,resource:{primitive:j9e(e.style)},material:{color:t},outline:n,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||b9e(e.color)?P2:e.color,i=sU(e);return new Um({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Um({resource:{href:sZ({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};S([M({type:ma,json:{write:!0}})],jl.prototype,"material",void 0),S([M({type:o0,json:{write:!0}})],jl.prototype,"resource",void 0),S([Rt({Icon:"icon"},{readOnly:!0})],jl.prototype,"type",void 0),S([M(yu)],jl.prototype,"size",void 0),S([Rt({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],jl.prototype,"anchor",void 0),S([M({type:vy,json:{type:[Number],read:{reader:e=>new vy({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],jl.prototype,"anchorPosition",void 0),S([M({type:Lb,json:{write:!0}})],jl.prototype,"outline",void 0),S([M({type:Number,json:{write:!0,default:0}})],jl.prototype,"angle",void 0),jl=Um=S([ue(gQ)],jl);const U0=jl;function sU(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,n=oU(e.xoffset),s=oU(e.yoffset);return(n||s)&&t&&i?{x:-n/t,y:s/i}:null}function oU(e){return isFinite(e)?e:0}const z9e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function j9e(e){return z9e[e]||(xt.getLogger(gQ).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}function vQ(e,t,i=Bt){return t||(t=new i),t===e||(t.removeAll(),F9e(e)?t.addMany(e):e&&t.add(e)),t}function bQ(e){return e}function F9e(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}let a0=class extends Wi(tt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};S([M({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a0.prototype,"type",void 0),S([M({type:d9e,json:{default:"begin-end",write:!0}})],a0.prototype,"placement",void 0),S([M({type:rQ,json:{default:"arrow",write:!0}})],a0.prototype,"style",void 0),S([M({type:Ut,json:{type:[fn],default:null,write:!0}})],a0.prototype,"color",void 0),a0=S([ue("esri.symbols.LineStyleMarker3D")],a0);const gk=a0;var V9;let Gc=V9=class extends Su{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=gl(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new V9(e)}static fromSimpleLineSymbol(e){var i;const t={enabled:!0,size:e.width??gl(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new UI({style:e.style}):null,material:new ma({color:(e.color||P2).clone()}),marker:e.marker?new gk({placement:e.marker.placement,style:e.marker.style,color:((i=e.marker.color)==null?void 0:i.clone())??null}):null};return new V9(t)}};S([M({type:ma,json:{write:!0}})],Gc.prototype,"material",void 0),S([Rt({Line:"line"},{readOnly:!0})],Gc.prototype,"type",void 0),S([M({type:hQ,json:{write:!0,default:"miter"}})],Gc.prototype,"join",void 0),S([M({type:GI,json:{write:!0,default:"butt"}})],Gc.prototype,"cap",void 0),S([M(yu)],Gc.prototype,"size",void 0),S([M(cQ)],Gc.prototype,"pattern",void 0),S([M({types:{key:"type",base:gk,typeMap:{style:gk}},json:{write:!0}})],Gc.prototype,"marker",void 0),Gc=V9=S([ue("esri.symbols.LineSymbol3DLayer")],Gc);const Dg=Gc;var vk;const U9e=Ts()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let zb=vk=class extends tt{clone(){return new vk({href:this.href,primitive:this.primitive})}};S([M({type:String,json:{read:HI,write:b1}})],zb.prototype,"href",void 0),S([Rt(U9e)],zb.prototype,"primitive",void 0),zb=vk=S([ue("esri.symbols.support.ObjectSymbol3DLayerResource")],zb);const OVe="sphere";var bk;let P0=bk=class extends Zt{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new bk({x:this.x,y:this.y,z:this.z})}};S([M({type:Number})],P0.prototype,"x",void 0),S([M({type:Number})],P0.prototype,"y",void 0),S([M({type:Number})],P0.prototype,"z",void 0),P0=bk=S([ue("esri.symbols.support.Symbol3DAnchorPosition3D")],P0);var wk;let zs=wk=class extends Su{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,i;return new wk({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};S([M({type:ma,json:{write:!0}})],zs.prototype,"material",void 0),S([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],zs.prototype,"castShadows",void 0),S([M({type:zb,json:{write:!0}})],zs.prototype,"resource",void 0),S([Rt({Object:"object"},{readOnly:!0})],zs.prototype,"type",void 0),S([M({type:Number,json:{write:!0}})],zs.prototype,"width",void 0),S([M({type:Number,json:{write:!0}})],zs.prototype,"height",void 0),S([M({type:Number,json:{write:!0}})],zs.prototype,"depth",void 0),S([Rt({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],zs.prototype,"anchor",void 0),S([M({type:P0,json:{type:[Number],read:{reader:e=>new P0({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],zs.prototype,"anchorPosition",void 0),S([M({type:Number,json:{write:!0}})],zs.prototype,"heading",void 0),S([M({type:Number,json:{write:!0}})],zs.prototype,"tilt",void 0),S([M({type:Number,json:{write:!0}})],zs.prototype,"roll",void 0),S([M({readOnly:!0})],zs.prototype,"isPrimitive",null),zs=wk=S([ue("esri.symbols.ObjectSymbol3DLayer")],zs);const BI=zs;var xk;let ro=xk=class extends Su{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new xk({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};S([M({type:ma,json:{write:!0}})],ro.prototype,"material",void 0),S([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ro.prototype,"castShadows",void 0),S([Rt({Path:"path"},{readOnly:!0})],ro.prototype,"type",void 0),S([M({type:["circle","quad"],json:{write:!0,default:"circle"}})],ro.prototype,"profile",void 0),S([M({type:hQ,json:{write:!0,default:"miter"}})],ro.prototype,"join",void 0),S([M({type:k9e,json:{write:!0,default:"butt"}})],ro.prototype,"cap",void 0),S([M({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ro.prototype,"width",void 0),S([ht("width",["width","size","height"])],ro.prototype,"readWidth",null),S([M({type:Number,json:{write:!0}})],ro.prototype,"height",void 0),S([ht("height",["height","size","width"])],ro.prototype,"readHeight",null),S([M({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ro.prototype,"anchor",void 0),S([M({type:["heading","all"],json:{write:!0,default:"all"}})],ro.prototype,"profileRotation",void 0),ro=xk=S([ue("esri.symbols.PathSymbol3DLayer")],ro);const WI=ro;var Sk;let by=Sk=class extends tt{constructor(){super(...arguments),this.color=new Ut([0,0,0,1]),this.size=0}clone(){const e={color:ke(this.color),size:this.size};return new Sk(e)}};S([M(op)],by.prototype,"color",void 0),S([M(yu)],by.prototype,"size",void 0),by=Sk=S([ue("esri.symbols.support.Symbol3DHalo")],by);let D2=class extends Wi(tt){constructor(t){super(t),this.color=null}};S([M(op)],D2.prototype,"color",void 0),D2=S([ue("esri.symbols.support.Symbol3DTextBackground")],D2);var G9;let Eo=G9=class extends Su{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,n){const s={...n,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new G9({enabled:this.enabled,font:this.font&&ke(this.font),halo:this.halo&&ke(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ke(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new G9({font:e.font!=null?e.font.clone():new o6,halo:V9e(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ma({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new D2({color:e.backgroundColor.clone()}):null})}};function V9e(e,t){return e&&t!=null&&t>0?new by({color:ke(e),size:t}):null}S([M({type:o6,json:{write:!0}})],Eo.prototype,"font",null),S([vt("font")],Eo.prototype,"writeFont",null),S([M({type:by,json:{write:!0}})],Eo.prototype,"halo",void 0),S([M({...fQ,json:{default:"center",write:!0}})],Eo.prototype,"horizontalAlignment",void 0),S([M({...dQ,json:{default:1,write:!0}})],Eo.prototype,"lineHeight",void 0),S([M({type:ma,json:{write:!0}})],Eo.prototype,"material",void 0),S([M({type:D2,json:{write:!0}})],Eo.prototype,"background",void 0),S([M(yu)],Eo.prototype,"size",null),S([M({type:String,json:{write:!0}})],Eo.prototype,"text",void 0),S([Rt({Text:"text"},{readOnly:!0})],Eo.prototype,"type",void 0),S([M({...pQ,json:{default:"baseline",write:!0}})],Eo.prototype,"verticalAlignment",void 0),Eo=G9=S([ue("esri.symbols.TextSymbol3DLayer")],Eo);const Ng=Eo;var _k;let Wd=_k=class extends Su{constructor(e){super(e),this.color=Ek.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new _k({color:ke(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};S([M({type:Ut,nonNullable:!0,json:{type:[fn],write:(e,t,i)=>t[i]=e.toArray(Ut.AlphaMode.UNLESS_OPAQUE),default:()=>Ek.clone(),defaultEquals:e=>e.toCss(!0)===Ek.toCss(!0)}})],Wd.prototype,"color",void 0),S([Rt({Water:"water"},{readOnly:!0})],Wd.prototype,"type",void 0),S([M({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Wd.prototype,"waterbodySize",void 0),S([M({type:Number,json:{write:!0,default:null}})],Wd.prototype,"waveDirection",void 0),S([M({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Wd.prototype,"waveStrength",void 0),Wd=_k=S([ue("esri.symbols.WaterSymbol3DLayer")],Wd);const wQ=Wd,Ek=new Ut([0,119,190]);var Tk;let l0=Tk=class extends Zt{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Tk({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};S([M({type:String})],l0.prototype,"name",void 0),S([M({type:String})],l0.prototype,"styleUrl",void 0),S([M({type:String})],l0.prototype,"styleName",void 0),S([M({type:_a})],l0.prototype,"portal",void 0),l0=Tk=S([ue("esri.symbols.support.StyleOrigin")],l0);const Mk=l0;var $k;let N2=$k=class extends Zt{constructor(){super(...arguments),this.url=""}clone(){return new $k({url:this.url})}};S([M({type:String})],N2.prototype,"url",void 0),N2=$k=S([ue("esri.symbols.support.Thumbnail")],N2);const xQ={icon:U0,object:BI,line:Dg,path:WI,fill:ap,extrude:nQ,text:Ng,water:wQ},G9e=Bt.ofType({base:Su,key:"type",typeMap:xQ,errorContext:"symbol-layer"});let Hc=class extends $s{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=i==null?void 0:i.type,s=n||Bt;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&xt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){vQ(t,this._get("symbolLayers"))}readStyleOrigin(t,i,n){if(t.styleUrl&&t.name){const s=Rg(t.styleUrl,n);return new Mk({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new Mk({portal:(n==null?void 0:n.portal)||_a.getDefault(),styleName:t.styleName,name:t.name});n!=null&&n.messages&&n.messages.push(new dc("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,i,n,s){if(t.styleUrl&&t.name){let u=o3(t.styleUrl,s);ga(u)&&(u=hl(u)),i.styleOrigin={styleUrl:u,name:t.name}}else t.styleName&&t.name&&(t.portal&&(s!=null&&s.portal)&&!rZ(t.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new dc("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Su||t&&xQ[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};S([M({json:{read:!1,write:!1}})],Hc.prototype,"color",null),S([M({type:G9e,nonNullable:!0,json:{write:!0}}),pn(bQ)],Hc.prototype,"symbolLayers",null),S([M({type:Mk})],Hc.prototype,"styleOrigin",void 0),S([ht("styleOrigin")],Hc.prototype,"readStyleOrigin",null),S([vt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Hc.prototype,"writeStyleOrigin",null),S([M({type:N2,json:{read:!1}})],Hc.prototype,"thumbnail",void 0),S([M({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Hc.prototype,"type",void 0),Hc=S([ue("esri.symbols.Symbol3D")],Hc);const P1=Hc;let jb=class extends tt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};S([M({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],jb.prototype,"type",void 0),S([M({readOnly:!0})],jb.prototype,"visible",void 0),jb=S([ue("esri.symbols.callouts.Callout3D")],jb);const SQ=jb;var kk;let H9=kk=class extends tt{constructor(e){super(e),this.color=new Ut("white")}clone(){return new kk({color:ke(this.color)})}};S([M(op)],H9.prototype,"color",void 0),H9=kk=S([ue("esri.symbols.callouts.LineCallout3DBorder")],H9);const H9e=H9;var Ck;let Jd=Ck=class extends SQ{constructor(e){super(e),this.type="line",this.color=new Ut([0,0,0,1]),this.size=gl(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Ck({color:ke(this.color),size:this.size,border:ke(this.border)})}};S([Rt({line:"line"})],Jd.prototype,"type",void 0),S([M(op)],Jd.prototype,"color",void 0),S([M(yu)],Jd.prototype,"size",void 0),S([M({type:H9e,json:{write:!0}})],Jd.prototype,"border",void 0),S([M({readOnly:!0})],Jd.prototype,"visible",null),Jd=Ck=S([ue("esri.symbols.callouts.LineCallout3D")],Jd);const _Q=Jd;function JI(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function EQ(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!JI(e)}function DVe(e){return e.type==="point-3d"||e.type==="label-3d"}function NVe(e){return e.horizontalAlignment==="center"}const TQ={types:{key:"type",base:SQ,typeMap:{line:_Q}},json:{write:!0}};var Ak;let Vm=Ak=class extends tt{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Ak({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};S([M(yu)],Vm.prototype,"screenLength",void 0),S([M({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Vm.prototype,"minWorldLength",void 0),S([M({type:Number,json:{write:!0}})],Vm.prototype,"maxWorldLength",void 0),Vm=Ak=S([ue("esri.symbols.support.Symbol3DVerticalOffset")],Vm);const ZI=Vm;var q9;const MQ=Bt.ofType({base:null,key:"type",typeMap:{text:Ng}});let Zd=q9=class extends P1{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new MQ,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return EQ(this)}hasVisibleVerticalOffset(){return JI(this)}clone(){return new q9({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail),callout:ke(this.callout),verticalOffset:ke(this.verticalOffset)})}static fromTextSymbol(e){return new q9({symbolLayers:new Bt([Ng.fromTextSymbol(e)])})}};S([M({type:ZI,json:{write:!0}})],Zd.prototype,"verticalOffset",void 0),S([M(TQ)],Zd.prototype,"callout",void 0),S([M({json:{read:!1,write:!1}})],Zd.prototype,"styleOrigin",void 0),S([M({type:MQ})],Zd.prototype,"symbolLayers",void 0),S([Rt({LabelSymbol3D:"label-3d"},{readOnly:!0})],Zd.prototype,"type",void 0),Zd=q9=S([ue("esri.symbols.LabelSymbol3D")],Zd);const l6=Zd;var B9;const $Q=Bt.ofType({base:null,key:"type",typeMap:{line:Dg,path:WI}}),q9e=Bt.ofType({base:null,key:"type",typeMap:{line:Dg,path:WI}});let Fb=B9=class extends P1{constructor(e){super(e),this.symbolLayers=new $Q,this.type="line-3d"}clone(){return new B9({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromSimpleLineSymbol(e){return new B9({symbolLayers:new Bt([Dg.fromSimpleLineSymbol(e)])})}};S([M({type:$Q,json:{type:q9e}})],Fb.prototype,"symbolLayers",void 0),S([Rt({LineSymbol3D:"line-3d"},{readOnly:!0})],Fb.prototype,"type",void 0),Fb=B9=S([ue("esri.symbols.LineSymbol3D")],Fb);const R1=Fb;let Yd=class extends $s{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};S([M({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Yd.prototype,"angle",void 0),S([M({type:["simple-marker","picture-marker"],readOnly:!0})],Yd.prototype,"type",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Yd.prototype,"xoffset",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Yd.prototype,"yoffset",void 0),S([M({cast:e=>e==="auto"?e:Sg($i(e)),json:{write:!0}})],Yd.prototype,"size",void 0),Yd=S([ue("esri.symbols.MarkerSymbol")],Yd);const kQ=Yd;var W9;const CQ=Bt.ofType({base:null,key:"type",typeMap:{fill:ap}});let Ub=W9=class extends P1{constructor(e){super(e),this.symbolLayers=new CQ,this.type="mesh-3d"}clone(){return new W9({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromSimpleFillSymbol(e){return new W9({symbolLayers:new Bt([ap.fromSimpleFillSymbol(e)])})}};S([M({type:CQ})],Ub.prototype,"symbolLayers",void 0),S([Rt({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Ub.prototype,"type",void 0),Ub=W9=S([ue("esri.symbols.MeshSymbol3D")],Ub);const Lg=Ub;function B9e(e,t,i){return t.imageData?sZ({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):AQ(t.url,i)}function AQ(e,t){if(!ga(e)){const i=J9e(t);if(i)return Xy(i,"images",e)}return Rg(e,t)}function W9e(e,t,i,n){if(k1(e)){const s=lw(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&b1(i.url,t,"url",n)}else b1(e,t,"url",n)}const OQ={json:{read:{source:["imageData","url"],reader:B9e},write:{writer(e,t,i,n){W9e(e,t,this.source,n)}}}},IQ={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=AQ(t.url,i)),n}}}};function J9e(e){var s,u;if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const n=i==null?void 0:i.type;return n==="feature"||n==="stream"?(s=i.parsedUrl)==null?void 0:s.path:n==="map-image"||n==="tile"?(u=e.url)==null?void 0:u.path:null}var Ok;let Ja=Ok=class extends sQ{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=$i(i)),n!=null&&(s.height=$i(n)),s}clone(){const e=new Ok({color:ke(this.color),height:this.height,outline:ke(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ke(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};S([Rt({esriPFS:"picture-fill"},{readOnly:!0})],Ja.prototype,"type",void 0),S([M(OQ)],Ja.prototype,"url",void 0),S([M({type:Number,json:{write:!0}})],Ja.prototype,"xscale",void 0),S([M({type:Number,json:{write:!0}})],Ja.prototype,"yscale",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Ja.prototype,"width",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Ja.prototype,"height",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Ja.prototype,"xoffset",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Ja.prototype,"yoffset",void 0),S([M(IQ)],Ja.prototype,"source",void 0),Ja=Ok=S([ue("esri.symbols.PictureFillSymbol")],Ja);const YI=Ja;var Ik;let Fl=Ik=class extends kQ{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=$i(t)),i!=null&&(n.height=$i(i)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Ik({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ke(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};S([M({json:{write:!1}})],Fl.prototype,"color",void 0),S([Rt({esriPMS:"picture-marker"},{readOnly:!0})],Fl.prototype,"type",void 0),S([M(OQ)],Fl.prototype,"url",void 0),S([M(IQ)],Fl.prototype,"source",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Fl.prototype,"height",void 0),S([ht("height",["height","size"])],Fl.prototype,"readHeight",null),S([M({type:Number,cast:$i,json:{write:!0}})],Fl.prototype,"width",void 0),S([M({json:{write:!1}})],Fl.prototype,"size",void 0),Fl=Ik=S([ue("esri.symbols.PictureMarkerSymbol")],Fl);const a3=Fl;var c0;const PQ=Bt.ofType({base:null,key:"type",typeMap:{icon:U0,object:BI,text:Ng}});let u0=c0=class extends P1{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new PQ,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return EQ(this)}hasVisibleVerticalOffset(){return JI(this)}clone(){return new c0({verticalOffset:ke(this.verticalOffset),callout:ke(this.callout),styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new c0({symbolLayers:new Bt([U0.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new c0({symbolLayers:new Bt([U0.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var n,s;if(((s=(n=e.data)==null?void 0:n.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const i=e.data.symbol;return new c0(i!=null&&i.callout?{symbolLayers:new Bt([U0.fromCIMSymbol(e)]),callout:new _Q({size:.5,color:new Ut([0,0,0])}),verticalOffset:new ZI({screenLength:40})}:{symbolLayers:new Bt([U0.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new c0({symbolLayers:new Bt([Ng.fromTextSymbol(e)])})}};S([M({type:ZI,json:{write:!0}})],u0.prototype,"verticalOffset",void 0),S([M(TQ)],u0.prototype,"callout",void 0),S([M({type:PQ,json:{origins:{"web-scene":{write:!0}}}})],u0.prototype,"symbolLayers",void 0),S([Rt({PointSymbol3D:"point-3d"},{readOnly:!0})],u0.prototype,"type",void 0),u0=c0=S([ue("esri.symbols.PointSymbol3D")],u0);const Mh=u0;var Vb;const RQ=Bt.ofType({base:null,key:"type",typeMap:{extrude:nQ,fill:ap,icon:U0,line:Dg,object:BI,text:Ng,water:wQ}});let Gb=Vb=class extends P1{constructor(e){super(e),this.symbolLayers=new RQ,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Yy(xt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Yy(xt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(m1(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Ag))}clone(){return new Vb({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromJSON(e){var i;const t=new Vb;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const n=t.symbolLayers.at(0),s=t.symbolLayers.at(1);!s.enabled||(i=e.symbolLayers)!=null&&i[1]&&e.symbolLayers[1].enable===!1||(n.outline={size:s.size,color:s.material!=null?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Vb({symbolLayers:new Bt([ap.fromSimpleFillSymbol(e)])})}};S([M({type:RQ,json:{write:!0}})],Gb.prototype,"symbolLayers",void 0),S([Rt({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Gb.prototype,"type",void 0),Gb=Vb=S([ue("esri.symbols.PolygonSymbol3D")],Gb);const lp=Gb;var Pk;const r8=new ki({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let h0=Pk=class extends sQ{constructor(...e){super(...e),this.color=new Ut([0,0,0,.25]),this.outline=new bo,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),i&&(n.color=i),n}clone(){return new Pk({color:ke(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};S([M()],h0.prototype,"color",void 0),S([M()],h0.prototype,"outline",void 0),S([Rt({esriSFS:"simple-fill"},{readOnly:!0})],h0.prototype,"type",void 0),S([M({type:r8.apiValues,json:{read:r8.read,write:r8.write}})],h0.prototype,"style",void 0),h0=Pk=S([ue("esri.symbols.SimpleFillSymbol")],h0);const Wh=h0,zVe=Object.freeze(Object.defineProperty({__proto__:null,default:Wh},Symbol.toStringTag,{value:"Module"}));var Rk;const s8=new ki({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let qc=Rk=class extends kQ{constructor(...e){super(...e),this.color=new Ut([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new bo}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=$i(t)),i&&(s.outline=i),n&&(s.color=n),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Rk({angle:this.angle,color:ke(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};S([M()],qc.prototype,"color",void 0),S([vt("color")],qc.prototype,"writeColor",null),S([Rt({esriSMS:"simple-marker"},{readOnly:!0})],qc.prototype,"type",void 0),S([M()],qc.prototype,"size",void 0),S([M({type:s8.apiValues,json:{read:s8.read,write:s8.write}})],qc.prototype,"style",void 0),S([M({type:String,json:{write:!0}})],qc.prototype,"path",null),S([M({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":bo}},json:{default:null,write:!0}})],qc.prototype,"outline",void 0),qc=Rk=S([ue("esri.symbols.SimpleMarkerSymbol")],qc);const Ta=qc,jVe=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"}));var Dk;let Pn=Dk=class extends $s{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new o6,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),i&&(n.color=i),n}writeLineWidth(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}castLineWidth(e){return $i(e)}writeLineHeight(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}clone(){return new Dk({angle:this.angle,backgroundColor:ke(this.backgroundColor),borderLineColor:ke(this.borderLineColor),borderLineSize:this.borderLineSize,color:ke(this.color),font:this.font&&this.font.clone(),haloColor:ke(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,i;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};S([M({type:Ut,json:{write:!0}})],Pn.prototype,"backgroundColor",void 0),S([M({type:Ut,json:{write:!0}})],Pn.prototype,"borderLineColor",void 0),S([M({type:Number,json:{write:!0},cast:$i})],Pn.prototype,"borderLineSize",void 0),S([M({type:o6,json:{write:!0}})],Pn.prototype,"font",void 0),S([M({...fQ,json:{write:!0}})],Pn.prototype,"horizontalAlignment",void 0),S([M({type:Boolean,json:{write:!0}})],Pn.prototype,"kerning",void 0),S([M({type:Ut,json:{write:!0}})],Pn.prototype,"haloColor",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Pn.prototype,"haloSize",void 0),S([M({type:Boolean,json:{write:!0}})],Pn.prototype,"rightToLeft",void 0),S([M({type:Boolean,json:{write:!0}})],Pn.prototype,"rotated",void 0),S([M({type:String,json:{write:!0}})],Pn.prototype,"text",void 0),S([Rt({esriTS:"text"},{readOnly:!0})],Pn.prototype,"type",void 0),S([M({...pQ,json:{write:!0}})],Pn.prototype,"verticalAlignment",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Pn.prototype,"xoffset",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Pn.prototype,"yoffset",void 0),S([M({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Pn.prototype,"angle",void 0),S([M({type:Number,json:{write:!0}})],Pn.prototype,"width",void 0),S([M({type:Number})],Pn.prototype,"lineWidth",void 0),S([vt("lineWidth")],Pn.prototype,"writeLineWidth",null),S([pn("lineWidth")],Pn.prototype,"castLineWidth",null),S([M(dQ)],Pn.prototype,"lineHeight",void 0),S([vt("lineHeight")],Pn.prototype,"writeLineHeight",null),Pn=Dk=S([ue("esri.symbols.TextSymbol")],Pn);const zg=Pn;var Nk;let Ul=Nk=class extends $s{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:_a.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new Nk({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const i=t!=null?t.cache:null,n=i?this._fetchCacheKey:null;if(i!=null){const g=n&&i.get(n);if(g)return g.clone()}const{resolveWebStyleSymbol:s}=await rt(()=>import("./webStyleSymbolUtils-CQYM-kSP.js"),__vite__mapDeps([64,65]),import.meta.url);Fo(t);const u=s(this,{portal:this.portal},e,t);u.catch(g=>{xt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",g)});const p=await u;return e==="webRef"&&p.type==="point-3d"||e==="cimRef"&&p.type==="cim"?(i!=null&&i.set(n,p.clone()),p):null}};S([M({json:{write:!1}})],Ul.prototype,"color",void 0),S([M({type:String,json:{write:!0}})],Ul.prototype,"styleName",void 0),S([M({type:_a,json:{write:!1}})],Ul.prototype,"portal",void 0),S([M({type:String,json:{read:HI,write:b1}})],Ul.prototype,"styleUrl",void 0),S([M({type:N2,json:{read:!1}})],Ul.prototype,"thumbnail",void 0),S([M({type:String,json:{write:!0}})],Ul.prototype,"name",void 0),S([Rt({styleSymbolReference:"web-style"},{readOnly:!0})],Ul.prototype,"type",void 0),S([M()],Ul.prototype,"_fetchCacheKey",null),Ul=Nk=S([ue("esri.symbols.WebStyleSymbol")],Ul);const D1=Ul;function FVe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function aU(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const cl={base:$s,key:"type",typeMap:{"simple-fill":Wh,"picture-fill":YI,"picture-marker":a3,"simple-line":bo,"simple-marker":Ta,text:zg,"label-3d":l6,"line-3d":R1,"mesh-3d":Lg,"point-3d":Mh,"polygon-3d":lp,"web-style":D1,cim:sp},errorContext:"symbol"},UVe={base:$s,key:"type",typeMap:{"picture-marker":a3,"simple-marker":Ta,"point-3d":Mh,cim:sp},errorContext:"symbol"},VVe={base:$s,key:"type",typeMap:{"simple-line":bo,"line-3d":R1,cim:sp},errorContext:"symbol"},GVe={base:$s,key:"type",typeMap:{"simple-fill":Wh,"picture-fill":YI,"polygon-3d":lp,cim:sp},errorContext:"symbol"},Z9e={base:$s,key:"type",typeMap:{"picture-marker":a3,"simple-marker":Ta,text:zg,"web-style":D1,cim:sp},errorContext:"symbol"},Y9e=_g({types:cl}),DQ={base:$s,key:"type",typeMap:{"simple-fill":Wh,"picture-fill":YI,"picture-marker":a3,"simple-line":bo,"simple-marker":Ta,text:zg,"line-3d":R1,"mesh-3d":Lg,"point-3d":Mh,"polygon-3d":lp,"web-style":D1,cim:sp},errorContext:"symbol"},K9e={base:$s,key:"type",typeMap:{text:zg,"label-3d":l6},errorContext:"symbol"},lU={base:$s,key:"type",typeMap:{"line-3d":R1,"mesh-3d":Lg,"point-3d":Mh,"polygon-3d":lp,"web-style":D1,cim:sp},errorContext:"symbol"},X9e={base:$s,key:"type",typeMap:{"label-3d":l6},errorContext:"symbol"},NQ=ml(cl);var Lk;function Q9e(e){if(!e)return null;const t={};for(const i in e){const n=Yw(e[i]);n&&(t[i]=n)}return Object.keys(t).length!==0?t:null}function eSe(e){if(e==null)return null;const t={};for(const i in e){const n=e[i];n&&(t[i]=n.toJSON())}return Object.keys(t).length!==0?t:null}let To=Lk=class extends Wi(tt){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:T2(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&A1e(xt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Lk({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:eSe(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:d4(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,n){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=n),e==="attributes"&&(s.attributeName=n),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([Wf(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),Wf(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};S([M({value:null,json:{read:Q9e}})],To.prototype,"aggregateGeometries",null),S([M({value:null})],To.prototype,"attributes",null),S([M({value:null,types:Kw,json:{read:Yw}})],To.prototype,"geometry",null),S([M({type:Boolean})],To.prototype,"isAggregate",void 0),S([M({clonable:"reference"})],To.prototype,"layer",void 0),S([M({clonable:"reference"})],To.prototype,"origin",void 0),S([M({type:t3})],To.prototype,"popupTemplate",void 0),S([M({clonable:"reference"})],To.prototype,"sourceLayer",void 0),S([M({value:null,types:cl})],To.prototype,"symbol",null),S([M({clonable:!1,json:{read:!1,write:!1}})],To.prototype,"_version",void 0),S([M({type:Boolean,value:!0})],To.prototype,"visible",null),To=Lk=S([ue("esri.Graphic")],To);const Zf=To;var zk;let Hb=zk=class extends tt{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new zk({minValue:this.minValue,maxValue:this.maxValue})}};S([M({type:Number,json:{write:!0}})],Hb.prototype,"minValue",void 0),S([M({type:Number,json:{write:!0}})],Hb.prototype,"maxValue",void 0),Hb=zk=S([ue("esri.renderers.support.AuthoringInfoClassBreakInfo")],Hb);var jk;let yf=jk=class extends tt{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new jk({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:ke(this.classBreakInfos)})}};S([M({type:String,json:{write:!0}})],yf.prototype,"field",void 0),S([M({type:String,json:{write:!0}})],yf.prototype,"normalizationField",void 0),S([M({type:String,json:{write:!0}})],yf.prototype,"label",void 0),S([M({type:[Hb],json:{write:!0}})],yf.prototype,"classBreakInfos",void 0),yf=jk=S([ue("esri.renderers.support.AuthoringInfoFieldInfo")],yf);var Fk;let Gm=Fk=class extends tt{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new Fk({label:this.label,value:this.value,size:this.size})}};S([M({type:String,json:{write:!0}})],Gm.prototype,"label",void 0),S([M({type:Number,json:{write:!0}})],Gm.prototype,"size",void 0),S([M({type:Number,json:{write:!0}})],Gm.prototype,"value",void 0),Gm=Fk=S([ue("esri.renderers.support.AuthoringInfoSizeStop")],Gm);const tSe=Gm;var Uk;const wx=new ki({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),xx=new ki({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),cU={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},uU=["high-to-low","above-and-below","centered-on","extremes"],hU=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],dU=["seconds","minutes","hours","days","months","years"],iSe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let Yr=Uk=class extends tt{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new Uk({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:ke(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};S([M({types:cU,json:{write:!0}})],Yr.prototype,"endTime",void 0),S([pn("endTime")],Yr.prototype,"castEndTime",null),S([M({type:String,json:{write:!0}})],Yr.prototype,"field",void 0),S([M({type:Number,json:{write:!0}})],Yr.prototype,"maxSliderValue",void 0),S([M({type:Number,json:{write:!0}})],Yr.prototype,"minSliderValue",void 0),S([M({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Yr.prototype,"normalizationField",null),S([M({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Yr.prototype,"referenceSizeScale",null),S([M({type:iSe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Yr.prototype,"referenceSizeSymbolStyle",null),S([M({types:cU,json:{write:!0}})],Yr.prototype,"startTime",void 0),S([pn("startTime")],Yr.prototype,"castStartTime",null),S([M({type:[tSe],json:{origins:{"web-scene":{write:!1}},write:!0}})],Yr.prototype,"sizeStops",null),S([M({type:wx.apiValues,value:null,json:{type:wx.jsonValues,read:wx.read,write:wx.write}})],Yr.prototype,"style",null),S([M({type:hU,value:null,json:{type:hU,origins:{"web-scene":{type:uU,write:{writer:(e,t)=>{uU.includes(e)&&(t.theme=e)}}}},write:!0}})],Yr.prototype,"theme",null),S([M({type:xx.apiValues,json:{type:xx.jsonValues,read:xx.read,write:xx.write}})],Yr.prototype,"type",void 0),S([M({type:dU,json:{type:dU,write:!0}})],Yr.prototype,"units",void 0),Yr=Uk=S([ue("esri.renderers.support.AuthoringInfoVisualVariable")],Yr);const nSe=Yr;let J9=class extends tt{constructor(t){super(t),this.type=null}};S([M({readOnly:!0,json:{read:!1,write:!0}})],J9.prototype,"type",void 0),J9=S([ue("esri.rest.support.ColorRamp")],J9);const KI=J9;var Vk;let d0=Vk=class extends KI{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new Vk({fromColor:ke(this.fromColor),toColor:ke(this.toColor),algorithm:this.algorithm})}};S([Rt({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],d0.prototype,"algorithm",void 0),S([M({type:Ut,json:{type:[fn],write:!0}})],d0.prototype,"fromColor",void 0),S([M({type:Ut,json:{type:[fn],write:!0}})],d0.prototype,"toColor",void 0),S([M({type:["algorithmic"]})],d0.prototype,"type",void 0),d0=Vk=S([ue("esri.rest.support.AlgorithmicColorRamp")],d0);const XI=d0;var Gk;let qb=Gk=class extends KI{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new Gk({colorRamps:ke(this.colorRamps)})}};S([M({type:[XI],json:{write:!0}})],qb.prototype,"colorRamps",void 0),S([M({type:["multipart"]})],qb.prototype,"type",void 0),qb=Gk=S([ue("esri.rest.support.MultipartColorRamp")],qb);const LQ=qb,rSe={key:"type",base:KI,typeMap:{algorithmic:XI,multipart:LQ}};function sSe(e){return e!=null&&e.type?e.type==="algorithmic"?XI.fromJSON(e):e.type==="multipart"?LQ.fromJSON(e):null:null}var Hk;const Hp=new ki({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),Sx=new ki({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),fU=new ki({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),pU=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],oSe=["high-to-low","above-and-below","above","below"],aSe=["flow-line","wave-front"],lSe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Jn=Hk=class extends tt{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?sSe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new Hk({classificationMethod:this.classificationMethod,colorRamp:ke(this.colorRamp),fadeRatio:ke(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(),field1:ke(this.field1),field2:ke(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};S([M({type:Hp.apiValues,value:null,json:{type:Hp.jsonValues,read:Hp.read,write:Hp.write,origins:{"web-document":{default:"manual",type:Hp.jsonValues,read:Hp.read,write:Hp.write}}}})],Jn.prototype,"classificationMethod",null),S([M({types:rSe,json:{write:!0}})],Jn.prototype,"colorRamp",void 0),S([ht("colorRamp")],Jn.prototype,"readColorRamp",null),S([M({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Jn.prototype,"fadeRatio",void 0),S([M({type:[String],value:null,json:{write:!0}})],Jn.prototype,"fields",null),S([M({type:yf,value:null,json:{write:!0}})],Jn.prototype,"field1",null),S([M({type:yf,value:null,json:{write:!0}})],Jn.prototype,"field2",null),S([M({type:aSe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Jn.prototype,"flowTheme",null),S([M({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Jn.prototype,"focus",null),S([M({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Jn.prototype,"isAutoGenerated",void 0),S([M({type:Number,value:null,json:{type:fn,write:!0}})],Jn.prototype,"numClasses",null),S([M({type:pU,json:{type:pU,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Jn.prototype,"lengthUnit",void 0),S([M({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Jn.prototype,"maxSliderValue",void 0),S([M({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Jn.prototype,"minSliderValue",void 0),S([M({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Jn.prototype,"statistics",null),S([M({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Jn.prototype,"standardDeviationInterval",null),S([M({type:Sx.apiValues,value:null,json:{type:Sx.jsonValues,read:Sx.read,write:Sx.write,origins:{"web-scene":{type:fU.jsonValues,write:{writer:fU.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],Jn.prototype,"type",null),S([M({type:[nSe],json:{write:!0}})],Jn.prototype,"visualVariables",void 0),S([M({type:lSe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Jn.prototype,"univariateSymbolStyle",null),S([M({type:oSe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Jn.prototype,"univariateTheme",null),Jn=Hk=S([ue("esri.renderers.support.AuthoringInfo")],Jn);const QI=Jn,o8=new ki({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Bb=class extends tt{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,t),Array.from(i).sort()}getSymbol(t,i){}async getSymbolAsync(t,i){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};S([M({type:QI,json:{write:!0}})],Bb.prototype,"authoringInfo",void 0),S([M({type:o8.apiValues,readOnly:!0,json:{type:o8.jsonValues,read:!1,write:{writer:o8.write,ignoreOrigin:!0}}})],Bb.prototype,"type",void 0),Bb=S([ue("esri.renderers.Renderer")],Bb);const Jh=Bb;function cSe(e){var t,i;return((i=(t=e.match(uSe))==null?void 0:t[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const uSe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Wb=class extends Wi(tt){constructor(){super(...arguments),this.showLegend=null,this.title=null}};S([M({type:Boolean,json:{write:!0}})],Wb.prototype,"showLegend",void 0),S([M({type:String,json:{write:!0}})],Wb.prototype,"title",void 0),Wb=S([ue("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Wb);const zQ=Wb,a8=new ki({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Vl=class extends tt{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(xt.getLogger(this).error(".field: field must be a string value"),null):Uw(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};S([M()],Vl.prototype,"index",void 0),S([M({type:a8.apiValues,readOnly:!0,json:{read:a8.read,write:a8.write}})],Vl.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],Vl.prototype,"field",void 0),S([pn("field")],Vl.prototype,"castField",null),S([M({type:String,json:{write:!0}})],Vl.prototype,"valueExpression",void 0),S([M({type:String,json:{write:!0}})],Vl.prototype,"valueExpressionTitle",void 0),S([M({readOnly:!0})],Vl.prototype,"arcadeRequired",null),S([M({type:zQ,json:{write:!0}})],Vl.prototype,"legendOptions",void 0),Vl=S([ue("esri.renderers.visualVariables.VisualVariable")],Vl);const jg=Vl;var qk;let f0=qk=class extends tt{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e??0}clone(){return new qk({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};S([M({type:Ut,json:{type:[fn],write:!0}})],f0.prototype,"color",void 0),S([M({type:String,json:{write:!0}})],f0.prototype,"label",void 0),S([M({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],f0.prototype,"value",void 0),S([vt("value")],f0.prototype,"writeValue",null),f0=qk=S([ue("esri.renderers.visualVariables.support.ColorStop")],f0);const hSe=f0;var Bk;let p0=Bk=class extends jg{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new Bk({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};S([M({readOnly:!0})],p0.prototype,"cache",null),S([M({type:["color"],json:{type:["colorInfo"]}})],p0.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],p0.prototype,"normalizationField",void 0),S([M({type:[hSe],json:{write:!0}})],p0.prototype,"stops",null),p0=Bk=S([ue("esri.renderers.visualVariables.ColorVariable")],p0);const jQ=p0;var Wk;let Kd=Wk=class extends tt{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return U4(t.transparency)}writeOpacity(e,t,i){t[i]=jI(e)}clone(){return new Wk({label:this.label,opacity:this.opacity,value:this.value})}};S([M({type:String,json:{write:!0}})],Kd.prototype,"label",void 0),S([M({type:Number,json:{type:fn,write:{target:"transparency"}}})],Kd.prototype,"opacity",void 0),S([ht("opacity",["transparency"])],Kd.prototype,"readOpacity",null),S([vt("opacity")],Kd.prototype,"writeOpacity",null),S([M({type:Number,json:{write:!0}})],Kd.prototype,"value",void 0),Kd=Wk=S([ue("esri.renderers.visualVariables.support.OpacityStop")],Kd);const dSe=Kd;var Jk;let m0=Jk=class extends jg{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new Jk({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};S([M({readOnly:!0})],m0.prototype,"cache",null),S([M({type:["opacity"],json:{type:["transparencyInfo"]}})],m0.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],m0.prototype,"normalizationField",void 0),S([M({type:[dSe],json:{write:!0}})],m0.prototype,"stops",null),m0=Jk=S([ue("esri.renderers.visualVariables.OpacityVariable")],m0);const eP=m0;var Zk;let y0=Zk=class extends jg{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var e;return new Zk({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};S([M({readOnly:!0})],y0.prototype,"cache",null),S([M({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],y0.prototype,"axis",void 0),S([M({type:["rotation"],json:{type:["rotationInfo"]}})],y0.prototype,"type",void 0),S([M({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],y0.prototype,"rotationType",void 0),y0=Zk=S([ue("esri.renderers.visualVariables.RotationVariable")],y0);const FQ=y0;function fSe(e){return $i(e)}var Yk;let Xd=Yk=class extends tt{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new Yk({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};S([M({type:String,json:{write:!0}})],Xd.prototype,"label",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Xd.prototype,"size",void 0),S([M({type:Number,json:{write:!0}})],Xd.prototype,"value",void 0),S([M({type:Boolean,json:{write:!1}})],Xd.prototype,"useMinValue",void 0),S([M({type:Boolean,json:{write:!1}})],Xd.prototype,"useMaxValue",void 0),Xd=Yk=S([ue("esri.renderers.visualVariables.support.SizeStop")],Xd);const Z9=Xd;let Y9=class extends zQ{constructor(){super(...arguments),this.customValues=null}};S([M({type:[Number],json:{write:!0}})],Y9.prototype,"customValues",void 0),Y9=S([ue("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],Y9);const pSe=Y9;var Ah,jr;function wy(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function gw(e){return e!=null&&!isNaN(e)&&isFinite(e)}function UQ(e){return e.valueExpression?Ah.Expression:e.field&&typeof e.field=="string"?Ah.Field:Ah.Unknown}function mSe(e,t){const i=t||UQ(e),n=e.valueUnit||"unknown";return i===Ah.Unknown?jr.Constant:e.stops?jr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?jr.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?jr.Proportional:jr.Additive:jr.Identity:jr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(Ah||(Ah={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(jr||(jr={}));function ZVe(e){}function YVe(e){return()=>e}const c6={unknown:1,inches:bn(1,"meters","inches"),feet:bn(1,"meters","feet"),"us-feet":bn(1,"meters","us-feet"),yards:bn(1,"meters","yards"),miles:bn(1,"meters","miles"),"nautical-miles":bn(1,"meters","nautical-miles"),millimeters:bn(1,"meters","millimeters"),centimeters:bn(1,"meters","centimeters"),decimeters:bn(1,"meters","decimeters"),meters:bn(1,"meters","meters"),kilometers:bn(1,"meters","kilometers"),"decimal-degrees":1/CZ(1,"meters",Hn.radius)},VQ=()=>xt.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u6=e=>VQ().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),h6=()=>VQ().error("Use of arcade expressions requires an arcade context"),mU=new Zf,K9=Math.PI,GQ=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function HQ(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(q=>q.type==="color"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void u6("ColorVariable");const s=typeof t=="number",u=s?null:t,p=u==null?void 0:u.attributes;let g=s?t:null;const w=n.field,{ipData:E,hasExpression:A}=n.cache;let I=n.cache.compiledFunc;if(!w&&!A){const q=n.stops;return q&&q[0]&&q[0].color}if(typeof g!="number")if(A){if((i==null?void 0:i.arcade)==null)return void h6();const q={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},B=i.arcade.arcadeUtils,K=B.getViewInfo(q),te=B.createExecContext(u,K,i.timeZone);if(!I){const ce=B.createSyntaxTree(n.valueExpression);I=B.createFunction(ce),n.cache.compiledFunc=I}g=B.executeFunction(I,te)}else p&&(g=p[w]);const R=n.normalizationField,F=p!=null&&R!=null?parseFloat(p[R]):void 0;if(g!=null&&(!R||s||!isNaN(F)&&F!==0)){isNaN(F)||s||(g/=F);const q=tP(g,E);if(q){const B=q[0],K=q[1],te=B===K?n.stops[B].color:Ut.blendColors(n.stops[B].color,n.stops[K].color,q[2],i!=null?i.color:void 0);return new Ut(te)}}}function qQ(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(q=>q.type==="opacity"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void u6("OpacityVariable");const s=typeof t=="number",u=s?null:t,p=u==null?void 0:u.attributes;let g=s?t:null;const w=n.field,{ipData:E,hasExpression:A}=n.cache;let I=n.cache.compiledFunc;if(!w&&!A){const q=n.stops;return q&&q[0]&&q[0].opacity}if(typeof g!="number")if(A){if((i==null?void 0:i.arcade)==null)return void h6();const q={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},B=i.arcade.arcadeUtils,K=B.getViewInfo(q),te=B.createExecContext(u,K,i.timeZone);if(!I){const ce=B.createSyntaxTree(n.valueExpression);I=B.createFunction(ce),n.cache.compiledFunc=I}g=B.executeFunction(I,te)}else p&&(g=p[w]);const R=n.normalizationField,F=p!=null&&R!=null?parseFloat(p[R]):void 0;if(g!=null&&(!R||s||!isNaN(F)&&F!==0)){isNaN(F)||s||(g/=F);const q=tP(g,E);if(q){const B=q[0],K=q[1];if(B===K)return n.stops[B].opacity;{const te=n.stops[B].opacity;return te+(n.stops[K].opacity-te)*q[2]}}}}function BQ(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(F=>F.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void u6("RotationVariable");const s=n.axis||"heading",u=s==="heading"&&n.rotationType==="arithmetic"?90:0,p=s==="heading"&&n.rotationType==="arithmetic"?-1:1,g=typeof t=="number"?null:t,w=g==null?void 0:g.attributes,E=n.field,{hasExpression:A}=n.cache;let I=n.cache.compiledFunc,R=0;if(!E&&!A)return R;if(A){if((i==null?void 0:i.arcade)==null)return void h6();const F={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},q=i.arcade.arcadeUtils,B=q.getViewInfo(F),K=q.createExecContext(g,B,i.timeZone);if(!I){const te=q.createSyntaxTree(n.valueExpression);I=q.createFunction(te),n.cache.compiledFunc=I}R=q.executeFunction(I,K)}else w&&(R=w[E]||0);return R=typeof R!="number"||isNaN(R)?null:u+p*R,R}function ySe(e,t,i){const n=typeof t=="number",s=n?null:t,u=s==null?void 0:s.attributes;let p=n?t:null;const{isScaleDriven:g}=e.cache;let w=e.cache.compiledFunc;if(g){const A=i!=null?i.scale:void 0,I=i!=null?i.view:void 0;p=A==null||I==="3d"?gSe(e):A}else if(!n)switch(e.inputValueType){case Ah.Expression:{if((i==null?void 0:i.arcade)==null)return void h6();const A={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},I=i.arcade.arcadeUtils,R=I.getViewInfo(A),F=I.createExecContext(s,R,i.timeZone);if(!w){const q=I.createSyntaxTree(e.valueExpression);w=I.createFunction(q),e.cache.compiledFunc=w}p=I.executeFunction(w,F);break}case Ah.Field:u&&(p=u[e.field]);break;case Ah.Unknown:p=null}if(!gw(p))return null;if(n||!e.normalizationField)return p;const E=u?parseFloat(u[e.normalizationField]):null;return gw(E)&&E!==0?p/E:null}function gSe(e){let t=null,i=null;const n=e.stops;return n?(t=n[0].value,i=n[n.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function d6(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(u=>u.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void u6("SizeVariable");const s=JQ(ySe(n,t,i),n,t,i,n.cache.ipData);return s==null||isNaN(s)?0:s}function Uo(e,t,i){return e==null?null:wy(e)?d6(e,t,i):gw(e)?e:null}function WQ(e,t,i){return gw(i)&&e>i?i:gw(t)&&e<t?t:e}function vSe(e,t,i,n){return e+((Uo(t.minSize,i,n)||t.minDataValue)??0)}function bSe(e,t,i){const n=e.stops;let s=(n==null?void 0:n.length)&&n[0].size;return s==null&&(s=e.minSize),Uo(s,t,i)}function wSe(e,t,i,n){const s=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),u=Uo(t.minSize,i,n),p=Uo(t.maxSize,i,n),g=n!=null?n.shape:void 0;if(e<=t.minDataValue)return u;if(e>=t.maxDataValue)return p;if(u==null||p==null)return null;if(t.scaleBy==="area"&&g){const w=g==="circle",E=w?K9*(u/2)**2:u*u,A=E+s*((w?K9*(p/2)**2:p*p)-E);return w?2*Math.sqrt(A/K9):Math.sqrt(A)}return u+s*(p-u)}function xSe(e,t,i,n){const s=n!=null?n.shape:void 0,u=e/t.minDataValue,p=Uo(t.minSize,i,n),g=Uo(t.maxSize,i,n);let w=null;return w=s==="circle"?2*Math.sqrt(u*(p/2)**2):s==="square"||s==="diamond"||s==="image"?Math.sqrt(u*p**2):u*p,WQ(w,p,g)}function SSe(e,t,i,n,s){var w,E,A;const[u,p,g]=tP(e,s);if(u===p)return Uo((w=t.stops)==null?void 0:w[u].size,i,n);{const I=Uo((E=t.stops)==null?void 0:E[u].size,i,n);return I+(Uo((A=t.stops)==null?void 0:A[p].size,i,n)-I)*g}}function _Se(e,t,i,n){const s=((n==null?void 0:n.resolution)??1)*c6[t.valueUnit],u=Uo(t.minSize,i,n),p=Uo(t.maxSize,i,n),{valueRepresentation:g}=t;let w=null;return w=g==="area"?2*Math.sqrt(e/K9)/s:g==="radius"||g==="distance"?2*e/s:e/s,WQ(w,u,p)}function JQ(e,t,i,n,s){switch(t.transformationType){case jr.Additive:return vSe(e,t,i,n);case jr.Constant:return bSe(t,i,n);case jr.ClampedLinear:return wSe(e,t,i,n);case jr.Proportional:return xSe(e,t,i,n);case jr.Stops:return SSe(e,t,i,n,s);case jr.RealWorldSize:return _Se(e,t,i,n);case jr.Identity:return e;case jr.Unknown:return null}}function ESe(e,t,i){const{isScaleDriven:n}=e.cache;if(!(n&&i==="3d"||t))return null;const s={scale:t,view:i};let u=Uo(e.minSize,mU,s),p=Uo(e.maxSize,mU,s);if(u!=null||p!=null){if(u>p){const g=p;p=u,u=g}return{minSize:u,maxSize:p}}}function TSe(e,t,i){if(!e.visualVariables)return;const n=[],s=[],u=[],p=[],g=[];for(const w of e.visualVariables)switch(w.type){case"color":s.push(w);break;case"opacity":u.push(w);break;case"rotation":g.push(w);break;case"size":p.push(w)}return s.forEach(w=>{const E=HQ(w,t,i);n.push({variable:w,value:E})}),u.forEach(w=>{const E=qQ(w,t,i);n.push({variable:w,value:E})}),g.forEach(w=>{const E=BQ(w,t,i);n.push({variable:w,value:E})}),p.forEach(w=>{const E=d6(w,t,i);n.push({variable:w,value:E})}),n.filter(w=>w.value!=null)}function tP(e,t){if(!t)return;let i=0,n=t.length-1;return t.some((s,u)=>e<s?(n=u,!0):(i=u,!1)),[i,n,(e-t[i])/(t[n]-t[i])]}function MSe(e,t,i){const n=["proportional","proportional","proportional"];for(const s of e){const u=s.useSymbolValue?"symbol-value":d6(s,t,i);switch(s.axis){case"width":n[0]=u;break;case"depth":n[1]=u;break;case"height":n[2]=u;break;case"width-and-depth":n[0]=u,n[1]=u;break;case"all":case void 0:case null:n[0]=u,n[1]=u,n[2]=u;break;default:s.axis}}return n}const KVe=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:MSe,getColor:HQ,getOpacity:qQ,getRotationAngle:BQ,getSize:d6,getSizeForValue:JQ,getSizeFromNumberOrVariable:Uo,getSizeRangeAtScale:ESe,getVisualVariableValues:TSe,viewScaleRE:GQ},Symbol.toStringTag,{value:"Module"}));var Kk;const _x=new ki({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),Xk=new ki({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function yU(e){if(e!=null)return typeof e=="string"||typeof e=="number"?fSe(e):e.type==="size"?wy(e)?e:(delete(e={...e}).type,new Hi(e)):void 0}function gU(e,t,i){if(typeof e!="object")return e;const n=new Hi;return n.read(e,i),n}let Hi=Kk=class extends jg{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&GQ.test(this.valueExpression)}}set index(e){wy(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),wy(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return UQ(this)}set maxDataValue(e){e&&this.stops&&(xt.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(xt.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return yU(e)}readMaxSize(e,t,i){return gU(e,t,i)}set minDataValue(e){e&&this.stops&&(xt.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(xt.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return yU(e)}readMinSize(e,t,i){return gU(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(xt.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return mSe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,n){if(e==="$view.scale"){if(n!=null&&n.messages){const s=this.index,u=typeof s=="string"?s:`visualVariables[${s}]`;n.messages.push(new ze("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:u+".valueExpression",context:n}))}}else t[i]=e}readValueUnit(e){return e?Xk.read(e):null}clone(){var e,t;return new Kk({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:wy(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:wy(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===jr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===jr.Stops){const e=this.stops;if(!e)return this;const t=e.map(n=>n.size).reverse(),i=e.length;for(let n=0;n<i;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};S([M({readOnly:!0})],Hi.prototype,"cache",null),S([M({type:_x.apiValues,json:{type:_x.jsonValues,origins:{"web-map":{read:!1}},read:_x.read,write:_x.write}})],Hi.prototype,"axis",void 0),S([M()],Hi.prototype,"index",null),S([M({type:String,readOnly:!0})],Hi.prototype,"inputValueType",null),S([M({type:pSe,json:{write:!0}})],Hi.prototype,"legendOptions",void 0),S([M({type:Number,value:null,json:{write:!0}})],Hi.prototype,"maxDataValue",null),S([M({type:Number,value:null,json:{write:!0}})],Hi.prototype,"maxSize",null),S([pn("maxSize")],Hi.prototype,"castMaxSize",null),S([ht("maxSize")],Hi.prototype,"readMaxSize",null),S([M({type:Number,value:null,json:{write:!0}})],Hi.prototype,"minDataValue",null),S([M({type:Number,value:null,json:{write:!0}})],Hi.prototype,"minSize",null),S([pn("minSize")],Hi.prototype,"castMinSize",null),S([ht("minSize")],Hi.prototype,"readMinSize",null),S([M({type:String,json:{write:!0}})],Hi.prototype,"normalizationField",void 0),S([M({readOnly:!0})],Hi.prototype,"arcadeRequired",null),S([M({type:String})],Hi.prototype,"scaleBy",void 0),S([M({type:[Z9],value:null,json:{write:!0}})],Hi.prototype,"stops",null),S([M({type:["outline"],json:{write:!0}})],Hi.prototype,"target",void 0),S([M({type:String,readOnly:!0})],Hi.prototype,"transformationType",null),S([M({type:["size"],json:{type:["sizeInfo"]}})],Hi.prototype,"type",void 0),S([M({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Hi.prototype,"useSymbolValue",void 0),S([M({type:String,json:{write:!0}})],Hi.prototype,"valueExpression",void 0),S([ht("valueExpression",["valueExpression","expression"])],Hi.prototype,"readValueExpression",null),S([vt("web-scene","valueExpression")],Hi.prototype,"writeValueExpressionWebScene",null),S([M({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Hi.prototype,"valueRepresentation",void 0),S([M({type:Xk.apiValues,json:{write:Xk.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Hi.prototype,"valueUnit",void 0),S([ht("valueUnit")],Hi.prototype,"readValueUnit",null),Hi=Kk=S([ue("esri.renderers.visualVariables.SizeVariable")],Hi);const f6=Hi,$Se={color:jQ,size:f6,opacity:eP,rotation:FQ},kSe=new ki({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),CSe=/^\[([^\]]+)\]$/i;let X9=class extends Zt{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t==null?void 0:t.filter(i=>!!i),t==null?void 0:t.length){for(const i of t)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&t.sort((i,n)=>{let s=null;return s=i.target===n.target?0:i.target?1:-1,s});for(let i=0;i<t.length;i++)t[i].index=i;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,i,n){const{rotationExpression:s,rotationType:u}=i,p=s==null?void 0:s.match(CSe),g=p==null?void 0:p[1];if(g&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:u,field:g})),t)return t.map(w=>{const E=kSe.read(w.type),A=$Se[E];A||(xt.getLogger(this).warn(`Unknown variable type: ${E}`),n!=null&&n.messages&&n.messages.push(new dc("visual-variable:unsupported",`visualVariable of type '${E}' is not supported`,{definition:w,context:n})));const I=new A;return I.read(w,n),I})}writeVariables(t,i){const n=[];for(const s of t){const u=s.toJSON(i);u&&n.push(u)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};S([M()],X9.prototype,"visualVariables",null),X9=S([ue("esri.renderers.visualVariables.VisualVariableFactory")],X9);const ASe=X9,OSe={base:jg,key:"type",typeMap:{opacity:eP,color:jQ,rotation:FQ,size:f6}},Fg=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new ASe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,n,s){return this._vvFactory.readVariables(i,n,s)}writeVisualVariables(i,n,s,u){n[s]=this._vvFactory.writeVariables(i,u)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const i of this.visualVariables)if(i.arcadeRequired)return!0;return!1}hasVisualVariables(i,n){return i?this.getVisualVariablesForType(i,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(i,n){const s=this.visualVariables;return s?s.filter(u=>u.type===i&&(typeof n=="string"?u.target===n:n!==!1||!u.target)):[]}async collectVVRequiredFields(i,n){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const u of s)u&&(u.field&&po(i,n,u.field),u.normalizationField&&po(i,n,u.normalizationField),u.valueExpression&&(ISe(u.valueExpression,i,n)||await Ys(i,n,u.valueExpression)))}};return S([M({types:[OSe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),S([ht("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),S([vt("visualVariables")],t.prototype,"writeVisualVariables",null),t=S([ue("esri.renderers.mixins.VisualVariablesMixin")],t),t};function ISe(e,t,i){const n=cSe(e);return n!=null&&(po(t,i,n),!0)}function QVe(e){return zSe(e)||NSe(e)}function PSe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function RSe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function DSe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-notes"&&"sublayers"in e}function ZQ(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function YQ(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="link-chart"&&"layers"in e}function NSe(e){return(e==null?void 0:e.type)==="scene"}function LSe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function eGe(e){return(e==null?void 0:e.type)==="subtype-sublayer"}function zSe(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function tGe(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}const iGe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Qk(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function jSe(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function nGe(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function rGe(e){var i;const t=e==null?void 0:e.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&((i=e.source)==null?void 0:i.type)==="feature-layer"}function sGe(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const i=e.activeLayer.tileMatrixSets;if(i)return i}return null}async function KQ(e,t){const i=ai==null?void 0:ai.findServerInfo(e);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const s=`${e.slice(0,n)}/rest/info`,u=t!=null?t.signal:null,{data:p}=await en(s,{query:{f:"json"},responseType:"json",signal:u});return(p==null?void 0:p.owningSystemUrl)||null}function FSe(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function oGe(e){return e!=null&&typeof e=="object"&&"isTable"in e&&!!e.isTable}function aGe(e){return FSe(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function USe(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function lGe(e){return!!USe(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function cGe(e){return e?("subtypes"in e?e.subtypes:LSe(e.parent)?e.parent.subtypes:[])??[]:[]}const iP=[252,146,31,255],VSe=[153,153,153,255],GSe={type:"esriSMS",style:"esriSMSCircle",size:6,color:iP,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},HSe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:iP},qSe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},BSe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},WSe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},JSe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},ZSe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},XQ=Ta.fromJSON(GSe),QQ=bo.fromJSON(HSe),eee=Wh.fromJSON(qSe),YSe=zg.fromJSON(BSe);function uGe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return XQ;case"polyline":return QQ;case"polygon":case"extent":return eee}return null}const hGe=Ta.fromJSON(WSe),dGe=bo.fromJSON(JSe),fGe=Wh.fromJSON(ZSe),KSe=Mh.fromSimpleMarkerSymbol(XQ),XSe=R1.fromSimpleLineSymbol(QQ),QSe=lp.fromSimpleFillSymbol(eee),e4e=new Lg({symbolLayers:new Bt([new ap({material:{color:iP},edges:new JX({size:gl(1),color:new Ut(VSe)})})])}),t4e=new R1({symbolLayers:new Bt([new Dg({material:{color:new Ut([0,0,0])},size:gl(1)})])}),i4e=new lp({symbolLayers:new Bt([new ap({outline:{color:new Ut([0,0,0]),size:gl(1)}})])});function pGe(e){if(e==null)return null;switch(e.type){case"mesh":return e4e;case"point":case"multipoint":return KSe;case"polyline":return XSe;case"polygon":case"extent":return QSe}return null}const vU="#useCIMFallbackSymbology()",Em={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function n4e(e,t=Em){var w,E,A,I;if(!e)return{symbol:null};const{retainId:i=Em.retainId,ignoreDrivers:n=Em.ignoreDrivers,hasLabelingContext:s=Em.hasLabelingContext,retainCIM:u=Em.retainCIM,cimFallbackEnabled:p=Em.cimFallbackEnabled}=t;let g=null;if(aU(e)||e instanceof D1)g=e.clone();else if(e.type==="cim"){const R=(E=(w=e.data)==null?void 0:w.symbol)==null?void 0:E.type;switch(R){case"CIMPointSymbol":g=u?e.clone():Mh.fromCIMSymbol(e);break;case"CIMLineSymbol":p&&(g=t4e.clone(),(A=t==null?void 0:t.logWarning)==null||A.call(t,vU,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":p&&(g=i4e.clone(),(I=t==null?void 0:t.logWarning)==null||I.call(t,vU,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!g)return{error:new ze("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${R||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof bo)g=R1.fromSimpleLineSymbol(e);else if(e instanceof Ta)g=Mh.fromSimpleMarkerSymbol(e);else if(e instanceof a3)g=Mh.fromPictureMarkerSymbol(e);else if(e instanceof Wh)g=t.geometryType&&t.geometryType==="mesh"?Lg.fromSimpleFillSymbol(e):lp.fromSimpleFillSymbol(e);else{if(!(e instanceof zg))return{error:new ze("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};g=s?l6.fromTextSymbol(e):Mh.fromTextSymbol(e)}return i&&g&&g.type!=="cim"&&(g.id=e.id),n&&aU(g)&&g.symbolLayers.forEach(R=>R.ignoreDrivers=!0),{symbol:g}}function V4(e,t,i,n){const s=tee(e,{},{context:n,isLabelSymbol:!1});s!=null&&(t[i]=s)}function bU(e,t,i,n){const s=tee(e,{},{context:n,isLabelSymbol:!0});s!=null&&(t[i]=s)}function wU(e){return e instanceof P1||e instanceof D1}function r4e(e){return e instanceof P1&&(e.type==="polygon-3d"||e.type==="line-3d")}function tee(e,t,i){var g;if(e==null)return null;const{context:n,isLabelSymbol:s}=i,u=n==null?void 0:n.origin,p=n==null?void 0:n.messages;if(u==="web-scene"&&!wU(e)){const w=n4e(e,{retainCIM:!0,hasLabelingContext:s});return w.symbol!=null?w.symbol.write(t,n):(p==null||p.push(new ze("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:w.error})),null)}return Qk(n==null?void 0:n.layer)&&r4e(e)?(p==null||p.push(new ze("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${(g=n==null?void 0:n.layer)==null?void 0:g.declaredClass}'.`,{symbol:e,context:n})),null):(u==="web-map"||u==="portal-item"&&!Qk(n==null?void 0:n.layer))&&wU(e)?(p==null||p.push(new ze("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:n})),null):e.write(t,n)}function mGe(e,t){return Y9e(e,null,t)}const p6={types:DQ,json:{write:{writer:V4},origins:{"web-scene":{types:lU,write:{writer:V4},read:{reader:_g({types:lU})}}}}},nP=AO({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},p6),rP={types:{base:$s,key:"type",typeMap:{"simple-fill":cl.typeMap["simple-fill"],"picture-fill":cl.typeMap["picture-fill"],"polygon-3d":cl.typeMap["polygon-3d"],cim:cl.typeMap.cim}},json:{write:{writer:V4},origins:{"web-scene":{type:lp,write:{writer:V4}}}}},Q9={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var eC;let Qd=eC=class extends tt{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new eC({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};S([M({type:String,json:{write:!0}})],Qd.prototype,"description",void 0),S([M({type:String,json:{write:!0}})],Qd.prototype,"label",void 0),S([M({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Qd.prototype,"minValue",void 0),S([M({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Qd.prototype,"maxValue",void 0),S([M(nP)],Qd.prototype,"symbol",void 0),Qd=eC=S([ue("esri.renderers.support.ClassBreakInfo")],Qd);const G4=Qd,s4e=Ts()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let Jb=class extends Wi(tt){constructor(t){super(t),this.title=null,this.order=null}};S([M({type:String,json:{write:!0}})],Jb.prototype,"title",void 0),S([Rt(s4e)],Jb.prototype,"order",void 0),Jb=S([ue("esri.renderers.support.RendererLegendOptions")],Jb);const sP=Jb;var tC;const iee="log",eS="percent-of-total",tS="field",Ex=new ki({esriNormalizeByLog:iee,esriNormalizeByPercentOfTotal:eS,esriNormalizeByField:tS}),o4e=ls(G4);let Er=tC=class extends Fg(Jh){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let n=t.minValue;return e.map(s=>{const u=new G4;return u.read(s,i),u.minValue==null&&(u.minValue=n),u.maxValue==null&&(u.maxValue=u.minValue),n=u.maxValue,u})}writeClassBreakInfos(e,t,i,n){const s=e.map(u=>u.write({},n));this._areClassBreaksConsecutive()&&s.forEach(u=>delete u.classMinValue),t[i]=s}castField(e){return e==null?e:typeof e=="function"?(xt.getLogger(this).error(".field: field must be a string value"),null):Uw(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&tS||i&&eS||null,t&&i&&xt.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==tS&&e!==eS||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let n=null;n=typeof e=="number"?new G4({minValue:e,maxValue:t,symbol:NQ(i)}):o4e(ke(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let n=0;n<i;n++){const s=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(s[0]===e&&s[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&xt.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await g1()});const n=this.getBreakIndex(e,i);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void xt.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const s=await g1(),{arcadeUtils:u}=s;u.hasGeometryOperations(this.valueExpression)&&await u.enableGeometryOperations(),i={...i,arcade:s}}const n=this.getBreakIndex(e,i);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,s)=>n+s.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new tC({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:ke(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:ke(this.visualVariables),legendOptions:ke(this.legendOptions),authoringInfo:ke(this.authoringInfo)})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Ys(e,t,this.valueExpression)];po(e,t,this.field),po(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:s,arcade:u,timeZone:p}=t??{},{valueExpression:g}=this;let w=this._compiledValueExpression.valueExpression===g?this._compiledValueExpression.compiledFunction:null;const E=u.arcadeUtils;if(!w){const I=E.createSyntaxTree(g);w=E.createFunction(I),this._compiledValueExpression.compiledFunction=w}this._compiledValueExpression.valueExpression=g;const A=E.executeFunction(w,E.createExecContext(e,E.getViewInfo({viewingMode:i,scale:n,spatialReference:s}),p));return this._getBreakIndexfromInfos(A)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,n=this.normalizationType;let s=parseFloat(i[t]);if(n){const u=this.normalizationTotal,p=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(n===iee)s=Math.log(s)*Math.LOG10E;else if(n!==eS||u==null||isNaN(u)){if(n===tS&&!isNaN(p)){if(isNaN(s)||isNaN(p))return-1;s/=p}}else s=s/u*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};S([M(rP)],Er.prototype,"backgroundFillSymbol",void 0),S([M({type:[G4]})],Er.prototype,"classBreakInfos",void 0),S([ht("classBreakInfos")],Er.prototype,"readClassBreakInfos",null),S([vt("classBreakInfos")],Er.prototype,"writeClassBreakInfos",null),S([M({type:String,json:{write:!0}})],Er.prototype,"defaultLabel",void 0),S([M(p6)],Er.prototype,"defaultSymbol",void 0),S([M({type:String,json:{write:!0}})],Er.prototype,"field",void 0),S([pn("field")],Er.prototype,"castField",null),S([M({type:Boolean})],Er.prototype,"isMaxInclusive",void 0),S([M({type:sP,json:{write:!0}})],Er.prototype,"legendOptions",void 0),S([M({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Er.prototype,"minValue",null),S([M({type:String,json:{write:!0}})],Er.prototype,"normalizationField",void 0),S([M({type:Number,json:{write:!0}})],Er.prototype,"normalizationTotal",void 0),S([M({type:Ex.apiValues,value:null,json:{type:Ex.jsonValues,read:Ex.read,write:Ex.write}})],Er.prototype,"normalizationType",null),S([Rt({classBreaks:"class-breaks"})],Er.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],Er.prototype,"valueExpression",void 0),S([M({type:String,json:{write:!0}})],Er.prototype,"valueExpressionTitle",void 0),Er=tC=S([ue("esri.renderers.ClassBreaksRenderer")],Er);const nee=Er,iC=-3,a4e=iC-1;var gh;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(gh||(gh={}));let l4e=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new J0,this._users=new J0}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,i){const n=this._db.get(t.id+i);return(n==null?void 0:n.size)??0}put(t,i,n,s,u){i=t.id+i;const p=this._db.get(i);if(p&&(this._size-=p.size,t.size-=p.size,this._db.delete(i),p.entry!==n&&this._notifyRemove(i,p.entry,p.size,gh.ALL)),s>this._maxSize)return void this._notifyRemove(i,n,s,gh.ALL);if(n===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${i}`),void this._notifyRemove(i,n,0,gh.ALL);const g=1+Math.max(u,a4e)-iC;this._db.set(i,new c4e(n,s,g)),this._size+=s,t.size+=s,this._checkSize()}updateSize(t,i,n,s){i=t.id+i;const u=this._db.get(i);if(u&&u.entry===n){for(this._size-=u.size,t.size-=u.size;s>this._maxSize;){const p=this._notifyRemove(i,n,s,gh.SOME);if(!(p!=null&&p>0))return void this._db.delete(i);s=p}u.size=s,this._size+=s,t.size+=s,this._checkSize()}}pop(t,i){i=t.id+i;const n=this._db.get(i);if(n)return this._size-=n.size,t.size-=n.size,this._db.delete(i),++this._hit,n.entry;++this._miss}get(t,i){i=t.id+i;const n=this._db.get(i);if(n!==void 0)return this._db.delete(i),n.lives=n.lifetime,this._db.set(i,n),++this._hit,n.entry;++this._miss}peek(t,i){const n=this._db.get(t.id+i);return n?++this._hit:++this._miss,n==null?void 0:n.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},n=new Array;this._db.forEach((p,g)=>{const w=p.lifetime;n[w]=(n[w]||0)+p.size,this._users.forAll(E=>{const{id:A,name:I}=E;if(g.startsWith(A)){const R=i[I]||0;i[I]=R+p.size}})});const s={};this._users.forAll(p=>{const g=p.name;if("hitRate"in p&&typeof p.hitRate=="number"&&!isNaN(p.hitRate)&&p.hitRate>0){const w=i[g]||0;i[g]=w,s[g]=Math.round(100*p.hitRate)+"%"}else s[g]="0%"});const u=Object.keys(i);u.sort((p,g)=>i[g]-i[p]),u.forEach(p=>t[p]=Math.round(i[p]/2**20)+"MB / "+s[p]);for(let p=n.length-1;p>=0;--p){const g=n[p];g&&(t["Priority "+(p+iC-1)]=Math.round(g/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const i=t.id;this._db.forEach((n,s)=>{s.startsWith(i)&&(this._size-=n.size,this._db.delete(s),this._notifyRemove(s,n.entry,n.size,gh.ALL))}),t.size=0}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,t.size,gh.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,n,s){let u;return this._removeFuncs.some(p=>{if(t.startsWith(p[0])){const g=p[1](i,s,n);return typeof g=="number"&&(u=g),!0}return!1}),u}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const i=t??this;if(i.maxSize<0||i.size<=i.maxSize)return;const n=t==null?void 0:t.id;let s=!0;for(;s;){s=!1;for(const[u,p]of this._db)if(p.lifetime===0&&(!n||u.startsWith(n))){if(this._purgeItem(u,p,t),i.size<=.9*i.maxSize)return;s||(s=this._db.has(u))}}for(const[u,p]of this._db)if((!n||u.startsWith(n))&&(this._purgeItem(u,p,t),i.size<=.9*i.maxSize))return}_purgeItem(t,i,n=this._users.find(s=>t.startsWith(s.id))){if(this._db.delete(t),i.lives<=1){this._size-=i.size,n&&(n.size-=i.size);const s=this._notifyRemove(t,i.entry,i.size,gh.SOME);s!=null&&s>0&&(this._size+=s,n&&(n.size+=s),i.lives=i.lifetime,i.size=s,this._db.set(t,i))}else--i.lives,this._db.set(t,i)}},c4e=class{constructor(t,i,n){this.entry=t,this.size=i,this.lifetime=n,this.lives=n}},u4e=class{constructor(t,i){this._storage=new l4e,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),i&&this._storage.registerRemoveFunc("",i)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,i,n=1){this._storage.put(this,t,i,n,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},ree=class nC{constructor(t,i,n=""){this.major=t,this.minor=i,this._context=n}lessThan(t,i){return this.major<t||t===this.major&&this.minor<i}greaterEqual(t,i){return!this.lessThan(t,i)}validate(t){if(this.major!==t.major){const i=this._context&&this._context+":",n=this._context&&this._context+" ";throw new ze(i+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new nC(this.major,this.minor,this._context)}static parse(t,i=""){const[n,s]=t.split("."),u=/^\s*\d+\s*$/;if(!(n!=null&&n.match)||!u.test(n))throw new ze((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(s!=null&&s.match)||!u.test(s))throw new ze((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const p=parseInt(n,10),g=parseInt(s,10);return new nC(p,g,i)}},m6=class{};function h4e(e){return e instanceof Tg?e===m6.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function xGe(e){return h4e(e)?m6.instance:e}m6.instance=new Ea("Etc/UTC");function d4e(e){return"timeZone"in e}function f4e(e){return"timeZone"in e}function p4e(e){return"dateFieldsTimeZone"in e}const m4e=new Map;let see=class iS{static fromJSON(t){return new iS(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new iS(t.fields??[],SU(t))}static fromLayerJSON(t){return new iS(t.fields??[],SU(t))}constructor(t=[],i){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=i?new Map(i):null;const n=[];for(const u of this.fields){const p=u==null?void 0:u.name,g=xU(p);if(p&&g){const w=R0(p);this._fieldsMap.set(p,u),this._fieldsMap.set(w,u),this._normalizedFieldsMap.set(g,u),n.push(`${w}:${u.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(p)}`),Mxe(u)?(this.dateFields.push(u),this._dateFieldsSet.add(u)):II(u)&&(this._numericFieldsSet.add(u),this.numericFields.push(u)),XF(u)||QF(u)||(u.editable=u.editable==null||!!u.editable,u.nullable=u.nullable==null||!!u.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)XF(t)||QF(t)||t.nullable||pxe(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let i=this._fieldsMap.get(t);return i||(i=this._fieldsMap.get(R0(t))??this._normalizedFieldsMap.get(xU(t)),i&&this._fieldsMap.set(t,i),i)}getTimeZone(t){const i=this.get(t&&typeof t!="string"?t.name:t);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(xt.getLogger("esri.layers.support.FieldsIndex").error(new ze("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),mu):oee.has(i.type)?p1:null:null}getLuxonTimeZone(t){const i=this.getTimeZone(t);return i?i===p1?m6.instance:i===mu?rs.utcInstance:DO(m4e,i,()=>Ea.create(i)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return $xe(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var i;return((i=this.get(t))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(t=>d4(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function R0(e){return e.trim().toLowerCase()}function xU(e){var t;return((t=Q5e(e))==null?void 0:t.toLowerCase())??""}const oee=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function SU(e){const t=new Map;if(!e.fields)return t;const i=e.datesInUnknownTimezone===!0,{timeInfo:n,editFieldsInfo:s}=e,u=(n?"startField"in n?n.startField:n.startTimeField:"")??"",p=(n?"endField"in n?n.endField:n.endTimeField:"")??"",g=p4e(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?x9(e.dateFieldsTimeReference):null,w=s?d4e(s)?s.timeZone??g:s.dateFieldsTimeReference?x9(s.dateFieldsTimeReference):g??mu:null,E=n?f4e(n)?n.timeZone??g:n.timeReference?x9(n.timeReference):g:null,A=new Map([[R0((s==null?void 0:s.creationDateField)??""),w],[R0((s==null?void 0:s.editDateField)??""),w],[R0(u),E],[R0(p),E]]);for(const{name:I,type:R}of e.fields)if(oee.has(R))t.set(I,p1);else if(R!=="date"&&R!=="esriFieldTypeDate")t.set(I,null);else if(i)t.set(I,p1);else{const F=A.get(R0(I??""))??g;t.set(I,F)}return t}let oP=1e-6;function Cr(){return oP}function y4e(e){oP=e}const l3=Math.random,g4e=Math.PI/180,v4e=180/Math.PI;function b4e(e){return e*g4e}function w4e(e){return e*v4e}function x4e(e,t){return Math.abs(e-t)<=oP*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:l3,equals:x4e,getEpsilon:Cr,setEpsilon:y4e,toDegree:w4e,toRadian:b4e},Symbol.toStringTag,{value:"Module"}));function lg(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function S4e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function aP(e,t,i,n,s){return e[0]=t,e[1]=i,e[2]=n,e[3]=s,e}function aee(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function lee(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function cee(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function uee(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function _4e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function E4e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function T4e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function M4e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function $4e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function hee(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function k4e(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e}function dee(e,t){const i=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],u=t[3]-e[3];return Math.sqrt(i*i+n*n+s*s+u*u)}function fee(e,t){const i=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],u=t[3]-e[3];return i*i+n*n+s*s+u*u}function lP(e){const t=e[0],i=e[1],n=e[2],s=e[3];return Math.sqrt(t*t+i*i+n*n+s*s)}function cP(e){const t=e[0],i=e[1],n=e[2],s=e[3];return t*t+i*i+n*n+s*s}function C4e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function A4e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function pee(e,t){const i=t[0],n=t[1],s=t[2],u=t[3];let p=i*i+n*n+s*s+u*u;return p>0&&(p=1/Math.sqrt(p),e[0]=i*p,e[1]=n*p,e[2]=s*p,e[3]=u*p),e}function uP(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function y6(e,t,i,n){const s=t[0],u=t[1],p=t[2],g=t[3];return e[0]=s+n*(i[0]-s),e[1]=u+n*(i[1]-u),e[2]=p+n*(i[2]-p),e[3]=g+n*(i[3]-g),e}function O4e(e,t=1){const i=l3;let n,s,u,p,g,w;do n=2*i()-1,s=2*i()-1,g=n*n+s*s;while(g>=1);do u=2*i()-1,p=2*i()-1,w=u*u+p*p;while(w>=1);const E=Math.sqrt((1-g)/w);return e[0]=t*n,e[1]=t*s,e[2]=t*u*E,e[3]=t*p*E,e}function I4e(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3];return e[0]=i[0]*n+i[4]*s+i[8]*u+i[12]*p,e[1]=i[1]*n+i[5]*s+i[9]*u+i[13]*p,e[2]=i[2]*n+i[6]*s+i[10]*u+i[14]*p,e[3]=i[3]*n+i[7]*s+i[11]*u+i[15]*p,e}function P4e(e,t,i){const n=t[0],s=t[1],u=t[2],p=i[0],g=i[1],w=i[2],E=i[3],A=E*n+g*u-w*s,I=E*s+w*n-p*u,R=E*u+p*s-g*n,F=-p*n-g*s-w*u;return e[0]=A*E+F*-p+I*-w-R*-g,e[1]=I*E+F*-g+R*-p-A*-w,e[2]=R*E+F*-w+A*-g-I*-p,e[3]=t[3],e}function R4e(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function mee(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function c3(e,t){const i=e[0],n=e[1],s=e[2],u=e[3],p=t[0],g=t[1],w=t[2],E=t[3],A=Cr();return Math.abs(i-p)<=A*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(n-g)<=A*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(s-w)<=A*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-E)<=A*Math.max(1,Math.abs(u),Math.abs(E))}const D4e=lee,N4e=cee,L4e=uee,z4e=dee,j4e=fee,F4e=lP,U4e=cP;Object.freeze(Object.defineProperty({__proto__:null,add:aee,ceil:_4e,copy:lg,copyVec3:S4e,dist:z4e,distance:dee,div:L4e,divide:uee,dot:uP,equals:c3,exactEquals:mee,floor:E4e,inverse:A4e,len:F4e,length:lP,lerp:y6,max:M4e,min:T4e,mul:N4e,multiply:cee,negate:C4e,normalize:pee,random:O4e,round:$4e,scale:hee,scaleAndAdd:k4e,set:aP,sqrDist:j4e,sqrLen:U4e,squaredDistance:fee,squaredLength:cP,str:R4e,sub:D4e,subtract:lee,transformMat4:I4e,transformQuat:P4e},Symbol.toStringTag,{value:"Module"}));function Zh(){return[0,0,0,0]}function V4e(e){return[e[0],e[1],e[2],e[3]]}function fl(e,t,i,n){return[e,t,i,n]}function G4e(e,t,i,n){return[e,t,i,n]}function yee(e,t=Zh()){const i=Math.min(4,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function H4e(e,t){return new Float64Array(e,t,4)}function gee(){return Zh()}function vee(){return fl(1,1,1,1)}function bee(){return fl(1,0,0,0)}function wee(){return fl(0,1,0,0)}function xee(){return fl(0,0,1,0)}function See(){return fl(0,0,0,1)}const q4e=gee(),B4e=vee(),W4e=bee(),J4e=wee(),Z4e=xee(),Y4e=See();Object.freeze(Object.defineProperty({__proto__:null,ONES:B4e,UNIT_W:Y4e,UNIT_X:W4e,UNIT_Y:J4e,UNIT_Z:Z4e,ZEROS:q4e,clone:V4e,create:Zh,createView:H4e,freeze:G4e,fromArray:yee,fromValues:fl,ones:vee,unitW:See,unitX:bee,unitY:wee,unitZ:xee,zeros:gee},Symbol.toStringTag,{value:"Module"}));function _ee(e){return"r"in e&&"g"in e&&"b"in e}function Eee(e){return"h"in e&&"s"in e&&"v"in e}function Tee(e){return"l"in e&&"a"in e&&"b"in e}function Mee(e){return"l"in e&&"c"in e&&"h"in e}function K4e(e){return"x"in e&&"y"in e&&"z"in e}const X4e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Q4e=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function $ee(e,t){const i=[];let n,s;if(e[0].length!==t.length)throw new Error("dimensions do not match");const u=e.length,p=e[0].length;let g=0;for(n=0;n<u;n++){for(g=0,s=0;s<p;s++)g+=e[n][s]*t[s];i.push(g)}return i}function kee(e){const t=[e.r/255,e.g/255,e.b/255].map(n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4),i=$ee(X4e,t);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function hP(e){const t=$ee(Q4e,[e.x/100,e.y/100,e.z/100]).map(i=>{const n=i<=.0031308?12.92*i:1.055*i**.4166666666666667-.055;return Math.min(1,Math.max(n,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function Cee(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(i=>i>.008856451679035631?i**.3333333333333333:7.787037037037035*i+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function Aee(e){const t=e.l,i=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(n=>n>6/29?n**3:3*(6/29)**2*(n-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function e_e(e){const t=e.l,i=e.a,n=e.b,s=Math.sqrt(i*i+n*n);let u=Math.atan2(n,i);return u=u>0?u:u+2*Math.PI,{l:t,c:s,h:u}}function t_e(e){const t=e.l,i=e.c,n=e.h;return{l:t,a:i*Math.cos(n),b:i*Math.sin(n)}}function i_e(e){return Cee(kee(e))}function n_e(e){return hP(Aee(e))}function r_e(e){return e_e(Cee(kee(e)))}function s_e(e){return hP(Aee(t_e(e)))}function o_e(e){const t=e.r,i=e.g,n=e.b,s=Math.max(t,i,n),u=s-Math.min(t,i,n);let p=s,g=u===0?0:s===t?(i-n)/u%6:s===i?(n-t)/u+2:(t-i)/u+4,w=u===0?0:u/p;return g<0&&(g+=6),g*=60,w*=100,p*=100/255,{h:g,s:w,v:p}}function a_e(e){const t=(e.h+360)%360/60,i=e.s/100,n=e.v/100*255,s=n*i,u=s*(1-Math.abs(t%2-1));let p;switch(Math.floor(t)){case 0:p={r:s,g:u,b:0};break;case 1:p={r:u,g:s,b:0};break;case 2:p={r:0,g:s,b:u};break;case 3:p={r:0,g:u,b:s};break;case 4:p={r:u,g:0,b:s};break;case 5:case 6:p={r:s,g:0,b:u};break;default:p={r:0,g:0,b:0}}return p.r=Math.round(p.r+n-s),p.g=Math.round(p.g+n-s),p.b=Math.round(p.b+n-s),p}function u3(e){return _ee(e)?e:Mee(e)?s_e(e):Tee(e)?n_e(e):K4e(e)?hP(e):Eee(e)?a_e(e):e}function l_e(e){return Eee(e)?e:o_e(u3(e))}function c_e(e){return Tee(e)?e:i_e(u3(e))}function SGe(e){return Mee(e)?e:r_e(u3(e))}function u_e(e){let{r:t,g:i,b:n,a:s}=e;return s<1&&(t=Math.round(s*t+255*(1-s)),i=Math.round(s*i+255*(1-s)),n=Math.round(s*n+255*(1-s))),new Ut({r:t,g:i,b:n})}function h_e(e,t){const{r:i,g:n,b:s}=t!=null&&t.ignoreAlpha?e:u_e(e);return .2126*i+.7152*n+.0722*s}var rC;function _Ge(e,t=rC.High){return h_e(e,{ignoreAlpha:!0})>t?new Ut([0,0,0,e.a]):new Ut([255,255,255,e.a])}function EGe(e,t){const i=c_e(e);i.l*=1-t;const n=u3(i),s=e.clone();return s.setColor(n),s.a=e.a,s}function TGe(e,t){const i=e.clone();return i.a*=t,i}function MGe(e,t){const i=l_e(e);i.s*=t;const n=u3(i),s=e.clone();return s.setColor(n),s.a=e.a,s}function $Ge(e){return Ut.toUnitRGBA(e)}function kGe(e){return fl(e[0],e[1],e[2],e.length>3?e[3]:1)}function CGe(e,t){const i=Ut.toUnitRGBA(e);return i[3]*=t,i}function AGe(e,t,i={}){if(e.length===0||t<=0)return[];if((e=e.map(n=>typeof n=="string"?new Ut(n):n)).length===1||t===1){const n=[],s=e[0];for(let u=0;u<t;u++)n.push(s.clone());return n}if(i.shuffle&&(e=LW(ke(e),i.seed)),e.length>=t){const n=[],s=(e.length-1)/(t-1);for(let u=0;u<t;u++){const p=Math.round(u*s);n.push(e[p].clone())}return n}return d_e(e,t,i)}function d_e(e,t,i={}){const n=[],s=e.length-1,u=Math.ceil((t-e.length)/s);e:for(let p=0;p<s;p++){const g=e[p],w=e[p+1];for(let E=1;E<=u;E++){const A=E/(u+1);if(n.push(f_e(g,w,A,i)),n.length+e.length===t)break e}}return[...e.map(p=>p.clone()),...LW(n,i.seed??1)]}(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(rC||(rC={}));const l8=(e,t)=>{const i=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+i))};function f_e(e,t,i,n={}){const s=e.r,u=e.g,p=e.b,g=t.r,w=t.g,E=t.b,A=Math.round(s+(g-s)*i),I=Math.round(u+(w-u)*i),R=Math.round(p+(E-p)*i);if(!n.offset)return new Ut([A,I,R]);const F=NW(n.seed);return new Ut([l8(A,F),l8(I,F),l8(R,F)])}var _U,EU,TU,MU,$U,kU,CU,AU,OU,IU,sC,oC,PU,RU,DU,NU,LU,zU,jU,FU,UU,VU,GU,HU,qU,BU,WU,JU,ZU,YU,KU,XU,QU,eV,tV,iV,nV,rV,sV,oV,aV,lV,cV,uV,hV,dV,fV,pV,mV,yV,gV,vV,bV,wV,xV,SV,_V,EV,TV,MV,$V,kV;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(_U||(_U={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(EU||(EU={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(TU||(TU={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(MU||(MU={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}($U||($U={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(kU||(kU={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(CU||(CU={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(AU||(AU={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(OU||(OU={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(IU||(IU={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(sC||(sC={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(oC||(oC={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(PU||(PU={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(RU||(RU={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(DU||(DU={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(NU||(NU={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(LU||(LU={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(zU||(zU={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(jU||(jU={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(FU||(FU={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(UU||(UU={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(VU||(VU={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(GU||(GU={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(HU||(HU={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(qU||(qU={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(BU||(BU={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(WU||(WU={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(JU||(JU={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(ZU||(ZU={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(YU||(YU={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(KU||(KU={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(XU||(XU={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(QU||(QU={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(eV||(eV={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(tV||(tV={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(iV||(iV={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(nV||(nV={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(rV||(rV={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(sV||(sV={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(oV||(oV={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(aV||(aV={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(lV||(lV={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(cV||(cV={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(uV||(uV={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(hV||(hV={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(dV||(dV={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(fV||(fV={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(pV||(pV={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(mV||(mV={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(yV||(yV={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(gV||(gV={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(vV||(vV={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(bV||(bV={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(wV||(wV={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(xV||(xV={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(SV||(SV={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(_V||(_V={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(EV||(EV={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(TV||(TV={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(MV||(MV={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}($V||($V={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(kV||(kV={}));const p_e={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},aC={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:sC.Loop,repeatdelay:0,easing:oC.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};function m_e(e){return typeof e=="function"}function OGe(e,t,i,n){return m_e(e)?e(t,i,n):e}function IGe(e){return[e.r,e.g,e.b,e.a]}const y_e=` /-,
`;function CV(e){let t=e.length;for(;t--;)if(!y_e.includes(e.charAt(t)))return!1;return!0}function g_e(e,t){const i=[];let n=0,s=-1;do if(s=e.indexOf("[",n),s>=n){if(s>n){const u=e.slice(n,s);i.push([u,null,CV(u)])}if(n=s+1,s=e.indexOf("]",n),s>=n){if(s>n){const u=t[e.slice(n,s)];u&&i.push([null,u,!1])}n=s+1}}while(s!==-1);if(n<e.length){const u=e.slice(n);i.push([u,null,CV(u)])}return i}function v_e(e,t,i,n){let s="",u=null;for(const p of t){const[g,w,E]=p;if(g)E?u=g:(u&&(s+=u,u=null),s+=g);else{let A=w;i!=null&&(A=Oee(w,i));const I=e.attributes[A];I&&(u&&(s+=u,u=null),s+=I)}}return b_e(s,n)}function b_e(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function PGe(e,t,i,n,s,u,p=!0){const g=t/s,w=i/u,E=Math.ceil(g/2),A=Math.ceil(w/2);for(let I=0;I<u;I++)for(let R=0;R<s;R++){const F=4*(R+(p?u-I-1:I)*s);let q=0,B=0,K=0,te=0,ce=0,ye=0,_e=0;const we=(I+.5)*w;for(let xe=Math.floor(I*w);xe<(I+1)*w;xe++){const pe=Math.abs(we-(xe+.5))/A,Ze=(R+.5)*g,Fe=pe*pe;for(let He=Math.floor(R*g);He<(R+1)*g;He++){let nt=Math.abs(Ze-(He+.5))/E;const Qe=Math.sqrt(Fe+nt*nt);Qe>=-1&&Qe<=1&&(q=2*Qe*Qe*Qe-3*Qe*Qe+1,q>0&&(nt=4*(He+xe*t),_e+=q*e[nt+3],K+=q,e[nt+3]<255&&(q=q*e[nt+3]/250),te+=q*e[nt],ce+=q*e[nt+1],ye+=q*e[nt+2],B+=q))}}n[F]=te/B,n[F+1]=ce/B,n[F+2]=ye/B,n[F+3]=_e/K}}function w_e(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function RGe(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function DGe(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function NGe(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function LGe(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function x_e(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const zGe=(e,t=0)=>e==null||isNaN(e)?t:e,jGe=(e,t)=>e??t,FGe=(e,t)=>e??t,UGe=e=>e.tintColor?w_e(e.tintColor):[255,255,255,1],VGe=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function GGe(){return rt(()=>import("./geometryEngineJSON-DHo_dATM.js").then(e=>e.g),__vite__mapDeps([106,107]),import.meta.url)}function HGe(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function qGe(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function BGe(e){let t="normal",i="normal";if(e){const n=e.toLowerCase();n.includes("italic")?t="italic":n.includes("oblique")&&(t="oblique"),n.includes("bold")?i="bold":n.includes("light")&&(i="lighter")}return{style:t,weight:i}}function WGe(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function AV(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=AV(t);if(i!=null)return i}break;case"CIMTextSymbol":return AV(e.symbol);case"CIMSolidFill":return e.color}return null}function OV(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const i of t){const n=OV(i);if(n!=null)return n}break}case"CIMTextSymbol":return OV(e.symbol);case"CIMSolidStroke":return e.color}}function IV(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=IV(t);if(i!==void 0)return i}break;case"CIMTextSymbol":return IV(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function JGe(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function ZGe(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function S_e(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const YGe=e=>e.includes("data:image/svg+xml");function KGe(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function g6(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function XGe(e,t,i,n,s,u,p=!0){const{infos:g}=u;let w=1,E=0,A=0,I=0,R=1;for(const{absoluteAnchorPoint:B,offsetX:K,offsetY:te,rotation:ce,size:ye,frameHeight:_e,rotateClockWise:we,scaleSymbolsProportionally:xe}of g)R=B?1:w,A=DV(K,te,E,R,A),I=RV(K,te,E,R,I),_e&&(xe||p)&&(w*=ye/_e),E=NV(ce,we,E);const F=DV(n,s,E,R,A),q=RV(n,s,E,R,I);return{size:e*w,rotation:NV(t,i,E),offsetX:F,offsetY:q}}function __e(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>__e(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function E_e(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...p_e[t]];const i=aC[e];if(!i)throw new Error(`InternalError: default value for type ${e}.`);return i[t]}function T_e(e){return e.split(" ").map(t=>Number(t))}function M_e(e){return typeof e=="string"?T_e(e):e}function $_e(e){return e!=null&&e.dashTemplate&&(e.dashTemplate=M_e(e.dashTemplate)),e}function lC(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const i of t)if(i.type==="CIMVectorMarker")return lC(i)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const i of t)if(i.symbol)return lC(i.symbol)}}return"Normal"}function QGe(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const n=i.size??aC.CIMVectorMarker.size;n>t&&(t=n);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const n=i.width;n!=null&&n>t&&(t=n);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&x_e(i.markerPlacement)){const n=i.size??aC.CIMVectorMarker.size;n>t&&(t=n)}break;case"CIMPictureFill":{const n=i.height;n!=null&&n>t&&(t=n)}}}return t}}}function Oee(e,t){if(t!==null){const i=t.get(e);return i?i.name:e}return e}function k_e(e){return e.map(t=>({...t,propertyName:g6(t.propertyName)}))}function PV(e){const t={};for(const i in e){const n=e[i];t[g6(i)]=n}return t}function RV(e,t,i,n,s){const u=i*Math.PI/180;if(u){const p=Math.cos(u);return(Math.sin(u)*e+p*t)*n+s}return t*n+s}function DV(e,t,i,n,s){const u=i*Math.PI/180;return u?(Math.cos(u)*e-Math.sin(u)*t)*n+s:e*n+s}function NV(e,t,i){return t?i-e:i+e}function eHe(e,t,i){const n=i==="Color"||i==="TintColor"||i==="ToColor",s=i==="Rotation"||i==="Angle"||i==="ToRotation";let u=t[g6(i)];if(u!=null&&(n?u=[u[0]/255,u[1]/255,u[2]/255,u[3]/255]:s&&(u*=Math.PI/180)),u==null&&(u=E_e(t.type,i.toLowerCase()),u!=null&&(n?u=[u[0]/255,u[1]/255,u[2]/255,u[3]]:s&&(u*=Math.PI/180))),t.primitiveName!=null){const p=e[t.primitiveName];if(p!=null){const g=p[i];g==null||(typeof g=="string"||typeof g=="number"||Array.isArray(g)?(u=g,u!=null&&(n?u=[u[0]/255,u[1]/255,u[2]/255,u[3]/255]:s&&(u*=Math.PI/180))):(u={valueExpressionInfo:g,defaultValue:u},u!=null&&(n?u={type:"Process",op:"ArcadeColor",value:u}:s&&(u={type:"Process",op:"Divide",left:u,right:180/Math.PI}))))}}if(u==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return u}function tHe(e){return e?{originPosition:e.originPosition==="upper-left"?"upperLeft":e.originPosition==="lower-left"?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:e.extent!=null?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function C_e(e){return e.originPosition==="lowerLeft"&&e.scale.length===4&&e.translate.length===4}function h3(e){if(C_e(e))return e;const{originPosition:t,scale:i,translate:n}=e,s=i[0]??1,u=i[1]??1;return{originPosition:"lowerLeft",scale:[s,t==="lowerLeft"?u:-u,i[2]??1,i[3]??1],translate:[n[0]??0,n[1]??0,n[2]??0,n[3]??0]}}function A_e({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function O_e({scale:e,translate:t},i){return Math.round((i-t[1])/e[1])}function I_e({scale:e,translate:t},i){return Math.round(((i??0)-t[2])/e[2])}function P_e({scale:e,translate:t},i){return i?Math.round((i-t[3])/e[3]):0}function d3({scale:e,translate:t},i){return i*e[0]+t[0]}function f3({scale:e,translate:t},i){return i*e[1]+t[1]}function vw({scale:e,translate:t},i){return(i??0)*e[2]+t[2]}function bw({scale:e,translate:t},i){return i?i*e[3]+t[3]:0}function dP(e,t){return e&&t?L_e:e&&!t?D_e:!e&&t?N_e:R_e}const R_e=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let s=d3(e,n[0]),u=f3(e,n[1]);i[0]=[s,u];const{scale:p,originPosition:g}=e,w=p[0],E=g==="lowerLeft"?p[1]:-p[1];for(let A=1;A<t.length;A++){const[I,R]=t[A];s+=w*I,u+=E*R,i[A]=[s,u]}return i},D_e=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let s=d3(e,n[0]),u=f3(e,n[1]);i[0]=[s,u,vw(e,n[2])];const{scale:p,originPosition:g}=e,w=p[0],E=g==="lowerLeft"?p[1]:-p[1];for(let A=1;A<t.length;A++){const[I,R,F]=t[A];s+=w*I,u+=E*R,i[A]=[s,u,vw(e,F)]}return i},N_e=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let s=d3(e,n[0]),u=f3(e,n[1]);i[0]=[s,u,bw(e,n[2])];const{scale:p,originPosition:g}=e,w=p[0],E=g==="lowerLeft"?p[1]:-p[1];for(let A=1;A<t.length;A++){const[I,R,F]=t[A];s+=w*I,u+=E*R,i[A]=[s,u,bw(e,F)]}return i},L_e=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let s=d3(e,n[0]),u=f3(e,n[1]);i[0]=[s,u,vw(e,n[2]),bw(e,n[3])];const{scale:p,originPosition:g}=e,w=p[0],E=g==="lowerLeft"?p[1]:-p[1];for(let A=1;A<t.length;A++){const[I,R,F,q]=t[A];s+=w*I,u+=E*R,i[A]=[s,u,vw(e,F),bw(e,q)]}return i};function Iee(e,t,i){const n=new Array(i.length);for(let s=0;s<i.length;s++)n[s]=t(e,i[s]);return n}function iHe(e,t,i){const n=h3(e);return t.x=A_e(n,i.x),t.y=O_e(n,i.y),i.z!=null&&(t.z=I_e(n,i.z)),i.m!=null&&(t.m=P_e(n,i.m)),t}function z_e(e,t,i,n=(i==null?void 0:i.hasZ)??!1,s=(i==null?void 0:i.hasM)??!1){if(i!=null){const u=h3(e);t.points=dP(n,s)(u,i.points),t.hasZ=n,t.hasM=s}return t}function j_e(e,t,i,n=(i==null?void 0:i.z)!=null,s=(i==null?void 0:i.m)!=null){if(i==null)return t;const u=h3(e);return t.x=d3(u,i.x),t.y=f3(u,i.y),n&&(t.z=vw(u,i.z)),s&&(t.m=bw(u,i.m)),t}function F_e(e,t,i,n=(i==null?void 0:i.hasZ)??!1,s=(i==null?void 0:i.hasM)??!1){if(i!=null){const u=h3(e);t.rings=Iee(u,dP(n,s),i.rings),t.hasZ=n,t.hasM=s}return t}function U_e(e,t,i,n=(i==null?void 0:i.hasZ)??!1,s=(i==null?void 0:i.hasM)??!1){if(i!=null){const u=h3(e);t.paths=Iee(u,dP(n,s),i.paths),t.hasZ=n,t.hasM=s}return t}function V_e(e,t,i,n,s){if(e==null)return null;const u=e.referencesGeometry()&&s?G_e(t,n,s):t,p=e.repurposeFeature(u);try{return e.evaluate({...i,$feature:p},e.services)}catch(g){return xt.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",g),null}}const c8=new Map;function G_e(e,t,i){const{transform:n,hasZ:s,hasM:u}=i;c8.has(t)||c8.set(t,H_e(t));const p=c8.get(t)(e.geometry,n,s,u);return{...e,geometry:p}}function H_e(e){const t={};switch(e){case"esriGeometryPoint":return(i,n,s,u)=>j_e(n,t,i,s,u);case"esriGeometryPolygon":return(i,n,s,u)=>F_e(n,t,i,s,u);case"esriGeometryPolyline":return(i,n,s,u)=>U_e(n,t,i,s,u);case"esriGeometryMultipoint":return(i,n,s,u)=>z_e(n,t,i,s,u);default:return xt.getLogger("esri.views.2d.support.arcadeOnDemand").error(new ze("mapview-arcade",`Unable to handle geometryType: ${e}`)),i=>i}}const q_e=e=>{if(!e)return[0,0,0,0];const{r:t,g:i,b:n,a:s}=e;return[t,i,n,255*s]};let Pee=class jn{static findApplicableOverrides(t,i,n){if(t&&i){if(t.primitiveName){let s=!1;for(const u of n)if(u.primitiveName===t.primitiveName){s=!0;break}if(!s)for(const u of i)u.primitiveName===t.primitiveName&&n.push(u)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const s of t.effects)jn.findApplicableOverrides(s,i,n);if(t.symbolLayers)for(const s of t.symbolLayers)jn.findApplicableOverrides(s,i,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(t.effects)for(const s of t.effects)jn.findApplicableOverrides(s,i,n);if(t.markerPlacement&&jn.findApplicableOverrides(t.markerPlacement,i,n),t.type==="CIMVectorMarker"){if(t.markerGraphics)for(const s of t.markerGraphics)jn.findApplicableOverrides(s,i,n),jn.findApplicableOverrides(s.symbol,i,n)}else t.type==="CIMCharacterMarker"?jn.findApplicableOverrides(t.symbol,i,n):t.type==="CIMHatchFill"?jn.findApplicableOverrides(t.lineSymbol,i,n):t.type==="CIMPictureMarker"&&jn.findApplicableOverrides(t.animatedSymbolProperties,i,n)}}}static findEffectOverrides(t,i){if(!t)return null;if(t.type==="CIMGeometricEffectDashes"&&$_e(t),!i||!t.primitiveName)return{type:"cim-effect-param",effect:t,overrides:[]};const n=PV(t),s=t.primitiveName,u=[];for(const p of i)p.primitiveName===s&&u.push(PV(p));return{type:"cim-effect-param",effect:n,overrides:k_e(u)}}static async resolveSymbolOverrides(t,i,n,s,u,p,g){if(!(t!=null&&t.symbol))return null;let{symbol:w,primitiveOverrides:E}=t;const A=!!E;if(!A&&!s)return w;w=ke(w),E=ke(E);let I=!0;if(i||(i={attributes:{}},I=!1),A){if(I||(E=E.filter(R=>{var F;return!((F=R.valueExpressionInfo)!=null&&F.expression.includes("$feature"))})),g||(E=E.filter(R=>{var F;return!((F=R.valueExpressionInfo)!=null&&F.expression.includes("$view"))})),E.length>0){const R={spatialReference:n,fields:S_e(i.attributes),geometryType:u};await jn.createRenderExpressions(E,R),jn.evaluateOverrides(E,i,u??"esriGeometryPoint",p,g)}jn.applyOverrides(w,E)}return s&&jn.applyDictionaryTextOverrides(w,i,s,null),w}static async createRenderExpressions(t,i){const n=[];for(const s of t){const u=s.valueExpressionInfo;if(!u||jn._expressionToRenderExpression.has(u.expression))continue;const p=Z5e(u.expression,i.spatialReference,i.fields);n.push(p),p.then(g=>jn._expressionToRenderExpression.set(u.expression,g))}n.length>0&&await Promise.all(n)}static evaluateOverrides(t,i,n,s,u){const p={$view:{scale:u==null?void 0:u.scale}};for(const g of t){g.value&&typeof g.value=="object"&&_ee(g.value)&&(g.propertyName==="Color"||g.propertyName==="StrokeColor")&&(g.value=q_e(g.value));const w=g.valueExpressionInfo;if(!w)continue;const E=jn._expressionToRenderExpression.get(w.expression);E&&(g.value=V_e(E,i,p,n,s))}}static applyDictionaryTextOverrides(t,i,n,s,u="Normal"){if(t!=null&&t.type)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const p=t.symbolLayers;if(!p)return;for(const g of p)g&&g.type==="CIMVectorMarker"&&jn.applyDictionaryTextOverrides(g,i,n,s,t.type==="CIMTextSymbol"?t.textCase:u)}break;case"CIMVectorMarker":{const p=t.markerGraphics;if(!p)return;for(const g of p)g&&jn.applyDictionaryTextOverrides(g,i,n,s)}break;case"CIMMarkerGraphic":{const p=t.textString;if(p&&p.includes("[")){const g=g_e(p,n);t.textString=v_e(i,g,s,u)}}}}static applyOverrides(t,i,n,s){if(t.primitiveName){for(const u of i)if(u.primitiveName===t.primitiveName){const p=g6(u.propertyName);if(s&&s.push({cim:t,nocapPropertyName:p,value:t[p]}),n){let g=!1;for(const w of n)w.primitiveName===t.primitiveName&&(g=!0);g||n.push(u)}u.value!=null&&(t[p]=u.value)}}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const u of t.effects)jn.applyOverrides(u,i,n,s);if(t.symbolLayers)for(const u of t.symbolLayers)jn.applyOverrides(u,i,n,s);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(const u of t.effects)jn.applyOverrides(u,i,n,s);if(t.type==="CIMVectorMarker"&&t.markerGraphics)for(const u of t.markerGraphics)jn.applyOverrides(u,i,n,s),jn.applyOverrides(u.symbol,i,n,s)}}static restoreOverrides(t){for(const i of t)i.cim[i.nocapPropertyName]=i.value}static buildOverrideKey(t){let i="";for(const n of t)n.value!==void 0&&(i+=`${n.primitiveName}${n.propertyName}${JSON.stringify(n.value)}`);return i}static toValue(t,i){if(t==="DashTemplate")return i.split(" ").map(n=>Number(n));if(t==="Color"){const n=new Ut(i).toRgba();return n[3]*=255,n}return i}};Pee._expressionToRenderExpression=new Map;const LV="esri.renderers.support.DictionaryLoader",B_e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let Ree=class{constructor(t,i,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new u4e(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=i,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){var I;let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{n=await this._dictionaryPromise}catch(R){if(wc(R))return this._dictionaryPromise=null,null}const s=(I=this._dictionaryVersion)==null?void 0:I.greaterEqual(4,0),u={};if(this.fieldMap)for(const R of this._symbolFields){const F=Oee(this.fieldMap[R],this._fieldIndex);if(F){const q=t.attributes[F];u[R]=s?q:q!=null?""+t.attributes[F]:""}else u[R]=""}let p=null;try{p=n==null?void 0:n(u,i)}catch{return null}if(!p||typeof p!="string"||p==="invalid")return null;const g=p.split(";"),w=[],E=[];for(let R=0;R<g.length;R++){const F=g[R];if(F){if(F.includes("po:")){const q=F.slice(3).split("|");if(q.length===3){const B=q[0],K=q[1];let te=q[2];const ce="countrylabel";if(B===ce&&K==="TextString"){if(this.fieldMap!=null){let ye=this.fieldMap[ce];ye==null&&(ye=ce,this.fieldMap[ye]=ye),t.attributes[ye]=te}continue}if(K==="DashTemplate")te=te.split(" ").map(ye=>Number(ye));else if(K==="Color"){const ye=new Ut(te).toRgba();te=[ye[0],ye[1],ye[2],255*ye[3]]}else te=Number(te);E.push({primitiveName:B,propertyName:K,value:te,defaultValue:null})}}else if(F.includes("|")){for(const q of F.split("|"))if(this._itemNames.has(q)){w.push(q);break}}else if(this._itemNames.has(F))w.push(F);else if(R===0){w.length=0;let q="Invalid_P";t.geometry!=null&&(Py(t.geometry)?q="Invalid_A":OI(t.geometry)&&(q="Invalid_L")),w.push(q);break}}}const A=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,w,E,A,i)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void xt.getLogger(LV).error("no valid URL!");const i=en(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:n}]=await Promise.all([i,g1()]);if(!n)throw this._dictionaryPromise=null,new ze("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:s,dictionary_version:u,expression:p,itemsNames:g}=n,w=p;let E=!1;u&&(this._dictionaryVersion=ree.parse(u),E=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(g),this._symbolFields=s.symbol;const A={};if(this.config){const F=this.config;for(const q in F)A[q]=F[q]}if(s.configuration)for(const F of s.configuration)A.hasOwnProperty(F.name)||(A[F.name]=F.value);const I=[];if(t!=null&&t.fields&&this.fieldMap)for(const F in this.fieldMap){const q=this.fieldMap[F],B=t.fields.filter(K=>K.name.toLowerCase()===(q==null?void 0:q.toLowerCase()));B.length>0&&I.push({...B[0],type:E?B[0].type:"esriFieldTypeString"})}I.length>0&&(this._fieldIndex=new see(I));const R=Y5e(w,t!=null?t.spatialReference:null,I,A).then(F=>{const q={scale:0};return(B,K)=>{if(F==null)return null;const te=F.repurposeFeature({geometry:null,attributes:B});return q.scale=K!=null?K.scale??void 0:void 0,F.evaluate({$feature:te,$view:q},F.services)}}).catch(F=>(xt.getLogger(LV).error("Creating dictionary expression failed:",F),null));return this._dictionaryPromise=R,R}async _cimPartsToCIMSymbol(t,i,n,s,u){const p=new Array(i.length);for(let E=0;E<i.length;E++)p[E]=this._getSymbolPart(i[E],u);let g=await Promise.all(p);const w=this.fieldMap;if(w){g=ke(g);for(const E of g)Pee.applyDictionaryTextOverrides(E,t,w,this._fieldIndex,lC(E))}return new sp({data:W_e(g,n,s)})}async _getSymbolPart(t,i){const n=this._symbolCache.get(t);if(n)return n;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(p=>p.data);const s=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),u=en(s,{responseType:"json",query:{f:"json"},...i});this._ongoingRequests.set(t,u),u.finally(()=>this._ongoingRequests.delete(t));try{const p=await u;return this._symbolCache.put(t,p.data),p.data}catch(p){throw p}}};function W_e(e,t,i){if(!e||e.length===0)return null;const n={...e[0]};if(e.length>1){n.effects=null,n.symbolLayers=[];for(const s of e){const u=s;if(u.effects!=null)for(const p of u.symbolLayers)p.effects==null?p.effects=u.effects:p.effects.unshift(...u.effects);n.symbolLayers.unshift(...u.symbolLayers)}}return i&&(n.callout=B_e),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}var cC;let Gl=cC=class extends Fg(Jh){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new Ree(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,n){n!=null&&n.origin||super.writeVisualVariables(e,t,i,n)}clone(){return new cC({config:ke(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:ke(this.fieldMap),url:ke(this.url),visualVariables:ke(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Ys(e,t,this.scaleExpression);for(const i in this.fieldMap){const n=this.fieldMap[i];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};S([M({type:Ree})],Gl.prototype,"_loader",null),S([M({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Gl.prototype,"config",void 0),S([M({type:Object,json:{write:!0}})],Gl.prototype,"fieldMap",void 0),S([M({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Gl.prototype,"scaleExpression",void 0),S([vt("scaleExpression")],Gl.prototype,"writeData",null),S([M({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Gl.prototype,"scaleExpressionTitle",void 0),S([M({type:String,json:{write:!0}})],Gl.prototype,"url",void 0),S([vt("visualVariables")],Gl.prototype,"writeVisualVariables",null),Gl=cC=S([ue("esri.renderers.DictionaryRenderer")],Gl);const J_e=Gl;var uC;let Qu=uC=class extends tt{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(xt.getLogger(this).error(".field: field must be a string value"),null):Uw(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new uC({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};S([M({type:Ut,json:{type:[Number],write:!0}})],Qu.prototype,"color",void 0),S([M({type:String,json:{write:!0}})],Qu.prototype,"field",void 0),S([pn("field")],Qu.prototype,"castField",null),S([M({type:String,json:{write:!0}})],Qu.prototype,"label",void 0),S([M({type:String,json:{write:!0}})],Qu.prototype,"valueExpression",void 0),S([M({type:String,json:{write:!0}})],Qu.prototype,"valueExpressionTitle",void 0),Qu=uC=S([ue("esri.renderers.support.AttributeColorInfo")],Qu);const Dee=Qu;var hC;let nS=hC=class extends tt{constructor(){super(...arguments),this.unit=null}clone(){return new hC({unit:this.unit})}};S([M({type:String,json:{write:!0}})],nS.prototype,"unit",void 0),nS=hC=S([ue("esri.renderers.support.DotDensityLegendOptions")],nS);const Z_e=nS;var dC;let Mo=dC=class extends Fg(Jh){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Ut([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new bo,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Wh({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new dC({attributes:ke(this.attributes),backgroundColor:ke(this.backgroundColor),dotBlendingEnabled:ke(this.dotBlendingEnabled),dotShape:ke(this.dotShape),dotSize:ke(this.dotSize),dotValue:ke(this.dotValue),legendOptions:ke(this.legendOptions),outline:ke(this.outline),referenceScale:ke(this.referenceScale),seed:ke(this.seed),visualVariables:ke(this.visualVariables),authoringInfo:ke(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await Ys(e,t,i.valueExpression),i.field&&e.add(i.field)}};S([M({type:[Dee],json:{write:!0}})],Mo.prototype,"attributes",void 0),S([M({type:Ut,json:{write:!0}})],Mo.prototype,"backgroundColor",void 0),S([M({type:Boolean,json:{write:!0}})],Mo.prototype,"dotBlendingEnabled",void 0),S([M({type:String,json:{write:!1}})],Mo.prototype,"dotShape",void 0),S([M({type:Number,json:{write:!0}})],Mo.prototype,"dotSize",void 0),S([M({type:Z_e,json:{write:!0}})],Mo.prototype,"legendOptions",void 0),S([M({type:bo,json:{default:null,write:!0}})],Mo.prototype,"outline",void 0),S([M({type:Number,json:{write:!0}})],Mo.prototype,"dotValue",void 0),S([M({type:Number,json:{write:!0}})],Mo.prototype,"referenceScale",void 0),S([M({type:Number,json:{write:!0}})],Mo.prototype,"seed",void 0),S([Rt({dotDensity:"dot-density"})],Mo.prototype,"type",void 0),Mo=dC=S([ue("esri.renderers.DotDensityRenderer")],Mo);const Y_e=Mo;var fC;let Zb=fC=class extends tt{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new fC({color:this.color&&this.color.clone(),ratio:this.ratio})}};S([M({type:Ut,json:{type:[fn],default:null,write:!0}})],Zb.prototype,"color",void 0),S([M({type:Number,json:{write:!0}})],Zb.prototype,"ratio",void 0),Zb=fC=S([ue("esri.renderers.support.HeatmapColorStop")],Zb);const rS=Zb;let Hm=class extends Wi(tt){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};S([M({type:String,json:{write:!0}})],Hm.prototype,"minLabel",void 0),S([M({type:String,json:{write:!0}})],Hm.prototype,"maxLabel",void 0),S([M({type:String,json:{write:!0}})],Hm.prototype,"title",void 0),Hm=S([ue("esri.renderers.support.HeatmapLegendOptions")],Hm);const fP=2.4;function K_e(e){return gl(e*fP)}function X_e(e){return t9e(e)/fP}function Q_e(e,t,i,n){let{color:s,ratio:u}=t,{color:p,ratio:g}=i;g===u&&(g===1?u-=1e-6:g+=1e-6);const w=yl((n-u)/(g-u),0,1);y6(e,s.toArray(),p.toArray(),w)}function sHe(e){const i=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:g})=>g>=0&&g<=1).sort((g,w)=>g.ratio-w.ratio).map(({color:g,ratio:w})=>({color:g,ratio:Math.max(w,.001)})),e.length<1)return i;let n=e[0],s=e[0],u=1;const p=Zh();for(let g=0;g<512;g++){const w=(g+.5)/512;for(;w>s.ratio&&u<e.length;)n=s,s=e[u++];Q_e(p,n,s,w),i.set(p,4*g)}return i}function oHe(e,t,i){const n=Math.sqrt(e**2+t**2)/i;return n>1?0:3/(Math.PI*i**2)*(1-n**2)**2}function aHe(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var pC;function zV(e){if(e!=null){const{maxDensity:t,minDensity:i,radius:n}=e;if(t!=null||i!=null||n!=null){const{blurRadius:s,maxPixelIntensity:u,minPixelIntensity:p,...g}=e;return g}}return e}let Kr=pC=class extends Jh{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new rS({ratio:0,color:new Ut("rgba(255, 140, 0, 0)")}),new rS({ratio:.75,color:new Ut("rgba(255, 140, 0, 1)")}),new rS({ratio:.9,color:new Ut("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return zV(e)}get blurRadius(){return X_e(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",K_e(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(fP**2*this.blurRadius**4)}read(e,t){e=zV(e),super.read(e,t)}getSymbol(){return new Ta}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,n=this.valueExpression;i&&typeof i=="string"&&po(e,t,i),n&&typeof n=="string"&&await Ys(e,t,n)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new pC({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:ke(this.colorStops),field:this.field,legendOptions:ke(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};S([M({type:QI,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Kr.prototype,"authoringInfo",void 0),S([M({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Kr.prototype,"blurRadius",null),S([M({type:[rS],json:{write:!0}})],Kr.prototype,"colorStops",void 0),S([M({type:String,json:{write:!0}})],Kr.prototype,"field",void 0),S([M({type:Hm,json:{write:!0}})],Kr.prototype,"legendOptions",void 0),S([M({type:Number,json:{write:!0}})],Kr.prototype,"maxDensity",void 0),S([M({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Kr.prototype,"maxPixelIntensity",null),S([M({type:Number,json:{write:!0}})],Kr.prototype,"minDensity",void 0),S([M({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Kr.prototype,"minPixelIntensity",null),S([M({type:Number,cast:$i,json:{write:!0}})],Kr.prototype,"radius",void 0),S([M({type:Number,range:{min:0},json:{default:0,write:!0}})],Kr.prototype,"referenceScale",void 0),S([Rt({heatmap:"heatmap"})],Kr.prototype,"type",void 0),S([M({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Kr.prototype,"valueExpression",void 0),S([M({type:String})],Kr.prototype,"valueExpressionTitle",void 0),S([M({readOnly:!0})],Kr.prototype,"_pixelIntensityToDensity",null),Kr=pC=S([ue("esri.renderers.HeatmapRenderer")],Kr);const Nee=Kr;let D0=class extends Wi(tt){constructor(){super(...arguments),this.color=new Ut([0,0,0,0]),this.label=null,this.threshold=0}};S([M({type:Ut,json:{write:!0}})],D0.prototype,"color",void 0),S([M({type:String,json:{write:!0}})],D0.prototype,"label",void 0),S([M({type:Number,range:{min:0,max:1},json:{write:!0}})],D0.prototype,"threshold",void 0),D0=S([ue("esri.renderers.support.OthersCategory")],D0);const e6e={base:jg,key:"type",typeMap:{size:f6,opacity:eP}};let $o=class extends Fg(Wi(Jh)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Ut([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new D0,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var t;return new Ta({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(uo)}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((i,n)=>i+n.getAttributeHash(),""))??""}getMeshHash(){return this.getSymbols().reduce((t,i)=>t+JSON.stringify(i),"")}async collectRequiredFields(t,i){await this.collectVVRequiredFields(t,i);for(const n of this.attributes)n.valueExpression&&await Ys(t,i,n.valueExpression),n.field&&t.add(n.field)}};S([M({type:[Dee],json:{write:!0}})],$o.prototype,"attributes",void 0),S([M(rP)],$o.prototype,"backgroundFillSymbol",void 0),S([M({type:Ut,json:{write:!0}})],$o.prototype,"defaultColor",void 0),S([M({type:String,json:{write:!0}})],$o.prototype,"defaultLabel",void 0),S([M({type:Number,range:{min:0,max:1},json:{write:!0}})],$o.prototype,"holePercentage",void 0),S([M({type:D0,json:{write:!0}})],$o.prototype,"othersCategory",void 0),S([M({type:sP,json:{write:!0}})],$o.prototype,"legendOptions",void 0),S([M({type:bo,json:{default:null,write:!0}})],$o.prototype,"outline",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],$o.prototype,"size",void 0),S([Rt({pieChart:"pie-chart"})],$o.prototype,"type",void 0),S([M({types:[e6e]})],$o.prototype,"visualVariables",void 0),$o=S([ue("esri.renderers.PieChartRenderer")],$o);const t6e=$o;var mC;let g0=mC=class extends Fg(Jh){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new mC({description:this.description,label:this.label,symbol:ke(this.symbol),visualVariables:ke(this.visualVariables),authoringInfo:ke(this.authoringInfo)})}};S([M({type:String,json:{write:!0}})],g0.prototype,"description",void 0),S([M({type:String,json:{write:!0}})],g0.prototype,"label",void 0),S([M(nP)],g0.prototype,"symbol",void 0),S([Rt({simple:"simple"})],g0.prototype,"type",void 0),g0=mC=S([ue("esri.renderers.SimpleRenderer")],g0);const Ug=g0,i6e=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function yC(e){return e instanceof Zt}function jV(e){return e instanceof Bt?Object.keys(e.items):yC(e)?Vo(e).keys():e?Object.keys(e):[]}function Tx(e,t){return e instanceof Bt?e.items[t]:e[t]}function n6e(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function L2(e){return e?e.declaredClass:null}function Lee(e,t){var I;const i=e.diff;if(i&&typeof i=="function")return i(e,t);const n=jV(e),s=jV(t);if(n.length===0&&s.length===0)return;if(!n.length||!s.length||n6e(e,t))return{type:"complete",oldValue:e,newValue:t};const u=s.filter(R=>!n.includes(R)),p=n.filter(R=>!s.includes(R)),g=n.filter(R=>s.includes(R)&&Tx(e,R)!==Tx(t,R)).concat(u,p).sort(),w=L2(e);if(w&&i6e.has(w)&&g.length)return{type:"complete",oldValue:e,newValue:t};let E;const A=yC(e)&&yC(t);for(const R of g){const F=Tx(e,R),q=Tx(t,R);let B;if((A||typeof F!="function"&&typeof q!="function")&&F!==q&&(F!=null||q!=null)){if(i&&i[R]&&typeof i[R]=="function")B=(I=i[R])==null?void 0:I.call(i,F,q);else if(F instanceof Date&&q instanceof Date){if(F.getTime()===q.getTime())continue;B={type:"complete",oldValue:F,newValue:q}}else B=typeof F=="object"&&typeof q=="object"&&L2(F)===L2(q)?Lee(F,q):{type:"complete",oldValue:F,newValue:q};B!=null&&(E!=null?E.diff[R]=B:E={type:"partial",diff:{[R]:B}})}}return E}function uHe(e,t){return r6e(e,t)}function r6e(e,t){if(e==null)return!1;const i=t.split(".");let n=e;for(const s of i){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const u=n.diff[s];if(!u)return!1;n=u}}return!0}function hHe(e,t){if(!e)return!1;if(e.type==="partial"){const i=Object.keys(e.diff);return i.length===1&&i[0]===t}return!1}function zee(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&L2(e)!==L2(t)?{type:"complete",oldValue:e,newValue:t}:Lee(e,t)}function Mx(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const i of t.added)if(!Mx(i))return!1;for(const i of t.removed)if(!Mx(i))return!1;for(const i of t.changed)if(!Mx(i))return!1;return!0}case"partial":for(const t in e.diff)if(!Mx(e.diff[t]))return!1;return!0}}let qm=class extends Wi(tt){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};S([M(Q9)],qm.prototype,"value",void 0),S([M(Q9)],qm.prototype,"value2",void 0),S([M(Q9)],qm.prototype,"value3",void 0),qm=S([ue("esri.renderers.support.UniqueValue")],qm);const Dy=qm;let ef=class extends Wi(tt){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const i=typeof(t=Array.isArray(t)?t:[t])[0];return i==="string"||i==="number"?t.map(n=>new Dy({value:n})):i==="object"?t[0]instanceof Dy?t:t.map(n=>new Dy(n)):null}};S([M({type:String,json:{write:!0}})],ef.prototype,"description",void 0),S([M({type:String,json:{write:!0}})],ef.prototype,"label",void 0),S([M(p6)],ef.prototype,"symbol",void 0),S([M({type:[Dy],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new Dy({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const i=[];for(const n of e){const s=[n.value,n.value2,n.value3].filter(uo).map(u=>u.toString());i.push(s)}t.values=i}}}})],ef.prototype,"values",void 0),S([pn("values")],ef.prototype,"castValues",null),ef=S([ue("esri.renderers.support.UniqueValueClass")],ef);const jee=ef;let Yb=class extends Wi(tt){constructor(t){super(t),this.heading=null,this.classes=null}};S([M({type:String,json:{write:!0}})],Yb.prototype,"heading",void 0),S([M({type:[jee],json:{write:!0}})],Yb.prototype,"classes",void 0),Yb=S([ue("esri.renderers.support.UniqueValueGroup")],Yb);const gC=Yb;var vC;let v0=vC=class extends tt{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new vC({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};S([M({type:String,json:{write:!0}})],v0.prototype,"description",void 0),S([M({type:String,json:{write:!0}})],v0.prototype,"label",void 0),S([M(nP)],v0.prototype,"symbol",void 0),S([M(Q9)],v0.prototype,"value",void 0),v0=vC=S([ue("esri.renderers.support.UniqueValueInfo")],v0);const z2=v0,FV=new Map;async function s6e(e,t){try{return{data:(await c6e(e,t)).data,baseUrl:Kye(e),styleUrl:e}}catch(i){return su(i),null}}function o6e(e,t,i){var w;const n=t.portal!=null?t.portal:_a.getDefault();let s;const u=`${n.url} - ${(w=n.user)==null?void 0:w.username} - ${e}`,p=FV.get(u);if(p)return p;const g=a6e(e,n,i).then(E=>(s=E,E.fetchData())).then(E=>({data:E,baseUrl:s.itemUrl??"",styleName:e}));return FV.set(u,g),g}function a6e(e,t,i){return t.load(i).then(()=>{const n=new tc({disableExtraQuery:!0,query:`owner:${UV} AND type:${VV} AND typekeywords:"${e}"`});return t.queryItems(n,i)}).then(({results:n})=>{var p;let s=null;const u=e.toLowerCase();if(n&&Array.isArray(n)){for(const g of n)if(((p=g.typeKeywords)==null?void 0:p.some(E=>E.toLowerCase()===u))&&g.type===VV&&g.owner===UV){s=g;break}}if(!s)throw new ze("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(i)})}function l6e(e,t,i){return(e==null?void 0:e.styleUrl)!=null?s6e(e.styleUrl,i):(e==null?void 0:e.styleName)!=null?o6e(e.styleName,t,i):Promise.reject(new ze("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function mHe(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function yHe(e,t,i=["gltf"]){if(t==="cimRef")return encodeURI(e.cimRef);if(e.formatInfos&&!Ge("enable-feature:force-wosr"))for(const n of i){const s=e.formatInfos.find(u=>u.type===n);if(s)return s.href}return encodeURI(e.webRef)}function c6e(e,t){const i={responseType:"json",query:{f:"json"},...t};return en(hl(e),i)}const UV="esri_en",VV="Style",gHe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var Kb;const Fee="esri.renderers.UniqueValueRenderer",zd=()=>xt.getLogger(Fee),GV="uvInfos-watcher",HV="uvGroups-watcher",u6e=",",h6e=ls(z2);function d6e(e){const{field1:t,field2:i,field3:n,fieldDelimiter:s,uniqueValueInfos:u,valueExpression:p}=e,g=!(!t||!i);return[{classes:(u??[]).map(w=>{var te;const{symbol:E,label:A,value:I,description:R}=w,[F,q,B]=g?((te=I==null?void 0:I.toString())==null?void 0:te.split(s||""))||[]:[I],K=[];return(t||p)&&K.push(F),i&&K.push(q),n&&K.push(B),{symbol:E,label:A,values:[K],description:R}})}]}function Tm(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let Rn=Kb=class extends Fg(Jh){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let n=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let u=0;u<i.length;u++){const p=t.find(g=>g.value===i[u].value);p?zee(p,i[u])?(s.changed.push({type:"complete",oldValue:p,newValue:i[u]}),n=!0):s.unchanged.push({oldValue:p,newValue:i[u]}):(s.added.push(i[u]),n=!0)}for(let u=0;u<t.length;u++)i.find(p=>p.value===t[u].value)||(s.removed.push(t[u]),n=!0);return n?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:Uw(e)}writeField(e,t,i,n){typeof e=="string"?t[i]=e:n!=null&&n.messages?n.messages.push(new ze("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):zd().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,i){return i.portal||_a.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=Rg(t.styleUrl,i);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,i,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=o3(e.styleUrl,n))}set uniqueValueGroups(e){this.styleOrigin?zd().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?zd().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var n;if(this.styleOrigin)return void zd().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?h6e(e):new z2({value:e,symbol:NQ(t)}),(n=this.uniqueValueInfos)==null||n.push(i),this._valueInfoMap[Tm(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void zd().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let i=0;i<t.length;i++){const n=t[i];if(String(n.value)===String(e)){delete this._valueInfoMap[Tm(e)],t.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await g1()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void zd().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const s=await g1(),{arcadeUtils:u}=s;u.hasGeometryOperations(this.valueExpression)&&await u.enableGeometryOperations(),i={...i,arcade:s}}const n=this._getUniqueValueInfo(e,i);return(n==null?void 0:n.symbol)||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){var n;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=(n=this.uniqueValueInfos)==null?void 0:n.reduce((s,u)=>s+u.getMeshHash(),"");return`${e}.${t}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new Kb({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:ke(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:ke(this.visualVariables),legendOptions:ke(this.legendOptions),authoringInfo:ke(this.authoringInfo),backgroundFillSymbol:ke(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=ke(this.uniqueValueInfos),i=ke(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(ke(this.styleOrigin))),Object.freeze(t),Object.freeze(i)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",i),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Ys(e,t,this.valueExpression)];po(e,t,this.field),po(e,t,this.field2),po(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return l6e(this.styleOrigin,{portal:this.portal}).then(e=>{var i;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(n=>{const s=new D1({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const u=new z2({value:n.name,symbol:s});t.push(u),this._valueInfoMap[Tm(n.name)]=u}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",u6e)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[Tm(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(GV);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const i of e)t.push(ei(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(n,s)=>{n!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,GV)}}_watchUniqueValueGroups(){this.removeHandles(HV);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const i of e){t.push(ei(()=>({classes:i.classes}),(n,s)=>{n!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const n of i.classes??[])t.push(ei(()=>({symbol:n.symbol,values:n.values,label:n.label,description:n.description}),(s,u)=>{s!==u&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,HV)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:i,field3:n,fieldDelimiter:s,uniqueValueGroups:u,valueExpression:p}=this;if(!t&&!p)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const g=!(!t||!i);for(const w of u)for(const E of w.classes??[]){const{symbol:A,label:I,values:R,description:F}=E;for(const q of R??[]){const{value:B,value2:K,value3:te}=q,ce=[B];i&&ce.push(K),n&&ce.push(te);const ye=g?ce.join(s||""):ce[0]??void 0;e.push(new z2({symbol:A,label:I,value:ye,description:F}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:i,valueExpression:n,fieldDelimiter:s,uniqueValueInfos:u}=this;if(!t&&!n||!u.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const p=!(!t||!i),g=u.map(E=>{var te;const{symbol:A,label:I,value:R,description:F}=E,[q,B,K]=p?((te=R==null?void 0:R.toString())==null?void 0:te.split(s||""))||[]:[R];return new jee({symbol:A,label:I,description:F,values:[new Dy({value:q,value2:B,value3:K})]})}),w=[new gC({classes:g})];e&&Object.freeze(w),this._set("uniqueValueGroups",w),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:s,arcade:u,timeZone:p}=t??{};let g=this._cache.compiledFunc;const w=u.arcadeUtils;if(!g){const A=w.createSyntaxTree(this.valueExpression);g=w.createFunction(A),this._cache.compiledFunc=g}const E=w.executeFunction(g,w.createExecContext(e,w.getViewInfo({viewingMode:i,scale:n,spatialReference:s}),p));return this._valueInfoMap[Tm(E)]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let n;if(this.field2){const s=this.field2,u=this.field3,p=[];t&&p.push(i[t]),s&&p.push(i[s]),u&&p.push(i[u]),n=p.join(this.fieldDelimiter||"")}else t&&(n=i[t]);return this._valueInfoMap[Tm(n)]}static fromPortalStyle(e,t){const i=new Kb(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",(t==null?void 0:t.portal)||_a.getDefault());const n=i.populateFromStyle();return n.catch(s=>{zd().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",s)}),n}static fromStyleUrl(e,t){const i=new Kb(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const n=i.populateFromStyle();return n.catch(s=>{zd().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),n}};S([M({readOnly:!0})],Rn.prototype,"_cache",null),S([Rt({uniqueValue:"unique-value"})],Rn.prototype,"type",void 0),S([M(rP)],Rn.prototype,"backgroundFillSymbol",void 0),S([M({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Rn.prototype,"field",null),S([pn("field")],Rn.prototype,"castField",null),S([vt("field")],Rn.prototype,"writeField",null),S([M({type:String,value:null,json:{write:!0}})],Rn.prototype,"field2",null),S([M({type:String,value:null,json:{write:!0}})],Rn.prototype,"field3",null),S([M({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Rn.prototype,"orderByClassesEnabled",void 0),S([M({type:String,value:null,json:{write:!0}})],Rn.prototype,"valueExpression",null),S([M({type:String,json:{write:!0}})],Rn.prototype,"valueExpressionTitle",void 0),S([M({type:sP,json:{write:!0}})],Rn.prototype,"legendOptions",void 0),S([M({type:String,json:{write:!0}})],Rn.prototype,"defaultLabel",void 0),S([M(AO({...p6},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Rn.prototype,"defaultSymbol",null),S([M({type:String,value:null,json:{write:!0}})],Rn.prototype,"fieldDelimiter",null),S([M({type:_a,readOnly:!0})],Rn.prototype,"portal",void 0),S([ht("portal",["styleName"])],Rn.prototype,"readPortal",null),S([M({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Rn.prototype,"styleOrigin",void 0),S([ht("styleOrigin",["styleName","styleUrl"])],Rn.prototype,"readStyleOrigin",null),S([vt("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Rn.prototype,"writeStyleOrigin",null),S([M({type:[gC],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,i)=>(t.uniqueValueGroups||d6e(t)).map(n=>gC.fromJSON(n,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Rn.prototype,"uniqueValueGroups",null),S([M({type:[z2],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Rn.prototype,"uniqueValueInfos",null),Rn=Kb=S([ue(Fee)],Rn);const pP=Rn,v6={key:"type",base:Jh,typeMap:{heatmap:Nee,simple:Ug,"unique-value":pP,"class-breaks":nee,"dot-density":Y_e,dictionary:J_e,"pie-chart":t6e},errorContext:"renderer"},f6e={key:"type",base:Jh,typeMap:{simple:Ug,"unique-value":pP,"class-breaks":nee,heatmap:Nee},errorContext:"renderer",validate:p6e};function p6e(e){switch(e.type){case"simple":return m6e(e);case"unique-value":return y6e(e);case"class-breaks":return g6e(e);case"heatmap":return e}}function m6e(e){if(e.symbol)return e;xt.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function y6e(e){const t=e.uniqueValueInfos,i=t==null?void 0:t.filter(({symbol:n,label:s},u)=>(n||xt.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${u}] ${s}) without a symbol from web scene.`),!!n));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=i),e}function g6e(e){const t=e.classBreakInfos,i=t==null?void 0:t.filter(({symbol:n,label:s},u)=>(n||xt.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${u}] ${s}) without a symbol from web scene.`),!!n));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=i),e}function vHe(e,t){return ww(e,null,t)}const v6e=_g({types:v6});function ww(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new dc("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):v6e(e,t,i):null}let b6e=class Uee{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(EM),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new Uee,n=this._originStores[fi.DEFAULTS];n&&n.forEach((s,u)=>{i.set(u,ke(s),fi.DEFAULTS)});for(let s=fi.SERVICE;s<EM;s++){const u=this._originStores[s];u&&u.forEach((p,g)=>{t&&t.has(g)||i.set(g,ke(p),s)})}return i}get(t,i){const n=i===void 0?this._values:this._originStores[i];return n?n.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,n=fi.USER){let s=this._originStores[n];if(s||(s=new Map,this._originStores[n]=s),s.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const u=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,n),u!==i}return!1}delete(t,i=fi.USER){const n=this._originStores[i];if(!n)return;const s=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let u=i-1;u>=0;u--){const p=this._originStores[u];if(p&&p.has(t)){this._values.set(t,p.get(t)),this._propertyOriginMap.set(t,u);break}}}return s}has(t,i){const n=i===void 0?this._values:this._originStores[i];return!!n&&n.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const n=this._originStores[i],s=n==null?void 0:n.get(t),u=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,i),u!==s}originOf(t){return this._propertyOriginMap.get(t)||fi.DEFAULTS}forEach(t){this._values.forEach(t)}};const Vee=e=>{let t=class extends e{constructor(...i){super(...i);const n=Vo(this),s=n.store,u=new b6e;n.store=u,JJ(n,s,u)}read(i,n){YJ(this,i,n)}getAtOrigin(i,n){const s=u8(this),u=_f(n);if(typeof i=="string")return s.get(i,u);const p={};return i.forEach(g=>{p[g]=s.get(g,u)}),p}originOf(i){return t4(this.originIdOf(i))}originIdOf(i){return u8(this).originOf(i)}revert(i,n){const s=u8(this),u=_f(n),p=Vo(this);let g;g=typeof i=="string"?i==="*"?s.keys(u):[i]:i,g.forEach(w=>{p.invalidate(w),s.revert(w,u),p.commit(w)})}};return t=S([ue("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function u8(e){return Vo(e).store}let qV=class extends Vee(Zt){};qV=S([ue("esri.core.ReadOnlyMultiOriginJSONSupport")],qV);const w6e=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,n="user"){return h8(this).delete(i,_f(n))}write(i,n){return XJ(this,i=i||{},n),i}setAtOrigin(i,n,s){Vo(this).setAtOrigin(i,n,_f(s))}removeOrigin(i){const n=h8(this),s=_f(i),u=n.keys(s);for(const p of u)n.originOf(p)===s&&n.set(p,n.get(p,s),fi.USER)}updateOrigin(i,n){const s=h8(this),u=_f(n),p=sl(this,i);for(let g=u+1;g<EM;++g)s.delete(i,g);s.set(i,p,u)}toJSON(i){return this.write({},i)}};return t=S([ue("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function h8(e){return Vo(e).store}const Gee=e=>{let t=class extends w6e(Vee(e)){constructor(...i){super(...i)}};return t=S([ue("esri.core.MultiOriginJSONSupport")],t),t};let BV=class extends Gee(Zt){};BV=S([ue("esri.core.MultiOriginJSONSupport")],BV);const ss=(e=>e)(["operational-layers","basemap","ground"]);var bC;let b0=bC=class extends tt{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new bC({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};S([M({type:String,json:{write:!0}})],b0.prototype,"expression",void 0),S([M({type:String,json:{write:!0}})],b0.prototype,"name",void 0),S([M({type:["boolean","date","number","string"],json:{write:!0}})],b0.prototype,"returnType",void 0),S([M({type:String,json:{write:!0}})],b0.prototype,"title",void 0),b0=bC=S([ue("esri.form.ExpressionInfo")],b0);const x6e=b0;let w0=class extends tt{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};S([M({type:String,json:{write:!0}})],w0.prototype,"description",void 0),S([M({type:String,json:{write:!0}})],w0.prototype,"label",void 0),S([M()],w0.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],w0.prototype,"visibilityExpression",void 0),w0=S([ue("esri.form.elements.Element")],w0);const w1=w0;let sS=class extends Wi(tt){constructor(t){super(t),this.type=null}};S([M()],sS.prototype,"type",void 0),sS=S([ue("esri.form.elements.inputs.attachments.Input")],sS);const Yf=sS,b6=["any","capture","upload"];let Bm=class extends Yf{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};S([M({type:["audio"],readOnly:!0,json:{write:!0}})],Bm.prototype,"type",void 0),S([M({type:b6,json:{write:!0}})],Bm.prototype,"inputMethod",void 0),S([M({type:Number,json:{write:!0}})],Bm.prototype,"maxDuration",void 0),Bm=S([ue("esri.form.elements.inputs.attachments.AudioInput")],Bm);const WV=Bm;let Xb=class extends Yf{constructor(t){super(t),this.type="document",this.maxFileSize=null}};S([M({type:["document"],readOnly:!0,json:{write:!0}})],Xb.prototype,"type",void 0),S([M({type:Number,json:{write:!0}})],Xb.prototype,"maxFileSize",void 0),Xb=S([ue("esri.form.elements.inputs.attachments.DocumentInput")],Xb);const JV=Xb;let Wm=class extends Yf{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};S([M({type:["image"],readOnly:!0,json:{write:!0}})],Wm.prototype,"type",void 0),S([M({type:b6,json:{write:!0}})],Wm.prototype,"inputMethod",void 0),S([M({type:Number,json:{write:!0}})],Wm.prototype,"maxImageSize",void 0),Wm=S([ue("esri.form.elements.inputs.attachments.ImageInput")],Wm);const ZV=Wm;let Qb=class extends Yf{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};S([M({type:["signature"],readOnly:!0,json:{write:!0}})],Qb.prototype,"type",void 0),S([M({type:b6,json:{write:!0}})],Qb.prototype,"inputMethod",void 0),Qb=S([ue("esri.form.elements.inputs.attachments.SignatureInput")],Qb);const YV=Qb;let Jm=class extends Yf{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};S([M({type:["video"],readOnly:!0,json:{write:!0}})],Jm.prototype,"type",void 0),S([M({type:b6,json:{write:!0}})],Jm.prototype,"inputMethod",void 0),S([M({type:Number,json:{write:!0}})],Jm.prototype,"maxDuration",void 0),Jm=S([ue("esri.form.elements.inputs.attachments.VideoInput")],Jm);const KV=Jm;function Hee(e){return{nestableTypes:{base:Yf,key:"type",typeMap:{audio:WV,document:JV,image:ZV,signature:YV,video:KV}},allTypes:{base:Yf,key:"type",typeMap:{attachment:e,audio:WV,document:JV,image:ZV,signature:YV,video:KV}}}}function S6e(e,t,i){return e?e.map(n=>ml(t.nestableTypes,n)):null}function _6e(e,t,i){if(!e)return null;const n=t.nestableTypes.typeMap;return e.filter(s=>n[s.type]).map(s=>n[s.type].fromJSON(s))}function E6e(e,t,i){if(!e)return null;const n=t.nestableTypes.typeMap;return e.filter(s=>n[s.type]).map(s=>s.toJSON())}let Kc=class extends Yf{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return S6e(t,d8)}readInputs(t,i){return _6e(i.inputTypes,d8)}writeInputs(t,i){i.inputTypes=E6e(t,d8)}};S([M({type:["attachment"],readOnly:!0,json:{write:!0}})],Kc.prototype,"type",void 0),S([M({type:["any","exact","exactOrNone"],json:{write:!0}})],Kc.prototype,"attachmentAssociationType",void 0),S([M({json:{write:{isRequired:!0}}})],Kc.prototype,"inputTypes",void 0),S([pn("inputTypes")],Kc.prototype,"castInputs",null),S([ht("inputTypes")],Kc.prototype,"readInputs",null),S([vt("inputTypes")],Kc.prototype,"writeInputs",null),Kc=S([ue("esri.form.elements.inputs.attachments.AttachmentInput")],Kc);const d8=Hee(Kc),T6e=Kc;var wC;const M6e=Hee(T6e);let ra=wC=class extends w1{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){var e;return new wC({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:(e=this.input)==null?void 0:e.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};S([M({type:Boolean,json:{write:!0}})],ra.prototype,"allowUserRename",void 0),S([M({type:String,json:{write:{isRequired:!0}}})],ra.prototype,"attachmentKeyword",void 0),S([M({type:Boolean,json:{write:!0}})],ra.prototype,"displayFilename",void 0),S([M({type:String,json:{write:!0}})],ra.prototype,"editableExpression",void 0),S([M({type:String,json:{write:!0}})],ra.prototype,"filenameExpression",void 0),S([M({types:M6e.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],ra.prototype,"input",void 0),S([M({type:Number,json:{write:!0}})],ra.prototype,"maxAttachmentCount",void 0),S([M({type:Number,json:{write:!0}})],ra.prototype,"minAttachmentCount",void 0),S([M({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],ra.prototype,"type",void 0),S([M({type:Boolean,json:{write:!0}})],ra.prototype,"useOriginalFilename",void 0),ra=wC=S([ue("esri.form.elements.AttachmentElement")],ra);const XV=ra;let oS=class extends tt{constructor(t){super(t),this.type=null}};S([M()],oS.prototype,"type",void 0),oS=S([ue("esri.form.elements.inputs.Input")],oS);const Yh=oS;let e2=class extends Yh{constructor(t){super(t),this.maxLength=null,this.minLength=0}};S([M({type:Number,json:{write:!0}})],e2.prototype,"maxLength",void 0),S([M({type:Number,json:{write:!0}})],e2.prototype,"minLength",void 0),e2=S([ue("esri.form.elements.inputs.TextInput")],e2);const mP=e2;var xC;let aS=xC=class extends mP{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new xC({maxLength:this.maxLength,minLength:this.minLength})}};S([M({type:["barcode-scanner"],json:{read:!1,write:!0}})],aS.prototype,"type",void 0),aS=xC=S([ue("esri.form.elements.inputs.BarcodeScannerInput")],aS);const $6e=aS;var SC;let Zm=SC=class extends Yh{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new SC({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};S([M({type:String,json:{write:!0}})],Zm.prototype,"noValueOptionLabel",void 0),S([M({type:Boolean,json:{write:!0}})],Zm.prototype,"showNoValueOption",void 0),S([M({type:["combo-box"],json:{read:!1,write:!0}})],Zm.prototype,"type",void 0),Zm=SC=S([ue("esri.form.elements.inputs.ComboBoxInput")],Zm);const k6e=Zm;var _C;function QV(e){return e??null}function eG(e){return e??null}let Bc=_C=class extends Yh{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return QV(t.max)}writeMax(e,t){t.max=eG(e)}readMin(e,t){return QV(t.min)}writeMin(e,t){t.min=eG(e)}clone(){return new _C({max:this.max,min:this.min})}};S([M({type:String,json:{type:String,write:!0}})],Bc.prototype,"max",void 0),S([ht("max")],Bc.prototype,"readMax",null),S([vt("max")],Bc.prototype,"writeMax",null),S([M({type:String,json:{type:String,write:!0}})],Bc.prototype,"min",void 0),S([ht("min")],Bc.prototype,"readMin",null),S([vt("min")],Bc.prototype,"writeMin",null),S([M({type:["date-picker"],json:{read:!1,write:!0}})],Bc.prototype,"type",void 0),Bc=_C=S([ue("esri.form.elements.inputs.DatePickerInput")],Bc);const C6e=Bc;var EC;function f8(e){return e??null}function p8(e){return e??null}let ko=EC=class extends Yh{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return f8(t.max)}writeMax(e,t){t.max=p8(e)}readMin(e,t){return f8(t.min)}writeMin(e,t){t.min=p8(e)}readTimeResolution(e,t){return f8(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=p8(e)}clone(){return new EC({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};S([M({type:Boolean,json:{write:!0}})],ko.prototype,"includeTimeOffset",void 0),S([M({type:String,json:{type:String,write:!0}})],ko.prototype,"max",void 0),S([ht("max")],ko.prototype,"readMax",null),S([vt("max")],ko.prototype,"writeMax",null),S([M({type:String,json:{type:String,write:!0}})],ko.prototype,"min",void 0),S([ht("min")],ko.prototype,"readMin",null),S([vt("min")],ko.prototype,"writeMin",null),S([M({type:String,json:{type:String,write:!0}})],ko.prototype,"timeResolution",void 0),S([ht("timeResolution")],ko.prototype,"readTimeResolution",null),S([vt("timeResolution")],ko.prototype,"writeTimeResolution",null),S([M({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],ko.prototype,"type",void 0),ko=EC=S([ue("esri.form.elements.inputs.DateTimeOffsetPickerInput")],ko);const A6e=ko;var TC;function tG(e){return e!=null?new Date(e):null}function iG(e){return e?e.getTime():null}let Hl=TC=class extends Yh{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return tG(t.max)}writeMax(e,t){t.max=iG(e)}readMin(e,t){return tG(t.min)}writeMin(e,t){t.min=iG(e)}clone(){return new TC({includeTime:this.includeTime,max:this.max,min:this.min})}};S([M({type:Boolean,json:{write:!0}})],Hl.prototype,"includeTime",void 0),S([M({type:Date,json:{type:Number,write:!0}})],Hl.prototype,"max",void 0),S([ht("max")],Hl.prototype,"readMax",null),S([vt("max")],Hl.prototype,"writeMax",null),S([M({type:Date,json:{type:Number,write:!0}})],Hl.prototype,"min",void 0),S([ht("min")],Hl.prototype,"readMin",null),S([vt("min")],Hl.prototype,"writeMin",null),S([M({type:["datetime-picker"],json:{read:!1,write:!0}})],Hl.prototype,"type",void 0),Hl=TC=S([ue("esri.form.elements.inputs.DateTimePickerInput")],Hl);const O6e=Hl;var MC;let Ym=MC=class extends Yh{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new MC({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};S([M({type:String,json:{write:!0}})],Ym.prototype,"noValueOptionLabel",void 0),S([M({type:Boolean,json:{write:!0}})],Ym.prototype,"showNoValueOption",void 0),S([M({type:["radio-buttons"],json:{read:!1,write:!0}})],Ym.prototype,"type",void 0),Ym=MC=S([ue("esri.form.elements.inputs.RadioButtonsInput")],Ym);const I6e=Ym;var $C;let Km=$C=class extends Yh{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new $C({offValue:this.offValue,onValue:this.onValue})}};S([M({type:[String,Number],json:{write:!0}})],Km.prototype,"offValue",void 0),S([M({type:[String,Number],json:{write:!0}})],Km.prototype,"onValue",void 0),S([M({type:["switch"],json:{read:!1,write:!0}})],Km.prototype,"type",void 0),Km=$C=S([ue("esri.form.elements.inputs.SwitchInput")],Km);const P6e=Km;var kC;let lS=kC=class extends mP{constructor(e){super(e),this.type="text-area"}clone(){return new kC({maxLength:this.maxLength,minLength:this.minLength})}};S([M({type:["text-area"],json:{read:!1,write:!0}})],lS.prototype,"type",void 0),lS=kC=S([ue("esri.form.elements.inputs.TextAreaInput")],lS);const R6e=lS;var CC;let cS=CC=class extends mP{constructor(e){super(e),this.type="text-box"}clone(){return new CC({maxLength:this.maxLength,minLength:this.minLength})}};S([M({type:["text-box"],json:{read:!1,write:!0}})],cS.prototype,"type",void 0),cS=CC=S([ue("esri.form.elements.inputs.TextBoxInput")],cS);const D6e=cS;var AC;function m8(e){return e??null}function y8(e){return e??null}let sa=AC=class extends Yh{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return m8(t.max)}writeMax(e,t){t.max=y8(e)}readMin(e,t){return m8(t.min)}writeMin(e,t){t.min=y8(e)}readTimeResolution(e,t){return m8(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=y8(e)}clone(){return new AC({max:this.max,min:this.min,timeResolution:this.timeResolution})}};S([M({type:String,json:{type:String,write:!0}})],sa.prototype,"max",void 0),S([ht("max")],sa.prototype,"readMax",null),S([vt("max")],sa.prototype,"writeMax",null),S([M({type:String,json:{type:String,write:!0}})],sa.prototype,"min",void 0),S([ht("min")],sa.prototype,"readMin",null),S([vt("min")],sa.prototype,"writeMin",null),S([M({type:String,json:{type:String,write:!0}})],sa.prototype,"timeResolution",void 0),S([ht("timeResolution")],sa.prototype,"readTimeResolution",null),S([vt("timeResolution")],sa.prototype,"writeTimeResolution",null),S([M({type:["time-picker"],json:{read:!1,write:!0}})],sa.prototype,"type",void 0),sa=AC=S([ue("esri.form.elements.inputs.TimePickerInput")],sa);const N6e=sa,L6e={base:Yh,key:"type",typeMap:{"barcode-scanner":$6e,"combo-box":k6e,"date-picker":C6e,"datetime-picker":O6e,"datetimeoffset-picker":A6e,"radio-buttons":I6e,switch:P6e,"text-area":R6e,"text-box":D6e,"time-picker":N6e}};var OC;let V0=OC=class extends tt{constructor(e){super(e),this.name=null,this.code=null}clone(){return new OC({name:this.name,code:this.code})}};S([M({type:String,json:{write:!0}})],V0.prototype,"name",void 0),S([M({type:[String,Number],json:{write:!0}})],V0.prototype,"code",void 0),V0=OC=S([ue("esri.layers.support.CodedValue")],V0);const z6e=new ki({inherited:"inherited",codedValue:"coded-value",range:"range"});let t2=class extends tt{constructor(t){super(t),this.name=null,this.type=null}};S([M({type:String,json:{write:!0}})],t2.prototype,"name",void 0),S([Rt(z6e)],t2.prototype,"type",void 0),t2=S([ue("esri.layers.support.Domain")],t2);const w6=t2;var IC;let i2=IC=class extends w6{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(n=>(String(n.code)===i&&(t=n.name),!!t))}return t}clone(){return new IC({codedValues:ke(this.codedValues),name:this.name})}};S([M({type:[V0],json:{write:!0}})],i2.prototype,"codedValues",void 0),S([Rt({codedValue:"coded-value"})],i2.prototype,"type",void 0),i2=IC=S([ue("esri.layers.support.CodedValueDomain")],i2);const x6=i2;var PC;let uS=PC=class extends w6{constructor(e){super(e),this.type="inherited"}clone(){return new PC}};S([Rt({inherited:"inherited"})],uS.prototype,"type",void 0),uS=PC=S([ue("esri.layers.support.InheritedDomain")],uS);const qee=uS;var RC;let Xm=RC=class extends w6{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new RC({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};S([M({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],Xm.prototype,"maxValue",void 0),S([M({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[0]}},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],Xm.prototype,"minValue",void 0),S([Rt({range:"range"})],Xm.prototype,"type",void 0),Xm=RC=S([ue("esri.layers.support.RangeDomain")],Xm);const Bee=Xm,Wee={key:"type",base:w6,typeMap:{range:Bee,"coded-value":x6,inherited:qee}};function S6(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return Bee.fromJSON(e);case"codedValue":return x6.fromJSON(e);case"inherited":return qee.fromJSON(e)}return null}var DC;let Za=DC=class extends w1{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new DC({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};S([M({types:Wee,json:{read:{reader:S6},write:!0}})],Za.prototype,"domain",void 0),S([M({type:Boolean,json:{write:!0}})],Za.prototype,"editable",void 0),S([M({type:String,json:{write:!0}})],Za.prototype,"editableExpression",void 0),S([M({type:String,json:{write:!0}})],Za.prototype,"fieldName",void 0),S([M({type:String,json:{write:!0}})],Za.prototype,"hint",void 0),S([M({types:L6e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Za.prototype,"input",void 0),S([M({type:String,json:{write:!0}})],Za.prototype,"requiredExpression",void 0),S([M({type:String,json:{read:!1,write:!0}})],Za.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],Za.prototype,"valueExpression",void 0),Za=DC=S([ue("esri.form.elements.FieldElement")],Za);const nG=Za;var NC;let eh=NC=class extends w1{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new NC({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:ke(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};S([M({type:Number,json:{write:!0}})],eh.prototype,"displayCount",void 0),S([M({type:["list"],json:{write:!0}})],eh.prototype,"displayType",void 0),S([M({type:String,json:{write:!0}})],eh.prototype,"editableExpression",void 0),S([M({type:[LI],json:{write:!0}})],eh.prototype,"orderByFields",void 0),S([M({type:Number,json:{write:!0}})],eh.prototype,"relationshipId",void 0),S([M({type:["relationship"],json:{read:!1,write:!0}})],eh.prototype,"type",void 0),eh=NC=S([ue("esri.form.elements.RelationshipElement")],eh);const rG=eh;var LC;let Qm=LC=class extends w1{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new LC({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};S([M({type:String,json:{write:!0}})],Qm.prototype,"text",void 0),S([M({type:String,json:{write:!0}})],Qm.prototype,"textFormat",void 0),S([M({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Qm.prototype,"type",void 0),Qm=LC=S([ue("esri.form.elements.TextElement")],Qm);const sG=Qm;function Jee(e){return{typesWithGroup:{base:w1,key:"type",typeMap:{attachment:XV,field:nG,group:e,relationship:rG,text:sG}},typesWithoutGroup:{base:w1,key:"type",typeMap:{attachment:XV,field:nG,relationship:rG,text:sG}}}}function Zee(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>n[s.type]).map(s=>n[s.type].fromJSON(s))}function Yee(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>n[s.type]).map(s=>s.toJSON())}function Kee(e,t,i=!0){return e?e.map(n=>ml(i?t.typesWithGroup:t.typesWithoutGroup,n)):null}var zC;let Xc=zC=class extends w1{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return Kee(e,g8,!1)}readElements(e,t){return Zee(t.formElements,g8,!1)}writeElements(e,t){t.formElements=Yee(e,g8,!1)}clone(){return new zC({description:this.description,elements:ke(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};S([M({json:{write:!0}})],Xc.prototype,"elements",void 0),S([pn("elements")],Xc.prototype,"castElements",null),S([ht("elements",["formElements"])],Xc.prototype,"readElements",null),S([vt("elements")],Xc.prototype,"writeElements",null),S([M({type:["collapsed","expanded"],json:{write:!0}})],Xc.prototype,"initialState",void 0),S([M({type:String,json:{read:!1,write:!0}})],Xc.prototype,"type",void 0),Xc=zC=S([ue("esri.form.elements.GroupElement")],Xc);const g8=Jee(Xc),j6e=Xc,F6e=e=>e.type==="field",U6e=e=>e.type==="group",V6e=e=>e.type==="text",IHe=e=>e.type==="relationship";var jC;const v8=Jee(j6e);let ql=jC=class extends tt{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return Kee(e,v8)}readElements(e,t){return Zee(t.formElements,v8)}writeElements(e,t){t.formElements=Yee(e,v8)}clone(){return new jC({description:this.description,expressionInfos:ke(this.expressionInfos),elements:ke(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const i=new Set,{description:n,elements:s,expressionInfos:u,title:p}=this;if(j2(i,e,n),j2(i,e,p),!s)return[];const g=G6e(s,u).map(w=>Ys(i,e,w));await Promise.all(g);for(const w of s)Xee(i,{fieldsIndex:e,relationships:t},w);return Array.from(i).sort()}};function Xee(e,t,i){var s;const{fieldsIndex:n}=t;if(!n||n.fields.length!==e.size)switch(j2(e,n,i.label),j2(e,n,i.description),i.type){case"field":po(e,n,i.fieldName);break;case"group":i.elements.forEach(u=>Xee(e,t,u));break;case"relationship":if(t.relationships){const u=t.relationships.find(p=>p.id===i.relationshipId);u&&po(e,n,u.keyField)}v1(e,n,(s=i.orderByFields)==null?void 0:s.map(u=>u.field));break;case"text":j2(e,n,i.text)}}function G6e(e,t){if(!t||t.length===0)return[];const i=Qee(e),n=[];for(const s of t)i.has(s.name)&&n.push(s.expression);return n}function Qee(e){const t=new Set;for(const i of e)if(pj(t,i.visibilityExpression),!V6e(i)){if(U6e(i))s4(t,Qee(i.elements));else if(pj(t,i.editableExpression),F6e(i)){const{requiredExpression:n,valueExpression:s}=i;s4(t,[n,s])}}return t}function j2(e,t,i){v1(e,t,RX(i))}S([M({type:String,json:{write:!0}})],ql.prototype,"description",void 0),S([M({json:{write:!0}})],ql.prototype,"elements",void 0),S([pn("elements")],ql.prototype,"castElements",null),S([ht("elements",["formElements"])],ql.prototype,"readElements",null),S([vt("elements")],ql.prototype,"writeElements",null),S([M({type:[x6e],json:{write:!0}})],ql.prototype,"expressionInfos",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],ql.prototype,"preserveFieldValuesWhenHidden",void 0),S([M({type:String,json:{write:!0}})],ql.prototype,"title",void 0),ql=jC=S([ue("esri.form.FormTemplate")],ql);const H6e=ql;async function q6e(e){var n;const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await rt(async()=>{const{fromItem:s}=await import("./portalLayers-DBGXGhpW.js").then(u=>u.p);return{fromItem:s}},__vite__mapDeps([108,109,110]),import.meta.url);try{return await i(t)}catch(s){const u=t==null?void 0:t.portalItem,p=(u==null?void 0:u.id)||"unset",g=((n=u==null?void 0:u.portal)==null?void 0:n.url)||Bi.portalUrl;throw xt.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+g+"', id: '"+p+"')",s),s}}const oG={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function b8(e,t,i,n=Ph){const s=new Ea(pI(n)),u=jt.fromJSDate(e,{zone:s}),p=i==="decades"||i==="centuries"?"year":tte(i);return i==="decades"&&(t*=10),i==="centuries"&&(t*=100),u.plus({[p]:t}).toJSDate()}function PHe(e,t,i="milliseconds"){const n=e.getTime(),s=ete(t,i,"milliseconds");return new Date(n+s)}function aG(e,t,i=Ph){const n=new Ea(pI(i)),s=jt.fromJSDate(e,{zone:n});if(t==="decades"||t==="centuries"){const p=s.startOf("year"),{year:g}=p,w=g-g%(t==="decades"?10:100);return p.set({year:w}).toJSDate()}const u=tte(t);return s.startOf(u).toJSDate()}function ete(e,t,i){return e===0?0:e*oG[t]/oG[i]}function B6e(e,t){return e&&t?e.intersection(t):e||t}function tte(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Ya;let ua=Ya=class extends tt{static get allTime(){return lG}static get empty(){return W6e}static fromArray(e){return new Ya({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(Ya.allTime)}get isEmpty(){return this.equals(Ya.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new Ya({end:this.end,start:this.start})}equals(e){var u,p,g,w;if(!e)return!1;const t=((u=this.start)==null?void 0:u.getTime())??this.start,i=((p=this.end)==null?void 0:p.getTime())??this.end,n=((g=e.start)==null?void 0:g.getTime())??e.start,s=((w=e.end)==null?void 0:w.getTime())??e.end;return t===n&&i===s}expandTo(e,t=Ph){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=aG(i,e,t));let n=this.end;if(n){const s=aG(n,e,t);n=n.getTime()===s.getTime()?s:b8(s,1,e,t)}return new Ya({start:i,end:n})}intersection(e){var g,w,E,A;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Ya.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((g=this.start)==null?void 0:g.getTime())??-1/0,i=((w=this.end)==null?void 0:w.getTime())??1/0,n=((E=e.start)==null?void 0:E.getTime())??-1/0,s=((A=e.end)==null?void 0:A.getTime())??1/0;let u,p;return n>=t&&n<=i?u=n:t>=n&&t<=s&&(u=t),i>=n&&i<=s?p=i:s>=t&&s<=i&&(p=s),u==null||p==null||isNaN(u)||isNaN(p)?Ya.empty:new Ya({start:u===-1/0?null:new Date(u),end:p===1/0?null:new Date(p)})}offset(e,t,i=Ph){if(this.isEmpty||this.isAllTime)return this.clone();const n=new Ya,{start:s,end:u}=this;return s!=null&&(n.start=b8(s,e,t,i)),u!=null&&(n.end=b8(u,e,t,i)),n}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return lG.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Ya({start:t,end:i})}};S([M({type:Date,json:{write:{allowNull:!0}}})],ua.prototype,"end",void 0),S([ht("end")],ua.prototype,"readEnd",null),S([vt("end")],ua.prototype,"writeEnd",null),S([M({readOnly:!0,json:{read:!1}})],ua.prototype,"isAllTime",null),S([M({readOnly:!0,json:{read:!1}})],ua.prototype,"isEmpty",null),S([M({type:Date,json:{write:{allowNull:!0}}})],ua.prototype,"start",void 0),S([ht("start")],ua.prototype,"readStart",null),S([vt("start")],ua.prototype,"writeStart",null),ua=Ya=S([ue("esri.time.TimeExtent")],ua);const Kf=ua,lG=new ua,W6e=new ua({start:void 0,end:void 0});let J6e=0,sr=class extends Ms.EventedMixin(Qw(z_)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Yn(-180,-90,180,90,li.WGS84),this.id=Date.now().toString(16)+"-layer-"+J6e++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=li.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await rt(async()=>{const{fromUrl:n}=await import("./arcgisLayers-DEi36M-8.js");return{fromUrl:n}},__vite__mapDeps([111,109,110]),import.meta.url)).fromUrl(i)}static fromPortalItem(t){return q6e(t)}initialize(){this.when().catch(t=>{wc(t)||xt.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const i=this;"layers"in t&&t.layers.includes(i)?t.layers.remove(i):"tables"in t&&t.tables.includes(i)?t.tables.remove(i):"baseLayers"in t&&t.baseLayers.includes(i)?t.baseLayers.remove(i):"referenceLayers"in t&&t.referenceLayers.includes(i)&&t.referenceLayers.remove(i),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const i=this.parent;return t&&i&&"effectiveVisible"in i&&t&&(t=i.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return ho(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await en(t,{query:{f:"json"},responseType:"json"})).data;throw new ze("layer:no-attribution-data","Layer does not have attribution data")}};S([M({type:String})],sr.prototype,"attributionDataUrl",void 0),S([M({readOnly:!0})],sr.prototype,"effectiveVisible",null),S([M({type:Yn})],sr.prototype,"fullExtent",void 0),S([M({readOnly:!0})],sr.prototype,"hasAttributionData",null),S([M({type:String,clonable:!1})],sr.prototype,"id",void 0),S([M({type:Boolean,nonNullable:!0})],sr.prototype,"legendEnabled",void 0),S([M({type:["show","hide","hide-children"]})],sr.prototype,"listMode",void 0),S([M({type:Number,range:{min:0,max:1},nonNullable:!0})],sr.prototype,"opacity",void 0),S([M({clonable:!1})],sr.prototype,"parent",void 0),S([M({readOnly:!0})],sr.prototype,"parsedUrl",null),S([M({type:Boolean,readOnly:!0})],sr.prototype,"persistenceEnabled",void 0),S([M({type:Boolean})],sr.prototype,"popupEnabled",void 0),S([M({type:Boolean})],sr.prototype,"attributionVisible",void 0),S([M({type:li})],sr.prototype,"spatialReference",void 0),S([M({type:String})],sr.prototype,"title",void 0),S([M({readOnly:!0,json:{read:!1}})],sr.prototype,"type",void 0),S([M()],sr.prototype,"url",void 0),S([M({type:Kf})],sr.prototype,"visibilityTimeExtent",void 0),S([M({type:Boolean,nonNullable:!0})],sr.prototype,"visible",void 0),sr=S([ue("esri.layers.Layer")],sr);const ite=sr;let FC=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._observable=new Zw,this._items=new Set}get length(){return Gt(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return Gt(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const i=this.length;return this._items.forEach(n=>{t(n)||this._items.delete(n)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Gt(this._observable),yield*this._items}};const nte=new FinalizationRegistry(e=>{e.close()});function Z6e(e,t){nte.register(e,t,t)}function Y6e(e){nte.unregister(e)}function rte(e,t){return new Proxy({},{get:(i,n,s)=>(...u)=>{let p,g;const w=u[u.length-1];return K6e(w)&&(p=w.signal,g=w.transferList,u.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),u,{transferList:g,signal:p})}})}function K6e(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const X6e={statsWorker:()=>rt(()=>import("./statsWorker-BtKd3JUH.js"),__vite__mapDeps([112,113,56,2,3,4,114,115]),import.meta.url),geometryEngineWorker:()=>rt(()=>import("./geometryEngineWorker-CLbLUb2r.js"),__vite__mapDeps([116,106,107]),import.meta.url),CSVSourceWorker:()=>rt(()=>import("./CSVSourceWorker-DRBcPZqF.js"),__vite__mapDeps([117,118,107,103,104,119,102,105,120,121,26,122,123,16,17,18,19,124,125,126,97,59,127,113,56,2,3,4,114,115,128,101,129,130]),import.meta.url),EdgeProcessingWorker:()=>rt(()=>import("./EdgeProcessingWorker-B-aR45Lu.js"),__vite__mapDeps([131,132,133,134,135,136,137,138,139,140,141,29,142,143]),import.meta.url),ElevationSamplerWorker:()=>rt(()=>import("./ElevationSamplerWorker-BsFK1-Kf.js"),__vite__mapDeps([144,121,26,145,146,147,148,134,149]),import.meta.url),FeatureServiceSnappingSourceWorker:()=>rt(()=>import("./FeatureServiceSnappingSourceWorker-Ct3w5DLE.js"),__vite__mapDeps([150,119,102,103,104,105,120,121,26,122,123,16,17,18,19,107,124,125,126,97,59,127,113,56,2,3,4,114,115,128,10,11,151,152,153,154,43]),import.meta.url),GeoJSONSourceWorker:()=>rt(()=>import("./GeoJSONSourceWorker-is4finvo.js"),__vite__mapDeps([155,102,103,104,105,119,120,121,26,122,123,16,17,18,19,107,124,125,126,97,59,127,113,56,2,3,4,114,115,128,156,118,129,130,157]),import.meta.url),LercWorker:()=>rt(()=>import("./LercWorker-N2M2AW2r.js"),[],import.meta.url),MemorySourceWorker:()=>rt(()=>import("./MemorySourceWorker-ByjKZq6o.js"),__vite__mapDeps([158,102,103,104,105,159,119,120,121,26,122,123,16,17,18,19,107,124,125,126,97,59,127,113,56,2,3,4,114,115,128,129,130,157,118]),import.meta.url),PBFDecoderWorker:()=>rt(()=>import("./PBFDecoderWorker-BCcHlJNR.js"),__vite__mapDeps([160,161,102,103,104,105,152,153]),import.meta.url),FeaturePipelineWorker:()=>rt(()=>import("./FeaturePipelineWorker-Ch_lZYBF.js"),__vite__mapDeps([162,10,11,23,24,25,12,26,27,163,164,30,29,165,166,142,167,21,59,168,169,170,104,171,20,172,125,102,103,105,173,174,136,123,16,17,18,19,107,122,175,176,177,178,179,180,124,126,97,127,113,56,2,3,4,114,115,128,154,152,153,181,156,118,129,130,157,182,183]),import.meta.url),PointCloudWorker:()=>rt(()=>import("./PointCloudWorker-C4kUVwSm.js"),__vite__mapDeps([184,185,186,187,140,188,146,147]),import.meta.url),RasterWorker:()=>rt(()=>import("./RasterWorker-BimrqqeV.js"),__vite__mapDeps([189,190,80,191,192,193]),import.meta.url),SceneLayerSnappingSourceWorker:()=>rt(()=>import("./SceneLayerSnappingSourceWorker-DD28MVUl.js"),__vite__mapDeps([194,195,196,136,137,138,139,133,134,135,140,141,29,142,143]),import.meta.url),SceneLayerWorker:()=>rt(()=>import("./SceneLayerWorker-CX_lyvBu.js"),__vite__mapDeps([197,148,198,187,140,199,200,201,202,203,174,188,146,147]),import.meta.url),WFSSourceWorker:()=>rt(()=>import("./WFSSourceWorker-BJ-1jQuS.js"),__vite__mapDeps([204,102,103,104,105,119,120,121,26,122,123,16,17,18,19,107,124,125,126,97,59,127,113,56,2,3,4,114,115,128,156,118,157,205,206]),import.meta.url),WorkerTileHandler:()=>rt(()=>import("./WorkerTileHandler-Dzhst6Mo.js"),__vite__mapDeps([207,208,171,172,209,210,153,177,27,211,212,29,142,22,178,169]),import.meta.url),Lyr3DWorker:()=>rt(()=>import("./Lyr3DWorker-Ctrt93vQ.js"),[],import.meta.url),Feature3DPipelineWorker:()=>rt(()=>import("./Feature3DPipelineWorker-Dm_DaMGw.js"),__vite__mapDeps([213,126,16,17,18,19,102,103,104,105,97,59,122,123,107,127,113,56,2,3,4,114,115,128,12,121,26,125,154,152,153,139,214,215,188,146,147,202,140,174,136,30,29,216,217,203,218,195,219,134,220,141,142,133,135,221,222,196,223,224,185,225,226,200,166,227,201,228]),import.meta.url)},ste="worker:port-closed";var is;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(is||(is={}));let Q6e=0;function ote(){return Q6e++}function eEe(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function xw(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function yP(e,t,i,n){if(t.type===is.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==is.INVOKE&&t.type!==is.RESPONSE)return void e.postMessage(t);let s;if(eEe(i)?(s=cG(i.transferList),t.data=i.result):(s=cG(n),t.data=i),s){if(Ge("ff")){for(const u of s)if("byteLength"in u&&u.byteLength>267386880){const p="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case is.INVOKE:throw p;case is.RESPONSE:return void yP(e,{type:is.RESPONSE,jobId:t.jobId,error:xw(p)})}}}e.postMessage(t,s)}else e.postMessage(t)}function Sw(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function cG(e){if(!(e!=null&&e.length))return null;if(Ge("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!tEe(i));return t.length?t:null}function tEe(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function NHe(e){try{return await e}catch(t){const i=(t==null?void 0:t.name)===ste;if(!(wc(t)||i))throw t;return}}const{CLOSE:uG,ABORT:hG,INVOKE:dG,RESPONSE:sb,OPEN_PORT:fG,ON:iEe}=is,nEe=2;let rEe=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===is.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Xf=class ey{static connect(t,i){const n=new MessageChannel;let s;s=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const u=new ey(n.port1,{channel:n,client:s,schedule:i});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=u),ey.clients.set(u,s),n.port2}static loadWorker(t){const i=X6e[t];return i?i():Promise.resolve(null)}constructor(t,i,n){this._port=t,this._jobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new rEe(s=>this._onInvokeMessage(s)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:uG}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,n){return this.apply(t,[i],n)}apply(t,i,n){const s=n==null?void 0:n.signal,u=n==null?void 0:n.transferList;if(!this._port)return Promise.reject(new ze(ste,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const p=ote();return new Promise((g,w)=>{if(Sa(s))return this._processWork(),void w(Gn());const E=Ro(s,()=>{const I=this._outJobs.get(p);I&&(this._outJobs.delete(p),this._processWork(),Ur(I.abortHandle),this._post({type:hG,jobId:p}),w(Gn()))}),A={resolve:g,reject:w,abortHandle:E,debugInfo:t};this._outJobs.set(p,A),this._post({type:dG,jobId:p,methodName:t,abortable:s!=null},i,u)})}createInvokeProxy(t){return rte(this,t)}on(t,i){const n=new MessageChannel;function s(u){i(u.data)}return this._port.postMessage({type:is.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",s),n.port1.start(),Mi(()=>{n.port1.postMessage({type:is.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:fG,port:t.port2}),t.port1}_processWork(){var p;if(this._outJobs.size>=nEe)return;const t=(p=this._jobQueue)==null?void 0:p.pop();if(!t)return;const{methodName:i,data:n,invokeOptions:s,resolver:u}=t;this.apply(i,n,s).then(g=>u.resolve(g)).catch(g=>u.reject(g))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Ur(t.abortHandle),t.reject(Gn(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,i){const n=Sw(t);if(n)switch(n.type){case sb:this._onResponseMessage(n);break;case dG:i?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case hG:this._onAbortMessage(n);break;case uG:this._onCloseMessage();break;case fG:this._onOpenPortMessage(n);break;case iEe:this._onOnMessage(n)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,s=i.get(n);this._invokeQueue.push(t),s&&(s.controller&&s.controller.abort(),i.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&ey.clients.get(this)===t&&t.destroy(),ey.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:n,data:s=[],abortable:u}=t,p=u?new AbortController:null,g=this._inJobs;let w,E=this._client,A=E[i];try{if(!A&&i&&i.includes(".")){const I=i.split(".");for(let R=0;R<I.length-1;R++)E=E[I[R]],A=E[I[R+1]]}if(typeof A!="function")throw new TypeError(`${i} is not a function`);s.push({client:this,signal:p?p.signal:null}),w=A.apply(E,s)}catch(I){return void this._post({type:sb,jobId:n,error:xw(I)})}wg(w)?(g.set(n,{controller:p,promise:w}),w.then(I=>{g.has(n)&&(g.delete(n),this._post({type:sb,jobId:n},I))},I=>{g.has(n)&&(g.delete(n),wc(I)||this._post({type:sb,jobId:n,error:xw(I||{message:`Error encountered at method ${i}`})}))})):this._post({type:sb,jobId:n},w)}_onOpenPortMessage(t){new ey(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,n=this._client.on(t.eventType,u=>{i.postMessage(u)}),s=Z0(t.port,"message",u=>{const p=Sw(u);(p==null?void 0:p.type)===is.CLOSE&&(s.remove(),n.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:n,data:s}=t,u=this._outJobs;if(!u.has(i))return;const p=u.get(i);u.delete(i),this._processWork(),Ur(p.abortHandle),n?p.reject(ze.fromJSON(JSON.parse(n))):p.resolve(s)}_post(t,i,n){return yP(this._port,t,i,n)}};Xf.kernelInfo={buildDate:cZ,fullVersion:JO,revision:uZ},Xf.clients=new Map;let sEe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new FC}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,i){return new Promise((n,s)=>{let u=!0;const p=g=>{Fo(i.signal),u&&(u=!1,g())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let g=0;g<t.length;++g){const w=t[g];wg(w)?this._clientPromises[g]=w.then(E=>(this._clients[g]=new Xf(E,i,this._ongoingJobsQueue),p(n),this._clients[g]),()=>(p(s),null)):(this._clients[g]=new Xf(w,i,this._ongoingJobsQueue),this._clientPromises[g]=Promise.resolve(this._clients[g]),p(n))}})}broadcast(t,i,n){const s=new Array(this._clientPromises.length);for(let u=0;u<this._clientPromises.length;++u){const p=this._clientPromises[u];s[u]=p.then(g=>g==null?void 0:g.invoke(t,i,n))}return s}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(Gn(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(n=>n==null?void 0:n.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Y6e(this)}invoke(t,i,n){return this.apply(t,[i],n)}apply(t,i,n){const s=pa();this._ongoingJobsQueue.push({methodName:t,data:i,invokeOptions:n,resolver:s});for(let u=0;u<this._clientPromises.length;u++){const p=this._clients[u];p?p.jobAdded():this._clientPromises[u].then(g=>g==null?void 0:g.jobAdded())}return s.promise}createInvokeProxy(t){return rte(this,t)}on(t,i){return Promise.all(this._clientPromises).then(()=>Hh(this._clients.map(n=>n.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let n=i.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(u=>{u&&(i[s]=u.openPort()),--n==0&&t(i)})})}get test(){}};const oEe={async request(e,t){var p,g;const i=e.options,n=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&((p=jM(e.url))!=null&&p.after)?n:"array-buffer";const s=await en(e.url,i),u={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((g=s.requestOptions)==null?void 0:g.responseType){case"native-request-init":return delete u.data.signal,u;case"blob":u.data=await u.data.arrayBuffer();break;case"json":u.data=new TextEncoder().encode(JSON.stringify(u.data)).buffer;break;case"text":u.data=new TextEncoder().encode(u.data).buffer}return{result:u,transferList:[u.data]}}},pG={};function aEe(e){var i;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((i=e.packages)==null?void 0:i.slice())||[],paths:{...pG.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=pG.baseUrl),t}let lEe=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...n)=>t[i](...n)})}},hS=class{constructor(){this._dispatcher=new lEe,this._workerPostMessage({type:is.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){Ky(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,n){this._dispatcher.addEventListener(t,i,n)}removeEventListener(t,i,n){this._dispatcher.removeEventListener(t,i,n)}_workerPostMessage(t){Ky(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=Sw(t);if(i&&i.type===is.OPEN){const{modulePath:n,jobId:s}=i;let u=await Xf.loadWorker(n);u||(u=await import(n));const p=Xf.connect(u);this._workerPostMessage({type:is.OPENED,jobId:s,data:p})}}};const UC=()=>xt.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:cEe}=is,uEe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let $x,kx;const mG="Failed to create Worker. Fallback to execute module in main thread";async function hEe(){if(!Ge("esri-workers"))return yG(new hS);if(!$x&&!kx)try{const t=uEe.split("{CONFIGURATION}").join(dEe());$x=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){kx=t||{}}let e;if($x)try{e=new Worker($x,{name:"esri-worker-"+fEe++})}catch{UC().warn(mG,kx),e=new hS}else UC().warn(mG,kx),e=new hS;return yG(e)}async function yG(e){return new Promise(t=>{function i(s){const u=Sw(s);u&&u.type===cEe&&(e.removeEventListener("message",i),e.removeEventListener("error",n),t(e))}function n(s){s.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",n),UC().warn("Failed to create Worker. Fallback to execute module in main thread",s),(e=new hS).addEventListener("message",i),e.addEventListener("error",n)}e.addEventListener("message",i),e.addEventListener("error",n)})}function dEe(){let e;if(Bi.default!=null){const s={...Bi};delete s.default,e=JSON.parse(JSON.stringify(s))}else e=JSON.parse(JSON.stringify(Bi));e.assetsPath=co(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?co(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=va(),e.has={"esri-csp-restrictions":Ge("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Ge("esri-2d-update-debug"),"esri-2d-log-updating":Ge("esri-2d-log-updating"),"featurelayer-pbf":Ge("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":Ge("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":Ge("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":Ge("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":Ge("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":Ge("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":Ge("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":Ge("featurelayer-snapshot-enabled"),"esri-atomics":Ge("esri-atomics"),"esri-shared-array-buffer":Ge("esri-shared-array-buffer"),"esri-tiles-debug":Ge("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Ge("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":Ge("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=co(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=co(e.workers.workerPath):e.workers.workerPath=co(Hw("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Bi.workers.loaderConfig,i=aEe({baseUrl:t==null?void 0:t.baseUrl,locale:va(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{buildDate:cZ,fullVersion:JO,revision:uZ}})}let fEe=0;const{ABORT:gG,INVOKE:pEe,OPEN:mEe,OPENED:yEe,RESPONSE:ob}=is;let gEe=class ate{static async create(t){const i=await hEe();return new ate(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),xt.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:n}=i,s=ote();return new Promise((u,p)=>{const g={resolve:u,reject:p,abortHandle:xJ(n,()=>{this._outJobs.delete(s),this._post({type:gG,jobId:s})})};this._outJobs.set(s,g),this._post({type:mEe,jobId:s,modulePath:t})})}_onMessage(t){const i=Sw(t);if(i)switch(i.type){case yEe:this._onOpenedMessage(i);break;case ob:this._onResponseMessage(i);break;case gG:this._onAbortMessage(i);break;case pEe:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,s=i.get(n);s&&(s.controller&&s.controller.abort(),i.delete(n))}_onInvokeMessage(t){const{methodName:i,jobId:n,data:s,abortable:u}=t,p=u?new AbortController:null,g=this._inJobs,w=oEe[i];let E;try{if(typeof w!="function")throw new TypeError(`${i} is not a function`);E=w.call(null,s,{signal:p?p.signal:null})}catch(A){return void this._post({type:ob,jobId:n,error:xw(A)})}wg(E)?(g.set(n,{controller:p,promise:E}),E.then(A=>{g.has(n)&&(g.delete(n),this._post({type:ob,jobId:n},A))},A=>{g.has(n)&&(g.delete(n),A||(A={message:"Error encountered at method"+i}),wc(A)||this._post({type:ob,jobId:n,error:xw(A||{message:`Error encountered at method ${i}`})}))})):this._post({type:ob,jobId:n},E)}_onOpenedMessage(t){const{jobId:i,data:n}=t,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),Ur(s.abortHandle),s.resolve(n))}_onResponseMessage(t){const{jobId:i,error:n,data:s}=t,u=this._outJobs.get(i);u&&(this._outJobs.delete(i),Ur(u.abortHandle),n?u.reject(ze.fromJSON(JSON.parse(n))):u.resolve(s))}_post(t,i,n){return yP(this.worker,t,i,n)}};const vG=Ge("host-browser")?Math.min(navigator.hardwareConcurrency-1,Ge("workers-pool-size")??8):0;let G0=Ge("esri-mobile")?Math.min(vG,3):vG;G0||(G0=Ge("safari")&&Ge("mac")?7:2);let bG=0;const dS=[];function UHe(){lte()}async function Cx(e,t){const i=new sEe,{registryTarget:n,...s}=t;return await i.open(e,s),n&&Z6e(n,i),i}async function vEe(e,t={}){if(typeof e!="string")throw new ze("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(Ge("host-webworker")&&!Ge("esri-workers")&&(i="local"),i==="local"){let n=await Xf.loadWorker(e);n||(n=await import(e)),Fo(t.signal);const s=t.client||n;return Cx([Xf.connect(n,t.schedule)],{...t,client:s})}if(await lte(),Fo(t.signal),i==="dedicated"){const n=bG++%G0;return Cx([await dS[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,G0);if(n<G0){const s=new Array(n);for(let u=0;u<n;++u){const p=bG++%G0;s[u]=dS[p].open(e,t)}return Cx(s,t)}}return Cx(dS.map(n=>n.open(e,t)),t)}let Ax=null;async function lte(){if(Ax)return Ax;new AbortController;const e=[];for(let t=0;t<G0;t++){const i=gEe.create(t).then(n=>(dS[t]=n,n));e.push(i)}return Ax=Promise.all(e),Ax}function wG(e,t,i){if(e.hasM==null||e.hasZ)for(const n of t)for(const s of n)s.length>2&&(s[2]*=i)}function bEe(e,t,i){if(!e&&!t||!i)return;const n=_4(i);xG(e,i,n),xG(t,i,n)}function xG(e,t,i){if(e)for(const n of e)wEe(n.geometry,t,i)}function wEe(e,t,i){if(!(e!=null&&e.spatialReference)||cs(e.spatialReference,t))return;const n=_4(e.spatialReference)/i;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)wG(e,e.rings,n);else if("paths"in e)wG(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const s of e.points)s.length>2&&(s[2]*=n)}}function cte(e,t,i){if(t==null||i==null||i.vcsWkid||cs(t,i)||Hf(t)||Hf(i))return null;const n=_4(t)/_4(i);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return s=>xEe(s,n);case"polyline":case"esriGeometryPolyline":return s=>_Ee(s,n);case"polygon":case"esriGeometryPolygon":return s=>SEe(s,n);case"multipoint":case"esriGeometryMultipoint":return s=>EEe(s,n);case"extent":case"esriGeometryEnvelope":return s=>TEe(s,n);default:return null}}function xEe(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function SEe(e,t){if(e)for(const i of e.rings)for(const n of i)n.length>2&&(n[2]*=t)}function _Ee(e,t){if(e)for(const i of e.paths)for(const n of i)n.length>2&&(n[2]*=t)}function EEe(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function TEe(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}function SG(e,t,i){if(!(i!=null&&i.features)||!i.hasZ)return;const n=cte(i.geometryType,t,e.outSpatialReference);if(n!=null)for(const s of i.features)n(s.geometry)}const MEe=new ki({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var VC;const $Ee=new ki({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let js=VC=class extends tt{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return(i==null?void 0:i.value)??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return i?$Ee.fromJSON(i.fieldValueType):null}clone(){var e;return new VC({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};S([M({type:String,json:{write:!0}})],js.prototype,"alias",void 0),S([M({type:[String,Number],json:{write:{allowNull:!0}}})],js.prototype,"defaultValue",void 0),S([M()],js.prototype,"description",void 0),S([ht("description")],js.prototype,"readDescription",null),S([M({types:Wee,json:{read:{reader:S6},write:!0}})],js.prototype,"domain",void 0),S([M({type:Boolean,json:{write:!0}})],js.prototype,"editable",void 0),S([M({type:fn,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],js.prototype,"length",void 0),S([M({type:String,json:{write:!0}})],js.prototype,"name",void 0),S([M({type:Boolean,json:{write:!0}})],js.prototype,"nullable",void 0),S([Rt(MEe)],js.prototype,"type",void 0),S([M()],js.prototype,"valueType",void 0),S([ht("valueType",["description"])],js.prototype,"readValueType",null),S([M({type:Boolean,json:{read:!1}})],js.prototype,"visible",void 0),js=VC=S([ue("esri.layers.support.Field")],js);const gP=js;var GC;const HC=new ki({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Xr=GC=class extends tt{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var s;const i=li.fromJSON(t.spatialReference),n=[];for(let u=0;u<e.length;u++){const p=e[u],g=Zf.fromJSON(p),w=(s=p.geometry)==null?void 0:s.spatialReference;g.geometry==null||w||(g.geometry.spatialReference=i);const E=p.aggregateGeometries,A=g.aggregateGeometries;if(E&&A!=null)for(const I in A){const R=A[I],F=E[I],q=F==null?void 0:F.spatialReference;R==null||q||(R.spatialReference=i)}n.push(g)}return n}writeGeometryType(e,t,i,n){if(e)return void HC.write(e,t,i,n);const{features:s}=this;if(s){for(const u of s)if((u==null?void 0:u.geometry)!=null)return void HC.write(u.geometry.type,t,i,n)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,n=Yw(e);return n&&!i&&t.spatialReference&&(n.spatialReference=li.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const n of i)if(n&&n.geometry!=null&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new GC(this.cloneProperties())}cloneProperties(){return ke({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const n=t.features[i];if(n.geometry){const s=e==null?void 0:e[i];n.geometry=(s==null?void 0:s.toJSON())||n.geometry}}return t}quantize(e){const{scale:[t,i],translate:[n,s]}=e,u=E=>Math.round((E-n)/t),p=E=>Math.round((s-E)/i),g=this.features,w=this._getQuantizationFunction(this.geometryType,u,p);for(let E=0,A=g.length;E<A;E++)w!=null&&w(g[E].geometry)||(g.splice(E,1),E--,A--);return this.transform=e,this}unquantize(){var R,F;const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[n,s],scale:[u,p]}=i,g=q=>q*u+n,w=q=>s-q*p;let E=null,A=null;if(this.hasZ&&((R=i==null?void 0:i.scale)==null?void 0:R[2])!=null){const{translate:[,,q],scale:[,,B]}=i;E=K=>K*B+q}if(this.hasM&&((F=i==null?void 0:i.scale)==null?void 0:F[3])!=null){const{translate:[,,,q],scale:[,,,B]}=i;A=K=>K==null?K:K*B+q}const I=this._getHydrationFunction(e,g,w,E,A);for(const{geometry:q}of t)q!=null&&I&&I(q);return this.transform=null,this}_quantizePoints(e,t,i){let n,s;const u=[];for(let p=0,g=e.length;p<g;p++){const w=e[p];if(p>0){const E=t(w[0]),A=i(w[1]);E===n&&A===s||(u.push([E-n,A-s]),n=E,s=A)}else n=t(w[0]),s=i(w[1]),u.push([n,s])}return u.length>0?u:null}_getQuantizationFunction(e,t,i){return e==="point"?n=>(n.x=t(n.x),n.y=i(n.y),n):e==="polyline"||e==="polygon"?n=>{const s=Py(n)?n.rings:n.paths,u=[];for(let p=0,g=s.length;p<g;p++){const w=s[p],E=this._quantizePoints(w,t,i);E&&u.push(E)}return u.length>0?(Py(n)?n.rings=u:n.paths=u,n):null}:e==="multipoint"?n=>{const s=this._quantizePoints(n.points,t,i);return s&&s.length>0?(n.points=s,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,i,n,s){return e==="point"?u=>{u.x=t(u.x),u.y=i(u.y),n&&(u.z=n(u.z))}:e==="polyline"||e==="polygon"?u=>{const p=Py(u)?u.rings:u.paths;let g,w;for(let E=0,A=p.length;E<A;E++){const I=p[E];for(let R=0,F=I.length;R<F;R++){const q=I[R];R>0?(g+=q[0],w+=q[1]):(g=q[0],w=q[1]),q[0]=t(g),q[1]=i(w)}}if(n&&s)for(let E=0,A=p.length;E<A;E++){const I=p[E];for(let R=0,F=I.length;R<F;R++){const q=I[R];q[2]=n(q[2]),q[3]=s(q[3])}}else if(n)for(let E=0,A=p.length;E<A;E++){const I=p[E];for(let R=0,F=I.length;R<F;R++){const q=I[R];q[2]=n(q[2])}}else if(s)for(let E=0,A=p.length;E<A;E++){const I=p[E];for(let R=0,F=I.length;R<F;R++){const q=I[R];q[2]=s(q[2])}}}:e==="extent"?u=>{u.xmin=t(u.xmin),u.ymin=i(u.ymin),u.xmax=t(u.xmax),u.ymax=i(u.ymax),n&&u.zmax!=null&&u.zmin!=null&&(u.zmax=n(u.zmax),u.zmin=n(u.zmin)),s&&u.mmax!=null&&u.mmin!=null&&(u.mmax=s(u.mmax),u.mmin=s(u.mmin))}:e==="multipoint"?u=>{const p=u.points;let g,w;for(let E=0,A=p.length;E<A;E++){const I=p[E];E>0?(g+=I[0],w+=I[1]):(g=I[0],w=I[1]),I[0]=t(g),I[1]=i(w)}if(n&&s)for(let E=0,A=p.length;E<A;E++){const I=p[E];I[2]=n(I[2]),I[3]=s(I[3])}else if(n)for(let E=0,A=p.length;E<A;E++){const I=p[E];I[2]=n(I[2])}else if(s)for(let E=0,A=p.length;E<A;E++){const I=p[E];I[2]=s(I[2])}}:null}};S([M({type:String,json:{write:!0}})],Xr.prototype,"displayFieldName",void 0),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Xr.prototype,"exceededTransferLimit",void 0),S([M({type:[Zf],json:{write:!0}})],Xr.prototype,"features",void 0),S([ht("features")],Xr.prototype,"readFeatures",null),S([M({type:[gP],json:{write:!0}})],Xr.prototype,"fields",void 0),S([M({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:HC.read}}})],Xr.prototype,"geometryType",void 0),S([vt("geometryType")],Xr.prototype,"writeGeometryType",null),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Xr.prototype,"hasM",void 0),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Xr.prototype,"hasZ",void 0),S([M({types:Kw,json:{write:!0}})],Xr.prototype,"queryGeometry",void 0),S([ht("queryGeometry")],Xr.prototype,"readQueryGeometry",null),S([M({type:li,json:{write:!0}})],Xr.prototype,"spatialReference",void 0),S([vt("spatialReference")],Xr.prototype,"writeSpatialReference",null),S([M({json:{write:!0}})],Xr.prototype,"transform",void 0),Xr=GC=S([ue("esri.rest.support.FeatureSet")],Xr),Xr.prototype.toJSON.isDefaultToJSON=!0;const ute=Xr;let kEe=0,vh=class extends z_.LoadableMixin(ZO(Bt)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const i=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var i;const t=(i=this.layer)==null?void 0:i.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,i={}){await this.load(i);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);SG(t,this.layer.spatialReference,n);const s=ute.fromJSON(n);if(!this._requiresClientGraphicMapping())return s;const u=this.layer.objectIdField;for(const p of s.features){const g=p.attributes[u],w=this._idToClientGraphic.get(g);w&&(p.geometry=w.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(t,i={}){if(this._requiresClientGraphicMapping())throw new ze("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(i);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);return SG(t,this.layer.spatialReference,n),n}queryFeatureCount(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,i))}queryObjectIds(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,i))}queryExtent(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,i)).then(n=>({count:n.count,extent:Yn.fromJSON(n.extent)}))}querySnapping(t,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",t,i))}async _applyEdits(t){if(!this._connection)throw new ze("feature-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField;let n=null;const s=[],u=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const p=A=>"objectId"in A&&A.objectId!=null?A.objectId:"attributes"in A&&A.attributes[i]!=null?A.attributes[i]:null;if(t.addFeatures&&(n=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const A of t.deleteFeatures){const I=p(A);I!=null&&s.push(I)}const g=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const A of t.updateFeatures)if(u.push(this._serializeFeature(A)),g){const I=p(A);I!=null&&g.set(I,A)}}bEe(n?n.features:null,u,this.layer.spatialReference);const{fullExtent:w,featureEditResults:E}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:u,deletes:s});return this.fullExtent=w,n&&n.finish(E.uidToObjectId),this._updateClientGraphicIds(g,E),this._createEditsResult(E)}async _prepareClientMapping(t,i){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const n=[];for(const{geometry:s}of t)s==null||s.type!=="mesh"||s.hasExtent||s.loaded||n.push(s.load({signal:i}));n.length&&await Promise.all(n)}_updateClientGraphicIds(t,i){if(this._idToClientGraphic){if(t)for(const n of i.updateResults){if(!n.success)continue;const s=t.get(n.objectId);s!=null&&this._addIdToClientGraphic(s)}for(const n of i.deleteResults)n.success&&this._idToClientGraphic.delete(n.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const i=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:i?new ze("feature-layer-source:edit-failure",i.description,{code:i.code}):null}}_prepareAddFeatures(t){const i=new Map,n=new Array(t.length);let s=null;for(let p=0;p<t.length;p++){const g=t[p],w=this._serializeFeature(g);s||g.geometry==null||(s=g.geometry.type),n[p]=w,i.set(`${w.uid}`,g)}const u=this;return{features:n,inferredGeometryType:s,finish(p){const g=u.sourceJSON.objectIdField;for(const w in p){const E=p[w],A=i.get(w);A&&(A.attributes||(A.attributes={}),E===-1?delete A.attributes[g]:A.attributes[g]=E,u._addIdToClientGraphic(A))}}}}_addIdToClientGraphic(t){var s;if(!this._idToClientGraphic)return;const i=this.sourceJSON.objectIdField,n=(s=t.attributes)==null?void 0:s[i];n!=null&&this._idToClientGraphic.set(n,t)}get _layerOrSourceGeometryType(){var t,i;return((t=this.layer)==null?void 0:t.geometryType)??((i=this.sourceJSON)==null?void 0:i.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:i}=t,n=this._geometryForSerialization(t),s=(kEe++).toString();return n?{uid:s,geometry:n.toJSON(),attributes:i}:{uid:s,attributes:i}}_geometryForSerialization(t){const{geometry:i}=t;return i==null?null:this._geometryRequiresClientGraphicMapping(i)?i.extent?fo.fromExtent(i.extent):null:i}async _startWorker(t){this._connection=await vEe("MemorySourceWorker",{strategy:Ge("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:i,spatialReference:n,objectIdField:s,hasM:u,hasZ:p,timeInfo:g,dateFieldsTimeZone:w}=this.layer,E=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const A=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",q=>{xt.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),q.preventDefault()}));const I={features:A.features,fields:i==null?void 0:i.map(q=>q.toJSON()),geometryType:BF.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&u,hasZ:this._layerOrSourceGeometryType==="mesh"||p,objectIdField:s,spatialReference:E?null:n&&n.toJSON(),timeInfo:(g==null?void 0:g.toJSON())??null,dateFieldsTimeZone:w},R=await this._connection.invoke("load",I,{signal:t});for(const q of R.warnings)xt.getLogger(this.layer).warn("#load()",`${q.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:q});R.featureErrors.length&&xt.getLogger(this.layer).warn("#load()",`Encountered ${R.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:R.featureErrors});const F=R.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(A.inferredGeometryType)&&(F.geometryType=BF.toJSON(A.inferredGeometryType)),this.sourceJSON=F,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),A.finish(R.assignedObjectIds)}};S([vI({Type:Zf,ensureType:ls(Zf)})],vh.prototype,"itemType",void 0),S([M()],vh.prototype,"type",void 0),S([M({constructOnly:!0})],vh.prototype,"layer",void 0),S([M({readOnly:!0})],vh.prototype,"_workerGeometryType",null),S([M()],vh.prototype,"sourceJSON",void 0),vh=S([ue("esri.layers.graphics.sources.MemorySource")],vh);function CEe(e){return"portalItem"in e}const AEe=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):CEe(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return S([M({type:String})],t.prototype,"apiKey",null),t=S([ue("esri.layers.mixins.APIKeyMixin")],t),t},hte={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},dte=Object.values(hte),fte=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${dte.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),OEe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${dte.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),IEe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function GHe(e){return fte.test(e)}function p3(e){if(e==null)return null;const t=ho(e),i=(t==null?void 0:t.path.match(fte))||(t==null?void 0:t.path.match(OEe));if(!i)return null;const[,n,s,u,p]=i,g=s.indexOf("/");return{title:vP(g!==-1?s.slice(g+1):s),serverType:hte[u.toLowerCase()],sublayer:p!=null&&p!==""?parseInt(p,10):null,url:{path:n}}}function PEe(e){const t=ho(e).path.match(IEe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function vP(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function REe(e,t){const i=[];if(e){const n=p3(e);n!=null&&n.title&&i.push(n.title)}if(t){const n=vP(t);i.push(n)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function pte(e){let t=dl(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function DEe(e,t){return e&&oZ(aZ(e,t))}function NEe(e){let{url:t}=e;if(!t)return{url:t};t=aZ(t,e.logger);const i=ho(t),n=p3(i.path);let s;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(s=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const u=PEe(i.path);u!=null&&(t=u.serviceUrl,s=u.sublayerId)}return{url:oZ(t),layerId:s}}function LEe(e,t,i,n,s){b1(t,n,"url",s),n.url&&e.layerId!=null&&(n.url=Xy(n.url,i,e.layerId.toString()))}function HHe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),u=t.includes("/wmsserver");return i&&(n||s||u)}function qHe(e){var n;if(!e)return!1;const t=new Do(co(e)),i=(n=t.authority)==null?void 0:n.toLowerCase();return i==="server.arcgisonline.com"||i==="services.arcgisonline.com"}const zEe=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=p3(this.url);if(i!=null&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",DEe(i,xt.getLogger(this)))}};return S([M()],t.prototype,"title",null),S([M({type:String})],t.prototype,"url",null),t=S([ue("esri.layers.mixins.ArcGISService")],t),t};function _6(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function jEe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function FEe(e,t,i,n,s,u,p,g,w,E,A,I,R,F,q,B){const K=new Float32Array(16);return K[0]=e,K[1]=t,K[2]=i,K[3]=n,K[4]=s,K[5]=u,K[6]=p,K[7]=g,K[8]=w,K[9]=E,K[10]=A,K[11]=I,K[12]=R,K[13]=F,K[14]=q,K[15]=B,K}function UEe(e,t){return new Float32Array(e,t,16)}const VEe=_6();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:VEe,clone:jEe,create:_6,createView:UEe,fromValues:FEe},Symbol.toStringTag,{value:"Module"}));function mte(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function cp(e,t,i,n,s,u,p,g,w,E,A,I,R,F,q,B,K){return e[0]=t,e[1]=i,e[2]=n,e[3]=s,e[4]=u,e[5]=p,e[6]=g,e[7]=w,e[8]=E,e[9]=A,e[10]=I,e[11]=R,e[12]=F,e[13]=q,e[14]=B,e[15]=K,e}function E6(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function up(e,t){if(e===t){const i=t[1],n=t[2],s=t[3],u=t[6],p=t[7],g=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=u,e[11]=t[14],e[12]=s,e[13]=p,e[14]=g}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function GEe(e,t){return yte(e,t)||E6(e),e}function yte(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=t[4],g=t[5],w=t[6],E=t[7],A=t[8],I=t[9],R=t[10],F=t[11],q=t[12],B=t[13],K=t[14],te=t[15],ce=i*g-n*p,ye=i*w-s*p,_e=i*E-u*p,we=n*w-s*g,xe=n*E-u*g,pe=s*E-u*w,Ze=A*B-I*q,Fe=A*K-R*q,He=A*te-F*q,nt=I*K-R*B,Qe=I*te-F*B,De=R*te-F*K;let Me=ce*De-ye*Qe+_e*nt+we*He-xe*Fe+pe*Ze;return Me?(Me=1/Me,e[0]=(g*De-w*Qe+E*nt)*Me,e[1]=(s*Qe-n*De-u*nt)*Me,e[2]=(B*pe-K*xe+te*we)*Me,e[3]=(R*xe-I*pe-F*we)*Me,e[4]=(w*He-p*De-E*Fe)*Me,e[5]=(i*De-s*He+u*Fe)*Me,e[6]=(K*_e-q*pe-te*ye)*Me,e[7]=(A*pe-R*_e+F*ye)*Me,e[8]=(p*Qe-g*He+E*Ze)*Me,e[9]=(n*He-i*Qe-u*Ze)*Me,e[10]=(q*xe-B*_e+te*ce)*Me,e[11]=(I*_e-A*xe-F*ce)*Me,e[12]=(g*Fe-p*nt-w*Ze)*Me,e[13]=(i*nt-n*Fe+s*Ze)*Me,e[14]=(B*ye-q*we-K*ce)*Me,e[15]=(A*we-I*ye+R*ce)*Me,e):null}function HEe(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=t[4],g=t[5],w=t[6],E=t[7],A=t[8],I=t[9],R=t[10],F=t[11],q=t[12],B=t[13],K=t[14],te=t[15];return e[0]=g*(R*te-F*K)-I*(w*te-E*K)+B*(w*F-E*R),e[1]=-(n*(R*te-F*K)-I*(s*te-u*K)+B*(s*F-u*R)),e[2]=n*(w*te-E*K)-g*(s*te-u*K)+B*(s*E-u*w),e[3]=-(n*(w*F-E*R)-g*(s*F-u*R)+I*(s*E-u*w)),e[4]=-(p*(R*te-F*K)-A*(w*te-E*K)+q*(w*F-E*R)),e[5]=i*(R*te-F*K)-A*(s*te-u*K)+q*(s*F-u*R),e[6]=-(i*(w*te-E*K)-p*(s*te-u*K)+q*(s*E-u*w)),e[7]=i*(w*F-E*R)-p*(s*F-u*R)+A*(s*E-u*w),e[8]=p*(I*te-F*B)-A*(g*te-E*B)+q*(g*F-E*I),e[9]=-(i*(I*te-F*B)-A*(n*te-u*B)+q*(n*F-u*I)),e[10]=i*(g*te-E*B)-p*(n*te-u*B)+q*(n*E-u*g),e[11]=-(i*(g*F-E*I)-p*(n*F-u*I)+A*(n*E-u*g)),e[12]=-(p*(I*K-R*B)-A*(g*K-w*B)+q*(g*R-w*I)),e[13]=i*(I*K-R*B)-A*(n*K-s*B)+q*(n*R-s*I),e[14]=-(i*(g*K-w*B)-p*(n*K-s*B)+q*(n*w-s*g)),e[15]=i*(g*R-w*I)-p*(n*R-s*I)+A*(n*w-s*g),e}function qEe(e){const t=e[0],i=e[1],n=e[2],s=e[3],u=e[4],p=e[5],g=e[6],w=e[7],E=e[8],A=e[9],I=e[10],R=e[11],F=e[12],q=e[13],B=e[14],K=e[15];return(t*p-i*u)*(I*K-R*B)-(t*g-n*u)*(A*K-R*q)+(t*w-s*u)*(A*B-I*q)+(i*g-n*p)*(E*K-R*F)-(i*w-s*p)*(E*B-I*F)+(n*w-s*g)*(E*q-A*F)}function gte(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=t[6],A=t[7],I=t[8],R=t[9],F=t[10],q=t[11],B=t[12],K=t[13],te=t[14],ce=t[15];let ye=i[0],_e=i[1],we=i[2],xe=i[3];return e[0]=ye*n+_e*g+we*I+xe*B,e[1]=ye*s+_e*w+we*R+xe*K,e[2]=ye*u+_e*E+we*F+xe*te,e[3]=ye*p+_e*A+we*q+xe*ce,ye=i[4],_e=i[5],we=i[6],xe=i[7],e[4]=ye*n+_e*g+we*I+xe*B,e[5]=ye*s+_e*w+we*R+xe*K,e[6]=ye*u+_e*E+we*F+xe*te,e[7]=ye*p+_e*A+we*q+xe*ce,ye=i[8],_e=i[9],we=i[10],xe=i[11],e[8]=ye*n+_e*g+we*I+xe*B,e[9]=ye*s+_e*w+we*R+xe*K,e[10]=ye*u+_e*E+we*F+xe*te,e[11]=ye*p+_e*A+we*q+xe*ce,ye=i[12],_e=i[13],we=i[14],xe=i[15],e[12]=ye*n+_e*g+we*I+xe*B,e[13]=ye*s+_e*w+we*R+xe*K,e[14]=ye*u+_e*E+we*F+xe*te,e[15]=ye*p+_e*A+we*q+xe*ce,e}function BEe(e,t,i){const n=i[0],s=i[1],u=i[2];if(t===e)e[12]=t[0]*n+t[4]*s+t[8]*u+t[12],e[13]=t[1]*n+t[5]*s+t[9]*u+t[13],e[14]=t[2]*n+t[6]*s+t[10]*u+t[14],e[15]=t[3]*n+t[7]*s+t[11]*u+t[15];else{const p=t[0],g=t[1],w=t[2],E=t[3],A=t[4],I=t[5],R=t[6],F=t[7],q=t[8],B=t[9],K=t[10],te=t[11];e[0]=p,e[1]=g,e[2]=w,e[3]=E,e[4]=A,e[5]=I,e[6]=R,e[7]=F,e[8]=q,e[9]=B,e[10]=K,e[11]=te,e[12]=p*n+A*s+q*u+t[12],e[13]=g*n+I*s+B*u+t[13],e[14]=w*n+R*s+K*u+t[14],e[15]=E*n+F*s+te*u+t[15]}return e}function WEe(e,t,i){const n=i[0],s=i[1],u=i[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*u,e[9]=t[9]*u,e[10]=t[10]*u,e[11]=t[11]*u,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function JEe(e,t,i,n){let s=n[0],u=n[1],p=n[2],g=Math.sqrt(s*s+u*u+p*p);if(g<=Cr())return void mte(e,t);g=1/g,s*=g,u*=g,p*=g;const w=Math.sin(i),E=Math.cos(i),A=1-E,I=t[0],R=t[1],F=t[2],q=t[3],B=t[4],K=t[5],te=t[6],ce=t[7],ye=t[8],_e=t[9],we=t[10],xe=t[11],pe=s*s*A+E,Ze=u*s*A+p*w,Fe=p*s*A-u*w,He=s*u*A-p*w,nt=u*u*A+E,Qe=p*u*A+s*w,De=s*p*A+u*w,Me=u*p*A-s*w,et=p*p*A+E;e[0]=I*pe+B*Ze+ye*Fe,e[1]=R*pe+K*Ze+_e*Fe,e[2]=F*pe+te*Ze+we*Fe,e[3]=q*pe+ce*Ze+xe*Fe,e[4]=I*He+B*nt+ye*Qe,e[5]=R*He+K*nt+_e*Qe,e[6]=F*He+te*nt+we*Qe,e[7]=q*He+ce*nt+xe*Qe,e[8]=I*De+B*Me+ye*et,e[9]=R*De+K*Me+_e*et,e[10]=F*De+te*Me+we*et,e[11]=q*De+ce*Me+xe*et,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function ZEe(e,t,i){const n=Math.sin(i),s=Math.cos(i),u=t[4],p=t[5],g=t[6],w=t[7],E=t[8],A=t[9],I=t[10],R=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=u*s+E*n,e[5]=p*s+A*n,e[6]=g*s+I*n,e[7]=w*s+R*n,e[8]=E*s-u*n,e[9]=A*s-p*n,e[10]=I*s-g*n,e[11]=R*s-w*n,e}function YEe(e,t,i){const n=Math.sin(i),s=Math.cos(i),u=t[0],p=t[1],g=t[2],w=t[3],E=t[8],A=t[9],I=t[10],R=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=u*s-E*n,e[1]=p*s-A*n,e[2]=g*s-I*n,e[3]=w*s-R*n,e[8]=u*n+E*s,e[9]=p*n+A*s,e[10]=g*n+I*s,e[11]=w*n+R*s,e}function KEe(e,t,i){const n=Math.sin(i),s=Math.cos(i),u=t[0],p=t[1],g=t[2],w=t[3],E=t[4],A=t[5],I=t[6],R=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=u*s+E*n,e[1]=p*s+A*n,e[2]=g*s+I*n,e[3]=w*s+R*n,e[4]=E*s-u*n,e[5]=A*s-p*n,e[6]=I*s-g*n,e[7]=R*s-w*n,e}function XEe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function QEe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vte(e,t,i){if(t===0)return E6(e);let n=i[0],s=i[1],u=i[2],p=Math.sqrt(n*n+s*s+u*u);if(p<=Cr())return null;p=1/p,n*=p,s*=p,u*=p;const g=Math.sin(t),w=Math.cos(t),E=1-w;return e[0]=n*n*E+w,e[1]=s*n*E+u*g,e[2]=u*n*E-s*g,e[3]=0,e[4]=n*s*E-u*g,e[5]=s*s*E+w,e[6]=u*s*E+n*g,e[7]=0,e[8]=n*u*E+s*g,e[9]=s*u*E-n*g,e[10]=u*u*E+w,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function e7e(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function t7e(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function i7e(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bte(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=n+n,w=s+s,E=u+u,A=n*g,I=n*w,R=n*E,F=s*w,q=s*E,B=u*E,K=p*g,te=p*w,ce=p*E;return e[0]=1-(F+B),e[1]=I+ce,e[2]=R-te,e[3]=0,e[4]=I-ce,e[5]=1-(A+B),e[6]=q+K,e[7]=0,e[8]=R+te,e[9]=q-K,e[10]=1-(A+F),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function n7e(e,t){const i=r7e,n=-t[0],s=-t[1],u=-t[2],p=t[3],g=t[4],w=t[5],E=t[6],A=t[7],I=n*n+s*s+u*u+p*p;return I>0?(i[0]=2*(g*p+A*n+w*u-E*s)/I,i[1]=2*(w*p+A*s+E*n-g*u)/I,i[2]=2*(E*p+A*u+g*s-w*n)/I):(i[0]=2*(g*p+A*n+w*u-E*s),i[1]=2*(w*p+A*s+E*n-g*u),i[2]=2*(E*p+A*u+g*s-w*n)),bte(e,t,i),e}const r7e=ft();function s7e(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function o7e(e,t){const i=t[0],n=t[1],s=t[2],u=t[4],p=t[5],g=t[6],w=t[8],E=t[9],A=t[10];return e[0]=Math.sqrt(i*i+n*n+s*s),e[1]=Math.sqrt(u*u+p*p+g*g),e[2]=Math.sqrt(w*w+E*E+A*A),e}function a7e(e,t){const i=t[0]+t[5]+t[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function l7e(e,t,i,n){const s=t[0],u=t[1],p=t[2],g=t[3],w=s+s,E=u+u,A=p+p,I=s*w,R=s*E,F=s*A,q=u*E,B=u*A,K=p*A,te=g*w,ce=g*E,ye=g*A,_e=n[0],we=n[1],xe=n[2];return e[0]=(1-(q+K))*_e,e[1]=(R+ye)*_e,e[2]=(F-ce)*_e,e[3]=0,e[4]=(R-ye)*we,e[5]=(1-(I+K))*we,e[6]=(B+te)*we,e[7]=0,e[8]=(F+ce)*xe,e[9]=(B-te)*xe,e[10]=(1-(I+q))*xe,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function c7e(e,t,i,n,s){const u=t[0],p=t[1],g=t[2],w=t[3],E=u+u,A=p+p,I=g+g,R=u*E,F=u*A,q=u*I,B=p*A,K=p*I,te=g*I,ce=w*E,ye=w*A,_e=w*I,we=n[0],xe=n[1],pe=n[2],Ze=s[0],Fe=s[1],He=s[2],nt=(1-(B+te))*we,Qe=(F+_e)*we,De=(q-ye)*we,Me=(F-_e)*xe,et=(1-(R+te))*xe,Ve=(K+ce)*xe,lt=(q+ye)*pe,st=(K-ce)*pe,Tt=(1-(R+B))*pe;return e[0]=nt,e[1]=Qe,e[2]=De,e[3]=0,e[4]=Me,e[5]=et,e[6]=Ve,e[7]=0,e[8]=lt,e[9]=st,e[10]=Tt,e[11]=0,e[12]=i[0]+Ze-(nt*Ze+Me*Fe+lt*He),e[13]=i[1]+Fe-(Qe*Ze+et*Fe+st*He),e[14]=i[2]+He-(De*Ze+Ve*Fe+Tt*He),e[15]=1,e}function u7e(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=i+i,g=n+n,w=s+s,E=i*p,A=n*p,I=n*g,R=s*p,F=s*g,q=s*w,B=u*p,K=u*g,te=u*w;return e[0]=1-I-q,e[1]=A+te,e[2]=R-K,e[3]=0,e[4]=A-te,e[5]=1-E-q,e[6]=F+B,e[7]=0,e[8]=R+K,e[9]=F-B,e[10]=1-E-I,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function h7e(e,t,i,n,s,u,p){const g=1/(i-t),w=1/(s-n),E=1/(u-p);return e[0]=2*u*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*u*w,e[6]=0,e[7]=0,e[8]=(i+t)*g,e[9]=(s+n)*w,e[10]=(p+u)*E,e[11]=-1,e[12]=0,e[13]=0,e[14]=p*u*2*E,e[15]=0,e}function d7e(e,t,i,n,s){const u=1/Math.tan(t/2);let p;return e[0]=u/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(p=1/(n-s),e[10]=(s+n)*p,e[14]=2*s*n*p):(e[10]=-1,e[14]=-2*n),e}function f7e(e,t,i,n){const s=Math.tan(t.upDegrees*Math.PI/180),u=Math.tan(t.downDegrees*Math.PI/180),p=Math.tan(t.leftDegrees*Math.PI/180),g=Math.tan(t.rightDegrees*Math.PI/180),w=2/(p+g),E=2/(s+u);return e[0]=w,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=E,e[6]=0,e[7]=0,e[8]=-(p-g)*w*.5,e[9]=(s-u)*E*.5,e[10]=n/(i-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i/(i-n),e[15]=0,e}function p7e(e,t,i,n,s,u,p){const g=1/(t-i),w=1/(n-s),E=1/(u-p);return e[0]=-2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*w,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*E,e[11]=0,e[12]=(t+i)*g,e[13]=(s+n)*w,e[14]=(p+u)*E,e[15]=1,e}function m7e(e,t,i,n){const s=t[0],u=t[1],p=t[2];let g=s-i[0],w=u-i[1],E=p-i[2];const A=Cr();if(Math.abs(g)<A&&Math.abs(w)<A&&Math.abs(E)<A)return void E6(e);let I=1/Math.sqrt(g*g+w*w+E*E);g*=I,w*=I,E*=I;const R=n[0],F=n[1],q=n[2];let B=F*E-q*w,K=q*g-R*E,te=R*w-F*g;I=Math.sqrt(B*B+K*K+te*te),I?(I=1/I,B*=I,K*=I,te*=I):(B=0,K=0,te=0);let ce=w*te-E*K,ye=E*B-g*te,_e=g*K-w*B;I=Math.sqrt(ce*ce+ye*ye+_e*_e),I?(I=1/I,ce*=I,ye*=I,_e*=I):(ce=0,ye=0,_e=0),e[0]=B,e[1]=ce,e[2]=g,e[3]=0,e[4]=K,e[5]=ye,e[6]=w,e[7]=0,e[8]=te,e[9]=_e,e[10]=E,e[11]=0,e[12]=-(B*s+K*u+te*p),e[13]=-(ce*s+ye*u+_e*p),e[14]=-(g*s+w*u+E*p),e[15]=1}function y7e(e,t,i,n){const s=t[0],u=t[1],p=t[2],g=n[0],w=n[1],E=n[2];let A=s-i[0],I=u-i[1],R=p-i[2],F=A*A+I*I+R*R;F>0&&(F=1/Math.sqrt(F),A*=F,I*=F,R*=F);let q=w*R-E*I,B=E*A-g*R,K=g*I-w*A;return F=q*q+B*B+K*K,F>0&&(F=1/Math.sqrt(F),q*=F,B*=F,K*=F),e[0]=q,e[1]=B,e[2]=K,e[3]=0,e[4]=I*K-R*B,e[5]=R*q-A*K,e[6]=A*B-I*q,e[7]=0,e[8]=A,e[9]=I,e[10]=R,e[11]=0,e[12]=s,e[13]=u,e[14]=p,e[15]=1,e}function g7e(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function v7e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function b7e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function wte(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function w7e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function x7e(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e[9]=t[9]+i[9]*n,e[10]=t[10]+i[10]*n,e[11]=t[11]+i[11]*n,e[12]=t[12]+i[12]*n,e[13]=t[13]+i[13]*n,e[14]=t[14]+i[14]*n,e[15]=t[15]+i[15]*n,e}function S7e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function _7e(e,t){if(e===t)return!0;const i=e[0],n=e[1],s=e[2],u=e[3],p=e[4],g=e[5],w=e[6],E=e[7],A=e[8],I=e[9],R=e[10],F=e[11],q=e[12],B=e[13],K=e[14],te=e[15],ce=t[0],ye=t[1],_e=t[2],we=t[3],xe=t[4],pe=t[5],Ze=t[6],Fe=t[7],He=t[8],nt=t[9],Qe=t[10],De=t[11],Me=t[12],et=t[13],Ve=t[14],lt=t[15],st=Cr();return Math.abs(i-ce)<=st*Math.max(1,Math.abs(i),Math.abs(ce))&&Math.abs(n-ye)<=st*Math.max(1,Math.abs(n),Math.abs(ye))&&Math.abs(s-_e)<=st*Math.max(1,Math.abs(s),Math.abs(_e))&&Math.abs(u-we)<=st*Math.max(1,Math.abs(u),Math.abs(we))&&Math.abs(p-xe)<=st*Math.max(1,Math.abs(p),Math.abs(xe))&&Math.abs(g-pe)<=st*Math.max(1,Math.abs(g),Math.abs(pe))&&Math.abs(w-Ze)<=st*Math.max(1,Math.abs(w),Math.abs(Ze))&&Math.abs(E-Fe)<=st*Math.max(1,Math.abs(E),Math.abs(Fe))&&Math.abs(A-He)<=st*Math.max(1,Math.abs(A),Math.abs(He))&&Math.abs(I-nt)<=st*Math.max(1,Math.abs(I),Math.abs(nt))&&Math.abs(R-Qe)<=st*Math.max(1,Math.abs(R),Math.abs(Qe))&&Math.abs(F-De)<=st*Math.max(1,Math.abs(F),Math.abs(De))&&Math.abs(q-Me)<=st*Math.max(1,Math.abs(q),Math.abs(Me))&&Math.abs(B-et)<=st*Math.max(1,Math.abs(B),Math.abs(et))&&Math.abs(K-Ve)<=st*Math.max(1,Math.abs(K),Math.abs(Ve))&&Math.abs(te-lt)<=st*Math.max(1,Math.abs(te),Math.abs(lt))}function E7e(e){const t=Cr(),i=e[0],n=e[1],s=e[2],u=e[4],p=e[5],g=e[6],w=e[8],E=e[9],A=e[10];return Math.abs(1-(i*i+u*u+w*w))<=t&&Math.abs(1-(n*n+p*p+E*E))<=t&&Math.abs(1-(s*s+g*g+A*A))<=t}function T7e(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const M7e=gte,$7e=wte;Object.freeze(Object.defineProperty({__proto__:null,add:b7e,adjoint:HEe,copy:mte,determinant:qEe,equals:_7e,exactEquals:S7e,frob:v7e,fromQuat:u7e,fromQuat2:n7e,fromRotation:vte,fromRotationTranslation:bte,fromRotationTranslationScale:l7e,fromRotationTranslationScaleOrigin:c7e,fromScaling:QEe,fromTranslation:XEe,fromXRotation:e7e,fromYRotation:t7e,fromZRotation:i7e,frustum:h7e,getRotation:a7e,getScaling:o7e,getTranslation:s7e,hasIdentityRotation:T7e,identity:E6,invert:yte,invertOrIdentity:GEe,isOrthoNormal:E7e,lookAt:m7e,mul:M7e,multiply:gte,multiplyScalar:w7e,multiplyScalarAndAdd:x7e,ortho:p7e,perspective:d7e,perspectiveFromFieldOfView:f7e,rotate:JEe,rotateX:ZEe,rotateY:YEe,rotateZ:KEe,scale:WEe,set:cp,str:g7e,sub:$7e,subtract:wte,targetTo:y7e,translate:BEe,transpose:up},Symbol.toStringTag,{value:"Module"}));const k7e=(e,t)=>{const i=cp(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return up(i,i)},C7e=(e,t)=>{const i=cp(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return up(i,i)},A7e=(e,t)=>{const i=1-t,n=cp(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return up(n,n)},O7e=(e,t)=>{const i=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),s=cp(e,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return up(s,s)},I7e=(e,t)=>{const i=1-2*t,n=cp(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return up(n,n)},P7e=(e,t)=>{const i=cp(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return up(i,i)},R7e=(e,t)=>{const i=1-t,n=cp(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return up(n,n)};let xte=class Ste{constructor(t,i,n){this.strength=t,this.radius=i,this.threshold=n,this.type="bloom"}interpolate(t,i,n){this.strength=Io(t.strength,i.strength,n),this.radius=Io(t.radius,i.radius,n),this.threshold=Io(t.threshold,i.threshold,n)}clone(){return new Ste(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:F2(this.radius),strength:this.strength,threshold:this.threshold}}},_te=class Ete{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,n){this.radius=Math.round(Io(t.radius,i.radius,n))}clone(){return new Ete(this.radius)}toJSON(){return{type:"blur",radius:F2(this.radius)}}},qC=class Tte{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.amount=Io(t.amount,i.amount,n),this._updateMatrix()}clone(){return new Tte(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||_6();switch(this.type){case"brightness":this._colorMatrix=k7e(t,this.amount);break;case"contrast":this._colorMatrix=C7e(t,this.amount);break;case"grayscale":this._colorMatrix=A7e(t,this.amount);break;case"invert":this._colorMatrix=I7e(t,this.amount);break;case"saturate":this._colorMatrix=P7e(t,this.amount);break;case"sepia":this._colorMatrix=R7e(t,this.amount)}}},Mte=class $te{constructor(t,i,n,s){this.offsetX=t,this.offsetY=i,this.blurRadius=n,this.color=s,this.type="drop-shadow"}interpolate(t,i,n){this.offsetX=Io(t.offsetX,i.offsetX,n),this.offsetY=Io(t.offsetY,i.offsetY,n),this.blurRadius=Io(t.blurRadius,i.blurRadius,n),this.color[0]=Math.round(Io(t.color[0],i.color[0],n)),this.color[1]=Math.round(Io(t.color[1],i.color[1],n)),this.color[2]=Math.round(Io(t.color[2],i.color[2],n)),this.color[3]=Io(t.color[3],i.color[3],n)}clone(){return new $te(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:F2(this.offsetX),yoffset:F2(this.offsetY),blurRadius:F2(this.blurRadius),color:t}}},kte=class Cte{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.angle=Io(t.angle,i.angle,n),this._updateMatrix()}clone(){return new Cte(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||_6();this._colorMatrix=O7e(t,this.angle)}},Ate=class Ote{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,n){this.amount=Io(t.amount,i.amount,n)}clone(){return new Ote(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Io(e,t,i){return e+(t-e)*i}function F2(e){return Math.round(1e3*gl(e))/1e3}function D7e(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new qC(e.type,0);case"saturate":case"brightness":case"contrast":return new qC(e.type,1);case"opacity":return new Ate(1);case"hue-rotate":return new kte(0);case"blur":return new _te(0);case"drop-shadow":return new Mte(0,0,0,[...NI("transparent")]);case"bloom":return new xte(0,0,1)}}function N7e(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,s)=>n.type===i[s].type)}function L7e(e,t){const i=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let s=n.length;s<i.length;s++)n.push(D7e(i[s]))}function z7e(e){const t=e[0];return!!t&&"type"in t}function BHe(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}function j7e(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i}function Ny(e,t,i,n){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,Ny.prototype),s.expected=t,s.found=i,s.location=n,s.name="SyntaxError",s}function w8(e,t,i){return i=i||" ",e.length>t?e:(t-=e.length,e+(i+=i.repeat(t)).slice(0,t))}function F7e(e,t){var i,n={},s=(t=t!==void 0?t:{}).grammarSource,u={start:Dt},p=Dt,g="none",w=")",E=",",A="(",I="%",R="px",F="cm",q="mm",B="in",K="pt",te="pc",ce="deg",ye="rad",_e="grad",we="turn",xe="#",pe=".",Ze="e",Fe=/^[ \t\n\r]/,He=/^[a-z\-]/,nt=/^[0-9a-fA-F]/,Qe=/^[+\-]/,De=/^[0-9]/,Me=qe("none"),et=be("none",!1),Ve=be(")",!1),lt=be(",",!1),st=qe("whitespace"),Tt=Ce([" ","	",`
`,"\r"],!1,!1),Se=qe("function"),Xe=be("(",!1),$t=qe("identifier"),Mt=Ce([["a","z"],"-"],!1,!1),bt=qe("percentage"),Yt=be("%",!1),Kt=qe("length"),xn=be("px",!1),hi=be("cm",!1),wt=be("mm",!1),Ji=be("in",!1),mr=be("pt",!1),Qs=be("pc",!1),ks=qe("angle"),Ho=be("deg",!1),wo=be("rad",!1),Ci=be("grad",!1),re=be("turn",!1),mn=qe("number"),xc=qe("color"),ci=be("#",!1),Ni=Ce([["0","9"],["a","f"],["A","F"]],!1,!1),us=Ce(["+","-"],!1,!1),Xn=Ce([["0","9"]],!1,!1),Sn=be(".",!1),xo=be("e",!1),qo=function(){return[]},Eu=function(ge,We){return{type:"function",name:ge,parameters:We||[]}},qr=function(ge,We){return We.length>0?Aa(ge,We,3):[ge]},pt=function(ge){return{type:"quantity",value:ge.value,unit:ge.unit}},eo=function(ge){return{type:"color",colorType:ge.type,value:ge.value}},h=function(ge){return ge},N=function(){return he()},x=function(ge){return{value:ge,unit:"%"}},c=function(ge){return{value:ge,unit:"px"}},a=function(ge){return{value:ge,unit:"cm"}},r=function(ge){return{value:ge,unit:"mm"}},o=function(ge){return{value:ge,unit:"in"}},l=function(ge){return{value:ge,unit:"pt"}},d=function(ge){return{value:ge,unit:"pc"}},f=function(ge){return{value:ge,unit:"deg"}},m=function(ge){return{value:ge,unit:"rad"}},b=function(ge){return{value:ge,unit:"grad"}},_=function(ge){return{value:ge,unit:"turn"}},$=function(ge){return{value:ge,unit:null}},C=function(){return{type:"hex",value:he()}},P=function(ge){return{type:"function",value:ge}},L=function(){return{type:"named",value:he()}},V=function(){return parseFloat(he())},U=0|t.peg$currPos,Y=U,X=[{line:1,column:1}],Z=U,ne=t.peg$maxFailExpected||[],oe=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in u))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');p=u[t.startRule]}function he(){return e.substring(Y,U)}function be(ge,We){return{type:"literal",text:ge,ignoreCase:We}}function Ce(ge,We,ot){return{type:"class",parts:ge,inverted:We,ignoreCase:ot}}function Pe(){return{type:"end"}}function qe(ge){return{type:"other",description:ge}}function Ue(ge){var We,ot=X[ge];if(ot)return ot;if(ge>=X.length)We=X.length-1;else for(We=ge;!X[--We];);for(ot={line:(ot=X[We]).line,column:ot.column};We<ge;)e.charCodeAt(We)===10?(ot.line++,ot.column=1):ot.column++,We++;return X[ge]=ot,ot}function Je(ge,We,ot){var It=Ue(ge),Fi=Ue(We);return{source:s,start:{offset:ge,line:It.line,column:It.column},end:{offset:We,line:Fi.line,column:Fi.column}}}function je(ge){U<Z||(U>Z&&(Z=U,ne=[]),ne.push(ge))}function Ht(ge,We,ot){return new Ny(Ny.buildMessage(ge,We),ge,We,ot)}function Dt(){var ge;return(ge=ni())===n&&(ge=mi()),ge}function ni(){var ge,We;return oe++,ge=U,zt(),e.substr(U,4)===g?(We=g,U+=4):(We=n,oe===0&&je(et)),We!==n?(zt(),Y=ge,ge=qo()):(U=ge,ge=n),oe--,ge===n&&oe===0&&je(Me),ge}function mi(){var ge,We;if(ge=[],(We=Ai())!==n)for(;We!==n;)ge.push(We),We=Ai();else ge=n;return ge}function Ai(){var ge,We,ot,It;return ge=U,zt(),(We=Ct())!==n?(zt(),(ot=xi())===n&&(ot=null),zt(),e.charCodeAt(U)===41?(It=w,U++):(It=n,oe===0&&je(Ve)),It!==n?(zt(),Y=ge,ge=Eu(We,ot)):(U=ge,ge=n)):(U=ge,ge=n),ge}function xi(){var ge,We,ot,It,Fi,_n,En,yr;if(ge=U,(We=ri())!==n){for(ot=[],It=U,Fi=zt(),e.charCodeAt(U)===44?(_n=E,U++):(_n=n,oe===0&&je(lt)),_n===n&&(_n=null),En=zt(),(yr=ri())!==n?It=Fi=[Fi,_n,En,yr]:(U=It,It=n);It!==n;)ot.push(It),It=U,Fi=zt(),e.charCodeAt(U)===44?(_n=E,U++):(_n=n,oe===0&&je(lt)),_n===n&&(_n=null),En=zt(),(yr=ri())!==n?It=Fi=[Fi,_n,En,yr]:(U=It,It=n);Y=ge,ge=qr(We,ot)}else U=ge,ge=n;return ge}function ri(){var ge,We;return ge=U,(We=Pi())===n&&(We=zn())===n&&(We=Wt())===n&&(We=tn()),We!==n&&(Y=ge,We=pt(We)),(ge=We)===n&&(ge=U,(We=vi())!==n&&(Y=ge,We=eo(We)),ge=We),ge}function zt(){var ge,We;for(oe++,ge=[],We=e.charAt(U),Fe.test(We)?U++:(We=n,oe===0&&je(Tt));We!==n;)ge.push(We),We=e.charAt(U),Fe.test(We)?U++:(We=n,oe===0&&je(Tt));return oe--,We=n,oe===0&&je(st),ge}function Ct(){var ge,We,ot;return oe++,ge=U,(We=Zi())!==n?(e.charCodeAt(U)===40?(ot=A,U++):(ot=n,oe===0&&je(Xe)),ot!==n?(Y=ge,ge=h(We)):(U=ge,ge=n)):(U=ge,ge=n),oe--,ge===n&&(We=n,oe===0&&je(Se)),ge}function Zi(){var ge,We,ot;if(oe++,ge=U,We=[],ot=e.charAt(U),He.test(ot)?U++:(ot=n,oe===0&&je(Mt)),ot!==n)for(;ot!==n;)We.push(ot),ot=e.charAt(U),He.test(ot)?U++:(ot=n,oe===0&&je(Mt));else We=n;return We!==n&&(Y=ge,We=N()),oe--,(ge=We)===n&&(We=n,oe===0&&je($t)),ge}function Pi(){var ge,We,ot;return oe++,ge=U,zt(),(We=qn())!==n?(e.charCodeAt(U)===37?(ot=I,U++):(ot=n,oe===0&&je(Yt)),ot!==n?(Y=ge,ge=x(We)):(U=ge,ge=n)):(U=ge,ge=n),oe--,ge===n&&oe===0&&je(bt),ge}function zn(){var ge,We,ot;return oe++,ge=U,zt(),(We=qn())!==n?(e.substr(U,2)===R?(ot=R,U+=2):(ot=n,oe===0&&je(xn)),ot!==n?(Y=ge,ge=c(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,zt(),(We=qn())!==n?(e.substr(U,2)===F?(ot=F,U+=2):(ot=n,oe===0&&je(hi)),ot!==n?(Y=ge,ge=a(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,zt(),(We=qn())!==n?(e.substr(U,2)===q?(ot=q,U+=2):(ot=n,oe===0&&je(wt)),ot!==n?(Y=ge,ge=r(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,zt(),(We=qn())!==n?(e.substr(U,2)===B?(ot=B,U+=2):(ot=n,oe===0&&je(Ji)),ot!==n?(Y=ge,ge=o(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,zt(),(We=qn())!==n?(e.substr(U,2)===K?(ot=K,U+=2):(ot=n,oe===0&&je(mr)),ot!==n?(Y=ge,ge=l(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,zt(),(We=qn())!==n?(e.substr(U,2)===te?(ot=te,U+=2):(ot=n,oe===0&&je(Qs)),ot!==n?(Y=ge,ge=d(We)):(U=ge,ge=n)):(U=ge,ge=n)))))),oe--,ge===n&&oe===0&&je(Kt),ge}function Wt(){var ge,We,ot;return oe++,ge=U,(We=qn())!==n?(e.substr(U,3)===ce?(ot=ce,U+=3):(ot=n,oe===0&&je(Ho)),ot!==n?(Y=ge,ge=f(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,(We=qn())!==n?(e.substr(U,3)===ye?(ot=ye,U+=3):(ot=n,oe===0&&je(wo)),ot!==n?(Y=ge,ge=m(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,(We=qn())!==n?(e.substr(U,4)===_e?(ot=_e,U+=4):(ot=n,oe===0&&je(Ci)),ot!==n?(Y=ge,ge=b(We)):(U=ge,ge=n)):(U=ge,ge=n),ge===n&&(ge=U,(We=qn())!==n?(e.substr(U,4)===we?(ot=we,U+=4):(ot=n,oe===0&&je(re)),ot!==n?(Y=ge,ge=_(We)):(U=ge,ge=n)):(U=ge,ge=n)))),oe--,ge===n&&(We=n,oe===0&&je(ks)),ge}function tn(){var ge,We;return oe++,ge=U,zt(),(We=qn())!==n?(Y=ge,ge=$(We)):(U=ge,ge=n),oe--,ge===n&&oe===0&&je(mn),ge}function vi(){var ge,We,ot,It;if(oe++,ge=U,e.charCodeAt(U)===35?(We=xe,U++):(We=n,oe===0&&je(ci)),We!==n){if(ot=[],It=e.charAt(U),nt.test(It)?U++:(It=n,oe===0&&je(Ni)),It!==n)for(;It!==n;)ot.push(It),It=e.charAt(U),nt.test(It)?U++:(It=n,oe===0&&je(Ni));else ot=n;ot!==n?(Y=ge,ge=C()):(U=ge,ge=n)}else U=ge,ge=n;return ge===n&&(ge=U,(We=Ai())!==n&&(Y=ge,We=P(We)),(ge=We)===n&&(ge=U,(We=Zi())!==n&&(Y=ge,We=L()),ge=We)),oe--,ge===n&&(We=n,oe===0&&je(xc)),ge}function qn(){var ge,We,ot,It,Fi,_n,En,yr;for(ge=U,We=e.charAt(U),Qe.test(We)?U++:(We=n,oe===0&&je(us)),We===n&&(We=null),ot=U,It=[],Fi=e.charAt(U),De.test(Fi)?U++:(Fi=n,oe===0&&je(Xn));Fi!==n;)It.push(Fi),Fi=e.charAt(U),De.test(Fi)?U++:(Fi=n,oe===0&&je(Xn));if(e.charCodeAt(U)===46?(Fi=pe,U++):(Fi=n,oe===0&&je(Sn)),Fi!==n){if(_n=[],En=e.charAt(U),De.test(En)?U++:(En=n,oe===0&&je(Xn)),En!==n)for(;En!==n;)_n.push(En),En=e.charAt(U),De.test(En)?U++:(En=n,oe===0&&je(Xn));else _n=n;_n!==n?ot=It=[It,Fi,_n]:(U=ot,ot=n)}else U=ot,ot=n;if(ot===n)if(ot=[],It=e.charAt(U),De.test(It)?U++:(It=n,oe===0&&je(Xn)),It!==n)for(;It!==n;)ot.push(It),It=e.charAt(U),De.test(It)?U++:(It=n,oe===0&&je(Xn));else ot=n;if(ot!==n){if(It=U,e.charCodeAt(U)===101?(Fi=Ze,U++):(Fi=n,oe===0&&je(xo)),Fi!==n){if(_n=e.charAt(U),Qe.test(_n)?U++:(_n=n,oe===0&&je(us)),_n===n&&(_n=null),En=[],yr=e.charAt(U),De.test(yr)?U++:(yr=n,oe===0&&je(Xn)),yr!==n)for(;yr!==n;)En.push(yr),yr=e.charAt(U),De.test(yr)?U++:(yr=n,oe===0&&je(Xn));else En=n;En!==n?It=Fi=[Fi,_n,En]:(U=It,It=n)}else U=It,It=n;It===n&&(It=null),Y=ge,ge=V()}else U=ge,ge=n;return ge}function xl(ge,We){return ge.map(function(ot){return ot[We]})}function Aa(ge,We,ot){return[ge].concat(xl(We,ot))}if(i=p(),t.peg$library)return{peg$result:i,peg$currPos:U,peg$FAILED:n,peg$maxFailExpected:ne,peg$maxFailPos:Z};if(i!==n&&U===e.length)return i;throw i!==n&&U<e.length&&je(Pe()),Ht(ne,Z<e.length?e.charAt(Z):null,Z<e.length?Je(Z,Z+1):Je(Z,Z))}function Ite(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=_G(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new ze("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:_G(i.value)}});t.sort((i,n)=>n.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!N7e(t[i].effects,t[i+1].effects))throw new ze("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});L7e(t[i].effects,t[i+1].effects)}return t.sort((i,n)=>n.scale-i.scale),t}function _G(e){let t;if(!e)return[];try{t=F7e(e)}catch(i){throw new ze("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>U7e(i))}function U7e(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return V7e(e);case"opacity":return G7e(e);case"hue-rotate":return H7e(e);case"blur":return q7e(e);case"drop-shadow":return B7e(e);case"bloom":return W7e(e)}}catch(t){throw t.details.filter=e,t}throw new ze("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function V7e(e){let t=1;return Vg(e.parameters,1),e.parameters.length===1&&(t=Xl(e.parameters[0])),new qC(e.name,t)}function G7e(e){let t=1;return Vg(e.parameters,1),e.parameters.length===1&&(t=Xl(e.parameters[0])),new Ate(t)}function H7e(e){let t=0;return Vg(e.parameters,1),e.parameters.length===1&&(t=Q7e(e.parameters[0])),new kte(t)}function q7e(e){let t=0;return Vg(e.parameters,1),e.parameters.length===1&&(t=xP(e.parameters[0]),m3(t,e.parameters[0])),new _te(t)}function B7e(e){const t=[];let i=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),i)throw new ze("effect:type-error","Accepts only one color",{});i=eTe(n)}else{const s=xP(n);if(Object.isFrozen(t))throw new ze("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(s),t.length===3&&m3(s,n)}if(t.length<2||t.length>3)throw new ze("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new Mte(t[0],t[1],t[2]||0,i||Pte("black"))}function W7e(e){let t=1,i=0,n=0;return Vg(e.parameters,3),e.parameters[0]&&(t=Xl(e.parameters[0])),e.parameters[1]&&(i=xP(e.parameters[1]),m3(i,e.parameters[1])),e.parameters[2]&&(n=Xl(e.parameters[2])),new xte(t,i,n)}function Vg(e,t){if(e.length>t)throw new ze("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function T6(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in wP)return"<length>";if(e.unit in bP)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function m3(e,t){if(e<0)throw new ze("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function J7e(e){if(e.type!=="quantity"||e.unit!==null)throw new ze("effect:type-error",`Expected <double>, Actual: ${T6(e)}`,{term:e})}function Z7e(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new ze("effect:type-error",`Expected <double> or <percentage>, Actual: ${T6(e)}`,{term:e})}j7e(Ny,Error),Ny.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var i,n=null;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,u=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,p=this.location.source+":"+u.line+":"+u.column;if(n){var g=this.location.end,w=w8("",u.line.toString().length," "),E=n[s.line-1],A=(s.line===g.line?g.column:E.length+1)-s.column||1;t+=`
 --> `+p+`
`+w+` |
`+u.line+" | "+E+`
`+w+" | "+w8("",s.column-1," ")+w8("",A,"^")}else t+=`
 at `+p}return t},Ny.buildMessage=function(e,t){var i={literal:function(E){return'"'+s(E.text)+'"'},class:function(E){var A=E.parts.map(function(I){return Array.isArray(I)?u(I[0])+"-"+u(I[1]):u(I)});return"["+(E.inverted?"^":"")+A.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};function n(E){return E.charCodeAt(0).toString(16).toUpperCase()}function s(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(A){return"\\x0"+n(A)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(A){return"\\x"+n(A)})}function u(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(A){return"\\x0"+n(A)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(A){return"\\x"+n(A)})}function p(E){return i[E.type](E)}function g(E){var A,I,R=E.map(p);if(R.sort(),R.length>0){for(A=1,I=1;A<R.length;A++)R[A-1]!==R[A]&&(R[I]=R[A],I++);R.length=I}switch(R.length){case 1:return R[0];case 2:return R[0]+" or "+R[1];default:return R.slice(0,-1).join(", ")+", or "+R[R.length-1]}}function w(E){return E?'"'+s(E)+'"':"end of input"}return"Expected "+g(e)+" but "+w(t)+" found."};const bP={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Y7e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&bP[e.unit]!=null))throw new ze("effect:type-error",`Expected <angle>, Actual: ${T6(e)}`,{term:e})}const wP={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function K7e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&wP[e.unit]!=null))throw new ze("effect:type-error",`Expected <length>, Actual: ${T6(e)}`,{term:e})}function Xl(e){Z7e(e);const t=e.value;return m3(t,e),e.unit==="%"?.01*t:t}function X7e(e){return J7e(e),m3(e.value,e),e.value}function Q7e(e){return Y7e(e),e.value*bP[e.unit]||0}function xP(e){return K7e(e),e.value*wP[e.unit]||0}function eTe(e){switch(e.colorType){case"hex":return Fxe(e.value);case"named":return Pte(e.value);case"function":return nTe(e.value)}}function Pte(e){if(!DX(e))throw new ze("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return jxe(e)}const tTe=/^rgba?/i,iTe=/^hsla?/i;function nTe(e){if(Vg(e.parameters,4),tTe.test(e.name))return[Xl(e.parameters[0]),Xl(e.parameters[1]),Xl(e.parameters[2]),e.parameters[3]?Xl(e.parameters[3]):1];if(iTe.test(e.name))return NX(X7e(e.parameters[0]),Xl(e.parameters[1]),Xl(e.parameters[2]),e.parameters[3]?Xl(e.parameters[3]):1);throw new ze("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function _w(e,t,i){var n;try{return sTe(e)}catch(s){(n=i==null?void 0:i.messages)==null||n.push(s)}return null}function Ew(e,t,i,n){try{const s=rTe(e);Zs(i,s,t)}catch(s){n.messages&&n.messages.push(s)}}function rTe(e){const t=Ite(e);return t?z7e(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:n})=>({scale:i,value:n.map(s=>s.toJSON())})):null}function sTe(e){if(!e||e.length===0)return null;if(oTe(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:EG(i.value)});return t}return EG(e)}function oTe(e){const t=e[0];return!!t&&"scale"in t}function EG(e){if(!(e!=null&&e.length))return"";const t=[];for(const i of e){let n=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[Wu(i,"amount")];break;case"blur":n=[Wu(i,"radius","pt")];break;case"hue-rotate":n=[Wu(i,"angle","deg")];break;case"drop-shadow":n=[Wu(i,"xoffset","pt"),Wu(i,"yoffset","pt"),Wu(i,"blurRadius","pt"),aTe(i,"color")];break;case"bloom":n=[Wu(i,"strength"),Wu(i,"radius","pt"),Wu(i,"threshold")]}const s=`${i.type}(${n.filter(Boolean).join(" ")})`;Ite(s),t.push(s)}return t.join(" ")}function Wu(e,t,i){if(e[t]==null)throw new ze("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function aTe(e,t){if(e[t]==null)throw new ze("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const lTe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},TG={read:{reader:_w},write:{allowNull:!0,writer:Ew}},cTe={json:{read:!1,write:!1,origins:{"web-map":TG,"portal-item":TG}}},Rte=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return S([M(lTe)],t.prototype,"blendMode",void 0),S([M(cTe)],t.prototype,"effect",void 0),t=S([ue("esri.layers.mixins.BlendLayer")],t),t},uTe=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return S([M({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=S([ue("esri.layers.mixins.CustomParametersMixin")],t),t},hTe=wwe(),Dte=new Map,Nte=new Map;async function WHe(e,t,i){if(!e||!i)return!1;if(!t)return!0;const n=new URL(e).host;let s=Dte.get(n);if(!s){const u=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await en(u,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return s===t}async function JHe(e,t,i=!1){var u,p,g;if(!e||!t)return!0;const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),s=(u=Nte.get(n))==null?void 0:u.entries();if(s){for(const[w,E]of s)if(E.name===t){const A=!((p=E.stack)!=null&&p.hasForwardEdits());if(!A&&i){const[{deleteForwardEdits:I},{default:R}]=await Promise.all([rt(()=>import("./deleteForwardEdits-DotRnLog.js"),__vite__mapDeps([229,18]),import.meta.url),rt(()=>import("./DeleteForwardEditsParameters-BB46xXlV.js"),[],import.meta.url)]),F=await I(n,w,new R({sessionId:hTe,moment:E.moment}));return F.success&&((g=E.stack)==null||g.clearForwardEdits()),F.success}return A}}return!0}function dTe(e,t){var s;if(!e)return!1;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),n=(s=Nte.get(i))==null?void 0:s.entries();if(n){for(const[u,p]of n)if(p.name===t)return p.lockType==="edit"}return!1}const SP=new Ms.EventEmitter;function fTe(e){return SP.on("apply-edits",new WeakRef(e))}function pTe(e){return SP.on("update-moment",new WeakRef(e))}function ZHe(e,t,i=null,n=!1){const s=pa();return n=t==null||n,SP.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:i,mayReceiveServiceEdits:n,result:s.promise}),s}const Lte=Symbol();function YHe(e){return e!=null&&typeof e=="object"&&Lte in e}function ab(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function x8(e,t,i){const n=new URL(e).host,s=Dte.get(n),u=p=>!p||p===s;return u(t)&&u(i)||t===i}const mTe=e=>{var t;let i=class extends e{constructor(...n){super(...n),this[t]=!0,this._applyEditsHandler=s=>{const{serviceUrl:u,layerId:p,gdbVersion:g,mayReceiveServiceEdits:w,result:E}=s,A=u===this.url,I=p!=null&&this.layerId!=null&&p===this.layerId,R=ab(this),F=ab(this)&&x8(u,g,this.gdbVersion);if(!A||R&&!F||!I&&!w)return;const q=E.then(B=>{var ce;if(this.lastEditsEventDate=new Date,I&&(B.addedFeatures.length||B.updatedFeatures.length||B.deletedFeatures.length||B.addedAttachments.length||B.updatedAttachments.length||B.deletedAttachments.length))return this.emit("edits",ke(B)),B;const K=(ce=B.editedFeatures)==null?void 0:ce.find(({layerId:ye})=>ye===this.layerId);if(K){const{adds:ye,updates:_e,deletes:we}=K.editedFeatures,xe={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:ye?ye.map(({attributes:pe})=>({objectId:this.objectIdField&&pe[this.objectIdField],globalId:this.globalIdField&&pe[this.globalIdField]})):[],deletedFeatures:we?we.map(({attributes:pe})=>({objectId:this.objectIdField&&pe[this.objectIdField],globalId:this.globalIdField&&pe[this.globalIdField]})):[],updatedFeatures:_e?_e.map(({current:{attributes:pe}})=>({objectId:this.objectIdField&&pe[this.objectIdField],globalId:this.globalIdField&&pe[this.globalIdField]})):[],editedFeatures:ke(B.editedFeatures),exceededTransferLimit:!1,historicMoment:ke(B.historicMoment)};return this.emit("edits",xe),xe}const te={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:ke(B.editedFeatures),exceededTransferLimit:!1,historicMoment:ke(B.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(u,g,te.historicMoment)&&this.emit("edits",te),te}).then(B=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(u,g,B.historicMoment)&&(this.historicMoment=B.historicMoment),B));this.emit("apply-edits",{result:q})},this._updateMomentHandler=s=>{const{serviceUrl:u,gdbVersion:p,moment:g}=s,w=u===this.url,E=ab(this),A=ab(this)&&x8(u,p,this.gdbVersion),I=ab(this)&&!x8(u,this.gdbVersion,null);w&&E&&A&&I&&"historicMoment"in this&&this.historicMoment!==g&&(this.historicMoment=g)},this.when().then(()=>{this.addHandles(fTe(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(pTe(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(n,s,u){return"historicMoment"in this&&this.historicMoment!==u&&dTe(n,s)}};return t=Lte,S([M()],i.prototype,"lastEditsEventDate",void 0),i=S([ue("esri.layers.mixins.EditBusLayer")],i),i};var BC;let ty=BC=class extends tt{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new BC({mapLayerId:e,gdbVersion:t})}};S([Rt({mapLayer:"map-layer"})],ty.prototype,"type",void 0),S([M({type:fn,json:{write:!0}})],ty.prototype,"mapLayerId",void 0),S([M({type:String,json:{write:!0}})],ty.prototype,"gdbVersion",void 0),ty=BC=S([ue("esri.layers.support.source.MapLayerSource")],ty);var WC;let th=WC=class extends tt{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:n,geometryType:s}=this,u={workspaceId:e,query:t,oidFields:i,spatialReference:(n==null?void 0:n.clone())??void 0,geometryType:s};return new WC(u)}};S([Rt({queryTable:"query-table"})],th.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],th.prototype,"workspaceId",void 0),S([M({type:String,json:{write:!0}})],th.prototype,"query",void 0),S([M({type:String,json:{write:!0}})],th.prototype,"oidFields",void 0),S([M({type:li,json:{write:!0}})],th.prototype,"spatialReference",void 0),S([Rt(R5e)],th.prototype,"geometryType",void 0),th=WC=S([ue("esri.layers.support.source.QueryTableDataSource")],th);var JC;let iy=JC=class extends tt{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new JC({workspaceId:e,dataSourceName:t})}};S([Rt({raster:"raster"})],iy.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],iy.prototype,"dataSourceName",void 0),S([M({type:String,json:{write:!0}})],iy.prototype,"workspaceId",void 0),iy=JC=S([ue("esri.layers.support.source.RasterDataSource")],iy);var ZC;let x0=ZC=class extends tt{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new ZC({workspaceId:e,gdbVersion:t,dataSourceName:i})}};S([Rt({table:"table"})],x0.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],x0.prototype,"workspaceId",void 0),S([M({type:String,json:{write:!0}})],x0.prototype,"gdbVersion",void 0),S([M({type:String,json:{write:!0}})],x0.prototype,"dataSourceName",void 0),x0=ZC=S([ue("esri.layers.support.source.TableDataSource")],x0);var YC,KC;const yTe=Ts()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let oa=YC=class extends tt{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return MG()(e,t,i)}castLeftTableSource(e){return ml(XC(),e)}readRightTableSource(e,t,i){return MG()(e,t,i)}castRightTableSource(e){return ml(XC(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:n,joinType:s}=this,u={leftTableKey:e,rightTableKey:t,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(n==null?void 0:n.clone())??void 0,joinType:s};return new YC(u)}};S([Rt({joinTable:"join-table"})],oa.prototype,"type",void 0),S([M({type:String,json:{write:!0}})],oa.prototype,"leftTableKey",void 0),S([M({type:String,json:{write:!0}})],oa.prototype,"rightTableKey",void 0),S([M({json:{write:!0}})],oa.prototype,"leftTableSource",void 0),S([ht("leftTableSource")],oa.prototype,"readLeftTableSource",null),S([pn("leftTableSource")],oa.prototype,"castLeftTableSource",null),S([M({json:{write:!0}})],oa.prototype,"rightTableSource",void 0),S([ht("rightTableSource")],oa.prototype,"readRightTableSource",null),S([pn("rightTableSource")],oa.prototype,"castRightTableSource",null),S([Rt(yTe)],oa.prototype,"joinType",void 0),oa=YC=S([ue("esri.layers.support.source.JoinTableDataSource")],oa);let S8=null;function MG(){return S8||(S8=_g({types:XC()})),S8}let _8=null;function XC(){return _8||(_8={key:"type",base:null,typeMap:{"data-layer":Ql,"map-layer":ty}}),_8}const gTe={key:"type",base:null,typeMap:{"join-table":oa,"query-table":th,raster:iy,table:x0}};let Ql=KC=class extends tt{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new KC({fields:e,dataSource:t})}};S([Rt({dataLayer:"data-layer"})],Ql.prototype,"type",void 0),S([M({type:[gP],json:{write:!0}})],Ql.prototype,"fields",void 0),S([M({types:gTe,json:{write:!0}})],Ql.prototype,"dataSource",void 0),Ql=KC=S([ue("esri.layers.support.source.DataLayerSource")],Ql),Ql.from=ls(Ql);let S0=class extends Wi(tt){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};S([M({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],S0.prototype,"onFields",void 0),S([M({type:String,json:{write:!0}})],S0.prototype,"operator",void 0),S([M({type:String,json:{write:!0}})],S0.prototype,"searchTerm",void 0),S([M({type:String,json:{write:!0}})],S0.prototype,"searchType",void 0),S0=S([ue("esri.rest.support.FullTextSearch")],S0);const vTe=S0;var QC;const $G=new ki({upperLeft:"upper-left",lowerLeft:"lower-left"});let _0=QC=class extends tt{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new QC(ke({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};S([M({type:Yn,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],_0.prototype,"extent",void 0),S([M({type:["view","edit"],json:{write:!0}})],_0.prototype,"mode",void 0),S([M({type:String,json:{read:$G.read,write:$G.write}})],_0.prototype,"originPosition",void 0),S([M({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],_0.prototype,"tolerance",void 0),_0=QC=S([ue("esri.rest.support.QuantizationParameters")],_0);const bTe=_0,wTe=new ki({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var eA;const kG=new ki({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Bl=eA=class extends tt{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=ke(e))}clone(){return new eA({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:ke(this.statisticParameters)})}};S([M({type:Number,json:{write:!0}})],Bl.prototype,"maxPointCount",void 0),S([M({type:Number,json:{write:!0}})],Bl.prototype,"maxRecordCount",void 0),S([M({type:Number,json:{write:!0}})],Bl.prototype,"maxVertexCount",void 0),S([M({type:String,json:{write:!0}})],Bl.prototype,"onStatisticField",void 0),S([M({type:String,json:{write:!0}})],Bl.prototype,"outStatisticFieldName",void 0),S([M({type:String,json:{read:{source:"statisticType",reader:kG.read},write:{target:"statisticType",writer:kG.write}}})],Bl.prototype,"statisticType",void 0),S([M({type:Object})],Bl.prototype,"statisticParameters",void 0),S([vt("statisticParameters")],Bl.prototype,"writeStatisticParameters",null),Bl=eA=S([ue("esri.rest.support.StatisticDefinition")],Bl);const xTe=Bl;var fS;const STe=new ki({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Vt=fS=class extends tt{static from(e){return Vw(fS,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const n in e){const s=e[n];Array.isArray(s)?i[n]=s.map(u=>u instanceof Date?u.getTime():u):s instanceof Date?i[n]=s.getTime():i[n]=s}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new fS(ke({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Vt.MAX_MAX_RECORD_COUNT_FACTOR=5,S([M({json:{write:!0}})],Vt.prototype,"aggregateIds",void 0),S([M({type:Boolean,json:{write:!0}})],Vt.prototype,"cacheHint",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],Vt.prototype,"compactGeometryEnabled",void 0),S([M({json:{write:!0}})],Vt.prototype,"datumTransformation",void 0),S([pn("datumTransformation")],Vt.prototype,"castDatumTransformation",null),S([M({type:Boolean,json:{default:!1,write:!0}})],Vt.prototype,"defaultSpatialReferenceEnabled",void 0),S([M({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Vt.prototype,"distance",void 0),S([M({type:Ql,json:{write:!0}})],Vt.prototype,"dynamicDataSource",void 0),S([M({type:String,json:{write:!0}})],Vt.prototype,"formatOf3DObjects",void 0),S([M({type:[vTe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Vt.prototype,"fullText",void 0),S([M({type:String,json:{write:!0}})],Vt.prototype,"gdbVersion",void 0),S([M({types:Kw,json:{read:Yw,write:!0}})],Vt.prototype,"geometry",void 0),S([M({type:Number,json:{write:!0}})],Vt.prototype,"geometryPrecision",void 0),S([M({type:[String],json:{write:!0}})],Vt.prototype,"groupByFieldsForStatistics",void 0),S([M({type:String,json:{write:!0}})],Vt.prototype,"having",void 0),S([M({type:Date})],Vt.prototype,"historicMoment",void 0),S([vt("historicMoment")],Vt.prototype,"writeHistoricMoment",null),S([M({type:Number,json:{write:!0}})],Vt.prototype,"maxAllowableOffset",void 0),S([M({type:Number,cast:e=>e<1?1:e>Vt.MAX_MAX_RECORD_COUNT_FACTOR?Vt.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Vt.prototype,"maxRecordCountFactor",void 0),S([M({type:["xyFootprint"],json:{write:!0}})],Vt.prototype,"multipatchOption",void 0),S([M({type:Number,json:{read:{source:"resultRecordCount"}}})],Vt.prototype,"num",void 0),S([M({json:{write:!0}})],Vt.prototype,"objectIds",void 0),S([M({type:[String],json:{write:!0}})],Vt.prototype,"orderByFields",void 0),S([M({type:[String],json:{write:!0}})],Vt.prototype,"outFields",void 0),S([M({type:li,json:{name:"outSR",write:!0}})],Vt.prototype,"outSpatialReference",void 0),S([M({type:[xTe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Vt.prototype,"outStatistics",void 0),S([M({json:{write:!0}})],Vt.prototype,"parameterValues",void 0),S([vt("parameterValues")],Vt.prototype,"writeParameterValues",null),S([M({type:gi,json:{write:!0}})],Vt.prototype,"pixelSize",void 0),S([M({type:bTe,json:{write:!0}})],Vt.prototype,"quantizationParameters",void 0),S([M({type:[Object],json:{write:!0}})],Vt.prototype,"rangeValues",void 0),S([M({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Vt.prototype,"relationParameter",void 0),S([M({type:String,json:{write:!0}})],Vt.prototype,"resultType",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],Vt.prototype,"returnCentroid",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],Vt.prototype,"returnDistinctValues",void 0),S([M({type:Boolean,json:{default:!0,write:!0}})],Vt.prototype,"returnExceededLimitFeatures",void 0),S([M({type:Boolean,json:{write:!0}})],Vt.prototype,"returnGeometry",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],Vt.prototype,"returnQueryGeometry",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],Vt.prototype,"returnM",void 0),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vt.prototype,"returnZ",void 0),S([M({type:li,json:{write:!0}})],Vt.prototype,"sourceSpatialReference",void 0),S([Rt(wTe,{ignoreUnknown:!1,name:"spatialRel"})],Vt.prototype,"spatialRelationship",void 0),S([M({type:Number,json:{read:{source:"resultOffset"}}})],Vt.prototype,"start",void 0),S([vt("start"),vt("num")],Vt.prototype,"writeStart",null),S([M({type:String,json:{write:!0}})],Vt.prototype,"sqlFormat",void 0),S([M({type:String,json:{write:!0}})],Vt.prototype,"text",void 0),S([M({type:Kf,json:{write:!0}})],Vt.prototype,"timeExtent",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],Vt.prototype,"timeReferenceUnknownClient",void 0),S([Rt(STe,{ignoreUnknown:!1}),M({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],Vt.prototype,"units",void 0),S([M({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Vt.prototype,"where",void 0),S([vt("where")],Vt.prototype,"writeWhere",null),Vt=fS=S([ue("esri.rest.support.Query")],Vt);const hp=Vt;var tA;const E8=new ki({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),T8=new ki({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Wc=tA=class extends tt{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:n,timeExtent:s,objectIds:u,units:p,distance:g}=this;return new hp({geometry:ke(i),objectIds:ke(u),spatialRelationship:n,timeExtent:ke(s),where:t,units:p,distance:g,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:n,objectIds:s,units:u,distance:p}=this;return new tA({geometry:ke(t),objectIds:ke(s),spatialRelationship:i,timeExtent:ke(n),where:e,units:u,distance:p})}};S([M({type:String,json:{write:!0}})],Wc.prototype,"where",void 0),S([M({types:Kw,json:{write:!0}})],Wc.prototype,"geometry",void 0),S([M({type:E8.apiValues,json:{name:"spatialRel",read:{reader:E8.read},write:{allowNull:!1,writer:E8.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],Wc.prototype,"spatialRelationship",void 0),S([M({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Wc.prototype,"distance",void 0),S([M({type:[Number],json:{write:!0}})],Wc.prototype,"objectIds",void 0),S([M({type:T8.apiValues,json:{read:T8.read,write:{writer:T8.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Wc.prototype,"units",void 0),S([M({type:Kf,json:{write:!0}})],Wc.prototype,"timeExtent",void 0),Wc=tA=S([ue("esri.layers.support.FeatureFilter")],Wc);const _Te=Wc;var iA;const CG={read:{reader:_w},write:{writer:Ew,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},AG={read:{reader:_w},write:{writer:Ew,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},OG={name:"showExcludedLabels",default:!0};let E0=iA=class extends tt{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var n,s;const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const u=Object.keys(i.filter);if(u.length>1||u[0]!=="where")return(n=t.messages)==null||n.push(new ze("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return(s=t.messages)==null||s.push(new ze("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new iA({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};S([M({type:_Te,json:{write:{allowNull:!0,writer(e,t,i,n){const s=e==null?void 0:e.write({},n);s&&Object.keys(s).length!==0?Zs(i,s,t):Zs(i,null,t)}}}})],E0.prototype,"filter",void 0),S([M({json:{read:_w,write:{writer:Ew,allowNull:!0},origins:{"web-map":CG,"portal-item":CG}}})],E0.prototype,"includedEffect",void 0),S([M({json:{read:_w,write:{writer:Ew,allowNull:!0},origins:{"web-map":AG,"portal-item":AG}}})],E0.prototype,"excludedEffect",void 0),S([M({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":OG,"portal-item":OG}}})],E0.prototype,"excludedLabelsVisible",void 0),E0=iA=S([ue("esri.layers.support.FeatureEffect")],E0);const ETe=E0,IG={write:{allowNull:!0}},TTe={type:ETe,json:{origins:{"web-map":IG,"portal-item":IG}}},MTe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return S([M(TTe)],t.prototype,"featureEffect",void 0),t=S([ue("esri.layers.mixins.FeatureEffectLayer")],t),t};var n2;const H4=Ts()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),zte=H4.jsonValues.slice();y1e(zte,"orthometric");const U2=Ts()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Wl=n2=class extends tt{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return H4.write(e,t,i)}readHeightModel(e,t,i){return H4.read(e)||(i!=null&&i.messages&&i.messages.push($Te(e,{context:i})),null)}readHeightUnit(e,t,i){return U2.read(e)||(i!=null&&i.messages&&i.messages.push(PG(e,{context:i})),null)}readHeightUnitService(e,t,i){return AZ(e)||U2.read(e)||(i!=null&&i.messages&&i.messages.push(PG(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new n2({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=OZ(t);return new n2({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new n2;return t.read(e,{origin:"web-scene"}),t}};function PG(e,t){return new dc("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function $Te(e,t){return new dc("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}S([M({type:H4.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:zte,default:"ellipsoidal"}}}})],Wl.prototype,"heightModel",void 0),S([vt("web-scene","heightModel")],Wl.prototype,"writeHeightModel",null),S([ht(["web-scene","service"],"heightModel")],Wl.prototype,"readHeightModel",null),S([M({type:U2.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:U2.jsonValues,write:U2.write}}}})],Wl.prototype,"heightUnit",void 0),S([ht("web-scene","heightUnit")],Wl.prototype,"readHeightUnit",null),S([ht("service","heightUnit")],Wl.prototype,"readHeightUnitService",null),S([M({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Wl.prototype,"vertCRS",void 0),S([ht("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Wl.prototype,"readVertCRS",null),Wl=n2=S([ue("esri.geometry.HeightModelInfo")],Wl);const kTe=Wl;var nA;let r2=nA=class extends tt{constructor(e){super(e)}async collectRequiredFields(e,t){return Ys(e,t,this.expression)}clone(){return new nA({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};S([M({type:String,json:{write:!0}})],r2.prototype,"expression",void 0),S([M({type:String,json:{write:!0}})],r2.prototype,"title",void 0),r2=nA=S([ue("esri.symbols.support.FeatureExpressionInfo")],r2);const RG=r2;function XHe(e){return!!e&&c6[e]!=null}function CTe(e){return 1/(c6[e]||1)}function ATe(){const e=Object.keys(c6);return k_(e,"decimal-degrees"),e.sort(),e}const OTe=ATe();var rA;const Ox=Ts()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),DG=new ki({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let ih=rA=class extends tt{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,i,n){t[i]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new rA({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&sJ(this.featureExpressionInfo,e.featureExpressionInfo)}};S([M({type:RG,json:{write:!0}})],ih.prototype,"featureExpressionInfo",void 0),S([ht("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],ih.prototype,"readFeatureExpressionInfo",null),S([vt("featureExpressionInfo",{featureExpressionInfo:{type:RG},"featureExpression.value":{type:[0]}})],ih.prototype,"writeFeatureExpressionInfo",null),S([M({type:Ox.apiValues,nonNullable:!0,json:{type:Ox.jsonValues,read:Ox.read,write:{writer:Ox.write,isRequired:!0}}})],ih.prototype,"mode",null),S([M({type:Number,json:{write:!0}})],ih.prototype,"offset",void 0),S([M({type:OTe,json:{type:String,read:DG.read,write:DG.write}})],ih.prototype,"unit",null),ih=rA=S([ue("esri.symbols.support.ElevationInfo")],ih);const jte=ih;let ny=class extends tt{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};S([M({type:String,json:{write:!0}})],ny.prototype,"description",void 0),S([M({type:String,json:{write:!0}})],ny.prototype,"label",void 0),S([M()],ny.prototype,"type",void 0),ny=S([ue("esri.tables.elements.AttributeTableElement")],ny);const cg=ny;var sA;let s2=sA=class extends cg{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new sA({description:this.description,displayType:this.displayType,label:this.label})}};S([M({type:["auto"],json:{write:!0}})],s2.prototype,"displayType",void 0),S([M({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],s2.prototype,"type",void 0),s2=sA=S([ue("esri.tables.elements.AttributeTableAttachmentElement")],s2);const NG=s2;var oA;let o2=oA=class extends cg{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new oA({description:this.description,fieldName:this.fieldName,label:this.label})}};S([M({type:String,json:{write:!0}})],o2.prototype,"fieldName",void 0),S([M({type:String,json:{read:!1,write:!0}})],o2.prototype,"type",void 0),o2=oA=S([ue("esri.tables.elements.AttributeTableFieldElement")],o2);const LG=o2;var aA;let a2=aA=class extends cg{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new aA({description:this.description,label:this.label,relationshipId:this.relationshipId})}};S([M({type:Number,json:{write:!0}})],a2.prototype,"relationshipId",void 0),S([M({type:["relationship"],json:{read:!1,write:!0}})],a2.prototype,"type",void 0),a2=aA=S([ue("esri.tables.elements.AttributeTableRelationshipElement")],a2);const zG=a2;function Fte(e){return{typesWithGroup:{base:cg,key:"type",typeMap:{attachment:NG,field:LG,group:e,relationship:zG}},typesWithoutGroup:{base:cg,key:"type",typeMap:{attachment:NG,field:LG,relationship:zG}}}}function Ute(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>n[s.type]).map(s=>n[s.type].fromJSON(s))}function Vte(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>n[s.type]).map(s=>s.toJSON())}function Gte(e,t,i=!0){return e?e.map(n=>ml(i?t.typesWithGroup:t.typesWithoutGroup,n)):null}var lA;let bh=lA=class extends cg{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return Gte(e,M8,!1)}readElements(e,t){return Ute(t.attributeTableElements,M8,!1)}writeElements(e,t){t.attributeTableElements=Vte(e,M8,!1)}clone(){return new lA({description:this.description,elements:ke(this.elements),label:this.label})}};S([M({json:{write:!0}})],bh.prototype,"elements",void 0),S([pn("elements")],bh.prototype,"castElements",null),S([ht("elements",["attributeTableElements"])],bh.prototype,"readElements",null),S([vt("elements")],bh.prototype,"writeElements",null),S([M({type:String,json:{read:!1,write:!0}})],bh.prototype,"type",void 0),bh=lA=S([ue("esri.tables.elements.AttributeTableGroupElement")],bh);const M8=Fte(bh),ITe=bh;var cA;const $8=Fte(ITe);let tf=cA=class extends tt{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return Gte(e,$8)}readElements(e,t){return Ute(t.attributeTableElements,$8)}writeElements(e,t){t.attributeTableElements=Vte(e,$8)}clone(){return new cA({elements:ke(this.elements),orderByFields:this.orderByFields})}};S([M({json:{write:!0}})],tf.prototype,"elements",void 0),S([pn("elements")],tf.prototype,"castElements",null),S([ht("elements",["attributeTableElements"])],tf.prototype,"readElements",null),S([vt("elements")],tf.prototype,"writeElements",null),S([M({type:[Object],json:{write:!0}})],tf.prototype,"orderByFields",void 0),tf=cA=S([ue("esri.tables.AttributeTableTemplate")],tf);const PTe=tf,RTe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:ss}}},_P={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},EP={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:ss}}},DTe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:b1}}},NTe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:ss}}},LTe={value:null,type:jte,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:ss}}};function eqe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Hte={write:{enabled:!0,layerContainerTypes:ss},read:!0},uA={type:Number,json:{origins:{"web-document":Hte,"portal-item":{write:!0}}}},zTe={...uA,json:{...uA.json,origins:{"web-document":{...Hte,write:{enabled:!0,layerContainerTypes:ss,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>{var n;return i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(n=t.layerDefinition)!=null&&n.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?U4(t.layerDefinition.drawingInfo.transparency):void 0:U4(t.drawingInfo.transparency)}}}},tqe={type:Yn,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=Yn.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=li.fromJSON(t.spatialReference)),i}}}},read:!1}},jTe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},FTe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:ss}}},name:"layerDefinition.minScale",write:!0}},UTe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:ss}}},name:"layerDefinition.maxScale",write:!0}},qte={json:{write:{ignoreOrigin:!0,layerContainerTypes:ss},origins:{"web-map":{read:!1,write:!1}}}},VTe={type:PTe,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};let nh=class extends Wi(tt){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};S([M()],nh.prototype,"creatorField",void 0),S([M()],nh.prototype,"creationDateField",void 0),S([M()],nh.prototype,"editorField",void 0),S([M()],nh.prototype,"editDateField",void 0),S([M()],nh.prototype,"realm",void 0),S([M(C4("dateFieldsTimeReference",!0))],nh.prototype,"timeZone",void 0),nh=S([ue("esri.layers.support.EditFieldsInfo")],nh);const GTe=nh;let Qc=class extends Wi(tt){constructor(t){super(t)}};S([M({constructOnly:!0,json:{write:!0}})],Qc.prototype,"name",void 0),S([M({constructOnly:!0,json:{write:!0}})],Qc.prototype,"fields",void 0),S([M({constructOnly:!0,json:{write:!0}})],Qc.prototype,"isAscending",void 0),S([M({constructOnly:!0,json:{write:!0}})],Qc.prototype,"indexType",void 0),S([M({constructOnly:!0,json:{write:!0}})],Qc.prototype,"isUnique",void 0),S([M({constructOnly:!0,json:{write:!0}})],Qc.prototype,"description",void 0),Qc=S([ue("esri.layers.support.FeatureIndex")],Qc);async function HTe(e,t,i){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=Bte(e));const n=qTe(e),s=e.capabilities.query.supportsPagination;t.start=0,t.num=n;let u=null;for(;;){const p=await e.source.queryFeaturesJSON(t,i);if(u==null?u=p:u.features=u.features.concat(p.features),u.exceededTransferLimit=p.exceededTransferLimit,!s||!p.exceededTransferLimit)break;t.start+=n}return u}function qTe(e){return Bte(e)*BTe(e)}function BTe(e){return e.capabilities.query.maxRecordCount||2e3}function Bte(e){return e.capabilities.query.supportsMaxRecordCountFactor?hp.MAX_MAX_RECORD_COUNT_FACTOR:1}var hA;let Qr=hA=class extends tt{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new hA(ke({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};S([M({type:[String],json:{write:!0}})],Qr.prototype,"attachmentTypes",void 0),S([M({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Qr.prototype,"attachmentsWhere",void 0),S([M({type:Boolean,json:{write:!0}})],Qr.prototype,"cacheHint",void 0),S([M({type:[String],json:{write:!0}})],Qr.prototype,"keywords",void 0),S([M({type:[String],json:{write:!0}})],Qr.prototype,"globalIds",void 0),S([M({json:{write:!0}})],Qr.prototype,"name",void 0),S([M({type:Number,json:{read:{source:"resultRecordCount"}}})],Qr.prototype,"num",void 0),S([M({type:[Number],json:{write:!0}})],Qr.prototype,"objectIds",void 0),S([M({type:Boolean,json:{default:!1,write:!0}})],Qr.prototype,"returnMetadata",void 0),S([M({type:[Number],json:{write:!0}})],Qr.prototype,"size",void 0),S([M({type:Number,json:{read:{source:"resultOffset"}}})],Qr.prototype,"start",void 0),S([vt("start"),vt("num")],Qr.prototype,"writeStart",null),S([M({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Qr.prototype,"where",void 0),Qr=hA=S([ue("esri.rest.support.AttachmentQuery")],Qr),Qr.from=ls(Qr);const WTe=Qr;var dA;let Fn=dA=class extends tt{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new dA(ke({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};S([M({type:Boolean,json:{write:!0}})],Fn.prototype,"cacheHint",void 0),S([M({type:Ql,json:{write:!0}})],Fn.prototype,"dynamicDataSource",void 0),S([M({type:String,json:{write:!0}})],Fn.prototype,"gdbVersion",void 0),S([M({type:Number,json:{write:!0}})],Fn.prototype,"geometryPrecision",void 0),S([M({type:Date})],Fn.prototype,"historicMoment",void 0),S([vt("historicMoment")],Fn.prototype,"_writeHistoricMoment",null),S([M({type:Number,json:{write:!0}})],Fn.prototype,"maxAllowableOffset",void 0),S([M({json:{write:!0}})],Fn.prototype,"objectIds",void 0),S([M({type:[String],json:{write:!0}})],Fn.prototype,"orderByFields",void 0),S([M({type:[String],json:{write:!0}})],Fn.prototype,"outFields",void 0),S([M({type:li,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Fn.prototype,"outSpatialReference",void 0),S([M({json:{write:!0}})],Fn.prototype,"relationshipId",void 0),S([M({type:Number,json:{read:{source:"resultOffset"}}})],Fn.prototype,"start",void 0),S([vt("start"),vt("num")],Fn.prototype,"writeStart",null),S([M({type:Number,json:{read:{source:"resultRecordCount"}}})],Fn.prototype,"num",void 0),S([M({json:{write:!0}})],Fn.prototype,"returnGeometry",void 0),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Fn.prototype,"returnM",void 0),S([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Fn.prototype,"returnZ",void 0),S([M({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Fn.prototype,"where",void 0),Fn=dA=S([ue("esri.rest.support.RelationshipQuery")],Fn),Fn.from=ls(Fn);const TP=Fn,rqe=Object.freeze(Object.defineProperty({__proto__:null,default:TP},Symbol.toStringTag,{value:"Module"})),fA=new ki({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function JTe(e,t,i,n){const s=await dp(e);if(await MP(e,t,n),!s.addAttachment)throw new ze(n,"Layer source does not support addAttachment capability");return s.addAttachment(t,i)}function MP(e,t,i){var u,p;const{attributes:n}=t,{objectIdField:s}=e;return(p=(u=e.capabilities)==null?void 0:u.data)!=null&&p.supportsAttachment?t?n?s&&n[s]?Promise.resolve():Promise.reject(new ze(i,`feature is missing the identifying attribute ${s}`)):Promise.reject(new ze(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new ze(i,"A feature is required to add/delete/update attachments")):Promise.reject(new ze(i,"this layer doesn't support attachments"))}async function ZTe(e,t,i,n,s){const u=await dp(e);if(await MP(e,t,s),!u.updateAttachment)throw new ze(s,"Layer source does not support updateAttachment capability");return u.updateAttachment(t,i,n)}async function YTe(e,t,i){const{applyEdits:n}=await rt(()=>import("./editingSupport-DT4JJLRd.js"),__vite__mapDeps([230,16,17,18,19,69]),import.meta.url),s=await e.load();let u=i;return s.type==="feature"&&s.infoFor3D&&t.deleteFeatures!=null&&s.globalIdField!=null&&(u={...u,globalIdToObjectId:await y8e(s,t.deleteFeatures,s.globalIdField)}),n(s,s.source,t,i)}async function KTe(e,t,i){const{uploadAssets:n}=await rt(()=>import("./editingSupport-DT4JJLRd.js"),__vite__mapDeps([230,16,17,18,19,69]),import.meta.url),s=await e.load();return n(s,s.source,t,i)}async function XTe(e,t,i,n){const s=await dp(e);if(await MP(e,t,n),!s.deleteAttachments)throw new ze(n,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(t,i)}async function QTe(e,t,i){const n=(await e.load({signal:t==null?void 0:t.signal})).source;if(!n.fetchRecomputedExtents)throw new ze(i,"Layer source does not support fetchUpdates capability");return n.fetchRecomputedExtents(t)}async function e8e(e,t,i,n){var F,q;t=WTe.from(t),await e.load();const s=e.source,u=e.capabilities;if(!((F=u==null?void 0:u.data)!=null&&F.supportsAttachment))throw new ze(n,"this layer doesn't support attachments");const{attachmentTypes:p,objectIds:g,globalIds:w,num:E,size:A,start:I,where:R}=t;if(!((q=u==null?void 0:u.operations)!=null&&q.supportsQueryAttachments)&&((p==null?void 0:p.length)>0||(w==null?void 0:w.length)>0||(A==null?void 0:A.length)>0||E||I||R))throw new ze(n,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(g!=null&&g.length||w!=null&&w.length||R))throw new ze(n,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!s.queryAttachments)throw new ze(n,"Layer source does not support queryAttachments capability",t);return s.queryAttachments(t)}async function t8e(e,t,i,n){const s=await dp(e);if(!s.queryObjectIds)throw new ze(n,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(hp.from(t)??e.createQuery(),i)}async function i8e(e,t,i,n){const s=await dp(e);if(!s.queryFeatureCount)throw new ze(n,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(hp.from(t)??e.createQuery(),i)}async function n8e(e,t,i,n){const s=await dp(e);if(!s.queryExtent)throw new ze(n,"Layer source does not support queryExtent capability");return s.queryExtent(hp.from(t)??e.createQuery(),i)}async function r8e(e,t,i,n){const s=await dp(e);if(!s.queryRelatedFeatures)throw new ze(n,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(TP.from(t),i)}async function s8e(e,t,i,n){const s=await dp(e);if(!s.queryRelatedFeaturesCount)throw new ze(n,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(TP.from(t),i)}async function o8e(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:i,updates:n}=await t.refresh();if(n!=null&&(e.sourceJSON={...e.sourceJSON,...n},e.read(n,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await mX(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function a8e(e){var p,g;const t=new hp,i=(p=e.capabilities)==null?void 0:p.data,n=(g=e.capabilities)==null?void 0:g.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference),i&&(i.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),i.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:s,timeExtent:u}=e;return t.timeExtent=s!=null&&u!=null?u.offset(-s.value,s.unit):u||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function Wte(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i){for(const n of i)if(n.type==="esriFieldTypeGlobalID")return n.name}}function Jte(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i){for(const n of i)if(n.type==="esriFieldTypeOID")return n.name}}function l8e(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function c8e(e,t){const{subtypes:i,subtypeField:n}=e;if(!(t!=null&&t.attributes)||!(i!=null&&i.length)||!n)return null;const s=t.attributes[n];return s==null?null:i.find(u=>u.code===s)}function u8e(e,t){var p,g;const{fieldsIndex:i,subtypeField:n}=e,{name:s,type:u}=i.get(t)??{};if(!s)return null;if((n&&((p=i.get(n))==null?void 0:p.name))===s&&((g=e.subtypes)!=null&&g.length)){const w=e.subtypes.map(E=>new V0({code:Zte(E.code,u),name:E.name}));if(w!=null&&w.length)return new x6({codedValues:w})}return null}function h8e(e,t){var u,p;const{fieldsIndex:i}=e,{name:n,type:s}=i.get(t)??{};if(!n)return null;if(("typeIdField"in e?(u=i.get(e.typeIdField))==null?void 0:u.name:null)===n&&"types"in e&&((p=e.types)!=null&&p.length)){const g=e.types.map(w=>new V0({code:Zte(w.id,s),name:w.name}));return new x6({codedValues:g})}return null}function Zte(e,t){return t?PX({type:t})&&typeof e=="number"?`${e}`:Txe({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function dp(e){return(await e.load()).source}async function d8e(e,t){if(!ai||ai.findCredential(e))return;let i;try{const n=await KQ(e,t);n&&(i=await ai.checkSignInStatus(`${n}/sharing`))}catch{}if(i)try{const n=t!=null?t.signal:null;await ai.getCredential(e,{signal:n})}catch{}}async function f8e(e,t,i){var s;const n=(s=e.parsedUrl)==null?void 0:s.path;n&&e.authenticationTriggerEvent===t&&await d8e(n,i)}function p8e(e){return!pS(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const k8=_g({types:DQ});function $P(e,t){var i;if(e.defaultSymbol)return(i=e.types)!=null&&i.length?new pP({defaultSymbol:k8(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(n=>({id:n.id,symbol:k8(n.symbol,n,t)}))}):new Ug({symbol:k8(e.defaultSymbol,e,t)})}function m8e(e){var n,s,u;let t=(n=e.sourceJSON)==null?void 0:n.cacheMaxAge;if(!t)return!1;const i=(u=(s=e.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:u.getTime();return i==null||(t*=1e3,Date.now()-i<t)}async function y8e(e,t,i){if(t==null)return null;const n=[],{objectIdField:s}=e;if(t.forEach(E=>{let A=null;if("attributes"in E){const{attributes:I}=E;A={globalId:I[i],objectId:I[s]!=null&&I[s]!==-1?I[s]:null}}else A={globalId:E.globalId,objectId:E.objectId!=null&&E.objectId!==-1?E.objectId:null};A.globalId!=null&&(A.objectId!=null&&A.objectId!==-1||n.push(A.globalId))}),n.length===0)return null;const u=e.createQuery();u.where=n.map(E=>`${i}='${E}'`).join(" OR "),u.returnGeometry=!1,u.outFields=[s,i],u.cacheHint=!1;const p=await uwe(HTe(e,u));if(!p.ok)return null;const g=new Map,w=p.value.features;for(const E of w){const A=E.attributes[i],I=E.attributes[s];A!=null&&I!=null&&I!==-1&&g.set(xwe(A),I)}return g}function g8e(e,t,i){if(!t||!i||!e)return null;const n=i.getAttribute(t);return n==null?null:e.find(s=>{const{id:u}=s;return u!=null&&u.toString()===n.toString()})??null}function pS(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||v8e(e)}function v8e(e){var t,i;return!!((i=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&i.toLowerCase().split(",").map(n=>n.trim()).includes("map"))}function b8e(e,t,i){const n=t==null?void 0:t.queryBins;if(!n)throw new ze(i,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!n.supportsAutoInterval)throw new ze(i,"Layer source does not support auto-interval binning");break;case"date":if(!n.supportsDate)throw new ze(i,"Layer source does not support date binning");break;case"fixed-boundaries":if(!n.supportsFixedBoundaries)throw new ze(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!n.supportsFixedInterval)throw new ze(i,"Layer source does not support fixed-interval binning")}const s=n==null?void 0:n.supportedStatistics;if(e.outStatistics&&s){const u=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:p}of e.outStatistics){const g=u.get(p);if(g&&!s[g])throw new ze(i,`Layer source does not support ${p} statistic type`)}}}let ry=class extends Wi(tt){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};S([M({type:String,json:{read:{source:"shapeAreaFieldName"}}})],ry.prototype,"shapeAreaField",void 0),S([M({type:String,json:{read:{source:"shapeLengthFieldName"}}})],ry.prototype,"shapeLengthField",void 0),S([M({type:String,json:{read:e=>Qge.read(e)||eve.read(e)}})],ry.prototype,"units",void 0),ry=S([ue("esri.layers.support.GeometryFieldsInfo")],ry);const w8e=ry;var pA;let sy=pA=class extends tt{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Bt}clone(){return new pA({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};S([M({type:String,json:{write:!0}})],sy.prototype,"floorField",void 0),S([M({json:{read:!1,write:!1}})],sy.prototype,"viewAllMode",void 0),S([M({json:{read:!1,write:!1}})],sy.prototype,"viewAllLevelIds",void 0),sy=pA=S([ue("esri.layers.support.LayerFloorInfo")],sy);const x8e=sy,jG=new ki({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),FG=new ki({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Ka=class extends Wi(tt){constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};S([M({json:{read:jG.read,write:jG.write}})],Ka.prototype,"cardinality",void 0),S([M({json:{read:!0,write:!0}})],Ka.prototype,"composite",void 0),S([M({json:{read:!0,write:!0}})],Ka.prototype,"id",void 0),S([M({json:{read:!0,write:!0}})],Ka.prototype,"keyField",void 0),S([M({json:{read:!0,write:!0}})],Ka.prototype,"keyFieldInRelationshipTable",void 0),S([M({json:{read:!0,write:!0}})],Ka.prototype,"name",void 0),S([M({json:{read:!0,write:!0}})],Ka.prototype,"relatedTableId",void 0),S([M({json:{read:!0,write:!0}})],Ka.prototype,"relationshipTableId",void 0),S([M({json:{read:FG.read,write:FG.write}})],Ka.prototype,"role",void 0),Ka=S([ue("esri.layers.support.Relationship")],Ka);const S8e=Ka;function Ot(e,t,i){return!!Yte(e,t,i)}function l2(e,t,i){return Yte(e,t,i)}function Yte(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}const _8e={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function E8e(e){var i;const t=(i=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:i.map(n=>n.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function y3(e,t){var n;const i=(n=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:n.map(s=>s.toLowerCase());return!!(i!=null&&i.includes(t.toLowerCase()))}function T8e(e){var i;const t=(i=e==null?void 0:e.supportedStatisticTypes)==null?void 0:i.map(n=>n.toLowerCase());return{count:!!(t!=null&&t.includes("count")),sum:!!(t!=null&&t.includes("sum")),min:!!(t!=null&&t.includes("min")),max:!!(t!=null&&t.includes("max")),avg:!!(t!=null&&t.includes("avg")),var:!!(t!=null&&t.includes("var")),stddev:!!(t!=null&&t.includes("stddev")),percentileContinuous:!!(t!=null&&t.includes("percentile_continuous")),percentileDiscrete:!!(t!=null&&t.includes("percentile_discrete")),envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function Kte(e,t){return{analytics:M8e(e),attachment:$8e(e),data:k8e(e),metadata:C8e(e),operations:A8e(e.capabilities,e,t),query:O8e(e,t),queryBins:R8e(e),queryRelated:I8e(e),queryTopFeatures:P8e(e),editing:D8e(e)}}function M8e(e){return{supportsCacheHint:y3(e.advancedQueryCapabilities,"queryAnalytics")}}function $8e(e){const t=e.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:y3(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:Ot(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(n=>{const s=_8e[n.name];s&&(i[s]=!!n.isEnabled)}),i}function k8e(e){return{isVersioned:Ot(e,"isDataVersioned",!1),isBranchVersioned:Ot(e,"isDataBranchVersioned",!1),supportsAttachment:Ot(e,"hasAttachments",!1),supportsM:Ot(e,"hasM",!1),supportsZ:Ot(e,"hasZ",!1)}}function C8e(e){return{supportsAdvancedFieldProperties:Ot(e,"supportsFieldDescriptionProperty",!1)}}function A8e(e,t,i){const n=e?e.toLowerCase().split(",").map(R=>R.trim()):[],s=i?p3(i):null,u=n.includes(s!=null&&s.serverType==="MapServer"?"data":"query"),p=n.includes("editing")&&!t.datesInUnknownTimezone;let g=p&&n.includes("create"),w=p&&n.includes("delete"),E=p&&n.includes("update");const A=n.includes("changetracking"),I=t.advancedQueryCapabilities;return p&&!(g||w||E)&&(g=w=E=!0),{supportsCalculate:Ot(t,"supportsCalculate",!1),supportsTruncate:Ot(t,"supportsTruncate",!1),supportsValidateSql:Ot(t,"supportsValidateSql",!1),supportsAdd:g,supportsDelete:w,supportsEditing:p,supportsChangeTracking:A,supportsQuery:u,supportsQueryAnalytics:Ot(I,"supportsQueryAnalytic",!1),supportsQueryAttachments:Ot(I,"supportsQueryAttachments",!1),supportsQueryBins:Ot(I,"supportsQueryBins",!1),supportsQueryTopFeatures:Ot(I,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Ot(t,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),supportsUpdate:E,supportsExceedsLimitStatistics:Ot(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:Ot(t,"supportsAsyncConvert3D",!1)}}function O8e(e,t){const i=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,s=e.archivingInfo,u=e.currentVersion,p=t==null?void 0:t.includes("MapServer"),g=!p||u>=Ge("mapserver-pbf-version-support"),w=pte(t),E=new Set((e.supportedQueryFormats??"").split(",").map(A=>A.toLowerCase().trim()));return{maxRecordCount:l2(e,"maxRecordCount",void 0),maxRecordCountFactor:l2(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:l2(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:E8e(i),supportsCacheHint:Ot(i,"supportsQueryWithCacheHint",!1)||y3(i,"query"),supportsCentroid:Ot(i,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:w,supportsDefaultSpatialReference:Ot(i,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:Ot(i,"supportsDisjointSpatialRel",!1),supportsDistance:Ot(i,"supportsQueryWithDistance",!1),supportsDistinct:Ot(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Ot(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:g&&E.has("pbf"),supportsFullTextSearch:Ot(i,"supportsFullTextSearch",!1),supportsGeometryProperties:Ot(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ot(i,"supportsHavingClause",!1),supportsHistoricMoment:Ot(s,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:Ot(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:Ot(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Ot(i,"supportsPagination",!1),supportsPercentileStatistics:Ot(i,"supportsPercentileStatistics",!1),supportsQuantization:Ot(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ot(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:Ot(n,"allowAnonymousToQuery",!0),supportsQueryByOthers:Ot(n,"allowOthersToQuery",!0),supportsQueryGeometry:Ot(e,"supportsReturningQueryGeometry",!1),supportsResultType:Ot(i,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:Ot(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:Ot(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ot(e,"useStandardizedQueries",!1),supportsStatistics:Ot(i,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:Ot(i,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:l2(e,"tileMaxRecordCount",void 0)}}function I8e(e){const t=e.advancedQueryCapabilities,i=Ot(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ot(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:y3(t,"queryRelated")}}function P8e(e){return{supportsCacheHint:y3(e.advancedQueryCapabilities,"queryTopFilter")}}function R8e(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:Ot(t,"supportsDateBin",!1),supportsFixedInterval:Ot(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:Ot(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:Ot(t,"supportsFixedBoundariesBin",!1),supportedStatistics:T8e(t)}}function D8e(e){const t=e.ownershipBasedAccessControlForFeatures,i=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:Ot(e,"allowGeometryUpdates",!0),supportsGlobalId:Ot(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Ot(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Ot(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ot(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ot(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ot(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ot(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ot(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ot(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:Ot(i,"supportsAsyncApplyEdits",!1),zDefault:l2(e,"zDefault",void 0)}}function aqe(e){var t;return{operations:{supportsAppend:Ot(e,"supportsAppend",!1),supportsCoverageQuery:((t=e==null?void 0:e.playbackInfo)==null?void 0:t.klv["0601"])??!1,supportsExportClip:Ot(e,"supportsExportClip",!1),supportsExportFrameset:Ot(e,"supportsExportFrameset",!1),supportsMensuration:Ot(e,"supportsMensuration",!1),supportsUpdate:Ot(e,"supportsUpdate",!1)}}}let rh=class extends Wi(tt){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const i={};for(const n of Object.keys(t))i[n]=S6(t[n]);return i}writeDomains(t,i){var s;if(!t)return;const n={};for(const u of Object.keys(t))t[u]&&(n[u]=(s=t[u])==null?void 0:s.toJSON());i.domains=n}};S([M({type:Number,json:{write:!0}})],rh.prototype,"code",void 0),S([M({type:Object,json:{write:!0}})],rh.prototype,"defaultValues",void 0),S([M({json:{write:!0}})],rh.prototype,"domains",void 0),S([ht("domains")],rh.prototype,"readDomains",null),S([vt("domains")],rh.prototype,"writeDomains",null),S([M({type:String,json:{write:!0}})],rh.prototype,"name",void 0),rh=S([ue("esri.layers.support.Subtype")],rh);const N8e=rh,L8e=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(Bt.ofType(Qc)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=li.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){var s;if(!this.url)return null;const{capabilities:i}=this;if(i){const{query:u,operations:p,editing:g}=i;if(!u.supportsQueryByOthers||!u.supportsQueryByAnonymous||p.supportsEditing&&!(g.supportsUpdateByOthers&&g.supportsUpdateByAnonymous&&g.supportsDeleteByOthers&&g.supportsDeleteByAnonymous))return"load"}if((s=this.serviceDefinitionExpression)!=null&&s.toLowerCase().includes("current_user"))return"load";if(this.userHasUpdateItemPrivileges){if(m8e(this))return"load";if(this.hasUpdateItemRestrictions)return i.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const n=this.editFieldsInfo;return(n!=null&&n.creatorField||n!=null&&n.editorField)&&(i!=null&&i.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(i,n){return Kte(n,this.url)}readEditingInfo(i,n){const{editingInfo:s}=n;return s?{lastEditDate:s.lastEditDate!=null?new Date(s.lastEditDate):null}:null}get effectiveCapabilities(){const i=this.capabilities;if(!i)return null;const n=ke(i),{operations:s,editing:u}=n;return pS(this)?(this.userHasUpdateItemPrivileges&&(s.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=u.supportsDeleteByOthers=u.supportsGeometryUpdate=u.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=u.supportsGeometryUpdate=!0),n)}readGlobalIdFieldFromService(i,n){return Wte(n)}get hasFullEditingRestrictions(){const i=this.capabilities;if(!i||pS(this))return!1;const{operations:n,editing:s}=i;return n.supportsEditing&&!(n.supportsAdd&&n.supportsDelete&&n.supportsUpdate&&s.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const i=this.capabilities;if(!i)return!1;const{operations:n,editing:s}=i;return pS(this)?!n.supportsQuery:!(n.supportsAdd&&n.supportsDelete&&n.supportsEditing&&n.supportsQuery&&n.supportsUpdate&&s.supportsDeleteByOthers&&s.supportsGeometryUpdate&&s.supportsUpdateByOthers)}readIsTableFromService(i,n){return n.type==="Table"}readMaxScale(i,n){return n.effectiveMaxScale||i||0}readMinScale(i,n){return n.effectiveMinScale||i||0}readObjectIdFieldFromService(i,n){return Jte(n)}readServiceDefinitionExpression(i,n){return n.definitionQuery||n.definitionExpression}set url(i){if(i==null)return void this._set("url",i);const n=NEe({layer:this,url:i,nonStandardUrlAllowed:!0,logger:xt.getLogger(this)});this._set("url",n.url),n.layerId!=null&&this._set("layerId",n.layerId)}writeUrl(i,n,s,u){LEe(this,i,null,n,u)}readVersion(i,n){return l8e(n)}};return S([M({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),S([M({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),S([M({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),S([ht("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),S([M(C4("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),S([M({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),S([M({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),S([M({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),S([M({readOnly:!0,type:GTe})],t.prototype,"editFieldsInfo",void 0),S([M({readOnly:!0})],t.prototype,"editingInfo",void 0),S([ht("editingInfo")],t.prototype,"readEditingInfo",null),S([M({readOnly:!0})],t.prototype,"effectiveCapabilities",null),S([M((()=>{const i=ke(LTe),n=i.json.origins;return n["web-map"]={read:!1,write:!1},n["portal-item"]={read:!1,write:!1},i})())],t.prototype,"elevationInfo",void 0),S([M({type:x8e,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:ss}}}}})],t.prototype,"floorInfo",void 0),S([M({type:Yn,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),S([M()],t.prototype,"gdbVersion",void 0),S([M({readOnly:!0,type:w8e,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),S([M({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:fA.read}}}})],t.prototype,"geometryType",void 0),S([M({type:String})],t.prototype,"globalIdField",void 0),S([ht("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),S([M({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),S([M({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),S([M({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),S([M({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),S([M({readOnly:!0,type:kTe})],t.prototype,"heightModelInfo",void 0),S([M({type:Date})],t.prototype,"historicMoment",void 0),S([M({type:Bt.ofType(Qc),readOnly:!0})],t.prototype,"indexes",void 0),S([M({readOnly:!0})],t.prototype,"isTable",void 0),S([ht("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),S([M({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),S([M(UTe)],t.prototype,"maxScale",void 0),S([ht("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),S([M(FTe)],t.prototype,"minScale",void 0),S([ht("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),S([M({type:String})],t.prototype,"objectIdField",void 0),S([ht("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),S([M(C4("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),S([M({type:[S8e],readOnly:!0})],t.prototype,"relationships",void 0),S([M({type:Boolean})],t.prototype,"returnM",void 0),S([M({type:Boolean})],t.prototype,"returnZ",void 0),S([M({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),S([M({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),S([ht("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),S([M({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),S([M()],t.prototype,"sourceJSON",void 0),S([M({type:li,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),S([M({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),S([M({type:[N8e],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),S([M({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),S([M(DTe)],t.prototype,"url",null),S([vt("url")],t.prototype,"writeUrl",null),S([M({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),S([ht("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=S([ue("esri.layers.mixins.FeatureLayerBase")],t),t};let oy=class extends Wi(tt){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};S([M({type:String,json:{write:!0}})],oy.prototype,"expression",void 0),S([M({type:String,json:{write:!0}})],oy.prototype,"title",void 0),S([M({type:String,json:{write:!0}})],oy.prototype,"returnType",void 0),oy=S([ue("esri.layers.support.ExpressionInfo")],oy);const kP=oy;var mA;let sh=mA=class extends tt{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new mA({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:ke(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};S([M({type:Boolean,json:{write:!0}})],sh.prototype,"isAutoGenerated",void 0),S([M({type:String,json:{write:!0}})],sh.prototype,"name",void 0),S([M({type:String,json:{write:!0}})],sh.prototype,"alias",void 0),S([M({type:String,json:{write:!0}})],sh.prototype,"onStatisticField",void 0),S([M({type:kP,json:{write:!0}})],sh.prototype,"onStatisticExpression",void 0),S([M({type:String,json:{write:!0}})],sh.prototype,"statisticType",void 0),sh=mA=S([ue("esri.layers.support.AggregateField")],sh);const x1=sh;let Lf=class extends tt{constructor(){super(...arguments),this.type=null}};S([M({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Lf.prototype,"type",void 0),Lf=S([ue("esri.layers.support.FeatureReduction")],Lf);const CP="__begin__",AP="__end__",z8e=new RegExp(CP,"ig"),j8e=new RegExp(AP,"ig"),UG=new RegExp("^"+CP,"i"),VG=new RegExp(AP+"$","i"),q4='"',F8e=q4+" + ",U8e=" + "+q4;function V8e(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function G8e(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function OP(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=V8e(e.labelExpression),t.type="conventional"),t}function H8e(e){const t=OP(e);if(!t)return null;switch(t.type){case"conventional":return yA(t.expression);case"arcade":return t.expression}return null}function q8e(e){const t=OP(e);if(!t)return null;switch(t.type){case"conventional":return W8e(t.expression);case"arcade":return Xte(t.expression)}return null}function yA(e){let t;return e?(t=C_(e,i=>CP+'$feature["'+i+'"]'+AP),t=UG.test(t)?t.replace(UG,""):q4+t,t=VG.test(t)?t.replace(VG,""):t+q4,t=t.replaceAll(z8e,F8e).replaceAll(j8e,U8e)):t='""',t}const B8e=/^\s*\{([^}]+)\}\s*$/i;function W8e(e){const t=e==null?void 0:e.match(B8e);return(t==null?void 0:t[1].trim())||null}const J8e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,Z8e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,Y8e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function Xte(e){if(!e)return null;let t=J8e.exec(e)||Z8e.exec(e);return t?t[1]||t[3]:(t=Y8e.exec(e),t?t[2]:null)}var gA;let nf=gA=class extends tt{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?yA(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=yA(this.value)),e!=null&&(t[i]=e)}clone(){return new gA({expression:this.expression,title:this.title,value:this.value})}};S([M({type:String,json:{write:{writerEnsuresNonNull:!0}}})],nf.prototype,"expression",void 0),S([ht("expression",["expression","value"])],nf.prototype,"readExpression",null),S([vt("expression")],nf.prototype,"writeExpression",null),S([M({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],nf.prototype,"title",void 0),S([M({json:{read:!1,write:!1}})],nf.prototype,"value",void 0),nf=gA=S([ue("esri.layers.support.LabelExpressionInfo")],nf);const Qte=nf;var vA;const Ix=new ki({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function Px(e,t,i){return{enabled:!Qk(i==null?void 0:i.layer)}}function eie(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function K8e(e){return(e==null?void 0:e.type)==="map-image"}function tie(e){var t,i;return!!K8e(e)&&!!((i=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function X8e(e){return eie(e)||tie(e==null?void 0:e.layer)}let or=vA=class extends tt{static evaluateWhere(e,t){const i=(n,s,u)=>{switch(s){case"=":return n==u;case"<>":return n!=u;case">":return n>u;case">=":return n>=u;case"<":return n<u;case"<=":return n<=u}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return i(t[n[0]],n[1],n[2]);if(n.length===7){const s=i(t[n[0]],n[1],n[2]),u=n[3],p=i(t[n[4]],n[5],n[6]);switch(u){case"AND":return s&&p;case"OR":return s||p}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=YSe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=G8e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=Xte(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,n){if(e==null&&this.labelExpression!=null&&eie(n))e=new Qte({expression:this.getLabelExpressionArcade()});else if(!e)return;const s=e.toJSON(n);s.expression&&(t[i]=s)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return OP(this)}getLabelExpressionArcade(){return H8e(this)}getLabelExpressionSingleField(){return q8e(this)}hash(){return JSON.stringify(this)}clone(){return new vA({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:ke(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:ke(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};S([M({type:String,json:{write:!0}})],or.prototype,"name",void 0),S([M({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:Px}}}}})],or.prototype,"allowOverrun",void 0),S([M({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:Px}}}}})],or.prototype,"deconflictionStrategy",void 0),S([M({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&tie(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],or.prototype,"labelExpression",void 0),S([ht("labelExpression")],or.prototype,"readLabelExpression",null),S([vt("labelExpression")],or.prototype,"writeLabelExpression",null),S([M({type:Qte,json:{write:{overridePolicy:(e,t,i)=>X8e(i)?{allowNull:!0}:{enabled:!1}}}})],or.prototype,"labelExpressionInfo",void 0),S([vt("labelExpressionInfo")],or.prototype,"writeLabelExpressionInfo",null),S([M({type:Ix.apiValues,json:{type:Ix.jsonValues,read:Ix.read,write:Ix.write}})],or.prototype,"labelPlacement",void 0),S([M({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],or.prototype,"labelPosition",void 0),S([M({type:Number})],or.prototype,"maxScale",void 0),S([vt("maxScale")],or.prototype,"writeMaxScale",null),S([M({type:Number})],or.prototype,"minScale",void 0),S([vt("minScale")],or.prototype,"writeMinScale",null),S([M({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:Px}}}}})],or.prototype,"repeatLabel",void 0),S([M({type:Number,cast:$i,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:Px}}}}})],or.prototype,"repeatLabelDistance",void 0),S([M({types:K9e,json:{origins:{"web-scene":{types:X9e,write:bU,default:null}},write:bU,default:null}})],or.prototype,"symbol",void 0),S([M({type:Boolean,json:{write:!0}})],or.prototype,"useCodedValues",void 0),S([M({type:String,json:{write:!0}})],or.prototype,"where",void 0),or=vA=S([ue("esri.layers.support.LabelClass")],or);const M6=or;var bA;let Fs=bA=class extends Lf{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=$i("12px"),this.fields=[],this.renderer=null}writeFields(e,t,i){const n=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());Zs(i,n,t)}readRenderer(e,t,i){var s;const n=(s=t.drawingInfo)==null?void 0:s.renderer;return n?ww(n,t,i)??void 0:$P(t,i)}clone(){return new bA({fields:ke(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:ke(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:ke(this.popupTemplate),renderer:ke(this.renderer),binType:ke(this.binType),size:this.size})}};S([Rt({binning:"binning"})],Fs.prototype,"type",void 0),S([Rt({geohash:"geohash",square:"square"}),M({type:["geohash","square"]})],Fs.prototype,"binType",void 0),S([M({type:Number,json:{write:!0}})],Fs.prototype,"fixedBinLevel",void 0),S([M({type:[M6],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Fs.prototype,"labelingInfo",void 0),S([M(EP)],Fs.prototype,"labelsVisible",void 0),S([M({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Fs.prototype,"maxScale",void 0),S([M(_P)],Fs.prototype,"popupEnabled",void 0),S([M({type:t3,json:{name:"popupInfo",write:!0}})],Fs.prototype,"popupTemplate",void 0),S([M({cast:e=>e==="auto"?e:Sg($i(e))})],Fs.prototype,"size",void 0),S([M({type:[x1],json:{write:!0}})],Fs.prototype,"fields",void 0),S([vt("fields")],Fs.prototype,"writeFields",null),S([M({types:v6,json:{write:{target:"drawingInfo.renderer"}}})],Fs.prototype,"renderer",void 0),S([ht("renderer",["drawingInfo.renderer"])],Fs.prototype,"readRenderer",null),Fs=bA=S([ue("esri.layers.support.FeatureReductionBinning")],Fs);const iie=Fs;var wA;function GG(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let Tr=wA=class extends tt{constructor(e){super(e),this.type="cluster",this.clusterRadius=$i("80px"),this.clusterMinSize=$i("12px"),this.clusterMaxSize=$i("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){var s,u;const n=(s=t.drawingInfo)==null?void 0:s.renderer;return(u=n==null?void 0:n.authoringInfo)!=null&&u.isAutoGenerated?null:n?GG(n)?null:ww(n,t,i)??void 0:$P(t,i)}readSymbol(e,t,i){var s,u;const n=(s=t.drawingInfo)==null?void 0:s.renderer;if((u=n==null?void 0:n.authoringInfo)!=null&&u.isAutoGenerated)return null;if(n&&GG(n)){const p=ww(n,t,i);return p==null?void 0:p.symbol}return null}writeSymbol(e,t,i,n){var u,p;const s=(p=(u=this.renderer)==null?void 0:u.authoringInfo)==null?void 0:p.isAutoGenerated;if(!this.renderer||s){const g=new Ug({symbol:e});t.drawingInfo={renderer:g.write({},n)}}}writeFields(e,t,i){const n=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());Zs(i,n,t)}readFields(e,t,i){return e.filter(n=>!n.isAutoGenerated).map(n=>x1.fromJSON(n))}clone(){return new wA({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:ke(this.labelingInfo),labelsVisible:this.labelsVisible,fields:ke(this.fields),maxScale:this.maxScale,renderer:ke(this.renderer),symbol:ke(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:ke(this.popupTemplate)})}};S([M({type:["cluster"],readOnly:!0,json:{write:!0}})],Tr.prototype,"type",void 0),S([M({cast:e=>e==="auto"?e:Sg($i(e)),json:{write:!0}})],Tr.prototype,"clusterRadius",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Tr.prototype,"clusterMinSize",void 0),S([M({type:Number,cast:$i,json:{write:!0}})],Tr.prototype,"clusterMaxSize",void 0),S([M({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Tr.prototype,"maxScale",void 0),S([M(_P)],Tr.prototype,"popupEnabled",void 0),S([M({type:t3,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Tr.prototype,"popupTemplate",void 0),S([M({types:v6,json:{write:{target:"drawingInfo.renderer"}}})],Tr.prototype,"renderer",void 0),S([ht("renderer",["drawingInfo.renderer"])],Tr.prototype,"readRenderer",null),S([M({types:Z9e})],Tr.prototype,"symbol",void 0),S([ht("symbol",["drawingInfo.renderer"])],Tr.prototype,"readSymbol",null),S([vt("symbol")],Tr.prototype,"writeSymbol",null),S([M({type:[M6],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Tr.prototype,"labelingInfo",void 0),S([M(EP)],Tr.prototype,"labelsVisible",void 0),S([M({type:[x1],json:{write:!0}})],Tr.prototype,"fields",void 0),S([vt("fields")],Tr.prototype,"writeFields",null),S([ht("fields")],Tr.prototype,"readFields",null),Tr=wA=S([ue("esri.layers.support.FeatureReductionCluster")],Tr);const nie=Tr;var xA;let mS=xA=class extends Lf{constructor(e){super(e),this.type="selection"}clone(){return new xA}};S([M({type:["selection"]})],mS.prototype,"type",void 0),mS=xA=S([ue("esri.layers.support.FeatureReductionSelection")],mS);const HG=mS,qG={key:"type",base:Lf,typeMap:{cluster:nie,binning:iie}},Q8e={types:{key:"type",base:Lf,typeMap:{selection:HG,cluster:nie,binning:iie}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:qG},"portal-item":{types:qG},"web-scene":{types:{key:"type",base:Lf,typeMap:{selection:HG}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:ss}}}}},Mm={Base64:0,Hex:1,String:2,Raw:3},Ly=8,rie=(1<<Ly)-1;function kf(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function eMe(e){const t=[];for(let i=0,n=e.length*Ly;i<n;i+=Ly)t[i>>5]|=(e.charCodeAt(i/Ly)&rie)<<i%32;return t}function tMe(e){const t=[];for(let i=0,n=32*e.length;i<n;i+=Ly)t.push(String.fromCharCode(e[i>>5]>>>i%32&rie));return t.join("")}function iMe(e){const t="0123456789abcdef",i=[];for(let n=0,s=4*e.length;n<s;n++)i.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return i.join("")}function nMe(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(let s=0,u=4*e.length;s<u;s+=3){const p=(e[s>>2]>>s%4*8&255)<<16|(e[s+1>>2]>>(s+1)%4*8&255)<<8|e[s+2>>2]>>(s+2)%4*8&255;for(let g=0;g<4;g++)8*s+6*g>32*e.length?n.push(t):n.push(i.charAt(p>>6*(3-g)&63))}return n.join("")}function rMe(e,t){return e<<t|e>>>32-t}function $6(e,t,i,n,s,u){return kf(rMe(kf(kf(t,e),kf(n,u)),s),i)}function Rs(e,t,i,n,s,u,p){return $6(t&i|~t&n,e,t,s,u,p)}function Ds(e,t,i,n,s,u,p){return $6(t&n|i&~n,e,t,s,u,p)}function Ns(e,t,i,n,s,u,p){return $6(t^i^n,e,t,s,u,p)}function Ls(e,t,i,n,s,u,p){return $6(i^(t|~n),e,t,s,u,p)}function sMe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,n=-271733879,s=-1732584194,u=271733878;for(let p=0;p<e.length;p+=16){const g=i,w=n,E=s,A=u;i=Rs(i,n,s,u,e[p],7,-680876936),u=Rs(u,i,n,s,e[p+1],12,-389564586),s=Rs(s,u,i,n,e[p+2],17,606105819),n=Rs(n,s,u,i,e[p+3],22,-1044525330),i=Rs(i,n,s,u,e[p+4],7,-176418897),u=Rs(u,i,n,s,e[p+5],12,1200080426),s=Rs(s,u,i,n,e[p+6],17,-1473231341),n=Rs(n,s,u,i,e[p+7],22,-45705983),i=Rs(i,n,s,u,e[p+8],7,1770035416),u=Rs(u,i,n,s,e[p+9],12,-1958414417),s=Rs(s,u,i,n,e[p+10],17,-42063),n=Rs(n,s,u,i,e[p+11],22,-1990404162),i=Rs(i,n,s,u,e[p+12],7,1804603682),u=Rs(u,i,n,s,e[p+13],12,-40341101),s=Rs(s,u,i,n,e[p+14],17,-1502002290),n=Rs(n,s,u,i,e[p+15],22,1236535329),i=Ds(i,n,s,u,e[p+1],5,-165796510),u=Ds(u,i,n,s,e[p+6],9,-1069501632),s=Ds(s,u,i,n,e[p+11],14,643717713),n=Ds(n,s,u,i,e[p],20,-373897302),i=Ds(i,n,s,u,e[p+5],5,-701558691),u=Ds(u,i,n,s,e[p+10],9,38016083),s=Ds(s,u,i,n,e[p+15],14,-660478335),n=Ds(n,s,u,i,e[p+4],20,-405537848),i=Ds(i,n,s,u,e[p+9],5,568446438),u=Ds(u,i,n,s,e[p+14],9,-1019803690),s=Ds(s,u,i,n,e[p+3],14,-187363961),n=Ds(n,s,u,i,e[p+8],20,1163531501),i=Ds(i,n,s,u,e[p+13],5,-1444681467),u=Ds(u,i,n,s,e[p+2],9,-51403784),s=Ds(s,u,i,n,e[p+7],14,1735328473),n=Ds(n,s,u,i,e[p+12],20,-1926607734),i=Ns(i,n,s,u,e[p+5],4,-378558),u=Ns(u,i,n,s,e[p+8],11,-2022574463),s=Ns(s,u,i,n,e[p+11],16,1839030562),n=Ns(n,s,u,i,e[p+14],23,-35309556),i=Ns(i,n,s,u,e[p+1],4,-1530992060),u=Ns(u,i,n,s,e[p+4],11,1272893353),s=Ns(s,u,i,n,e[p+7],16,-155497632),n=Ns(n,s,u,i,e[p+10],23,-1094730640),i=Ns(i,n,s,u,e[p+13],4,681279174),u=Ns(u,i,n,s,e[p],11,-358537222),s=Ns(s,u,i,n,e[p+3],16,-722521979),n=Ns(n,s,u,i,e[p+6],23,76029189),i=Ns(i,n,s,u,e[p+9],4,-640364487),u=Ns(u,i,n,s,e[p+12],11,-421815835),s=Ns(s,u,i,n,e[p+15],16,530742520),n=Ns(n,s,u,i,e[p+2],23,-995338651),i=Ls(i,n,s,u,e[p],6,-198630844),u=Ls(u,i,n,s,e[p+7],10,1126891415),s=Ls(s,u,i,n,e[p+14],15,-1416354905),n=Ls(n,s,u,i,e[p+5],21,-57434055),i=Ls(i,n,s,u,e[p+12],6,1700485571),u=Ls(u,i,n,s,e[p+3],10,-1894986606),s=Ls(s,u,i,n,e[p+10],15,-1051523),n=Ls(n,s,u,i,e[p+1],21,-2054922799),i=Ls(i,n,s,u,e[p+8],6,1873313359),u=Ls(u,i,n,s,e[p+15],10,-30611744),s=Ls(s,u,i,n,e[p+6],15,-1560198380),n=Ls(n,s,u,i,e[p+13],21,1309151649),i=Ls(i,n,s,u,e[p+4],6,-145523070),u=Ls(u,i,n,s,e[p+11],10,-1120210379),s=Ls(s,u,i,n,e[p+2],15,718787259),n=Ls(n,s,u,i,e[p+9],21,-343485551),i=kf(i,g),n=kf(n,w),s=kf(s,E),u=kf(u,A)}return[i,n,s,u]}function sie(e,t=Mm.Hex){const i=t||Mm.Base64,n=sMe(eMe(e),e.length*Ly);switch(i){case Mm.Raw:return n;case Mm.Hex:return iMe(n);case Mm.String:return tMe(n);case Mm.Base64:return nMe(n)}}const oMe=()=>xt.getLogger("esri.views.2d.layers.support.clusterUtils");Ge.add("esri-cluster-arcade-enabled",!0);const aMe=Ge("esri-cluster-arcade-enabled"),lMe=new Set(["simple-line","simple-fill","picture-fill"]);function BG(e,t){let i=t.clone();if(!cMe(i))return i;if(t.getSymbols().some(n=>lMe.has(n.type))&&(i=new Ug({symbol:new Ta})),i.authoringInfo||(i.authoringInfo=new QI),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const n=(i.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");n.forEach(s=>{s.type==="rotation"?s.field?s.field=qp(e,s.field,"avg_angle","number"):s.valueExpression&&(s.field=lb(e,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=qp(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=qp(e,s.field,"avg","number"):s.valueExpression&&(s.field=lb(e,s.valueExpression,"avg","number"),s.valueExpression=null)}),i.visualVariables=n}switch(i.type){case"simple":break;case"pie-chart":for(const n of i.attributes)n.field?n.field=qp(e,n.field,"sum","number"):n.valueExpression&&(n.field=lb(e,n.valueExpression,"sum","number"),n.valueExpression=null);break;case"unique-value":i.field?i.field=qp(e,i.field,"mode","string"):i.valueExpression&&(i.field=lb(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=qp(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=qp(e,i.field,"avg","number"):i.valueExpression&&(i.field=lb(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const cMe=e=>{const t=i=>oMe().error(new ze("Unsupported-renderer",i,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if(i!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!aMe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function uMe(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const n=i,s="field",u=t.toLowerCase()+",norm:"+s+","+n.toLowerCase();return"cluster_avg_"+sie(u)}}}function lb(e,t,i,n){const s=sie(t),u=i==="mode"?`cluster_type_${s}`:i==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return e.some(p=>p.name===u)||e.push(new x1({name:u,isAutoGenerated:!0,onStatisticExpression:new kP({expression:t,returnType:n}),statisticType:i})),u}function qp(e,t,i,n,s){if(t==="cluster_count"||e.some(p=>p.name===t))return t;const u=uMe(i,t,s);return e.some(p=>p.name===u)||(i==="avg_norm"?e.push(new x1({name:u,isAutoGenerated:!0,onStatisticExpression:new kP({expression:`$feature.${t} / $feature.${s}`,returnType:n}),statisticType:"avg"})):e.push(new x1({name:u,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),u}const hMe=e=>{let t=class extends e{constructor(...i){super(...i),this.addHandles(ei(()=>this.renderer,()=>{if(this.featureReduction){const n=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",n)}},Ag))}set featureReduction(i){const n=this._normalizeFeatureReduction(i);this._set("featureReduction",n)}set renderer(i){}_withClusterVariable(i,n,s){const u=i.clone();return"visualVariables"in u&&(u.visualVariables||(u.visualVariables=[]),u.visualVariables.some(p=>p.type==="size")||u.visualVariables.push(new f6({field:"cluster_count",stops:[new Z9({value:1}),new Z9({useMinValue:!0,size:n}),new Z9({useMaxValue:!0,size:s})]}))),u}_normalizeFeatureReduction(i){var I;if((i==null?void 0:i.type)!=="cluster")return i;const n=i.clone(),s=[new x1({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],u=(n.fields??[]).filter(R=>!R.isAutoGenerated),p=i.renderer&&!((I=i.renderer.authoringInfo)!=null&&I.isAutoGenerated),{clusterMinSize:g,clusterMaxSize:w}=n;if(p){n.fields=[...s,...u];const R=this._withClusterVariable(n.renderer,g,w);return n.effectiveFeatureRenderer=R,n.effectiveClusterRenderer=R,n}if(i.symbol){if(n.fields=[...s,...u],n.renderer=null,!this.renderer)return n.effectiveFeatureRenderer=null,n.effectiveClusterRenderer=null,n;const R=BG(s,this.renderer),F=this._withClusterVariable(R,g,w),q="visualVariables"in F&&F.visualVariables?F.visualVariables:[],B=new Ug({symbol:i.symbol,visualVariables:q});return n.fields=[...s,...u],n.effectiveFeatureRenderer=F,n.effectiveClusterRenderer=B,n}if(!this.renderer)return i;const E=BG(s,this.renderer);n.fields=[...s,...u],n.renderer=E;const A=this._withClusterVariable(E,g,w);return n.effectiveFeatureRenderer=A,n.effectiveClusterRenderer=A,n}};return S([M(Q8e)],t.prototype,"featureReduction",null),t=S([ue("esri.layers.mixins.FeatureReductionLayer")],t),t},WG={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},JG={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},ZG={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},dMe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":WG,"web-map/basemap":JG,"web-map/tables":ZG,"link-chart/operational-layers":{...WG,LinkChartLayer:!0},"link-chart/basemap":JG,"link-chart/tables":ZG,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}},fMe=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(i,n,s){var u;return((u=s==null?void 0:s.portalItem)==null?void 0:u.type)==="Group Layer"?void 0:i}writeListMode(i,n,s,u){(u&&u.layerContainerType==="ground"||i&&Tye(this,s,{},u))&&(n[s]=i)}writeOperationalLayerType(i,n,s,u){i&&(u==null?void 0:u.layerContainerType)!=="tables"&&(n.layerType=i)}writeTitle(i,n){n.title=i??"Layer"}readTimeExtent(i){return i?Kf.fromArray(i):null}writeTimeExtent(i,n,s,u){i&&u.layerContainerType!=="tables"&&(i.isEmpty?u!=null&&u.messages&&u.messages.push(new ze("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[s]=i.toArray())}read(i,n){n&&(n.layer=this),Sye(this,i,s=>super.read(i,s),n)}write(i,n){var p,g;if(!this.persistenceEnabled&&!(n!=null&&n.ignorePersistenceEnabled))return null;if(n!=null&&n.origin){const w=`${n.origin}/${n.layerContainerType||"operational-layers"}`,E=dMe[w];let A=!!(E!=null&&E[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&w==="web-scene/operational-layers"&&(A=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&w==="web-map/operational-layers"&&(A=!1),!A)return(p=n.messages)==null||p.push(new ze("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${w}'`,{layer:this})),null}const s=super.write(i,{...n,layer:this}),u=!!n&&!!n.messages&&!!n.messages.filter(w=>w instanceof ze&&w.name==="web-document-write:property-required").length;return L_(s==null?void 0:s.url)?((g=n==null?void 0:n.messages)==null||g.push(new ze("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&u?null:s}beforeSave(){}};return S([M({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),S([ht("id",["id"])],t.prototype,"readId",null),S([M(qte)],t.prototype,"listMode",void 0),S([vt("listMode")],t.prototype,"writeListMode",null),S([M({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:ss}}}}})],t.prototype,"operationalLayerType",void 0),S([vt("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),S([M(uA)],t.prototype,"opacity",void 0),S([M({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),S([M({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),S([vt("title"),vt(["web-scene"],"title")],t.prototype,"writeTitle",null),S([M({type:Kf,json:{origins:{"web-scene":{write:{layerContainerTypes:ss}}}}})],t.prototype,"visibilityTimeExtent",void 0),S([ht("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),S([vt(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[fn,N_]]}})],t.prototype,"writeTimeExtent",null),S([M({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:ss}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=S([ue("esri.layers.mixins.OperationalLayer")],t),t};var SA;const Rx=new ki({asc:"ascending",desc:"descending"});let ay=SA=class extends tt{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new SA({field:this.field,valueExpression:this.valueExpression,order:this.order})}};S([M({type:String,json:{write:!0}})],ay.prototype,"field",void 0),S([M({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ay.prototype,"valueExpression",void 0),S([M({type:Rx.apiValues,json:{type:Rx.jsonValues,read:Rx.read,write:Rx.write}})],ay.prototype,"order",void 0),ay=SA=S([ue("esri.layers.support.OrderByInfo")],ay);const oie=ay;function pMe(e,t,i){if(!e)return null;const n=e.find(u=>!!u.field);if(!n)return null;const s=new oie;return s.read(n,i),[s]}function mMe(e,t,i,n){const s=e.find(u=>!!u.field);s&&Zs(i,[s.toJSON()],t)}const yMe={type:[oie],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:pMe},write:{writer:mMe}}},gMe=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return S([M(yMe)],t.prototype,"orderBy",void 0),t=S([ue("esri.layers.mixins.OrderedLayer")],t),t};let oh=class extends Zt{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:YG(t.path,t.portalItem)}:t}set path(t){t!=null&&ga(t)?xt.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return YG(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const n=this.cdnUrl;if(n==null)throw new ze("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(t,i){const{addOrUpdateResources:n}=await rt(()=>import("./resourceUtils-B1a3Ujeh.js"),[],import.meta.url);return await n(this.portalItem,[{resource:this,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function YG(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&ga(e)&&(e=qO(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}S([M()],oh.prototype,"portalItem",void 0),S([M({type:String,value:null})],oh.prototype,"path",null),S([pn("path")],oh.prototype,"_castPath",null),S([M({type:String,readOnly:!0})],oh.prototype,"url",null),S([M({type:String,readOnly:!0})],oh.prototype,"cdnUrl",null),S([M({type:String,readOnly:!0})],oh.prototype,"itemRelativeUrl",null),oh=S([ue("esri.portal.PortalItemResource")],oh);const vMe=oh;let c2=class extends Zt{constructor(t){super(t),this.created=null,this.rating=null}};S([M()],c2.prototype,"created",void 0),S([M()],c2.prototype,"rating",void 0),c2=S([ue("esri.portal.PortalRating")],c2);const C8=c2;var T0;const bMe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),wMe=new Set(["KML","GeoJson","CSV"]);let ii=T0=class extends FO(z_){static from(e){return Vw(T0,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Geocoding Service"?i="Locator":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="Raster function template"?i="Raster Function Template":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"?i="Insights Report":e==="Excalibur Imagery Project"?i="Excalibur Project":e==="3DTiles Service"?i="3D tiles layer":e==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new Yn(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var F;const e=((F=this.type)==null?void 0:F.toLowerCase())||"",t=this.typeKeywords||[],i="esri/images/portal/",n="16";let s,u=!1,p=!1,g=!1,w=!1,E=!1,A=!1,I=!1,R=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(u=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(p=t.includes("Table"),g=t.includes("Route Layer"),w=t.includes("Markup"),E=t.includes("Spatiotemporal"),A=t.includes("UtilityNetwork"),s=E&&p?"spatiotemporaltable":p?"table":g?"routelayer":w?"markup":E?"spatiotemporal":A?"utilitynetwork":u?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(E=t.includes("Spatiotemporal"),I=t.includes("Relational"),s=E||I?"mapimages":u||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):s=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?s="maps":e==="web scene"?s=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?s="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?s="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?s="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?s="datafiles":e==="360 vr experience"?s="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?s="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?s="addindesktop":e==="pdf"?s="pdf":e==="microsoft word"?s="word":e==="microsoft excel"?s="excel":e==="microsoft powerpoint"?s="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?s="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?s="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?s="layersgray":e==="analysis model"?s="analysismodel":e==="scene package"?s="scenepackage":e==="3dtiles package"?s="3dtileslayerpackage":e==="3dtiles service"?s="3dtileslayer":e==="mobile scene package"?s="mobilescenepackage":e==="tile package"||e==="compact tile package"?s="tilepackage":e==="task file"?s="taskfile":e==="report template"?s="report-template":e==="statistical data collection"?s="statisticaldatacollection":e==="insights workbook"?s="workbook":e==="insights model"?s="insightsmodel":e==="insights page"?s="insightspage":e==="insights theme"?s="insightstheme":e==="hub initiative"?s="hubinitiative":e==="hub page"?s="hubpage":e==="hub site application"?s="hubsite":e==="hub event"?s="hubevent":e==="hub project"?s="hubproject":e==="relational database connection"?s="relationaldatabaseconnection":e==="big data file share"?s="datastorecollection":e==="image collection"?s="imagecollection":e==="desktop style"?s="desktopstyle":e==="style"?s=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?s="dashboard":e==="raster function template"?s="rasterprocessingtemplate":e==="vector tile package"?s="vectortilepackage":e==="ortho mapping project"?s="orthomappingproject":e==="ortho mapping template"?s="orthomappingtemplate":e==="solution"?s="solutions":e==="geopackage"?s="geopackage":e==="deep learning package"?s="deeplearningpackage":e==="real time analytic"?s="realtimeanalytics":e==="reality mapping project"?s="realitymappingproject":e==="big data analytic"?s="bigdataanalytics":e==="feed"?s="feed":e==="excalibur imagery project"?s="excaliburimageryproject":e==="notebook"?s="notebook":e==="storymap"?s="storymap":e==="survey123 add in"?s="survey123addin":e==="mission"?s="mission":e==="mission report"?s="missionreport":e==="mission template"?s="missiontemplate":e==="quickcapture project"?s="quickcaptureproject":e==="pro report"?s="proreport":e==="pro report template"?s="proreporttemplate":e==="urban model"?s="urbanmodel":e==="urban project"?s="urbanproject":e==="web experience"?s="experiencebuilder":e==="web experience template"?s="webexperiencetemplate":e==="experience builder widget"?s="experiencebuilderwidget":e==="experience builder widget package"?s="experiencebuilderwidgetpackage":e==="workflow"?s="workflow":e==="kernel gateway connection"?s="kernelgatewayconnection":e==="insights script"?s="insightsscript":e==="hub initiative template"?s="hubinitiativetemplate":e==="storymap theme"?s="storymaptheme":e==="knowledge graph"?s="knowledgegraph":e==="knowledge graph layer"?s="knowledgegraphlayer":e==="knowledge studio project"?s="knowledgestudio":e==="native application"?s="nativeapp":e==="native application installer"?s="nativeappinstaller":e==="web link chart"?s="linkchart":e==="knowledge graph web investigation"?s="investigation":e==="ogcfeatureserver"?s="features":e==="pro presentation"?s="propresentation":e==="pro project"?s="proproject":e==="insights workbook package"?s="insightsworkbookpackage":e==="apache parquet"?s="apacheparquet":e==="notebook code snippet library"?s="notebookcodesnippets":e==="suitability model"?s="suitabilitymodel":e==="esri classifier definition"?s="classifierdefinition":e==="esri classification schema"?s="classificationschema":e==="insights data engineering workbook"?s="dataengineeringworkbook":e==="insights data engineering model"?s="dataengineeringmodel":e==="deep learning studio project"?s="deeplearningproject":e==="discussion"?s="discussion":e==="allsource project"?s="allsourceproject":e==="api key"?s="apikey":e==="data pipeline"?s="datapipelines":e==="group layer"?(R=t.includes("Map"),s=R?"layergroup2d":"layergroup"):s=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",s?Hw(i+s+n+".png"):null}get isLayer(){return this.type!=null&&bMe.has(this.type)}get itemCdnUrl(){return qI(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const e=this.itemUrl,t=this.thumbnail;return e&&t?((i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var i,n,s;const e=(i=this.portal)==null?void 0:i.restUrl;if(!e)return null;const t=this.owner||((s=(n=this.portal)==null?void 0:n.user)==null?void 0:s.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=_a.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof C8&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new C8({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:ke(this.applicationProxies),avgRating:this.avgRating,categories:ke(this.categories),classification:ke(this.classification),created:ke(this.created),culture:this.culture,description:this.description,extent:ke(this.extent),groupCategories:ke(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:ke(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:ke(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ke(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ke(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new T0({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var t;const e=this.toJSON();for(const i of["tags","typeKeywords","categories"])e[i]=(t=e[i])==null?void 0:t.join(", ");for(const i of["extent","classification"]){const n=e[i];n&&(e[i]=JSON.stringify(n))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new C8(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},T0)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,i={method:"post"};i.query=this.createPostQuery();for(const n in i.query)i.query[n]===null&&(i.query[n]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new ze("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new ze("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:n,folder:s,tags:u,title:p}=e||{},g={method:"post",query:{copyPrivateResources:n==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!n,tags:u==null?void 0:u.join(","),title:p}},{itemId:w}=await t.request(`${i}/copy`,g);return new T0({id:w,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,n={method:"post"};if(typeof t=="string")k1(t)?n.query={data:t}:n.query={url:co(t)},i!=null&&(n.query.filename=i);else{const s=new FormData;i!=null?s.append("file",t,i):s.append("file",t),n.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new ze("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await rt(()=>import("./resourceUtils-B1a3Ujeh.js"),[],import.meta.url);return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:n}=await rt(()=>import("./resourceUtils-B1a3Ujeh.js"),[],import.meta.url);return e.portalItem=this,await n(this,[{resource:e,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await rt(()=>import("./resourceUtils-B1a3Ujeh.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new ze("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await rt(()=>import("./resourceUtils-B1a3Ujeh.js"),[],import.meta.url);return t(this,e)}resourceFromPath(e){return new vMe({portalItem:this,path:e})}toJSON(){var i,n;const e=this.extent,t={accessInformation:this.accessInformation,categories:ke(this.categories),classification:ke(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(n=this.modified)==null?void 0:n.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ke(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ke(this.typeKeywords),url:this.url};return kO(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new T0({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};S([M({type:["private","shared","org","public"]})],ii.prototype,"access",void 0),S([M()],ii.prototype,"accessInformation",void 0),S([M({type:String})],ii.prototype,"apiKey",void 0),S([M({json:{read:{source:"appProxies"}}})],ii.prototype,"applicationProxies",void 0),S([M()],ii.prototype,"avgRating",void 0),S([M()],ii.prototype,"categories",void 0),S([M()],ii.prototype,"classification",void 0),S([M({type:Date})],ii.prototype,"created",void 0),S([M()],ii.prototype,"culture",void 0),S([M()],ii.prototype,"description",void 0),S([M({readOnly:!0})],ii.prototype,"displayName",null),S([M({type:Yn})],ii.prototype,"extent",void 0),S([ht("extent")],ii.prototype,"readExtent",null),S([M()],ii.prototype,"groupCategories",void 0),S([M({readOnly:!0})],ii.prototype,"iconUrl",null),S([M()],ii.prototype,"id",void 0),S([M({readOnly:!0})],ii.prototype,"isLayer",null),S([M({type:Boolean,readOnly:!0})],ii.prototype,"isOrgItem",void 0),S([M()],ii.prototype,"itemControl",void 0),S([M({readOnly:!0})],ii.prototype,"itemPageUrl",null),S([M({readOnly:!0})],ii.prototype,"itemUrl",null),S([M()],ii.prototype,"licenseInfo",void 0),S([M({type:Date})],ii.prototype,"modified",void 0),S([M()],ii.prototype,"name",void 0),S([M()],ii.prototype,"numComments",void 0),S([M()],ii.prototype,"numRatings",void 0),S([M()],ii.prototype,"numViews",void 0),S([M()],ii.prototype,"owner",void 0),S([M()],ii.prototype,"ownerFolder",void 0),S([M({type:_a})],ii.prototype,"portal",void 0),S([M()],ii.prototype,"screenshots",void 0),S([M()],ii.prototype,"size",void 0),S([M()],ii.prototype,"snippet",void 0),S([M()],ii.prototype,"sourceJSON",void 0),S([M({type:String})],ii.prototype,"sourceUrl",void 0),S([M({type:String})],ii.prototype,"spatialReference",void 0),S([M()],ii.prototype,"tags",void 0),S([M()],ii.prototype,"thumbnail",void 0),S([M({readOnly:!0})],ii.prototype,"thumbnailUrl",null),S([M()],ii.prototype,"title",void 0),S([M()],ii.prototype,"type",void 0),S([M()],ii.prototype,"typeKeywords",void 0),S([M({type:String,json:{read(e,t){var i;if(wMe.has(t.type)){const n=(i=this.portal)==null?void 0:i.restUrl;e||(e=n&&this.id?`${n}/content/items/${this.id}/data`:null)}return e}}})],ii.prototype,"url",void 0),S([M({readOnly:!0})],ii.prototype,"userItemUrl",null),ii=T0=S([ue("esri.portal.PortalItem")],ii);const yS=ii,aie=Object.freeze(Object.defineProperty({__proto__:null,default:yS},Symbol.toStringTag,{value:"Module"})),lo=Math.PI/180,xMe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,jd=Hn.radius,Pl=Hn.eccentricitySquared,SMe={a1:jd*Pl,a2:jd*Pl*jd*Pl,a3:jd*Pl*Pl/2,a4:jd*Pl*jd*Pl*2.5,a5:jd*Pl+jd*Pl*Pl/2,a6:1-Pl},_Me={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:Hn.radius,f:Hn.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Gf.radius,f:Gf.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:hu.radius,f:hu.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:hu.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var Ie;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(Ie||(Ie={}));const EMe={[Ie.WGS84]:{[Ie.CGCS2000]:Dn,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:Dn,[Ie.SPHERICAL_ECEF]:G2,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:zy,[Ie.PLATE_CARREE]:jy,[Ie.WGS84]:Dn,[Ie.WGS84_ECEF]:Vy},[Ie.CGCS2000]:{[Ie.CGCS2000]:Dn,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:Dn,[Ie.SPHERICAL_ECEF]:G2,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:zy,[Ie.PLATE_CARREE]:jy,[Ie.WGS84]:Dn,[Ie.WGS84_ECEF]:Vy},[Ie.GCSMARS2000]:{[Ie.CGCS2000]:null,[Ie.GCSMARS2000]:Dn,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:Dn,[Ie.SPHERICAL_ECEF]:null,[Ie.SPHERICAL_MARS_PCPF]:QG,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:null,[Ie.PLATE_CARREE]:null,[Ie.WGS84]:null,[Ie.WGS84_ECEF]:null},[Ie.GCSMOON2000]:{[Ie.CGCS2000]:null,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:Dn,[Ie.LON_LAT]:Dn,[Ie.SPHERICAL_ECEF]:null,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:XG,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:null,[Ie.PLATE_CARREE]:null,[Ie.WGS84]:null,[Ie.WGS84_ECEF]:null},[Ie.WEB_MERCATOR]:{[Ie.CGCS2000]:V2,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:V2,[Ie.SPHERICAL_ECEF]:TMe,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:Dn,[Ie.PLATE_CARREE]:kMe,[Ie.WGS84]:V2,[Ie.WGS84_ECEF]:MMe},[Ie.WGS84_ECEF]:{[Ie.CGCS2000]:Gy,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:Gy,[Ie.SPHERICAL_ECEF]:LMe,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:zMe,[Ie.PLATE_CARREE]:CMe,[Ie.WGS84]:Gy,[Ie.WGS84_ECEF]:Dn},[Ie.SPHERICAL_ECEF]:{[Ie.CGCS2000]:Uy,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:Uy,[Ie.SPHERICAL_ECEF]:Dn,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:RMe,[Ie.PLATE_CARREE]:AMe,[Ie.WGS84]:Uy,[Ie.WGS84_ECEF]:DMe},[Ie.SPHERICAL_MARS_PCPF]:{[Ie.CGCS2000]:null,[Ie.GCSMARS2000]:tH,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:tH,[Ie.SPHERICAL_ECEF]:null,[Ie.SPHERICAL_MARS_PCPF]:Dn,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:null,[Ie.PLATE_CARREE]:null,[Ie.WGS84]:null,[Ie.WGS84_ECEF]:null},[Ie.SPHERICAL_MOON_PCPF]:{[Ie.CGCS2000]:null,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:eH,[Ie.LON_LAT]:eH,[Ie.SPHERICAL_ECEF]:null,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:Dn,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:null,[Ie.PLATE_CARREE]:null,[Ie.WGS84]:null,[Ie.WGS84_ECEF]:null},[Ie.UNKNOWN]:{[Ie.CGCS2000]:null,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:null,[Ie.SPHERICAL_ECEF]:null,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:Dn,[Ie.WEB_MERCATOR]:null,[Ie.PLATE_CARREE]:null,[Ie.WGS84]:null,[Ie.WGS84_ECEF]:null},[Ie.LON_LAT]:{[Ie.CGCS2000]:Dn,[Ie.GCSMARS2000]:Dn,[Ie.GCSMOON2000]:Dn,[Ie.LON_LAT]:Dn,[Ie.SPHERICAL_ECEF]:G2,[Ie.SPHERICAL_MARS_PCPF]:QG,[Ie.SPHERICAL_MOON_PCPF]:XG,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:zy,[Ie.PLATE_CARREE]:jy,[Ie.WGS84]:Dn,[Ie.WGS84_ECEF]:Vy},[Ie.PLATE_CARREE]:{[Ie.CGCS2000]:Fy,[Ie.GCSMARS2000]:null,[Ie.GCSMOON2000]:null,[Ie.LON_LAT]:Fy,[Ie.SPHERICAL_ECEF]:OMe,[Ie.SPHERICAL_MARS_PCPF]:null,[Ie.SPHERICAL_MOON_PCPF]:null,[Ie.UNKNOWN]:null,[Ie.WEB_MERCATOR]:IMe,[Ie.PLATE_CARREE]:Dn,[Ie.WGS84]:Fy,[Ie.WGS84_ECEF]:PMe}};function lie(e,t,i=cie()){return e==null||t==null?null:jMe(e,t,i).projector}function KG(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=qf(e,1)),S4(e)?t.spatialReferenceId=Ie.SPHERICAL_ECEF:l1(e)?t.spatialReferenceId=Ie.WGS84:fc(e)?t.spatialReferenceId=Ie.WEB_MERCATOR:Pge(e)?t.spatialReferenceId=Ie.PLATE_CARREE:e.wkt===Lge.wkt?t.spatialReferenceId=Ie.WGS84_ECEF:e.wkid===a1.CGCS2000?t.spatialReferenceId=Ie.CGCS2000:e.wkt===eI.wkt?t.spatialReferenceId=Ie.SPHERICAL_MARS_PCPF:e.wkt===tI.wkt?t.spatialReferenceId=Ie.SPHERICAL_MOON_PCPF:xZ(e)?t.spatialReferenceId=Ie.GCSMARS2000:SZ(e)?t.spatialReferenceId=Ie.GCSMOON2000:t.spatialReferenceId=Ie.UNKNOWN):Ie.UNKNOWN}function Dn(e,t,i,n){e!==i&&(i[n++]=e[t++],i[n++]=e[t++],i[n]=e[t])}function V2(e,t,i,n){i[n]=hg*(e[t]/Q0),i[n+1]=hg*(hie-2*Math.atan(Math.exp(-e[t+1]/Q0))),i[n+2]=e[t+2]}function TMe(e,t,i,n){const s=e[t]/Q0,u=hie-2*Math.atan(Math.exp(-e[t+1]/Q0)),p=Q0+e[t+2],g=Math.cos(u)*p;i[n]=Math.cos(s)*g,i[n+1]=Math.sin(s)*g,i[n+2]=Math.sin(u)*p}function MMe(e,t,i,n){V2(e,t,i,n),Vy(i,n,i,n)}function $Me(e,t,i,n,s){const u=.4999999*k6,p=yl(ug*e[t+1],-u,u),g=Math.sin(p);i[n++]=ug*e[t]*s.radius,i[n++]=s.halfSemiMajorAxis*Math.log((1+g)/(1-g)),i[n]=e[t+2]}function zy(e,t,i,n){$Me(e,t,i,n,Hn)}function jy(e,t,i,n){i[n]=e[t]*iH,i[n+1]=e[t+1]*iH,i[n+2]=e[t+2]}function Fy(e,t,i,n){i[n]=e[t]*nH,i[n+1]=e[t+1]*nH,i[n+2]=e[t+2]}function kMe(e,t,i,n){V2(e,t,i,n),jy(i,n,i,n)}function CMe(e,t,i,n){Gy(e,t,i,n),jy(i,n,i,n)}function AMe(e,t,i,n){Uy(e,t,i,n),jy(i,n,i,n)}function OMe(e,t,i,n){Fy(e,t,i,n),G2(i,n,i,n)}function IMe(e,t,i,n){Fy(e,t,i,n),zy(i,n,i,n)}function PMe(e,t,i,n){Fy(e,t,i,n),Vy(i,n,i,n)}function IP(e,t,i,n,s){const u=s+e[t+2],p=ug*e[t+1],g=ug*e[t],w=Math.cos(p)*u;i[n]=Math.cos(g)*w,i[n+1]=Math.sin(g)*w,i[n+2]=Math.sin(p)*u}function XG(e,t,i,n){IP(e,t,i,n,Gf.radius)}function QG(e,t,i,n){IP(e,t,i,n,hu.radius)}function G2(e,t,i,n){IP(e,t,i,n,Hn.radius)}function PP(e,t,i,n,s){const u=e[t],p=e[t+1],g=e[t+2],w=Math.sqrt(u*u+p*p+g*g),E=$I(g/(w===0?1:w)),A=Math.atan2(p,u);i[n++]=hg*A,i[n++]=hg*E,i[n]=w-s}function eH(e,t,i,n){PP(e,t,i,n,Gf.radius)}function tH(e,t,i,n){PP(e,t,i,n,hu.radius)}function Uy(e,t,i,n){PP(e,t,i,n,Hn.radius)}function RMe(e,t,i,n){Uy(e,t,i,n),zy(i,n,i,n)}function DMe(e,t,i,n){Uy(e,t,i,n),Vy(i,n,i,n)}function NMe(e,t,i,n,s){const u=ug*e[t],p=ug*e[t+1],g=e[t+2],w=Math.sin(p),E=Math.cos(p),A=s.radius/Math.sqrt(1-s.eccentricitySquared*w*w);i[n++]=(A+g)*E*Math.cos(u),i[n++]=(A+g)*E*Math.sin(u),i[n++]=(A*(1-s.eccentricitySquared)+g)*w}function Vy(e,t,i,n){NMe(e,t,i,n,Hn)}function Gy(e,t,i,n){const s=SMe,u=e[t],p=e[t+1],g=e[t+2];let w,E,A,I,R,F,q,B,K,te,ce,ye,_e,we,xe,pe,Ze,Fe,He,nt,Qe;w=Math.abs(g),E=u*u+p*p,A=Math.sqrt(E),I=E+g*g,R=Math.sqrt(I),nt=Math.atan2(p,u),F=g*g/I,q=E/I,we=s.a2/R,xe=s.a3-s.a4/R,q>.3?(B=w/R*(1+q*(s.a1+we+F*xe)/R),He=Math.asin(B),te=B*B,K=Math.sqrt(1-te)):(K=A/R*(1-F*(s.a5-we-q*xe)/R),He=Math.acos(K),te=1-K*K,B=Math.sqrt(te)),ce=1-Hn.eccentricitySquared*te,ye=Hn.radius/Math.sqrt(ce),_e=s.a6*ye,we=A-ye*K,xe=w-_e*B,Ze=K*we+B*xe,pe=K*xe-B*we,Fe=pe/(_e/ce+Ze),He+=Fe,Qe=Ze+pe*Fe/2,g<0&&(He=-He),i[n++]=hg*nt,i[n++]=hg*He,i[n]=Qe}function LMe(e,t,i,n){Gy(e,t,i,n),G2(i,n,i,n)}function zMe(e,t,i,n){Gy(e,t,i,n),zy(i,n,i,n)}function jMe(e,t,i){if(e==null||t==null||i.source.spatialReference===e&&i.dest.spatialReference===t)return i;const n=KG(e,i.source),s=KG(t,i.dest);return n===Ie.UNKNOWN&&s===Ie.UNKNOWN?cs(e,t)?i.projector=Dn:i.projector=null:i.projector=EMe[n][s],i}function cie(){return{source:{spatialReference:null,spatialReferenceId:Ie.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Ie.UNKNOWN,metersPerUnit:1},projector:Dn}}const fqe={spatialReference:null,spatialReferenceId:Ie.UNKNOWN},pqe={spatialReference:null,spatialReferenceId:Ie.UNKNOWN},uie=cie(),ug=BK(1),hg=m5e(1),k6=Math.PI,hie=.5*k6,Q0=Hn.radius,iH=Q0*k6/180,nH=180/(Q0*k6);function Gg(e,t,i,n,s,u,p=Math.floor(e.length/3)){const g=lie(t,s,uie);if(g==null)return!1;if(g===Dn){if(e===n&&i===u)return!0;const E=i+3*p;for(let A=i,I=u;A<E;A++,I++)n[I]=e[A];return!0}const w=i+3*p;for(let E=i,A=u;E<w;E+=3,A+=3)g(e,E,n,A);return!0}const mqe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Gg},Symbol.toStringTag,{value:"Module"}));function rH(e,t,i,n,s,u){return Dx[0]=e,Dx[1]=t,Dx[2]=i,Gg(Dx,n,0,s,u,0)}const Dx=ft();let Nx=0,A8=class _A{static fromGE(t){const i=new _A;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}constructor(t){this.uid=Nx++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=Nx++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=Nx++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=Nx++}getInverse(){const t=new _A;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},B4=class u2{static cacheKey(t,i){var n,s,u,p,g,w;return[((n=t.wkid)==null?void 0:n.toString())??"-1",((s=t.wkt)==null?void 0:s.toString())??"",((u=t.wkt2)==null?void 0:u.toString())??"",((p=i.wkid)==null?void 0:p.toString())??"-1",((g=i.wkt)==null?void 0:g.toString())??"",((w=i.wkt2)==null?void 0:w.toString())??""].join()}static fromGE(t){const i=new u2;let n="";for(const s of t.steps){const u=A8.fromGE(s);i.steps.push(u),n+=u.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=n,i}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const i of t.steps)i instanceof A8?this.steps.push(i):this.steps.push(new A8({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const t=new u2;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const n=this.steps[i];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,n){this._cachedProjection[u2.cacheKey(t,i)]=n}getCachedGeTransformation(t,i){let n="";for(const u of this.steps)n+=u.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const s=this._cachedProjection[u2.cacheKey(t,i)];return s===void 0?null:s}},ac=null,Qf=null,H2=null,gS={};const RP=new Zw;function Hg(){return!!ac&&KO()}function die(){return!!Hg()||(Gt(RP),dg(),!1)}function FMe(e,t){return!e||!t||Dh(e,t)||die()}function UMe(e,t){return!Dh(e,t)&&!Hg()}function dg(e){return H2==null&&(H2=Promise.all([XO(),rt(()=>Promise.resolve().then(()=>oPe),void 0,import.meta.url).then(t=>t.g),rt(()=>Promise.resolve().then(()=>fPe),void 0,import.meta.url)])),H2.then(([,t,{hydratedAdapter:i}])=>{Fo(e),Qf=i,ac=t.default,ac._enableProjection(Cge),RP.notify()})}function gu(e,t,i=null,n=null){return Array.isArray(e)?e.length===0?[]:EA(Qf,e,e[0].spatialReference,t,i,n):EA(Qf,[e],e.spatialReference,t,i,n)[0]}function EA(e,t,i,n,s=null,u=null){if(i==null||n==null)return t;if(Dh(i,n,s))return t.map(p=>vS(p,i,n));if(s==null&&S4(i))return t.map(p=>vS(p,i,li.WGS84)).map(p=>fg(p,n));if(s==null&&S4(n))return t.map(p=>fg(p,li.WGS84)).map(p=>vS(p,li.WGS84,n));if(s==null){const p=B4.cacheKey(i,n);gS[p]!==void 0?s=gS[p]:((s=pie(i,n,void 0))==null&&(s=new B4),gS[p]=s)}if(ac==null||e==null)throw new C6;return u!=null?ac._project(e,t,i,n,s,u):ac._project(e,t,i,n,s)}function VMe(e,t){const i=fie([e],t);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function fie(e,t){if(!Hg()){for(const i of e)if(i!=null&&!cs(i.spatialReference,t)&&ol(i.spatialReference)&&ol(t)&&!Dh(i.spatialReference,t))return Gt(RP),{pending:dg(),geometries:null}}return{pending:null,geometries:e.map(i=>i==null?null:cs(i.spatialReference,t)?i:ol(i.spatialReference)&&ol(t)?fg(i,t):null)}}function pie(e,t,i=null){if(e==null||t==null)return null;if(ac==null||Qf==null)throw new C6;const n=ac._getTransformation(Qf,e,t,i,i==null?void 0:i.spatialReference);return n!==null?B4.fromGE(n):null}function GMe(e,t,i=null){if(ac==null||Qf==null)throw new C6;const n=ac._getTransformationBySuitability(Qf,e,t,i,i==null?void 0:i.spatialReference);if(n!==null){const s=[];for(const u of n)s.push(B4.fromGE(u));return s}return[]}let C6=class extends ze{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function HMe(){ac=null,Qf=null,H2=null,gS={}}const qMe={get loadPromise(){return H2}};function fg(e,t){try{const i=gu(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const n=cte(i.type,e.spatialReference,t);return n!=null&&n(i),i}catch(i){if(!(i instanceof C6))throw i;return null}}async function BMe(e,t,i){const n=e.spatialReference;return n!=null&&t!=null&&await g3(n,t,null,i),fg(e,t)}function Dh(e,t,i){return!i&&(!!cs(e,t)||ol(e)&&ol(t)&&!!lie(e,t,uie))}function WMe(e,t){if(cs(e,t))return!0;if(!ol(e)||!ol(t))return!1;const i=l1(e)||fc(e)||Dj(e),n=l1(t)||fc(t)||Dj(t);return i&&n}async function g3(e,t,i,n){if(Hg())return fj(n);if(Array.isArray(e)){for(const{source:s,dest:u,geographicTransformation:p}of e)if(s&&u&&!Dh(s,u,p))return dg(n)}else if(e&&t&&!Dh(e,t,i))return dg(n);return fj(n)}function vS(e,t,i){return e?"x"in e?mie(e,t,new gi,i,0):"xmin"in e?bie(e,t,new Yn,i,0):"rings"in e?vie(e,t,new fo,i,0):"paths"in e?gie(e,t,new qh,i,0):"points"in e?yie(e,t,new Pg,i,0):null:null}function JMe(e,t,i=t.spatialReference,n=0){return i!=null&&e.spatialReference!=null&&mie(e,e.spatialReference,t,i,n)!=null}function mie(e,t,i,n,s){Hs[0]=e.x,Hs[1]=e.y;const u=e.z;return Hs[2]=u!==void 0?u:s,Gg(Hs,t,0,Hs,n,0)?(i.x=Hs[0],i.y=Hs[1],i.spatialReference=n,u!==void 0||Hf(n)?(i.z=Hs[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function ZMe(e,t,i=t.spatialReference,n=0){return e.spatialReference!=null&&i!=null&&yie(e,e.spatialReference,t,i,n)!=null}function yie(e,t,i,n,s){const{points:u,hasZ:p,hasM:g}=e,w=[],E=u.length,A=[];for(const R of u)A.push(R[0],R[1],p?R[2]:s);if(!Gg(A,t,0,A,n,0,E))return null;const I=p||Hf(n);for(let R=0;R<E;++R){const F=3*R,q=A[F],B=A[F+1];I&&g?w.push([q,B,A[F+2],u[R][3]]):I?w.push([q,B,A[F+2]]):g?w.push([q,B,u[R][2]]):w.push([q,B])}return i.points=w,i.spatialReference=n,i.hasZ=p,i.hasM=g,i}function YMe(e,t,i=t.spatialReference,n=0){return e.spatialReference!=null&&i!=null&&gie(e,e.spatialReference,t,i,n)!=null}function gie(e,t,i,n,s){const{paths:u,hasZ:p,hasM:g}=e,w=[];if(!wie(u,p??!1,g??!1,t,w,n,s))return null;const E=p||Hf(n);return i.paths=w,i.spatialReference=n,i.hasZ=E,i.hasM=g,i}function KMe(e,t,i=t.spatialReference,n=0){return e.spatialReference!=null&&i!=null&&vie(e,e.spatialReference,t,i,n)!=null}function vie(e,t,i,n,s){const{rings:u,hasZ:p,hasM:g}=e,w=[];if(!wie(u,p??!1,g??!1,t,w,n,s))return null;const E=p||Hf(n);return i.rings=w,i.spatialReference=n,i.hasZ=E,i.hasM=g,i}function XMe(e,t,i=t.spatialReference,n=0){return e.spatialReference!=null&&i!=null&&bie(e,e.spatialReference,t,i,n)!=null}function bie(e,t,i,n,s){const{xmin:u,ymin:p,xmax:g,ymax:w,hasZ:E,hasM:A}=e,I=E?e.zmin:s;if(!rH(u,p,I,t,Hs,n))return null;const R=E||Hf(n);i.xmin=Hs[0],i.ymin=Hs[1],R&&(i.zmin=Hs[2]);const F=E?e.zmax:s;return rH(g,w,F,t,Hs,n)?(i.xmax=Hs[0],i.ymax=Hs[1],R&&(i.zmax=Hs[2]),A&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=n,i):null}function wie(e,t,i,n,s,u,p=0){const g=new Array;for(const A of e)for(const I of A)g.push(I[0],I[1],t?I[2]:p);if(!Gg(g,n,0,g,u,0))return!1;let w=0;s.length=0;const E=t||Hf(u);for(const A of e){const I=new Array;for(const R of A)E&&i?I.push([g[w++],g[w++],g[w++],R[3]]):E?I.push([g[w++],g[w++],g[w++]]):i?(I.push([g[w++],g[w++],R[2]]),w++):(I.push([g[w++],g[w++]]),w++);s.push(I)}return!0}const Hs=ft(),gqe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Dh,getTransformation:pie,getTransformations:GMe,initializeProjection:g3,isEqualBaseGCS:WMe,isLoaded:Hg,isLoadedOrLoad:die,isLoadedOrLoadFor:FMe,load:dg,project:gu,projectExtent:XMe,projectMany:EA,projectMultipoint:ZMe,projectOrLoad:VMe,projectOrLoadMany:fie,projectPoint:JMe,projectPolygon:KMe,projectPolyline:YMe,projectWithZConversion:BMe,projectWithoutEngine:vS,requiresLoad:UMe,test:qMe,tryProjectWithZConversion:fg,unload:HMe},Symbol.toStringTag,{value:"Module"}));async function QMe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return yy(e);const i=li.WGS84;return await g3(t,i),gu(e,i)}function e$e(e,t){if(!xie(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function xie(e,t){var i;return!!((i=e.typeKeywords)!=null&&i.includes(t))}function vqe(e){return xie(e,i$e.HOSTED_SERVICE)}function t$e(e,t){const i=e.typeKeywords;if(i){const n=i.indexOf(t);n>-1&&i.splice(n,1)}}function bqe(e,t,i){i?e$e(e,t):t$e(e,t)}async function wqe(e){const t=e.clone().normalize();let i;if(t.length>1)for(const n of t)i?n.width>i.width&&(i=n):i=n;else i=t[0];return QMe(i)}const i$e={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function sH(e){var w;const{portal:t,isOrgItem:i,itemControl:n}=e,s=(w=t.user)==null?void 0:w.privileges;let u=!s||s.includes("features:user:edit"),p=!!i&&!!(s!=null&&s.includes("features:user:fullEdit"));const g=n==="update"||n==="admin";return g?p=u=!0:p&&(u=!0),{features:{edit:u,fullEdit:p},content:{updateItem:g}}}const n$e=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=kr(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,n,s){if(n.itemId)return new yS({id:n.itemId,portal:s==null?void 0:s.portal})}writePortalItem(i,n){i!=null&&i.id&&(n.itemId=i.id)}async loadFromPortal(i,n){var s;if((s=this.portalItem)!=null&&s.id)try{const{load:u}=await rt(()=>import("./layersLoader-BH4lRVDx.js"),__vite__mapDeps([231,110,108,109,232,36]),import.meta.url);return Fo(n),await u({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap},n)}catch(u){throw wc(u)||xt.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${u}`),u}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(n=>(su(n),!0)))}async setUserPrivileges(i,n){if(!Bi.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:s,fullEdit:u},content:{updateItem:p}}=await this._fetchUserPrivileges(i,n);this._set("userHasEditingPrivileges",s),this._set("userHasFullEditingPrivileges",u),this._set("userHasUpdateItemPrivileges",p)}catch(s){su(s)}}async _fetchUserPrivileges(i,n){let s=this.portalItem;if(!i||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(n);const u=i===s.id;if(u&&s.portal.user)return sH(s);let p,g;if(u)p=s.portal.url;else try{p=await KQ(this.url,n)}catch(I){su(I)}if(!p||!Vye(p,s.portal.url))return this._fetchFallbackUserPrivileges(n);try{const I=n!=null?n.signal:null;g=await(ai==null?void 0:ai.getCredential(`${p}/sharing`,{prompt:!1,signal:I}))}catch(I){su(I)}const w=!0,E=!1,A=!1;if(!g)return{features:{edit:w,fullEdit:E},content:{updateItem:A}};try{if(u?await s.reload():(s=new yS({id:i,portal:{url:p}}),await s.load(n)),s.portal.user)return sH(s)}catch(I){su(I)}return{features:{edit:w,fullEdit:E},content:{updateItem:A}}}async _fetchFallbackUserPrivileges(i){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(i)}catch(s){su(s)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const n=this.url?ai==null?void 0:ai.findCredential(this.url):null;if(!n)return!0;const s=Lx.credential===n?Lx.user:await this._fetchEditingUser(i);return Lx.credential=n,Lx.user=s,(s==null?void 0:s.privileges)==null||s.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var A,I;const n=(I=(A=this.portalItem)==null?void 0:A.portal)==null?void 0:I.user;if(n)return n;const s=ai==null?void 0:ai.findServerInfo(this.url??"");if(!(s!=null&&s.owningSystemUrl))return null;const u=`${s.owningSystemUrl}/sharing/rest`,p=_a.getDefault();if(p&&p.loaded&&hl(p.restUrl)===hl(u))return p.user;const g=`${u}/community/self`,w=i!=null?i.signal:null,E=await XY(en(g,{authMode:"no-prompt",query:{f:"json"},signal:w}));return E.ok?sI.fromJSON(E.value.data):null}read(i,n){n&&(n.layer=this),super.read(i,n)}write(i,n){var p;const s=n==null?void 0:n.portal,u=((p=this.portalItem)==null?void 0:p.id)&&(this.portalItem.portal||_a.getDefault());return s&&u&&!rZ(u.restUrl,s.restUrl)?(n.messages&&n.messages.push(new ze("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...n,layer:this})}};return S([M({type:yS})],t.prototype,"portalItem",null),S([ht("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),S([vt("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),S([M({clonable:!1})],t.prototype,"resourceReferences",void 0),S([M({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),S([M({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),S([M({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=S([ue("esri.layers.mixins.PortalLayer")],t),t},Lx={credential:null,user:null};let h2=class extends Zt{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};S([M()],h2.prototype,"updating",void 0),S([M()],h2.prototype,"status",void 0),h2=S([ue("esri.layers.support.PublishingInfo")],h2);const r$e=h2,s$e=Symbol(),o$e=e=>{var t;let i=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const n=this._get("publishingInfo");if(n)return n;const s=new r$e;return this._checkPublishingStatus(s),s}_checkPublishingStatus(n){let p=0;const g=async E=>{let A;n.updating=!0;try{A=await this.fetchPublishingStatus()}catch{A="unavailable"}A!=="published"&&A!=="unavailable"||(n.status==="publishing"&&this.refresh(),w.remove()),n.status=A,n.updating=!1,w.removed||(p=setTimeout(g,E,E+125))},w={removed:!1,remove(){this.removed=!0,clearTimeout(p)}};this.when().catch(()=>w.remove()),g(250),this.addHandles(w)}};return t=s$e,S([M({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=S([ue("esri.layers.mixins.PublishableLayer")],i),i},Cf=new Bt,q2=new WeakMap;function a$e(e){c$e(e)&&Cf.push(new WeakRef(e))}function l$e(e){const t=Cf.find(i=>i.deref()===e);t&&Cf.remove(t)}function c$e(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function Sie(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:Sie(t,e%t):0}let O8=0,zx=0;function u$e(){const e=Date.now();let t=!1;for(const i of Cf){const n=i.deref();n?n.refreshInterval&&e-(q2.get(n)??0)+5>=6e4*n.refreshInterval&&(q2.set(n,e),n.refresh(e)):t=!0}if(t)for(let i=Cf.length-1;i>=0;i--)Cf.at(i).deref()||Cf.removeAt(i)}kJ(()=>{const e=Date.now();let t=0;for(const i of Cf){const n=i.deref();n&&(t=Sie(Math.round(6e4*n.refreshInterval),t),n.refreshInterval?q2.get(n)||q2.set(n,e):q2.delete(n))}if(t!==zx){if(zx=t,clearInterval(O8),zx===0)return void(O8=0);O8=setInterval(u$e,zx)}},Ag);const oH=.1,h$e=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=xg(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||a$e(this)},()=>{})}destroy(){l$e(this)}castRefreshInterval(i){return i>=oH?i:i<=0?0:oH}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){hc(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:n})},n=>{xt.getLogger(this).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}get test(){}};return S([M({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:ss}}}}})],t.prototype,"refreshInterval",void 0),S([pn("refreshInterval")],t.prototype,"castRefreshInterval",null),S([M({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),S([M({readOnly:!0})],t.prototype,"refreshParameters",null),t=S([ue("esri.layers.mixins.RefreshableLayer")],t),t},_ie=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&d$e(i,n.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===i.minScale&&s.maxScale===i.maxScale?s:i}};return S([M({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),S([M({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),S([M({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=S([ue("esri.layers.mixins.ScaleRangeLayer")],t),t};function d$e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const Eie=Ts()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let d2=class extends Wi(tt){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return ete(this.value,this.unit,"milliseconds")}};S([Rt(Eie,{nonNullable:!0})],d2.prototype,"unit",void 0),S([M({type:Number,json:{write:!0},nonNullable:!0})],d2.prototype,"value",void 0),d2=S([ue("esri.time.TimeInterval")],d2);const W4=d2;function aH(e,t){return W4.fromJSON({value:e,unit:t})}let vs=class extends Wi(tt){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?Kf.fromArray(i.timeExtent):null}writeFullTimeExtent(t,i){(t==null?void 0:t.start)!=null&&t.end!=null?i.timeExtent=t.toArray():i.timeExtent=null}readInterval(t,i){return i.timeInterval&&i.timeIntervalUnits?aH(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?aH(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(t,i){i.timeInterval=(t==null?void 0:t.toJSON().value)??null,i.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};S([M({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],vs.prototype,"cumulative",void 0),S([M({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],vs.prototype,"endField",void 0),S([M({type:Kf,json:{write:{enabled:!0,allowNull:!0}}})],vs.prototype,"fullTimeExtent",void 0),S([ht("fullTimeExtent",["timeExtent"])],vs.prototype,"readFullTimeExtent",null),S([vt("fullTimeExtent")],vs.prototype,"writeFullTimeExtent",null),S([M({type:Boolean,json:{write:!0}})],vs.prototype,"hasLiveData",void 0),S([M({type:W4,json:{write:{enabled:!0,allowNull:!0}}})],vs.prototype,"interval",void 0),S([ht("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],vs.prototype,"readInterval",null),S([vt("interval")],vs.prototype,"writeInterval",null),S([M({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],vs.prototype,"startField",void 0),S([M(C4("timeReference",!0))],vs.prototype,"timeZone",void 0),S([M({type:String,json:{write:{enabled:!0,allowNull:!0}}})],vs.prototype,"trackIdField",void 0),S([M({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],vs.prototype,"useTime",void 0),S([M({type:[Date],json:{read:!1}})],vs.prototype,"stops",void 0),vs=S([ue("esri.layers.support.TimeInfo")],vs);const Tie=vs,f$e={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:ss}}},p$e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,n){const s=n.timeInfo.exportOptions;if(!s)return null;const u=s.timeOffset,p=Eie.fromJSON(s.timeOffsetUnits);return u&&p?new W4({value:u,unit:p}):null}set timeInfo(i){EX(i,this.fieldsIndex),this._set("timeInfo",i)}};return S([M({type:Kf,json:{write:!1}})],t.prototype,"timeExtent",void 0),S([M({type:W4})],t.prototype,"timeOffset",void 0),S([ht("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),S([M({value:null,type:Tie,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),S([M(f$e)],t.prototype,"useViewTime",void 0),t=S([ue("esri.layers.mixins.TemporalLayer")],t),t},lH=new ki({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let rf=class extends Wi(tt){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};S([M({json:{write:!0}})],rf.prototype,"name",void 0),S([M({json:{write:!0}})],rf.prototype,"description",void 0),S([M({json:{read:lH.read,write:lH.write}})],rf.prototype,"drawingTool",void 0),S([M({json:{write:!0}})],rf.prototype,"prototype",void 0),S([M({json:{write:!0}})],rf.prototype,"thumbnail",void 0),rf=S([ue("esri.layers.support.FeatureTemplate")],rf);const DP=rf;let ah=class extends Wi(tt){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const i={};for(const n of Object.keys(t))i[n]=S6(t[n]);return i}writeDomains(t,i){var s;const n={};for(const u of Object.keys(t))t[u]&&(n[u]=(s=t[u])==null?void 0:s.toJSON());i.domains=n}};S([M({json:{write:!0}})],ah.prototype,"id",void 0),S([M({json:{write:!0}})],ah.prototype,"name",void 0),S([M({json:{write:!0}})],ah.prototype,"domains",void 0),S([ht("domains")],ah.prototype,"readDomains",null),S([vt("domains")],ah.prototype,"writeDomains",null),S([M({type:[DP],json:{write:!0}})],ah.prototype,"templates",void 0),ah=S([ue("esri.layers.support.FeatureType")],ah);const Mie=ah;function m$e(){return{fields:{type:[gP],value:null,set:function(e){if(e&&Ge("big-integer-warning-enabled")){const t=e.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(t.length){const i=t.map(n=>`'${n.name}'`).join(", ");xt.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return see.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const i of e)((t=this.fieldsIndex)==null?void 0:t.has(i))||xt.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:e});return i6(this.fieldsIndex,e)}}}}const I8=()=>xt.getLogger("esri.layers.support.labelingInfo"),y$e=/\[([^[\]]+)\]/gi;function P8(e,t,i){return e?e.map(n=>{var u;const s=new M6;if(s.read(n,i),s.labelExpression){const p=t.fields||((u=t.layerDefinition)==null?void 0:u.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(y$e,(g,w)=>`[${g$e(w,p)}]`)}return s}):null}function g$e(e,t){if(!t)return e;const i=e.toLowerCase();for(let n=0;n<t.length;n++){const s=t[n].name;if(s.toLowerCase()===i)return s}return e}const v$e={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function Mqe(e,t){const i=[];for(const n of e){const s=n.labelPlacement,u=v$e[t];if(!n.symbol)return I8().warn("No ILabelClass symbol specified."),[];if(!u)return I8().error(new ze("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(u.includes(s))i.push(n);else{const p=u[0];s&&I8().warn(`Found invalid label placement type ${s} for ${t}. Defaulting to ${p}`);const g=n.clone();g.labelPlacement=p,i.push(g)}}return i}const ly=[];function b$e(e,t){if(pte(e.url??""))return!0;const{wkid:i}=t;for(const n of ly){if((e.version??0)>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(i))return!1}return!0}ly.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),ly.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),ly.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),ly.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),ly.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function w$e(e,t,i){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const s=await XY(n.populateFromStyle());if(Fo(i),s.ok===!1){const u=s.error;t!=null&&t.messages&&t.messages.push(new dc("renderer:style-reference",`Failed to create unique value renderer from style reference: ${u.message}`,{error:u,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}function x$e({displayField:e,editFieldsInfo:t,fields:i,objectIdField:n,title:s},u){if(!i)return null;const p=T$e({editFieldsInfo:t,fields:i,objectIdField:n},u);if(!p.length)return null;const g=k$e({titleBase:s,fields:i,displayField:e}),w=$$e();return new t3({title:g,content:w,fieldInfos:p})}function $qe(e){var w;const{title:t,graphic:i}=e??{},{attributes:n,sourceLayer:s}=i??{},u=s&&"displayField"in s?s.displayField:null,p=u?n==null?void 0:n[u]:null,g=(w=i==null?void 0:i.getObjectId())==null?void 0:w.toString();return t||p||g||""}const S$e=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):dxe(e,t);function _$e({fields:e,ignoreFieldTypes:t,sortDisabled:i}){const n=e;return t&&(e=e.filter(s=>!t.includes(s.type))),e===n&&(e=e.slice()),i!==!0&&e.sort(E$e),e}function E$e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:cH(e)?-1:cH(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function T$e(e,t){const i=t==null?void 0:t.visibleFieldNames;return _$e({fields:e.fields??[],ignoreFieldTypes:(t==null?void 0:t.ignoreFieldTypes)||C$e,sortDisabled:t==null?void 0:t.sortDisabled}).map(n=>new RI({fieldName:n.name,isEditable:hxe(n,e),label:n.alias,format:M$e(n),visible:S$e(n,{...e,visibleFieldNames:i})}))}function M$e(e){switch(e.type){case"small-integer":case"integer":case"single":return new A9({digitSeparator:!0,places:0});case"double":return new A9({digitSeparator:!0,places:2});case"string":return Nxe(e.name)?new A9({digitSeparator:!0,places:0}):void 0;default:return}}function $$e(){return[new ag,new og]}function k$e(e){const t=MX(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}function cH(e){var i;return(e.name&&e.name.toLowerCase())==="name"?!0:((i=e.alias)==null?void 0:i.toLowerCase())==="name"}const C$e=["geometry","blob","raster","guid","xml"],A$e=1/255.5;var xy;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(xy||(xy={}));const ys="FeatureLayer";function jx(e,t){return new ze("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function uH(e){return e&&e instanceof Bt}const R8=m$e();function D8(e,t,i){const n=!!(i!=null&&i.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let kt=class extends L8e(hMe(MTe(o$e(mTe(Rte(gMe(p$e(_ie(h$e(zEe(fMe(n$e(Gee(uTe(AEe(Wi(ite))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=li.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=xg(async(t,i,n)=>{const{save:s,saveAs:u}=await rt(()=>import("./featureLayerUtils-D4iKyF6d.js"),__vite__mapDeps([233,234,235,236,36,237,110]),import.meta.url);switch(t){case xy.SAVE:return s(this,i);case xy.SAVE_AS:return u(this,n,i)}})}destroy(){var e;(e=this.source)==null||e.destroy()}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){var n;const t=e!=null?e.signal:null;if((n=this.portalItem)!=null&&n.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(s=>this.initLayerProperties(s))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(su).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstValidLayerId(t);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new ze("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>f8e(this,"load",e));return this.addResolvingPromise(i),Promise.resolve(this)}warnInvisibleDrapedSymbols(){var e,t,i;((e=this.elevationInfo)==null?void 0:e.mode)==="on-the-ground"&&((t=this.renderer)==null?void 0:t.type)==="simple"&&((i=this.renderer.symbol)==null?void 0:i.type)==="polygon-3d"&&this.renderer.symbol.symbolLayers.some(n=>n.type==="fill"&&n.material!=null&&(!n.material.color||n.material.color.a*this.opacity<A$e)&&(this.loadWarnings.push(new dc("feature-layer:invisible-draped-symbols","FeatureLayer has fully transparent symbols which will no longer render or highlight",{layer:this})),!0))}readCapabilities(e,t){return t=t.layerDefinition||t,Kte(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var e;return!(this.loaded&&!((e=this.capabilities)!=null&&e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,i){return this._readEditingEnabled(t,!0,i)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,i,n){this._writeEditingEnabled(e,t,!0,n)}get effectiveEditingEnabled(){return p8e(this)}readIsTable(e,t){return(t=(t==null?void 0:t.layerDefinition)??t).type==="Table"||!t.geometryType}writeIsTable(e,t,i,n){n!=null&&n.writeLayerSchema&&Zs(i,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return Wte(t.layerDefinition||t)}readObjectIdField(e,t){return Jte(t.layerDefinition||t)}get parsedUrl(){const e=ho(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=Xy(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=Xy(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){YF(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,i){var s;t=t.layerDefinition||t;const n=(s=t.drawingInfo)==null?void 0:s.renderer;if(n){const u=ww(n,t,i)??void 0;return u||xt.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),u}return $P(t,i)}set source(e){const t=this._get("source");t!==e&&(uH(t)&&this._resetMemorySource(t),uH(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof Bt?new vh({layer:this,items:e}):e:null}readSource(e,t){const i=ute.fromJSON(t.featureSet);return new vh({layer:this,items:(i==null?void 0:i.features)??[]})}readTemplates(e,t){const i=t.editFieldsInfo,n=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e=e==null?void 0:e.map(u=>DP.fromJSON(u)),this._fixTemplates(e,n),this._fixTemplates(e,s),e}readTitle(e,t){var s,u,p;const i=((s=t.layerDefinition)==null?void 0:s.name)??t.name,n=t.title||((u=t.layerDefinition)==null?void 0:u.title);if(i){const g=(p=this.portalItem)==null?void 0:p.title;if(this.sublayerTitleMode==="item-title")return this.url?REe(this.url,i):i;let w=i;if(!w&&this.url){const E=p3(this.url);E!=null&&(w=E.title)}return w?(this.sublayerTitleMode==="item-title-and-service-name"&&g&&g!==w&&(w=g+" - "+w),vP(w)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){var i;return t.title||((i=t.layerDefinition)==null?void 0:i.name)}readTypeIdField(e,t){let i=(t=t.layerDefinition||t).typeIdField;if(i&&t.fields){i=i.toLowerCase();const n=t.fields.find(s=>s.name.toLowerCase()===i);n&&(i=n.name)}return i}readTypes(e,t){e=(t=t.layerDefinition||t).types;const i=t.editFieldsInfo,n=i==null?void 0:i.creatorField,s=i==null?void 0:i.editorField;return e==null?void 0:e.map(u=>(u=Mie.fromJSON(u),this._fixTemplates(u.templates,n),this._fixTemplates(u.templates,s),u))}readVisible(e,t){var i;return((i=t.layerDefinition)==null?void 0:i.defaultVisibility)!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){const i=await JTe(this,e,t,ys);return this.lastEditsEventDate=new Date,i}async updateAttachment(e,t,i){const n=await ZTe(this,e,t,i,ys);return this.lastEditsEventDate=new Date,n}async applyEdits(e,t){return YTe(this,e,t)}async uploadAssets(e,t){return KTe(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return x$e(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await Fw(rt(()=>import("./FeatureLayerSource-D_Brc9IC.js"),__vite__mapDeps([238,239,69,240,241,230,16,17,18,19,129,127,130,242,243,154,152,153,104,103,105,244,102]),import.meta.url),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=a8e(this);e.dynamicDataSource=this.dynamicDataSource;const t=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=yX(this.definitionExpression,t);return e.where=i||"1=1",e}async deleteAttachments(e,t){const i=await XTe(this,e,t,ys);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(e){return QTe(this,e,ys)}getFeatureType(e){return g8e(this.types,this.typeIdField,e)}getFieldDomain(e,t){var g,w;const i=t==null?void 0:t.feature,n=!!((g=this.subtypes)!=null&&g.length);if(n&&!(t!=null&&t.excludeImpliedDomains)){const E=u8e(this,e);if(E)return E}const s=n&&c8e(this,i);if(s){const E=(w=s==null?void 0:s.domains)==null?void 0:w[e];return(E==null?void 0:E.type)==="inherited"?this._getLayerDomain(e):E}const u=this.getFeatureType(i),p=this._getLayerDomain(e);if(u){const E=u.domains&&u.domains[e];if(E&&(E==null?void 0:E.type)!=="inherited")return E}if(p)return p;if(!(t!=null&&t.excludeImpliedDomains)){const E=h8e(this,e);if(E)return E}return null}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return e8e(this,e,t,ys)}async queryFeatures(e,t){const i=await this.load(),n=await i.source.queryFeatures(hp.from(e)??i.createQuery(),t);if(n!=null&&n.features)for(const s of n.features)s.layer=s.sourceLayer=i;return n}async queryObjectIds(e,t){return t8e(this,e,t,ys)}async queryFeatureCount(e,t){return i8e(this,e,t,ys)}async queryExtent(e,t){return n8e(this,e,t,ys)}async queryRelatedFeatures(e,t){return r8e(this,e,t,ys)}async queryRelatedFeaturesCount(e,t){return s8e(this,e,t,ys)}async queryTopFeatures(e,t){var p;const{source:i,capabilities:n}=await this.load();if(!i.queryTopFeatures||!((p=n==null?void 0:n.query)!=null&&p.supportsTopFeaturesQuery))throw new ze(ys,"Layer source does not support queryTopFeatures capability");const s=await rt(()=>import("./TopFeaturesQuery-lZ__aQ_A.js"),[],import.meta.url),u=await i.queryTopFeatures(s.default.from(e),t);if(u!=null&&u.features)for(const g of u.features)g.layer=g.sourceLayer=this;return u}async queryBins(e,t){var p;const{source:i,capabilities:n}=await this.load();if(!i.queryBins||!((p=n==null?void 0:n.operations)!=null&&p.supportsQueryBins))throw new ze(ys,"Layer source does not support queryBins capability");b8e(e,n,ys);const s=await rt(()=>import("./BinsQuery-CExLb5DW.js"),__vite__mapDeps([245,123,16,17,18,19,107]),import.meta.url),u=await i.queryBins(s.default.from(e),t);if(u.features)for(const g of u.features)g.layer=g.sourceLayer=this;return u}async queryTopObjectIds(e,t){const{source:i,capabilities:n}=await this.load();if(!i.queryTopObjectIds||!(n!=null&&n.query.supportsTopFeaturesQuery))throw new ze(ys,"Layer source does not support queryTopObjectIds capability");const s=await rt(()=>import("./TopFeaturesQuery-lZ__aQ_A.js"),[],import.meta.url);return i.queryTopObjectIds(s.default.from(e),t)}async queryTopFeaturesExtent(e,t){var u;const{source:i,capabilities:n}=await this.load();if(!i.queryTopExtents||!((u=n==null?void 0:n.query)!=null&&u.supportsTopFeaturesQuery))throw new ze(ys,"Layer source does not support queryTopExtents capability");const s=await rt(()=>import("./TopFeaturesQuery-lZ__aQ_A.js"),[],import.meta.url);return i.queryTopExtents(s.default.from(e),t)}async queryTopFeatureCount(e,t){var u;const{source:i,capabilities:n}=await this.load();if(!i.queryTopCount||!((u=n==null?void 0:n.query)!=null&&u.supportsTopFeaturesQuery))throw new ze(ys,"Layer source does not support queryFeatureCount capability");const s=await rt(()=>import("./TopFeaturesQuery-lZ__aQ_A.js"),[],import.meta.url);return i.queryTopCount(s.default.from(e),t)}read(e,t){const i=e.featureCollection;if((i||e.type==="Feature Collection")&&(this.resourceInfo=e),i){const n=i.layers;n&&n.length===1&&(super.read(n[0],t),i.showLegend!=null&&super.read({showLegend:i.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:(t==null?void 0:t.origin)??void 0,writeLayerSchema:(t==null?void 0:t.writeLayerSchema)??this._hasMemorySource()};const{origin:i,layerContainerType:n,messages:s}=t;if(this.dynamicDataSource)return s==null||s.push(jx(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&n!=="tables")return s==null||s.push(jx(this,`a table source can only be written to tables, not ${n}`)),null;if(this._hasMemorySource())return s==null||s.push(jx(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&n==="tables")return s==null||s.push(jx(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new ze(ys,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){var t;return!!this.loaded&&(((t=this.source)==null?void 0:t.type)==="memory"||b$e(this,e))}async save(e){return this._debouncedSaveOperations(xy.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(xy.SAVE_AS,t,e)}_readEditingEnabled(e,t,i){var s;let n=(s=e.layerDefinition)==null?void 0:s.capabilities;return n?this._hasEditingCapability(n):(n=e.capabilities,t&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,i,n){var s,u;if(!e){const p=(u=(s=this.capabilities)==null?void 0:s.operations)!=null&&u.supportsSync?"Query,Sync":"Query";Zs("layerDefinition.capabilities",p,t),i&&!(n!=null&&n.writeLayerSchema)&&(t.capabilities=p)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstValidLayerId(e){return en(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const i=t.data;if(i)return this.findFirstValidLayerId(i)})}async initLayerProperties(e){var t;return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(t=this.portalItem)==null?void 0:t.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),YF(this.renderer,this.fieldsIndex),EX(this.timeInfo,this.fieldsIndex),w$e(this,{origin:"service"})}async hasDataChanged(){return o8e(this)}async fetchPublishingStatus(){const e=this.source;return e!=null&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var t,i;const e=((t=this.parsedUrl)==null?void 0:t.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||(i=this.fields)!=null&&i.some(n=>n.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(i=>{var s;const n=(s=i.prototype)==null?void 0:s.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new ze("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new ze("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this.addHandles([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};S([M(VTe)],kt.prototype,"attributeTableTemplate",void 0),S([ht("service","capabilities")],kt.prototype,"readCapabilities",null),S([M({json:{origins:{"web-scene":{write:!1}},write:!0}})],kt.prototype,"charts",void 0),S([M({readOnly:!0})],kt.prototype,"createQueryVersion",null),S([M({json:{read:{source:"layerDefinition.copyrightText"}}})],kt.prototype,"copyright",void 0),S([M({json:{read:{source:"layerDefinition.displayField"}}})],kt.prototype,"displayField",void 0),S([M({types:cl,readOnly:!0})],kt.prototype,"defaultSymbol",void 0),S([M({type:Ql})],kt.prototype,"dynamicDataSource",void 0),S([M({type:Boolean})],kt.prototype,"editingEnabled",null),S([ht(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],kt.prototype,"readEditingEnabled",null),S([ht("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],kt.prototype,"readEditingEnabledFromWebMap",null),S([vt(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],kt.prototype,"writeEditingEnabled",null),S([vt("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],kt.prototype,"writeEditingEnabledToWebMap",null),S([M({readOnly:!0})],kt.prototype,"effectiveEditingEnabled",null),S([M({...R8.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:D8}}}}})],kt.prototype,"fields",void 0),S([M(R8.fieldsIndex)],kt.prototype,"fieldsIndex",void 0),S([M({type:H6e,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],kt.prototype,"formTemplate",void 0),S([M({json:{read:{source:"layerDefinition.extent"}}})],kt.prototype,"fullExtent",void 0),S([M({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:D8,writer(e,t,i){const n=e?fA.toJSON(e):null;n&&Zs(i,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:fA.read}}})],kt.prototype,"geometryType",void 0),S([M({json:{read:{source:"layerDefinition.hasM"}}})],kt.prototype,"hasM",void 0),S([M({json:{read:{source:"layerDefinition.hasZ"}}})],kt.prototype,"hasZ",void 0),S([M(jTe)],kt.prototype,"id",void 0),S([M({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],kt.prototype,"infoFor3D",void 0),S([M({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],kt.prototype,"isTable",void 0),S([ht("service","isTable",["type","geometryType"]),ht("isTable",["layerDefinition.type","layerDefinition.geometryType"])],kt.prototype,"readIsTable",null),S([vt("web-map","isTable")],kt.prototype,"writeIsTable",null),S([M(EP)],kt.prototype,"labelsVisible",void 0),S([M({type:[M6],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:P8,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:P8,write:{enabled:!0,layerContainerTypes:ss}}},name:"layerDefinition.drawingInfo.labelingInfo",read:P8,write:!0}})],kt.prototype,"labelingInfo",void 0),S([M((()=>{const e=ke(zTe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,i,n){Zs(n,jI(t),i)}}},e})())],kt.prototype,"opacity",void 0),S([M(NTe)],kt.prototype,"legendEnabled",void 0),S([M({type:["show","hide"],json:(()=>{const e=ke(qte.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],kt.prototype,"listMode",void 0),S([ht("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],kt.prototype,"readGlobalIdField",null),S([M({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:D8}}}}})],kt.prototype,"objectIdField",void 0),S([ht("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],kt.prototype,"readObjectIdField",null),S([M({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],kt.prototype,"operationalLayerType",void 0),S([M(R8.outFields)],kt.prototype,"outFields",void 0),S([M({readOnly:!0})],kt.prototype,"parsedUrl",null),S([M({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],kt.prototype,"path",void 0),S([M(_P)],kt.prototype,"popupEnabled",void 0),S([M({type:t3,json:{name:"popupInfo",write:!0}})],kt.prototype,"popupTemplate",void 0),S([M({readOnly:!0})],kt.prototype,"defaultPopupTemplate",null),S([M({types:v6,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:f6e,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:ss,overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],kt.prototype,"renderer",null),S([ht("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ht("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],kt.prototype,"readRenderer",null),S([M()],kt.prototype,"resourceInfo",void 0),S([M((()=>{const e=ke(RTe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],kt.prototype,"screenSizePerspectiveEnabled",void 0),S([M({clonable:!1})],kt.prototype,"source",null),S([pn("source")],kt.prototype,"castSource",null),S([ht("portal-item","source",["featureSet"]),ht("web-map","source",["featureSet"])],kt.prototype,"readSource",null),S([M({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],kt.prototype,"spatialReference",void 0),S([M({type:Number})],kt.prototype,"subtypeCode",void 0),S([M({type:[DP]})],kt.prototype,"templates",void 0),S([ht("templates",["editFieldsInfo","creatorField","editorField","templates"])],kt.prototype,"readTemplates",null),S([M({type:Tie})],kt.prototype,"timeInfo",void 0),S([M()],kt.prototype,"title",void 0),S([ht("service","title",["name"]),ht("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],kt.prototype,"readTitle",null),S([ht("web-map","title",["layerDefinition.name","title"])],kt.prototype,"readTitleFromWebMap",null),S([M({type:String})],kt.prototype,"sublayerTitleMode",void 0),S([M({json:{read:!1}})],kt.prototype,"type",void 0),S([M({type:String})],kt.prototype,"typeIdField",void 0),S([ht("service","typeIdField"),ht("typeIdField",["layerDefinition.typeIdField"])],kt.prototype,"readTypeIdField",null),S([M({type:[Mie]})],kt.prototype,"types",void 0),S([ht("service","types",["types"]),ht("types",["layerDefinition.types"])],kt.prototype,"readTypes",null),S([M({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],kt.prototype,"visible",void 0),S([ht("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],kt.prototype,"readVisible",null),kt=S([ue("esri.layers.FeatureLayer")],kt);const $ie=kt,kqe=Object.freeze(Object.defineProperty({__proto__:null,default:$ie},Symbol.toStringTag,{value:"Module"}));let cy=class extends Zt{constructor(t){super(t),this.length=null,this.verticalLength=null,this.area=null}};S([M()],cy.prototype,"length",void 0),S([M()],cy.prototype,"verticalLength",void 0),S([M()],cy.prototype,"area",void 0),cy=S([ue("esri.views.interactive.sketch.Units")],cy);const J4=cy;let A6=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}normalize(t,i=0,n=!1){return hH(this.range,this.min,this.max,t,i,n)}clamp(t,i=0){return yl(t-i,this.min,this.max)+i}monotonic(t,i,n){return t<i?i:i+TA(this.range,t-i,n)}minimalMonotonic(t,i,n){return hH(this.range,t,t+this.range,i,n)}center(t,i,n){return i=this.monotonic(t,i,n),this.normalize((t+i)/2,n)}diff(t,i,n){return this.monotonic(t,i,n)-t}shortestSignedDiff(t,i){t=this.normalize(t);const n=(i=this.normalize(i))-t,s=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(n)<Math.abs(s)?n:s}contains(t,i,n){return i=this.minimalMonotonic(t,i),(n=this.minimalMonotonic(t,n))>t&&n<i}};function hH(e,t,i,n,s=0,u=!1){return(n-=s)<t?n+=TA(e,t-n):n>i&&(n-=TA(e,n-i)),u&&n===i&&(n=t),n+s}function TA(e,t,i=0){return Math.ceil((t-i)/e)*e+i}const Oqe=new A6(0,2*Math.PI),Iqe=new A6(-Math.PI,Math.PI),O$e=new A6(0,360);function I$e(e,t){return{type:c1(t),value:e,unit:t}}function Pqe(e){return{value:e}}function kie(e,t){return{type:c1(t),value:e,unit:t}}function P$e(e,t){return{type:c1(t),value:e,unit:t}}function vu(e,t,i="arithmetic"){return{type:c1(t),value:e,unit:t,rotationType:i}}function Rqe(e,t){const i=O6(e,t);return e.type==="angle"?vu(i,t,e.rotationType):I$e(i,t)}function O6(e,t){return bn(e.value,e.unit,t)}function Dqe(e,t){return e==null?t:t==null||e.value>bn(t.value,t.unit,e.unit)?e:t}function Nqe(e,t){return e==null?null:{...e,value:e.value*t}}function NP(e,t,i){if(t===i)return e;switch(i){case"arithmetic":case"geographic":return 90-e}}const Lqe=kie(0,"meters"),zqe=P$e(0,"square-meters");vu(0,"radians");const jqe=vu(0,"degrees"),Fqe=vu(0,"degrees","geographic");function Cie(e,t){return e[0]=t[0],e[1]=t[1],e}function LP(e,t,i){return e[0]=t,e[1]=i,e}function Aie(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function Vr(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function Oie(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function Iie(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function R$e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function D$e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function N$e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function L$e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function z$e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Pie(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function lc(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e}function v3(e,t){const i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)}function I6(e,t){const i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function P6(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function Nh(e){const t=e[0],i=e[1];return t*t+i*i}function j$e(e,t){return e[0]=-t[0],e[1]=-t[1],e}function F$e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function Rie(e,t){const i=t[0],n=t[1];let s=i*i+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s),e}function fp(e,t){return e[0]*t[0]+e[1]*t[1]}function U$e(e,t,i){const n=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=n,e}function zP(e,t,i,n){const s=t[0],u=t[1];return e[0]=s+n*(i[0]-s),e[1]=u+n*(i[1]-u),e}function V$e(e,t=1){const i=2*l3()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function G$e(e,t,i){const n=t[0],s=t[1];return e[0]=i[0]*n+i[2]*s,e[1]=i[1]*n+i[3]*s,e}function H$e(e,t,i){const n=t[0],s=t[1];return e[0]=i[0]*n+i[2]*s+i[4],e[1]=i[1]*n+i[3]*s+i[5],e}function q$e(e,t,i){const n=t[0],s=t[1];return e[0]=i[0]*n+i[3]*s+i[6],e[1]=i[1]*n+i[4]*s+i[7],e}function B$e(e,t,i){const n=t[0],s=t[1];return e[0]=i[0]*n+i[4]*s+i[12],e[1]=i[1]*n+i[5]*s+i[13],e}function Die(e,t,i,n){const s=t[0]-i[0],u=t[1]-i[1],p=Math.sin(n),g=Math.cos(n);return e[0]=s*g-u*p+i[0],e[1]=s*p+u*g+i[1],e}function Nie(e,t){const i=e[0],n=e[1],s=t[0],u=t[1];let p=i*i+n*n;p>0&&(p=1/Math.sqrt(p));let g=s*s+u*u;g>0&&(g=1/Math.sqrt(g));const w=(i*s+n*u)*p*g;return w>1?0:w<-1?Math.PI:Math.acos(w)}function W$e(e){return"vec2("+e[0]+", "+e[1]+")"}function MA(e,t){return e[0]===t[0]&&e[1]===t[1]}function Lie(e,t){const i=e[0],n=e[1],s=t[0],u=t[1],p=Cr();return Math.abs(i-s)<=p*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-u)<=p*Math.max(1,Math.abs(n),Math.abs(u))}function $A(e,t,i,n,s){let u=t[0]-i[0],p=t[1]-i[1];const g=(n[0]*u+n[1]*p)*(s-1);return u=n[0]*g,p=n[1]*g,e[0]=t[0]+u,e[1]=t[1]+p,e}const J$e=P6,zie=Vr,Z$e=Oie,Y$e=Iie,K$e=v3,X$e=I6,Q$e=Nh;Object.freeze(Object.defineProperty({__proto__:null,add:Aie,angle:Nie,ceil:R$e,copy:Cie,cross:U$e,dist:K$e,distance:v3,div:Y$e,divide:Iie,dot:fp,equals:Lie,exactEquals:MA,floor:D$e,inverse:F$e,len:J$e,length:P6,lerp:zP,max:L$e,min:N$e,mul:Z$e,multiply:Oie,negate:j$e,normalize:Rie,projectAndScale:$A,random:V$e,rotate:Die,round:z$e,scale:Pie,scaleAndAdd:lc,set:LP,sqrDist:X$e,sqrLen:Q$e,squaredDistance:I6,squaredLength:Nh,str:W$e,sub:zie,subtract:Vr,transformMat2:G$e,transformMat2d:H$e,transformMat3:q$e,transformMat4:B$e},Symbol.toStringTag,{value:"Module"}));function Zn(){return[0,0]}function eke(e){return[e[0],e[1]]}function pl(e,t){return[e,t]}function jie(e,t=Zn()){const i=Math.min(2,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function tke(e,t){return new Float64Array(e,t,2)}function Fie(){return Zn()}function Uie(){return pl(1,1)}function Vie(){return pl(1,0)}function Gie(){return pl(0,1)}const Hie=Fie(),ike=Uie(),nke=Vie(),qie=Gie();Object.freeze(Object.defineProperty({__proto__:null,ONES:ike,UNIT_X:nke,UNIT_Y:qie,ZEROS:Hie,clone:eke,create:Zn,createView:tke,fromArray:jie,fromValues:pl,ones:Uie,unitX:Vie,unitY:Gie,zeros:Fie},Symbol.toStringTag,{value:"Module"}));function mc(e){const t=e[0],i=e[1],n=e[2];return Math.sqrt(t*t+i*i+n*n)}function jo(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function In(e,t,i,n){return e[0]=t,e[1]=i,e[2]=n,e}function Lo(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function cr(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function Bie(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function Wie(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function rke(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function ske(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function oke(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function ake(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function lke(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function cke(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function uke(e,t=0,i=1){return e[0]=Math.min(Math.max(e[0],t),i),e[1]=Math.min(Math.max(e[1],t),i),e[2]=Math.min(Math.max(e[2],t),i),e}function hke(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Ma(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function ns(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e}function pp(e,t){const i=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(i*i+n*n+s*s)}function pg(e,t){const i=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return i*i+n*n+s*s}function R6(e){const t=e[0],i=e[1],n=e[2];return t*t+i*i+n*n}function kA(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function dke(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function Fr(e,t){const i=t[0],n=t[1],s=t[2];let u=i*i+n*n+s*s;return u>0&&(u=1/Math.sqrt(u),e[0]=t[0]*u,e[1]=t[1]*u,e[2]=t[2]*u),e}function Ii(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pr(e,t,i){const n=t[0],s=t[1],u=t[2],p=i[0],g=i[1],w=i[2];return e[0]=s*w-u*g,e[1]=u*p-n*w,e[2]=n*g-s*p,e}function fke(e,t,i){const n=t[0],s=t[1],u=t[2],p=i[0],g=i[1],w=i[2],E=s*w-u*g,A=u*p-n*w,I=n*g-s*p,R=Math.sqrt(E*E+A*A+I*I);return e[0]=E/R,e[1]=A/R,e[2]=I/R,e}function qg(e,t,i,n){const s=t[0],u=t[1],p=t[2];return e[0]=s+n*(i[0]-s),e[1]=u+n*(i[1]-u),e[2]=p+n*(i[2]-p),e}function pke(e,t,i,n,s,u){const p=u*u,g=p*(2*u-3)+1,w=p*(u-2)+u,E=p*(u-1),A=p*(3-2*u);return e[0]=t[0]*g+i[0]*w+n[0]*E+s[0]*A,e[1]=t[1]*g+i[1]*w+n[1]*E+s[1]*A,e[2]=t[2]*g+i[2]*w+n[2]*E+s[2]*A,e}function mke(e,t,i,n,s,u){const p=1-u,g=p*p,w=u*u,E=g*p,A=3*u*g,I=3*w*p,R=w*u;return e[0]=t[0]*E+i[0]*A+n[0]*I+s[0]*R,e[1]=t[1]*E+i[1]*A+n[1]*I+s[1]*R,e[2]=t[2]*E+i[2]*A+n[2]*I+s[2]*R,e}function yke(e,t=1){const i=l3,n=2*i()*Math.PI,s=2*i()-1,u=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(n)*u,e[1]=Math.sin(n)*u,e[2]=s*t,e}function Jie(e,t,i){const n=t[0],s=t[1],u=t[2];return e[0]=i[0]*n+i[4]*s+i[8]*u+i[12],e[1]=i[1]*n+i[5]*s+i[9]*u+i[13],e[2]=i[2]*n+i[6]*s+i[10]*u+i[14],e}function gke(e,t,i){const n=t[0],s=t[1],u=t[2];return e[0]=n*i[0]+s*i[3]+u*i[6],e[1]=n*i[1]+s*i[4]+u*i[7],e[2]=n*i[2]+s*i[5]+u*i[8],e}function CA(e,t,i){const n=i[0],s=i[1],u=i[2],p=i[3],g=t[0],w=t[1],E=t[2],A=s*E-u*w,I=u*g-n*E,R=n*w-s*g,F=s*R-u*I,q=u*A-n*R,B=n*I-s*A,K=2*p;return e[0]=g+A*K+2*F,e[1]=w+I*K+2*q,e[2]=E+R*K+2*B,e}function vke(e,t,i,n){const s=[],u=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],u[0]=s[0],u[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),u[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),e[0]=u[0]+i[0],e[1]=u[1]+i[1],e[2]=u[2]+i[2],e}function bke(e,t,i,n){const s=[],u=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],u[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),u[1]=s[1],u[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),e[0]=u[0]+i[0],e[1]=u[1]+i[1],e[2]=u[2]+i[2],e}function wke(e,t,i,n){const s=[],u=[];return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],u[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),u[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),u[2]=s[2],e[0]=u[0]+i[0],e[1]=u[1]+i[1],e[2]=u[2]+i[2],e}function xke(e,t){Fr(dH,e),Fr(fH,t);const i=Ii(dH,fH);return i>1?0:i<-1?Math.PI:Math.acos(i)}const dH=ft(),fH=ft();function Ske(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function ln(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tw(e,t){if(e===t)return!0;const i=e[0],n=e[1],s=e[2],u=t[0],p=t[1],g=t[2],w=Cr();return Math.abs(i-u)<=w*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(n-p)<=w*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(s-g)<=w*Math.max(1,Math.abs(s),Math.abs(g))}function AA(e,t,i){const n=i[0]-t[0],s=i[1]-t[1],u=i[2]-t[2];let p=n*n+s*s+u*u;return p>0?(p=1/Math.sqrt(p),e[0]=n*p,e[1]=s*p,e[2]=u*p,e):(e[0]=0,e[1]=0,e[2]=0,e)}const zo=cr,_ke=Bie,Eke=Wie,Tke=pp,Mke=pg,Zie=mc,Z4=R6;Object.freeze(Object.defineProperty({__proto__:null,abs:oke,add:Lo,angle:xke,bezier:mke,ceil:rke,clamp:uke,copy:jo,cross:pr,crossAndNormalize:fke,direction:AA,dist:Tke,distance:pp,div:Eke,divide:Wie,dot:Ii,equals:Tw,exactEquals:ln,floor:ske,hermite:pke,inverse:dke,len:Zie,length:mc,lerp:qg,max:cke,min:lke,mul:_ke,multiply:Bie,negate:kA,normalize:Fr,random:yke,rotateX:vke,rotateY:bke,rotateZ:wke,round:hke,scale:Ma,scaleAndAdd:ns,set:In,sign:ake,sqrDist:Mke,sqrLen:Z4,squaredDistance:pg,squaredLength:R6,str:Ske,sub:zo,subtract:cr,transformMat3:gke,transformMat4:Jie,transformQuat:CA},Symbol.toStringTag,{value:"Module"}));function Yie(e,t,i,n){if(Dh(e.spatialReference,i)){Fx[0]=e.x,Fx[1]=e.y;const u=e.z;return Fx[2]=u??n??0,Gg(Fx,e.spatialReference,0,t,i,0)}const s=fg(e,i);return!!s&&(t[0]=s==null?void 0:s.x,t[1]=s==null?void 0:s.y,t[2]=(s==null?void 0:s.z)??n??0,!0)}async function Uqe(e,t,i,n,s){return await g3(e.spatialReference,i,null,s),Yie(e,t,i,n)}const Fx=ft();function _u(e,t,i,n){return{x:e,y:t,z:i,hasZ:i!=null,hasM:!1,spatialReference:n,type:"point"}}function Kie(e,t,i,n,s){e.x=t,e.y=i,e.z=n,e.hasZ=n!=null,e.spatialReference=s}function ep(e,t,i,n,s){return!(t==null||n==null||e.length<2)&&(cb.x=e[0],cb.y=e[1],cb.z=e[2],cb.spatialReference=t,Yie(cb,i,n,s))}const cb=_u(0,0,0,li.WGS84);function Xie(e){if(!e)return null;const t=e.wkid;if(t)return _Me[t];const i=e.wkt2??e.wkt;return i?$ke(i):null}function $ke(e){const t=xMe.exec(e);if(!t||t.length!==2)return null;const i=t[1].split(",");if(!i||i.length<3)return null;const n=parseFloat(i[1]),s=parseFloat(i[2]);return isNaN(n)||isNaN(s)?null:{a:n,f:s===0?0:1/s}}function D6(e){const t=Xie(e);if(kke(t))return t;const i=t.a*(1-t.f);return Object.assign(t,{b:i,eSq:1-(i/t.a)**2,radius:(2*t.a+i)/3,densificationRatio:1e4/((2*t.a+i)/3)})}function kke(e){return e!=null&&"b"in e&&"eSq"in e&&"radius"in e}function Ux(e,t,i){const{a:n,eSq:s}=D6(i),u=Math.sqrt(s),p=Math.sin(t[1]*lo),g=n*t[0]*lo;let w;return s>0?w=n*((1-s)*(p/(1-s*(p*p))-1/(2*u)*Math.log((1-u*p)/(1+u*p))))*.5:w=n*p,e[0]=g,e[1]=w,e}function N6(e){return eg(e)&&!!Xie(e)}function Vqe(e,t="square-meters"){if(e.some(p=>!N6(p.spatialReference)))throw new ze("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const i=[];for(let p=0;p<e.length;p++){const g=e[p],w=g.spatialReference,{radius:E,densificationRatio:A}=D6(w),I=E*A;i.push(Cke(g,I))}const n=[],s=[0,0],u=[0,0];for(let p=0;p<i.length;p++){const{rings:g,spatialReference:w}=i[p];let E=0;for(let A=0;A<g.length;A++){const I=g[A];Ux(s,I[0],w),Ux(u,I[I.length-1],w);let R=u[0]*s[1]-s[0]*u[1];for(let F=0;F<I.length-1;F++)Ux(s,I[F+1],w),Ux(u,I[F],w),R+=u[0]*s[1]-s[0]*u[1];E+=R}E=bn(E,"square-meters",t),n.push(E/-2)}return n}function Gqe(e,t="meters"){if(!e)throw new ze("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(e.some(n=>!N6(n.spatialReference)))throw new ze("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const i=[];for(let n=0;n<e.length;n++){const s=e[n],{spatialReference:u}=s,p=s.type==="polyline"?s.paths:s.rings;let g=0;for(let w=0;w<p.length;w++){const E=p[w];let A=0;for(let I=1;I<E.length;I++){const R=E[I-1][0],F=E[I][0],q=E[I-1][1],B=E[I][1];if(q!==B||R!==F){const K=new b3;w3(K,[R,q],[F,B],u),A+=K.distance}}g+=A}g=bn(g,"meters",t),i.push(g)}return i}function Cke(e,t){if(e.type!=="polyline"&&e.type!=="polygon")throw new ze("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:i}=e;if(!N6(i))throw new ze("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const n=e.type==="polyline"?e.paths:e.rings,s=[],u=[0,0],p=new b3;for(const w of n){const E=[];s.push(E),E.push([w[0][0],w[0][1]]);let A,I,R=w[0][0],F=w[0][1];for(let q=0;q<w.length-1;q++){if(A=w[q+1][0],I=w[q+1][1],R===A&&F===I)continue;const B=[R,F];w3(p,[R,F],[A,I],i);const{azimuth:K,distance:te}=p,ce=te/t;if(ce>1){for(let ye=1;ye<=ce-1;ye++)zf(u,B,K,ye*t,i),E.push(u.slice());zf(u,B,K,(te+Math.floor(ce-1)*t)/2,i),E.push(u.slice())}zf(u,B,K,te,i),E.push(u.slice()),R=u[0],F=u[1]}}const g=Vw(li,i);return e.type==="polyline"?new qh({paths:s,spatialReference:g}):new fo({rings:s,spatialReference:g})}let b3=class{constructor(t=0,i=void 0,n=void 0){this.distance=t,this.azimuth=i,this.reverseAzimuth=n}};function zf(e,t,i,n,s){const u=t[0],p=t[1],g=u*lo,w=p*lo,E=(i??0)*lo,{a:A,b:I,f:R}=D6(s),F=Math.sin(E),q=Math.cos(E),B=(1-R)*Math.tan(w),K=1/Math.sqrt(1+B*B),te=B*K,ce=Math.atan2(B,q),ye=K*F,_e=ye*ye,we=1-_e,xe=we*(A*A-I*I)/(I*I),pe=1+xe/16384*(4096+xe*(xe*(320-175*xe)-768)),Ze=xe/1024*(256+xe*(xe*(74-47*xe)-128));let Fe,He,nt,Qe,De=n/(I*pe),Me=2*Math.PI;for(;Math.abs(De-Me)>1e-12;)nt=Math.cos(2*ce+De),Fe=Math.sin(De),He=Math.cos(De),Qe=Ze*Fe*(nt+Ze/4*(He*(2*nt*nt-1)-Ze/6*nt*(4*Fe*Fe-3)*(4*nt*nt-3))),Me=De,De=n/(I*pe)+Qe;const et=te*Fe-K*He*q,Ve=Math.atan2(te*He+K*Fe*q,(1-R)*Math.sqrt(_e+et*et)),lt=Math.atan2(Fe*F,K*He-te*Fe*q),st=R/16*we*(4+R*(4-3*we)),Tt=Ve/lo,Se=(g+(lt-(1-st)*R*ye*(De+st*Fe*(nt+st*He*(2*nt*nt-1)))))/lo;return e[0]=Se,e[1]=Tt,e}function w3(e,t,i,n){const s=t[0]*lo,u=t[1]*lo,p=i[0]*lo,g=i[1]*lo,{a:w,b:E,f:A,radius:I}=D6(n),R=p-s,F=Math.atan((1-A)*Math.tan(u)),q=Math.atan((1-A)*Math.tan(g)),B=Math.sin(F),K=Math.cos(F),te=Math.sin(q),ce=Math.cos(q);let ye,_e,we,xe,pe,Ze,Fe,He,nt,Qe,De=1e3,Me=R;do{if(Fe=Math.sin(Me),He=Math.cos(Me),we=Math.sqrt(ce*Fe*(ce*Fe)+(K*te-B*ce*He)*(K*te-B*ce*He)),we===0)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;pe=B*te+K*ce*He,Ze=Math.atan2(we,pe),nt=K*ce*Fe/we,_e=1-nt*nt,xe=pe-2*B*te/_e,isNaN(xe)&&(xe=0),Qe=A/16*_e*(4+A*(4-3*_e)),ye=Me,Me=R+(1-Qe)*A*nt*(Ze+Qe*we*(xe+Qe*pe*(2*xe*xe-1)))}while(Math.abs(Me-ye)>1e-12&&--De>0);if(De===0){const Se=I,Xe=Math.acos(Math.sin(u)*Math.sin(g)+Math.cos(u)*Math.cos(g)*Math.cos(p-s))*Se,$t=p-s,Mt=Math.sin($t)*Math.cos(g),bt=Math.cos(u)*Math.sin(g)-Math.sin(u)*Math.cos(g)*Math.cos($t),Yt=Math.atan2(Mt,bt);return e.azimuth=Yt/lo,e.distance=Xe,e.reverseAzimuth=void 0,e}const et=_e*(w*w-E*E)/(E*E),Ve=et/1024*(256+et*(et*(74-47*et)-128)),lt=E*(1+et/16384*(4096+et*(et*(320-175*et)-768)))*(Ze-Ve*we*(xe+Ve/4*(pe*(2*xe*xe-1)-Ve/6*xe*(4*we*we-3)*(4*xe*xe-3)))),st=Math.atan2(ce*Math.sin(Me),K*te-B*ce*Math.cos(Me)),Tt=Math.atan2(K*Math.sin(Me),K*te*Math.cos(Me)-B*ce);return e.azimuth=st/lo,e.distance=lt,e.reverseAzimuth=Tt/lo,e}function Y4(e){return N6(e)?e:fc(e)?li.WGS84:null}var $r;function jP(e,t){if(e==null||t==null)return;const i=OA(e,t);return i!=null?vu(i,"radians","geographic"):void 0}(function(e){e.Absolute="absolute",e.Relative="relative",e.RelativeBilateral="relative-bilateral"})($r||($r={}));const OA=(()=>{const e=ft(),t=ft();return(i,n)=>(In(e,i.x,i.y,i.z??0),In(t,n.x,n.y,n.z??0),Ake(e,t,i.spatialReference,n.spatialReference))})(),Ake=(()=>{const e=Zn(),t=ft(),i=ft();return(n,s,u,p)=>{if(ln(n,s))return;const g=Y4(u),w=Y4(p);if(g&&w&&cs(g,w)&&ep(n,u,t,g)&&ep(s,p,i,w)){const{azimuth:A}=w3(Pke,t,i,g);return A!=null?bn(A,"degrees","radians"):void 0}e[0]=s[0]-n[0],e[1]=s[1]-n[1];let E=Nie(qie,e);return e[0]<0&&(E=Rke-E),E}})();function qqe(e,t,i,n=$r.Absolute){if(t&&i)switch(n){case $r.Absolute:return jP(t,i);case $r.Relative:return mH(pH(e,t,i),$r.Relative);case $r.RelativeBilateral:return mH(pH(e,t,i),$r.RelativeBilateral)}}function pH(e,t,i){if(!e||!t||!i)return;const n=OA(e,t),s=OA(t,i);return n!=null&&s!=null?vu(s-n,"radians","geographic"):void 0}function mH(e,t){if(e!=null)switch(t){case $r.Absolute:return Oke(e);case $r.Relative:{const i=bu(e);let n=yH.normalize(i,0,!0);return n===-180&&(n=180),vu(n,"degrees","geographic")}case $r.RelativeBilateral:{const i=bu(e),n=Math.abs(yH.normalize(i,0,!0));return vu(n,"degrees","geographic")}}}function Oke(e){const t=bu(e),i=Dke.normalize(t,0,!0);return vu(i,"degrees","geographic")}const Ike=(()=>{const e=ft();return(t,i,n,s,u,p="geodesic")=>{jo(e,i);const g=bu(u);if(p==="geodesic"){const F=Y4(n);if(F&&ep(e,n,e,F))return zf(t,e,g,s,F),t[2]=i[2],!!ep(t,F,t,n)}const w=NP(g,"geographic","arithmetic"),E=bn(w,"degrees","radians"),A=i[0]+s*Math.cos(E),I=i[1]+s*Math.sin(E),R=i[2];return In(t,A,I,R),!0}})();function bu(e){if(e!=null)return NP(Qie(e),e.rotationType,"geographic")}function Bqe(e){if(e!=null)return NP(Qie(e),e.rotationType,"arithmetic")}function Qie(e){return bn(e.value,e.unit,"degrees")}const Pke=new b3,Rke=2*Math.PI,Dke=O$e,yH=new A6(-180,180);let sf=class extends Zt{constructor(t){super(t),this.directionMode="relative",this.relativeDirectionIsBilateral=!1}get effectiveDirectionMode(){switch(this.directionMode){case"relative":return this.relativeDirectionIsBilateral?$r.RelativeBilateral:$r.Relative;case"absolute":return $r.Absolute}}get displayUnits(){return this._get("displayUnits")??new J4}set displayUnits(t){this._set("displayUnits",t)}get inputUnits(){return this._get("inputUnits")??new J4}set inputUnits(t){this._set("inputUnits",t)}};S([M({type:String,nonNullable:!0})],sf.prototype,"directionMode",void 0),S([M({type:Boolean,nonNullable:!0})],sf.prototype,"relativeDirectionIsBilateral",void 0),S([M()],sf.prototype,"effectiveDirectionMode",null),S([M({type:J4,nonNullable:!0})],sf.prototype,"displayUnits",null),S([M({type:J4,nonNullable:!0})],sf.prototype,"inputUnits",null),sf=S([ue("esri.views.interactive.sketch.SketchValueOptions")],sf);const L6=sf;let bS=class extends Bt{constructor(t){super(t),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(Bt.ofType(this.itemType.Type))(t):new Bt(t)}};function Nke(e,t){return{type:e,cast:bQ,set(i){const n=vQ(i,this._get(t),e);n.owner=this,this._set(t,n)}}}S([M()],bS.prototype,"owner",null),bS=S([ue("esri.core.support.OwningCollection")],bS);let B2=class extends bS{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};S([vI({Type:Zf,ensureType:ls(Zf)})],B2.prototype,"itemType",void 0),B2=S([ue("esri.support.GraphicsCollection")],B2);let lh=class extends Rte(_ie(ite)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new B2,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,i){return super.on(t,i)}graphicChanged(t){this.emit("graphic-update",t)}};S([M({type:jte})],lh.prototype,"elevationInfo",void 0),S([M(Nke(B2,"graphics"))],lh.prototype,"graphics",void 0),S([M({type:["show","hide"]})],lh.prototype,"listMode",void 0),S([M()],lh.prototype,"screenSizePerspectiveEnabled",void 0),S([M({readOnly:!0})],lh.prototype,"type",void 0),S([M({constructOnly:!0})],lh.prototype,"internal",void 0),lh=S([ue("esri.layers.GraphicsLayer")],lh);const Bg=lh,Lke=Object.freeze(Object.defineProperty({__proto__:null,default:Bg},Symbol.toStringTag,{value:"Module"}));function gH(e){switch(e){case dn.SUPPORTED:break;case dn.GRAPHICS_LAYER_MISSING:return"not owned by a graphics layer";case dn.GEOMETRY_MISSING:return"no geometry";case dn.GEOMETRY_TYPE_UNSUPPORTED:return"the geometry type is not supported";case dn.ELEVATION_MODE_UNSUPPORTED:return"the elevation mode is not supported";case dn.SYMBOL_TYPE_UNSUPPORTED:return"the symbol type is not supported"}return""}var dn;(function(e){e[e.SUPPORTED=0]="SUPPORTED",e[e.GRAPHICS_LAYER_MISSING=1]="GRAPHICS_LAYER_MISSING",e[e.GEOMETRY_MISSING=2]="GEOMETRY_MISSING",e[e.GEOMETRY_TYPE_UNSUPPORTED=3]="GEOMETRY_TYPE_UNSUPPORTED",e[e.ELEVATION_MODE_UNSUPPORTED=4]="ELEVATION_MODE_UNSUPPORTED",e[e.SYMBOL_TYPE_UNSUPPORTED=5]="SYMBOL_TYPE_UNSUPPORTED"})(dn||(dn={}));function ene(e){return e?tp:Bke}function zke(e,t){return t!=null&&t.mode?t.mode:ene(e).mode}function tne(e,t){return t??ene(e)}function ine(e,t){return zke(e==null||(e.hasZ??!1),t)}function Kqe(e,t){return tne(e==null||(e.hasZ??!1),t)}function jke(e){const t=nne(e);return ine(e.geometry,t)}function Fke(e){const t=nne(e),i=ine(e.geometry,t),n=t!=null&&i!=="on-the-ground"?qke(t):0,s=t==null?void 0:t.featureExpressionInfo;return{mode:i,offset:n,featureExpressionInfo:s}}function Uke(e){return z6(Fke(e))}function Xqe(e){return z6(e)||Vke(e)}function Vke(e){var t;return((t=e==null?void 0:e.featureExpressionInfo)==null?void 0:t.expression)==="0"}function z6(e){if(!e||e.mode==="on-the-ground")return!1;const t=e!=null&&e.featureExpressionInfo?e.featureExpressionInfo.expression:null;return!(!t||t==="0")}function nne(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function FP(e,t){if(!(e!=null&&e.offset))return 0;const{offset:i,unit:n}=e;if(n==="decimal-degrees")return 0;const s=n!=="unknown"&&n?n:"meters",u=PZ(t);return u?bn(i,s,u):0}function K4(e,t,i){if(!(i!=null&&i.mode))return;const n=e.hasZ?e.z:0,s=FP(i,e.spatialReference);switch(i.mode){case"absolute-height":return n-s;case"on-the-ground":return 0;case"relative-to-ground":return n-((t.elevationProvider.getElevation(e.x,e.y,n,e.spatialReference,"ground")??0)+s);case"relative-to-scene":return n-((t.elevationProvider.getElevation(e.x,e.y,n,e.spatialReference,"scene")??0)+s)}}function UP(e,t,i,n=null){return j6(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,i,n)}function rne(e,t,i,n,s=null){return j6(e,t[0],t[1],t.length>2?t[2]:0,i,n,s)}function j6(e,t,i,n,s,u,p=null){if(u==null)return;const g=p!=null?p.mode:"absolute-height";if(g==="on-the-ground")return 0;const{absoluteZ:w}=Gke(t,i,n,s,e,u);return Hke(w,t,i,n,s,e,p,g)}function Gke(e,t,i,n,s,u){const p=FP(u,n);switch(u.mode){case"absolute-height":return{absoluteZ:i+p,elevation:0};case"on-the-ground":{const g=s.elevationProvider.getElevation(e,t,0,n,"ground")??0;return{absoluteZ:g,elevation:g}}case"relative-to-ground":{const g=s.elevationProvider.getElevation(e,t,i,n,"ground")??0;return{absoluteZ:i+g+p,elevation:g}}case"relative-to-scene":{const g=s.elevationProvider.getElevation(e,t,i,n,"scene")??0;return{absoluteZ:i+g+p,elevation:g}}}}function Hke(e,t,i,n,s,u,p,g){const w=FP(p,s);switch(g){case"absolute-height":return e-w;case"relative-to-ground":return e-((u.elevationProvider.getElevation(t,i,n,s,"ground")??0)+w);case"relative-to-scene":return e-((u.elevationProvider.getElevation(t,i,n,s,"scene")??0)+w)}}function Qqe(e,t){if(t==null)return!1;const{mode:i}=t;return i!=null&&(e==="scene"&&i==="relative-to-scene"||e==="ground"&&i!=="absolute-height")}function eBe(e,t,i){return i&&i.mode!==t?`${e} only support ${t} elevation mode`:null}function tBe(e,t,i){return(i==null?void 0:i.mode)===t?`${e} do not support ${t} elevation mode`:null}function iBe(e,t){return(t==null?void 0:t.featureExpressionInfo)!=null&&t.featureExpressionInfo.expression!=="0"?`${e} do not support featureExpressionInfo`:null}function nBe(e,t){t&&e.warn(".elevationInfo=",t)}function qke(e){return((e==null?void 0:e.offset)??0)*CTe(e==null?void 0:e.unit)}const tp={mode:"absolute-height",offset:0},Bke={mode:"on-the-ground",offset:null};function Wke(e){var n,s;if(e.graphic&&((n=e.graphic.layer)==null?void 0:n.type)!=="graphics")return dn.GRAPHICS_LAYER_MISSING;const t=(s=e.operations)==null?void 0:s.data.type;if(!t)return dn.GEOMETRY_TYPE_UNSUPPORTED;switch(t){case"polygon":case"point":case"polyline":case"mesh":break;default:return dn.GEOMETRY_TYPE_UNSUPPORTED}const i=e.elevationInfo;return z6(i)?dn.ELEVATION_MODE_UNSUPPORTED:dn.SUPPORTED}function Jke(e){return Zke(e).result}function Zke(e){var n;if(e.graphic&&((n=e.graphic.layer)==null?void 0:n.type)!=="graphics")return{result:dn.GRAPHICS_LAYER_MISSING};if(!e.operations)return{result:dn.GEOMETRY_MISSING};if(z6(e.elevationInfo))return{result:dn.ELEVATION_MODE_UNSUPPORTED};const t=e.operations.data.type,i=e.operations.data.geometry;return t==="point"||t==="mesh"||t==="polyline"||t==="polygon"?{result:dn.SUPPORTED,geometry:i}:{result:dn.GEOMETRY_TYPE_UNSUPPORTED}}function Yke(e){var i;if(((i=e.layer)==null?void 0:i.type)!=="graphics")return dn.GRAPHICS_LAYER_MISSING;if(e.geometry==null)return dn.GEOMETRY_MISSING;switch(e.geometry.type){case"point":break;case"polygon":case"polyline":case"multipoint":case"extent":case"mesh":return dn.SUPPORTED;default:return dn.GEOMETRY_TYPE_UNSUPPORTED}const t=e.symbol!=null&&e.symbol.type==="point-3d"&&e.symbol.symbolLayers;return!t||!t.some(n=>n.type==="object")?dn.SYMBOL_TYPE_UNSUPPORTED:jke(e)!=="on-the-ground"&&Uke(e)?dn.ELEVATION_MODE_UNSUPPORTED:dn.SUPPORTED}function vH(e,t,i){if(!t||!(e!=null&&e.map))return;const{map:n}=e;n.layers.find(u=>u===t)||n.add(t,i)}function bH(e,t){const i=(t==null?void 0:t.type)==="subtype-sublayer"?t.parent:t;return e.allLayerViews.find(n=>{const s=n.layer;return s===i||"sublayers"in s&&s.sublayers!=null&&s.sublayers.includes(i)})}const sne=Ge("mac")?"Meta":"Control",Kke=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),Xke=e=>Kke.has(e);let Qke=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const n of this.keyModifiers)if(!i.has(n))return!1;return!0}},one=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const n of i)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,n){let s;typeof i=="function"?(n=i,s=[]):s=i||[];const u=typeof t=="string"?new Qke(t,s):t,p=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},g=A=>{const I=this._incoming[A.match.eventType];if(I){const R=I.indexOf(A);I.splice(R,1),p(),this._manager&&this._manager.updateDependencies()}},w=new eCe(u,n,{onPause:g,onRemove:g,onResume:A=>{const I=this._incoming[A.match.eventType];I&&!I.includes(A)&&(I.push(A),p(),this._manager&&this._manager.updateDependencies())}});let E=this._incoming[u.eventType];return E||(E=[],this._incoming[u.eventType]=E),E.push(w),p(),this._manager&&this._manager.updateDependencies(),w}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new tCe(t,{onEmit:(n,s,u,p)=>{var g;(g=this._manager)==null||g.emit(n.eventType,s,u,p)},onRemove:n=>{var s;delete this._outgoing[n.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!0)}stopCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var n;const i=this._incoming[t.type];if(i){for(const s of i)if(s.match.matches(t)&&((n=s.callback)==null||n.call(s,t),t.shouldStopPropagation()))break}}},eCe=class{constructor(t,i,n){this.match=t,this._callback=i,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},tCe=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,n){this._removed||this._handler.onEmit(this,t,i,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},iCe=class extends one{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:n,y:s}=t;i===this._value&&this._x===n&&this._y===s||(this._value=i,this._x=n,this._y=s,this._onChange(i,n,s))}},nCe=class{constructor(t,i){this._observable=new Zw,this._value=t,this._equalityFunction=i}get value(){return Gt(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function X4(e,t=XW){return new nCe(e,t)}let rCe=class extends one{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=X4(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},sCe=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const n in t){const s=t[n],u=new vJ(s,void 0,void 0,2,2);this._properties[n]={pool:u,acquired:[]}}this._afterDispatchHandle=Cme(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const n of i.acquired)yj(n)||i.pool.release(n);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),n=this._properties[t];let s=n.pool.acquire();for(n.acquired.push(s);s===i;)n.acquired.push(s),s=n.pool.acquire();return s}_release(){for(const t in this._properties){const i=this._properties[t];let n=0;for(const s of i.acquired)yj(s)?i.acquired[n++]=s:i.pool.release(s);i.acquired.length=n}}},Rl=class extends Zt{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=sne,this._latestPointerType="mouse",this._propertiesPool=new sCe({latestPointerLocation:lCe},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,i,n=Un.INTERNAL){if(this._nameToGroup[t]||i.length===0)return;const s={name:t,handlers:i.map(u=>({handler:u,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=s;for(let u=s.handlers.length-1;u>=0;u--){const p=s.handlers[u];this._handlers.push(p),p.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(g,w,E,A,I)=>{this._emitInputEvent(p.priorityIndex+1,g,w,E,I,A)},setPointerCapture:(g,w)=>{this._setPointerCapture(s,p,g,w)},setEventCallback:g=>{p.eventCallback=g},setUninstallCallback:g=>{p.uninstallCallback=g},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(n=>{var s;n.removed=!0,(s=n.uninstallCallback)==null||s.call(n)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):xt.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const s=this._handlers[n];s.priorityIndex=n,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const s=this._handlersPriority[n];s.priorityIndex=n;let u=s.handler.hasSideEffects;if(!u){for(const p of s.handler.outgoingEventTypes)if(t.has(p)){u=!0;break}}if(u)for(const p of s.handler.incomingEventMatches){t.add(p.eventType);for(const g of p.keyModifiers)Xke(g)||i.add(g)}s.active=u}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,n){this._latestPointerType=t;const s=this._get("latestPointerLocation");if(s==null||s.x!==i||s.y!==n){const u=this._propertiesPool.get("latestPointerLocation");u.x=i,u.y=n,this._set("latestPointerLocation",u)}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const u=i;this._pointerCaptures.delete(u.native.pointerId)}this._updateKeyModifiers(t,i);const n=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,s=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(t,i,n,s)}_updateKeyModifiers(t,i){if(!i)return;let n=!1;const s=()=>{n||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),n=!0)},u=(g,w)=>{w&&!this._activeKeyModifiers.has(g)?(s(),this._activeKeyModifiers.add(g)):!w&&this._activeKeyModifiers.has(g)&&(s(),this._activeKeyModifiers.delete(g))};if(t==="key-down"||t==="key-up"){const g=i.key;this._keyModifiers.has(g)&&u(g,t==="key-down")}const p=i.native;u("Alt",!!(p!=null&&p.altKey)),u("Control",!!(p!=null&&p.ctrlKey)),u("Ctrl",!!(p!=null&&p.ctrlKey)),u("Shift",!!(p!=null&&p.shiftKey)),u("Meta",!!(p!=null&&p.metaKey)),u("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new iCe((t,i,n)=>this._setLatestPointer(t,i,n)),this._multiTouchHandler=new rCe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Un.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Un.INTERNAL)}_setPointerCapture(t,i,n,s){const u=t.name+"-"+i.priorityIndex,p=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,p),s?(p.add(u),p.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):p.has(u)&&(p.delete(u),p.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,n,s){this._emitInputEvent(0,t,i,n,s)}_emitInputEvent(t,i,n,s,u,p){const g=s!==void 0?s:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),w=u!==void 0&&u,E={event:new oCe(i,n,g,p||this._activeKeyModifiers,w),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(E):this._doNewPropagation(E)}_doNewPropagation(t){this._currentPropagation={events:new FC,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var i,n,s;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:u,priorityIndex:p}=t.events.pop(),g=(i=u.data)==null?void 0:i.eventId;if(!(g!=null&&this._stoppedPropagationEventIds.has(g)))for(t.currentHandler=this._handlersPriority[p];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!u.shouldStopPropagation()&&((s=(n=t.currentHandler).eventCallback)==null||s.call(n,u)),u.shouldStopPropagation()){g!=null&&this._stoppedPropagationEventIds.add(g);break}if(u.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:u,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const i=new FC;i.push(t);const n=this._currentPropagation;if(n){for(;n.events.length;)i.push(n.events.pop());n.events=i,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const n of t.handler.incomingEventMatches)for(const s of i.handler.incomingEventMatches){if(n.eventType!==s.eventType)continue;const u=n.keyModifiers.filter(p=>s.keyModifiers.includes(p));if(u.length===n.keyModifiers.length!=(u.length===s.keyModifiers.length))return n.keyModifiers.length>s.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const n of t){let s=0;for(;s<i.length&&this._compareHandlerPriority(n,i[s])>=0;)s++;i.splice(s,0,n)}return i}get debug(){const t=i=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=n};return{injectEvent:(i,n)=>{t(()=>this._onEventReceived(i,n))},disablePointerCapture:t}}};S([M({readOnly:!0})],Rl.prototype,"hasPendingInputs",null),S([M({constructOnly:!0})],Rl.prototype,"eventSource",void 0),S([M({constructOnly:!0})],Rl.prototype,"recognizers",void 0),S([M()],Rl.prototype,"_latestPointerType",void 0),S([M()],Rl.prototype,"latestPointerType",null),S([M()],Rl.prototype,"multiTouchActive",null),S([M({readOnly:!0})],Rl.prototype,"latestPointerLocation",void 0),S([M()],Rl.prototype,"_paused",void 0),S([M({readOnly:!0})],Rl.prototype,"updating",null),Rl=S([ue("esri.views.input.InputManager")],Rl);let oCe=class{constructor(t,i,n,s,u){this.type=t,this.data=i,this.timestamp=n,this.modifiers=s,this.cancelable=u,this._propagationState=gf.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=gf.STOPPED}shouldStopPropagation(){return!!(this._propagationState&gf.STOPPED)}async(t){this._propagationState|=gf.PAUSED;const i=(n,s)=>{this._propagationState&=~gf.PAUSED;const u=this._resumeCallback;if(this._resumeCallback=null,u&&u(),s)throw n;return n};return(typeof t=="function"?t():t).then(n=>i(n,!1),n=>i(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&gf.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var gf;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(gf||(gf={}));const Un={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let aCe=class{};const lCe=aCe,cCe="z",uCe="r",Cn={redo:uCe,undo:cCe,center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},wH={toggle:"Control"},mBe={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},yBe={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:sne,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let gBe=class{constructor(){this._bindings=new Map}add(t,i){return this.addToggle(t,n=>{n.type==="key-down"&&i(n)})}addToggle(t,i){const n=hCe.fromDefinition(t,i),s=DO(this._bindings,n.key,()=>[]);return s.push(n),Mi(()=>k_(s,n))}register(t,i=Un.WIDGET){return Hh([t.on("key-down",n=>this.dispatch(t.inputManager,n),i),t.on("key-up",n=>this.dispatch(t.inputManager,n),i)])}dispatch(t,i){const n=i.key,s=this._bindings.get(n);if(s)for(const u of s)u.process(t,i)}},hCe=class IA{constructor(t,i,n,s,u){this.key=t,this.modifiers=i,this.repeats=n,this.continuePropagation=s,this.callback=u}process(t,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const n of this.modifiers)if(!t.isModifierKeyDown(n))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(t,i){if(typeof t=="string")return new IA(t,[],!1,!1,i);const{key:n,modifier:s,repeats:u,continuePropagation:p}=t;return new IA(n,s?Array.isArray(s)?s:[s]:[],!!u,!!p,i)}},wS=class extends Zt{constructor(t){super(t),this.enabled=!1}};S([M({type:Boolean,nonNullable:!0})],wS.prototype,"enabled",void 0),wS=S([ue("esri.views.interactive.sketch.SketchLabelOptions")],wS);const x3=wS;let W2=class extends Zt{constructor(t){super(t),this.mode="absolute-height"}toJSON(){return{mode:this.mode}}};S([M({type:String,nonNullable:!0})],W2.prototype,"mode",void 0),W2=S([ue("esri.views.interactive.sketch.SketchTooltipElevationOptions")],W2);let Us=class extends Zt{constructor(t){super(t),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};S([M({type:Boolean,nonNullable:!0})],Us.prototype,"area",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"coordinates",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"direction",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"distance",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"elevation",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"header",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"helpMessage",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"orientation",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"radius",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"rotation",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"scale",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"size",void 0),S([M({type:Boolean,nonNullable:!0})],Us.prototype,"totalLength",void 0),Us=S([ue("esri.views.interactive.sketch.SketchTooltipVisibleElements")],Us);const ane=Us;let so=class extends Zt{constructor(t){super(t),this.enabled=!1,this.forceEnabled=!1,this.helpMessage=null,this.helpMessageIcon=null,this.inputEnabled=!0,this.elevation=new W2,this.placement="auto",this.offset=null,this.visibleElements=new ane,this.visualVariables=null,this.xyMode="auto"}get effectiveEnabled(){return this.forceEnabled||this.enabled}};S([M({type:Boolean,nonNullable:!0})],so.prototype,"enabled",void 0),S([M()],so.prototype,"forceEnabled",void 0),S([M()],so.prototype,"effectiveEnabled",null),S([M()],so.prototype,"helpMessage",void 0),S([M()],so.prototype,"helpMessageIcon",void 0),S([M({type:Boolean,nonNullable:!0})],so.prototype,"inputEnabled",void 0),S([M({type:W2,nonNullable:!0})],so.prototype,"elevation",void 0),S([M()],so.prototype,"placement",void 0),S([M()],so.prototype,"offset",void 0),S([M({type:ane,nonNullable:!0})],so.prototype,"visibleElements",void 0),S([M()],so.prototype,"visualVariables",void 0),S([M()],so.prototype,"xyMode",void 0),so=S([ue("esri.views.interactive.sketch.SketchTooltipOptions")],so);const VP=so;let uy=class extends Zt{constructor(t){super(t),this.labels=new x3,this.tooltips=new VP,this.values=new L6}};S([M({nonNullable:!0,type:x3})],uy.prototype,"labels",void 0),S([M({nonNullable:!0,type:VP})],uy.prototype,"tooltips",void 0),S([M({nonNullable:!0,type:L6})],uy.prototype,"values",void 0),uy=S([ue("esri.views.interactive.sketch.SketchOptions")],uy);const F6=uy;var S1;function lne(e,t,i){return Gr(e,t,i)}function Gr(e=0,t=0,i=0){return mo(e,t,i)}function EBe(e){return e}function TBe(e){return e}function ip(e,t,i){return mo(e,t,i)}function mg(e){const[t,i,n]=e;return e.length>3?[t,i,n,e[3]]:[t,i,n]}function N8(e){return e[3]=((e.length>3?e[3]:void 0)??S1.NONE)|S1.TARGET,e}function MBe(e){return!!(((e.length>3?e[3]:void 0)??S1.NONE)&S1.TARGET)}function xH(e,t,{coordinateHelper:i,elevationInfo:n},s){return e?Af(i.vectorToDehydratedPoint(e,dCe),t,n,s):null}function Af(e,t,i,n=Gr()){return n[0]=e.x,n[1]=e.y,n[2]=e.z??0,t==null||(t.type==="2d"?n[2]=0:n[2]=UP(t,e,i,tp)??0),n}function $Be(e,t,i){return i?(Kie(i,e[0],e[1],e[2],t),i):_u(e[0],e[1],e[2],t)}function PA(e,t,{z:i,m:n},s,u){const{spatialReference:p,elevationInfo:g}=s;let w;i==null&&n==null?w=void 0:t==null||t.type==="2d"?w=i??void 0:w=rne(t,e,p,tp,g)??0;const[E,A]=e;return u?Kie(u,E,A,w,p):u=_u(E,A,w,p),n!=null&&(u.m=n,u.hasM=!0),u}function kBe(e,t,i,n,s=Gr()){const[u,p]=e;return s[0]=u,s[1]=p,e.length>3&&(s[3]=e[3]??S1.NONE),(i==null?void 0:i.type)!=="3d"?(s[2]=t.value,s):(s[2]=j6(i,u,p,t.value,n,t.elevationInfo,tp)??0,s)}(function(e){e[e.NONE=0]="NONE",e[e.TARGET=1]="TARGET"})(S1||(S1={}));const dCe=_u(0,0,0,null);let nc=class extends tt{constructor(){super(...arguments),this.enabled=!0}};S([M({type:Boolean})],nc.prototype,"enabled",void 0),nc=S([ue("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],nc);let kn=class extends tt{constructor(t){super(t),this.lineSnapper=new nc,this.parallelLineSnapper=new nc,this.rightAngleSnapper=new nc,this.rightAngleTriangleSnapper=new nc,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new Ut([255,127,0]),this.orangeTransparent=new Ut([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};S([M({type:nc,constructOnly:!0,nonNullable:!0,json:{write:!0}})],kn.prototype,"lineSnapper",void 0),S([M({type:nc,constructOnly:!0,nonNullable:!0,json:{write:!0}})],kn.prototype,"parallelLineSnapper",void 0),S([M({type:nc,constructOnly:!0,nonNullable:!0,json:{write:!0}})],kn.prototype,"rightAngleSnapper",void 0),S([M({type:nc,constructOnly:!0,nonNullable:!0,json:{write:!0}})],kn.prototype,"rightAngleTriangleSnapper",void 0),S([M({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],kn.prototype,"shortLineThreshold",void 0),S([M({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],kn.prototype,"distance",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],kn.prototype,"pointThreshold",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],kn.prototype,"intersectionParallelLineThreshold",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],kn.prototype,"parallelLineThreshold",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],kn.prototype,"verticalLineThresholdMeters",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],kn.prototype,"touchSensitivityMultiplier",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],kn.prototype,"pointOnLineThreshold",void 0),S([M({type:Ut,nonNullable:!0})],kn.prototype,"orange",void 0),S([M({type:Ut,nonNullable:!0})],kn.prototype,"orangeTransparent",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],kn.prototype,"lineHintWidthReference",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],kn.prototype,"lineHintWidthTarget",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],kn.prototype,"lineHintFadedExtensions",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],kn.prototype,"parallelLineHintWidth",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],kn.prototype,"parallelLineHintLength",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],kn.prototype,"parallelLineHintOffset",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],kn.prototype,"rightAngleHintSize",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],kn.prototype,"rightAngleHintOutlineSize",void 0),S([M({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],kn.prototype,"satisfiesConstraintScreenThreshold",void 0),kn=S([ue("esri.views.interactive.snapping.Settings.Defaults")],kn);const Q4=new kn;var Ws;(function(e){e[e.FEATURE=1]="FEATURE",e[e.SELF=2]="SELF",e[e.ALL=3]="ALL"})(Ws||(Ws={}));let of=class extends Zt{constructor(t){super(t),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new Bt}};S([M({constructOnly:!0})],of.prototype,"layer",void 0),S([M()],of.prototype,"enabled",void 0),S([M()],of.prototype,"updating",void 0),S([M()],of.prototype,"availability",void 0),S([M()],of.prototype,"sublayerSources",void 0),of=S([ue("esri.views.interactive.snapping.FeatureSnappingLayerSource")],of);const GP=of;let es=class extends Zt{constructor(t){super(t),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.gridEnabled=!1,this.attributeRulesEnabled=!1,this.featureSources=new Bt,this.distance=Q4.distance,this.touchSensitivityMultiplier=Q4.touchSensitivityMultiplier}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveGridEnabled(){return this.effectiveEnabled&&this.gridEnabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){var w;const t=this.featureSources;t.some(SH)&&xt.getLogger(this).warnOnce("Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.");const i=t.filter(pCe),n=((w=this._get("_effectiveFeatureSources"))==null?void 0:w.filter(SH))??new Bt;for(const E of i){const A=n.find(I=>I.layer===E.layer.parent);if(A)A.sublayerSources.includes(E)||A.sublayerSources.add(E);else if(E.layer.parent){const I=new GP({layer:E.layer.parent});I.sublayerSources.add(E),n.add(I)}}for(const E of n){const A=E.sublayerSources.filter(I=>!i.includes(I));E.sublayerSources.removeMany(A)}n.removeMany(n.filter(E=>E.sublayerSources.length===0));const s=t.filter(fCe),u=this._get("_effectiveFeatureSources")??new Bt,{added:p,removed:g}=m1e(u.toArray(),[...s,...n]);return u.removeMany(g),u.addMany(p),u}};S([M()],es.prototype,"enabled",void 0),S([M()],es.prototype,"enabledToggled",void 0),S([M()],es.prototype,"forceDisabled",void 0),S([M()],es.prototype,"selfEnabled",void 0),S([M()],es.prototype,"featureEnabled",void 0),S([M()],es.prototype,"gridEnabled",void 0),S([M()],es.prototype,"attributeRulesEnabled",void 0),S([M({type:Bt.ofType(GP)})],es.prototype,"featureSources",void 0),S([M()],es.prototype,"distance",void 0),S([M()],es.prototype,"touchSensitivityMultiplier",void 0),S([M({readOnly:!0})],es.prototype,"effectiveEnabled",null),S([M({readOnly:!0})],es.prototype,"effectiveGridEnabled",null),S([M({readOnly:!0})],es.prototype,"effectiveSelfEnabled",null),S([M({readOnly:!0})],es.prototype,"effectiveFeatureEnabled",null),S([M({readOnly:!0})],es.prototype,"_effectiveFeatureSources",null),es=S([ue("esri.views.interactive.snapping.SnappingOptions")],es);const S3=es;function SH(e){return e.layer.type==="subtype-group"}function fCe(e){return e.layer.type!=="subtype-group"}function pCe(e){return e.layer.type==="subtype-sublayer"}let mCe=class extends ree{constructor(t,i){super(t,i,"webmap")}};function yCe(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}const RBe=new mCe(2,32),DBe=Symbol("grid-placement-graphic");function cne(e,t){const i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function NBe(e,t){return Math.sqrt(cne(e,t))}function gCe(e,t){t.sort((i,n)=>pg(i.targetPoint,e)-pg(n.targetPoint,e))}var vl;function LBe({point:e,distance:t,returnEdge:i,vertexMode:n,coordinateHelper:{spatialReference:s},filter:u},p,g){return g=g!=null?g.clone():new hp({where:"1=1"}),u&&(g.geometry=u.geometry,g.distance=u.distance,g.spatialRelationship=u.spatialRelationship,g.where=yX(g.where,u.where),g.timeExtent=B6e(g.timeExtent,u.timeExtent),g.objectIds=vCe(g.objectIds,u.objectIds)),{point:_u(e[0],e[1],e[2],s.toJSON()),mode:p,distance:t,returnEdge:i,vertexMode:n,query:g.toJSON()}}function vCe(e,t){return e||t?t?e?Array.from(TJ(new Set(e),new Set(t))):t:e:null}function zBe(e,t,i){return{left:xH(e.leftVertex.pos,t,i),right:xH(e.rightVertex.pos,t,i)}}function jBe(e){return e.createQuery()}(function(e){e[e.TARGET=0]="TARGET",e[e.REFERENCE=1]="REFERENCE",e[e.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"})(vl||(vl={}));const _H=Symbol("snapping-toggle");function une(e,t=()=>{}){const i=ei(()=>({view:e.view,snappingOptions:e.snappingOptions}),({view:n,snappingOptions:s})=>{if(e.removeHandles(_H),!n||!s)return;const u=Un.TOOL,p=[n.on("key-down",g=>{g.key!==wH.toggle||g.repeat||(s.enabledToggled=!0,t())},u),n.on("key-up",g=>{g.key===wH.toggle&&(s.enabledToggled=!1,t())},u),n.on("pointer-move",g=>{const w=g.native.ctrlKey;s.enabledToggled!==w&&(s.enabledToggled=w,t())},u)];e.addHandles(p,_H)},wa);e.addHandles(i)}function FBe(e){var t;return yCe(e)&&"utilityNetworks"in e&&!!((t=e.utilityNetworks)!=null&&t.length)}function UBe(e,t,i){const n=Ii(e,t)/Ii(e,e);return Ma(i,e,n)}function J2(e,t){return Ii(e,t)/mc(e)}function hne(e,t){const i=Ii(e,t)/(mc(e)*mc(t));return-MI(i)}function VBe(e,t,i){Fr(Vx,e),Fr(L8,t);const n=Ii(Vx,L8),s=MI(n),u=pr(Vx,Vx,L8);return Ii(u,i)<0?2*Math.PI-s:s}const Vx=ft(),L8=ft();function U6(){return[1,0,0,0,1,0,0,0,1]}function bCe(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function wCe(e,t,i,n,s,u,p,g,w){return[e,t,i,n,s,u,p,g,w]}function xCe(e,t){return new Float64Array(e,t,9)}const SCe=U6();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:SCe,clone:bCe,create:U6,createView:xCe,fromValues:wCe},Symbol.toStringTag,{value:"Module"}));function HP(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function _Ce(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function ECe(e,t,i,n,s,u,p,g,w,E,A,I,R,F,q,B){return[e,t,i,n,s,u,p,g,w,E,A,I,R,F,q,B]}function TCe(e,t){return new Float64Array(e,t,16)}const MCe=HP();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:MCe,clone:_Ce,create:HP,createView:TCe,fromValues:ECe},Symbol.toStringTag,{value:"Module"}));function _1(){return[0,0,0,1]}function $Ce(e){return[e[0],e[1],e[2],e[3]]}function kCe(e,t,i,n){return[e,t,i,n]}const CCe=_1();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:CCe,clone:$Ce,create:_1,fromValues:kCe},Symbol.toStringTag,{value:"Module"}));let Wg=class M0{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return this._itemsPtr===0&&Ky(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new M0(Zn)}static createVec3f64(){return new M0(ft)}static createVec4f64(){return new M0(Zh)}static createMat3f64(){return new M0(U6)}static createMat4f64(){return new M0(HP)}static createQuatf64(){return new M0(_1)}get test(){}};const GBe=Wg.createVec2f64(),os=Wg.createVec3f64(),ACe=Wg.createVec4f64();Wg.createMat3f64();const OCe=Wg.createMat4f64(),HBe=Wg.createQuatf64();function qBe(e){const t=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],i=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],n=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))}function BBe(e,t){const i=Math.sqrt(t[0]*t[0]+t[4]*t[4]+t[8]*t[8]),n=Math.sqrt(t[1]*t[1]+t[5]*t[5]+t[9]*t[9]),s=Math.sqrt(t[2]*t[2]+t[6]*t[6]+t[10]*t[10]);return In(e,i,n,s),e}function qP(e,t,i){Math.abs(e[0])>Math.abs(e[1])?In(t,0,1,0):In(t,1,0,0),pr(i,e,t),pr(t,i,e),Fr(i,i),Fr(t,t)}function Ks(e=f2){return[e[0],e[1],e[2],e[3]]}function WBe(e=f2[0],t=f2[1],i=f2[2],n=f2[3]){return dne(e,t,i,n,ACe.get())}function xS(e,t){return dne(t[0],t[1],t[2],t[3],e)}function JBe(e){return e}function dne(e,t,i,n,s=Ks()){return s[0]=e,s[1]=t,s[2]=i,s[3]=n,s}function Jg(e,t,i){const n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return i[0]=t[0]*s,i[1]=t[1]*s,i[2]=t[2]*s,i[3]=-(i[0]*e[0]+i[1]*e[1]+i[2]*e[2]),i}function fne(e,t,i,n=Ks()){const s=i[0]-t[0],u=i[1]-t[1],p=i[2]-t[2],g=e[0]-t[0],w=e[1]-t[1],E=e[2]-t[2],A=u*E-p*w,I=p*g-s*E,R=s*w-u*g,F=A*A+I*I+R*R,q=Math.abs(F-1)>1e-5&&F>1e-12?1/Math.sqrt(F):1;return n[0]=A*q,n[1]=I*q,n[2]=R*q,n[3]=-(n[0]*e[0]+n[1]*e[1]+n[2]*e[2]),n}function pne(e,t,i,n=0,s=Math.floor(i*(1/3)),u=Math.floor(i*(2/3))){if(i<3)return!1;t(ub,n);let p=s,g=!1;for(;p<i-1&&!g;)t($m,p),p++,g=!ln(ub,$m);if(!g)return!1;for(p=Math.max(p,u),g=!1;p<i&&!g;)t(N0,p),p++,cr(Gx,ub,$m),Fr(Gx,Gx),cr(Hx,$m,N0),Fr(Hx,Hx),g=!ln(ub,N0)&&!ln($m,N0)&&Math.abs(Ii(Gx,Hx))<ICe;return g?(fne(ub,$m,N0,e),!0):(n!==0||s!==1||u!==2)&&pne(e,t,i,0,1,2)}function ZBe(e,t,i=!0){const n=t.length/3;return pne(e,(s,u)=>In(s,t[3*u+0],t[3*u+1],t[3*u+2]),i?n-1:n)}const ICe=.99619469809,ub=ft(),$m=ft(),N0=ft(),Gx=ft(),Hx=ft();function YBe(e,t,i){return t!==e&&xS(e,t),e[3]=-Ii(e,i),e}function KBe(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function XBe(e,t,i,n){return pr(N0,t,e),Jg(i,N0,n)}function BP(e,t,i,n){return V6(G6(e,t,cr(os.get(),i,t),RCe,n))}function QBe(e,t,i){return t!=null&&V6(G6(e,t.origin,t.direction,DCe,i))}function eWe(e,t,i){return V6(G6(e,t.origin,t.vector,du.NONE,i))}function tWe(e,t,i){return V6(G6(e,t.origin,t.vector,du.CLAMP,i))}function mne(e,t){return lu(e,t)>=0}function iWe(e,t){const i=Ii(e,t.ray.direction),n=-lu(e,t.ray.origin);if(i>-1e-6&&i<1e-6)return n>0;const s=n/i;return i>0?s<t.c1&&(t.c1=s):s>t.c0&&(t.c0=s),t.c0<=t.c1}function WP(e,t,i){const n=Ma(os.get(),e,-e[3]),s=PCe(e,cr(os.get(),t,n),os.get());return Lo(i,s,n),i}function nWe(e,t,i,n){const s=e,u=os.get(),p=os.get();qP(s,u,p);const g=cr(os.get(),i,t),w=J2(u,g),E=J2(p,g),A=J2(s,g);return In(n,w,E,A)}function PCe(e,t,i){const n=Ma(os.get(),e,Ii(e,t));return cr(i,t,n),i}function RA(e,t){return Math.abs(lu(e,t))}function lu(e,t){return Ii(e,t)+e[3]}var ou;function V6(e){return e===ou.INTERSECTS_INSIDE_OUT||e===ou.INTERSECTS_OUTSIDE_IN}function G6(e,t,i,n,s){const u=Ii(e,i),p=lu(e,t);if(u===0)return p>=0?ou.INSIDE:ou.OUTSIDE;let g=-p/u;return n&du.CLAMP&&(g=yl(g,0,1)),!(n&du.INFINITE_MIN)&&g<0||!(n&du.INFINITE_MAX)&&g>1?p>=0?ou.INSIDE:ou.OUTSIDE:(Lo(s,t,Ma(s,i,g)),p>=0?ou.INTERSECTS_INSIDE_OUT:ou.INTERSECTS_OUTSIDE_IN)}(function(e){e[e.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",e[e.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",e[e.INSIDE=2]="INSIDE",e[e.OUTSIDE=3]="OUTSIDE"})(ou||(ou={}));const f2=[0,0,1,0];var du;(function(e){e[e.NONE=0]="NONE",e[e.CLAMP=1]="CLAMP",e[e.INFINITE_MIN=4]="INFINITE_MIN",e[e.INFINITE_MAX=8]="INFINITE_MAX"})(du||(du={}));const RCe=du.INFINITE_MIN|du.INFINITE_MAX,DCe=du.INFINITE_MAX;let NCe=class{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return this._itemsPtr===0&&Ky(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*EH);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,EH));t++)this._items.push(this._allocator())}};const EH=1024;function LCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function zCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function jCe(e,t,i,n,s,u,p,g,w,E){return e[0]=t,e[1]=i,e[2]=n,e[3]=s,e[4]=u,e[5]=p,e[6]=g,e[7]=w,e[8]=E,e}function FCe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function UCe(e,t){if(e===t){const i=t[1],n=t[2],s=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=n,e[7]=s}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function VCe(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=t[4],g=t[5],w=t[6],E=t[7],A=t[8],I=A*p-g*E,R=-A*u+g*w,F=E*u-p*w;let q=i*I+n*R+s*F;return q?(q=1/q,e[0]=I*q,e[1]=(-A*n+s*E)*q,e[2]=(g*n-s*p)*q,e[3]=R*q,e[4]=(A*i-s*w)*q,e[5]=(-g*i+s*u)*q,e[6]=F*q,e[7]=(-E*i+n*w)*q,e[8]=(p*i-n*u)*q,e):null}function GCe(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=t[4],g=t[5],w=t[6],E=t[7],A=t[8];return e[0]=p*A-g*E,e[1]=s*E-n*A,e[2]=n*g-s*p,e[3]=g*w-u*A,e[4]=i*A-s*w,e[5]=s*u-i*g,e[6]=u*E-p*w,e[7]=n*w-i*E,e[8]=i*p-n*u,e}function HCe(e){const t=e[0],i=e[1],n=e[2],s=e[3],u=e[4],p=e[5],g=e[6],w=e[7],E=e[8];return t*(E*u-p*w)+i*(-E*s+p*g)+n*(w*s-u*g)}function yne(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=t[6],A=t[7],I=t[8],R=i[0],F=i[1],q=i[2],B=i[3],K=i[4],te=i[5],ce=i[6],ye=i[7],_e=i[8];return e[0]=R*n+F*p+q*E,e[1]=R*s+F*g+q*A,e[2]=R*u+F*w+q*I,e[3]=B*n+K*p+te*E,e[4]=B*s+K*g+te*A,e[5]=B*u+K*w+te*I,e[6]=ce*n+ye*p+_e*E,e[7]=ce*s+ye*g+_e*A,e[8]=ce*u+ye*w+_e*I,e}function qCe(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=t[6],A=t[7],I=t[8],R=i[0],F=i[1];return e[0]=n,e[1]=s,e[2]=u,e[3]=p,e[4]=g,e[5]=w,e[6]=R*n+F*p+E,e[7]=R*s+F*g+A,e[8]=R*u+F*w+I,e}function BCe(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=t[6],A=t[7],I=t[8],R=Math.sin(i),F=Math.cos(i);return e[0]=F*n+R*p,e[1]=F*s+R*g,e[2]=F*u+R*w,e[3]=F*p-R*n,e[4]=F*g-R*s,e[5]=F*w-R*u,e[6]=E,e[7]=A,e[8]=I,e}function WCe(e,t,i){const n=i[0],s=i[1],u=i[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e[6]=u*t[6],e[7]=u*t[7],e[8]=u*t[8],e}function JCe(e,t,i){const n=i[0],s=i[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e}function ZCe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function YCe(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=-i,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function KCe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function XCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function QCe(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=i+i,g=n+n,w=s+s,E=i*p,A=n*p,I=n*g,R=s*p,F=s*g,q=s*w,B=u*p,K=u*g,te=u*w;return e[0]=1-I-q,e[3]=A-te,e[6]=R+K,e[1]=A+te,e[4]=1-E-q,e[7]=F-B,e[2]=R-K,e[5]=F+B,e[8]=1-E-I,e}function eAe(e,t){const i=t[0],n=t[1],s=t[2],u=t[4],p=t[5],g=t[6],w=t[8],E=t[9],A=t[10],I=A*p-g*E,R=-A*u+g*w,F=E*u-p*w,q=i*I+n*R+s*F;if(!q)return null;const B=1/q;return e[0]=I*B,e[1]=(-A*n+s*E)*B,e[2]=(g*n-s*p)*B,e[3]=R*B,e[4]=(A*i-s*w)*B,e[5]=(-g*i+s*u)*B,e[6]=F*B,e[7]=(-E*i+n*w)*B,e[8]=(p*i-n*u)*B,e}function tAe(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=t[4],g=t[5],w=t[6],E=t[7],A=t[8],I=t[9],R=t[10],F=t[11],q=t[12],B=t[13],K=t[14],te=t[15],ce=i*g-n*p,ye=i*w-s*p,_e=i*E-u*p,we=n*w-s*g,xe=n*E-u*g,pe=s*E-u*w,Ze=A*B-I*q,Fe=A*K-R*q,He=A*te-F*q,nt=I*K-R*B,Qe=I*te-F*B,De=R*te-F*K;let Me=ce*De-ye*Qe+_e*nt+we*He-xe*Fe+pe*Ze;return Me?(Me=1/Me,e[0]=(g*De-w*Qe+E*nt)*Me,e[1]=(w*He-p*De-E*Fe)*Me,e[2]=(p*Qe-g*He+E*Ze)*Me,e[3]=(s*Qe-n*De-u*nt)*Me,e[4]=(i*De-s*He+u*Fe)*Me,e[5]=(n*He-i*Qe-u*Ze)*Me,e[6]=(B*pe-K*xe+te*we)*Me,e[7]=(K*_e-q*pe-te*ye)*Me,e[8]=(q*xe-B*_e+te*ce)*Me,e):null}function iAe(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function nAe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function rAe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function sAe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function gne(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function oAe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function aAe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e}function lAe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function cAe(e,t){const i=e[0],n=e[1],s=e[2],u=e[3],p=e[4],g=e[5],w=e[6],E=e[7],A=e[8],I=t[0],R=t[1],F=t[2],q=t[3],B=t[4],K=t[5],te=t[6],ce=t[7],ye=t[8],_e=Cr();return Math.abs(i-I)<=_e*Math.max(1,Math.abs(i),Math.abs(I))&&Math.abs(n-R)<=_e*Math.max(1,Math.abs(n),Math.abs(R))&&Math.abs(s-F)<=_e*Math.max(1,Math.abs(s),Math.abs(F))&&Math.abs(u-q)<=_e*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(p-B)<=_e*Math.max(1,Math.abs(p),Math.abs(B))&&Math.abs(g-K)<=_e*Math.max(1,Math.abs(g),Math.abs(K))&&Math.abs(w-te)<=_e*Math.max(1,Math.abs(w),Math.abs(te))&&Math.abs(E-ce)<=_e*Math.max(1,Math.abs(E),Math.abs(ce))&&Math.abs(A-ye)<=_e*Math.max(1,Math.abs(A),Math.abs(ye))}function uAe(e){const t=Cr(),i=e[0],n=e[1],s=e[2],u=e[3],p=e[4],g=e[5],w=e[6],E=e[7],A=e[8];return Math.abs(1-(i*i+u*u+w*w))<=t&&Math.abs(1-(n*n+p*p+E*E))<=t&&Math.abs(1-(s*s+g*g+A*A))<=t}const hAe=yne,dAe=gne;Object.freeze(Object.defineProperty({__proto__:null,add:sAe,adjoint:GCe,copy:zCe,determinant:HCe,equals:cAe,exactEquals:lAe,frob:rAe,fromMat2d:XCe,fromMat4:LCe,fromQuat:QCe,fromRotation:YCe,fromScaling:KCe,fromTranslation:ZCe,identity:FCe,invert:VCe,isOrthoNormal:uAe,mul:hAe,multiply:yne,multiplyScalar:oAe,multiplyScalarAndAdd:aAe,normalFromMat4:tAe,normalFromMat4Legacy:eAe,projection:iAe,rotate:BCe,scale:WCe,scaleByVec2:JCe,set:jCe,str:nAe,sub:dAe,subtract:gne,translate:qCe,transpose:UCe},Symbol.toStringTag,{value:"Module"}));function H6(e){return e?TH(Go(e.origin),Go(e.direction)):TH(ft(),ft())}function TH(e,t){return{origin:e,direction:t}}function sWe(e,t){const i=yAe.get();return i.origin=e,i.direction=t,i}function oWe(e,t=H6()){return pAe(e.origin,e.direction,t)}function fAe(e,t,i=H6()){return jo(i.origin,e),cr(i.direction,t,e),i}function pAe(e,t,i=H6()){return jo(i.origin,e),jo(i.direction,t),i}function aWe(e,t){const i=pr(os.get(),Fr(os.get(),e.direction),cr(os.get(),t,e.origin));return Ii(i,i)}function mAe(e,t,i){const n=Ii(e.direction,cr(i,t,e.origin));return Lo(i,e.origin,Ma(i,e.direction,n)),i}const yAe=new NCe(()=>H6());function MH(e,t){const i=mc(e),n=$I(e[2]/i),s=Math.atan2(e[1]/i,e[0]/i);return In(t,i,n,s),t}const gAe=JP();function JP(){return Zh()}const vne=c3,vAe=c3;function bne(e,t){return lg(t,e)}function wne(e,t){return fl(e[0],e[1],e[2],t)}function bAe(e){return e}function wAe(e){e[0]=e[1]=e[2]=e[3]=0}function xAe(e,t){return e[0]=e[1]=e[2]=0,e[3]=t,e}function _3(e){return e[3]}function SAe(e){return e}function _Ae(e,t,i,n){return fl(e,t,i,n)}function EAe(e,t,i){return e!==i&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),i[3]=e[3]+t,i}function TAe(e,t,i){return e!==i&&bne(e,i),i}function MAe(e,t){return t}function q6(e,t,i){if(t==null||!Sne(e,t,e_))return!1;let{t0:n,t1:s}=e_;if((n<0||s<n&&s>0)&&(n=s),n<0)return!1;if(i){const{origin:u,direction:p}=t;i[0]=u[0]+p[0]*n,i[1]=u[1]+p[1]*n,i[2]=u[2]+p[2]*n}return!0}function xne(e,t,i){const n=fAe(t,i);if(!Sne(e,n,e_))return[];const{origin:s,direction:u}=n,{t0:p,t1:g}=e_,w=E=>{const A=ft();return ns(A,s,u,E),B6(e,A,A)};return Math.abs(p-g)<Cr()?[w(p)]:[w(p),w(g)]}const e_={t0:0,t1:0};function Sne(e,t,i){const{origin:n,direction:s}=t,u=$Ae;u[0]=n[0]-e[0],u[1]=n[1]-e[1],u[2]=n[2]-e[2];const p=s[0]*s[0]+s[1]*s[1]+s[2]*s[2];if(p===0)return!1;const g=2*(s[0]*u[0]+s[1]*u[1]+s[2]*u[2]),w=g*g-4*p*(u[0]*u[0]+u[1]*u[1]+u[2]*u[2]-e[3]*e[3]);if(w<0)return!1;const E=Math.sqrt(w);return i.t0=(-g-E)/(2*p),i.t1=(-g+E)/(2*p),!0}const $Ae=ft();function kAe(e,t){return q6(e,t,null)}function CAe(e,t,i){if(q6(e,t,i))return i;const n=_ne(e,t,os.get());return Lo(i,t.origin,Ma(os.get(),t.direction,pp(t.origin,n)/mc(t.direction))),i}function _ne(e,t,i){const n=os.get(),s=OCe.get();pr(n,t.origin,t.direction);const u=_3(e);pr(i,n,t.origin),Ma(i,i,1/mc(i)*u);const p=Ene(e,t.origin),g=hne(t.origin,i);return vte(s,g+p,n),Jie(i,i,s),i}function AAe(e,t,i,n){const s=_3(e),u=s*s,p=t+.5*Math.PI,g=i*i+u-2*Math.cos(p)*i*s,w=Math.sqrt(g),E=g-u;if(E<=0)return .5;const A=Math.sqrt(E),I=Math.acos(A/w)-Math.asin(s/(w/Math.sin(p)));return Math.min(1,(I+.5*n)/n)}function OAe(e,t,i){return q6(e,t,i)?i:(mAe(t,e,i),B6(e,i,i))}function B6(e,t,i){const n=cr(os.get(),t,e),s=Ma(os.get(),n,e[3]/mc(n));return Lo(i,s,e)}function IAe(e,t){const i=cr(os.get(),t,e),n=R6(i),s=e[3]*e[3];return Math.sqrt(Math.abs(n-s))}function Ene(e,t){const i=cr(os.get(),t,e),n=mc(i),s=_3(e),u=s+Math.abs(s-n);return MI(s/u)}const z8=ft();function Tne(e,t,i,n){const s=cr(z8,t,e);switch(i){case oc.X:{const u=MH(s,z8)[2];return In(n,-Math.sin(u),Math.cos(u),0)}case oc.Y:{const u=MH(s,z8),p=u[1],g=u[2],w=Math.sin(p);return In(n,-w*Math.cos(g),-w*Math.sin(g),Math.cos(p))}case oc.Z:return Fr(n,s);default:return}}function Mne(e,t){const i=cr(DA,t,e);return mc(i)-e[3]}function PAe(e,t,i,n){const s=Mne(e,t),u=Tne(e,t,oc.Z,DA),p=Ma(DA,u,i-s);return Lo(n,t,p)}function RAe(e,t){const i=pg(e,t),n=_3(e);return i<=n*n}function DAe(e,t,i=Zh()){const n=pp(e,t),s=e[3],u=t[3];return n+u<s?(lg(i,e),i):n+s<u?(lg(i,t),i):(qg(i,e,t,(n+u-s)/(2*n)),i[3]=(n+s+u)/2,i)}const DA=ft(),NAe=JP(),lWe=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:gAe,altitudeAt:Mne,angleToSilhouette:Ene,axisAt:Tne,cameraFrustumCoverage:AAe,clear:wAe,closestPoint:OAe,closestPointOnSilhouette:_ne,containsPoint:RAe,copy:bne,create:JP,distanceToSilhouette:IAe,elevate:EAe,equals:vAe,exactEquals:vne,fromCenterAndRadius:wne,fromRadius:xAe,fromValues:_Ae,getCenter:SAe,getExtent:MAe,getRadius:_3,intersectLine:xne,intersectRay:q6,intersectRayClosestSilhouette:CAe,intersectsRay:kAe,projectPoint:B6,setAltitudeAt:PAe,setExtent:TAe,tmpSphere:NAe,union:DAe,wrap:bAe},Symbol.toStringTag,{value:"Module"}));function j8(e,t){return e[0]*t[1]-e[1]*t[0]}function LAe(e,t,i){const n=fp(i,t)/Nh(i);return Pie(e,i,n)}function cWe(e,t,i,n,s=i){return Vr(e1,n,i),Vr(t_,t,s),LAe(yg,t_,e1),Aie(e,s,yg)}function uWe(e,t,i,n){Vr(e1,t,i);const s=n/P6(e1);return lc(e,i,e1,s)}function zAe(e,t){const i=e.start,n=e.end,s=t.start,u=t.end,p=Vr(e1,n,i),g=Vr($ne,u,s),w=j8(p,g);if(Math.abs(w)<=FAe)return[];const E=Vr(t_,i,s),A=j8(g,E)/w,I=j8(p,E)/w;if(A>=0){if(I>=0||t.type===On.LINE)return[lc(yg,i,p,A)]}else if(e.type===On.LINE&&(I>=0||t.type===On.LINE))return[lc(yg,i,p,A)];return[]}function jAe(e,t,i){const n=[],s=Vr(e1,e.end,e.start),u=Vr($ne,e.start,t),p=Nh(s),g=2*fp(s,u),w=g*g-4*p*(Nh(u)-i*i);if(w===0){const E=-g/(2*p);(e.type===On.LINE||E>=0)&&n.push(lc(yg,e.start,s,E))}else if(w>0){const E=Math.sqrt(w),A=(-g+E)/(2*p);(e.type===On.LINE||A>=0)&&n.push(lc(yg,e.start,s,A));const I=(-g-E)/(2*p);(e.type===On.LINE||I>=0)&&n.push(lc(t_,e.start,s,I))}return n}var On;(function(e){e[e.RAY=0]="RAY",e[e.LINE=1]="LINE"})(On||(On={}));const FAe=1e-6,e1=Zn(),$ne=Zn(),t_=Zn(),yg=Zn();function ZP({start:e,end:t,type:i},n,s){const u=[],p=Vr(E3,t,e),g=Vr(W6,e,n),w=Nh(p),E=2*fp(p,g),A=E*E-4*w*(Nh(g)-s*s);if(A===0){const I=-E/(2*w);(i===xa.PLANE||I>=0)&&u.push(lc(Zn(),e,p,I))}else if(A>0){const I=Math.sqrt(A),R=(-E+I)/(2*w);(i===xa.PLANE||R>=0)&&u.push(lc(Zn(),e,p,R));const F=(-E-I)/(2*w);(i===xa.PLANE||F>=0)&&u.push(lc(Zn(),e,p,F))}return u}function kne(e,t){const i=e.start,n=e.end,s=Vr(E3,n,i),u=In(Z6,-s[1],s[0],0),p=t.start,g=t.end,w=zo(KP,g,p),E=Ii(w,u),A=In(Nne,i[0],i[1],0),I=zo(Lne,A,p),R=Ii(I,u),F=Cr();if(Math.abs(E)<F)return[];const q=ns(zne,p,w,R/E);if(t.type===On.RAY){const B=zo(NA,q,p);if(Ii(B,w)<-F)return[]}if(e.type===xa.HALF_PLANE){const B=zie(W6,q,i);if(fp(B,s)<-F)return[]}return[Go(q)]}function UAe(e,t){return GAe(i_(XP,t[2],e),t)}function Cne(e,t){return Rne(i_(XP,0,e),i_(WAe,0,t)).map(([n,s])=>pl(n,s))}function Ane(e,t,i){return Ine(e,i_(XP,e[2],t),i)}function One(e,t,i,n=ft()){const s=Vr(E3,e,t),u=P6(s);return lc(n,t,s,u===0?1:i/u),n[2]=e[2],n}function Ine(e,{start:t,end:i,type:n},s=ft()){const u=zo(J6,e,t),p=zo(Z6,i,t),g=Ii(u,p)/Ii(p,p);return ns(s,t,p,n===On.RAY?Math.max(g,0):g)}const VAe=(()=>{const e=ft(),t=ft(),i=ft();return({start:n,end:s},{center:u,radius:p,normal:g,slicePlane:w})=>{const E=Jg(u,g,BAe);if(wn(RA(E,n),0)&&wn(RA(E,s),0)){qP(g,e,t);const I=(q,B)=>(cr(i,B,u),LP(q,Ii(i,e),Ii(i,t)),q),R=jAe({start:I(E3,n),end:I(W6,s),type:On.LINE},Hie,p),F=[];for(const[q,B]of R){const K=jo(ft(),u);ns(K,K,e,q),ns(K,K,t,B),w&&!jf(w,K)||F.push(K)}return F}const A=ft();return BP(E,n,s,A)?!wn(pp(A,u),p)||w&&!jf(w,A)?[]:[A]:[]}})();function Pne({start:e,end:t,type:i},n,s){const u=[],p=cr(J6,t,e),g=Vr(W6,e,n),w=Nh(p),E=2*fp(p,g),A=E*E-4*w*(Nh(g)-s*s);if(A===0){const I=-E/(2*w);(i===On.LINE||I>=0)&&u.push(ns(ft(),e,p,I))}else if(A>0){const I=Math.sqrt(A),R=(-E+I)/(2*w);(i===On.LINE||R>=0)&&u.push(ns(ft(),e,p,R));const F=(-E-I)/(2*w);(i===On.LINE||F>=0)&&u.push(ns(ft(),e,p,F))}return u}function Rne(e,t){const i=e.start,n=e.end,s=t.start,u=t.end,p=zo(J6,n,i),g=zo(Z6,u,s),w=zo(KP,s,i),E=pr(Nne,p,g);if(!wn(Ii(w,E),0))return[];const A=Z4(E);if(wn(A,0))return[];const I=pr(Lne,w,g),R=Ii(I,E)/A,F=ns(zne,i,p,R);if(e.type===On.RAY){const q=zo(NA,F,i);if(Ii(p,q)<-Cr())return[]}if(t.type===On.RAY){const q=zo(NA,F,s);if(Ii(g,q)<-Cr())return[]}return[Go(F)]}function GAe({start:e,end:t,type:i},n){const s=zo(J6,n,e),u=zo(Z6,t,e),p=pr(KP,u,s),g=Z4(p)/Z4(u),w=Cr();if(g<w)switch(i){case On.LINE:return[Go(n)];case On.RAY:return Ii(u,s)<-w?[]:[Go(n)]}return[]}function YP(e,t,i,n){const[s,u]=e,[p,g]=i,w=p-s,E=g-u,A=w*w+E*E,I=Math.sqrt(A);if(I>t+n)return[];if(I<Math.abs(t-n))return[];if(wn(I,0)&&wn(t,n))return[];const R=(t*t-n*n+A)/(2*I),F=Math.sqrt(t*t-R*R),q=F*E/I,B=F*w/I,[K,te]=zP(E3,e,i,R/I);return wn(q,B)?[pl(K,te)]:[pl(K+q,te-B),pl(K-q,te+B)]}function i_(e,t,{start:i,end:n,type:s}){return In(e.start,i[0],i[1],t),In(e.end,n[0],n[1],t),e.type=qAe[s],e}function Dne(e,t){return wn(e[2],t[2])}function wn(e,t){return Tf(Math.abs(e-t),0,Cr())}function HAe(e,t){return t.filter(i=>jf(e,i))}function jf(e,t){return mne(e,t)}var xa;(function(e){e[e.PLANE=0]="PLANE",e[e.HALF_PLANE=1]="HALF_PLANE"})(xa||(xa={}));const qAe={[xa.PLANE]:On.LINE,[xa.HALF_PLANE]:On.RAY},E3=Zn(),W6=Zn(),J6=ft(),Z6=ft(),KP=ft(),Nne=ft(),Lne=ft(),zne=ft(),NA=ft(),BAe=Ks(),XP={start:ft(),end:ft(),type:On.LINE},WAe={start:ft(),end:ft(),type:On.LINE};class wl{intersect(t){return ch(this,t)}closestPoints(t){return[this.closestTo(t)]}}class N1 extends wl{constructor(t){super(),this.point=t}equals(t){return this===t||el(t)&&ln(this.point,t.point)}closestTo(){return mg(this.point)}}class QP extends wl{constructor(t,i,n){super(),this.start=t,this.end=i,this.lineLike={start:t,end:i,type:n}}equals(t){return this===t||eu(t)&&this.lineLike.type===t.lineLike.type&&ln(this.start,t.start)&&ln(this.end,t.end)}closestTo(t){const i=Gr();return Ine(t,this.lineLike,i),i}}class eR extends QP{constructor(t,i){super(t,i,On.LINE)}}class JAe extends QP{constructor(t,i){super(t,i,On.RAY)}}class jne extends wl{constructor(t){super(),this.constraints=t}equals(t){return this===t||LA(t)&&pu(this.constraints,t.constraints,(i,n)=>i.equals(n))}closestTo(t){let i,n=1/0;for(const s of this.constraints){const u=s.closestTo(t),p=pg(t,u);p<n&&(n=p,i=u)}return mg(i??t)}closestPoints(t){return this.constraints.flatMap(i=>i===this?[]:i.closestPoints(t))}}class tR extends wl{constructor(t,i){super(),this.center=t,this.radius=i}equals(t){return this===t||iu(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const i=Gr();return One(t,this.center,this.radius,i),i}}class iR extends wl{constructor(t,i){super(),this.center=t,this.radius=i}equals(t){return this===t||hh(t)&&ln(this.center,t.center)&&this.radius===t.radius}closestTo(t){const i=Gr();return One(t,this.center,this.radius,i),i[2]=this.center[2],i}asCircle(){return new nR(mg(this.center),this.radius,ip(0,0,1))}}class nR extends wl{constructor(t,i,n,s=void 0){super(),this.center=t,this.radius=i,this.normal=n,this.slicePlane=s}equals(t){return this===t||af(t)&&ln(this.center,t.center)&&ln(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:i,radius:n}=this;WP(this.getPlane(ZAe),t,F8);const s=zo(F8,F8,i),u=R6(s);if(wn(u,0))return mg(t);const p=n/Math.sqrt(u),g=Gr();ns(g,i,s,p);const{slicePlane:w}=this;if(w&&!jf(w,g)){const E=oR(w,this);return(E==null?void 0:E.closestTo(t))??mg(t)}return g}getPlane(t=Ks()){return Jg(this.center,this.normal,t)}}const F8=ft(),ZAe=Ks();class Fne extends wl{constructor(t){super(),this.z=t}equals(t){return this===t||uh(t)&&this.z===t.z}closestTo(t){return ip(t[0],t[1],this.z)}getPlane(t=Ks()){return In($H,0,0,this.z),Jg($H,iQ,t)}}const $H=ft();class rR extends wl{constructor(t,i,n){super(),this.start=t,this.end=i,this.planeLike={start:t,end:i,type:n}}equals(t){return this===t||tu(t)&&this.planeLike.type===t.planeLike.type&&ln(this.start,t.start)&&ln(this.end,t.end)}closestTo(t){const i=Gr();return Ane(t,this.planeLike,i),i}closestEndTo(t){const{start:i,end:n}=this.planeLike;return Math.sign(fp(Vr(YAe,n,i),Vr(KAe,t,i)))>0?this.end:this.start}getPlane(t=Ks()){const i=jo(kH,this.end);return i[2]+=1,fne(this.start,this.end,i,t)}getSlicePlane(t=Ks()){const{start:i,end:n,type:s}=this.planeLike;if(s===xa.PLANE)return;const u=In(kH,i[0],i[1],0),p=In(CH,n[0],n[1],0),g=cr(CH,p,u);return Jg(u,g,t),t}}const YAe=Zn(),KAe=Zn(),kH=ft(),CH=ft();class XAe extends rR{constructor(t,i){super(t,i,xa.HALF_PLANE)}}class Une extends rR{constructor(t,i){super(t,i,xa.PLANE)}}class QAe extends wl{constructor(t,i){super(),this.sphere=wne(t,i)}equals(t){return this===t||dh(t)&&vne(this.sphere,t.sphere)}closestTo(t){const i=Gr();return B6(this.sphere,t,i),i}get center(){return this.sphere}get radius(){return this.sphere[3]}}class Vne extends wl{constructor(t,i,n){super(),this.start=t,this.end=i,this.getZ=n,this.planeLike={start:t,end:i,type:xa.PLANE}}equals(t){return this===t||n_(t)&&ln(this.start,t.start)&&ln(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return nOe(this,t)}addIfOnTheGround(t,i){for(const n of i){const s=this.getZ(n[0],n[1])??0;wn(n[2],s)&&(n[2]=s,t.push(n))}}}class sR extends wl{constructor(t,i,n){super(),this._x=t,this._y=i,this._z=n}equals(t){return this===t||bOe(t)&&this._x===t._x&&this._y===t._y&&this._z===t._z}closestTo([t,i,n]){return lne(this._x??t,this._y??i,this._z??n)}}class Gne extends wl{constructor(t,i,n,s,u){super(),this._origin=t,this._spatialReference=i,this._distanceMeters=n,this._z=s,this._directionDegrees=u}equals(t){return this===t||vOe(t)&&MA(this._origin,t._origin)&&this._spatialReference===t._spatialReference&&this._distanceMeters===t._distanceMeters&&this._z===t._z&&this._directionDegrees===t._directionDegrees}closestTo([t,i,n]){return LP(hb,t,i),MA(hb,this._origin)||this._applyDirectionAndDistance(hb),lne(hb[0],hb[1],this._z??n)}_applyDirectionAndDistance(t){if(this._directionDegrees!=null&&this._distanceMeters!=null)zf(t,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(this._directionDegrees!=null)tOe(t,this._origin,this._directionDegrees,t,this._spatialReference);else if(this._distanceMeters!=null){const{azimuth:i}=w3(eOe,this._origin,t,this._spatialReference);zf(t,this._origin,i??0,this._distanceMeters,this._spatialReference)}}}const hb=[0,0],eOe=new b3;function tOe(e,t,i,n,s){let{azimuth:u,distance:p}=w3(iOe,t,n,s);u??(u=0);let g=p*Math.cos((u-i)*lo);g=Math.max(0,g),zf(e,t,i,g,s)}const iOe=new b3;function nOe(e,t){const i=Gr();return Ane(t,e.planeLike,i),i[2]=e.getZ(i[0],i[1])??qne,i}function ch(e,t){if(LA(e)){const i=[];for(const n of e.constraints){const s=n.intersect(t);s&&i.push(s)}return T3(i)}if(LA(t))return ch(t,e);if(n_(e))return AH(e,t);if(n_(t))return AH(t,e);if(el(e)){const{point:i}=e;if(el(t))return ln(i,t.point)?e:void 0;const n=t.closestTo(i);return Tw(n,i)?e:void 0}if(eu(e)){if(el(t))return ch(t,e);if(eu(t))return rc(Rne(e.lineLike,t.lineLike));if(uh(t))return rOe(e,t);if(tu(t))return rc(kne(t.planeLike,e.lineLike));if(iu(t))return rc(Pne(e.lineLike,t.center,t.radius));if(af(t))return rc(VAe(e.lineLike,t));if(hh(t))return sOe(e,t);if(dh(t))return oOe(e,t)}else if(uh(e)){if(el(t)||eu(t))return ch(t,e);if(uh(t))return aOe(e,t);if(tu(t))return lOe(e,t);if(iu(t))return cOe(e,t);if(af(t))return hOe(e,t);if(hh(t))return uOe(e,t);if(dh(t))return dOe(e,t)}else if(tu(e)){if(el(t)||eu(t)||uh(t))return ch(t,e);if(tu(t))return U8(Cne(e.planeLike,t.planeLike));if(iu(t))return U8(ZP(e.planeLike,t.center,t.radius));if(af(t))return pOe(e,t);if(hh(t))return fOe(e,t);if(dh(t))return mOe(e,t)}else if(iu(e)){if(el(t)||eu(t)||uh(t)||tu(t))return ch(t,e);if(iu(t))return U8(YP(e.center,e.radius,t.center,t.radius));if(af(t))return void 0;if(hh(t))return yOe(e,t);if(dh(t))return void 0}else if(af(e)){if(el(t)||eu(t)||uh(t)||tu(t)||iu(t))return ch(t,e);if(af(t))return void 0;if(hh(t))return t.asCircle(),void 0;if(dh(t))return void 0}else if(hh(e)){if(el(t)||eu(t)||uh(t)||tu(t)||iu(t)||af(t))return ch(t,e);if(hh(t))return gOe(t,e);if(dh(t))return void 0}else if(dh(e)){if(el(t)||eu(t)||uh(t)||tu(t)||iu(t)||hh(t))return ch(t,e);if(dh(t))return void 0}}const rOe=(()=>{const e=Ks();return(t,i)=>{const{start:n,end:s}=t;if(Dne(n,s)&&wn(n[2],i.z))return t;const u=Gr();return BP(i.getPlane(e),n,s,u)?new N1(u):void 0}})();function sOe({lineLike:e},{center:t,radius:i}){const n=t[2];return rc(Pne(e,t,i).filter(s=>wn(s[2],n)))}function oOe({lineLike:e},{sphere:t}){return rc(xne(t,e.start,e.end))}const oR=(()=>{const e=Zh(),t=ft(),i=ft();return(n,s,u)=>{const{normal:p,center:g,radius:w}=s;qP(p,t,i);const E=n,A=w*Ii(E,t),I=w*Ii(E,i);aP(e,g[0],g[1],g[2],1);const R=uP(n,e),F=Math.hypot(A,I),q=wn(F,0);if(wn(RA(n,g),0)){if(q)return s;if(wn(w,0))return!u||jf(u,g)?new N1(mg(g)):void 0;pr(t,E,p),Fr(t,t);const xe=new Array,pe=Go(g);ns(pe,pe,t,w),u&&!jf(u,pe)||xe.push(pe);const Ze=Go(g);return ns(Ze,Ze,t,-w),u&&!jf(u,Ze)||xe.push(Ze),rc(xe)}if(q)return;const B=-R/F;if(Math.abs(B)>1||wn(B,1))return;const K=Math.atan(A/I),te=$I(B)-K,ce=Math.PI-te,ye=new Array,_e=ft();ns(_e,g,t,w*Math.cos(te)),ns(_e,_e,i,w*Math.sin(te)),ye.push(_e);const we=ft();return ns(we,g,t,w*Math.cos(ce)),ns(we,we,i,w*Math.sin(ce)),ye.push(we),rc(u?HAe(u,ye):ye)}})();function aOe(e,t){return wn(e.z,t.z)?e:void 0}function lOe({z:e},{planeLike:t}){const[i,n]=t.start,[s,u]=t.end,p=ip(i,n,e),g=ip(s,u,e);return t.type===xa.PLANE?new eR(p,g):new JAe(p,g)}function cOe(e,t){const[i,n]=t.center;return new iR(ip(i,n,e.z),t.radius)}function uOe(e,t){return wn(t.center[2],e.z)?t:void 0}const hOe=(()=>{const e=Ks();return(t,i)=>oR(t.getPlane(e),i,i.slicePlane)})();function dOe(e,{center:t,radius:i}){const n=Math.abs(t[2]-e.z);if(n>i&&!wn(n,i))return;const s=ip(t[0],t[1],e.z),u=Math.sqrt(i**2-n**2);return wn(u,0)?void 0:new iR(s,u)}const fOe=(()=>{const e=Ks();return(t,{center:i,radius:n})=>{const s=ZP(t.planeLike,i,n),u=i[2];t.getSlicePlane(e);const p=new Array;for(const[g,w]of s){const E=[g,w,u];jf(e,E)&&p.push(E)}return rc(p)}})(),pOe=(()=>{const e=Ks(),t=Ks();return(i,n)=>oR(i.getPlane(e),n,i.getSlicePlane(t))})(),mOe=(()=>{const e=Ks();return(t,{center:i,radius:n})=>{const s=t.getPlane(e),u=lu(s,i),p=Math.abs(u);if(p>n&&!wn(p,n))return;const g=Math.sqrt(n**2-u**2);if(wn(g,0)){const A=Gr();return WP(s,i,A),new N1(A)}const w=Gr(),E=Go(s);return ns(w,i,E,u),new nR(w,g,E,t.getSlicePlane())}})();function yOe(e,t){const i=I6(e.center,t.center);return wn(i,0)&&wn(e.radius,t.radius)?t:Hne(YP(e.center,e.radius,t.center,t.radius),t.center[2])}function gOe(e,t){if(!Dne(e.center,t.center))return;const i=I6(e.center,t.center);return wn(i,0)&&wn(e.radius,t.radius)?e:Hne(YP(e.center,e.radius,t.center,t.radius),e.center[2])}function AH(e,t){const{planeLike:i,getZ:n}=e,s=new Array;if(el(t))e.addIfOnTheGround(s,UAe(i,t.point));else if(eu(t))e.addIfOnTheGround(s,kne(i,t.lineLike));else if(iu(t))for(const[u,p]of ZP(i,t.center,t.radius)){const g=n(u,p);g!=null&&s.push(mo(u,p,g))}else if(tu(t)||n_(t))for(const[u,p]of Cne(i,t.planeLike)){const g=n(u,p)??qne;s.push(mo(u,p,g))}return rc(s)}function U8(e){return T3(e.map(([t,i])=>{const n=ip(t,i,0),s=ip(t,i,1);return new eR(n,s)}))}function rc(e){return T3(e.map(t=>t?new N1(t):void 0))}function Hne(e,t){return rc(e.map(([i,n])=>[i,n,t]))}function T3(e){if(e.length!==0)return e.length===1?e[0]??void 0:new jne(e.filter(uo))}function LA(e){return e instanceof jne}function el(e){return e instanceof N1}function eu(e){return e instanceof QP}function uh(e){return e instanceof Fne}function tu(e){return e instanceof rR}function iu(e){return e instanceof tR}function hh(e){return e instanceof iR}function af(e){return e instanceof nR}function dh(e){return e instanceof QAe}function n_(e){return e instanceof Vne}function vOe(e){return e instanceof Gne}function bOe(e){return e instanceof sR}const qne=0;let Zg=class{constructor(t,i,n,s){this.targetPoint=t,this.constraint=i,this.isDraped=n,this.domain=s}},Bne=class extends Zg{constructor({targetPoint:t,objectId:i,constraint:n,isDraped:s}){super(t,n,s,Ws.FEATURE),this.objectId=i}},Y6=class{constructor(t,i){this.isDraped=t,this.domain=i}},wu=class Wne extends Y6{constructor(t,i,n,s,u=Ws.ALL,p=!0,g=!0){super(s,u),this.type=t,this.lineStart=i,this.lineEnd=n,this.fadeLeft=p,this.fadeRight=g}equals(t){return t instanceof Wne&&this.type===t.type&&ln(this.lineStart,t.lineStart)&&ln(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return pp(this.lineStart,this.lineEnd)}},wOe=class extends Bne{constructor(t){super({...t,isDraped:!0,constraint:new Vne(t.edgeStart,t.edgeEnd,t.getGroundElevation)})}get hints(){return[new wu(vl.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}},xOe=class extends Bne{constructor(t){super({...t,constraint:new eR(t.edgeStart,t.edgeEnd)})}get hints(){return[new wu(vl.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}},SOe=class Jne extends Y6{constructor(t,i,n=Ws.ALL){super(i,n),this.intersectionPoint=t}equals(t){return t instanceof Jne&&ln(this.intersectionPoint,t.intersectionPoint)}},SS=class extends Zg{constructor(t,i,n,s){super(t,new N1(t),s,Ws.ALL),this.first=i,this.second=n}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new SOe(this.targetPoint,this.isDraped,this.domain)]}},_Oe=class extends Zg{constructor({lineStart:t,lineEnd:i,targetPoint:n,isDraped:s}){super(n,new Une(t,i),s,Ws.SELF),this._referenceLineHint=new wu(vl.REFERENCE_EXTENSION,t,i,s,this.domain)}get hints(){return[this._referenceLineHint,new wu(vl.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}},EOe=class Zne extends Y6{constructor(t,i,n,s=Ws.ALL){super(n,s),this.lineStart=t,this.lineEnd=i}equals(t){return t instanceof Zne&&ln(this.lineStart,t.lineStart)&&ln(this.lineEnd,t.lineEnd)}},TOe=class extends Zg{constructor({referenceLine:t,lineStart:i,targetPoint:n,isDraped:s}){const u=Go(i),{left:p,right:g}=t;cr(u,Lo(u,u,g),p),super(n,new Une(i,u),s,Ws.SELF),this._referenceLines=[{edge:t,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new wu(vl.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new EOe(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map(t=>new wu(vl.REFERENCE,t.edge.left,t.edge.right,this.isDraped,this.domain,t.fadeLeft,t.fadeRight))]}addReferenceLine(t){const i={edge:t,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach(n=>{ln(t.right,n.edge.left)&&(n.fadeLeft=!1,i.fadeRight=!1),ln(t.right,n.edge.right)&&(n.fadeRight=!1,i.fadeRight=!1),ln(t.left,n.edge.right)&&(n.fadeRight=!1,i.fadeLeft=!1),ln(t.left,n.edge.left)&&(n.fadeLeft=!1,i.fadeLeft=!1)}),this._referenceLines.push(i)}},Yne=class Kne extends Y6{constructor(t,i,n,s,u=Ws.ALL){super(s,u),this.previousVertex=t,this.centerVertex=i,this.nextVertex=n}equals(t){return t instanceof Kne&&ln(this.previousVertex,t.previousVertex)&&ln(this.centerVertex,t.centerVertex)&&ln(this.nextVertex,t.nextVertex)}},MOe=class extends Zg{constructor({targetPoint:t,constraint:i,previousVertex:n,otherVertex:s,otherVertexType:u,isDraped:p,selfSnappingType:g,objectId:w,domain:E}){super(t,i,p,E??Ws.SELF),this.previousVertex=n,this.otherVertex=s,this.otherVertexType=u,this.selfSnappingType=g??s_.None,this.objectId=w??null}get hints(){const t=this.previousVertex,i=this.otherVertexType===r_.CENTER?this.otherVertex:this.targetPoint,n=this.otherVertexType===r_.CENTER?this.targetPoint:this.otherVertex;return[new wu(vl.TARGET,i,n,this.isDraped,this.domain),new wu(vl.REFERENCE,t,i,this.isDraped,this.domain),new Yne(this.previousVertex,i,n,this.isDraped,this.domain)]}};var r_,s_;(function(e){e[e.NEXT=0]="NEXT",e[e.CENTER=1]="CENTER"})(r_||(r_={})),function(e){e[e.None=0]="None",e[e.LastVertex=1]="LastVertex",e[e.FirstVertex=2]="FirstVertex",e[e.ExistingEdge=3]="ExistingEdge"}(s_||(s_={}));let $Oe=class extends Zg{constructor({targetPoint:t,point1:i,point2:n,isDraped:s}){super(t,new tR(qg(ft(),i,n,.5),.5*v3(i,n)),s,Ws.SELF),this._p1=i,this._p2=n}get hints(){return[new wu(vl.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new wu(vl.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new Yne(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}};function kOe(e,t,i,n,s=ft()){const u=jo(COe,e);return u[2]=rne(n,u,t,i)||0,n.renderCoordsHelper.toRenderCoords(u,t,s),s}const COe=ft();function AOe(e,t,i,n){return n.type==="2d"?(qx.x=e[0],qx.y=e[1],qx.spatialReference=t,n.toScreen(qx)):(kOe(e,t,i,n,OH),n.state.camera.projectToScreen(OH,V8),Rh(V8[0],V8[1]))}const qx=_u(0,0,0,null),OH=ft(),V8=WX();let Zl=class extends Ms.EventedMixin(Zt){constructor(t){super(t),this.options=new S3,this._engineCache=new Map,this._loadTask=null,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=wh.MAIN}initialize(){this.addHandles([ei(()=>{const{distance:t,touchSensitivityMultiplier:i,effectiveSelfEnabled:n,effectiveFeatureEnabled:s,effectiveGridEnabled:u}=this.options;return{selfEnabled:n,featureEnabled:s,gridEnabled:this.view.type==="2d"&&u,viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,distance:t,touchSensitivityMultiplier:i}},(t,i)=>{var n;i&&(this.doneSnapping(),this.emit("changed")),(n=this._loadTask)==null||n.abort(),this._loadTask=Z_(s=>this._updateEngines(t,i,s))},wa),ei(()=>this.options,t=>{for(const i of this._engines)i.options=t},Ag)])}destroy(){this._destroyEngines()}get updating(){var t;return this._engines.some(i=>i.updating)||!((t=this._loadTask)!=null&&t.finished)}_destroyEngines(){this._engineCache.forEach(t=>t.destroy()),this._engineCache.clear(),this._engines=[]}async _updateEngines(t,i,n){if(!t.viewReady)return void this._destroyEngines();(i==null?void 0:i.viewSpatialReference)!==t.viewSpatialReference&&this._destroyEngines();const{_engineCache:s}=this,u=[];t.featureEnabled&&!s.has("feature")&&u.push(this._setupFeatureSnappingEngine(n)),t.selfEnabled&&!s.has("self")&&u.push(this._setupSelfSnappingEngine(n)),t.gridEnabled&&!s.has("grid")&&this.view.type==="2d"&&u.push(this._setupGridSnappingEngine(n)),await Promise.allSettled(u),n.aborted||(this._engines=Array.from(s.values()))}async _setupSelfSnappingEngine(t){const{SelfSnappingEngine:i}=await rt(()=>import("./SelfSnappingEngine-DcfRck-z.js"),__vite__mapDeps([246,247]),import.meta.url);Fo(t);const n=new i({view:this.view,options:this.options});this._engineCache.set("self",n)}async _setupGridSnappingEngine(t){const{view:i}=this,{GridSnappingEngine:n}=await rt(async()=>{const{GridSnappingEngine:s}=await import("./GridSnappingEngine-CovwtL2V.js");return{GridSnappingEngine:s}},__vite__mapDeps([248,16,17,18,19,77,249]),import.meta.url);if(Fo(t),i.type==="2d"){const s=new n({view:i,options:this.options});this._engineCache.set("grid",s)}}async _setupFeatureSnappingEngine(t){const{FeatureSnappingEngine:i}=await rt(()=>import("./FeatureSnappingEngine-BeLLE9lu.js"),__vite__mapDeps([250,78]),import.meta.url);Fo(t);const{view:n,options:s,_engineCache:u}=this,p=new i({view:n,options:s,spatialReference:n.spatialReference});u.set("feature",p)}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:i}=this.options,n=t*i;return n*n}snap(t){return POe(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:i,context:n}=t;this._removeVisualization();const s=this._currentMainCandidate;if(s==null)return i;const u=this._selectUpdateInput(t);if(u==null)return i;const{spatialReference:p}=n,g=gu(u,p);if(g==null)return i;const{view:w}=this,{elevationInfo:E,visualizer:A}=n,I=[],R=Af(g,w,E),F=s.constraint.closestTo(R);if(!this._arePointsWithinScreenThreshold(R,F,n)||!H8(s,n.drawConstraints))return this._resetSnappingState(),i;s.targetPoint=N8(F),I.push(...s.hints);for(const q of this._currentOtherActiveCandidates)H8(q,n.drawConstraints)&&(q.targetPoint=N8(F),I.push(...q.hints));return A!=null&&this.addHandles(A.draw(I,{spatialReference:p,elevationInfo:ROe(n),view:w,selfSnappingZ:n.selfSnappingZ}),G8),PA(F,w,i,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:i}){switch(this._currentSnappedType){case wh.MAIN:return t;case wh.SCENE:return i}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=wh.MAIN}_removeVisualization(){this.removeHandles(G8)}async _snapSinglePoint({point:t,context:i,signal:n}){const{view:s}=this,{elevationInfo:u}=i,p=Af(t,s,u),g=await this._fetchCandidates(p,Ws.ALL,i,n);return this._createSnapResult(p,wh.MAIN,g,s,t,i,n)}async _snapMultiPoint({point:t,scenePoint:i,context:n,signal:s}){const{view:u}=this,{coordinateHelper:p,elevationInfo:g,spatialReference:w}=n;await g3(i.spatialReference,w);const E=gu(i,w),A=Af(E,u,g),I=await this._fetchCandidates(A,Ws.FEATURE,n,s);if(I.length>0){const q=await this._fetchCandidates(A,Ws.SELF,n,s);return this._createSnapResult(A,wh.SCENE,[...I,...q],u,E,n,s)}const R=Af(t,u,g),F=await this._fetchCandidates(R,Ws.SELF,n,s);return this._createSnapResult(R,wh.MAIN,F,u,{z:p.hasZ()&&t.hasZ?t.z??0:void 0,m:p.hasM()&&t.hasM?t.m??0:void 0},n,s)}async _fetchCandidates(t,i,n,s){return(await Promise.all(this._engines.map(u=>u.fetchCandidates(t,i,n,s)))).flat()}_createSnapResult(t,i,n,s,u,p,g){return{get valid(){return!Sa(g)},apply:()=>{const{spatialReference:w}=p,{snappedPoint:E,hints:A}=this._processCandidates(t,i,n,p);return this._removeVisualization(),p.visualizer!=null&&this.addHandles(p.visualizer.draw(A,{spatialReference:w,elevationInfo:tp,view:s,selfSnappingZ:p.selfSnappingZ}),G8),PA(E,s,u,p)}}}_processCandidates(t,i,n,s){if(n.length<1)return this.doneSnapping(),{snappedPoint:t,hints:[]};this._currentSnappedType!==i&&this._resetSnappingState(),gCe(t,n);const u=this._currentMainCandidate;if(u!=null){const p=IOe(u,n);if(p>=0){if(!(n[p]instanceof SS))return this._intersectWithOtherCandidates(p,n,t,i,s);if(this._arePointsWithinScreenThreshold(t,u.targetPoint,s))return this._updateSnappingCandidate(u,i,n,s)}}return this._intersectWithOtherCandidates(0,n,t,i,s)}_intersectWithOtherCandidates(t,i,n,s,u){const{coordinateHelper:p}=u,g=i[t],w=[];for(let E=0;E<i.length;++E){if(E===t)continue;const A=i[E],I=g.constraint.intersect(A.constraint);if(I)for(const R of I.closestPoints(g.targetPoint))w.push([new SS(N8(R),g,A,A.isDraped),this._squaredScreenDistance(n,R,p)])}return w.length>0&&(w.sort((E,A)=>E[1]-A[1]),w[0][1]<this._squaredPointProximityThreshold(u.pointer))?this._updateSnappingCandidate(w[0][0],s,i,u):H8(g,u.drawConstraints)?this._updateSnappingCandidate(g,s,i,u):{snappedPoint:n,hints:[]}}_updateSnappingCandidate(t,i,n,s){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=i;const u=this._currentMainCandidate.targetPoint,p=[];p.push(...t.hints);for(const g of n){if(t instanceof SS){if(g.constraint.equals(t.first.constraint)||g.constraint.equals(t.second.constraint))continue}else if(g.constraint.equals(t.constraint))continue;const w=g.constraint.closestTo(u);this._squaredScreenDistance(w,u,s.coordinateHelper)<OOe()&&(g.targetPoint=u,this._currentOtherActiveCandidates.push(g),p.push(...g.hints))}return{snappedPoint:u,hints:p}}_squaredPointProximityThreshold(t){return t==="touch"?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(t,i,n){return this._squaredScreenDistance(t,i,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(t,i,n){return cne(this._toScreen(t,n),this._toScreen(i,n))}_toScreen(t,i){return AOe(t,i.spatialReference,tp,this.view)}get test(){}};var wh;S([M({constructOnly:!0})],Zl.prototype,"view",void 0),S([M()],Zl.prototype,"options",void 0),S([M({readOnly:!0})],Zl.prototype,"updating",null),S([M()],Zl.prototype,"_loadTask",void 0),S([M()],Zl.prototype,"_engines",void 0),S([M()],Zl.prototype,"_squaredMouseProximityThreshold",null),S([M()],Zl.prototype,"_squaredTouchProximityThreshold",null),Zl=S([ue("esri.views.interactive.snapping.SnappingManager")],Zl),function(e){e[e.MAIN=0]="MAIN",e[e.SCENE=1]="SCENE"}(wh||(wh={}));const G8="visualization-handle";function OOe(){return Q4.satisfiesConstraintScreenThreshold*Q4.satisfiesConstraintScreenThreshold}function H8(e,t){return!t||t.direction==null&&t.distance==null||!(e instanceof wOe||e instanceof xOe||e instanceof _Oe||e instanceof TOe||e instanceof $Oe)&&(!(e instanceof MOe)||t.direction==null&&e.selfSnappingType===s_.LastVertex)}function IOe(e,t){return e instanceof SS?q8(t,e.first)>=0&&q8(t,e.second)>=0?0:-1:q8(t,e)}function q8(e,t){let i=-1;for(let n=0;n<e.length;++n)if(t.constraint.equals(e[n].constraint)){i=n;break}return i}function POe(e){return e.scenePoint!=null}function ROe({coordinateHelper:e,elevationInfo:t}){return e.hasZ()?tp:t}async function SWe(e,t){if(e.type==="2d")return e.hitTest(t);const i=await e.hitTest(t);if(i.results.length===0)return i;const n=i.results[0],s=(n.distance??0)*(1+DOe),u=i.results.findIndex(p=>(p.distance??0)>s);return u!==-1&&(i.results=i.results.slice(0,u)),n&&i.ground.distance>s&&(i.ground.mapPoint=null),i}const DOe=.05;function Xne(e){return(e==null?void 0:e.type)==="graphic"}function NOe(e){return e.find(Xne)??null}function _We(e){return e.filter(Xne)}function zA(e){return Rh(e.x,e.y)}function LOe(e,t){var n;const i=(n=e instanceof HTMLElement?e:e.surface)==null?void 0:n.getBoundingClientRect();return i?Rh(t.clientX-i.left,t.clientY-i.top):Rh(0,0)}function EWe(e,t){return t instanceof Event?LOe(e,t):zA(t)}function TWe(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let xs=class extends Ms.EventedAccessor{constructor(t){super(t),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case"graphic-mover":case"move-3d":return"move";case"box":case"transform-3d":return"transform";case"reshape":case"reshape-3d":return"reshape";case"draw-2d":case"draw-3d":return this.activeComponent.geometryType;default:this.activeComponent}return null}addToHistory(t){this.history.redo=[],this.history.undo.push(t)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this._reset(),this.onEnd(),this.emit("complete")}cancel(){this.cancelled=!0,this.complete()}_reset(){var t;(t=this.activeComponent)==null||t.reset()}refreshComponent(){const t=this.activeComponent;t&&(t.type!=="box"&&t.type!=="reshape"&&t.type!=="graphic-mover"||t.refresh())}set undo(t){this._set("undo",()=>{this.canUndo()&&t()})}set redo(t){this._set("redo",()=>{this.canRedo()&&t()})}};S([M()],xs.prototype,"activeComponent",void 0),S([M()],xs.prototype,"cancelled",void 0),S([M()],xs.prototype,"history",void 0),S([M()],xs.prototype,"tool",null),S([M()],xs.prototype,"type",void 0),S([M()],xs.prototype,"canUndo",null),S([M()],xs.prototype,"canRedo",null),S([M()],xs.prototype,"onEnd",void 0),S([M()],xs.prototype,"undo",null),S([M()],xs.prototype,"redo",null),S([M()],xs.prototype,"toggleTool",void 0),S([M()],xs.prototype,"addToSelection",void 0),S([M()],xs.prototype,"removeFromSelection",void 0),xs=S([ue("esri.widgets.Sketch.support.OperationHandle")],xs);let _S=class extends xs{};S([M()],_S.prototype,"activeComponent",void 0),_S=S([ue("esri.widgets.Sketch.support.OperationHandle.CreateOperationHandle")],_S);let Eh=class extends xs{};S([M()],Eh.prototype,"activeComponent",void 0),Eh=S([ue("esri.widgets.Sketch.support.OperationHandle.UpdateOperationHandle")],Eh);const IH={defaultZ:0},db={reshapeOptions:{edgeOperation:"split",shapeOperation:"move",vertexOperation:"move"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,highlightOptions:{enabled:!0},tool:"transform"};let Ki=class extends Ms.EventedAccessor{constructor(t){var i;super(t),this._numUpdating=0,this._defaultSnappingManager=null,this._internalGraphicsLayer=new Bg({listMode:"hide",internal:!0,title:"SVM Internal"}),this._operationHandle=null,this._viewHandlesKey="viewHandles",this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.layer=null,this.pointSymbol=new Ta({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new Wh({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new bo({color:[130,130,130,1],width:2}),this.meshSymbol=new Lg({symbolLayers:new Bt([new ap])}),this.updateGraphics=new Bt,this.updateOnGraphicClick=!0,this.vertexSymbol=new Ta({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.sketchOptions=new F6,this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._originalPopupEnabled=null,this.defaultCreateOptions=IH,this.defaultUpdateOptions=db,this.snappingOptions=((i=t==null?void 0:t.snappingManager)==null?void 0:i.options)??(t==null?void 0:t.snappingOptions)??new S3}initialize(){this.addHandles([m1(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.layers},"change",t=>{t.removed.includes(this.layer)&&this.cancel()}),m1(()=>{var t;return(t=this.layer)==null?void 0:t.graphics},"change",t=>{if(this._operationHandle!=null)for(const i of t.removed)this.updateGraphics.includes(i)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(i):this._operationHandle.cancel())}),ei(()=>{var t;return((t=this.layer)==null?void 0:t.elevationInfo)??null},t=>{t!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=t)},wa),ei(()=>this.view,t=>{this._defaultSnappingManager=kr(this._defaultSnappingManager),t&&(this.snappingManager||(this._defaultSnappingManager=new Zl({view:t,options:this.snappingOptions})),t.type==="2d"?rt(()=>import("./editingTools-BfSk4NHs.js"),__vite__mapDeps([251,44,45,46,252,253,240,241,14,42,43,41,146,247,66,254,255,178,219,195,218,63,48,256]),import.meta.url):t.type==="3d"&&(rt(()=>import("./ImageMaterial.glsl-CrZ6iD8o.js").then(i=>i.e),__vite__mapDeps([257,253,240,241,14,42,43,41,146,247,258,196,136,195,259,147,223,224,218,215,188,202,140,174,30,29,216,217,203,139,219,134,220,185,225,133,135,200,221,222,226,141,142,166,260,261,178,138,28,45,46,67,252,66,254,255,262,263,62,63,13,264,235,265,266,48]),import.meta.url),rt(()=>import("./LineCallout.glsl-BjgGd2Ws.js").then(i=>i.G),__vite__mapDeps([267,15,259,147,223,224,218,195,215,188,146,202,140,174,136,30,29,216,217,203,139,219,134,220,185,225,196,133,135,200,161,81,8,2,3,4,228,227,201,199,103,104,124,125,21,102,105,121,26,268,269,99,59,60,100,101,270,37,18,19,271,28]),import.meta.url)))},wa),ei(()=>{var t;return(t=this.view)==null?void 0:t.spatialReference},(t,i)=>{t&&i&&!t.equals(i)&&this.cancel()})]),une(this)}destroy(){this.cancel(),this._removeDefaultLayer(),this._defaultSnappingManager=kr(this._defaultSnappingManager),this._set("snappingManager",null),this._set("view",null),this.emit("destroy")}get updating(){return this._numUpdating>0||this.snappingManager!=null&&this.snappingManager.updating}get activeTool(){var t;return((t=this._operationHandle)==null?void 0:t.tool)??null}get activeTooltip(){const{activeComponent:t,destroyed:i}=this,n=!i&&t&&"tooltip"in t?t.tooltip:null;return n!=null&&n.visible?n:null}get activeComponent(){var t;return((t=this._operationHandle)==null?void 0:t.activeComponent)??null}get createGraphic(){return this.activeComponent==null||this.activeComponent.type!=="draw-3d"&&this.activeComponent.type!=="draw-2d"?this._get("createGraphic"):this.activeComponent.graphic}get defaultCreateOptions(){return this._get("defaultCreateOptions")}set defaultCreateOptions(t){this._set("defaultCreateOptions",{...IH,...t})}get defaultUpdateOptions(){return this._get("defaultUpdateOptions")}set defaultUpdateOptions(t){this._set("defaultUpdateOptions",{...db,...t,reshapeOptions:{...db.reshapeOptions,...t==null?void 0:t.reshapeOptions},highlightOptions:{...db.highlightOptions,...t==null?void 0:t.highlightOptions}})}get labelOptions(){return this.sketchOptions.labels}set labelOptions(t){this.sketchOptions.labels=t}get snappingOptions(){var t;return((t=this.snappingManager)==null?void 0:t.options)??this._get("snappingOptions")}set snappingOptions(t){this._defaultSnappingManager!=null&&(this._defaultSnappingManager.options=t),this._set("snappingOptions",t)}get snappingManager(){return this._isOverridden("snappingManager")&&this._get("snappingManager"),this._defaultSnappingManager}set snappingManager(t){if(t)this._isOverridden("snappingManager")||(this._defaultSnappingManager=kr(this._defaultSnappingManager)),this._override("snappingManager",t);else{const{view:i}=this;!this._defaultSnappingManager&&i&&(this._defaultSnappingManager=new Zl({options:this.snappingOptions,view:i})),this._clearOverride("snappingManager")}}get state(){var n;const t=!(!((n=this.view)!=null&&n.ready)||!this.layer),i=this._operationHandle;return t&&i?"active":t?"ready":"disabled"}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(t){this.sketchOptions.tooltips=t}get valueOptions(){return this.sketchOptions.values}set valueOptions(t){this.sketchOptions.values=t}get view(){return this._get("view")}set view(t){const i=this._get("view");if(i){const{container:s,map:u}=i;s&&(i.cursor=null),u==null||u.remove(this._internalGraphicsLayer),this.removeHandles(this._viewHandlesKey),this.cancel()}const n="view-ready";this.removeHandles(n),t&&this.addHandles(Wf(()=>t.ready,s=>{this.removeHandles(this._viewHandlesKey),s&&this.addHandles(this._generateViewHandles(t),this._viewHandlesKey)},wa),n),this._set("view",t)}cancel(){this._moduleLoaderAbortController=Df(this._moduleLoaderAbortController),this._viewReadyAbortController=Df(this._viewReadyAbortController),this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:t,updateGraphics:i}=this;if(t==="active"&&i.length){const{activeTool:n,layer:s}=this,u=i.toArray();s.removeMany(u),this.cancel(),this._emitDeleteEvent({graphics:u,tool:n})}}duplicate(){if(this.state==="active"&&this.updateGraphics.length){const t=this.updateGraphics.map(i=>i.clone()).toArray();return this.layer.addMany(t),this.emit("duplicate",{graphics:t,type:"duplicate"}),t}return[]}async create(t,i){this.cancel(),await this._waitViewReady();const{view:n,layer:s}=this;if(!n||this.state==="disabled")throw s||this._logMissingLayer(),Gn();if(n.activeTool!=null&&(n.activeTool=null),!t)return void this._logError("sketch:missing-parameter","Missing parameter 'tool'.");vH(n,this._internalGraphicsLayer);const u=await this._setupCreateOperation(t,i);if(u==null||this.destroyed)return void n.map.remove(this._internalGraphicsLayer);const p=()=>{var g;if(u===this._operationHandle){const w=this.createGraphic,E=this._operationHandle.cancelled;this._operationHandle.destroy(),this._operationHandle=null,this._set("createGraphic",null),(g=this.view)!=null&&g.map&&this.view.map.remove(this._internalGraphicsLayer),u.cancelled||w==null||s.add(w),this.emit("create",{graphic:w,state:E?"cancel":"complete",tool:t,toolEventInfo:null,type:"create"})}};u.on("complete",p),this._operationHandle=u,n.ready&&n.focus()}async place(t,i){return this.create("mesh",{mode:"click",hasZ:t.hasZ,geometryToPlace:t,...i})}async update(t,i){this.cancel(),await this._waitViewReady();const{layer:n,view:s,state:u}=this;if(!s||u==="disabled")throw n||this._logMissingLayer(),Gn();s.activeTool!=null&&(s.activeTool=null);const p=Array.isArray(t)?t:[t];if(t==null||!(p!=null&&p.length))return void this._logError("sketch:missing-parameter","Missing parameter 'graphics'.");if(p.some(w=>w.layer!==n?(this._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):w.geometry==null&&(this._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0)))return;const g=await this._setupUpdateOperation(p,i);this.destroyed||g==null||wr(g)||(vH(s,this._internalGraphicsLayer),this._setUpdateOperationHandle(g,i),this.emit("update",{graphics:p,state:"start",aborted:!1,tool:g.tool,toolEventInfo:null,type:"update"}))}async _updateSpatialReference(t){const i=this.view;if(i){this._beginAsyncOperation(),t=Array.isArray(t)?t:[t];for(const n of t)n.geometry==null||n.geometry.type==="mesh"||cs(n.geometry.spatialReference,i.spatialReference)||(Dh(n.geometry.spatialReference,i.spatialReference)||Hg()||await dg(),n.geometry=gu(n.geometry,i.spatialReference));this._endAsyncOperation()}else this._logMissingView()}undo(){var t;this.canUndo()&&((t=this._operationHandle)==null||t.undo())}redo(){var t;this.canRedo()&&((t=this._operationHandle)==null||t.redo())}canUndo(){var t;return!!((t=this._operationHandle)!=null&&t.canUndo())}canRedo(){var t;return!!((t=this._operationHandle)!=null&&t.canRedo())}toggleUpdateTool(){var t;(t=this._operationHandle)==null||t.toggleTool()}async _getFirstHit(t){const i=this.view;if(!i)return this._logMissingView(),null;if(i.type==="2d"){const u=[];i.map.allLayers.forEach(g=>{g.type!=="vector-tile"&&g.type!=="imagery"||u.push(g)});const p=await i.hitTest(t,{exclude:u});return NOe(p.results)}const n=[i.map.ground];i.map.allLayers.forEach(u=>{jSe(u.type)&&n.push(u)});const s=await i.hitTest(t,{exclude:n});if(s.results.length>0){const u=s.results[0];if(u!=null&&u.type==="graphic"&&u.graphic&&(!s.ground.mapPoint||i.map.ground.opacity<1||s.ground.distance-(u.distance??0)>-Math.min(3*s.ground.distance,i.viewingMode==="global"?iI(i.renderCoordsHelper.spatialReference).radius/i.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return u}return null}_generateViewHandles(t){return[t.on("immediate-click",async i=>{var p;const n=this.state==="active"&&((p=this._operationHandle)==null?void 0:p.type)==="create";if(this.state==="disabled"||n||!this.updateOnGraphicClick)return;this._beginAsyncOperation();const s=await i.async(()=>this._getFirstHit(zA(i)));let u=null;if(s!=null){const g=s.graphic;this.updateGraphics.includes(g)||g.layer===this.layer?(i.stopPropagation(),u=g):t.type!=="2d"||this._isComponentGraphic(g)||this.state!=="active"||this.cancel()}else this.state==="active"&&this.cancel();u==null||this.updateGraphics.includes(u)||await this.update([u],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}}),this._endAsyncOperation()},Un.WIDGET)]}async _setupCreateOperation(t,i){const n=this.view;if(!n)return this._logMissingView(),null;const s={hasZ:n.type==="3d",...this.defaultCreateOptions,...i},u=await this._setupDrawGraphicTool(t,n,s);return u==null?null:(n.tools.add(u),n.activeTool=u,this._setupCreateOperationHandle(u))}async _setupDrawGraphicTool(t,i,n){if(t==="multipoint"&&i.type==="3d")return this._logError("sketch:create","Multipoint geometries are not supported in SceneView."),null;if(!i)return this._logMissingView(),null;const{cursor:s,defaultZ:u,hasZ:p,geometryToPlace:g,graphicProperties:w,mode:E,preserveAspectRatio:A}=n,I=t==="rectangle"||t==="circle"?"hybrid":"click",R=A??t!=="rectangle",F={centered:t!=="rectangle"&&!(t==="circle"&&!R),cursor:s,defaultZ:u,forceUniformSize:R,graphicProperties:w,geometryToPlace:g,geometryType:t,graphicSymbol:this._getGraphicSymbolFromTool(t),hasZ:p,mode:E??I,snappingManager:this.snappingManager,snapToScene:!1,view:i};return i.type==="2d"?this._makeDrawGraphicTool2D(F):this._makeDrawGraphicTool3D(F)}async _makeDrawGraphicTool2D(t){const i=await this._requireModule(rt(()=>import("./editingTools-BfSk4NHs.js"),__vite__mapDeps([251,44,45,46,252,253,240,241,14,42,43,41,146,247,66,254,255,178,219,195,218,63,48,256]),import.meta.url));return wr(i)||this.destroyed?null:new i.module.DrawGraphicTool2D({...t,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:jOe(t.geometryType)?this.activeFillSymbol:null,sketchOptions:this.sketchOptions})}async _makeDrawGraphicTool3D(t){const i=await this._requireModule(rt(()=>import("./ImageMaterial.glsl-CrZ6iD8o.js").then(s=>s.e),__vite__mapDeps([257,253,240,241,14,42,43,41,146,247,258,196,136,195,259,147,223,224,218,215,188,202,140,174,30,29,216,217,203,139,219,134,220,185,225,133,135,200,221,222,226,141,142,166,260,261,178,138,28,45,46,67,252,66,254,255,262,263,62,63,13,264,235,265,266,48]),import.meta.url));if(wr(i)||this.destroyed)return null;const{elevationInfo:n}=this.layer;return new i.module.DrawGraphicTool3D({...t,elevationInfo:n,snapToScene:!0,sketchOptions:this.sketchOptions})}_setupCreateOperationHandle(t){const i=this.view;if(!i)return this._logMissingView(),null;let n=null;const s=t.forceUniformSize,u=t.centered,p=[i.on("key-down",w=>{if(w.key===Cn.pan)w.stopPropagation(),w.repeat||(t.enabled=!1);else if(w.key===Cn.complete)w.stopPropagation(),t.completeCreateOperation();else if(w.key!==Cn.vertexAdd||w.repeat)w.key===Cn.undo?(w.stopPropagation(),g.undo()):w.key===Cn.redo?(w.stopPropagation(),g.redo()):w.key!==Cn.constraint||t.geometryType!=="rectangle"&&t.geometryType!=="circle"||w.repeat?w.key===Cn.center&&(w.repeat||(t.centered=!u,w.stopPropagation())):(t.forceUniformSize=!s,w.stopPropagation());else{const E=t.drawOperation.geometryType;E!=="polyline"&&E!=="polygon"&&E!=="multipoint"||(w.stopPropagation(),t.drawOperation.commitStagedVertex())}},Un.WIDGET),i.on("key-up",w=>{w.key===Cn.pan?t.enabled=!0:w.key!==Cn.constraint||t.geometryType!=="rectangle"&&t.geometryType!=="circle"?w.key===Cn.center&&(t.centered=u,w.stopPropagation()):(t.forceUniformSize=s,w.stopPropagation())},Un.WIDGET),t.on("vertex-add",w=>{switch(n=n==null?"start":"active",w.operation){case"apply":this.emit("create",{graphic:t.graphic,state:n,tool:this.activeTool,toolEventInfo:w,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[t.graphic],tool:t.geometryType});break;case"redo":this._emitRedoEvent({graphics:[t.graphic],tool:t.geometryType})}}),t.on("cursor-update",w=>{t.drawOperation.numCommittedVertices>0&&this.emit("create",{graphic:t.graphic,state:"active",tool:this.activeTool,toolEventInfo:{coordinates:w.vertices[0].coordinates,type:"cursor-update"},type:"create"})}),t.on("vertex-remove",w=>{switch(w.operation){case"apply":this.emit("create",{graphic:t.graphic,state:"active",tool:this.activeTool,toolEventInfo:w,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[t.graphic],tool:t.geometryType});break;case"redo":this._emitRedoEvent({graphics:[t.graphic],tool:t.geometryType})}}),t.on("complete",w=>{this._set("createGraphic",w.graphic),n="complete",w.aborted?g&&g.cancel():g&&g.complete()}),ei(()=>this._getGraphicSymbolFromTool(t.geometryType),w=>{t.graphicSymbol=w})],g=new _S({activeComponent:t,tool:t.geometryType,type:"create",onEnd:()=>{var w;Ic(p),(w=i.tools)==null||w.remove(t)},undo:()=>{t.canUndo&&t.undo()},redo:()=>{t.canRedo&&t.redo()},canUndo:()=>t.canUndo,canRedo:()=>t.canRedo});return g}_getGraphicSymbolFromTool(t){switch(t){case"point":case"multipoint":return this.pointSymbol;case"polyline":return this.polylineSymbol;case"circle":case"rectangle":case"polygon":return this.polygonSymbol;case"mesh":return this.meshSymbol}}async _setupUpdateOperation(t,i){var g;const{layer:n,view:s}=this;if(!s)return this._logMissingView(),null;const u={...this.defaultUpdateOptions,...i,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...i==null?void 0:i.reshapeOptions},highlightOptions:{...this.defaultUpdateOptions.highlightOptions,...i==null?void 0:i.highlightOptions}};let p=u.tool??db.tool;for(const w of t)n.remove(w),n.add(w);if(s.type==="3d"){if(t.length===0)return null;switch(p){case"move":return this._setupMove3DOperation(t,u,s,p);case"reshape":return t.length>1?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null):this._setupReshape3DOperation(t[0],u,s);case"transform":return this._setupGraphicTransform3DOperation(t,u,s)}}switch(p){case"move":return this._setupMove2DOperation(t,u,s);case"reshape":return t.length>1?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null):this._setupTransformOrReshape2DOperation(t,p,u,s);case"transform":if(t.length===1){const w=(g=t[0].geometry)==null?void 0:g.type;w!=="point"&&w!=="multipoint"||(p="reshape")}return this._setupTransformOrReshape2DOperation(t,p,u,s)}}async _setupMove3DOperation(t,i,n,s,u=!1){const p=await this._requireModule(rt(()=>import("./ImageMaterial.glsl-CrZ6iD8o.js").then(q=>q.e),__vite__mapDeps([257,253,240,241,14,42,43,41,146,247,258,196,136,195,259,147,223,224,218,215,188,202,140,174,30,29,216,217,203,139,219,134,220,185,225,133,135,200,221,222,226,141,142,166,260,261,178,138,28,45,46,67,252,66,254,255,262,263,62,63,13,264,235,265,266,48]),import.meta.url));if(wr(p))return p;const{ManipulatedObject3DGraphic:g,MoveTool3D:w}=p.module,E=new Map,A=()=>{E.forEach(q=>q.destroy()),E.clear()};for(const q of t){const B=new g({view:n,graphic:q}),K=Wke(B);if(K!==dn.SUPPORTED)return A(),this._logError("sketch:move",`Move operation not supported for provided graphic(s) (${gH(K)}).`),null;E.set(q,B)}const I=new w({view:n,enableZ:i.enableZ,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});n.tools.add(I),I.objects.addMany(Array.from(E.values())),u||this.updateGraphics.addMany(t);const R=[],F=new Eh({activeComponent:I,tool:s,type:"update",onEnd:()=>{Ic(R),Jx(n,I),A()},undo:()=>{RH(this.view,I),Bx(F,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s})},redo:()=>{Wx(F,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s})},addToSelection:q=>{this.updateGraphics.push(q);const B=new g({view:n,graphic:q});E.set(q,B),I.objects.push(B),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[q],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:q=>{const B=this.updateGraphics.indexOf(q);if(F.history.undo.forEach(te=>te.updates.splice(B,1)),F.history.redo.forEach(te=>te.updates.splice(B,1)),this.updateGraphics.remove(q),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[q],type:"selection-change"},type:"update"}),this.updateGraphics.length===0)return void F.complete();const K=E.get(q);K&&(I.objects.remove(K),K.destroy(),E.delete(q))},toggleTool:async()=>{if(this.updateGraphics.length!==1||i.toggleToolOnClick===!1||s!=="transform")return;const q=this.updateGraphics.at(0),B=await this._setupReshape3DOperation(q,i,n,!0);B&&!wr(B)&&(F.onEnd(),F.destroy(),this._setUpdateOperationHandle(B,i))}});return R.push(...this._getHandlesForComponent(F,i),n.on("immediate-click",q=>this._getCommonUpdateOperationClickHandlers(F,q,i),Un.WIDGET),n.on("key-down",q=>{this._getCommonUpdateOperationKeyDownHandlers(F,q)},Un.WIDGET)),F}_setupGraphicTransform3DOperation(t,i,n,s=!1){if(t.length===1&&Yke(t[0])===dn.SUPPORTED){const u=t[0],p=u.geometry;if(p!=null&&(p.type==="point"||p.type==="mesh"))return this._setupPointTransform3DOperation(u,i,n);if(p!=null&&(p.type==="polygon"||p.type==="polyline"))return this._setupPolyTransform3DOperation(u,i,n,s)}return this._setupMove3DOperation(t,i,n,"transform",s)}async _setupPointTransform3DOperation(t,i,n){const s="transform",{enableRotation:u,enableScaling:p,enableZ:g}=i,w=await this._requireModule(rt(()=>import("./ImageMaterial.glsl-CrZ6iD8o.js").then(B=>B.e),__vite__mapDeps([257,253,240,241,14,42,43,41,146,247,258,196,136,195,259,147,223,224,218,215,188,202,140,174,30,29,216,217,203,139,219,134,220,185,225,133,135,200,221,222,226,141,142,166,260,261,178,138,28,45,46,67,252,66,254,255,262,263,62,63,13,264,235,265,266,48]),import.meta.url));if(wr(w))return w;const{TransformTool3D:E,ManipulatedObject3DGraphic:A}=w.module,I=new A({graphic:t,view:n}),R=new E({object:I,view:n,enableRotation:u,enableScaling:p,enableZ:g,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});n.tools.add(R),this.updateGraphics.add(t);const F=[],q=new Eh({activeComponent:R,tool:s,type:"update",onEnd:()=>{Ic(F),Jx(n,R),I.destroy()},undo:()=>{RH(this.view,R),Bx(q,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s})},redo:()=>{Wx(q,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s})},addToSelection:async B=>{this.updateGraphics.add(B),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[B],removed:[],type:"selection-change"},type:"update"}),q.onEnd(),q.destroy();const K=await this._setupMove3DOperation(this.updateGraphics.toArray(),i,n,"transform",!0);wr(K)||this._setUpdateOperationHandle(K,i)},removeFromSelection:B=>{this.updateGraphics.remove(B),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[B],type:"selection-change"},type:"update"}),q.complete()},toggleTool:()=>{}});return F.push(...this._getHandlesForComponent(q,i),n.on("immediate-click",B=>this._getCommonUpdateOperationClickHandlers(q,B,i),Un.WIDGET),n.on("key-down",B=>{this._getCommonUpdateOperationKeyDownHandlers(q,B)},Un.WIDGET)),q}async _setupPolyTransform3DOperation(t,i,n,s=!1){var ce,ye;const u="transform",{enableRotation:p,enableScaling:g,enableZ:w,preserveAspectRatio:E}=i,A=await this._requireModule(rt(()=>import("./ImageMaterial.glsl-CrZ6iD8o.js").then(_e=>_e.e),__vite__mapDeps([257,253,240,241,14,42,43,41,146,247,258,196,136,195,259,147,223,224,218,215,188,202,140,174,30,29,216,217,203,139,219,134,220,185,225,133,135,200,221,222,226,141,142,166,260,261,178,138,28,45,46,67,252,66,254,255,262,263,62,63,13,264,235,265,266,48]),import.meta.url));if(wr(A))return A;const{ManipulatedObject3DGraphic:I,ExtentTransformTool:R}=A.module,F=(ye=(ce=this.view)==null?void 0:ce.inputManager)==null?void 0:ye.isModifierKeyDown(Cn.constraint),q=new I({view:n,graphic:t}),B=new R({object:q,view:n,enableRotation:p,enableScaling:g,enableZ:w,preserveAspectRatio:!!E!=!!F,sketchOptions:this.sketchOptions});n.tools.add(B),s||this.updateGraphics.add(t);const K=[],te=new Eh({activeComponent:B,tool:u,type:"update",onEnd:()=>{Ic(K),Jx(n,B),q.destroy()},canUndo:()=>!B.destroyed&&B.canUndo,undo:()=>{B.destroyed||(B.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:u}))},canRedo:()=>!B.destroyed&&B.canRedo,redo:()=>{B.destroyed||(B.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:u}))},addToSelection:async _e=>{this.updateGraphics.add(_e),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[_e],removed:[],type:"selection-change"},type:"update"}),te.onEnd(),te.destroy();const we=await this._setupMove3DOperation(this.updateGraphics.toArray(),i,n,"transform",!0);wr(we)||this._setUpdateOperationHandle(we,i)},removeFromSelection:_e=>{this.updateGraphics.remove(_e),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[_e],type:"selection-change"},type:"update"}),te.complete()},toggleTool:async()=>{if(this.updateGraphics.length!==1||i.toggleToolOnClick===!1)return;const _e=await this._setupReshape3DOperation(t,i,n,!0);_e&&!wr(_e)&&(te.onEnd(),te.destroy(),this._setUpdateOperationHandle(_e,i))}});return K.push(...this._getHandlesForComponent(te,i),n.on("immediate-click",_e=>this._getCommonUpdateOperationClickHandlers(te,_e,i),Un.WIDGET),n.on("key-down",_e=>this._getCommonUpdateOperationKeyDownHandlers(te,_e),Un.WIDGET),n.on("key-down",_e=>{_e.key!==Cn.constraint||_e.repeat||(B.preserveAspectRatio=!B.preserveAspectRatio,_e.stopPropagation())},Un.WIDGET),n.on("key-up",_e=>{_e.key===Cn.constraint&&(B.preserveAspectRatio=!B.preserveAspectRatio,_e.stopPropagation())},Un.WIDGET)),te}async _setupMove2DOperation(t,i,n){const s="move";this.updateGraphics.addMany(t),await this._updateSpatialReference(t);const u=await this._getGraphicMover(t,i,n);if(wr(u))return u;const p=new Eh({activeComponent:u,tool:s,type:"update",onEnd:()=>{var A;this._displayDefaultCursor(),Ic(E),Ic(w),u.destroy(),(A=this._internalGraphicsLayer)==null||A.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const A=this.updateGraphics.toArray();Bx(p,A),p.refreshComponent(),this._emitUndoEvent({graphics:A,tool:s})},redo:()=>{const A=this.updateGraphics.toArray();Wx(p,A),p.refreshComponent(),this._emitRedoEvent({graphics:A,tool:s})},addToSelection:async A=>{await this._updateSpatialReference(A),this.updateGraphics.push(A),u.graphics=this.updateGraphics.toArray(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[A],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:A=>{const I=this.updateGraphics.indexOf(A);p.history.undo.forEach(F=>F.updates.splice(I,1)),p.history.redo.forEach(F=>F.updates.splice(I,1)),this.updateGraphics.remove(A);const R=this.updateGraphics.toArray();this.emit("update",{graphics:R,state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[A],type:"selection-change"},type:"update"}),this.updateGraphics.length!==0?u.graphics=R:p.complete()}});let g=!1;const w=[n.on("immediate-click",A=>this._getCommonUpdateOperationClickHandlers(p,A,i),Un.WIDGET),n.on("key-down",A=>{this._getCommonUpdateOperationKeyDownHandlers(p,A),A.key!==Cn.constraint||A.repeat||(g=!0,u.enableMoveAllGraphics=!u.enableMoveAllGraphics)},Un.WIDGET),n.on("key-up",A=>{A.key===Cn.constraint&&g&&(g=!1,u.enableMoveAllGraphics=!u.enableMoveAllGraphics)},Un.WIDGET)],E=this._getHandlesForComponent(p,i);return p}async _setupReshape3DOperation(t,i,n,s=!1){const u="reshape",p=await this._requireModule(rt(()=>import("./ImageMaterial.glsl-CrZ6iD8o.js").then(B=>B.e),__vite__mapDeps([257,253,240,241,14,42,43,41,146,247,258,196,136,195,259,147,223,224,218,215,188,202,140,174,30,29,216,217,203,139,219,134,220,185,225,133,135,200,221,222,226,141,142,166,260,261,178,138,28,45,46,67,252,66,254,255,262,263,62,63,13,264,235,265,266,48]),import.meta.url));if(wr(p))return p;const{ManipulatedObject3DGraphic:g,ReshapeTool3D:w}=p.module,E=new g({view:n,graphic:t}),A=Jke(E);if(A!==dn.SUPPORTED)return E.destroy(),this._logError("sketch:reshape",`Reshape operation not supported for provided graphic(s) (${gH(A)}).`),null;const I=i.reshapeOptions,R=new w({view:n,object:E,enableZVertex:i.enableZ&&(I==null?void 0:I.vertexOperation)==="move",enableZShape:i.enableZ&&(I==null?void 0:I.shapeOperation)==="move",enableMoveObject:(I==null?void 0:I.shapeOperation)==="move"||(I==null?void 0:I.shapeOperation)==="move-xy",enableMidpoints:(I==null?void 0:I.edgeOperation)==="split",enableEdgeOffset:(I==null?void 0:I.edgeOperation)==="offset",snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});n.tools.add(R),s||this.updateGraphics.add(E.graphic);const F=[],q=new Eh({activeComponent:R,tool:u,type:"update",onEnd:()=>{Ic(F),Jx(n,R),E.destroy()},canUndo:()=>!R.destroyed&&R.canUndo,undo:()=>{R.destroyed||(R.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:u}))},canRedo:()=>!R.destroyed&&R.canRedo,redo:()=>{R.destroyed||(R.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:u}))},addToSelection:async B=>{this.updateGraphics.add(B),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[B],removed:[],type:"selection-change"},type:"update"}),q.onEnd(),q.destroy();const K=await this._setupMove3DOperation(this.updateGraphics.toArray(),i,n,"transform",!0);wr(K)||this._setUpdateOperationHandle(K,i)},removeFromSelection:B=>{this.updateGraphics.remove(B),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[B],type:"selection-change"},type:"update"}),q.complete()},toggleTool:async()=>{if(i.toggleToolOnClick===!1)return;q.onEnd(),q.destroy();const B=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),i,n,!0);wr(B)||this._setUpdateOperationHandle(B,i)}});return F.push(...this._getHandlesForComponent(q,i),n.on("immediate-click",B=>this._getCommonUpdateOperationClickHandlers(q,B,i),Un.WIDGET),n.on("key-down",B=>{this._getCommonUpdateOperationKeyDownHandlers(q,B)},Un.WIDGET)),q}async _setupTransformOrReshape2DOperation(t,i,n,s){this.updateGraphics.addMany(t),await this._updateSpatialReference(t);const u=i==="transform"?await this._getBox(t,n,s):await this._getReshape(t,n,s);if(wr(u))return u;const p=new Eh({activeComponent:u,type:"update",onEnd:()=>{Ic(w),Ic(g),p.activeComponent&&!p.activeComponent.destroyed&&p.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{Bx(p,this.updateGraphics.toArray()),p.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:p.tool})},redo:()=>{Wx(p,this.updateGraphics.toArray()),p.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:p.tool})},addToSelection:async E=>{let A=p.activeComponent;if((A==null?void 0:A.type)==="reshape"){const I=[...this.updateGraphics,E];this.updateGraphics.removeAll(),p.onEnd(),p.destroy();const R=await this._setupTransformOrReshape2DOperation(I,"transform",n,s);if(wr(R))return;this._setUpdateOperationHandle(R,n)}else this.updateGraphics.add(E),A.graphics=this.updateGraphics.toArray(),A.refresh(),p.resetHistory();this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[E],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:async E=>{const A=this.updateGraphics.indexOf(E);p.history.undo.forEach(R=>R.updates.splice(A,1)),p.history.redo.forEach(R=>R.updates.splice(A,1)),this.updateGraphics.remove(E);const I=this.updateGraphics.toArray();if(I.length===0)p.complete();else{const R=I[0].geometry;I.length!==1||R==null||R.type!=="point"&&R.type!=="multipoint"?p.activeComponent.graphics=I:p.toggleTool()}this.emit("update",{graphics:I,state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[E],type:"selection-change"},type:"update"})},toggleTool:async()=>{var R;if(this.updateGraphics.length>1)return;const E=this.updateGraphics.at(0),A=E.geometry;if(A!=null&&(p.tool==="reshape"&&(A.type==="point"||A.type==="multipoint")||p.tool==="transform"&&A.type==="extent"))return;let I=null;p.tool==="transform"?I=await this._getReshape([E],n,s):p.tool==="reshape"&&(I=await this._getBox([E],n,s)),wr(I)||((R=p.activeComponent)==null||R.destroy(),p.activeComponent=I,p.activeComponent&&(Ic(w),w=this._getHandlesForComponent(p,n)))}}),g=[s.on("immediate-click",E=>this._getCommonUpdateOperationClickHandlers(p,E,n),Un.WIDGET),s.on("key-down",E=>{if(this._getCommonUpdateOperationKeyDownHandlers(p,E),E.key===Cn.constraint&&!E.repeat&&p){const A=p.activeComponent;A&&A.type==="box"&&(A.preserveAspectRatio=!A.preserveAspectRatio)}},Un.WIDGET),s.on("key-up",E=>{if(E.key===Cn.constraint&&p){const A=p.activeComponent;A&&A.type==="box"&&(A.preserveAspectRatio=!A.preserveAspectRatio)}},Un.WIDGET)];let w=this._getHandlesForComponent(p,n);return p}async _getGraphicMover(t,i,n){const{enableMoveAllGraphics:s,highlightOptions:u}=i,p=await this._requireModule(rt(()=>import("./GraphicMover-BLIVQKa8.js"),__vite__mapDeps([272,256,68,55,56,2,3,4,48]),import.meta.url));return wr(p)?p:new p.module.default({enableMoveAllGraphics:s,highlightsEnabled:!!(u!=null&&u.enabled),indicatorsEnabled:!1,graphics:t,view:n,callbacks:{onGraphicMoveStart:({dx:g,dy:w,graphic:E})=>{this._displayGrabbingCursor(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:g,dy:w,mover:E,type:"move-start"},type:"update"})},onGraphicMove:({dx:g,dy:w,graphic:E})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:g,dy:w,mover:E,type:"move"},type:"update"}),onGraphicMoveStop:({dx:g,dy:w,graphic:E})=>{this._displayPointerCursor(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:g,dy:w,mover:E,type:"move-stop"},type:"update"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(t,i,n){var A,I;const{enableRotation:s,enableScaling:u,highlightOptions:p,preserveAspectRatio:g}=i,w=await this._requireModule(rt(()=>import("./Box-fuDzFVqo.js"),__vite__mapDeps([273,256,272,68,55,56,2,3,4,48,274,253,240,241,14,42,43,41,146,247,266,263]),import.meta.url));if(wr(w))return w;const E=(I=(A=this.view)==null?void 0:A.inputManager)==null?void 0:I.isModifierKeyDown(Cn.constraint);return new w.module.default({graphics:t,enableRotation:s,enableScaling:u,highlightsEnabled:!!(p!=null&&p.enabled),preserveAspectRatio:!!g!=!!E,layer:this._internalGraphicsLayer,view:n,sketchOptions:this.sketchOptions,callbacks:{onMoveStart:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onMove:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onMoveStop:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onScaleStart:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onScale:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onScaleStop:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onRotateStart:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onRotate:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"}),onRotateStop:R=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...R},type:"update"})}})}async _getReshape(t,i,n){var w,E,A;const s=((w=i.reshapeOptions)==null?void 0:w.edgeOperation)==="split",u=((E=i.reshapeOptions)==null?void 0:E.shapeOperation)==="move",p=!!((A=i.highlightOptions)!=null&&A.enabled),g=await this._requireModule(rt(()=>import("./Reshape-uskvMQAw.js"),__vite__mapDeps([275,44,45,46,256,272,68,55,56,2,3,4,48,253,240,241,14,42,43,41,146,247,262,255,178,219,195,263,274]),import.meta.url));return wr(g)?g:new g.module.default({enableMidpoints:s,enableMovement:u,graphic:t[0],highlightsEnabled:p,layer:this._internalGraphicsLayer,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,view:n,callbacks:{onReshapeStart:I=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...I},type:"update"}),onReshape:I=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...I},type:"update"}),onReshapeStop:({mover:I,type:R})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:I,type:R},type:"update"}),onMoveStart:({dx:I,dy:R,mover:F,type:q})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:I,dy:R,mover:F,type:q},type:"update"}),onMove:({dx:I,dy:R,mover:F,type:q})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:I,dy:R,mover:F,type:q},type:"update"}),onMoveStop:({dx:I,dy:R,mover:F,type:q})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:I,dy:R,mover:F,type:q},type:"update"}),onVertexAdd:({added:I,type:R,vertices:F})=>{const q=I.map(B=>VF(B.geometry));this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:q,vertices:F,type:R},type:"update"})},onVertexRemove:({removed:I,type:R,vertices:F})=>{const q=I.map(B=>VF(B.geometry));this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:q,vertices:F,type:R},type:"update"})}}})}_getHandlesForComponent(t,i){const n=t.activeComponent;if(!n)return[];switch(n.type){case"graphic-mover":return[n.on("graphic-click",({graphic:s,viewEvent:u})=>{var p;(p=u.native)!=null&&p.shiftKey&&(u.stopPropagation(),t.removeFromSelection(s))}),n.on("graphic-move-start",s=>t.addToHistory(Fd(s.allGraphics)))];case"box":return[n.on("graphic-click",s=>this._onTransformOrReshape2DGraphicClick(t,i,s)),n.on("move-start",s=>t.addToHistory(Fd(s.graphics))),n.on("rotate-start",s=>t.addToHistory(Fd(s.graphics))),n.on("scale-start",s=>t.addToHistory(Fd(s.graphics)))];case"reshape":return[n.on("graphic-click",s=>this._onTransformOrReshape2DGraphicClick(t,i,s)),n.on("move-start",s=>t.addToHistory(Fd([s.mover]))),n.on("reshape-start",s=>t.addToHistory(Fd([s.graphic]))),n.on("vertex-add",s=>t.addToHistory(Fd([s.oldGraphic]))),n.on("vertex-remove",s=>t.addToHistory(Fd([s.oldGraphic])))];case"move-3d":return[n.events.on("record-undo",({updates:s})=>{t.addToHistory({updates:s})}),n.events.on("move-start",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:s.objects.length>0?s.objects[0].graphic:null,type:"move-start"},type:"update"})}),n.events.on("move",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:s.dx,dy:s.dy,mover:s.objects.length>0?s.objects[0].graphic:null,type:"move"},type:"update"})}),n.events.on("move-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:s.objects.length>0?s.objects[0].graphic:null,type:"move-stop"},type:"update"})}),n.events.on("immediate-click",s=>{s.shiftKey?this._toggleSelection([s.object.graphic],t,i):t.toggleTool()})];case"transform-3d":return[n.events.on("record-undo",({updates:s})=>{t.addToHistory({updates:s})}),n.events.on("translate-start",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,dx:s.dxScreen,dy:s.dyScreen,type:"move-start"},type:"update"})}),n.events.on("translate-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,dx:s.dxScreen,dy:s.dyScreen,type:"move-stop"},type:"update"})}),n.events.on("rotate-start",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,angle:s.angle,type:"rotate-start"},type:"update"})}),n.events.on("rotate-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,angle:s.angle,type:"rotate-stop"},type:"update"})}),n.events.on("scale-start",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,xScale:s.xScale,yScale:s.yScale,type:"scale-start"},type:"update"})}),n.events.on("scale-stop",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,xScale:s.xScale,yScale:s.yScale,type:"scale-stop"},type:"update"})}),n.events.on("translate",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,dx:s.dxScreen,dy:s.dyScreen,type:"move"},type:"update"})}),n.events.on("rotate",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,angle:s.angle,type:"rotate"},type:"update"})}),n.events.on("scale",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:s.object.graphic,xScale:s.xScale,yScale:s.yScale,type:"scale"},type:"update"})}),n.events.on("immediate-click",s=>{s.shiftKey?this._toggleSelection([s.object.graphic],t,i):t.toggleTool()})];case"reshape-3d":return[n.events.on("reshape",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...s,mover:s.object.graphic},type:"update"})}),n.events.on("move",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...s,mover:s.object.graphic},type:"update"})}),n.events.on("vertex-add",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:s,type:"update"})}),n.events.on("vertex-remove",s=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:s,type:"update"})}),n.events.on("immediate-click",s=>{s.shiftKey?this._toggleSelection([s.object.graphic],t,i):t.toggleTool()})]}}_onTransformOrReshape2DGraphicClick(t,i,n){var p;const{graphic:s,viewEvent:u}=n;return(p=u.native)!=null&&p.shiftKey&&s.layer===this.layer?(u.stopPropagation(),t.removeFromSelection(s)):i.toggleToolOnClick?(u.stopPropagation(),t.toggleTool()):void 0}_setUpdateOperationHandle(t,i){var u;this._operationHandle=t;const n=(u=this.view)==null?void 0:u.map;this._disablePopup(i);const s=()=>{if(t===this._operationHandle){const p=this.updateGraphics.toArray(),g=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),n&&n.remove(this._internalGraphicsLayer),this._restorePopup(i),this.emit("update",{graphics:p,state:"complete",aborted:t.cancelled,tool:g,toolEventInfo:null,type:"update"})}};t.on("complete",s)}async _getCommonUpdateOperationClickHandlers(t,i,n){const s=zA(i),u=await i.async(()=>this._getFirstHit(s));if(u==null)return void t.complete();if(i.native.shiftKey&&this._toggleSelection([u.graphic],t,n))return void i.stopPropagation();this.updateGraphics.includes(u.graphic)?i.stopPropagation():t.complete()}_toggleSelection(t,i,n){const s=!!n.multipleSelectionEnabled;return t.some(u=>u!=null&&!(!s||u.layer!==this.layer)&&(this.updateGraphics.includes(u)?i.removeFromSelection(u):i.addToSelection(u),!0))}_getCommonUpdateOperationKeyDownHandlers(t,i){if(!t)return;const n=i.key;n===Cn.undo&&t.canUndo()?(i.stopPropagation(),t.undo()):n===Cn.redo&&t.canRedo()?(i.stopPropagation(),t.redo()):n===Cn.cancel?(i.stopPropagation(),t.cancel()):this.allowDeleteKey&&Cn.delete.includes(n)&&this._onDeleteKey(i)}_onDeleteKey(t){var s;if(!this._operationHandle||this._operationHandle.type!=="update")return;const i=this.activeComponent,n=this.updateGraphics.toArray();i!=null&&(i.type!=="reshape"||n.length===1&&((s=n[0].geometry)==null?void 0:s.type)==="point")&&(t.stopPropagation(),this.delete())}_removeDefaultLayer(){var t,i;this._internalGraphicsLayer&&((i=(t=this.view)==null?void 0:t.map)==null||i.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=kr(this._internalGraphicsLayer))}_isComponentGraphic(t){var n;const{activeComponent:i}=this;return!(!t||i==null)&&(((n=t.attributes)==null?void 0:n.esriSketchTool)||i.type==="draw-2d"&&i.graphic===t||(i.type==="box"||i.type==="reshape")&&i.isUIGraphic(t))}_displayPointerCursor(){var t;(t=this.view)!=null&&t.container&&this.view.cursor!=="pointer"&&(this.view.cursor="pointer")}_displayGrabbingCursor(){var t;(t=this.view)!=null&&t.container&&this.view.cursor!=="grabbing"&&(this.view.cursor="grabbing")}_displayDefaultCursor(){var t;(t=this.view)!=null&&t.container&&this.view.cursor!==null&&(this.view.cursor=null)}_logError(t,i,n){xt.getLogger(this).error(new ze(t,i,n))}async _requireModule(t){const i=new AbortController;this._moduleLoaderAbortController=i;const n=await t;return this._moduleLoaderAbortController!==i||i.signal.aborted?{requireError:"aborted"}:{module:n}}_emitUndoEvent(t){this.emit("undo",{...t,type:"undo"})}_emitRedoEvent(t){this.emit("redo",{...t,type:"redo"})}_emitDeleteEvent(t){this.emit("delete",{...t,type:"delete"})}get test(){}wait(){return p$(()=>!this.updating)}_beginAsyncOperation(){this._numUpdating+=1,this.notifyChange("updating")}_endAsyncOperation(){this._numUpdating-=1,this.notifyChange("updating")}_disablePopupEnabled(t){var i;return((i=this.view)==null?void 0:i.type)!=="3d"||this.updateOnGraphicClick||((t==null?void 0:t.toggleToolOnClick)??!1)}_disablePopup(t){this._disablePopupEnabled(t)&&this.view&&this._originalPopupEnabled==null&&(this._originalPopupEnabled=this.view.popupEnabled,this.view.popupEnabled=!1)}_restorePopup(t){this._disablePopupEnabled(t)&&this.view&&this._originalPopupEnabled!=null&&(this.view.popupEnabled=this._originalPopupEnabled,this._originalPopupEnabled=null)}async _waitViewReady(){const t=this.view;t?(Df(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await Fw(p$(()=>t==null?void 0:t.ready),this._viewReadyAbortController.signal)):this._logMissingView()}_logMissingView(){this._logError("sketch:missing-property",PH("view"))}_logMissingLayer(){this._logError(zOe,PH("layer"))}};S([M()],Ki.prototype,"_defaultSnappingManager",void 0),S([M()],Ki.prototype,"updating",null),S([M()],Ki.prototype,"_operationHandle",void 0),S([M({readOnly:!0})],Ki.prototype,"activeTool",null),S([M()],Ki.prototype,"activeTooltip",null),S([M()],Ki.prototype,"activeFillSymbol",void 0),S([M()],Ki.prototype,"activeLineSymbol",void 0),S([M()],Ki.prototype,"activeVertexSymbol",void 0),S([M()],Ki.prototype,"allowDeleteKey",void 0),S([M({readOnly:!0})],Ki.prototype,"createGraphic",null),S([M()],Ki.prototype,"defaultCreateOptions",null),S([M()],Ki.prototype,"defaultUpdateOptions",null),S([M({type:x3,nonNullable:!0})],Ki.prototype,"labelOptions",null),S([M()],Ki.prototype,"layer",void 0),S([M({types:cl})],Ki.prototype,"pointSymbol",void 0),S([M({types:cl})],Ki.prototype,"polygonSymbol",void 0),S([M({types:cl})],Ki.prototype,"polylineSymbol",void 0),S([M()],Ki.prototype,"meshSymbol",void 0),S([M({type:S3,nonNullable:!0})],Ki.prototype,"snappingOptions",null),S([M()],Ki.prototype,"snappingManager",null),S([M({readOnly:!0})],Ki.prototype,"state",null),S([M({type:VP,nonNullable:!0})],Ki.prototype,"tooltipOptions",null),S([M({readOnly:!0})],Ki.prototype,"updateGraphics",void 0),S([M()],Ki.prototype,"updateOnGraphicClick",void 0),S([M({type:L6,nonNullable:!0})],Ki.prototype,"valueOptions",null),S([M({types:cl})],Ki.prototype,"vertexSymbol",void 0),S([M({value:null})],Ki.prototype,"view",null),S([M({constructOnly:!0,type:F6})],Ki.prototype,"sketchOptions",void 0),Ki=S([ue("esri.widgets.Sketch.SketchViewModel")],Ki);const zOe="sketch:missing-property",PH=e=>`Property '${e}' is missing on SketchViewModel.`;function jOe(e){return e==="polygon"||e==="rectangle"||e==="circle"}function Bx(e,t){Qne("undo",e.history.undo,e.history.redo,t)}function Wx(e,t){Qne("redo",e.history.redo,e.history.undo,t)}function Qne(e,t,i,n){const s=t.pop();if(!s)return;const u=s.updates,p=[];n.forEach((g,w)=>{const E=u[w];E!=null&&("geometry"in E&&E.geometry!=null&&(p.push({geometry:g.geometry}),g.geometry=E.geometry),"symbol"in E&&E.symbol!=null&&(p.push({symbol:g.symbol}),g.symbol=E.symbol),"undo"in E&&(p.push(E),E[e](g)))}),i.push({updates:p})}function RH(e,t){e!=null&&t.hasGrabbedManipulators&&(e.activeTool=null)}function Fd(e){return{updates:e.map(({geometry:t})=>(t==null?void 0:t.type)==="mesh"?{geometry:t.cloneShallow()}:{geometry:t})}}function Jx(e,t){var i;(i=e.tools)==null||i.remove(t),t.destroyed||t.destroy()}function wr(e){return"requireError"in e&&e.requireError==="aborted"}const FOe=Ki;let Xa=class extends Zt{constructor(t){super(t),this.colorSelection=!0,this.dynamicScaleToggle=!0,this.gridEnabledToggle=!0,this.numericInputs=!0,this.gridSnapEnabledToggle=!0,this.lineIntervalInput=!0,this.outOfScaleWarning=!0,this.placementButtons=!0,this.rotateWithMapToggle=!0}};S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"colorSelection",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"dynamicScaleToggle",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"gridEnabledToggle",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"numericInputs",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"gridSnapEnabledToggle",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"lineIntervalInput",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"outOfScaleWarning",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"placementButtons",void 0),S([M({type:Boolean,nonNullable:!0})],Xa.prototype,"rotateWithMapToggle",void 0),Xa=S([ue("esri.widgets.support.GridControls.VisibleElements")],Xa);const ere=Xa;let Qa=class extends Zt{constructor(t){super(t),this.enabledToggle=!0,this.featureEnabledToggle=!0,this.gridEnabledToggle=!0,this.header=!1,this.layerList=!0,this.gridControls=!0,this.gridControlsElements=new ere({gridSnapEnabledToggle:!1,gridEnabledToggle:!1}),this.layerListToggleLayersButton=!0,this.selfEnabledToggle=!0}};S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"enabledToggle",void 0),S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"featureEnabledToggle",void 0),S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"gridEnabledToggle",void 0),S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"header",void 0),S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"layerList",void 0),S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"gridControls",void 0),S([M({type:ere,nonNullable:!0})],Qa.prototype,"gridControlsElements",void 0),S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"layerListToggleLayersButton",void 0),S([M({type:Boolean,nonNullable:!0})],Qa.prototype,"selfEnabledToggle",void 0),Qa=S([ue("esri.widgets.support.SnappingControls.VisibleElements")],Qa);const K6=Qa;let Yl=class extends Zt{constructor(t){super(t),this.point=!0,this.polyline=!0,this.polygon=!0,this.rectangle=!0,this.circle=!0,this.multipoint=!0,this.mesh=!0}};S([M({type:Boolean,nonNullable:!0})],Yl.prototype,"point",void 0),S([M({type:Boolean,nonNullable:!0})],Yl.prototype,"polyline",void 0),S([M({type:Boolean,nonNullable:!0})],Yl.prototype,"polygon",void 0),S([M({type:Boolean,nonNullable:!0})],Yl.prototype,"rectangle",void 0),S([M({type:Boolean,nonNullable:!0})],Yl.prototype,"circle",void 0),S([M({type:Boolean,nonNullable:!0})],Yl.prototype,"multipoint",void 0),S([M({type:Boolean,nonNullable:!0})],Yl.prototype,"mesh",void 0),Yl=S([ue("esri.widgets.Sketch.VisibleElements.CreateToolVisibilityMap")],Yl);let L0=class extends Zt{constructor(t){super(t),this["rectangle-selection"]=!0,this["lasso-selection"]=!0,this["custom-selection"]=!0}};S([M({nonNullable:!0})],L0.prototype,"rectangle-selection",void 0),S([M({nonNullable:!0})],L0.prototype,"lasso-selection",void 0),S([M({nonNullable:!0})],L0.prototype,"custom-selection",void 0),L0=S([ue("esri.widgets.Sketch.VisibleElements.SelectionToolVisibilityMap")],L0);let aa=class extends Zt{constructor(t){super(t),this.createTools=new Yl,this.directionModePicker=!1,this.duplicateButton=!0,this.labelsToggle=!0,this.selectionTools=new L0,this.settingsMenu=!0,this.snappingControls=!0,this.snappingControlsElements=new K6,this.tooltipsToggle=!0,this.undoRedoMenu=!0}};S([M({type:Yl,nonNullable:!0})],aa.prototype,"createTools",void 0),S([M({type:Boolean,nonNullable:!0})],aa.prototype,"directionModePicker",void 0),S([M({type:Boolean,nonNullable:!0})],aa.prototype,"duplicateButton",void 0),S([M({type:Boolean,nonNullable:!0})],aa.prototype,"labelsToggle",void 0),S([M({type:L0,nonNullable:!0})],aa.prototype,"selectionTools",void 0),S([M({type:Boolean,nonNullable:!0})],aa.prototype,"settingsMenu",void 0),S([M({type:Boolean,nonNullable:!0})],aa.prototype,"snappingControls",void 0),S([M({type:K6,nonNullable:!0})],aa.prototype,"snappingControlsElements",void 0),S([M({type:Boolean,nonNullable:!0})],aa.prototype,"tooltipsToggle",void 0),S([M({type:Boolean,nonNullable:!0})],aa.prototype,"undoRedoMenu",void 0),aa=S([ue("esri.widgets.Sketch.VisibleElements")],aa);const tre=aa,Mw={anchor:"esri-widget__anchor",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetDisabled:"esri-widget--disabled"};function DWe(e){return e&&typeof e.highlight=="function"}function UOe(e,t,i){return e==null||e>=i&&(t===0||e<=t)}function NWe(e,t){if(t&&e){const{minScale:i,maxScale:n}=e;if(VOe(i,n))return UOe(t,i,n)}return!0}function VOe(e,t){return e!=null&&e>0||t!=null&&t>0}function LWe(e){return!(e!=null&&e.minScale)||!e.maxScale||e.minScale>=e.maxScale}function ES(e){return e!=null&&typeof e=="object"&&"createQuery"in e&&"queryFeatures"in e&&"layer"in e&&"view"in e}function o_(){return[1,0,0,1,0,0]}function ire(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function GOe(e,t,i,n,s,u){return[e,t,i,n,s,u]}function HOe(e,t){return new Float64Array(e,t,6)}const nre=o_();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:nre,clone:ire,create:o_,createView:HOe,fromValues:GOe},Symbol.toStringTag,{value:"Module"}));function DH(e){let t,i,n=[],s=!1;function u(...p){return s&&t===this&&qOe(p,n)||(i=e.apply(this,p),t=this,n=p,s=!0),i}return u}function qOe(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}let BOe=class{constructor(t){this._observable=new Zw,this._set=new Set(t)}get size(){return Gt(this._observable),this._set.size}add(t){const i=this._set.size;return this._set.add(t),this._set.size!==i&&this._observable.notify(),this}clear(){this._set.size>0&&(this._set.clear(),this._observable.notify())}delete(t){const i=this._set.delete(t);return i&&this._observable.notify(),i}entries(){return Gt(this._observable),this._set.entries()}forEach(t,i){Gt(this._observable),this._set.forEach((n,s)=>t.call(i,n,s,this),i)}has(t){return Gt(this._observable),this._set.has(t)}keys(){return Gt(this._observable),this._set.keys()}values(){return Gt(this._observable),this._set.values()}[Symbol.iterator](){return Gt(this._observable),this._set[Symbol.iterator]()}get[Symbol.toStringTag](){return this._set[Symbol.toStringTag]}},TS=class extends Zt{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,i,n={}){return this._installWatch(t,i,n,ei)}addWhen(t,i,n={}){return this._installWatch(t,i,n,Wf)}addOnCollectionChange(t,i,{initial:n=!1,final:s=!1}={}){const u=++this._handleId;return this.addHandles([m1(t,"after-changes",this._createSyncUpdatingCallback(),Ag),m1(t,"change",i,{onListenerAdd:n?p=>i({added:p.toArray(),removed:[]}):void 0,onListenerRemove:s?p=>i({added:[],removed:p.toArray()}):void 0})],u),Mi(()=>this.removeHandles(u))}addPromise(t){if(t==null)return t;const i=++this._handleId;this.addHandles(Mi(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(Zx)||this._set("updating",!1))}),i),this._pendingPromises.add(t),this._set("updating",!0);const n=()=>this.removeHandles(i);return t.then(n,n),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,i,n={},s){const u=++this._handleId;n.sync||this._installSyncUpdatingWatch(t,u);const p=s(t,i,n);return this.addHandles(p,u),Mi(()=>this.removeHandles(u))}_installSyncUpdatingWatch(t,i){const n=this._createSyncUpdatingCallback(),s=ei(t,n,{sync:!0,equals:()=>!1});return this.addHandles(s,i),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(Zx),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(PO(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(Zx))}),Zx)}}};S([M({readOnly:!0})],TS.prototype,"updating",void 0),TS=S([ue("esri.core.support.UpdatingHandles")],TS);const Zx=-42;function MS(e,t){return e===t||e!=null&&t!=null&&cs(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function B8(e,t,i){return e===t||e!=null&&t!=null&&cs(e.spatialReference,t.spatialReference)&&Tf(e.x,t.x,i)&&Tf(e.y,t.y,i)&&Tf(e.z??0,t.z??0,i)&&Tf(e.m??0,t.m??0,i)}var $w;function FWe(e){return e===$w.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})($w||($w={}));const UWe=["freehand","hybrid","click"],rre="click";let WOe=class{constructor({consumesClicks:t,grabbableForEvent:i}){this.events=new Ms,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=t,this.grabbableForEvent=i}destroy(){}intersectionDistance(t,i){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}};var hr;(function(e){e[e.Z=0]="Z",e[e.M=1]="M"})(hr||(hr={}));let JOe=class{constructor(t){this.spatialReference=t}createVector(){return this._tag(Zn())}pointToVector(t){return this._tag(pl(t.x,t.y))}arrayToVector(t){return this._tag(pl(t[0],t[1]))}vectorToArray(t){return[t[0],t[1]]}pointToArray(t){return[t.x,t.y]}vectorToPoint(t,i=new gi){return i.x=t[0],i.y=t[1],i.z=void 0,i.m=void 0,i.spatialReference=this.spatialReference,i}arrayToPoint(t,i=new gi){return i.x=t[0],i.y=t[1],i.z=void 0,i.m=void 0,i.spatialReference=this.spatialReference,i}vectorToDehydratedPoint(t,i){if(t)return i??(i={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}),i.x=t[0],i.y=t[1],i.z=void 0,i.m=void 0,i.hasZ=!1,i.hasM=!1,i.spatialReference=this.spatialReference,i}lerp(t,i,n,s){return zP(s,t,i,n)}addDelta(t,i,n){t[0]+=i,t[1]+=n}distance(t,i){return v3(t,i)}getZ(t,i=void 0){return i}hasZ(){return!1}getM(t,i=void 0){return i}hasM(){return!1}clone(t){return this._tag(jie(t))}copy(t,i){return Cie(i,t)}fromXYZ(t){return this._tag(pl(t[0],t[1]))}toXYZ(t,i=ft()){return In(i,t[0],t[1],0)}pointToXYZ(t,i=ft()){return In(i,t.x,t.y,0)}equals(t,i){return Lie(t,i)}_tag(t){return t}},NH=class{constructor(t,i){this._valueType=t,this.spatialReference=i}createVector(){return this._tag(ft())}pointToVector(t){return this._tag(mo(t.x,t.y,this._valueType===hr.Z?t.z:t.m))}arrayToVector(t){return this._tag(mo(t[0],t[1],t[2]||0))}vectorToArray(t){return[t[0],t[1],t[2]]}pointToArray(t){return this._valueType===hr.Z?[t.x,t.y,t.z]:[t.x,t.y,t.m]}vectorToPoint(t,i=new gi){return i.x=t[0],i.y=t[1],i.z=this._valueType===hr.Z?t[2]:void 0,i.m=this._valueType===hr.M?t[2]:void 0,i.spatialReference=this.spatialReference,i}arrayToPoint(t,i=new gi){return i.x=t[0],i.y=t[1],i.z=this._valueType===hr.Z?t[2]:void 0,i.m=this._valueType===hr.M?t[2]:void 0,i.spatialReference=this.spatialReference,i}vectorToDehydratedPoint(t,i){if(!t)return;i??(i={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"});const n=this._valueType===hr.Z,s=this._valueType===hr.M;return i.x=t[0],i.y=t[1],i.z=n?t[2]:void 0,i.m=s?t[2]:void 0,i.hasZ=n,i.hasM=s,i.spatialReference=this.spatialReference,i}lerp(t,i,n,s){return qg(s,t,i,n)}addDelta(t,i,n,s){t[0]+=i,t[1]+=n,this._valueType===hr.Z&&(t[2]+=s)}distance(t,i){return this._valueType===hr.Z?pp(t,i):v3(t,i)}getZ(t,i=void 0){return this._valueType===hr.Z?t[2]:i}hasZ(){return this._valueType===hr.Z}getM(t,i=void 0){return this._valueType===hr.M?t[2]:i}hasM(){return this._valueType===hr.M}clone(t){return this._tag(YX(t))}copy(t,i){return jo(i,t)}fromXYZ(t,i=0,n=0){return this._tag(mo(t[0],t[1],this._valueType===hr.Z?t.length>2?t[2]:i:n))}toXYZ(t,i=ft()){return In(i,t[0],t[1],this._valueType===hr.Z?t[2]:0)}pointToXYZ(t,i=ft()){return In(i,t.x,t.y,this._valueType===hr.Z?t.z??0:0)}equals(t,i){return Tw(t,i)}_tag(t){return t}},ZOe=class{constructor(t){this.spatialReference=t}createVector(){return this._tag(Zh())}pointToVector(t){return this._tag(fl(t.x,t.y,t.z,t.m))}arrayToVector(t){return this._tag(fl(t[0],t[1],t[2]||0,t[3]||0))}vectorToArray(t){return[t[0],t[1],t[2],t[3]]}pointToArray(t){return[t.x,t.y,t.z,t.m]}vectorToPoint(t,i=new gi){return i.x=t[0],i.y=t[1],i.z=t[2],i.m=t[3],i.spatialReference=this.spatialReference,i}arrayToPoint(t,i=new gi){return i.x=t[0],i.y=t[1],i.z=t[2],i.m=t[3],i.spatialReference=this.spatialReference,i}vectorToDehydratedPoint(t,i){if(t)return i??(i={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}),i.x=t[0],i.y=t[1],i.z=t[2],i.m=t[3],i.hasZ=!0,i.hasM=!0,i.spatialReference=this.spatialReference,i}lerp(t,i,n,s){return y6(s,t,i,n)}addDelta(t,i,n,s){t[0]+=i,t[1]+=n,t[2]+=s}distance(t,i){return pp(t,i)}getZ(t){return t[2]}hasZ(){return!0}getM(t){return t[3]}hasM(){return!0}clone(t){return this._tag(yee(t))}copy(t,i){return lg(i,t)}fromXYZ(t,i=0,n=0){return this._tag(fl(t[0],t[1],t.length>2?t[2]:i,n))}toXYZ(t,i=ft()){return In(i,t[0],t[1],t[2])}pointToXYZ(t,i=ft()){return In(i,t.x,t.y,t.z??0)}equals(t,i){return c3(t,i)}_tag(t){return t}};function sre(e,t,i){return e&&t?new ZOe(i):t?new NH(hr.M,i):e?new NH(hr.Z,i):new JOe(i)}var jA;let hy=jA=class extends Wi(tt){constructor(e){super(e),this.type="georeferenced",this.origin=null}};hy.absolute=new jA,S([Rt({georeferenced:"georeferenced"},{readOnly:!0})],hy.prototype,"type",void 0),S([M({type:[Number],nonNullable:!1,json:{write:!0}})],hy.prototype,"origin",void 0),hy=jA=S([ue("esri.geometry.support.MeshGeoreferencedVertexSpace")],hy);const YOe=hy;let p2=class extends Wi(tt){constructor(t){super(t),this.type="local",this.origin=ft()}};S([Rt({local:"local"},{readOnly:!0})],p2.prototype,"type",void 0),S([M({type:[Number],nonNullable:!0,json:{write:!0}})],p2.prototype,"origin",void 0),p2=S([ue("esri.geometry.support.MeshLocalVertexSpace")],p2);const KOe=p2;function LH(){return xt.getLogger("esri.geometry.Mesh")}function WWe(e){return!aR(e)}function aR(e){return e.origin!=null}function XOe(e){return aR(e.vertexSpace)}function JWe(e,t){if(!aR(e))return null;const[i,n,s]=e.origin;return new gi({x:i,y:n,z:s,spatialReference:t})}function ZWe(e,t){const{x:i,y:n,z:s,spatialReference:u}=e,p=[i,n,s??0];return(t==null?void 0:t.geographic)!==void 0&&(Yy(LH(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),t.vertexSpace&&LH().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),((t==null?void 0:t.vertexSpace)??eIe(t==null?void 0:t.geographic)??QOe(u))==="local"?new KOe({origin:p}):new YOe({origin:p})}function QOe(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}function eIe(e){return e==null?void 0:e?"local":"georeferenced"}function YWe(e,t){return e.type===t.type&&(e.origin===t.origin||e.origin!=null&&t.origin!=null&&ln(e.origin,t.origin))}function tIe(e){return"declaredClass"in e}function zH(e){return"declaredClass"in e}function iIe(e){return"declaredClass"in e}function KWe(e,t){return e?iIe(e)?e:new Zf({layer:t,sourceLayer:t,visible:e.visible,symbol:ke(e.symbol),attributes:ke(e.attributes),geometry:nIe(e.geometry)}):null}function nIe(e){return e==null?null:tIe(e)?e:Yw(rIe(e))}function rIe(e){const{wkid:t,wkt:i,wkt2:n,latestWkid:s}=e.spatialReference,u={wkid:t,wkt:i,wkt2:n,latestWkid:s};switch(e.type){case"point":{const{x:p,y:g,z:w,m:E}=e;return{x:p,y:g,z:w,m:E,spatialReference:u}}case"polygon":{const{rings:p,hasZ:g,hasM:w}=e;return{rings:jH(p),hasZ:g,hasM:w,spatialReference:u}}case"polyline":{const{paths:p,hasZ:g,hasM:w}=e;return{paths:jH(p),hasZ:g,hasM:w,spatialReference:u}}case"extent":{const{xmin:p,xmax:g,ymin:w,ymax:E,zmin:A,zmax:I,mmin:R,mmax:F,hasZ:q,hasM:B}=e;return{xmin:p,xmax:g,ymin:w,ymax:E,zmin:A,zmax:I,mmin:R,mmax:F,hasZ:q,hasM:B,spatialReference:u}}case"multipoint":{const{points:p,hasZ:g,hasM:w}=e;return{points:are(p)?ore(p):p,hasZ:g,hasM:w,spatialReference:u}}default:return}}function jH(e){return sIe(e)?e.map(t=>ore(t)):e}function ore(e){return e.map(t=>Array.from(t))}function sIe(e){for(const t of e)if(t.length!==0)return are(t);return!1}function are(e){return e.length>0&&(Rw(e[0])||Dw(e[0]))}function X6(e,t){if(!e)return null;let i;if(zH(e)){if(t==null)return e.clone();if(zH(t))return t.copy(e)}return t!=null?(i=t,i.x=e.x,i.y=e.y,i.spatialReference=e.spatialReference,e.hasZ?(i.z=e.z,i.hasZ=e.hasZ):(i.z=void 0,i.hasZ=!1),e.hasM?(i.m=e.m,i.hasM=!0):(i.m=void 0,i.hasM=!1)):(i=_u(e.x,e.y,e.z,e.spatialReference),e.hasM&&(i.m=e.m,i.hasM=!0)),i}function oIe(e){const{wkid:t,wkt:i,wkt2:n,latestWkid:s}=e,u={wkid:t,wkt:i,wkt2:n,latestWkid:s};return li.fromJSON(u)}function aIe(e,t){if(!t.supported)return;let i=1/0,n=-1/0;const s=t.upperBoundX-t.lowerBoundX;e.forEach(p=>{let g=p.pos[0];for(;g<t.lowerBoundX;)g+=s;for(;g>t.upperBoundX;)g-=s;i=Math.min(i,g),n=Math.max(n,g),p.pos[0]=g});const u=n-i;s-u<u&&e.forEach(p=>{p.pos[0]<0&&(p.pos[0]+=s)})}function lIe(e,t){const i=Cy(e);return t===$w.Global&&i?{supported:!0,lowerBoundX:i.valid[0],upperBoundX:i.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}let M3=class{constructor(t){this.component=t,this.leftEdge=null,this.rightEdge=null,this.type="vertex",this.index=null}get pos(){return this._pos}set pos(t){this._pos=t,this.component.unnormalizeVertexPositions()}},Lh=class{constructor(t,i,n){this.component=t,this.leftVertex=i,this.rightVertex=n,this.type="edge",i.rightEdge=this,n.leftEdge=this}},Q6=class{constructor(t,i){this._spatialReference=t,this._viewingMode=i,this.vertices=[],this.edges=[],this.index=null}unnormalizeVertexPositions(){this.vertices.length<=1||aIe(this.vertices,lIe(this._spatialReference,this._viewingMode))}updateVertexIndex(t,i){if(this.vertices.length===0)return;const n=this.vertices[0];let s=null,u=t,p=i;do s=u,s.index=p++,u=s.rightEdge?s.rightEdge.rightVertex:null;while(u!=null&&u!==n);s.leftEdge&&s!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(s),this.vertices.length-1)}getFirstVertex(){return this.vertices.at(0)}getLastVertex(){return this.vertices.at(-1)}isClosed(){return this.vertices.length>2&&this.vertices[0].leftEdge!==null}swapVertices(t,i){const n=this.vertices[t];this.vertices[t]=this.vertices[i],this.vertices[i]=n}iterateVertices(t){if(this.vertices.length===0)return;const i=this.vertices[0];let n=i;do t(n,n.index),n=n.rightEdge!=null?n.rightEdge.rightVertex:null;while(n!==i&&n!=null)}},FA=class lre extends Ms{constructor(t,i){super(),this.type=t,this.coordinateHelper=i,this._geometry=null,this._dirty=!0,this.components=[]}get geometry(){if(this._dirty){switch(this.type){case"point":this._geometry=this._toPoint();break;case"polyline":this._geometry=this._toPolyline();break;case"polygon":this._geometry=this._toPolygon();break;case"mesh":break;default:this.type}this._dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}get allVertices(){return Array.from(this.iterateVertices())}*iterateVertices(){for(const t of this.components)for(const i of t.vertices)yield i}notifyChanges(t){this._dirty=!0,this.emit("change",t)}_toPoint(){return this.components.length===0||this.components[0].vertices.length===0?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const t=[],i=this.coordinateHelper.vectorToArray;for(const n of this.components){if(n.vertices.length<1)continue;const s=[];let u=n.vertices.find(g=>g.leftEdge==null);const p=u;do s.push(i(u.pos)),u=u.rightEdge?u.rightEdge.rightVertex:null;while(u&&u!==p);t.push(s)}return new qh({paths:t,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const t=[],i=this.coordinateHelper.vectorToArray;for(const n of this.components){if(n.vertices.length<1)continue;const s=[],u=n.vertices[0];let p=u;const g=p;do s.push(i(p.pos)),p=p.rightEdge!=null?p.rightEdge.rightVertex:null;while(p&&p!==g);n.isClosed()&&s.push(i(u.pos)),t.push(s)}return new fo({rings:t,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(t,i){const n=t.spatialReference,s=sre(t.hasZ,t.hasM,n),u=new lre(t.type,s);switch(t.type){case"polygon":cIe(u,t,i);break;case"polyline":uIe(u,t,i);break;case"point":FH(u,t,i);break;case"mesh":FH(u,t.origin,i),u._geometry=t,u._dirty=!1}return u}};function cIe(e,t,i){const n=t.spatialReference,s=e.coordinateHelper,u=t.rings;for(let p=0;p<u.length;++p){const g=u[p],w=new Q6(n,i);w.index=p;const E=g.length>2&&pu(g[0],g[g.length-1]),A=E?g.length-1:g.length;for(let R=0;R<A;++R){const F=s.arrayToVector(g[R]),q=new M3(w);w.vertices.push(q),q.pos=F,q.index=R}const I=w.vertices.length-1;for(let R=0;R<I;++R){const F=w.vertices[R],q=w.vertices[R+1],B=new Lh(w,F,q);w.edges.push(B)}if(E){const R=new Lh(w,w.vertices[w.vertices.length-1],w.vertices[0]);w.edges.push(R)}e.components.push(w)}}function uIe(e,t,i){const n=t.spatialReference,s=e.coordinateHelper,u=t.paths;for(let p=0;p<u.length;++p){const g=u[p],w=new Q6(n,i);w.index=p;const E=g.length;for(let I=0;I<E;++I){const R=s.arrayToVector(g[I]),F=new M3(w);w.vertices.push(F),F.pos=R,F.index=I}const A=w.vertices.length-1;for(let I=0;I<A;++I){const R=w.vertices[I],F=w.vertices[I+1],q=new Lh(w,R,F);w.edges.push(q)}e.components.push(w)}}function FH(e,t,i){const n=t.spatialReference,s=e.coordinateHelper,u=new Q6(n,i);u.index=0;const p=new M3(u);p.index=0,p.pos=s.pointToVector(t),u.vertices.push(p),e.components.push(u)}function fb(e){return e.type==="mesh"}var Ao;(function(e){e[e.NEW_STEP=0]="NEW_STEP",e[e.ACCUMULATE_STEPS=1]="ACCUMULATE_STEPS"})(Ao||(Ao={}));let hIe=class{constructor(t,i,n){this._editGeometry=t,this._component=i,this._pos=n,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let t="redo";this._addedVertex==null&&(t="apply",this._addedVertex=new M3(this._component));const i=this._component.getLastVertex();if(i==null)this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let n=null;i.rightEdge&&(this._originalEdge=i.rightEdge,n=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._left==null&&(this._left=new Lh(this._component,i,this._addedVertex)),this._component.edges.push(this._left),i.rightEdge=this._left,this._originalEdge!=null&&n!=null&&(this._right==null&&(this._right=new Lh(this._component,this._addedVertex,n)),this._component.edges.push(this._right),n.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,i.index+1)}this._editGeometry.notifyChanges({operation:t,addedVertices:[this._addedVertex]})}undo(){this._addedVertex!=null&&(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),this._left!=null&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),this._right!=null&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),this._originalEdge!=null&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),this._left!=null?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this._addedVertex]}))}accumulate(){return!1}},dIe=class cre{constructor(t,i,n){this._editGeometry=t,this._vertices=i,this.operation=n,this._undone=!1}apply(){this._vertices.forEach(t=>this.operation.apply(t)),this._editGeometry.components.forEach(t=>t.unnormalizeVertexPositions()),this._editGeometry.notifyChanges({operation:this._undone?"redo":"apply",updatedVertices:this._vertices})}undo(){this._vertices.forEach(t=>this.operation.undo(t)),this._editGeometry.notifyChanges({operation:"undo",updatedVertices:this._vertices}),this._undone=!0}canAccumulate(t){if(this._undone||t._vertices.length!==this._vertices.length)return!1;for(let i=0;i<t._vertices.length;++i)if(t._vertices[i]!==this._vertices[i])return!1;return this.operation.canAccumulate(t.operation)}accumulate(t){return!!(t instanceof cre&&this.canAccumulate(t))&&(this._vertices.forEach(i=>this.operation.accumulate(i,t.operation)),this.operation.accumulateParams(t.operation),this._editGeometry.components.forEach(i=>i.unnormalizeVertexPositions()),this._editGeometry.notifyChanges({operation:"apply",updatedVertices:this._vertices}),!0)}};var ul;(function(e){e[e.CUMULATIVE=0]="CUMULATIVE",e[e.REPLACE=1]="REPLACE"})(ul||(ul={}));let fIe=class{constructor(t,i,n=0){this._editGeometry=t,this._vertices=i,this._minNumberOfVertices=n,this.removedVertices=null}apply(){let t="redo";if(this.removedVertices==null){const i=this.removedVertices=[];this._vertices.forEach(n=>{const s=this._removeVertex(n);s!=null&&i.push(s)}),t="apply"}else this.removedVertices.forEach(i=>{this._removeVertex(i.removedVertex)});this._editGeometry.notifyChanges({operation:t,removedVertices:this._vertices})}undo(){var t;(t=this.removedVertices)==null||t.forEach(i=>{this._undoRemoveVertex(i)}),this._editGeometry.notifyChanges({operation:"undo",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(t){const i=t.component;if(i.vertices.length<=this._minNumberOfVertices)return null;const n={removedVertex:t,createdEdge:null},s=t.leftEdge,u=t.rightEdge;return i.vertices.splice(i.vertices.indexOf(t),1),s&&(i.edges.splice(i.edges.indexOf(s),1),s.leftVertex.rightEdge=null),u&&(i.edges.splice(i.edges.indexOf(u),1),u.rightVertex.leftEdge=null),t.index===0&&u&&this._vertices.length>0&&i.swapVertices(i.vertices.indexOf(u.rightVertex),0),s&&u&&(n.createdEdge=new Lh(i,s.leftVertex,u.rightVertex),i.edges.push(n.createdEdge)),u&&i.updateVertexIndex(u.rightVertex,u.rightVertex.index-1),n}_undoRemoveVertex(t){const i=t.removedVertex,n=t.removedVertex.component,s=i.leftEdge,u=i.rightEdge;t.createdEdge&&n.edges.splice(n.edges.indexOf(t.createdEdge),1),n.vertices.push(i),s&&(n.edges.push(s),s.leftVertex.rightEdge=s),u&&(n.edges.push(u),u.rightVertex.leftEdge=u),n.updateVertexIndex(i,i.index)}},pIe=class{constructor(t,i,n){this._editGeometry=t,this._edge=i,this._t=n,this.createdVertex=null,this._left=null,this._right=null}apply(){let t="redo";const i=this._edge,n=i.component,s=i.leftVertex,u=i.rightVertex;n.edges.splice(n.edges.indexOf(i),1),this.createdVertex==null&&(t="apply",this.createdVertex=new M3(i.component)),n.vertices.push(this.createdVertex),this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(i.leftVertex.pos,i.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector()),this._left==null&&(this._left=new Lh(n,s,this.createdVertex)),this._left.leftVertex.leftEdge?n.edges.push(this._left):n.edges.unshift(this._left),s.rightEdge=this._left,this._right==null&&(this._right=new Lh(n,this.createdVertex,u)),n.edges.push(this._right),u.leftEdge=this._right,n.updateVertexIndex(this.createdVertex,s.index+1),this._editGeometry.notifyChanges({operation:t,addedVertices:[this.createdVertex]})}undo(){if(this.createdVertex==null||this._left==null||this._right==null)return null;const t=this._edge,i=t.component,n=this.createdVertex.leftEdge,s=this.createdVertex.rightEdge,u=n==null?void 0:n.leftVertex,p=s==null?void 0:s.rightVertex;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this._left),1),i.edges.splice(i.edges.indexOf(this._right),1),this._edge.leftVertex.leftEdge?i.edges.push(this._edge):i.edges.unshift(this._edge),u&&(u.rightEdge=t),p&&(p.leftEdge=t),u&&i.updateVertexIndex(u,u.index),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})}accumulate(){return!1}},mIe=class ure{constructor(t,i,n){this._editGeometry=t,this._vertex=i,this._pos=n}apply(){const t=this._originalPosition==null;t&&(this._originalPosition=this._vertex.pos),this._apply(t?"apply":"redo")}undo(){this._vertex.pos=this._originalPosition,this._editGeometry.notifyChanges({operation:"undo",updatedVertices:[this._vertex]})}accumulate(t){return t instanceof ure&&t._vertex===this._vertex&&(this._pos=t._pos,this._apply("apply"),!0)}_apply(t){this._vertex.pos=this._pos,this._editGeometry.components.forEach(i=>i.unnormalizeVertexPositions()),this._editGeometry.notifyChanges({operation:t,updatedVertices:[this._vertex]})}},yIe=class{constructor(t,i){this._editGeometry=t,this._component=i,this._createdEdge=null}apply(){let t="redo";if(this._createdEdge==null){t="apply";const i=this._component.getFirstVertex(),n=this._component.getLastVertex();if(this._component.isClosed()||this._component.vertices.length<3||i==null||n==null)return;this._createdEdge=new Lh(this._component,n,i)}this._createdEdge.leftVertex.rightEdge=this._createdEdge,this._createdEdge.rightVertex.leftEdge=this._createdEdge,this._component.edges.push(this._createdEdge),this._editGeometry.notifyChanges({operation:t})}undo(){this._createdEdge!=null&&(k_(this._component.edges,this._createdEdge),this._createdEdge.leftVertex.rightEdge=null,this._createdEdge.rightVertex.leftEdge=null,this._editGeometry.notifyChanges({operation:"undo"}))}accumulate(){return!1}},UH=class hre{constructor(t,i,n,s){this._editGeometry=t,this.dx=i,this.dy=n,this.dz=s,this._firstTime=!0}apply(){const t=this._firstTime?"apply":"redo";this._firstTime=!1,this._apply(t,this.dx,this.dy,this.dz)}undo(){this._apply("undo",-this.dx,-this.dy,-this.dz)}accumulate(t){const i=this._editGeometry.geometry;return t instanceof hre&&t._editGeometry.geometry===i&&(this._apply("apply",t.dx,t.dy,t.dz),this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz,!0)}_apply(t,i,n,s){const u=this._editGeometry.geometry;u.offset(i,n,s);const p=this._editGeometry.components[0].getFirstVertex();if(!p)return;const g=this._editGeometry.coordinateHelper;p.pos=g.pointToVector(u.origin),this._editGeometry.notifyChanges({operation:t,updatedVertices:[p]})}},gIe=class dre{constructor(t,i,n,s){this._helper=t,this.dx=i,this.dy=n,this.dz=s}_move(t,i,n,s){this._helper.addDelta(t.pos,i,n,s)}apply(t){this._move(t,this.dx,this.dy,this.dz)}undo(t){this._move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(t){return t instanceof dre}accumulate(t,i){this._move(t,i.dx,i.dy,i.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}},vIe=class UA{get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}constructor(t,i,n,s=0,u=Z2.IMMEDIATE){this._helper=t,this._planeType=i,this._edge=n,this.distance=s,this._plane=Ks(),this._offsetPlane=Ks(),this._minDistance=-1/0,this._maxDistance=1/0,this._selectedArrow=1,u===Z2.IMMEDIATE&&this._initialize()}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){var u,p,g,w;const t=this._toXYZ(this._edge.leftVertex.pos),i=this._toXYZ((p=(u=this._edge.leftVertex.leftEdge)==null?void 0:u.leftVertex)==null?void 0:p.pos),n=this._toXYZ(this._edge.rightVertex.pos),s=this._toXYZ((w=(g=this._edge.rightVertex.rightEdge)==null?void 0:g.rightVertex)==null?void 0:w.pos);this._edgeDirection=AA(ft(),t,n),i?(this._left=this._computeNeighbor(t,i,this._edgeDirection),this._right=this._computeNeighbor(n,s,this._edgeDirection,this._left)):(this._right=this._computeNeighbor(n,s,this._edgeDirection),this._left=this._computeNeighbor(t,i,this._edgeDirection,this._right))}_toXYZ(t){return t!=null?this._helper.toXYZ(t):null}_pointToXYZ(t){return this._toXYZ(this._helper.pointToVector(t))}_computeNeighbor(t,i,n,s){const u=ft();if(i){AA(u,t,i);const p=!this._passesBisectingAngleThreshold(u,n);return{start:t,end:i,direction:p?this._bisectVectorsPerpendicular(n,u):u,isOriginalDirection:!p}}return this._helper.hasZ()?s&&(pr(u,n,s.direction),pr(u,u,n),Fr(u,u),Math.sign(u[1])!==Math.sign(n[0])&&Ma(u,u,-1)):In(u,-n[1],n[0],0),{start:t,end:i,direction:u,isOriginalDirection:!0}}_passesBisectingAngleThreshold(t,i){const n=Math.abs(hne(i,t));return n>=VH&&n<=Math.PI-VH}_bisectVectorsPerpendicular(t,i){const n=Ii(t,i)<0?t:kA(ft(),t),s=Math.abs(Ii(n,i));if(!(s<GH||s>1-GH))return this._bisectDirection(n,i);const u=pr(ft(),n,[0,0,1]);return Fr(u,u)}_bisectDirection(t,i){const n=Lo(ft(),t,i);return Fr(n,n)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);Ii(t,i)<0&&kA(i,i),Jg(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=pr(ft(),t.direction,this._edgeDirection);Fr(i,i);const n=pr(ft(),this._edgeDirection,i);return this._planeType===VA.XY&&(n[2]=0),Fr(n,n)}_initializeDistanceConstraints(){this._left.end==null||this.requiresSplitEdgeLeft||this._updateDistanceConstraint(lu(this._plane,this._left.end)),this._right.end==null||this.requiresSplitEdgeRight||this._updateDistanceConstraint(lu(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=t,n=this._edgeDirection,s=Lo(ft(),this._left.start,this._left.direction),u=Lo(ft(),this._right.start,this._right.direction),p=this._pointInBasis2D(Zn(),i,n,this._left.start),g=this._pointInBasis2D(Zn(),i,n,s),w=this._pointInBasis2D(Zn(),i,n,this._right.start),E=this._pointInBasis2D(Zn(),i,n,u),[A]=zAe({start:g,end:p,type:On.LINE},{start:E,end:w,type:On.LINE});if(!A)return;const I=Vr(Zn(),p,g);Rie(I,I);const R=Vr(Zn(),A,g),F=fp(I,R),q=Lo(ft(),s,Ma(ft(),this._left.direction,-F)),B=lu(t,q);this._updateDistanceConstraint(B)}_pointInBasis2D(t,i,n,s){return t[0]=J2(i,s),t[1]=J2(n,s),t}_offset(t,i){Number.isFinite(this._minDistance)&&(i=Math.max(this._minDistance,i)),Number.isFinite(this._maxDistance)&&(i=Math.min(this._maxDistance,i)),xS(this._offsetPlane,this._plane),this._offsetPlane[3]-=i;const n=(u,p,g)=>p!=null&&BP(this._offsetPlane,u,Lo(ft(),u,p),g),s=ft();(t===this._edge.leftVertex?n(this._left.start,this._left.direction,s):n(this._right.start,this._right.direction,s))&&this._helper.copy(this._helper.fromXYZ(s,void 0,this._helper.getM(t.pos)),t.pos)}selectArrowFromStartPoint(t){this._selectedArrow=mne(this.plane,this._pointToXYZ(t))?1:-1}get selectedArrow(){return this._selectedArrow}signedDistanceToPoint(t){return lu(this.plane,this._pointToXYZ(t))}clampedStartAndEnd(t){const i=this._helper.toXYZ(this._helper.pointToVector(t)),n=WP(this._plane,i,ft()),s=lu(this._plane,i),u=yl(s,this._minDistance,this._maxDistance);return qg(i,n,i,u/s),{start:n,end:i}}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof UA&&this._edge.leftVertex.index===t._edge.leftVertex.index&&this._edge.rightVertex.index===t._edge.rightVertex.index&&this._edge.component===t._edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&Tw(this._plane,t._plane)}accumulate(t,i){const n=this._plane[3]-i._plane[3]+i.distance;this._offset(t,n)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new UA(this._helper,this._planeType,this._edge,this.distance,Z2.DEFERRED);return xS(t._plane,this._plane),xS(t._offsetPlane,this._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=jo(ft(),this._edgeDirection),t}_maybeEqualsVec3(t,i){return t==null&&i==null||t!=null&&i!=null&&Tw(t,i)}_cloneNeighbor({start:t,end:i,direction:n,isOriginalDirection:s}){return{start:jo(ft(),t),end:i!=null?jo(ft(),i):null,direction:jo(ft(),n),isOriginalDirection:s}}};const VH=BK(15),GH=.001;var VA,Z2;(function(e){e[e.XYZ=0]="XYZ",e[e.XY=1]="XY"})(VA||(VA={})),function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.DEFERRED=1]="DEFERRED"}(Z2||(Z2={}));let bIe=class fre{constructor(t,i,n=ul.CUMULATIVE){this.origin=t,this.angle=i,this._accumulationType=n}_rotate(t,i){Die(t.pos,t.pos,this.origin,i)}apply(t){this._rotate(t,this.angle)}undo(t){this._rotate(t,-this.angle)}canAccumulate(t){return t instanceof fre&&pu(this.origin,t.origin)}accumulate(t,i){const n=i._accumulationType===ul.REPLACE;this._rotate(t,n?i.angle-this.angle:i.angle)}accumulateParams(t){const i=t._accumulationType===ul.REPLACE;this.angle=i?t.angle:this.angle+t.angle}},wIe=class pre{constructor(t,i,n,s,u=ul.CUMULATIVE){this.origin=t,this.axis1=i,this.factor1=n,this.factor2=s,this._accumulationType=u,this.axis2=pl(i[1],-i[0])}_scale(t,i,n){$A(t.pos,t.pos,this.origin,this.axis1,i),$A(t.pos,t.pos,this.origin,this.axis2,n)}apply(t){this._scale(t,this.factor1,this.factor2)}undo(t){this._scale(t,1/this.factor1,1/this.factor2)}canAccumulate(t){return t instanceof pre&&pu(this.origin,t.origin)&&pu(this.axis1,t.axis1)}accumulate(t,i){i._accumulationType===ul.REPLACE?this._scale(t,i.factor1/this.factor1,i.factor2/this.factor2):this._scale(t,i.factor1,i.factor2)}accumulateParams(t){const i=t._accumulationType===ul.REPLACE;this.factor1=i?t.factor1:this.factor1*t.factor1,this.factor2=i?t.factor2:this.factor2*t.factor2}},xIe=class mre{constructor(t,i){this._editGeometry=t,this._newPositions=i}apply(){const t=this._originalPositions==null?"apply":"redo";if(!this._originalPositions){const i=this._editGeometry.coordinateHelper;this._originalPositions=this._editGeometry.allVertices.map(n=>i.clone(n.pos))}this._apply(t,this._newPositions)}undo(){this._originalPositions&&this._apply("undo",this._originalPositions)}accumulate(t){return t instanceof mre&&(this._newPositions=t._newPositions,this._apply("apply",this._newPositions),!0)}_apply(t,i){const n=this._editGeometry.coordinateHelper,s=this._editGeometry.allVertices;for(let u=0;u<s.length;u++)n.copy(i[u],s[u].pos);this._editGeometry.components.forEach(u=>u.unnormalizeVertexPositions()),this._editGeometry.notifyChanges({operation:t,updatedVertices:s})}};var yre;const SIe=Symbol();let _Ie=class{constructor(t){this._operations=[],this._closed=!1,this[yre]=!0,t&&(this._operations=t,this._closed=!0)}close(){this._closed=!0}apply(){for(const t of this._operations)t.apply()}undo(){for(let t=this._operations.length-1;t>=0;t--)this._operations[t].undo()}accumulate(t){if(this._closed)return!1;const i=this._operations.length?this._operations[this._operations.length-1]:null;return i&&i.accumulate(t)||(this._operations.push(t),t.apply()),!0}};yre=SIe;let GA=class gre extends Ms{constructor(t,i){super(),this.data=t,this.viewingMode=i,this._undoStack=[],this._redoStack=[],this._listener=this.data.on("change",n=>{n.addedVertices&&this.emit("vertex-add",{type:"vertex-add",vertices:n.addedVertices,operation:n.operation}),n.removedVertices&&this.emit("vertex-remove",{type:"vertex-remove",vertices:n.removedVertices,operation:n.operation}),n.updatedVertices&&this.emit("vertex-update",{type:"vertex-update",vertices:n.updatedVertices,operation:n.operation})})}destroy(){this._listener.remove()}splitEdge(t,i){return this._apply(new pIe(this.data,t,i))}updateVertices(t,i,n=Ao.ACCUMULATE_STEPS){return this._apply(new dIe(this.data,t,i),n)}move(t,i,n,s=Ao.ACCUMULATE_STEPS){return fb(this.data)?this._apply(new UH(this.data,t,i,n),s):this.moveVertices(this.data.allVertices,t,i,n,s)}moveVertices(t,i,n,s,u=Ao.ACCUMULATE_STEPS){return fb(this.data)?this._apply(new UH(this.data,i,n,s),u):this.updateVertices(t,new gIe(this.data.coordinateHelper,i,n,s),u)}scale(t,i,n,s,u=Ao.ACCUMULATE_STEPS,p=ul.CUMULATIVE){return this.scaleVertices(this.data.allVertices,t,i,n,s,u,p)}scaleVertices(t,i,n,s,u,p=Ao.ACCUMULATE_STEPS,g=ul.CUMULATIVE){return this.updateVertices(t,new wIe(i,n,s,u,g),p)}rotate(t,i,n=Ao.ACCUMULATE_STEPS,s=ul.CUMULATIVE){return this.rotateVertices(this.data.allVertices,t,i,n,s)}rotateVertices(t,i,n,s=Ao.ACCUMULATE_STEPS,u=ul.CUMULATIVE){return this.updateVertices(t,new bIe(i,n,u),s)}removeVertices(t){return this._apply(new fIe(this.data,t,this._minNumVerticesPerType))}appendVertex(t){return this.data.components.length===0?null:this._apply(new hIe(this.data,this.data.components[0],t))}setVertexPosition(t,i){return this._apply(new mIe(this.data,t,i))}offsetEdge(t,i,n,s=Ao.ACCUMULATE_STEPS){return this.updateVertices([i.leftVertex,i.rightVertex],new vIe(this.data.coordinateHelper,t,i,n),s)}trySetGeometry(t,i=Ao.ACCUMULATE_STEPS){const{data:n}=this,{coordinateHelper:s}=n;if(n.type!==t.type||!n.spatialReference.equals(t.spatialReference)||s.hasZ()!==t.hasZ||s.hasM()!==t.hasM||!s5e(n.geometry,t)||fb(n))return;const u=Array.from(FA.fromGeometry(t,this.viewingMode).iterateVertices(),p=>p.pos);return this.setVertexPositions(u,i)}setVertexPositions(t,i=Ao.ACCUMULATE_STEPS){return this._apply(new xIe(this.data,t),i)}createResetState(){if(fb(this.data))return this._createResetStateMesh();const t=this.data.geometry.clone();return Mi(()=>this.trySetGeometry(t))}closeComponent(t){return this.data.components.includes(t)?this._apply(new yIe(this.data,t)):null}canRemoveVertex(t){return t.vertices.length>this._minNumVerticesPerType}createUndoGroup(){const t=new _Ie;return this._apply(t),Mi(()=>t.close())}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();return t.undo(),this._redoStack.push(t),t}return null}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();return t.apply(),this._undoStack.push(t),t}return null}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}get lastOperation(){return this._undoStack.length>0?this._undoStack[this._undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case"point":return 1;case"polyline":return 2;case"polygon":return 3;default:return 0}}_apply(t,i=Ao.ACCUMULATE_STEPS){return i!==Ao.NEW_STEP&&this.lastOperation!=null&&this.lastOperation.accumulate(t)||(t.apply(),this._undoStack.push(t),this._redoStack=[]),t}_createResetStateMesh(){if(!fb(this.data))return Mi();const t=this.data.geometry,{vertexSpace:i}=t;if(i.origin){const s=Go(i.origin);return Mi(()=>{t.vertexSpace.origin=s})}const n=t.vertexAttributes.clonePositional();return Mi(()=>{t.vertexAttributes=n,t.vertexAttributesChanged()})}static fromGeometry(t,i){return new gre(FA.fromGeometry(t,i),i)}};function EIe(e,t){let i=null,n=null;return s=>{if(s.action==="cancel")return void(n!=null&&(n.execute({action:"cancel"}),i=null,n=null));const u={action:s.action,screenStart:s.start,screenEnd:s.screenPoint};s.action==="start"&&i==null&&(i=new HA,n=new HA,t(e,i,n,s.pointerType,u)),i!=null&&i.execute(u),s.action==="end"&&i!=null&&(i=null,n=null)}}function W8(e,t){return e.events.on("drag",EIe(e,t))}function oJe(e,t){const i=[e.x,e.y,e.z??0],n=t,s=[Math.cos(n),Math.sin(n)],u=Math.sqrt(s[0]*s[0]+s[1]*s[1]);if(u===0)return null;s[0]/=u,s[1]/=u;const p=g=>{const w=(g.x-i[0])*s[0]+(g.y-i[1])*s[1];g.x=i[0]+w*s[0],g.y=i[1]+w*s[1]};return g=>(p(g.mapStart),p(g.mapEnd),{...g,axis:s})}function TIe(e){let t=null;return i=>{if(i.action==="start"&&(t=MIe(e,i.mapStart.spatialReference)),t==null)return null;const n=i.mapEnd.x-i.mapStart.x,s=i.mapEnd.y-i.mapStart.y,u=(i.mapEnd.z??0)-(i.mapStart.z??0);return t.move(n,s,u,i.action),{...i,translationX:n,translationY:s,translationZ:u}}}function HH(e,t){return e==null?null:e.spatialReference.equals(t)?e.clone():gu(e,t)}function MIe(e,t){const i=e.operations;if(!i)return null;const n=i.data.geometry,s=oIe(t);if(n.spatialReference.equals(s))return J8(e,i,()=>{});if(n.type!=="mesh"){const u=HH(n,s);if(u==null)return null;const p=n.spatialReference;return J8(e,GA.fromGeometry(u,i.viewingMode),()=>{const g=gu(n,p);i.trySetGeometry(g)})}if(XOe(n)){const u=HH(n.origin,s);if(!u)return null;const p=n.spatialReference,g=GA.fromGeometry(u,i.viewingMode);return J8(e,i,()=>{const w=gu(g.data.geometry,p),E=w.x-n.origin.x,A=w.y-n.origin.y,I=(w.z??0)-(n.origin.z??0);i.move(E,A,I)})}return null}function J8(e,t,i){let n=0,s=0,u=0;return{move:(p,g,w,E)=>{var F;E==="start"&&(n=0,s=0,u=0);const A=p-n,I=g-s,R=w-u;t.move(A,I,R),n+=A,s+=I,u+=R,i(),E==="end"&&((F=e.endInteraction)==null||F.call(e))}}}function aJe(e,t=null,i){var p;let n=null;const s=t==null||(p=e.spatialReference)!=null&&p.equals(t)?g=>g:g=>g!=null?gu(g,t):g,u={exclude:[],...i};return g=>{if(g.action==="start"&&(n=s(e.toMap(g.screenStart,u))),n==null)return null;const w=s(e.toMap(g.screenEnd,u));return w!=null?{...g,mapStart:n,mapEnd:w}:null}}function lJe(e){const t=e.map(i=>TIe(i)).filter(uo);return i=>{const n=i.mapEnd.x-i.mapStart.x,s=i.mapEnd.y-i.mapStart.y,u=i.mapEnd.z-i.mapStart.z;return t.forEach(p=>p(i)),{...i,translationX:n,translationY:s,translationZ:u}}}function $Ie(e){var i;const t=(i=e.operations)==null?void 0:i.createResetState();return n=>(t==null||t.remove(),n)}function cJe(e){const t=e.map(i=>$Ie(i)).filter(i=>i!=null);return i=>(t.forEach(n=>n(i)),i)}function uJe(){let e=0,t=0,i=0;return n=>{n.action==="start"&&(e=n.mapStart.x,t=n.mapStart.y,i=n.mapStart.z);const s=n.mapEnd.x-e,u=n.mapEnd.y-t,p=n.mapEnd.z-i;return e=n.mapEnd.x,t=n.mapEnd.y,i=n.mapEnd.z,{...n,mapDeltaX:s,mapDeltaY:u,mapDeltaZ:p,mapDeltaSpatialReference:n.mapStart.spatialReference}}}function hJe(){let e=0,t=0;return i=>{i.action==="start"&&(e=i.screenStart.x,t=i.screenStart.y);const n=i.screenEnd.x-e,s=i.screenEnd.y-t;return e=i.screenEnd.x,t=i.screenEnd.y,{...i,screenDeltaX:n,screenDeltaY:s}}}function dJe(e,t){let i=null,n=0,s=0;return u=>{var E;if(u.action==="start"&&(i=(E=e.toScreen)==null?void 0:E.call(e,t),i!=null&&(i.x<0||i.x>e.width||i.y<0||i.y>e.height?i=null:(n=u.screenStart.x-i.x,s=u.screenStart.y-i.y))),i==null)return null;const p=yl(u.screenEnd.x-n,0,e.width),g=yl(u.screenEnd.y-s,0,e.height),w=Rh(p,g);return u.screenStart=i,u.screenEnd=w,u}}const kIe=()=>{};let HA=class vre{constructor(){this.execute=kIe}next(t,i=new vre){return t!=null&&(this.execute=n=>{const s=t(n);s!=null&&i.execute(s)}),i}};function CIe(e,t,i=[]){if(e.type==="2d")return s=>s;let n=null;return s=>{s.action==="start"&&(n=e.toMap(s.screenStart,{exclude:i}),n!=null&&(n.z=K4(n,e,t)));const u=e.toMap(s.screenEnd,{exclude:i});u!=null&&(u.z=K4(u,e,t));const p=n!=null&&u!=null?{sceneStart:n,sceneEnd:u}:null;return{...s,scenePoints:p}}}function qH(e,t,i){const n=t.elevationProvider.getElevation(e.x,e.y,e.z??0,e.spatialReference,"scene")??0,s=X6(e);return s.z=n,s.hasZ=!0,s.z=K4(s,t,i),s}function fJe(e,t){if(e.type==="2d")return n=>n;let i=null;return n=>{n.action==="start"&&(i=qH(n.mapStart,e,t));const s=qH(n.mapEnd,e,t),u=i!=null&&s!=null?{sceneStart:i,sceneEnd:s}:null;return{...n,scenePoints:u}}}function pJe(e,t,i,n,s,u){let p="geodesic",g=Y4(i);const w=Gr();return Af(e,t,n,w),w[2]=0,g&&ep(w,i,w,g)||(p="euclidean",g=i),{mode:p,view:t,elevationInfo:n,hasZ:s,directionMode:u,spatialReference:e.spatialReference,measurementSR:g,origin:w}}function AIe(e,t,i){if(t==null||e==null)return;const n=Wge(i.measurementSR);if(n==null)return;const s=eE(e,i);if(s==null)return;const u=O6(t,n);return new tR(s,u)}function OIe(e,t,i,n){if(i==null||e==null)return;const s=eE(e,n);if(s==null)return;const u=bu(i),p=10,g=E=>{if(E==null)return;const A=Gr(),I=vu(E,"degrees","geographic");return Ike(A,s,n.measurementSR,p,I,n.mode)?new XAe(s,A):void 0},w=()=>{if(t!=null&&e!=null)return bu(jP(t,e))};switch(n.directionMode){case $r.Absolute:return g(u);case $r.Relative:{const E=w();return E==null?void 0:g(E+u)}case $r.RelativeBilateral:{const E=w();return E==null?void 0:T3([g(E+u),g(E-u)])}}}function bre(e,t){const i=tE(e,t);return i!=null?new Fne(i):void 0}function wre(e,t,i){const{context:n,longitude:s,latitude:u,direction:p,distance:g,elevation:w}=i;if(s!=null||u!=null||g!=null||w!=null||p!=null){if(s!=null||u!=null){const E=bu(s),A=bu(u),I=tE(w,n);return new sR(E,A,I)}return IIe(e,t,i)}}function IIe(e,t,{context:i,direction:n,distance:s,elevation:u}){if(t==null)return bre(u,i);const{view:p,elevationInfo:g,measurementSR:w}=i,E=Af(t,p,g);if(!w||!ep(E,t.spatialReference,BH,w))return;const[A,I]=BH,R=s!=null?O6(s,"meters"):void 0,F=bu(n),q=tE(u,i),B=te=>{const ce=new Gne([A,I],w,R,q,te);return R==null||te==null||q==null&&i.hasZ?ce:new N1(ce.closestTo(E))};if(F==null)return B(void 0);const K=()=>{if(e!=null&&t!=null)return bu(jP(e,t))};switch(i.directionMode){case $r.Absolute:return B(F);case $r.Relative:{const te=K();return te==null?void 0:B(te+F)}case $r.RelativeBilateral:{const te=K();return te==null?void 0:T3([B(te+F),B(te-F)])}}}function PIe(e){return e.context.mode==="geodesic"?wre(null,null,e):xre(e)}function RIe(e,t,i){const{context:n,x:s,y:u,distance:p,direction:g,elevation:w}=i;return n.mode==="geodesic"?wre(t,e,i):s!=null||u!=null?xre(i):DIe([AIe(e,p,n),OIe(e,t,g,n),bre(w,n)])}function xre({x:e,y:t,elevation:i,context:n}){Yx.x=(e==null?void 0:e.value)??0,Yx.y=(t==null?void 0:t.value)??0,Yx.spatialReference=n.spatialReference;const s=eE(Yx,n,zIe);return new sR(e!=null&&s!=null?s[0]:void 0,t!=null&&s!=null?s[1]:void 0,tE(i,n))}function DIe(e){let t;for(const i of e)i&&(t=(t==null?void 0:t.intersect(i))??i);return t}function eE(e,t,i=Gr()){const{view:n,elevationInfo:s,measurementSR:u,origin:p,mode:g}=t;if(Af(e,n,s,i),ep(i,e.spatialReference,i,u))return g!=="geodesic"&&cr(i,i,p),i}function NIe(e,t,i,n){const{view:s,measurementSR:u,spatialReference:p,origin:g,mode:w}=i;if(w==="geodesic"?jo(pb,e):Lo(pb,e,g),ep(pb,u,pb,p))return PA(pb,s,t,i,n)}function tE(e,t){var i;return((i=LIe(e,t))==null?void 0:i.value)??void 0}function LIe(e,{view:t,origin:i,elevationInfo:n,hasZ:s,measurementSR:u}){if(e==null||!s)return;const p=PZ(u);if(p==null)return;const[g,w]=i,E=O6(e,p),A=(t==null?void 0:t.type)==="3d"?j6(t,g,w,E,u,n):E;return A!=null?kie(A,p):void 0}const BH=Gr(),zIe=Gr(),pb=Gr(),Yx=_u(0,0,0,li.WGS84);let qA=class{constructor(t){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=t.editGeometryOperations,this.elevationInfo=t.elevationInfo,this.pointer=t.pointer,this.vertexHandle=t.vertexHandle,this.excludeFeature=t.excludeFeature,this.feature=t.feature,this.visualizer=t.visualizer,this.selfSnappingZ=t.selfSnappingZ,this.drawConstraints=t.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}};const Sre=Symbol("Yield");let jIe=class{constructor(){this._tasks=new Array,this._runningTasks=X4(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return Sre;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,i,n){return++this._runningTasks.value,new Promise((s,u)=>this._tasks.push(new WH(s,u,t,i,n))).finally(()=>--this._runningTasks.value)}unshift(t,i,n){return++this._runningTasks.value,new Promise((s,u)=>this._tasks.unshift(new WH(s,u,t,i,n))).finally(()=>--this._runningTasks.value)}_process(t){var n;if(this._tasks.length===0)return!1;const i=this._tasks.shift();try{const s=Sa(i.signal);if(s&&!i.abortCallback)i.reject(Gn());else{const u=s?(n=i.abortCallback)==null?void 0:n.call(i,Gn()):i.callback(t);wg(u)?u.then(i.resolve,i.reject):i.resolve(u)}}catch(s){i.reject(s)}return!0}cancelAll(){const t=Gn();for(const i of this._tasks)if(i.abortCallback){const n=i.abortCallback(t);i.resolve(n)}else i.reject(t);this._tasks.length=0}},WH=class{constructor(t,i,n,s=void 0,u=void 0){this.resolve=t,this.reject=i,this.callback=n,this.signal=s,this.abortCallback=u}},m2=class extends Zt{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};S([M()],m2.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),S([M()],m2.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),m2=S([ue("esri.views.support.debugFlags")],m2);const FIe=new m2;var ca;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(ca||(ca={}));function bJe(){return new a_.Scheduler}var si;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(si||(si={}));const tl=0,JH=new Map([[si.RESOURCE_CONTROLLER_IMMEDIATE,tl],[si.RESOURCE_CONTROLLER,4],[si.SLIDE,tl],[si.STREAM_DATA_LOADER,tl],[si.ELEVATION_QUERY,tl],[si.TERRAIN_SURFACE,1],[si.SURFACE_GEOMETRY_UPDATES,1],[si.LOD_RENDERER,2],[si.GRAPHICS_CORE,2],[si.I3S_CONTROLLER,2],[si.POINT_CLOUD_LAYER,2],[si.FEATURE_TILE_FETCHER,2],[si.CLOUDS_GENERATOR,2],[si.OVERLAY,4],[si.STAGE,4],[si.GRAPHICS_DECONFLICTOR,4],[si.FILTER_VISIBILITY,4],[si.SCALE_VISIBILITY,4],[si.FRUSTUM_VISIBILITY,4],[si.POINT_OF_INTEREST_FREQUENT,6],[si.POINT_OF_INTEREST_INFREQUENT,30],[si.LABELER,8],[si.FEATURE_QUERY_ENGINE,8],[si.FEATURE_TILE_TREE,16],[si.FEATURE_TILE_TREE_ACTIVE,tl],[si.ELEVATION_ALIGNMENT,12],[si.ELEVATION_ALIGNMENT_SCENE,14],[si.TEXT_TEXTURE_ATLAS,12],[si.TEXTURE_UNLOAD,12],[si.LINE_OF_SIGHT_TOOL,16],[si.LINE_OF_SIGHT_TOOL_INTERACTIVE,tl],[si.SNAPPING,tl],[si.SHADOW_ACCUMULATOR,30],[si.MAPVIEW_FETCH_QUEUE,tl],[si.MAPVIEW_LAYERVIEW_UPDATE,2],[si.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,tl]]);function ZH(e){return JH.has(e)?JH.get(e):typeof e=="number"?e:1}const UIe=6.5,YH=1,VIe=30,GIe=1e3/30,HIe=100,KH=.9;var a_,Bp;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(u=>u.needsUpdate)}constructor(){this._updating=X4(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new E2("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=ca.INTERACTING,this._tasks=new J0,this._runQueue=new J0,this._load=0,this._idleStateCallbacks=new J0,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=ei(()=>FIe.SCHEDULER_LOG_SLOW_TASKS,u=>this._debug=u,No);for(const u of Object.keys(si))this.performanceInfo.tasks.set(si[u],new E2(si[u]))}destroy(){this._tasks.toArray().forEach(u=>u.remove()),this._tasks.clear(),Ur(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(u){this._updatingChanged(),u&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(u,p){const g=new i(this,u,p);return this._tasks.push(g),this._updatingChanged(),this.performanceInfo.tasks.has(u)||this.performanceInfo.tasks.set(u,new E2(u)),g}registerIdleStateCallbacks(u,p){const g={idleBegin:u,idleEnd:p};this._idleStateCallbacks.push(g),this.state===ca.IDLE&&this._idleUpdatesStartFired&&g.idleBegin();const w=this;return{remove:()=>this._removeIdleStateCallbacks(g),set idleBegin(E){w._idleUpdatesStartFired&&(g.idleEnd(),w._state===ca.IDLE&&E()),g.idleBegin=E},set idleEnd(E){g.idleEnd=E}}}get load(){return this._load}set state(u){this._state!==u&&(this._state=u,this.state!==ca.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(p=>p.idleEnd())))}get state(){return this._state}updateBudget(u){this._test&&(this._test.usedBudget=0),++this._frameNumber;let p=UIe,g=u.frameDuration,w=YH;switch(this.state){case ca.IDLE:p=0,g=Math.max(HIe,u.frameDuration),w=VIe;break;case ca.INTERACTING:g=Math.max(GIe,u.frameDuration);case ca.ANIMATING:}return g=g-u.elapsedFrameTime-p,this.state!==ca.IDLE&&g<YH&&!this._forceTask?(this._forceTask=!0,!1):(g=Math.max(g,w),this._budget.reset(g,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case ca.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(u=>u.idleBegin())),this._runIdle();break;case ca.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(u){this._idleUpdatesStartFired&&u.idleEnd(),this._idleStateCallbacks.removeUnordered(u)}removeTask(u){this._tasks.removeUnordered(u),this._runQueue.removeUnordered(u),this._updatingChanged()}_updateTask(u){this._tasks.forAll(p=>{p.name===u&&p.setPriority(u)})}_getState(u){if(this._runQueue.some(g=>g.name===u))return Bp.SCHEDULED;let p=Bp.IDLE;return this._tasks.forAll(g=>{g.name===u&&g.needsUpdate&&(g.schedulePriority<=1?p=Bp.READY:p!==Bp.READY&&(p=Bp.WAITING))}),p}_getRuntime(u){let p=0;return this._tasks.forAll(g=>{g.name===u&&(p+=g.runtime)}),p}_resetRuntimes(){this._tasks.forAll(u=>u.runtime=0)}_getRunning(){const u=new Map;if(this._tasks.forAll(g=>{g.needsUpdate&&u.set(g.name,(u.get(g.name)||0)+1)}),u.size===0)return null;let p="";return u.forEach((g,w)=>{p+=g>1?` ${g}x ${w}`:` ${w}`}),p}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const u=this._tasks.reduce((p,g)=>g.needsUpdate?++p:p,0);this._load=this._load*KH+u*(1-KH)}_schedule(){for(this._runQueue.filterInPlace(u=>!!u.needsUpdate||(u.schedulePriority=u.basePriority,!1)),this._tasks.forAll(u=>{u.basePriority===tl&&u.needsUpdate&&!this._runQueue.includes(u)&&u.blockFrame!==this._frameNumber&&this._runQueue.unshift(u)});this._runQueue.length===0;){let u=!1,p=0;if(this._tasks.forAll(g=>{g.needsUpdate&&g.schedulePriority!==0&&g.basePriority!==tl&&g.blockFrame!==this._frameNumber&&(u=!0,p=Math.max(p,g.basePriority),g.schedulePriority===1?(g.schedulePriority=0,this._runQueue.push(g)):--g.schedulePriority)}),!u)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const u=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const p=this._budget.now(),g=this._runQueue.pop();this._budget.resetProgress();try{g.task.runTask(this._budget)===Sre&&(g.blockFrame=this._frameNumber)}catch(E){xt.getLogger("esri.views.support.Scheduler").error(`Exception in task "${g.name}"`,E),g.blockFrame=this._frameNumber}!this._budget.hasProgressed&&g.blockFrame!==this._frameNumber&&g.needsUpdate&&(g.name,si.I3S_CONTROLLER,g.blockFrame=this._frameNumber),g.schedulePriority=g.basePriority;const w=this._budget.now()-p;if(g.runtime+=w,this._frameTaskTimes.set(g.priority,this._frameTaskTimes.get(g.priority)+w),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-u)}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-u)}_startFrameTaskTimes(){for(const u of Object.keys(si))this._frameTaskTimes.set(si[u],0)}_recordFrameTaskTimes(u){this._frameTaskTimes.forEach((p,g)=>this.performanceInfo.tasks.get(g).push(p)),this.performanceInfo.total.push(u)}get test(){return this._test}}e.Scheduler=t;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(u,p,g){this._scheduler=u,this.name=p,this.blockFrame=0,this.runtime=0,this._queue=new jIe,this._handles=new A_,this._basePriority=ZH(p),this.schedulePriority=this._basePriority,this._task=X4(g??this._queue),this._handles.add(Wf(()=>this.task.running,w=>u.taskRunningChanged(w)))}remove(){this.processQueue(_re),this._scheduler.removeTask(this),this.schedule=l_.schedule,this.reschedule=l_.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(u){if(this.name===u)return;this.name=u;const p=ZH(u);this._basePriority!==tl&&this.schedulePriority===0||(this.schedulePriority=p),this._basePriority=p}get priority(){return this.name}set priority(u){this.setPriority(u)}get needsUpdate(){return this.updating||this.task.running}schedule(u,p,g){return this._queue.push(u,p,g)}reschedule(u,p,g){return this._queue.unshift(u,p,g)}processQueue(u){return this._queue.runTask(u)}}class n{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=ca.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(u){return!this.done&&(u()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(u){this._enabled=u}reset(u,p){this._begin=this.now(),this._budget=u,this._state=p,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=n})(a_||(a_={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(Bp||(Bp={}));const _re=(()=>{const e=new a_.Budget;return e.enabled=!1,e})();let qIe=class{remove(){}processQueue(){}schedule(t,i,n){try{if(Sa(i)){const s=Gn();return n?Promise.resolve(n(s)):Promise.reject(s)}return MM(t(_re))}catch(s){return Promise.reject(s)}}reschedule(t,i,n){return this.schedule(t,i,n)}};const l_=new qIe;function BIe({predicate:e=()=>!0,snappingManager:t,snappingContext:i,updatingHandles:n,useZ:s=!0}){const u=new HA;if(t==null)return{snappingStep:[XH,u],cancelSnapping:XH};let p,g=null,w=null,E=null;const A=()=>{g=Df(g),t.doneSnapping(),w==null||w.frameTask.remove(),w=null,p=Ur(p),E=null},I=WIe(t,s,u);let R=null,F=null,q=null;return{snappingStep:[B=>{if(!e(B))return B;const{action:K}=B;if(K==="start"){const{info:te}=B,ce=JIe(t.view);if(w=ZIe(i,B,ce),w.context.selfSnappingZ=null,!s&&te!=null){const ye=KIe(i.coordinateHelper,te.handle.component);ye!=null&&(w.context.selfSnappingZ={value:ye,elevationInfo:i.elevationInfo??tp})}}if(w!=null){const{context:te,originalScenePos:ce,originalPos:ye}=w,{mapEnd:_e,mapStart:we,scenePoints:xe}=B,pe=Ere(ye,BA(_e,we)),Ze=BA(we,ye),Fe={...B,action:"update"},He=w.context,nt=YIe(ce,xe),Qe=t.update({point:pe,scenePoint:nt,context:te});if(q=Qe,Tre(_e,Qe,Ze,s),R=pe,F=nt,K!=="end"){const{frameTask:De}=w;g==null&&(g=new AbortController),E=Me=>{n.addPromise(hc(I({frameTask:De,event:Fe,context:He,point:pe,scenePoint:nt,delta:Ze,getLastState:()=>({point:R,scenePoint:F,updatePoint:Me.forceUpdate?null:q})},g.signal)))},E({forceUpdate:!1}),p==null&&(p=ei(()=>t.options.effectiveEnabled,()=>E==null?void 0:E({forceUpdate:!0})))}}return K==="end"&&A(),B},u],cancelSnapping:B=>(A(),B)}}function WIe(e,t,i){return xg(async({frameTask:n,point:s,scenePoint:u,context:p,event:g,delta:w,getLastState:E},A)=>{const I=await n.schedule(()=>e.snap({point:s,scenePoint:u,context:p,signal:A}),A);if(I.valid){let R=await n.schedule(()=>I.apply(),A);const F=E();F.point!=null&&s!==F.point&&(R=e.update({point:F.point,scenePoint:F.scenePoint,context:p})),F.updatePoint!=null&&MS(R,F.updatePoint)||(Tre(g.mapEnd,R,w,t),i.execute(g))}})}function JIe(e){return e.type==="3d"?e.resourceController.scheduler.registerTask(si.SNAPPING):l_}function ZIe(e,t,i){return{context:new qA({editGeometryOperations:e.editGeometryOperations,elevationInfo:e.elevationInfo,pointer:e.pointer,vertexHandle:t.info!=null?t.info.handle:null,excludeFeature:e.excludeFeature,feature:e.feature,visualizer:e.visualizer}),originalPos:t.snapOrigin!=null?e.coordinateHelper.vectorToDehydratedPoint(t.snapOrigin):t.mapStart,originalScenePos:t.scenePoints!=null?t.scenePoints.sceneStart:null,frameTask:i}}function Ere(e,[t,i,n]){const s=X6(e);return s.x+=t,s.y+=i,s.hasZ&&(s.z+=n),s}function YIe(e,t){return e==null||t==null?null:Ere(e,BA(t.sceneEnd,t.sceneStart))}function BA(e,t){const i=e.hasZ&&t.hasZ?e.z-t.z:0;return[e.x-t.x,e.y-t.y,i]}function Tre(e,t,[i,n,s],u){e.x=t.x+i,e.y=t.y+n,u&&e.hasZ&&t.hasZ&&(e.z=t.z+s)}function KIe(e,t){if(!e.hasZ())return null;const i=t.vertices;let n=null;for(const s of i){const u=e.getZ(s.pos);if(n!=null&&u!=null&&Math.abs(u-n)>1e-6)return null;n==null&&(n=u)}return n}function XH(e){return e}let $0=class extends Zt{constructor(t){super(t),this.constrainResult=i=>i,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=xg(async(i,n,s,u)=>{const p=this._frameTask;if(p==null)return;const g=await p.schedule(()=>n.snap({...i,context:s,signal:u}),u);g.valid&&await p.schedule(()=>{this.stagedPoint=g.apply(),i!==this._snapPoints&&this._snapPoints!=null&&(this.stagedPoint=n.update({...this._snapPoints,context:s}))},u)})}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){var i,n;const t=this.view.type==="3d"?(n=(i=this.view)==null?void 0:i.resourceController)==null?void 0:n.scheduler:null;this._frameTask=t!=null?t.registerTask(si.SNAPPING):l_}destroy(){this._abortController=Df(this._abortController),this._frameTask=Ur(this._frameTask)}update(t,i,n){this._snapPoints=t;const{point:s,scenePoint:u}=t,p=i.update({point:s,scenePoint:u,context:n});return this.stagedPoint=p,p}async snap(t,i,n){const{point:s,scenePoint:u}=t;return this.stagedPoint=i.update({point:s,scenePoint:u,context:n}),this._snapPoints=t,this._abortController==null&&(this._abortController=new AbortController),this._snap(t,i,n,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,i){this._snapPoints!=null&&await this.snap(this._snapPoints,t,i)}abort(){this._abortController=Df(this._abortController),this._snapPoints=null}};S([M({constructOnly:!0})],$0.prototype,"view",void 0),S([M()],$0.prototype,"stagedPoint",null),S([M()],$0.prototype,"constrainResult",void 0),S([M()],$0.prototype,"_stagedPoint",void 0),$0=S([ue("esri.views.interactive.snapping.SnappingOperation")],$0);const XIe="crosshair",QIe="progress",QH=Symbol(),eq=Symbol();let wi=class extends Ms.EventedMixin(Zt){constructor(t){super(t),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new BOe,this._stagedScreenPoint=null,this._stagedPointerType=null,this._updatingHandles=new TS,this._stagedPointerId=null,this.constraintsEnabled=!1,this.constraints=void 0,this._getPointConstraint=DH(PIe),this._getPolylineOrPolygonConstraint=DH(RIe),this.constraintZ=null,this.defaultZ=null,this.isDraped=!0,this.labelOptions=new x3,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.firstVertex=null,this.lastVertex=null,this.secondToLastVertex=null,t.elevationInfo==null&&(this.elevationInfo=tne(!!t.hasZ))}initialize(){const{geometryType:t,view:i}=this,n=i.spatialReference,s="viewingMode"in i.state?i.state.viewingMode:$w.Local,u=t==="segment"||t==="multipoint"?"polyline":t;this.coordinateHelper=sre(this.hasZ,this.hasM,n),this._editGeometryOperations=new GA(new FA(u,this.coordinateHelper),s),this._snappingOperation=new $0({view:i}),this.addHandles([ei(()=>({stagedPoint:this._snappingOperation.stagedPoint,constraint:this._constraint}),({stagedPoint:w,constraint:E},A)=>{const{snappingOptions:I}=this;if(I&&(I.forceDisabled=E!=null&&el(E)),A!=null&&w===A.stagedPoint&&E!==A.constraint)return this._onKeyboardBasedChange();this._processCursor(w??this._screenToMap(this._stagedScreenPoint))},{equals:(w,E)=>w.stagedPoint===E.stagedPoint&&sJ(w.constraint,E.constraint)}),ei(()=>this.view.viewpoint,(w,E)=>{w&&E&&zee(w,E)&&this._onKeyboardBasedChange()})]),this._activeComponent=new Q6(n,s),this._editGeometryOperations.data.components.push(this._activeComponent);const p=this.segmentLabels;p!=null&&(p.context={view:i,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles(ei(()=>this.labelOptions.enabled,w=>{p.visible=w},wa))),this.addHandles(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],w=>{var q,B,K,te;const E=w.vertices.map(ce=>({componentIndex:0,vertexIndex:ce.index,coordinates:this.coordinateHelper.vectorToArray(ce.pos)})),A=E.map(ce=>ce.coordinates),I=this.coordinateHelper.vectorToDehydratedPoint((q=this._activeComponent.getFirstVertex())==null?void 0:q.pos)??null;MS(I,this.firstVertex)||(this.firstVertex=I);const R=this.coordinateHelper.vectorToDehydratedPoint((B=this._activeComponent.getLastVertex())==null?void 0:B.pos)??null;MS(R,this.lastVertex)||(this.lastVertex=R);const F=this.coordinateHelper.vectorToDehydratedPoint((te=(K=this._activeComponent.edges.at(-1))==null?void 0:K.leftVertex)==null?void 0:te.pos)??null;switch(MS(F,this.secondToLastVertex)||(this.secondToLastVertex=F),this._processCursor(this.cursorVertex),w.type){case"vertex-add":this.emit(w.type,{...w,added:A,vertices:E});break;case"vertex-update":this.emit(w.type,{...w,updated:A,vertices:E});break;case"vertex-remove":this.emit(w.type,{...w,removed:A,vertices:E})}}));const g=this._manipulator=new WOe({consumesClicks:!1,grabbableForEvent:w=>this.drawingMode!=="click"||w.pointerType==="touch"&&this._snappingEnabled&&this._pointerDownStates.size===1});this.manipulators.add(g),g.grabbable=t!=="point",this.addHandles([g.events.on("immediate-click",w=>this._onImmediateClick(w)),g.events.on("immediate-double-click",w=>this._onImmediateDoubleClick(w)),ei(()=>this.drawingMode,()=>{this.removeHandles(QH),this.addHandles(this._createManipulatorDragPipeline(g),QH)},wa),ei(()=>({effectiveCursor:this.effectiveCursor}),({effectiveCursor:w})=>{g.cursor=w},wa)]),une(this,()=>{const w=this.view.inputManager.latestPointerType??"mouse",E=this._getSnappingContext(w);if(this.snappingManager!=null){const A=this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager,E);this._updatingHandles.addPromise(hc(A))}})}destroy(){kr(this.segmentLabels),kr(this._snappingOperation),this._editGeometryOperations=kr(this._editGeometryOperations),this._updatingHandles.destroy()}get _isDragging(){const{_stagedPointerId:t,_manipulator:i}=this;return t!=null&&this._pointerDownStates.has(t)||i.grabbing||!i.interactive}get _snappingEnabled(){return this.snappingManager!=null&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const t=this._updateAndGetEffectiveDrawSurface();return this.view.type==="3d"&&this.drawSurface!==t}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map(t=>this.coordinateHelper.vectorToArray(t.pos))}get _constraint(){const{constraints:t,constraintsEnabled:i}=this;if(t&&i)switch(this.geometryType){case"point":return this._getPointConstraint(t);case"polygon":case"polyline":return this._getPolylineOrPolygonConstraint(this.lastVertex,this.secondToLastVertex,t)}}set drawingMode(t){this._set("drawingMode",t??rre)}get effectiveCursor(){return this.loading?QIe:this._hideDefaultCursor?null:this.cursor||XIe}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get snappingOptions(){return this.snappingManager!=null?this.snappingManager.options:null}get cursorVertex(){return this._get("cursorVertex")}get visualizationCursorVertex(){return this._stagedPointerType==="mouse"?this.cursorVertex:null}get committableVertex(){const{cursorVertex:t,lastVertex:i,firstVertex:n,geometryType:s}=this;return s==="polygon"&&B8(t,n)||B8(t,i)?null:t}get updating(){return this._updatingHandles.updating}get geometryIncludingUncommittedVertices(){const{committedVertices:t,committableVertex:i,coordinateHelper:n}=this,s=t.slice();return i!=null&&s.push(n.pointToArray(i)),s}cancel(){this.complete({aborted:!0})}commitStagedVertex(){this._snappingOperation.abort();const{committableVertex:t}=this;t!=null&&this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t))}complete(t){var p;const i=(t==null?void 0:t.aborted)||!1;this._snappingOperation.abort(),(p=this.snappingManager)==null||p.doneSnapping();const{geometryType:n,numCommittedVertices:s}=this,u=n==="multipoint"&&s===0||n==="polyline"&&s<2||n==="polygon"&&s<3;n!=="segment"&&n!=="point"||this.commitStagedVertex(),this._createOperationCompleted=!u,(this.isCompleted||i)&&(this._stagedScreenPoint=null,this._stagedPointerId=null,this._stagedPointerType=null,this._processCursor(null),this.emit("complete",{vertices:this.committedVertices.map((g,w)=>({componentIndex:0,vertexIndex:w,coordinates:g})),aborted:i,type:"complete"}))}onInputEvent(t){switch(t.type){case"pointer-down":this._pointerDownStates.add(t.pointerId);break;case"pointer-up":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case"pointer-move":return this._onPointerMove(t);case"hold":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){this.snappingManager!=null&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_processCursor(t){var g,w;const i=ke(this.cursorVertex),n=ke(t),s=n&&(((g=this._updateAndGetEffectiveDrawSurface())==null?void 0:g.constrainZ(n))??n),u=this._snapToClosingVertex(s),p=this._applyConstraints(u);B8(i,p)||(this._set("cursorVertex",p),(w=this.segmentLabels)==null||w.set("stagedVertex",p!=null?this.coordinateHelper.pointToVector(p):null),p==null||this._stagedPointerType!=="mouse"?this.emit("cursor-remove"):this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(p)}],operation:"apply",type:"vertex-update"}))}_snapToClosingVertex(t){if(t==null||this._isDragging||this.geometryType!=="polygon"||this.numCommittedVertices<=2)return t;const i=this._mapToScreen(t);if(!i)return t;const n=this._activeComponent;return this._vertexWithinPointerDistance(n.vertices[0].pos,i)?this.firstVertex:this._vertexWithinPointerDistance(n.vertices.at(-1).pos,i)?this.lastVertex:t}_createManipulatorDragPipeline(t){switch(this.drawingMode){case"click":return this._createManipulatorDragPipelineClick(t);case"freehand":return this._createManipulatorDragPipelineFreehand(t);case"hybrid":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return W8(t,(i,n,s,u)=>{const p=u==="touch"&&this._snappingEnabled;if(this.isCompleted||!p)return;const{snappingStep:g,cancelSnapping:w}=BIe({predicate:()=>p,snappingManager:this.snappingManager,snappingContext:new qA({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:u,visualizer:this.snappingVisualizer,drawConstraints:this.constraints}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});s=s.next(E=>(p&&this.snappingManager!=null&&this.snappingManager.doneSnapping(),E)).next(w),n.next(this._screenToMapDragEventStep()).next(E=>(E.action==="start"&&(this._processCursor(E.mapStart),(this.geometryType==="segment"||p&&!this.numCommittedVertices)&&this.commitStagedVertex()),E)).next(CIe(this.view,this.elevationInfo)).next(...g).next(E=>(p&&(this._processCursor(E.mapEnd),E.action==="end"&&this.commitStagedVertex()),E)).next(E=>(E.action==="end"&&(this._stagedPointerType!=="mouse"&&this._snappingOperation.abort(),this.geometryType!=="segment"&&this.geometryType!=="point"||this.complete()),E))})}_createManipulatorDragPipelineFreehand(t){return W8(t,(i,n)=>{this.isCompleted||n.next(this._screenToMapDragEventStep()).next(s=>(s.action==="start"&&(this._snappingOperation.abort(),this.committableVertex==null&&this._processCursor(s.mapStart),this.geometryType==="segment"&&this.commitStagedVertex()),s)).next(s=>{switch(s.action){case"start":case"update":this._processCursor(s.mapEnd),this.geometryType!=="polygon"&&this.geometryType!=="polyline"||this.commitStagedVertex();break;case"end":this.complete()}return s})})}_createManipulatorDragPipelineHybrid(t){return W8(t,(i,n)=>{this.isCompleted||n.next(this._screenToMapDragEventStep()).next(s=>(s.action==="start"&&(this._snappingOperation.abort(),this.addHandles(this._editGeometryOperations.createUndoGroup(),eq),this._processCursor(s.mapStart),this.commitStagedVertex()),s)).next(s=>{switch(s.action){case"start":case"update":this._processCursor(s.mapEnd),this.geometryType!=="polygon"&&this.geometryType!=="polyline"||this.commitStagedVertex();break;case"end":this._stagedPointerType!=="mouse"&&this._snappingOperation.abort(),this.removeHandles(eq),this.geometryType!=="segment"&&this.geometryType!=="point"||this.complete()}return s})})}get _drawAtFixedElevation(){const{constraintsEnabled:t,constraintZ:i,geometryType:n,numCommittedVertices:s}=this;return t?i!=null||n==="segment"&&s>0:(n==="segment"||n==="polygon")&&s>0}_updateAndGetEffectiveDrawSurface(){var E;const{constraintsEnabled:t,coordinateHelper:i,drawSurface:n,elevationDrawSurface:s,snapToSceneEnabled:u}=this;if(s==null)return n;if(!this.hasZ)return s.defaultZ=null,s;const p=(E=this.elevationInfo)==null?void 0:E.mode;let g=this.defaultZ,w=t||p==="absolute-height";return u!=null&&(w=u),p==="on-the-ground"&&(w=!1),this._drawAtFixedElevation&&(g=(t?this.constraintZ:null)??i.getZ(this._activeComponent.vertices[0].pos),w=!1),w?n:(s.defaultZ=g,s)}_mapToScreen(t){var i;return(i=this._updateAndGetEffectiveDrawSurface())==null?void 0:i.mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),this.drawingMode==="click"&&t.pointerType==="touch"&&this._snappingEnabled&&this._processCursor(t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(!(t.pointerType==="mouse"&&t.button===2||this._manipulator.dragging))try{const{drawingMode:i,geometryType:n}=this;this._stagedPointerType=t.pointerType,this._stagedScreenPoint=t.screenPoint;const s=this._screenToMap(t.screenPoint);if(s==null||s==null||i==="freehand"&&n!=="point")return;if(this._snappingEnabled&&this.cursorVertex!=null||this._processCursor(s),this.committableVertex==null)return void this.complete();this.commitStagedVertex(),t.pointerType!=="mouse"&&this._processCursor(null),(i==="freehand"||n==="point"||n==="segment"&&this.numCommittedVertices===2||n==="segment"&&i==="hybrid"&&this.numCommittedVertices===1)&&this.complete()}finally{t.stopPropagation()}}_onImmediateDoubleClick(t){this._manipulator.dragging||this.geometryType==="point"||(this.complete(),t.stopPropagation())}_onPointerMove(t){const i=Rh(t.x,t.y);this._stagedScreenPoint=i,this._stagedPointerType=t.pointerType,this._stagedPointerId=t.pointerId,this._isDragging?this._snappingOperation.abort():(t.stopPropagation(),this._processCursorMovementRelativeToSurface(i,t.pointerType))}_onKeyboardBasedChange(){this._stagedPointerType==="mouse"&&this._stagedScreenPoint&&this._stagedPointerId!=null&&!this._isDragging?this._processCursorMovementRelativeToSurface(this._stagedScreenPoint,this._stagedPointerType):this._snappingOperation.abort()}_processCursorMovementRelativeToSurface(t,i){var w;const n=this._snappingOperation,s=this._screenToMap(t),u=this._requiresScenePoint?(w=this.drawSurface)==null?void 0:w.screenToMap(t):null;if(s==null)return this._hideDefaultCursor=!0,this._processCursor(null),void n.abort();this._hideDefaultCursor=!1;const p=this.snappingManager;if(p==null)return this._processCursor(s),void n.abort();const g=this._getSnappingContext(i);this._updatingHandles.addPromise(hc(n.snap({point:s,scenePoint:u},p,g)))}_applyConstraints(t){const{_constraint:i,constraints:n}=this;if(!t||!n||!i)return t;const{context:s}=n,u=eE(t,s),p=u?i.closestTo(u):void 0;if(!p)return t;const g=NIe(p,t,s),w=this.view.type==="2d"||s.elevationInfo.mode!=="absolute-height";return g!=null&&w&&this.constraintZ!=null&&this.hasZ&&(g.z=this.constraintZ),g}_screenToMap(t){var i;return t?(i=this._updateAndGetEffectiveDrawSurface())==null?void 0:i.screenToMap(t):null}_screenToMapDragEventStep(){let t=null;return i=>{if(i.action==="start"&&(t=this._screenToMap(i.screenStart)),t==null)return null;const n=this._screenToMap(i.screenEnd);return n!=null?{...i,mapStart:t,mapEnd:n}:null}}_vertexWithinPointerDistance(t,i){const s=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return s!=null&&ePe(s,i,25)}_getSnappingContext(t){var n;const i=this._drawAtFixedElevation?(n=this.elevationDrawSurface)==null?void 0:n.defaultZ:null;return new qA({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:i!=null?{value:i,elevationInfo:this.elevationInfo}:null,drawConstraints:this.constraints})}};function ePe(e,t,i){const n=e.x-t.x,s=e.y-t.y;return n*n+s*s<=i}S([M()],wi.prototype,"_hideDefaultCursor",void 0),S([M()],wi.prototype,"_stagedPointerId",void 0),S([M()],wi.prototype,"_isDragging",null),S([M()],wi.prototype,"_snappingOperation",void 0),S([M()],wi.prototype,"_snappingEnabled",null),S([M({constructOnly:!0})],wi.prototype,"graphic",void 0),S([M()],wi.prototype,"constraintsEnabled",void 0),S([M()],wi.prototype,"constraints",void 0),S([M()],wi.prototype,"_constraint",null),S([M()],wi.prototype,"constraintZ",void 0),S([M()],wi.prototype,"defaultZ",void 0),S([M()],wi.prototype,"isDraped",void 0),S([M({value:rre})],wi.prototype,"drawingMode",null),S([M({constructOnly:!0})],wi.prototype,"elevationDrawSurface",void 0),S([M({constructOnly:!0})],wi.prototype,"elevationInfo",void 0),S([M({constructOnly:!0,type:x3})],wi.prototype,"labelOptions",void 0),S([M({constructOnly:!0})],wi.prototype,"geometryType",void 0),S([M({constructOnly:!0})],wi.prototype,"hasM",void 0),S([M({constructOnly:!0})],wi.prototype,"hasZ",void 0),S([M()],wi.prototype,"cursor",void 0),S([M()],wi.prototype,"effectiveCursor",null),S([M()],wi.prototype,"loading",void 0),S([M({constructOnly:!0})],wi.prototype,"manipulators",void 0),S([M({constructOnly:!0})],wi.prototype,"drawSurface",void 0),S([M({constructOnly:!0})],wi.prototype,"segmentLabels",void 0),S([M({constructOnly:!0})],wi.prototype,"snappingManager",void 0),S([M({constructOnly:!0})],wi.prototype,"snappingVisualizer",void 0),S([M()],wi.prototype,"snapToSceneEnabled",void 0),S([M({readOnly:!0})],wi.prototype,"cursorVertex",null),S([M({readOnly:!0})],wi.prototype,"visualizationCursorVertex",null),S([M()],wi.prototype,"committableVertex",null),S([M()],wi.prototype,"firstVertex",void 0),S([M()],wi.prototype,"lastVertex",void 0),S([M()],wi.prototype,"secondToLastVertex",void 0),S([M()],wi.prototype,"updating",null),S([M({constructOnly:!0})],wi.prototype,"view",void 0),wi=S([ue("esri.views.draw.DrawOperation")],wi);let _Je=class{constructor(t,i,n,s=null){this._elevationInfo=t,this.defaultZ=i,this._view=n,this._excludeGraphics=s}screenToMap(t){const{defaultZ:i,_view:n}=this,s=n.sceneIntersectionHelper.intersectElevationFromScreen(WX(t.x,t.y),this._elevationInfo,i??0,this._excludeGraphics);return i==null&&s!=null&&(s.z=void 0),s}mapToScreen(t){const i=_u(t.x,t.y,UP(this._view,t,this._elevationInfo),t.spatialReference);return this._view.toScreen(i)}constrainZ(t){const{defaultZ:i}=this;return i!=null&&t.z!==i&&((t=X6(t)).z=i),t}},TJe=class{constructor(t,i,n=[]){this.view=t,this.elevationInfo=i,this.exclude=n}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude,excludeLabels:!0});return i!=null&&(i.z=K4(i,this.view,this.elevationInfo)),i}mapToScreen(t){let i=t;return this.elevationInfo!=null&&(i=_u(t.x,t.y,UP(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(i)}constrainZ(t){return t}},$Je=class{constructor(t,i=!1,n=0){this.view=t,this.hasZ=i,this.defaultZ=n,this.mapToScreen=s=>t.toScreen(s),this.screenToMap=i?s=>{const u=t.toMap(s);return u.z=n,u}:s=>t.toMap(s)}constrainZ(t){const{defaultZ:i}=this;return this.hasZ&&t.z!==i&&((t=X6(t)).z=i),t}},WA=class Mre{screenToMap(t){const{x:i,y:n}=t;return new gi({x:i,y:n,spatialReference:Mre.spatialReference})}mapToScreen(t){return Rh(t.x,t.y)}constrainZ(t){return t}};WA.spatialReference=new li;var JA;let lf=JA=class extends fo{constructor(e){super(e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const e=this.center,t=this.numberOfPoints;if(this.hasZ=(e==null?void 0:e.hasZ)??!1,this.rings.length!==0||!e)return;const i=bn(this.radius,this.radiusUnit,"meters"),n=e.spatialReference;let s,u="geographic";if(n.isWebMercator?u="webMercator":((n.wkid&&ie[n.wkid])!=null||(n.wkt2||n.wkt)&&U_(n.wkt2||n.wkt))&&(u="projected"),this.geodesic){let p;switch(u){case"webMercator":p=yy(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":p=e}s=this._createGeodesicCircle(p,i,t),u==="webMercator"&&(s=d9(s))}else{let p;u==="webMercator"||u==="projected"?p=i/nI(e.spatialReference):u==="geographic"&&(p=CZ(i,"meters",iI(e.spatialReference).radius)),s=this._createPlanarCircle(e,p,t)}this.spatialReference=s.spatialReference,this.addRing(s.rings[0])}clone(){const{center:e,numberOfPoints:t,radius:i,radiusUnit:n,geodesic:s}=this;return new JA({center:e==null?void 0:e.clone(),numberOfPoints:t,radius:i,radiusUnit:n,geodesic:s})}_createGeodesicCircle(e,t,i){let n=0;const s=[];for(;n<360;){const u=[0,0],p=[e.x,e.y];zf(u,p,n,t,li.WGS84),this.hasZ&&u.push(e.z),s.push(u),n+=360/i}return s.push(s[0]),new fo({rings:[s]})}_createPlanarCircle(e,t,i){const n=[],s=2*Math.PI/i;for(let u=0;u<i;++u){const p=s*u,g=[e.x+Math.cos(-p)*t,e.y+Math.sin(-p)*t];this.hasZ&&g.push(e.z),n.push(g)}return n.push(n[0]),new fo({spatialReference:e.spatialReference,rings:[n]})}};S([M({type:gi})],lf.prototype,"center",void 0),S([M()],lf.prototype,"geodesic",void 0),S([M()],lf.prototype,"numberOfPoints",void 0),S([M()],lf.prototype,"radius",void 0),S([M()],lf.prototype,"radiusUnit",void 0),lf=JA=S([ue("esri.geometry.Circle")],lf);const tPe=lf;var CJe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iPe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nPe(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const u=Object.getOwnPropertyDescriptor(n,s);u&&Object.defineProperty(e,s,u.get?u:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var tq,iq={exports:{}};function rPe(){return tq||(tq=1,function(e){function t(){function n(h){if(typeof h=="number")return re.Tc.Zg(h);if(h==null)return null;if(qo[h]!=null)return re.Tc.Zg(qo[h]);throw Error("Unrecognised Unit Type")}function s(h){if(typeof h=="number")return re.Tc.Zg(h);if(h==null)return null;if(Eu[h]!=null)return re.Tc.Zg(Eu[h]);throw Error("Unrecognised Unit Type")}function u(h){if(h)switch(h){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function p(h,N,x,c){if(x==null||x.B())return null;switch(x.getType()){case re.qn.Point:return h.exportPoint(N,x,c);case re.qn.Polygon:return h.exportPolygon(N,x,c);case re.qn.Polyline:return h.exportPolyline(N,x,c);case re.qn.MultiPoint:return h.exportMultipoint(N,x,c);case re.qn.Envelope:return h.exportExtent(N,x,c)}return null}function g(h,N,x,c){if(x.getType()!==re.qn.Point)throw Error("Geometry not Point");return h.exportPoint(N,x,c)}function w(h,N,x){return h.convertToGEGeometry(N,x)}function E(h){var N=h.wkid;h=h.wkt2||h.wkt;var x=qr.get(N||h);return x==null&&(N!==-1&&N!=null?(x=re.Eg.create(N),qr.set(N,x)):h&&(x=re.Eg.qP(h),qr.set(h,x)),eo.has(N||h)&&x.VW(eo.get(N||h))),x}function A(h){var N,x,c;if(h==null)return null;var a=E(h);return h=a.Hd(),a=a.Kn(),(N={}).tolerance=a,N.unitType=h==null?-1:h.od,N.unitID=h==null?-1:h.Ec(),N.unitBaseFactor=h==null?0:h.ai,N.unitSquareDerivative=h==null?0:(c=(x=re.Tc.aG(h))===null||x===void 0?void 0:x.Ec())!==null&&c!==void 0?c:0,N}function I(h,N,x,c){return x==null?null:(x=re.$b.clip(w(h,pt,x),w(h,pt,c),E(N)),p(h,pt,x,N))}function R(h,N,x,c){x=re.$b.dl(w(h,pt,x),w(h,pt,c),E(N)),c=[];for(var a=0;a<x.length;a++)c.push(p(h,pt,x[a],N));return c}function F(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.contains(w(h,pt,x),w(h,pt,c),E(N))}function q(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.BP(w(h,pt,x),w(h,pt,c),E(N))}function B(h,N,x,c,a){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.tb(w(h,pt,x),w(h,pt,c),E(N),n(a))}function K(h,N,x,c){return!(x==null&&c!=null||c==null&&x!=null)&&re.$b.Nb(w(h,pt,x),w(h,pt,c),E(N))}function te(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.TS(w(h,pt,x),w(h,pt,c),E(N))}function ce(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.touches(w(h,pt,x),w(h,pt,c),E(N))}function ye(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.qY(w(h,pt,x),w(h,pt,c),E(N))}function _e(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.TP(w(h,pt,x),w(h,pt,c),E(N))}function we(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.DU(w(h,pt,x),w(h,pt,c),E(N))}function xe(h,N,x,c,a){if(x==null||c==null)throw Error("Illegal Argument Exception");return re.$b.yB(w(h,pt,x),w(h,pt,c),E(N),a)}function pe(h,N,x){if(x==null)throw Error("Illegal Argument Exception");return re.$b.dT(w(h,pt,x),E(N))}function Ze(h,N,x){if(x==null)throw Error("Illegal Argument Exception");return x=re.$b.eC(w(h,pt,x),E(N)),p(h,pt,x,N)}function Fe(h,N,x,c){if(c===void 0&&(c=!1),x==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){var a=c,r=[];for(c=0;c<x.length;c++)r.push(w(h,pt,x[c]));for(x=re.$b.jP(r,a),a=Array(x.length),c=0;c<x.length;c++)a[c]=p(h,pt,x[c],N);return a}return c=re.$b.iP(w(h,pt,x),E(N)),p(h,pt,c,N)}function He(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var a=[],r=0;r<x.length;r++)a.push(w(h,pt,x[r]));for(x=re.$b.QP(a,w(h,pt,c),E(N)),c=Array(x.length),r=0;r<x.length;r++)c[r]=p(h,pt,x[r],N);return c}return r=re.$b.im(w(h,pt,x),w(h,pt,c),E(N)),p(h,pt,r,N)}function nt(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var a=[],r=0;r<x.length;r++)a.push(w(h,pt,x[r]));for(x=re.$b.VX(a,w(h,pt,c),E(N)),c=Array(x.length),r=0;r<x.length;r++)c[r]=p(h,pt,x[r],N);return c}return r=re.$b.ep(w(h,pt,x),w(h,pt,c),E(N)),p(h,pt,r,N)}function Qe(h,N,x,c){if(x==null||c==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var a=[],r=0;r<x.length;r++)a.push(w(h,pt,x[r]));for(x=re.$b.RS(a,w(h,pt,c),E(N)),c=Array(x.length),r=0;r<x.length;r++)c[r]=p(h,pt,x[r],N);return c}return r=re.$b.Ea(w(h,pt,x),w(h,pt,c),E(N)),p(h,pt,r,N)}function De(h,N,x,c){if(x==null)return null;var a=[];if(Array.isArray(x)){if(x.length===0)return null;for(c=0;c<x.length;c++)a.push(w(h,pt,x[c]))}else a.push(w(h,pt,x)),c!=null&&a.push(w(h,pt,c));return p(h,pt,re.$b.jY(a,E(N)),N)}function Me(h,N,x,c,a,r,o,l){var d=0;if(r!=null)switch(r){case"round":d=0;break;case"bevel":d=1;break;case"miter":d=2;break;case"square":d=3}if(Array.isArray(x)){if(x==null)h=null;else if(x.length===0)h=[];else{var f=[];for(r=0;r<x.length;r++)f.push(w(h,pt,x[r]));for(x=re.$b.BU(f,E(N),c,d,o,l,n(a)),c=Array(x.length),r=0;r<x.length;r++)c[r]=p(h,pt,x[r],N);h=c}return h}return x=re.$b.offset(w(h,pt,x),E(N),c,d,o,l,n(a)),p(h,pt,x,N)}function et(h,N,x,c,a,r){if(r===void 0&&(r=!1),Array.isArray(x)){if(!Array.isArray(c)){for(var o=[],l=0;l<x.length;l++)o.push(c);c=o}if(c.length!=x.length){if(c.length==0)throw Error("Illegal Argument Exception");o=[];var d=0;for(l=0;l<x.length;l++)c[l]===void 0?o.push(d):(o.push(c[l]),d=c[l]);c=o}return lt(h,N,x,c,a,!1,r,"geodesic",NaN)}return x=re.$b.buffer(w(h,pt,x),E(N),c,n(a),!1,0,NaN),p(h,pt,x,N)}function Ve(h,N,x,c,a,r,o,l){if(Array.isArray(x)){if(!Array.isArray(c)){for(var d=[],f=0;f<x.length;f++)d.push(c);c=d}if(c.length!==x.length){if(c.length===0)throw Error("Illegal Argument Exception");d=[];var m=0;for(f=0;f<x.length;f++)c[f]===void 0?d.push(m):(d.push(c[f]),m=c[f]);c=d}return lt(h,N,x,c,a,!0,r,o,l)}return o===void 0&&(o=NaN),x=re.$b.buffer(w(h,pt,x),E(N),c,n(a),!0,u(r),o),p(h,pt,x,N)}function lt(h,N,x,c,a,r,o,l,d){if(d===void 0&&(d=NaN),x==null)return null;if(x.length===0)return[];for(var f=[],m=0;m<x.length;m++)f.push(w(h,pt,x[m]));for(x=re.$b.MN(f,E(N),c,n(a),r,o,u(l),d),c=Array(x.length),m=0;m<x.length;m++)c[m]=p(h,pt,x[m],N);return c}function st(h,N,x,c,a){var r;return a===void 0&&(a=!0),x=re.$b.nz(w(h,pt,x),w(h,pt,c),a),(r={}).coordinate=g(h,pt,x.fz(),N),r.distance=x.hz(),r.isRightSide=x.Sz(),r.vertexIndex=x.Ua(),r.isEmpty=x.B(),r}function Tt(h,N,x,c){var a;return x=re.$b.oz(w(h,pt,x),w(h,pt,c)),(a={}).coordinate=g(h,pt,x.fz(),N),a.distance=x.hz(),a.isRightSide=x.Sz(),a.vertexIndex=x.Ua(),a.isEmpty=x.B(),a}function Se(h,N,x,c,a,r){var o;for(x=re.$b.pz(w(h,pt,x),w(h,pt,c),a,r),c=[],a=0;a<x.length;a++)x[a].B()===!1&&c.push(((o={}).coordinate=g(h,pt,x[a].fz(),N),o.distance=x[a].hz(),o.isRightSide=x[a].Sz(),o.vertexIndex=x[a].Ua(),o.isEmpty=x[a].B(),o));return c}function Xe(h,N,x,c,a,r){return x=re.$b.QQ(w(h,pt,x),E(N),c,a,n(r)),p(h,pt,x,N)}function $t(h,N,x,c,a){return x=re.$b.Qr(w(h,pt,x),E(N),c,n(a)),p(h,pt,x,N)}function Mt(h,N,x,c,a,r){return r===void 0&&(r=0),x=re.$b.Wy(w(h,pt,x),E(N),c,n(a),r),p(h,pt,x,N)}function bt(h,N,x,c){if(x==null)throw Error("Illegal Argument Exception");return re.$b.JU(w(h,pt,x),E(N),s(c))}function Yt(h,N,x,c){if(x==null)throw Error("Illegal Argument Exception");return re.$b.KU(w(h,pt,x),E(N),n(c))}function Kt(h,N,x,c,a){if(x==null)throw Error("Illegal Argument Exception");return re.$b.WQ(w(h,pt,x),E(N),s(c),u(a))}function xn(h,N,x,c,a){if(x==null)throw Error("Illegal Argument Exception");return re.$b.ZQ(w(h,pt,x),E(N),n(c),u(a))}function hi(h){re.NL.bind(h)}function wt(h,N,x,c,a){var r=null,o=null;if(c){if(!a)throw re.i.N("AOI missing Spatial Reference");r=w(h,pt,c),o=E(a).fh()}return(h=re.gu.XR(E(N).fh(),E(x).fh(),r,o))!==null?h:null}function Ji(h,N,x,c,a){var r=null,o=null;if(c){if(!a)throw re.i.N("AOI missing Spatial Reference");r=w(h,pt,c),o=E(a).fh()}return re.gu.YR(E(N).fh(),E(x).fh(),r,o)}function mr(h,N,x,c,a,r){if(a===void 0&&(a=null),r===void 0&&(r=null),r){var o=new re.yC;o.Vu=r.densificationStep,o.Jr=r.centralMeridianOfOutputGCS,r.clipWithInputHorizon&&o.PW(r.clipWithInputHorizon),r.clipWithOutputHorizon&&o.QW(r.clipWithOutputHorizon)}if(this.KY===!1)throw Error("Projection Engine must be enabled using enableProjection");if(N.length===0)return[];if(a){if(!(r=a.getCachedGeTransformation(x,c)))e:{if(r=a,a=null,r){var l=r.getGTListEntry();if(l!==null){a=new re.wC(null);for(var d=0,f=l.steps;d<f.length;d++){l=f[d];var m=new re.Dx(l.geogtran);l.isInverse&&m.Qz(),a.add(m)}o=re.vr.Nr(E(x).fh(),E(c).fh(),a,o),r.assignCachedGe(x,c,o),r=o;break e}}if(a===null&&r&&r.steps&&0<r.steps.length){for(a=new re.wC(null),d=0,f=r.steps;d<f.length;d++)(l=f[d]).wkid!=-1&&l.wkid!=null?a.add(re.Dx.create(l.wkid,l.isInverse)):a.add(re.Dx.uP(l.wkt,l.isInverse));o=re.vr.Nr(E(x).fh(),E(c).fh(),a,o),r.assignCachedGe(x,c,o),r=o}else r=re.vr.Nr(E(x).fh(),E(c).fh(),a,o)}for(x=[],a=0;a<N.length;a++)o=N[a],x.push(Qs(h,o,c,r))}else for(r=re.vr.Nr(E(x).fh(),E(c).fh(),null),x=[],a=0;a<N.length;a++)o=N[a],x.push(Qs(h,o,c,r));return x}function Qs(h,N,x,c){return N=re.$b.zh(w(h,pt,N),c),p(h,pt,N,x)}function ks(h,N){h!=null&&(h=h.wkid||h.wkt2||h.wkt,eo.has(h),eo.set(h,N),qr.has(h)&&qr.delete(h))}function Ho(h){h!=null&&(h=h.wkid||h.wkt2||h.wkt,eo.has(h)&&(eo.delete(h),qr.has(h)&&qr.delete(h)))}function wo(h,N,x,c){if(x==null||c==null)return[];var a=[],r=0;for(x=re.$b.QS(w(h,pt,x),w(h,pt,c),E(N))||[];r<x.length;r++)a.push(p(h,pt,x[r],N));return a}var Ci,re,mn,xc,ci=this&&this.__extends||function(){function h(N,x){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var r in a)a.hasOwnProperty(r)&&(c[r]=a[r])})(N,x)}return function(N,x){function c(){this.constructor=N}h(N,x),N.prototype=x===null?Object.create(x):(c.prototype=x.prototype,new c)}}();(function(h){var N;(N=h.qn||(h.qn={}))[N.Unknown=0]="Unknown",N[N.Point=33]="Point",N[N.Line=322]="Line",N[N.Envelope=197]="Envelope",N[N.MultiPoint=550]="MultiPoint",N[N.Polyline=1607]="Polyline",N[N.Polygon=1736]="Polygon",function(c){c[c.enumMild=0]="enumMild",c[c.enumMedium=1]="enumMedium",c[c.enumHot=2]="enumHot"}(h.YK||(h.YK={}));var x=function(){function c(){this.description=null,this.VA=0}return c.prototype.getType=function(){return 0},c.prototype.Db=function(){return-1},c.prototype.Nf=function(a){this.vc(),a!=this.description&&this.sn(a)},c.prototype.sn=function(){},c.prototype.Jl=function(a){this.vc(),a!=this.description&&(a=h.ee.CR(this.description,a))!=this.description&&this.sn(a)},c.prototype.hasAttribute=function(a){return this.description.hasAttribute(a)},c.prototype.re=function(a){this.vc(),this.description.hasAttribute(a)||(a=h.ee.BR(this.description,a),this.sn(a))},c.prototype.Tg=function(){return null},c.prototype.bn=function(){},c.prototype.A=function(){},c.prototype.Qo=function(){},c.prototype.xc=function(a){this.A(a)},c.prototype.B=function(){return!0},c.prototype.Oa=function(){},c.prototype.Oc=function(){},c.prototype.Ia=function(){return null},c.prototype.copyTo=function(){},c.prototype.Ke=function(){return 0},c.prototype.Qb=function(){return 0},c.prototype.iG=function(){return this.hasAttribute(1)},c.tf=function(a){return 1+((192&a)>>6)>>1},c.Rn=function(a){return!!(32&a)},c.US=function(a){return!!(128&a)},c.yd=function(a){return!!(256&a)},c.xj=function(a){return!!(512&a)},c.Hc=function(a){return!!(1024&a)},c.prototype.Of=function(){var a=this.Ia();return this.copyTo(a),a},c.prototype.mg=function(){return null},c.jg=function(a){var r=a.Ia();return a.copyTo(r),r},c.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},c.Ax=function(a){var r=a.getType();if(c.xj(r))return a.I();if(a.B())return 0;if(r==197)return 4;if(r==33)return 1;if(c.yd(r))return 2;throw h.i.fa("missing type")},c}();h.aa=x})(re||(re={})),mn=re||(re={}),xc=function(){function h(){this.y=this.x=0}return h.construct=function(N,x){var c=new h;return c.x=N,c.y=x,c},h.al=function(N){var x=new h;return x.x=N.x,x.y=N.y,x},h.prototype.ma=function(N,x){this.x=N,this.y=x},h.prototype.L=function(N){this.x=N.x,this.y=N.y},h.prototype.fq=function(N,x){return this.x===N&&this.y===x},h.prototype.Rz=function(N){return 2220446049250313e-31>=Math.abs(this.x-N.x)&&2220446049250313e-31>=Math.abs(this.y-N.y)},h.prototype.qb=function(N){return this.x===N.x&&this.y===N.y},h.prototype.Nb=function(N){return N==this||N instanceof h&&this.x==N.x&&this.y==N.y},h.prototype.sub=function(N){this.x-=N.x,this.y-=N.y},h.prototype.uc=function(N,x){this.x=N.x-x.x,this.y=N.y-x.y},h.prototype.add=function(N,x){x!==void 0?(this.x=N.x+x.x,this.y=N.y+x.y):(this.x+=N.x,this.y+=N.y)},h.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},h.prototype.mt=function(N){this.x=-N.x,this.y=-N.y},h.prototype.NS=function(N,x,c){this.x=N.x*(1-c)+x.x*c,this.y=N.y*(1-c)+x.y*c},h.prototype.Ct=function(N,x){this.x=this.x*N+x.x,this.y=this.y*N+x.y},h.prototype.HW=function(N,x,c){this.x=x.x*N+c.x,this.y=x.y*N+c.y},h.prototype.scale=function(N){this.x*=N,this.y*=N},h.prototype.compare=function(N){return this.y<N.y?-1:this.y>N.y?1:this.x<N.x?-1:this.x>N.x?1:0},h.prototype.normalize=function(){var N=this.length();N==0&&(this.x=1,this.y=0),this.x/=N,this.y/=N},h.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},h.prototype.Sk=function(){return this.x*this.x+this.y*this.y},h.tb=function(N,x){return Math.sqrt(this.yc(N,x))},h.Oy=function(N,x,c,a){return N-=c,x-=a,Math.sqrt(N*N+x*x)},h.prototype.Qh=function(N){return this.x*N.x+this.y*N.y},h.prototype.fD=function(N){return Math.abs(this.x*N.x)+Math.abs(this.y*N.y)},h.prototype.wi=function(N){return this.x*N.y-this.y*N.x},h.prototype.Bt=function(N,x){var c=-this.x*x+this.y*N;this.x=this.x*N+this.y*x,this.y=c},h.prototype.Hv=function(){var N=this.x;this.x=-this.y,this.y=N},h.prototype.MG=function(N){this.x=-N.y,this.y=N.x},h.prototype.ar=function(){var N=this.x;this.x=this.y,this.y=-N},h.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:this.x==0?4:3},h.nu=function(N,x){var c=N.qu(),a=x.qu();return a==c?0>(N=N.wi(x))?1:0<N?-1:0:c<a?-1:1},h.yc=function(N,x){var c=N.x-x.x;return c*c+(N=N.y-x.y)*N},h.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},h.prototype.Rc=function(){this.y=this.x=NaN},h.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},h.prototype.offset=function(N,x){var c=h.tb(N,x),a=h.construct(this.x,this.y);if(c==0)return h.tb(a,N);var r=new h;return r.L(x),r.sub(N),a.sub(N),a.wi(r)/c},h.Uq=function(N,x,c){var a=new mn.Wb;a.set(x.x),a.sub(N.x);var r=new mn.Wb;r.set(c.y),r.sub(N.y);var o=new mn.Wb;o.set(x.y),o.sub(N.y);var l=new mn.Wb;return l.set(c.x),l.sub(N.x),a.Ag(r),o.Ag(l),a.sub(o),a.ps()?(a=new mn.hp(x.x),r=new mn.hp(N.x),o=new mn.hp(N.y),a=a.jt(r),N=(N=new mn.hp(c.y)).jt(o),x=(x=new mn.hp(x.y)).jt(o),c=(c=new mn.hp(c.x)).jt(r),a=a.lr(N),x=x.lr(c),(a=a.lr(x)).nT()?-1:a.fS()?1:0):0>(c=a.value())?-1:0<c?1:0},h.prototype.cc=function(){return mn.O.uj(mn.O.uj())},h}(),mn.h=xc,function(h){var N=function(){function x(c){this.Fy=this.Mt=0,this.OX=c}return x.prototype.reset=function(){this.Fy=this.Mt=0},x.prototype.add=function(c){c-=this.Fy;var a=this.Mt+c;this.Fy=a-this.Mt-c,this.Mt=a},x.prototype.sub=function(c){this.add(-c)},x.prototype.rm=function(){return this.OX+this.Mt},x}();h.Fx=N,h.lc=function(){function x(){}return x.Cn=function(c,a){return 0<=a?Math.abs(c):-Math.abs(c)},x.sign=function(c){return 0>c?-1:0<c?1:0},x.RK=function(c){return c-360*Math.floor(c/360)},x.round=function(c){return Math.floor(c+.5)},x.ox=function(c){return c*c},x.hq=function(c,a,r){return .5>=r?c+(a-c)*r:a-(a-c)*(1-r)},x.OG=function(c,a,r,o){.5>=r?(o.x=c.x+(a.x-c.x)*r,o.y=c.y+(a.y-c.y)*r):(o.x=a.x-(a.x-c.x)*(1-r),o.y=a.y-(a.y-c.y)*(1-r))},x.lT=function(c,a,r,o,l,d){.5>=l?(d.x=c+(r-c)*l,d.y=a+(o-a)*l):(d.x=r-(r-c)*(1-l),d.y=o-(o-a)*(1-l))},x}()}(re||(re={})),function(h){var N=function(x){function c(){var a=x.call(this)||this;return a.sa=0,a.na=0,a.pa=0,a.la=0,a.ka=null,a}return ci(c,x),c.prototype.ac=function(){return h.h.construct(this.sa,this.na)},c.prototype.Yp=function(a){a.x=this.sa,a.y=this.na},c.prototype.Dc=function(a){this.em(0,a)},c.prototype.ZB=function(a,r){this.em(0,h.h.construct(a,r))},c.prototype.To=function(a){this.hD(0,a)},c.prototype.setStart=function(a){this.uD(0,a)},c.prototype.wv=function(a,r){return this.Od(0,a,r)},c.prototype.YB=function(a,r,o){this.tn(0,a,r,o)},c.prototype.wc=function(){return h.h.construct(this.pa,this.la)},c.prototype.Tr=function(a){a.x=this.pa,a.y=this.la},c.prototype.Qc=function(a){this.em(1,a)},c.prototype.Ql=function(a,r){this.em(1,h.h.construct(a,r))},c.prototype.Po=function(a){this.hD(1,a)},c.prototype.setEnd=function(a){this.uD(1,a)},c.prototype.gv=function(a,r){return this.Od(1,a,r)},c.prototype.OB=function(a,r,o){this.tn(1,a,r,o)},c.prototype.Db=function(){return 1},c.prototype.B=function(){return this.Ac()},c.prototype.Oa=function(){},c.prototype.Ke=function(){return 0},c.prototype.Ea=function(a,r,o,l,d){return this.KM(a,r,o,l,d)},c.prototype.isIntersecting=function(a,r){return this.zr(a,r,!1)!=0},c.prototype.qs=function(a,r){return this.ru(a,r,!1)},c.prototype.ru=function(){return null},c.prototype.Ac=function(){return!1},c.prototype.ay=function(a){if(this.vc(),this.ka==null&&0<a)this.ka=h.O.lg(2*a);else if(this.ka!=null&&this.ka.length<2*a){for(var r=this.ka.slice(0),o=this.ka.length;o<2*a;o++)r[o]=0;this.ka=r}},c.gM=function(a,r,o){if(0<o)var l=0;for(var d=0;d<o;d++)r[0+l]=a[0],l++},c.prototype.em=function(a,r){a!=0?(this.pa=r.x,this.la=r.y):(this.sa=r.x,this.na=r.y)},c.prototype.sn=function(a){if(this.ka!=null){for(var r=h.ee.Iw(a,this.description),o=[],l=c.Gg(this.description,0),d=c.Gg(this.description,1),f=c.Gg(a,0),m=c.Gg(a,1),b=0,_=1,$=a.Aa;_<$;_++){var C=a.kd(_),P=h.ra.Va(C);if(r[_]==-1){var L=h.ra.se(C);for(C=0;C<P;C++)o[f+b]=L,o[m+b]=L,b++}else for(L=this.description.$j(r[_])-2,C=0;C<P;C++)o[f+b]=this.ka[l+L],o[m+b]=this.ka[d+L],b++,L++}this.ka=o}this.description=a},c.prototype.hD=function(a,r){if(this.Ac())throw h.i.fa("empty geometry");r.Nf(this.description),r.Ac()&&r.un();for(var o=0;o<this.description.Aa;o++)for(var l=this.description.Ed(o),d=0,f=h.ra.Va(l);d<f;d++){var m=this.Od(a,l,d);r.setAttribute(l,d,m)}},c.prototype.uD=function(a,r){if(this.vc(),r.Ac())throw h.i.fa("empty geometry");for(var o=r.description,l=0,d=o.Aa;l<d;l++)for(var f=o.Ed(l),m=h.ra.Va(f),b=0;b<m;b++){var _=r.Uc(f,b);this.tn(a,f,b,_)}},c.prototype.Od=function(a,r,o){if(this.Ac())throw h.i.fa("This operation was performed on an Empty Geometry.");if(r==0)return a!=0?o!=0?this.la:this.pa:o!=0?this.na:this.sa;if(o>=h.ra.Va(r))throw h.i.ce();var l=this.description.Pf(r);return 0<=l?(this.ka!=null&&this.ay(this.description.Ae.length-2),this.ka[c.Gg(this.description,a)+this.description.$j(l)-2+o]):h.ra.se(r)},c.prototype.tn=function(a,r,o,l){if(this.vc(),o>=h.ra.Va(r))throw h.i.ce();var d=this.description.Pf(r);0>d&&(this.re(r),d=this.description.Pf(r)),r==0?a!=0?o!=0?this.la=l:this.pa=l:o!=0?this.na=l:this.sa=l:(this.ka==null&&this.ay(this.description.Ae.length-2),this.ka[c.Gg(this.description,a)+this.description.$j(d)-2+o]=l)},c.prototype.copyTo=function(a){if(a.getType()!=this.getType())throw h.i.N();a.description=this.description,a.ay(this.description.Ae.length-2),c.gM(this.ka,a.ka,2*(this.description.Ae.length-2)),a.sa=this.sa,a.na=this.na,a.pa=this.pa,a.la=this.la,a.vc(),this.op(a)},c.prototype.Tg=function(a,r){var o=new h.Nc;return this.Ac()?(o.Oa(),o):(o.oa=this.Od(0,a,r),o.va=o.oa,o.Lk(this.Od(1,a,r)),o)},c.prototype.ZI=function(a){this.Ac()?a.Oa():(a.oa=this.Od(0,0,0),a.va=a.oa,a.Lk(this.Od(1,0,0)))},c.prototype.Tw=function(a,r){r.Nf(this.description),r.Cb(this.hc(a));for(var o=1,l=this.description.Aa;o<l;o++)for(var d=this.description.Ed(o),f=h.ra.Va(d),m=0;m<f;m++){var b=this.Uc(a,d,m);r.setAttribute(d,m,b)}},c.prototype.FM=function(a){if(this.description!=a.description||this.sa!=a.sa||this.pa!=a.pa||this.na!=a.na||this.la!=a.la)return!1;for(var r=0;r<2*(this.description.Ae.length-2);r++)if(this.ka[r]!=a.ka[r])return!1;return!0},c.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},c.prototype.reverse=function(){var a=this.sa;this.sa=this.pa,this.pa=a,a=this.na,this.na=this.la,this.la=a,a=1;for(var r=this.description.Aa;a<r;a++)for(var o=this.description.kd(a),l=0,d=h.ra.Va(o);l<d;l++){var f=this.Od(0,o,l),m=this.Od(1,o,l);this.tn(0,o,l,m),this.tn(1,o,l,f)}},c.prototype.zr=function(a,r,o){var l=this.getType(),d=a.getType();if(l===322){if(d==322)return h.yb.OM(this,a,r,o);throw h.i.Qa()}throw h.i.Qa()},c.prototype.KM=function(a,r,o,l,d){var f=this.getType(),m=a.getType();if(f===322){if(m==322)return h.yb.Zx(this,a,r,o,l,d);throw h.i.Qa()}throw h.i.Qa()},c.prototype.Tx=function(){return null},c.Gg=function(a,r){return r*(a.Ae.length-2)},c.prototype.hc=function(a,r){if(r===void 0)return r=new h.h,this.hc(a,r),r;h.lc.lT(this.sa,this.na,this.pa,this.la,a,r)},c.prototype.fe=function(){return null},c.prototype.eG=function(){return null},c.prototype.cq=function(){return null},c.prototype.Bi=function(){return null},c.prototype.Pn=function(){return null},c.prototype.kg=function(){return null},c.prototype.Ux=function(a,r){return r!==void 0?this.vx(r)-this.vx(a):this.vx(a)},c.prototype.op=function(){},c.prototype.dl=function(){return null},c.prototype.ah=function(){},c.prototype.Uc=function(){return null},c.prototype.Pe=function(){return null},c.prototype.vx=function(){return null},c.prototype.NG=function(){return null},c.prototype.tb=function(a,r){if(!r&&this.zr(a,0,!1)!=0)return 0;r=17976931348623157e292;var o=this.ac(),l=a.fe(o,!1);return o.sub(a.hc(l)),(o=o.length())<r&&(r=o),o=this.wc(),l=a.fe(o,!1),o.sub(a.hc(l)),(o=o.length())<r&&(r=o),o=a.ac(),l=this.fe(o,!1),o.sub(this.hc(l)),(o=o.length())<r&&(r=o),o=a.wc(),l=this.fe(o,!1),o.sub(this.hc(l)),(o=o.length())<r&&(r=o),r},c.prototype.mg=function(){return h.pi.gm(this,null)},c}(h.aa);h.SC=N}(re||(re={})),new re.h,function(h){var N;(N=h.$K||(h.$K={}))[N.Unknown=-1]="Unknown",N[N.Not=0]="Not",N[N.Weak=1]="Weak",N[N.Strong=2]="Strong",function(c){c[c.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",c[c.IsWeakSimple=2]="IsWeakSimple",c[c.IsStrongSimple=4]="IsStrongSimple",c[c.DirtyOGCFlags=8]="DirtyOGCFlags",c[c.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",c[c.DirtyExactIntervals=64]="DirtyExactIntervals",c[c.DirtyLooseIntervals=128]="DirtyLooseIntervals",c[c.DirtyIntervals=192]="DirtyIntervals",c[c.DirtyIsEnvelope=256]="DirtyIsEnvelope",c[c.DirtyLength2D=512]="DirtyLength2D",c[c.DirtyRingAreas2D=1024]="DirtyRingAreas2D",c[c.DirtyCoordinates=1993]="DirtyCoordinates",c[c.DirtyAllInternal=65535]="DirtyAllInternal",c[c.DirtyAll=16777215]="DirtyAll"}(h.MK||(h.MK={}));var x=function(c){function a(){var r=c.call(this)||this;return r.Hm=65535,r.wa=0,r.Pg=-1,r.Bb=null,r}return ci(a,c),a.prototype.op=function(){},a.prototype.$x=function(){},a.prototype.iy=function(){},a.prototype.I=function(){return this.wa},a.prototype.B=function(){return this.Ac()},a.prototype.Ac=function(){return this.wa==0},a.prototype.ak=function(r){return!!(this.Hm&r)},a.prototype.Lf=function(r,o){this.Hm=o?this.Hm|r:this.Hm&~r},a.prototype.mc=function(){this.ak(32)&&this.bN()},a.prototype.wx=function(){if(this.Ac())throw h.i.fa("This operation was performed on an Empty Geometry.")},a.prototype.ve=function(r,o){if(0>r||r>=this.wa)throw h.i.fa("index out of bounds");this.mc(),o.Nf(this.description),o.B()&&o.un();for(var l=0;l<this.description.Aa;l++)for(var d=this.description.Ed(l),f=0,m=h.ra.Va(d);f<m;f++){var b=this.za[l].eg(m*r+f);o.setAttribute(d,f,b)}},a.prototype.Ht=function(r,o){this.mc();for(var l=o.description,d=0;d<l.Aa;d++)for(var f=l.Ed(d),m=h.ra.Va(f),b=0;b<m;b++){var _=o.Uc(f,b);this.setAttribute(f,r,b,_)}},a.prototype.D=function(r,o){if(0>r||r>=this.I())throw h.i.ce();this.mc(),this.za[0].tc(2*r,o)},a.prototype.Na=function(r){var o=new h.h;return this.D(r,o),o},a.prototype.Gc=function(r,o){this.za[0].tc(2*r,o)},a.prototype.Cb=function(r,o,l){if(0>r||r>=this.wa)throw h.i.ce();this.mc();var d=this.za[0];l!==void 0?(d.write(2*r,o),d.write(2*r+1,l)):d.Tt(2*r,o),this.Pc(1993)},a.prototype.Cz=function(){if(void 0>=this.I())throw h.i.ce();this.mc();var r=this.za[0],o=new h.Nd;return o.x=r.read(NaN),o.y=r.read(NaN),o.z=this.hasAttribute(1)?this.za[1].eg():h.ra.se(1),o},a.prototype.dC=function(r){if(0>r||r>=this.I())throw h.i.ce();this.re(1),this.mc(),this.Pc(1993);var o=this.za[0];o.write(2*r,(void 0).x),o.write(2*r+1,(void 0).y),this.za[1].pr(r,(void 0).z)},a.prototype.Uc=function(r,o,l){if(0>o||o>=this.wa)throw h.i.ce();var d=h.ra.Va(r);if(l>=d)throw h.i.ce();this.mc();var f=this.description.Pf(r);return 0<=f?this.za[f].eg(o*d+l):h.ra.se(r)},a.prototype.yF=function(r,o){return this.Uc(r,o)},a.prototype.setAttribute=function(r,o,l,d){if(0>o||o>=this.wa)throw h.i.ce();var f=h.ra.Va(r);if(l>=f)throw h.i.ce();this.re(r),this.mc(),r=this.description.Pf(r),this.Pc(1993),this.za[r].pr(o*f+l,d)},a.prototype.ub=function(r){return this.wx(),this.re(r),this.mc(),this.za[this.description.Pf(r)]},a.prototype.hn=function(r,o){if(o!=null&&h.ra.Tp(r)!=o.Tp())throw h.i.N();this.re(r),r=this.description.Pf(r),this.za==null&&(this.za=h.Yc.qI(this.description.Aa)),this.za[r]=o,this.Pc(16777215)},a.prototype.sn=function(r){var o=null;if(this.za!=null){var l=h.ee.Iw(r,this.description);o=[];for(var d=0,f=r.Aa;d<f;d++)l[d]!=-1&&(o[d]=this.za[l[d]])}this.description=r,this.za=o,this.Pg=-1,this.Pc(16777215)},a.prototype.AD=function(r){this.wu(!0),r instanceof h.l?this.$.A(r):this.$.Qo(r)},a.prototype.aN=function(r){this.wu(!1),r instanceof h.l?this.$.A(r):this.$.Qo(r)},a.prototype.bn=function(r){this.wu(!0),this.$.copyTo(r)},a.prototype.A=function(r){this.AD(r)},a.prototype.Qo=function(r){this.AD(r)},a.prototype.xc=function(r){this.aN(r)},a.prototype.Tg=function(r,o){var l=new h.Nc;return this.Ac()?(l.Oa(),l):(this.wu(!0),this.$.Tg(r,o))},a.prototype.cc=function(){var r=this.description.cc();if(!this.Ac())for(var o=this.I(),l=0,d=this.description.Aa;l<d;l++)r=this.za[l].An(r,0,o*h.ra.Va(this.description.Ed(l)));return r},a.prototype.Nb=function(r){if(r==this)return!0;if(!(r instanceof a&&this.description.Nb(r.description))||this.Ac()!=r.Ac())return!1;if(this.Ac())return!0;var o=this.I();if(o!=r.I())return!1;for(var l=0;l<this.description.Aa;l++){var d=this.description.kd(l),f=this.ub(d),m=r.ub(d);if(!f.Nb(m,0,o*h.ra.Va(d)))return!1}return!0},a.prototype.copyTo=function(r){if(r.getType()!=this.getType())throw h.i.N();this.dD(r)},a.prototype.dD=function(r){this.mc(),r.description=this.description,r.za=null;var o=this.description.Aa,l=null;if(this.za!=null){l=[];for(var d=0;d<o;d++)this.za[d]!=null&&(l[d]=this.za[d].GB(this.I()*h.ra.Va(this.description.Ed(d))))}this.$!=null?(r.$=this.$.Ia(),this.$.copyTo(r.$)):r.$=null,r.wa=this.wa,r.Hm=this.Hm,r.za=l;try{this.op(r)}catch{throw r.Oa(),h.i.fu()}},a.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},a.prototype.Pc=function(r){r==16777215&&(this.Pg=-1,this.$x()),this.Hm|=r,this.lM(),this.vc()},a.prototype.wu=function(r){if(this.mc(),this.ak(192))if(this.$==null?this.$=new h.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(r);for(var o=1;o<this.description.Aa;o++)for(var l=this.description.Ed(o),d=h.ra.Va(l),f=this.za[o],m=0;m<d;m++){var b=new h.Nc;b.Oa();for(var _=0;_<this.wa;_++){var $=f.eg(_*d+m);b.Zb($)}this.$.setInterval(l,m,b)}r&&this.Lf(192,!1)}},a.prototype.hy=function(){this.$.Oa();for(var r=this.za[0],o=new h.h,l=0;l<this.wa;l++)r.tc(2*l,o),this.$.Zb(o)},a.prototype.yp=function(r){r.Oa();for(var o=this.za[0],l=new h.h,d=0;d<this.wa;d++)o.tc(2*d,l),r.Zb(l)},a.prototype.bN=function(){if(this.Pg<this.wa){this.za==null&&(this.za=h.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var r=0;r<this.description.Aa;r++){var o=this.description.Ed(r);if(this.za[r]!=null){var l=h.ra.Va(o),d=h.O.truncate(this.za[r].size/l);d<this.wa&&(d=h.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[r].resize(d*l,h.ra.se(o))),d<this.Pg&&(this.Pg=d)}else this.za[r]=h.Yc.YE(o,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},a.prototype.dm=function(r){if(0>r)throw h.i.N();r!=this.wa&&(this.wa=r,this.Pc(65535))},a.prototype.om=function(r){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=r)return this.ak(8)?1:2}return-1},a.prototype.Ch=function(r,o){if(this.QT=o,r==-1)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),r==0)this.Lf(2,!1),this.Lf(4,!1);else if(r==1)this.Lf(2,!0),this.Lf(4,!1);else{if(r!=2)throw h.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},a.prototype.lM=function(){this.Bb!=null&&(this.Bb=null)},a.prototype.kD=function(r,o,l,d){if(0>r||r>=this.wa||0>o||o>=this.wa)throw h.i.fa("index out of bounds");this.mc(),d.Nf(this.description),d.B()&&d.un();for(var f=0;f<this.description.Aa;f++)for(var m=this.description.Ed(f),b=0,_=h.ra.Va(m);b<_;b++){var $=this.za[f].eg(_*r+b),C=this.za[f].eg(_*o+b);d.setAttribute(m,b,h.lc.hq($,C,l))}},a.prototype.yr=function(r,o){var l=this.za[0].o,d=l[2*r]-l[2*o];return r=l[2*r+1]-l[2*o+1],Math.sqrt(d*d+r*r)},a.prototype.KR=function(r){if(0>r||r>=this.wa)throw h.i.ce();this.mc();var o=new h.Sa;o.Nf(this.description),o.B()&&o.un();for(var l=0;l<this.description.Aa;l++)for(var d=this.description.kd(l),f=0,m=h.ra.Va(d);f<m;f++){var b=this.za[l].eg(m*r+f);o.setAttribute(d,f,b)}return o},a.prototype.Dh=function(r,o){if(0>r||r>=this.wa)throw h.i.ce();if(o.B())throw h.i.N();this.mc();for(var l=o.description,d=0;d<l.Aa;d++)for(var f=l.kd(d),m=h.ra.Va(f),b=0;b<m;b++){var _=o.Uc(f,b);this.setAttribute(f,r,b,_)}},a.prototype.lu=function(){return null},a.prototype.fj=function(){return null},a}(h.aa);h.Gx=x}(re||(re={})),function(h){var N=function(){function x(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new h.$c(7),this.Zn=null}return x.prototype.Vo=function(c){this.Zn=c},x.prototype.RP=function(){this.Rv=!1},x.prototype.De=function(c){this.ob.De(c)},x.prototype.Pr=function(c){var a=this.ob.Ce();return this.rX(a),this.uX(c,a),a},x.prototype.MP=function(c){this.ob.jd(c)},x.prototype.addElement=function(c,a){return a==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),a=this.Qe),this.FD(c,0,a)},x.prototype.KD=function(c){return this.Qe==-1&&(this.Qe=this.Pr(-1)),this.FD(c,1,this.Qe)},x.prototype.xn=function(c){this.Qe==-1&&(this.Qe=this.Pr(-1));var a=this.Qe,r=this.ob.o;if(a==-1||r[7*a]==-1)return c=this.ob.Ll([-1,-1,-1,c,this.gl(),-1,-1]),(r=this.ob.o)[7*a]=c,this.vp(-1,c,a,r),c;var o=a==-1?-1:r[7*a+2];return c=this.ob.Ll([-1,-1,o,c,this.gl(),-1,-1]),(r=this.ob.o)[7*o+1]=c,this.oy(c,r),r[7*c+2]===-1&&(r[7*a]=c),this.vp(-1,c,a,r),c},x.prototype.zu=function(c,a,r,o){var l=-1;l==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),l=this.Qe);var d=this.ob.o;if(l==-1||d[7*l]==-1)return r=this.ob.Ll([-1,-1,-1,r,this.gl(),-1,-1]),(d=this.ob.o)[7*l]=r,this.vp(-1,r,l,d),r;if(o){o=a!=-1?this.Zn.compare(this,r,a):-1;var f=c!=-1?this.Zn.compare(this,r,c):1}else o=-1,f=1;if(o==0||f==0)return d[7*l+3]=o==0?a:c,-1;for((a!=-1&&c!=-1?this.Tm>h.O.bB(this.Tm)>>1:a!=-1)?c=a:o=f,a=!0;;){if(0>o){if((f=d[7*c])==-1){o=c,r=this.ob.Ll([-1,-1,c,r,this.gl(),-1,-1]),(d=this.ob.o)[7*c]=r;break}c=f}else{if((f=d[7*c+1])==-1){o=d[7*c+6],r=this.ob.Ll([-1,-1,c,r,this.gl(),-1,-1]),(d=this.ob.o)[7*c+1]=r;break}c=f}a&&(o*=-1,a=!1)}return this.oy(r,d),d[7*r+2]===-1&&(d[7*l]=r),this.vp(o,r,l,d),r},x.prototype.FF=function(){return this.iR(this.Qe)},x.prototype.vd=function(c,a){a=a==-1?this.Qe:a,this.Rv?this.LP(c,a):this.iY(c,a)},x.prototype.search=function(c,a){for(a=this.sv(a);a!=-1;){var r=this.Zn.compare(this,c,a);if(r==0)return a;a=0>r?this.ll(a):this.Xp(a)}return-1},x.prototype.IW=function(c){for(var a=this.sv(-1),r=-1;a!=-1;){var o=c.compare(this,a);if(o==0)return a;0>o?a=this.ll(a):(r=a,a=this.Xp(a))}return r},x.prototype.uJ=function(c){for(var a=this.sv(-1),r=-1;a!=-1;){var o=c.compare(this,a);if(o==0)return a;0>o?(r=a,a=this.ll(a)):a=this.Xp(a)}return r},x.prototype.ja=function(c){return this.ob.T(c,3)},x.prototype.ll=function(c){return this.ob.T(c,0)},x.prototype.Xp=function(c){return this.ob.T(c,1)},x.prototype.getParent=function(c){return this.ob.T(c,2)},x.prototype.lb=function(c){return this.ob.T(c,6)},x.prototype.we=function(c){return this.ob.T(c,5)},x.prototype.rc=function(c){return c==-1?this.kl(this.Qe):this.kl(c)},x.prototype.Fc=function(c){return c==-1?this.Zr(this.Qe):this.Zr(c)},x.prototype.ZR=function(c){return c==-1?this.bG(this.Qe):this.bG(c)},x.prototype.Sj=function(c,a){this.NB(c,a)},x.prototype.sv=function(c){return c==-1?this.YF(this.Qe):this.YF(c)},x.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},x.prototype.size=function(c){return c==-1?this.$F(this.Qe):this.$F(c)},x.prototype.KN=function(c,a){for(var r=a[7*c],o=a[7*c+1],l=a[7*c+4];r!=-1||o!=-1;){var d=r!=-1?a[7*r+4]:2147483647;if(o=o!=-1?a[7*o+4]:2147483647,l<=Math.min(d,o))break;d<=o?this.sJ(r,a):this.rJ(c,a),r=a[7*c],o=a[7*c+1]}},x.prototype.oy=function(c,a){if(this.Rv)for(var r=a[7*c+4],o=a[7*c+2];o!=-1&&a[7*o+4]>r;)a[7*o]==c?this.sJ(c,a):this.rJ(o,a),o=a[7*c+2]},x.prototype.rJ=function(c,a){var r=a[7*c+1];a[7*r+2]=a[7*c+2],a[7*c+2]=r;var o=a[7*r];a[7*c+1]=o,o!=-1&&(a[7*o+2]=c),a[7*r]=c,(o=a[7*r+2])!=-1&&(a[7*o]==c?a[7*o]=r:a[7*o+1]=r)},x.prototype.sJ=function(c,a){var r=a[7*c+2];a[7*c+2]=a[7*r+2],a[7*r+2]=c;var o=a[7*c+1];a[7*r]=o,o!=-1&&(a[7*o+2]=r),a[7*c+1]=r,(o=a[7*c+2])!=-1&&(a[7*o]===r?a[7*o]=c:a[7*o+1]=c)},x.prototype.Pk=function(c,a){this.ob.S(c,2,a)},x.prototype.TB=function(c,a){this.ob.S(c,0,a)},x.prototype.XB=function(c,a){this.ob.S(c,1,a)},x.prototype.WB=function(c,a){this.ob.S(c,5,a)},x.prototype.ex=function(c,a){this.ob.S(c,6,a)},x.prototype.XJ=function(c,a){this.ob.S(a,0,c)},x.prototype.rX=function(c){this.ob.S(c,4,0)},x.prototype.uX=function(c,a){this.ob.S(a,5,c)},x.prototype.YF=function(c){return c==-1?-1:this.ob.T(c,0)},x.prototype.kl=function(c){return c==-1?-1:this.ob.T(c,1)},x.prototype.Zr=function(c){return c==-1?-1:this.ob.T(c,2)},x.prototype.iR=function(c){return c==-1?-1:this.ob.T(c,3)},x.prototype.$F=function(c){return c==-1?0:this.ob.T(c,4)},x.prototype.bG=function(c){return this.ob.T(c,5)},x.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},x.prototype.fl=function(c){c!=-1&&this.ob.jd(c)},x.prototype.gl=function(){return this.Tm=h.O.bB(this.Tm),1073741823&this.Tm},x.prototype.FD=function(c,a,r){var o=this.ob.o;if(r==-1||o[7*r]==-1)return c=this.ob.Ll([-1,-1,-1,c,this.gl(),-1,-1]),(o=this.ob.o)[7*r]=c,this.vp(-1,c,r,o),c;for(var l=r==-1?-1:o[7*r];;){var d=a==-1?1:this.Zn.compare(this,c,l);if(0>d){if((d=this.ll(l))==-1){a=l,c=this.ob.Ll([-1,-1,l,c,this.gl(),-1,-1]),(o=this.ob.o)[7*l]=c;break}l=d}else{if(a==1&&d==0)return o[7*r+3]=l,-1;if((d=o[7*l+1])==-1){a=o[7*l+6],c=this.ob.Ll([-1,-1,l,c,this.gl(),-1,-1]),(o=this.ob.o)[7*l+1]=c;break}l=d}}return this.oy(c,o),o[7*c+2]===-1&&(o[7*r]=c),this.vp(a,c,r,o),c},x.prototype.vp=function(c,a,r,o){if(c!=-1){var l=o[7*c+5];o[7*c+5]=a}else l=r==-1?-1:o[7*r+2];o[7*a+5]=l,l!=-1&&(o[7*l+6]=a),o[7*a+6]=c,c==(r==-1?-1:o[7*r+1])&&(o[7*r+1]=a),c==-1&&(o[7*r+2]=a),o[7*r+4]=(r==-1?0:o[7*r+4])+1},x.prototype.AB=function(c,a){var r=this.ob.o,o=r[7*c+5];c=r[7*c+6],o!=-1?r[7*o+6]=c:r[7*a+1]=c,c!=-1?r[7*c+5]=o:r[7*a+2]=o,r[7*a+4]=a===-1?-1:r[7*a+4]-1},x.prototype.iY=function(c,a){this.AB(c,a);var r=this.ll(c),o=this.Xp(c),l=this.getParent(c),d=c;if(r!=-1&&o!=-1){this.Tm=h.O.bB(this.Tm);var f=1073741823<this.Tm?this.lb(c):this.we(c),m=this.getParent(f)==c;this.ob.gC(c,f,0),this.ob.gC(c,f,1),this.ob.gC(c,f,2),l!=-1?this.ll(l)==c?this.TB(l,f):this.XB(l,f):this.XJ(f,a),m?(r==f?(this.TB(f,c),this.Pk(o,f)):o==f&&(this.XB(f,c),this.Pk(r,f)),this.Pk(c,f),l=f):(this.Pk(r,f),this.Pk(o,f),l=this.getParent(c),d=f),r=this.ll(c),o=this.Xp(c),r!=-1&&this.Pk(r,c),o!=-1&&this.Pk(o,c)}r=r!=-1?r:o,l==-1?this.XJ(r,a):this.ll(l)==d?this.TB(l,r):this.XB(l,r),r!=-1&&this.Pk(r,l),this.fl(c)},x.prototype.LP=function(c,a){var r=this.ob.o;r[7*c+4]=2147483647;var o=-1,l=-1,d=a===-1?-1:r[7*a],f=d==c;if(f&&(o=r[7*d],l=r[7*d+1],o==-1&&l==-1))return this.AB(d,a),this.fl(d),void(r[7*a]=-1);this.KN(c,r),(d=r[7*c+2])!=-1&&(r[7*d]==c?r[7*d]=-1:r[7*d+1]=-1),this.AB(c,a),this.fl(c),f&&(r[7*a]=o==-1||r[7*o+2]!=-1?l:o)},x.prototype.NB=function(c,a){this.ob.S(c,3,a)},x}();h.Yj=N}(re||(re={})),function(h){var N=function(){function x(c,a){c!==void 0&&this.K(c,a)}return x.prototype.K=function(c,a){this.oa=c,this.va=a,this.normalize()},x.prototype.isIntersecting=function(c){return this.oa<=c.oa?this.va>=c.oa:c.va>=this.oa},x.prototype.move=function(c){this.B()||(this.oa+=c,this.va+=c)},x.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var c=this.oa;this.oa=this.va,this.va=c}isNaN(this.va)&&this.Oa()}},x.prototype.Oa=function(){this.va=this.oa=NaN},x.prototype.B=function(){return isNaN(this.oa)},x.prototype.Zb=function(c){typeof c=="number"?this.B()?this.va=this.oa=c:this.Lk(c):c.B()||(this.B()?(this.oa=c.oa,this.va=c.va):(this.oa>c.oa&&(this.oa=c.oa),this.va<c.va&&(this.va=c.va),this.oa>this.va&&this.Oa()))},x.prototype.Lk=function(c){c<this.oa?this.oa=c:c>this.va&&(this.va=c)},x.prototype.contains=function(c){return typeof c=="number"?c>=this.oa&&c<=this.va:c.oa>=this.oa&&c.va<=this.va},x.prototype.Ea=function(c){this.B()||c.B()?this.Oa():(this.oa<c.oa&&(this.oa=c.oa),this.va>c.va&&(this.va=c.va),this.oa>this.va&&this.Oa())},x.prototype.W=function(c){this.B()||(this.oa-=c,this.va+=c,this.va<this.oa&&this.Oa())},x.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},x.prototype.KB=function(c,a){c>a?(this.oa=a,this.va=c):(this.oa=c,this.va=a)},x.prototype.It=function(c){return h.O.Rk(c,this.oa,this.va)},x.prototype.R=function(){return this.va-this.oa},x.prototype.sf=function(){return .5*(this.oa+this.va)},x.prototype.Nb=function(c){return c==this||c instanceof x&&(!(!this.B()||!c.B())||this.oa==c.oa&&this.va==c.va)},x.prototype.cc=function(){return h.O.uj(h.O.uj())},x}();h.Nc=N}(re||(re={})),function(h){var N=new h.Nc,x=new h.Nc,c=function(){this.ne=null,this.pb=-1,this.sb=new h.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new h.Nc,this.Uf.KB(0,0)};h.IY=c;var a=function(){function r(o,l,d){this.g=o,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=l,this.Nq=10*l,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=d,this.TA=new c,this.YH=new c,h.O.truncate(3*o.fd/2)}return r.prototype.mG=function(o,l,d,f){o.ne=f===null?null:f[d[5*l]],o.Tv=o.ne!=null,o.Tv||((f=d[5*l+2])!==-1&&this.g.mW(d[5*l],d[5*f],o.sb),o.ne=o.sb,o.Uf.KB(o.sb.sa,o.sb.pa),o.Uf.va+=this.qa,o.sb.rI(),o.Vv=o.sb.la==o.sb.na,o.Vv||(o.qA=(o.sb.pa-o.sb.sa)/(o.sb.la-o.sb.na)))},r.prototype.OO=function(o,l){var d=o.zr(l,this.qa,!0);return d!=0?d==2?this.Qy():this.xi():(o.Yp(us),o.Tr(Xn),l.Yp(Sn),l.Tr(xo),Ni.ma(this.Kq,this.Hk),us.qb(Sn)&&this.Hk==us.y?0>Xn.compare(xo)?Ni.L(Xn):Ni.L(xo):us.qb(xo)&&this.Hk==us.y?0>Xn.compare(Sn)?Ni.L(Xn):Ni.L(Sn):Sn.qb(Xn)&&this.Hk==Sn.y?0>us.compare(xo)?Ni.L(us):Ni.L(xo):Xn.qb(xo)&&this.Hk==Xn.y&&(0>us.compare(Sn)?Ni.L(us):Ni.L(Sn)),o.Pe(Ni.y,Ni.x)<l.Pe(Ni.y,Ni.x)?-1:1)},r.prototype.MO=function(o,l){if(o.sb.na==l.sb.na&&o.sb.sa==l.sb.sa)return o.sb.la==l.sb.la&&o.sb.pa==l.sb.pa?this.gA?this.Qy():0:this.PE(o,l);if(o.sb.la==l.sb.la&&o.sb.pa==l.sb.pa)return this.OE(o,l);var d=this.OE(o,l);return o=this.PE(o,l),0>d&&0>o?-1:0<d&&0<o?1:this.xi()},r.prototype.IO=function(o,l){if(o.pa>l.pa){if(l.pa>l.sa&&l.la-l.na<2*this.qa&&o.vi(l.pa,l.la,this.qa))return this.xi()}else if((l.la-l.na)/(l.pa-l.sa)*(o.pa-o.sa)<this.Nq&&l.vi(o.pa,o.la,this.qa))return this.xi();return 1},r.prototype.JO=function(o,l){if(o.sa<l.sa){if(l.pa>l.sa&&l.la-l.na<2*this.qa&&o.vi(l.pa,l.la,this.qa))return this.xi()}else if((l.la-l.na)/(l.pa-l.sa)*(o.sa-o.pa)<this.Nq&&l.vi(o.sa,o.na,this.qa))return this.xi();return-1},r.prototype.KO=function(o,l){var d=new h.h;d.uc(l.wc(),l.ac()),d.ar(),d.normalize();var f=new h.h;f.uc(o.ac(),l.ac());var m=new h.h;m.uc(o.wc(),l.ac()),f=f.Qh(d),d=m.Qh(d),m=Math.abs(f);var b=Math.abs(d);if(m<b){if(m<this.Nq&&l.vi(o.sa,o.na,this.qa))return this.xi()}else if(b<this.Nq&&l.vi(o.pa,o.la,this.qa))return this.xi();return 0>f&&0>d?-1:0<f&&0<d?1:this.xi()},r.prototype.NE=function(o,l){return o.na==l.na&&o.sa==l.sa?this.IO(o,l):o.la==l.la&&o.pa==l.pa?this.JO(o,l):this.KO(o,l)},r.prototype.LO=function(o,l){return o.la==l.la&&o.pa==l.pa&&o.na==l.na&&o.sa==l.sa?this.gA?this.Qy():0:this.xi()},r.prototype.OE=function(o,l){var d=1;if(o.sb.na<l.sb.na){d=-1;var f=o;o=l,l=f}o=o.sb,f=l.sb;var m=o.sa-f.sa;l=l.qA*(o.na-f.na);var b=this.Nq;return m<l-b?-d:m>l+b?d:f.vi(o.sa,o.na,this.qa)?this.xi():m<l?-d:d},r.prototype.PE=function(o,l){var d=1;if(l.sb.la<o.sb.la){d=-1;var f=o;o=l,l=f}o=o.sb,f=l.sb;var m=o.pa-f.sa;l=l.qA*(o.la-f.na);var b=this.Nq;return m<l-b?-d:m>l+b?d:f.vi(o.pa,o.la,this.qa)?this.xi():m<l?-d:d},r.prototype.Qy=function(){return this.rg=!0,this.Ni=new h.Md(5,this.Lo,this.gt),-1},r.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new h.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},r.prototype.NO=function(o,l,d,f){if(this.rg)return-1;var m=this.OH==this.Hk&&this.NH==this.Kq;if(m&&o==this.Ws)var b=this.PH;else b=NaN,this.Ws=-1;return m&&l==this.Xs?m=this.QH:(m=NaN,this.Xs=-1),d.ne.ZI(N),f.ne.ZI(x),N.va<x.oa?-1:x.va<N.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(b)&&(this.Ws=o,this.PH=b=o=d.ne.Pe(this.Hk,this.Kq)),isNaN(m)&&(this.Xs=l,this.QH=m=o=f.ne.Pe(this.Hk,this.Kq)),Math.abs(b-m)<=this.qa?this.OO(d.ne,f.ne):b<m?-1:b>m?1:0)},r.prototype.Kr=function(){this.rg=!1},r.prototype.rm=function(){return this.Ni},r.prototype.$J=function(o,l){this.Hk=o,this.Kq=l,this.gt=this.Lo=this.Xs=this.Ws=-1},r.prototype.compare=function(o,l,d){return this.rg?-1:(o=o.ja(d),this.Dm=d,this.RE(l,l,o,o))},r.prototype.RE=function(o,l,d,f){if(this.Lo==l)var m=this.TA;else this.Lo=l,m=this.TA,this.TA.pb=o,this.mG(m,l,this.g.td.o,this.g.We);if(b==null){this.gt=f;var b=this.YH;this.YH.pb=d,this.mG(b,f,this.g.td.o,this.g.We)}return m.Tv||b.Tv?this.NO(l,f,m,b):m.Uf.va<b.Uf.oa?-1:b.Uf.va<m.Uf.oa?1:(o=m.Vv?1:0,(o|=b.Vv?2:0)==0?this.MO(m,b):o==1?this.NE(m.sb,b.sb):o==2?-1*this.NE(b.sb,m.sb):this.LO(m.sb,b.sb))},r}();h.UC=a}(re||(re={})),function(h){var N=function(){function x(c,a){this.g=c,this.qa=a,this.rg=!1,this.Lo=-1,this.Uf=new h.Nc,this.Gq=new h.h,this.Gq.Rc(),this.ie=new h.yb,this.Dm=-1,this.BA=17976931348623157e292}return x.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},x.prototype.Dh=function(c){this.Gq.L(c)},x.prototype.compare=function(c,a){return this.SE(a,c.ja(a))},x.prototype.SE=function(c,a){var r=this.g.bc(a)!=null;if(r||(this.g.ed(a,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),r)throw h.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=c,this.rg=!0,0;this.ie.rI(),r=this.ie.ac(),(a=new h.h).uc(this.ie.wc(),r),a.ar();var o=new h.h;return o.uc(this.Gq,r),r=a.Qh(o),(r/=a.length())<10*-this.qa?-1:r>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((a=Math.abs(r))<this.BA&&(this.Dm=c,this.BA=a),this.rg=!0,a<.25*this.qa)?0:0>r?-1:1},x}();h.aM=N}(re||(re={})),function(h){function N(c,a,r,o){r=new Float64Array(c.subarray(r,o)),c.set(r,a)}var x=function(){function c(a){this.Pb=this.pk=!1,this.o=null;var r=a;2>r&&(r=2),this.o=new Float64Array(r),this.size=a}return c.prototype.rotate=function(a,r,o){if(this.Pb)throw h.i.fa("invalid_call");if(r<a||r>o||a>o)throw h.i.N();a!=r&&o!=r&&(this.ni(a,r-a,1),this.ni(r,o-r,1),this.ni(a,o-a,1))},c.qf=function(a,r){var o=new c(a),l=o.o;if(2>a&&(a=2),r!==0)for(var d=0;d<a;d++)l[d]=r;return o},c.Bn=function(a){var r=new c(0);return r.o=new Float64Array(a.o),r.size=a.size,r},c.Lr=function(a,r){var o=new c(0);return o.size=a.size,o.size>r&&(o.size=r),2>(r=o.size)&&(r=2),o.o=new Float64Array(r),o.o.set(a.o.length<=r?a.o:a.o.subarray(0,r),0),o},c.prototype.Jb=function(a){0>=a||(this.o==null?this.o=new Float64Array(a):a<=this.o.length||(0<this.o.length?((a=new Float64Array(a)).set(this.o),this.o=a):this.o=new Float64Array(a)))},c.prototype.read=function(a){return this.o[a]},c.prototype.tc=function(a,r){r.x=this.o[a],r.y=this.o[a+1]},c.prototype.get=function(a){return this.o[a]},c.prototype.write=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r},c.prototype.set=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r},c.prototype.Tt=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r.x,this.o[a+1]=r.y},c.prototype.add=function(a){this.resize(this.size+1),this.o[this.size-1]=a},c.prototype.GB=function(a){return c.Lr(this,a)},c.prototype.eg=function(a){return this.read(a)},c.prototype.resize=function(a,r){if(r===void 0&&(r=0),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var o=new Float64Array(this.o,0,a);this.o=o}}else{a>this.o.length&&(o=h.O.truncate(64>a?Math.max(2*a,4):5*a/4),(o=new Float64Array(o)).set(this.o),this.o=o),o=this.o;for(var l=this.size;l<a;l++)o[l]=r}this.size=a},c.prototype.Bh=function(a){if((this.o==null||a>this.o.length)&&this.resize(a),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a},c.prototype.pr=function(a,r){this.write(a,r)},c.prototype.An=function(a,r,o){for(var l=this.size;r<l&&r<o;r++)a=h.O.uj(this.read(r));return a},c.prototype.Nb=function(a,r,o){if(a==null||!(a instanceof c))return!1;var l=this.size,d=a.size;if(o>l||o>d&&l!=d)return!1;for(o>l&&(o=l);r<o;r++)if(this.read(r)!=a.read(r))return!1;return!0},c.prototype.addRange=function(a,r,o,l,d){if(this.Pb)throw h.i.Hb();if(!l&&(1>d||o%d!=0))throw h.i.N();var f=this.size;if(this.resize(f+o),l)this.o.set(a.o.subarray(r,r+o),f);else{l=o;for(var m=0;m<o;m+=d){l-=d;for(var b=0;b<d;b++)this.o[f+m+b]=a.o[r+l+b]}}},c.prototype.Mn=function(a,r,o,l,d,f,m){if(this.Pb)throw h.i.Hb();if(!d&&(1>f||l%f!=0))throw h.i.N();var b=this.size-m;if(b<l&&this.resize(this.size+l-b),N(this.o,a+l,a,a+(m-a)),this.o==r.o&&a<o&&(o+=l),d)this.o.set(r.o.subarray(o,o+l),a);else for(d=l,m=0;m<l;m+=f)for(d-=f,b=0;b<f;b++)this.o[a+m+b]=r.o[o+d+b]},c.prototype.Iz=function(a,r,o,l,d,f){if(this.Pb)throw h.i.Hb();if(0>f&&(f=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,N(this.o,a+2*l,a,a+(f-a)),d)for(d=0;d<l;d++)f=r[o++],this.o[a++]=f.x,this.o[a++]=f.y;else{d=0;for(var m=l-1;d<l;++d)f=r[o+m],this.o[a++]=f.x,this.o[a++]=f.y,m--}},c.prototype.Ln=function(a,r,o,l){if(this.Pb)throw h.i.Hb();for(l-=a,N(this.o,a+l,a,a+l),l=0;l<o;l++)this.o[a+l]=r},c.prototype.vj=function(a,r,o){if(this.Pb)throw h.i.Hb();N(this.o,a+2,a,a+(o-a)),this.o[a]=r.x,this.o[a+1]=r.y},c.prototype.Ut=function(a,r,o,l,d,f){if(0>a||0>r||0>l||!d&&(0>=f||r%f!=0)||o.size<l+r)throw h.i.N();if(r!=0)if(this.size<r+a&&this.resize(r+a),o==this)this.Ar(a,r,l,d,f);else if(d)for(d=0;d<r;d++)this.o[a]=o.o[l],a++,l++;else if(l=l+r-f,f==1)for(d=0;d<r;d++)this.o[a]=o.o[l],a++,l--;else for(d=0,r=h.O.truncate(r/f);d<r;d++){for(var m=0;m<f;m++)this.o[a+m]=o.o[l+m];a+=f,l-=f}},c.prototype.En=function(a,r,o){if(this.Pb||a+r>this.size)throw h.i.Hb();0<o-(a+r)&&N(this.o,a,a+r,a+(o-(a+r))+r),this.size-=r},c.prototype.ni=function(a,r,o){if(this.Pb||1>o||r%o!=0)throw h.i.Hb();for(var l=r>>1,d=0;d<l;d+=o){r-=o;for(var f=0;f<o;f++){var m=this.o[a+d+f];this.o[a+d+f]=this.o[a+r+f],this.o[a+r+f]=m}}},c.prototype.Wj=function(a,r,o){if(0>r||0>o||0>r||o+r>this.size)throw h.i.N();for(var l=r;l<r+o;l++)this.o[l]=a},c.prototype.Ar=function(a,r,o,l,d){if(!(l&&a==o||(this.o.set(this.o.subarray(o,o+r),a),l)))for(o=a,a=a+r-d,l=0,r=h.O.truncate(r/2);l<r;l++){for(var f=0;f<d;f++){var m=this.o[o+f];this.o[o+f]=this.o[a+f],this.o[a+f]=m}o+=d,a-=d}},c.prototype.vC=function(a,r,o,l,d){if(0>a||0>r||0>l)throw h.i.N();if(r!=0)for(this.size<(r<<1)+a&&this.resize((r<<1)+a),d||(a+=r-1<<1),d=d?2:-2,r+=l;l<r;l++)this.o[a]=o[l].x,this.o[a+1]=o[l].y,a+=d},c.prototype.uC=function(a,r,o){if(0>a||0>r)throw h.i.N();if(r!=0){this.size<(r<<1)+a&&this.resize((r<<1)+a),r+=0;for(var l=0;l<r;l++)this.o[a]=o[l][0],this.o[a+1]=o[l][1],a+=2}},c.prototype.Vw=function(a,r,o,l,d){if(0>a||0>r||0>l||this.size<r+a)throw h.i.N();if(d)for(d=0;d<r;d++)o[l+d]=this.o[a+d];else for(l=l+r-1;a<r;a++)o[l]=this.o[a],l--},c.prototype.uB=function(a,r,o){if(0>a||0>r||this.size<(r>>1)+a)throw h.i.N();if(r!=0){r=0+r;for(var l=0;l<r;l++)o[l][0]=this.o[a],o[l][1]=this.o[a+1],a+=2}},c.prototype.clear=function(a){a?this.resize(0):this.Bh(0)},c.prototype.ix=function(){this.pk=this.Pb=!0},c.prototype.Vd=function(a,r,o){Array.prototype.sort.call(this.o.subarray(a,r),o)},c.prototype.Tp=function(){return 1},c}();h.be=x}(re||(re={})),function(h){function N(c,a,r,o){r=new Int32Array(c.subarray(r,o)),c.set(r,a)}h.rY=function(){this.random=1973};var x=function(){function c(a){this.Pb=this.pk=!1,this.o=null;var r=a;2>r&&(r=2),this.o=new Int32Array(r),this.size=a}return c.prototype.rotate=function(a,r,o){if(this.Pb)throw h.i.fa("invalid_call");if(r<a||r>o||a>o)throw h.i.N();a!=r&&o!=r&&(this.ni(a,r-a,1),this.ni(r,o-r,1),this.ni(a,o-a,1))},c.qf=function(a,r){var o=new c(a),l=o.o;if(2>a&&(a=2),r!==0)for(var d=0;d<a;d++)l[d]=r;return o},c.Bn=function(a){var r=new c(0);return r.o=new Int32Array(a.o),r.size=a.size,r},c.Lr=function(a,r){var o=new c(0);return o.size=a.size,o.size>r&&(o.size=r),2>(r=o.size)&&(r=2),o.o=new Int32Array(r),o.o.set(a.o.length<=r?a.o:a.o.subarray(0,r),0),o},c.prototype.Jb=function(a){0>=a||(this.o==null?this.o=new Int32Array(a):a<=this.o.length||(0<this.o.length?((a=new Int32Array(a)).set(this.o),this.o=a):this.o=new Int32Array(a)))},c.prototype.read=function(a){return this.o[a]},c.prototype.tc=function(a,r){r.x=this.o[a],r.y=this.o[a+1]},c.prototype.get=function(a){return this.o[a]},c.prototype.write=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r},c.prototype.set=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r},c.prototype.Tt=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r.x,this.o[a+1]=r.y},c.prototype.add=function(a){this.resize(this.size+1),this.o[this.size-1]=a},c.prototype.GB=function(a){return c.Lr(this,a)},c.prototype.eg=function(a){return this.read(a)},c.prototype.resize=function(a,r){if(r===void 0&&(r=0),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var o=new Int32Array(this.o,0,a);this.o=o}}else{a>this.o.length&&(o=h.O.truncate(64>a?Math.max(2*a,4):5*a/4),(o=new Int32Array(o)).set(this.o),this.o=o),o=this.o;for(var l=this.size;l<a;l++)o[l]=r}this.size=a},c.prototype.Bh=function(a){if((this.o==null||a>this.o.length)&&this.resize(a),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a},c.prototype.pr=function(a,r){this.write(a,r)},c.prototype.An=function(a,r,o){for(var l=this.size;r<l&&r<o;r++)a=h.O.Th(this.read(r),a);return a},c.prototype.Nb=function(a,r,o){if(a==null||!(a instanceof c))return!1;var l=this.size,d=a.size;if(o>l||o>d&&l!=d)return!1;for(o>l&&(o=l);r<o;r++)if(this.read(r)!=a.read(r))return!1;return!0},c.prototype.addRange=function(a,r,o,l,d){if(this.Pb)throw h.i.Hb();if(!l&&(1>d||o%d!=0))throw h.i.N();var f=this.size;if(this.resize(f+o),l)this.o.set(a.o.subarray(r,r+o),f);else{l=o;for(var m=0;m<o;m+=d){l-=d;for(var b=0;b<d;b++)this.o[f+m+b]=a.o[r+l+b]}}},c.prototype.Mn=function(a,r,o,l,d,f,m){if(this.Pb)throw h.i.Hb();if(!d&&(1>f||l%f!=0))throw h.i.N();if(N(this.o,a+l,a,a+(m-a)),this.o==r.o&&a<o&&(o+=l),d)this.o.set(r.o.subarray(o,o+l),a);else for(d=l,m=0;m<l;m+=f){d-=f;for(var b=0;b<f;b++)this.o[a+m+b]=r.o[o+d+b]}},c.prototype.Iz=function(a,r,o,l,d,f){if(this.Pb)throw h.i.Hb();if(0>f&&(f=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,N(this.o,a+2*l,a,a+(f-a)),d)for(d=0;d<l;d++)f=r[o++],this.o[a++]=f.x,this.o[a++]=f.y;else{d=0;for(var m=l-1;d<l;++d)f=r[o+m],this.o[a++]=f.x,this.o[a++]=f.y,m--}},c.prototype.Ln=function(a,r,o,l){if(this.Pb)throw h.i.Hb();for(l-=a,N(this.o,a+l,a,a+l),l=0;l<o;l++)this.o[a+l]=r},c.prototype.vj=function(a,r,o){if(this.Pb)throw h.i.Hb();N(this.o,a+2,a,a+(o-a)),this.o[a]=r.x,this.o[a+1]=r.y},c.prototype.Ut=function(a,r,o,l,d,f){if(0>a||0>r||0>l||!d&&(0>=f||r%f!=0)||o.size<l+r)throw h.i.N();if(r!=0)if(this.size<r+a&&this.resize(r+a),o==this)this.Ar(a,r,l,d,f);else if(d)for(d=0;d<r;d++)this.o[a]=o.o[l],a++,l++;else if(l=l+r-f,f==1)for(d=0;d<r;d++)this.o[a]=o.o[l],a++,l--;else for(d=0,r=h.O.truncate(r/f);d<r;d++){for(var m=0;m<f;m++)this.o[a+m]=o.o[l+m];a+=f,l-=f}},c.prototype.En=function(a,r,o){if(this.Pb||a+r>this.size)throw h.i.Hb();0<o-(a+r)&&N(this.o,a,a+r,a+(o-(a+r))+r),this.size-=r},c.prototype.ni=function(a,r,o){if(this.Pb||1>o||r%o!=0)throw h.i.Hb();for(var l=r>>1,d=0;d<l;d+=o){r-=o;for(var f=0;f<o;f++){var m=this.o[a+d+f];this.o[a+d+f]=this.o[a+r+f],this.o[a+r+f]=m}}},c.prototype.Wj=function(a,r,o){if(0>r||0>o||0>r||o+r>this.size)throw h.i.N();for(var l=r;l<r+o;l++)this.o[l]=a},c.prototype.Ar=function(a,r,o,l,d){if(!(l&&a==o||(this.o.set(this.o.subarray(o,o+r),a),l)))for(o=a,a=a+r-d,l=0,r=h.O.truncate(r/2);l<r;l++){for(var f=0;f<d;f++){var m=this.o[o+f];this.o[o+f]=this.o[a+f],this.o[a+f]=m}o+=d,a-=d}},c.prototype.vC=function(a,r,o,l,d){if(0>a||0>r||0>l)throw h.i.N();if(r!=0)for(this.size<(r<<1)+a&&this.resize((r<<1)+a),d||(a+=r-1<<1),d=d?2:-2,r+=l;l<r;l++)this.o[a]=o[l].x,this.o[a+1]=o[l].y,a+=d},c.prototype.Vw=function(a,r,o,l,d){if(0>a||0>r||0>l||this.size<r+a)throw h.i.N();if(d)for(d=0;d<r;d++)o[l+d]=this.o[a+d];else for(l=l+r-1;a<r;a++)o[l]=this.o[a],l--},c.prototype.clear=function(a){a?this.resize(0):this.Bh(0)},c.prototype.ix=function(){this.pk=this.Pb=!0},c.prototype.Vd=function(a,r,o){10>r-a?c.rG(this.o,a,r,o):c.qB(this.o,a,r-1,o)},c.prototype.Tp=function(){return 2},c.prototype.Fc=function(){return this.o[this.size-1]},c.prototype.If=function(){this.resize(this.size-1)},c.prototype.bX=function(a){this.o[this.size-1]=a},c.prototype.SV=function(a){a<this.size-1&&(this.o[a]=this.o[this.size-1]),this.resize(this.size-1)},c.prototype.lF=function(a){for(var r=0,o=this.size;r<o;r++)if(this.o[r]==a)return r;return-1},c.prototype.hG=function(a){return 0<=this.lF(a)},c.rG=function(a,r,o,l){for(var d=r;d<o;d++){for(var f=a[d],m=d-1;m>=r&&0<l(a[m],f);)a[m+1]=a[m],m--;a[m+1]=f}},c.tx=function(a,r,o){var l=a[o];a[o]=a[r],a[r]=l},c.qB=function(a,r,o,l){if(!(r>=o))for(;;){if(9>o-r){c.rG(a,r,o+1,l);break}var d=a[r];c.tx(a,r,o);for(var f=r,m=r;m<o;m++)0>=l(a[m],d)&&(c.tx(a,f,m),f+=1);c.tx(a,f,o),f-r<o-f?(c.qB(a,r,f-1,l),r=f+1):(c.qB(a,f+1,o,l),o=f-1)}},c}();h.ia=x}(re||(re={})),function(h){function N(c,a,r,o){r=new Int8Array(c.subarray(r,o)),c.set(r,a)}var x=function(){function c(a){this.o=null;var r=a;2>r&&(r=2),this.o=new Int8Array(r),this.size=a}return c.prototype.rotate=function(a,r,o){if(this.Pb)throw h.i.fa("invalid_call");if(r<a||r>o||a>o)throw h.i.N();a!=r&&o!=r&&(this.ni(a,r-a,1),this.ni(r,o-r,1),this.ni(a,o-a,1))},c.qf=function(a,r){var o=new c(a),l=o.o;if(2>a&&(a=2),r!==0)for(var d=0;d<a;d++)l[d]=r;return o},c.Bn=function(a){var r=new c(0);return r.o=new Int8Array(a.o),r.size=a.size,r},c.Lr=function(a,r){var o=new c(0);return o.size=a.size,o.size>r&&(o.size=r),2>(r=o.size)&&(r=2),o.o=new Int8Array(r),o.o.set(a.o.length<=r?a.o:a.o.subarray(0,r),0),o},c.prototype.Jb=function(a){0>=a||(this.o==null?this.o=new Int8Array(a):a<=this.o.length||(0<this.o.length?((a=new Int8Array(a)).set(this.o),this.o=a):this.o=new Int8Array(a)))},c.prototype.read=function(a){return this.o[a]},c.prototype.tc=function(a,r){r.x=this.o[a],r.y=this.o[a+1]},c.prototype.get=function(a){return this.o[a]},c.prototype.write=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r},c.prototype.set=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r},c.prototype.Tt=function(a,r){if(this.Pb)throw h.i.Hb();this.o[a]=r.x,this.o[a+1]=r.y},c.prototype.add=function(a){this.resize(this.size+1),this.o[this.size-1]=a},c.prototype.GB=function(a){return c.Lr(this,a)},c.prototype.eg=function(a){return this.read(a)},c.prototype.resize=function(a,r){if(r===void 0&&(r=0),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var o=new Int8Array(this.o,0,a);this.o=o}}else{a>this.o.length&&(o=h.O.truncate(64>a?Math.max(2*a,4):5*a/4),(o=new Int8Array(o)).set(this.o),this.o=o),o=this.o;for(var l=this.size;l<a;l++)o[l]=r}this.size=a},c.prototype.Bh=function(a){if((this.o==null||a>this.o.length)&&this.resize(a),this.pk)throw h.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a},c.prototype.pr=function(a,r){this.write(a,r)},c.prototype.An=function(a,r,o){for(var l=this.size;r<l&&r<o;r++)a=h.O.Th(this.read(r),a);return a},c.prototype.Nb=function(a,r,o){if(a==null||!(a instanceof c))return!1;var l=this.size,d=a.size;if(o>l||o>d&&l!=d)return!1;for(o>l&&(o=l);r<o;r++)if(this.read(r)!=a.read(r))return!1;return!0},c.prototype.addRange=function(a,r,o,l,d){if(this.Pb)throw h.i.Hb();if(!l&&(1>d||o%d!=0))throw h.i.N();var f=this.size;if(this.resize(f+o),l)this.o.set(a.o.subarray(r,r+o),f);else{l=o;for(var m=0;m<o;m+=d){l-=d;for(var b=0;b<d;b++)this.o[f+m+b]=a.o[r+l+b]}}},c.prototype.Mn=function(a,r,o,l,d,f,m){if(this.Pb)throw h.i.Hb();if(!d&&(1>f||l%f!=0))throw h.i.N();if(N(this.o,a+l,a,a+(m-a)),this.o==r.o&&a<o&&(o+=l),d)this.o.set(r.o.subarray(o,o+l),a);else for(d=l,m=0;m<l;m+=f){d-=f;for(var b=0;b<f;b++)this.o[a+m+b]=r.o[o+d+b]}},c.prototype.Ln=function(a,r,o,l){if(this.Pb)throw h.i.Hb();for(l-=a,N(this.o,a+l,a,a+l),l=0;l<o;l++)this.o[a+l]=r},c.prototype.Iz=function(a,r,o,l,d,f){if(this.Pb)throw h.i.Hb();if(0>f&&(f=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,N(this.o,a+2*l,a,a+(f-a)),d)for(d=0;d<l;d++)f=r[o++],this.o[a++]=f.x,this.o[a++]=f.y;else{d=0;for(var m=l-1;d<l;++d)f=r[o+m],this.o[a++]=f.x,this.o[a++]=f.y,m--}},c.prototype.vj=function(a,r,o){if(this.Pb)throw h.i.Hb();N(this.o,a+2,a,a+(o-a)),this.o[a]=r.x,this.o[a+1]=r.y},c.prototype.Ut=function(a,r,o,l,d,f){if(0>a||0>r||0>l||!d&&(0>=f||r%f!=0)||o.size<l+r)throw h.i.N();if(r!=0)if(this.size<r+a&&this.resize(r+a),o==this)this.Ar(a,r,l,d,f);else if(d)for(d=0;d<r;d++)this.o[a]=o.o[l],a++,l++;else if(l=l+r-f,f==1)for(d=0;d<r;d++)this.o[a]=o.o[l],a++,l--;else for(d=0,r=h.O.truncate(r/f);d<r;d++){for(var m=0;m<f;m++)this.o[a+m]=o.o[l+m];a+=f,l-=f}},c.prototype.En=function(a,r,o){if(this.Pb||a+r>this.size)throw h.i.Hb();0<o-(a+r)&&N(this.o,a,a+r,a+(o-(a+r))+r),this.size-=r},c.prototype.ni=function(a,r,o){if(this.Pb||1>o||r%o!=0)throw h.i.Hb();for(var l=r>>1,d=0;d<l;d+=o){r-=o;for(var f=0;f<o;f++){var m=this.o[a+d+f];this.o[a+d+f]=this.o[a+r+f],this.o[a+r+f]=m}}},c.prototype.Wj=function(a,r,o){if(0>r||0>o||0>r||o+r>this.size)throw h.i.N();for(var l=r;l<r+o;l++)this.o[l]=a},c.prototype.Ar=function(a,r,o,l,d){if(!(l&&a==o||(this.o.set(this.o.subarray(o,o+r),a),l)))for(o=a,a=a+r-d,l=0,r=h.O.truncate(r/2);l<r;l++){for(var f=0;f<d;f++){var m=this.o[o+f];this.o[o+f]=this.o[a+f],this.o[a+f]=m}o+=d,a-=d}},c.prototype.vC=function(a,r,o,l,d){if(0>a||0>r||0>l)throw h.i.N();if(r!=0)for(this.size<(r<<1)+a&&this.resize((r<<1)+a),d||(a+=r-1<<1),d=d?2:-2,r+=l;l<r;l++)this.o[a]=o[l].x,this.o[a+1]=o[l].y,a+=d},c.prototype.Vw=function(a,r,o,l,d){if(0>a||0>r||0>l||this.size<r+a)throw h.i.N();if(d)for(d=0;d<r;d++)o[l+d]=this.o[a+d];else for(l=l+r-1;a<r;a++)o[l]=this.o[a],l--},c.prototype.clear=function(a){a?this.resize(0):this.Bh(0)},c.prototype.ix=function(){this.pk=this.Pb=!0},c.prototype.Vd=function(a,r,o){r=this.o.subarray(a,r),Array.prototype.sort.call(r,o),this.o.set(r,a)},c.prototype.zJ=function(a,r){if(this.Pb)throw h.i.fa("invalid call. Attribute Stream is read only.");this.o[a]|=r},c.prototype.KE=function(a,r){if(this.Pb)throw h.i.fa("invalid call. Attribute Stream is read only.");this.o[a]&=~r},c.prototype.Tp=function(){return 1},c}();h.pn=x}(re||(re={})),function(h){h.Yc=function(){function N(){}return N.Mr=function(x,c){return h.pn.qf(x,c)},N.Dn=function(x,c){return h.be.qf(x,c)},N.pP=function(x,c,a){switch(x){case 1:x=h.be.qf(c,a);break;case 2:x=h.ia.qf(c,a);break;case 4:x=h.pn.qf(c,a);break;default:throw h.i.Qa()}return x},N.YE=function(x,c){return N.pP(h.ra.Tp(x),c*h.ra.Va(x),h.ra.se(x))},N.Oh=function(x,c){return h.ia.qf(x,c)},N.qI=function(x){var c,a=[];for(c=0;c<x;c++)a.push(null);return a},N}()}(re||(re={})),function(h){h.ga=function(N){N===void 0&&(N=0),this.u=N}}(re||(re={})),function(h){h.NL=function(){function N(){}return N.bind=function(x){h.Sc=x.PeDefs,h.pf=x.PeFactory,h.NC=x.PeVertcs,h.ej=x.PeCSTransformations,h.MC=x.PeGTTransformations,h.LL=x.PeGeogtran,h.KL=x.PeFactoryCodechange,h.LC=x.PeGCSExtent,h.Cg=x.PePCSInfo,h.ML=x.PeHorizon,h.JL=x.PeCoordsys,h.lp=x.PeGTlistExtended,h.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,h.pf.initialize(null),h.Mx=x.PeGTlistExtendedEntry,h.pf.fromString(h.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},N}(),h.pf=null,h.NC=null,h.JL=null,h.ML=null,h.Cg=null,h.lp=null,h.Mx=null,h.LC=null,h.KL=null,h.LL=null,h.Sc=null,h.MC=null,h.ej=null}(re||(re={})),function(h){var N=function(){function x(){}return x.Mb=function(c,a){return 0<=a?x.P(c):-x.P(c)},x.P=function(c){return 0>c?-c:c},x.ti=function(c){return 3552713678800501e-30>c},x.KC=function(c,a,r){return x.P(c-a)<=r*(1+(x.P(c)+x.P(a))/2)},x.Y=function(c,a){return x.KC(c,a,3552713678800501e-30)},x.FL=function(c){return 3552713678800501e-30>=x.P(c)},x.Cd=function(c){return x.FL(c)},x}();h.s=N,h.F=function(){function x(){}return x.gp=function(c,a){var r=0;return(c=N.P(c))+(a=N.P(a))!=0&&(c>a?(r=a/c,r=c*Math.sqrt(1+r*r)):(r=c/a,r=a*Math.sqrt(1+r*r))),r},x.Wq=function(c,a,r,o,l){for(var d=[0,0,0],f=[0,0,0],m=0;2>=m;m++)a[m]-=c[m],r[m]-=a[m];r=d[1]*f[2]-d[2]*f[1],a=d[2]*f[0]-d[0]*f[2],d=d[0]*f[1]-d[1]*f[0],c=-1*(r*c[0]+a*c[1]+d*c[2]),o[0]=r,o[1]=a,o[2]=d,o[3]=c,f=x.on(o),o[0]/=f,o[1]/=f,o[2]/=f,o[3]/=f,l!=0&&(f=N.Cd(d)?N.Cd(c)?N.Mb(1,a):-N.Mb(1,c):N.Mb(1,d),f*=N.Mb(1,l),o[0]*=f,o[1]*=f,o[2]*=f,o[3]*=f)},x.zx=function(c,a,r){r[0]=c[1]*a[2]-a[1]*c[2],r[1]=c[2]*a[0]-a[2]*c[0],r[2]=c[0]*a[1]-a[0]*c[1]},x.St=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]},x.on=function(c){return x.gp(x.gp(c[0],c[1]),c[2])},x.cl=function(c,a,r,o,l,d,f,m){c=x.n(c,a,r);var b=Math.cos(r);d.u=(c+l)*b*Math.cos(o),f.u=(c+l)*b*Math.sin(o),m.u=(c*(1-a)+l)*Math.sin(r)},x.jO=function(c,a,r,o,l,d,f){var m=x.gp(a,r),b=1*Math.sqrt(1-c),_=b/1;if(N.Y(m,0))d.u=0,l.u=N.Mb(1.570796326794897,o),f.u=N.P(o)-b;else{d.u=Math.atan2(r,a),r=Math.atan2(1*o,b*m),d=Math.cos(r);var $=Math.sin(r);a=b*c/(1-c),c*=1,r=Math.atan2(o+a*$*$*$,m-c*d*d*d),3.141592653589793<N.P(r)&&(r=N.Mb(3.141592653589793,r)-r),r=Math.atan(_*Math.tan(r)),$=Math.sin(r),d=Math.cos(r),l.u=Math.atan2(o+a*$*$*$,m-c*d*d*d),1.570796326794897<N.P(l.u)&&(l.u=N.Mb(3.141592653589793,l.u)-l.u),r=Math.atan(_*Math.tan(l.u)),$=Math.sin(r),d=Math.cos(r),f.u=(o-b*$)*Math.sin(l.u)+(m-1*d)*Math.cos(l.u)}},x.n=function(c,a,r){return r=Math.sin(r),c/Math.sqrt(1-a*r*r)},x.ot=function(c,a){return Math.atan2(Math.sin(a)*(1-c),Math.cos(a))},x.Qj=function(c,a){return Math.atan2(Math.sin(a),Math.cos(a)*(1-c))},x.Rq=function(c,a){if(N.ti(c)||a==0||N.Y(N.P(a),1.570796326794897))return a;if(.006884661117170036>c){var r=Math.sqrt(1-c),o=(1-r)/(1+r),l=o*o,d=o*l,f=o*d,m=o*f,b=o*m,_=o*b,$=1.572916666666667*d-3.2578125*m+4.295068359375*_;c=2.142578125*f-6.071484375*b,r=3.129296875*m-11.249837239583334*_;var C=4.775276692708333*b,P=7.958636765252976*_,L=Math.cos(2*a);return a+Math.sin(2*a)*(1.5*o-.84375*d+.525390625*m-.2688395182291667*_-$+r-P+L*(2*(1.3125*l-1.71875*f+1.650146484375*b)-4*c+6*C+L*(4*$-12*r+24*P+L*(8*c-32*C+L*(16*r-80*P+L*(32*C+64*L*P))))))}for(r=1-c,o=c/2,d=(l=N.P(a))*x.Zu(c)/(1.570796326794897*r),f=9999,b=l,l=0;1e-16<f&&50>l;l++)_=x.w(c,b),m=b-($=(m=(x.kG(b,c)-o*Math.sin(2*b)/_)/r-d)/(_=1/(_*_*_))),f=N.P($),b=m;return 0<=a?b:-b},x.qW=function(c,a){return N.ti(a)?c:c*x.Zu(a)/1.570796326794897},x.ba=function(c){return 0>(c=x.pF(c,6.283185307179586))?c+6.283185307179586:3.141592653589793>N.P(c)||N.Y(N.P(c),3.141592653589793)?c:c-6.283185307179586},x.pF=function(c,a){return c-Math.floor(c/a)*a},x.Ah=function(c,a){if(.006884661117170036>a){var r=(a=(1-(a=Math.sqrt(1-a)))/(1+a))*a,o=r*r;return c/(1+a)*(1+.25*r+.015625*o+.00390625*r*o)*1.570796326794897}return c*x.Zu(a)},x.Vq=function(c,a){var r=N.Mb(1,Math.sin(a));return a=1.570796326794897>=(a=N.P(x.pF(a,3.141592653589793)))?a:3.141592653589793-a,(N.Y(a,1.570796326794897)?a:Math.atan(Math.sqrt(1-c)*Math.tan(a)))*r},x.q=function(c,a,r){if(.006884661117170036>a){var o=(a=(1-(a=Math.sqrt(1-a)))/(1+a))*a,l=a*o,d=a*l,f=a*d,m=a*f,b=a*m,_=-.7291666666666666*l+.2278645833333333*f+.03987630208333334*b,$=.615234375*d-.21533203125*m,C=-.54140625*f+.20302734375*b,P=.48876953125*m,L=-.4488699776785715*b,V=Math.cos(2*r);return c/(1+a)*((1+.25*o+.015625*d+.00390625*m)*r+Math.sin(2*r)*(-1.5*a+.1875*l+.0234375*f+.00732421875*b-_+C-L+V*(2*(.9375*o-.234375*d-.03662109375*m)-4*$+6*P+V*(4*_-12*C+24*L+V*(8*$-32*P+V*(16*C-80*L+V*(32*P+64*V*L)))))))}return c*(x.kG(r,a)-.5*a*Math.sin(2*r)/x.w(a,r))},x.w=function(c,a){return a=Math.sin(a),Math.sqrt(1-c*a*a)},x.Zu=function(c){return N.KC(c,1,2220446049250313e-31)?1:1>c?x.Xw(0,1-c)-c/3*x.Uw(0,1-c):NaN},x.kG=function(c,a){var r=N.Mb(1,c);c=N.P(c);var o=Math.floor(c/1.570796326794897);if(1<a)a=c==0?0:NaN;else if(N.Cd(o))a=(c=x.sin(c))*x.Xw(1-c*c,1-a*c*c)-a/3*c*c*c*x.Uw(1-c*c,1-a*c*c);else{var l=h.O.truncate(o%2),d=x.Zu(a);0<l?(c=1.570796326794897*(o+1)-c,a=d*(o+1)-(a=(c=Math.sin(c))*x.Xw(1-c*c,1-a*c*c)-a/3*c*c*c*x.Uw(1-c*c,1-a*c*c))):(c-=1.570796326794897*o,a=d*o+(a=(c=Math.sin(c))*x.Xw(1-c*c,1-a*c*c)-a/3*c*c*c*x.Uw(1-c*c,1-a*c*c)))}return a*r},x.sin=function(c){c=x.ba(c);var a=N.Mb(1,c);return c=N.P(c),N.Y(c,3.141592653589793)?0:N.Y(c,1.570796326794897)?1*a:Math.sin(c)*a},x.Uw=function(c,a){var r,o,l,d,f=c,m=a,b=1;for(a=0,c=1;o=((r=.2*(f+m+3*b))-f)/r,l=(r-m)/r,d=(r-b)/r,!(1e-4>N.P(o)&&1e-4>N.P(l)&&1e-4>N.P(d));)d=Math.sqrt(m),a+=c/((r=Math.sqrt(b))*(b+(d=Math.sqrt(f)*(d+r)+d*r))),c*=.25,f=.25*(f+d),m=.25*(m+d),b=.25*(b+d);return m=(f=o*l)-(b=d*d),3*a+c*(1+(b=f-6*b)*(.10227272727272728*b-.2142857142857143-.1730769230769231*d*(o=b+m+m))+d*(.1666666666666667*o+d*(-.4090909090909091*m+.1153846153846154*d*f)))/(r*Math.sqrt(r))},x.Xw=function(c,a){for(var r,o,l,d,f=1;o=2-((r=(c+a+f)/3)+c)/r,l=2-(r+a)/r,d=2-(r+f)/r,!(1e-4>N.P(o)&&1e-4>N.P(l)&&1e-4>N.P(d));f=.25*(f+r))r=Math.sqrt(a),o=Math.sqrt(f),c=.25*(c+(r=Math.sqrt(c)*(r+o)+r*o)),a=.25*(a+r);return(1+(.04166666666666666*(c=o*l-d*d)-.1-.06818181818181818*(a=o*l*d))*c+.07142857142857142*a)/Math.sqrt(r)},x.Qw=function(c,a){if(N.ti(c)||a==0||N.Y(N.P(a),1.570796326794897))return a;if(.006884661117170036>c){var r=c*c,o=c*r,l=c*o,d=c*l,f=c*d,m=c*f,b=-(.02708333333333333*o+.03430059523809524*l+.03149181547619048*d+.02634359154541446*f+.02156896735835538*m),_=.007669890873015873*l+.01299603174603175*d+.0148051353064374*f+.01454454953803912*m,$=-(.002275545634920635*d+.004830845032667949*f+.006558395368616723*m),C=.0006957236677288761*f+.001775193002406544*m,P=-.000217324089394402*m,L=Math.cos(2*a);return a+Math.sin(2*a)*(-(.5*c+.2083333333333333*r+.09375*o+.04878472222222222*l+.02916666666666667*d+.01938905423280423*f+.01388255931712963*m)-b+$-P+L*(2*(.1041666666666667*r+.0875*o+.06050347222222222*l+.04151785714285714*d+.02958958540013228*f+.02203667534722222*m)-4*_+6*C+L*(4*b-12*$+24*P+L*(8*_-32*C+L*(16*$-80*P+L*(32*C+64*L*P))))))}return a==0||N.Y(N.P(a),1.570796326794897)?r=a:(l=(o=Math.sqrt(c))*Math.sin(a),r=Math.tan(.7853981633974483+a/2)*Math.pow((1-l)/(1+l),o/2),r=2*Math.atan(r)-1.570796326794897),r},x.yO=function(c,a){if(N.ti(c)||a==0||N.Y(N.P(a),1.570796326794897))return a;if(.006884661117170036>c){var r=c*(C=c*($=c*(L=c*c))),o=c*(P=c*r),l=.05833333333333333*$+.07232142857142858*C+.05634300595238095*r+.0355325796406526*P+.020235546186067*o,d=.02653149801587302*C+.04379960317460317*r+.0429211791776896*P+.03255384637546096*o,f=.01294022817460318*r+.02668104344536636*P+.03155651254609588*o,m=.00659454790965208*P+.0163075268674227*o,b=.003463473736911237*o,_=Math.cos(2*a);return a+Math.sin(2*a)*(.5*c+.2083333333333333*L+.08333333333333333*$+.03611111111111111*C+.01875*r+.01195601851851852*P+.008863673941798942*o-l+f-b+_*(2*(.1458333333333333*L+.1208333333333333*$+.07039930555555556*C+.03616071428571429*r+.01839451058201058*P+.01017113095238095*o)-4*d+6*m+_*(4*l-12*f+24*b+_*(8*d-32*m+_*(16*f-80*b+_*(32*m+64*_*b))))))}var $=Math.sqrt(c),C=$/2,P=Math.tan(.7853981633974483+a/2);c=0,l=1;for(var L=a;l!=0;L=o)r=$*Math.sin(L),o=P*Math.pow((1+r)/(1-r),C),o=2*Math.atan(o)-1.570796326794897,c++,(N.Y(o,L)||3e4<c)&&(l=0);return L},x}()}(re||(re={})),function(h){var N=function(){function x(c){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new h.h,this.XH=new h.h,this.KA=!1,this.vq=new h.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=c,this.As=h.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var a=c.getCode();0<a?(this.Kk=a,h.pf.getCode(c)):this.Kk=h.pf.getCode(c),0>this.Kk&&(this.Kk=0);var r=this.Ue.getType();if(this.jH=r==h.Sc.PE_TYPE_PROJCS?2:1,r==h.Sc.PE_TYPE_PROJCS&&!c.loadConstants())throw h.i.N("PeProjcs.loadConstants failed");a=r==h.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),r!=h.Sc.PE_TYPE_GEOGCS&&h.pf.getCode(a),this.Eo=c.getUnit(),this.RH=a.getPrimem().getLongitude(),this.wH=c=a.getUnit().getUnitFactor(),c=Math.PI/(180*c),1e-10>Math.abs(c-1)&&(c=1),this.GA=c,r&h.Sc.PE_TYPE_PROJCS?(a=this.Ue,this.HA=1/a.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=h.Cg.generate(a,h.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=h.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,r=1/a.getUnit().getUnitFactor(),this.sw=.001/a.getDatum().getSpheroid().getAxis()*r,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return x.prototype.$r=function(){return this.Kk},x.prototype.kk=function(){return this.tw},x.Py=function(c,a){return c==a||c!=null&&a!=null&&c.Kk==0&&a.Kk==0&&c.As===a.As},x.prototype.Wc=function(){return this.zl},x.prototype.gh=function(c){c.K(this.so)},x.prototype.pv=function(){return this.so.v},x.prototype.ov=function(){return this.so.C},x.prototype.GR=function(c){c.K(this.uw)},x.prototype.lY=function(){var c=this.Ue.getType();if(c==h.Sc.PE_TYPE_PROJCS){c=this.Ue;var a=this.kk().getCentralMeridian(),r=c.getGeogcs();if(r==null)throw h.i.fa("internal error");a=[[a+(r=1/r.getUnit().getUnitFactor()*Math.PI),0]],h.ej.geogToProj(c,1,a),a=a[0][0],r=c.getParameters()[h.Sc.PE_PARM_X0].getValue();var o=this.ml();c=new h.l,o.A(c),a=(o=Math.abs(a-r))+r,r=-1*o+r,o=c.H,c=c.G;var l=new h.l;l.K(r,c,a,o),this.so==null&&(this.so=l)}else{if(c!=h.Sc.PE_TYPE_GEOGCS)throw h.i.fa("internal error");r=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(c=new h.l).K(-r,-r/2,r,r/2),this.so==null&&(this.so=c)}},x.prototype.mY=function(){var c=this.Ue.getType();if(c==h.Sc.PE_TYPE_PROJCS){var a=this.Ue;if(c=this.kk().getCentralMeridian(),(a=a.getGeogcs())==null)throw h.i.fa("internal error");a=1/a.getUnit().getUnitFactor()*Math.PI;var r=this.Vr(),o=new h.l;r.A(o),(r=new h.l).K(c-a,o.G,c+a,o.H),this.uw==null&&(this.uw=r)}else{if(c!=h.Sc.PE_TYPE_GEOGCS)throw h.i.fa("internal error");a=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(c=new h.l).K(-a,-a/2,a,a/2),this.uw==null&&(this.uw=c)}},x.prototype.bf=function(){return this.GA},x.prototype.pm=function(){return this.HA},x.prototype.Vr=function(){if(this.zl)return this.ul;var c=this.ul;return c??(this.xx(),this.ul)},x.prototype.Wr=function(){return this.zl?null:(this.ul!=null||this.xx(),this.YG)},x.prototype.xx=function(){if(this.Ue.getType()==h.Sc.PE_TYPE_PROJCS){var c=this.Ue,a=c.getGeogcs(),r=c.horizonGcsGenerate();if(r!=null){var o=r[0].getNump(),l=r[0].getKind();c=0<r[0].getInclusive();var d=this.bf(),f=90*d,m=360*d,b=370*d,_=180*d*h.Sc.PE_HORIZON_DELTA/Math.PI,$=new h.l,C=null;if(1<o){for(var P=1;P<o;P++)if(r[P].getKind()==h.Sc.PE_HORIZON_LINE){C==null&&(C=new h.Ta);var L=r[P].getCoord();C.sx(L[0][0],L[0][1]),C.yj(L[1][0],L[1][1])}}if(l==h.Sc.PE_HORIZON_RECT)r=r[0].getCoord(),$.K(r[0][0],r[0][1]),$.Zb(r[1][0],r[1][1]),Math.abs($.H-f)<1e-7*_&&($.H=f),Math.abs($.G+f)<1e-7*_&&($.G=-f),$.R()>b&&(r=-400*d,$.K(r,$.G,r+5*m,$.H)),r=new h.Fh($),this.ul==null&&(this.ul=r,this.Iv=c);else{if(b=new h.Da,m=this.kk().isGcsHorizonMultiOverlap(),$=h.gu.bF(a,h.hu.Integer64),m){for(b=new h.gL,_=h.Gh.local().V(b,$,null),P=0;P<o;P++)if(r[P].getKind()==h.Sc.PE_HORIZON_POLY){for(a=r[P].getSize(),d=r[P].getCoord(),l=[],f=0;f<a;f++)l[f]=h.h.construct(d[f][0],d[f][1]);r[P].getInclusive(),m&&((d=new h.Da).Yk(l,a-1),b.ZX(d),_.qe())}b=_.next()}else for(P=0;P<o;P++)if(r[P].getKind()==h.Sc.PE_HORIZON_POLY){for(a=r[P].getSize(),d=r[P].getCoord(),m=[],f=0;f<a;f++)m[f]=h.h.construct(d[f][0],d[f][1]);r[P].getInclusive(),b.Yk(m,a-1)}c?h.Xj.local().wn(b,$,1):h.kp.local().wn(b,$,1),h.dj.local().wn(b,$,1),this.ul==null&&(this.ul=b,this.Iv=c,this.YG=C)}}}},x.prototype.hv=function(){return this.zl||this.ul==null&&this.xx(),this.Iv},x.prototype.DK=function(){if(this.jH==2){var c=this.Ue.horizonPcsGenerate();if(c!=null){var a=c[0].getKind();c[0].getInclusive();var r=c[0].getNump(),o=!1;if(a==h.Sc.PE_HORIZON_RECT)c=c[0].getCoord(),(r=new h.l).K(c[0][0],c[0][1]),r.Zb(c[1][0],c[1][1]),c=new h.Fh(r);else{for(a=-1,o=0;o<r;o++)c[o].getKind()==h.Sc.PE_HORIZON_POLY&&(a=o);for(o=c[a].getSize()-1,c=c[a].getCoord(),r=[],a=0;a<o;a++)r[a]=h.h.construct(c[a][0],c[a][1]);c=a=new h.Da,a.Yk(r,o),o=!0}this.kk().isDensificationNeeded()&&(r=1e5*this.pm(),c=h.Xl.local().V(c,r,null)),o&&(o=new h.Fh,c.bn(o),c.Ke(),c.Qb(),c.qR(),h.Xj.local().wn(c,null,1)),this.Us==null&&(this.Us=c)}}},x.prototype.ml=function(){if(this.zl)return this.Us;var c=this.Us;return c??(this.DK(),this.Us)},x.prototype.nY=function(){if(this.Ue.getType()==h.Sc.PE_TYPE_PROJCS){var c=90*this.bf();c=[[0,c],[0,-c]],h.ej.geogToProj(this.Ue,2,c);var a=this.kk(),r=a.getNorthPoleLocation()!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY;a=a.getSouthPoleLocation()!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(r&&this.HH.ma(c[0][0],c[0][1]),a&&this.XH.ma(c[1][0],c[1][1]))}this.KA=!0},x.prototype.CK=function(){if(this.jH==1){var c=400*this.bf();this.vq.K(-c,-c,c,c)}else c=h.Cg.generate(this.Ue,h.Cg.PE_PCSINFO_OPTION_DOMAIN),c=h.l.construct(c.getDomainMinx(),c.getDomainMiny(),c.getDomainMaxx(),c.getDomainMaxy()),this.vq.B()&&this.vq.K(c)},x.prototype.hR=function(c){this.zl&&c.K(this.vq),this.vq.B()&&this.CK(),c.K(this.vq)},x.prototype.Up=function(){return this.RH},x.prototype.zi=function(){return this.bA},x.prototype.Hd=function(){return this.Eo},x.prototype.Xr=function(){return this.wH},x}();h.OC=N}(re||(re={})),function(h){var N=function(){function x(c){this.KT=c,this.As=h.zb.xv(c,0,!0);var a=c.getCode();this.ss=0<a?a:h.pf.getCode(c),0>this.ss&&(this.ss=0),this.Eo=a=this.KT.getUnit(),this.IH=1/a.getUnitFactor(),h.pf.getCode(c)}return x.Py=function(c,a){return c==a||c!=null&&a!=null&&c.ss==0&&a.ss==0&&c.As===a.As},x.prototype.$r=function(){return this.ss},x}();h.PL=N}(re||(re={})),function(h){h.Yg=function(){function N(){}return N.tb=function(x,c,a,r,o,l,d,f){if(l!=null||d!=null||f!=null){r=h.F.ba(r),c=h.F.ba(c),a=h.F.ba(a),o=h.F.ba(o),1.570796326794897<h.s.P(a)&&(a=h.s.Mb(3.141592653589793,a)-a,c=h.F.ba(c+3.141592653589793)),1.570796326794897<h.s.P(o)&&(o=h.s.Mb(3.141592653589793,o)-o,r=h.F.ba(r+3.141592653589793));var m=h.F.ba(r-c);if(h.s.Y(a,o)&&(h.s.Y(c,r)||h.s.Y(h.s.P(a),1.570796326794897)))l!=null&&(l.u=0),d!=null&&(d.u=0),f!=null&&(f.u=0);else{if(h.s.Y(a,-o)){if(h.s.Y(h.s.P(a),1.570796326794897))return l!=null&&(l.u=3.141592653589793*x),d!=null&&(d.u=0<a?h.F.ba(3.141592653589793-h.F.ba(r)):h.F.ba(r)),void(f!=null&&(f.u=0<a?h.F.ba(r):h.F.ba(3.141592653589793-h.F.ba(r))));if(h.s.Y(h.s.P(m),3.141592653589793))return l!=null&&(l.u=3.141592653589793*x),d!=null&&(d.u=0),void(f!=null&&(f.u=0))}var b=h.s.P(a)==1.570796326794897?0:Math.cos(a),_=Math.sin(a),$=h.s.P(o)==1.570796326794897?0:Math.cos(o),C=Math.sin(o),P=h.s.P(m)==1.570796326794897?0:Math.cos(m),L=h.s.P(m)==3.141592653589793?0:Math.sin(m);if(l!=null){var V=Math.sin((o-a)/2);m=Math.sin(m/2),l.u=2*Math.asin(Math.sqrt(V*V+b*$*m*m))*x}d!=null&&(d.u=h.s.Y(h.s.P(a),1.570796326794897)?0>a?r:h.F.ba(3.141592653589793-r):Math.atan2($*L,b*C-_*$*P)),f!=null&&(h.s.Y(h.s.P(o),1.570796326794897)?f.u=0>o?c:h.F.ba(3.141592653589793-c):(f.u=Math.atan2(b*L,C*b*P-$*_),f.u=h.F.ba(f.u+3.141592653589793)))}}},N.rf=function(x,c,a,r,o,l,d){if(l!=null||d!=null){c=h.F.ba(c),a=h.F.ba(a),1.570796326794897<h.s.P(a)&&(a=h.s.Mb(3.141592653589793,a)-a,c=h.F.ba(c+3.141592653589793)),h.s.Y(h.s.P(a),1.570796326794897)&&(c=0),o=h.F.ba(o);var f=h.s.Y(h.s.P(o),1.570796326794897)?0:Math.cos(o),m=h.s.Y(h.s.P(o),3.141592653589793)?0:Math.sin(o),b=h.s.Y(h.s.P(a),1.570796326794897)?0:Math.cos(a),_=Math.sin(a);x=r/x,r=h.s.Y(h.s.P(x),1.570796326794897)?0:Math.cos(x);var $=h.s.Y(h.s.P(x),3.141592653589793)?0:Math.sin(x),C=Math.asin(_*r+b*$*f);d!=null&&(d.u=C),l!=null&&(l.u=h.s.Y(h.s.P(C),1.570796326794897)?h.s.Y(a,-C)?0>C?o:h.F.ba(3.141592653589793-o):c:h.s.Y(h.s.P(a),1.570796326794897)&&h.s.Y(x,3.141592653589793)?0>a?o:h.F.ba(3.141592653589793-o):h.F.ba(c+Math.atan2($*m,b*r-_*$*f)))}},N}()}(re||(re={})),function(h){h.Wk=function(){function N(){}return N.tb=function(x,c,a,r,o,l,d,f,m){var b=new h.ga(0),_=new h.ga(0),$=[0,0,0],C=[0,0,0],P=[0,0,0],L=new h.ga(0),V=new h.ga(0),U=new h.ga(0),Y=new h.ga(0),X=new h.ga(0);if(d!=null||f!=null||m!=null)if(h.s.ti(c))h.Yg.tb(x,a,r,o,l,d,f,m);else{o=h.F.ba(o),a=h.F.ba(a);var Z=h.F.ba(o-a);if(h.s.Y(r,l)&&(h.s.Y(a,o)||h.s.Y(h.s.P(r),1.570796326794897)))d!=null&&(d.u=0),f!=null&&(f.u=0),m!=null&&(m.u=0);else{if(h.s.Y(r,-l)){if(h.s.Y(h.s.P(r),1.570796326794897))return d!=null&&(d.u=2*h.F.Ah(x,c)),f!=null&&(f.u=0<r?h.F.ba(3.141592653589793-h.F.ba(o)):h.F.ba(o)),void(m!=null&&(m.u=0<r?h.F.ba(o):h.F.ba(3.141592653589793-h.F.ba(o))));h.s.Y(h.s.P(Z),3.141592653589793)&&(d!=null&&(d.u=2*h.F.Ah(x,c)),f!=null&&(f.u=0),m!=null&&(m.u=0))}else(h.s.Y(h.s.P(r),1.570796326794897)||h.s.Y(h.s.P(l),1.570796326794897))&&(h.s.Y(h.s.P(r),1.570796326794897)?a=o:o=a);var ne=0;if(0>Z){ne=1;var oe=a;a=o,o=oe,oe=r,r=l,l=oe}Z=h.F.ot(c,r);var he=h.F.ot(c,l);f==null&&m==null||(h.Yg.tb(x,a,Z,o,he,null,b,_),b=Math.atan2(Math.sin(b.u)*Math.cos(r-Z),Math.cos(b.u)),_=Math.atan2(Math.sin(_.u)*Math.cos(l-he),Math.cos(_.u)),ne!=0&&(oe=b,b=_,_=oe),f!=null&&(f.u=b),m!=null&&(m.u=_)),d!=null&&(h.F.cl(1,c,r,a,0,U,Y,X),$[0]=U.u,$[1]=Y.u,$[2]=X.u,h.F.cl(1,c,l,o,0,U,Y,X),C[0]=U.u,C[1]=Y.u,C[2]=X.u,P[0]=$[1]*C[2]-C[1]*$[2],P[1]=-($[0]*C[2]-C[0]*$[2]),P[2]=$[0]*C[1]-C[0]*$[1],c=1-h.F.w(c,h.F.Vq(c,h.F.Qj(c,Math.acos(P[2]/Math.sqrt(P[0]*P[0]+P[1]*P[1]+P[2]*P[2]))))),c*=2-c,f=Math.atan2(-P[1],-P[0]),P=h.F.ba(f-1.570796326794897),f=h.F.ba(f+1.570796326794897),P=h.s.P(h.F.ba(a-P))<=h.s.P(h.F.ba(a-f))?P:f,h.Yg.tb(1,P,0,a,Z,L,null,null),h.Yg.tb(1,P,0,o,he,V,null,null),3.141592653589793<L.u+V.u&&(P=h.F.ba(P+3.141592653589793),h.Yg.tb(1,P,0,a,Z,L,null,null),h.Yg.tb(1,P,0,o,he,V,null,null)),L.u*=h.s.Mb(1,r),V.u*=h.s.Mb(1,l),L.u=h.F.Qj(c,L.u),V.u=h.F.Qj(c,V.u),a=h.F.q(x,c,L.u),x=h.F.q(x,c,V.u),d.u=h.s.P(x-a))}}},N.rf=function(x,c,a,r,o,l,d,f){var m=0,b=new h.ga(0),_=new h.ga(0),$=[0,0,0],C=[0,0,0],P=new h.ga(0),L=new h.ga(0),V=new h.ga(0);if(d!=null||f!=null)if(h.s.ti(c))h.Yg.rf(x,a,r,o,l,d,f);else if(h.s.Cd(o))d!=null&&(d.u=a),f!=null&&(f.u=r);else if(l=h.F.ba(l),0>o&&(o=h.s.P(o),l=h.F.ba(l+3.141592653589793)),a=h.F.ba(a),r=h.F.ba(r),1.570796326794897<h.s.P(r)&&(a=h.F.ba(a+3.141592653589793),r=h.s.Mb(3.141592653589793,r)-r),h.s.Y(h.s.P(r),1.570796326794897)&&(a=0),h.s.Cd(r)){var U=h.s.P(1.570796326794897-h.s.P(l));U=h.F.Qj(c,U),U=1-h.F.w(c,h.F.Vq(c,U)),U*=2-U,x=o/h.F.Ah(x,U)*1.570796326794897,x=h.F.Rq(U,x),x=h.F.ot(U,x),h.Yg.rf(1,a,r,x,l,d,b),f!=null&&(m=b.u),f!=null&&(f.u=h.F.Qj(c,m))}else if(h.s.Y(h.s.P(r),1.570796326794897))b=2*(m=h.F.Ah(x,c)),l=0<(x=h.s.Mb(1.570796326794897,r))?h.F.ba(3.141592653589793-l):l,r=m-o,h.s.P(r)<=m?d!=null&&(d.u=l):(r=Math.floor(o/b),h.O.truncate(r%2)==0?(d!=null&&(d.u=l),o-=r*b):(d!=null&&(d.u=h.F.ba(l+3.141592653589793)),o=(r+1)*b-o),r=m-o),f!=null&&(f.u=h.F.Rq(c,r/m*x));else{U=h.F.ot(c,r),l=Math.atan2(Math.sin(l),Math.cos(l)*Math.cos(r-U));var Y=h.O.truncate(h.s.Mb(1,U))*(1.570796326794897>=h.s.P(l)?1:-1);l=h.F.ba(a+Math.atan(Math.tan(l)*-Math.sin(U))),h.Yg.tb(x,l,0,a,U,null,_,null),U=h.s.P(1.570796326794897-h.s.P(_.u)),U=h.F.Qj(c,U),U=1-h.F.w(c,h.F.Vq(c,U)),U*=2-U,h.F.cl(1,c,0,l,0,P,L,V),$[0]=P.u,$[1]=L.u,$[2]=V.u,h.F.cl(1,c,r,a,0,P,L,V),C[0]=P.u,C[1]=L.u,C[2]=V.u,r=Math.acos(($[0]*C[0]+$[1]*C[1]+$[2]*C[2])/Math.sqrt(C[0]*C[0]+C[1]*C[1]+C[2]*C[2])),r=h.F.Qj(U,r),o=0<(r=h.F.q(x,U,r)+o*Y)?_.u:h.F.ba(_.u+3.141592653589793),x=h.s.P(r)/h.F.Ah(x,U)*1.570796326794897,x=h.F.Rq(U,x),x=h.F.ot(U,x),h.Yg.rf(1,l,0,x,o,d,b),f!=null&&(m=b.u),f!=null&&(f.u=h.F.Qj(c,m))}},N}()}(re||(re={})),function(h){h.cu=function(){function N(){}return N.tb=function(x,c,a,r,o,l,d,f,m){var b=0,_=0,$=0;if(d!=null||f!=null||m!=null)if(h.s.ti(c))h.Yg.tb(x,a,r,o,l,d,f,m);else{var C=h.F.ba(o-a);if(h.s.Y(r,l)&&(h.s.Cd(C)||h.s.Y(h.s.P(r),1.570796326794897)))d!=null&&(d.u=0),f!=null&&(f.u=0),m!=null&&(m.u=0);else{if(h.s.Y(r,-l)){if(h.s.Y(h.s.P(r),1.570796326794897))return d!=null&&(d.u=2*h.F.Ah(x,c)),f!=null&&(f.u=0<r?h.F.ba(3.141592653589793-h.F.ba(o)):h.F.ba(o)),void(m!=null&&(m.u=0<r?h.F.ba(o):h.F.ba(3.141592653589793-h.F.ba(o))));h.s.Y(h.s.P(C),3.141592653589793)&&(d!=null&&(d.u=2*h.F.Ah(x,c)),f!=null&&(f.u=0),m!=null&&(m.u=0))}else if(h.s.Y(h.s.P(r),1.570796326794897)||h.s.Y(h.s.P(l),1.570796326794897)||h.s.Cd(C)||h.s.Y(h.s.P(C),3.141592653589793))return void h.Wk.tb(x,c,a,r,o,l,d,f,m);var P=1-Math.sqrt(1-c),L=c/(1-c),V=x*(1-P);x=h.F.Vq(c,r);var U=h.F.Vq(c,l);c=h.s.P(x)==1.570796326794897?0:Math.cos(x);var Y=Math.sin(x),X=h.s.P(U)==1.570796326794897?0:Math.cos(U),Z=Math.sin(U),ne=C,oe=Math.cos(ne),he=Math.sin(ne),be=1,Ce=0;do{var Pe=ne,qe=Math.sqrt(Math.pow(X*he,2)+Math.pow(c*Z-Y*X*oe,2)),Ue=Y*Z+c*X*oe,Je=Math.atan2(qe,Ue);if(qe==0){be=0;break}var je=c*X*he/qe;if(b=Math.cos(Math.asin(je)),_=Ue-2*Y*Z/(b*=b),1<h.s.P(_)&&(_=h.s.Mb(1,_)),ne=C+(1-(ne=P/16*b*(4+P*(4-3*b))))*P*je*(Je+ne*qe*(_+ne*Ue*(2*($=_*_)-1))),oe=Math.cos(ne),he=Math.sin(ne),Ce++,3.141592653589793<h.s.P(ne)&&30<Ce){be=0;break}}while(5e3>=Ce&&!h.s.Y(Pe,ne));if(be!=0)P=(L*=b)*(256+L*(L*(74-47*L)-128))/1024,d!=null&&(d.u=V*(1+L*(4096+L*(L*(320-175*L)-768))/16384)*(Je-P*qe*(_+P/4*(Ue*(2*$-1)-P/6*_*(4*qe*qe-3)*(4*$-3))))),f!=null&&(f.u=h.s.Y(h.s.P(r),1.570796326794897)?0>r?o:h.F.ba(3.141592653589793-o):Math.atan2(X*he,c*Z-Y*X*oe)),m!=null&&(h.s.Y(h.s.P(l),1.570796326794897)?m.u=0>l?a:h.F.ba(3.141592653589793-a):(m.u=Math.atan2(c*he,c*Z*oe-Y*X),m.u=h.F.ba(m.u+3.141592653589793)));else{ne=h.s.Mb(3.141592653589793,C),Ue=Y*Z-c*X,Je=Math.acos(Ue),qe=Math.sin(Je),b=1,Ce=je=0;do $=je,oe=1-.25*(je=P*(b*=b)*(1+P+P*P))+.1875*(_=P*P*(oe=b*b)*(1+2.25*P))-.1953125*(be=P*P*P*oe*b),je=.25*je-.25*_+.29296875*be,he=.03125*_-.05859375*be,be*=.00651041666666667,_=Ue-2*Y*Z/b,1<h.s.P(_)&&(_=h.s.Mb(1,_)),b=Math.acos(_),Ue=Math.cos(2*b),Pe=Math.cos(3*b),he=(je=h.s.Y(r,-l)?h.F.ba(3.141592653589793-C)/(3.141592653589793*P*oe):h.F.ba(ne-C)/(P*(oe*Je+je*qe*_+he*Math.sin(2*Je)*Ue+be*Math.sin(3*Je)*Pe)))*qe/(c*X),ne=1.570796326794897<h.s.P(C)?h.s.Mb(3.141592653589793,he)-Math.asin(he):Math.asin(he),oe=Math.cos(ne),qe=Math.sqrt(Math.pow(X*he,2)+Math.pow(c*Z-Y*X*oe,2)),Je=3.141592653589793-Math.asin(h.s.P(qe)),Ue=Math.cos(Je),b=Math.cos(Math.asin(je)),Ce++;while(70>=Ce&&!h.s.Y($,je));d!=null&&(oe=1+(L*=b*=b)*(4096+L*(L*(320-175*L)-768))/16384,h.s.Y(r,-l)?d.u=3.141592653589793*V*oe:(_=Ue-2*Y*Z/b,b=Math.acos(_),Ue=Math.cos(2*b),Pe=Math.cos(3*b),d.u=V*(oe*Je+L*(L*(128+L*(35*L-60))-512)/2048*qe*_+L*(5*L-4)/6144*L*L*Math.sin(2*Je)*Ue+be*Math.sin(3*Je)*Pe+-762939453125e-16*L*L*L*L*Math.sin(4*Je)*Math.cos(4*b)))),f!=null&&(h.s.Cd(r)&&h.s.Cd(l)?(b=Math.sqrt(1-je*je),f.u=Math.acos(b),0>C&&(f.u*=-1)):h.s.Y(h.s.P(r),1.570796326794897)?f.u=0>r?o:h.F.ba(3.141592653589793-o):(d=je/c,V=Math.sqrt(1-d*d),0>c*Z-Y*X*Math.cos(ne)&&(V*=-1),f.u=Math.atan2(d,V),h.s.Y(r,-l)&&h.s.P(h.F.ba(a-o))>3.141592653589793*(1-P*Math.cos(r))&&(0<r&&1.570796326794897>h.s.P(f.u)||0>r&&1.570796326794897<h.s.P(f.u))&&(f.u=h.s.Mb(3.141592653589793,f.u)-f.u))),m!=null&&(h.s.Cd(r)&&h.s.Cd(l)?(b=Math.sqrt(1-je*je),m.u=Math.acos(b),0<=C&&(m.u*=-1)):h.s.Y(h.s.P(l),1.570796326794897)?m.u=0>l?a:h.F.ba(3.141592653589793-a):(C=je/X,d=Math.sqrt(1-C*C),V=Math.sin(ne/2),0>Math.sin(U-x)-2*c*Z*V*V&&(d*=-1),m.u=Math.atan2(C,d),m.u=h.F.ba(m.u+3.141592653589793),h.s.Y(r,-l)&&!h.s.Cd(r)&&!h.s.Y(h.s.P(r),1.570796326794897)&&h.s.P(h.F.ba(a-o))>3.141592653589793*(1-P*Math.cos(r))&&(f!=null?V=f.u:(d=je/c,V=Math.sqrt(1-d*d),0>c*Z-Y*X*Math.cos(ne)&&(V*=-1),V=Math.atan2(d,V),h.s.Y(r,-l)&&h.s.P(h.F.ba(a-o))>3.141592653589793*(1-P*Math.cos(r))&&(0<r&&1.570796326794897>h.s.P(V)||0>r&&1.570796326794897<h.s.P(V))&&(V=h.s.Mb(3.141592653589793,V)-V)),1.570796326794897>=h.s.P(V)&&1.570796326794897<h.s.P(m.u)||1.570796326794897<=h.s.P(V)&&1.570796326794897>h.s.P(m.u))&&(m.u=-1*h.F.ba(m.u+3.141592653589793))))}}}},N.rf=function(x,c,a,r,o,l,d,f){if(d!=null||f!=null)if(h.s.ti(c))h.Yg.rf(x,a,r,o,l,d,f);else if(l=h.F.ba(l),h.s.Y(h.s.P(r),1.570796326794897)||h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))h.Wk.rf(x,c,a,r,o,l,d,f);else{var m=h.s.P(l)==1.570796326794897?0:Math.cos(l),b=h.s.P(l)==3.141592653589793?0:Math.sin(l);h.s.Y(h.s.P(r),1.570796326794897)&&(a=0),l=1-Math.sqrt(1-c);var _=h.F.Vq(c,r);r=h.s.P(_)==1.570796326794897?0:Math.cos(_);var $=Math.sin(_);_=Math.atan2(Math.tan(_),m);var C=r*b,P=C*C,L=1-P,V=c/(1-c)*L,U=(c=V*(256+V*(V*(74-47*V)-128))/1024)/4,Y=c/6,X=o/(x*(1-l)*(1+V*(4096+V*(V*(320-175*V)-768))/16384)),Z=X;do{var ne=Z;o=h.s.P(Z)==1.570796326794897?0:Math.cos(Z);var oe=(V=h.s.P(Z)==3.141592653589793?0:Math.sin(Z))*V;Z=c*V*((x=Math.cos(2*_+Z))+U*(o*(2*(Z=x*x)-1)-Y*x*(4*oe-3)*(4*Z-3)))+X}while(!h.s.Y(ne,Z));o=h.s.P(Z)==1.570796326794897?0:Math.cos(Z),V=h.s.P(Z)==3.141592653589793?0:Math.sin(Z),d!=null&&(b=Math.atan2(V*b,r*o-$*V*m),L=l/16*L*(4+l*(4-3*L)),x=Math.cos(2*_+Z),d.u=h.F.ba(a+(b-(1-L)*l*C*(Z+L*V*(x+L*o*(2*x*x-1)))))),f!=null&&(L=$*V-r*o*m,L=(1-l)*Math.sqrt(P+L*L),f.u=Math.atan2($*o+r*V*m,L))}},N}()}(re||(re={})),function(h){h.PC=function(){function N(){}return N.tb=function(x,c,a,r,o,l,d,f,m){var b=h.F.ba(o-a),_=h.s.Y(h.s.P(r),1.570796326794897),$=h.s.Y(h.s.P(l),1.570796326794897);if(h.s.Y(r,l)&&(h.s.Cd(b)||_))d!=null&&(d.u=0),f!=null&&(f.u=0),m!=null&&(m.u=0);else{if(h.s.ti(c)){var C=Math.sin(r),P=Math.sin(l);C=Math.sqrt((1+C)/(1-C)),P=Math.sqrt((1+P)/(1-P)),C=Math.log(P)-Math.log(C),C=Math.atan2(b,C),d!=null&&(d.u=h.s.Y(r,l)?h.s.P(x*Math.cos(r)*b):h.s.P((x*l-x*r)/Math.cos(C)))}else P=h.F.Qw(c,l),C=Math.sin(h.F.Qw(c,r)),P=Math.sin(P),C=Math.sqrt((1+C)/(1-C)),P=Math.sqrt((1+P)/(1-P)),C=Math.log(P)-Math.log(C),C=Math.atan2(b,C),d!=null&&(h.s.Y(r,l)?d.u=h.s.P(x*b*Math.cos(r)/h.F.w(c,r)):(b=h.F.q(x,c,r),x=h.F.q(x,c,l),d.u=h.s.P((x-b)/Math.cos(C))));f==null&&m==null||(d=h.F.ba(C+3.141592653589793),_&&$||!_&&!$||(_?C=0>r?o:h.F.ba(3.141592653589793-o):$&&(d=0>l?a:h.F.ba(3.141592653589793-a))),f!=null&&(f.u=C),m!=null&&(m.u=d))}},N.rf=function(x,c,a,r,o,l,d,f){l=h.F.ba(l),0>o&&(o=h.s.P(o),l=h.F.ba(l+3.141592653589793)),h.s.ti(c)?h.s.Y(h.s.P(r),1.570796326794897)?(a=0>r?l:h.F.ba(3.141592653589793-l),3.141592653589793>=(l=o/x%6.283185307179586)?x=r-h.s.Mb(l,r):(a=h.F.ba(a+3.141592653589793),x=-r+h.s.Mb(l-3.141592653589793,r))):h.s.Y(h.s.P(l),1.570796326794897)?(a=h.F.ba(a+h.s.Mb(o,l)/(x*Math.cos(r))),x=r):(x=r+o*Math.cos(l)/x,1.570796326794897<h.s.P(x)&&(x=1.570796326794897),h.s.Y(h.s.P(x),1.570796326794897)&&(h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))||(1.570796316258184<h.s.P(x)&&(x=h.s.Mb(1.570796316258184,x)),c=Math.sin(r),r=Math.sin(x),c=Math.sqrt((1+c)/(1-c)),r=Math.sqrt((1+r)/(1-r)),c=Math.log(r)-Math.log(c),a=h.F.ba(a+Math.tan(l)*c))):h.s.Y(h.s.P(r),1.570796326794897)?(a=0>r?l:h.F.ba(3.141592653589793-l),l=o/h.F.qW(x,c),3.141592653589793>=(l%=6.283185307179586)?x=r-h.s.Mb(l,r):(a=h.F.ba(a+3.141592653589793),x=-r+h.s.Mb(l-3.141592653589793,r)),x=h.F.Rq(c,x)):h.s.Y(h.s.P(l),1.570796326794897)?(a=h.F.ba(a+h.s.Mb(o,l)*h.F.w(c,r)/(x*Math.cos(r))),x=r):(x=1.570796326794897*(o*Math.cos(l)+h.F.q(x,c,r))/h.F.Ah(x,c),1.570796326794897<h.s.P(x)&&(x=h.s.Mb(1.570796326794897,x)),x=h.F.Rq(c,x),h.s.Y(h.s.P(x),1.570796326794897)&&(h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))||(o=h.F.Qw(c,r),r=h.F.Qw(c,x),1.570796316258184<h.s.P(r)&&(r=h.s.Mb(1.570796316258184,x),x=h.F.yO(c,r)),c=Math.sin(o),r=Math.sin(r),c=Math.sqrt((1+c)/(1-c)),r=Math.sqrt((1+r)/(1-r)),c=Math.log(r)-Math.log(c),a=h.F.ba(a+Math.tan(l)*c))),d!=null&&(d.u=a),f!=null&&(f.u=x)},N}()}(re||(re={})),function(h){h.kb=function(){function N(){}return N.Xy=function(x,c,a,r,o,l,d){h.cu.tb(x,c,a,r,o,l,null,d,null)},N.yi=function(x,c,a,r,o,l,d,f){h.cu.rf(x,c,a,r,o,l,d,f)},N.wd=function(x,c,a,r,o,l,d,f,m,b){switch(b){case 2:h.Wk.tb(x,c,a,r,o,l,d,f,m);break;case 3:h.QC.tb(x,c,a,r,o,l,d,f,m);break;case 1:h.PC.tb(x,c,a,r,o,l,d,f,m);break;default:h.cu.tb(x,c,a,r,o,l,d,f,m)}},N.oj=function(x,c,a,r,o,l,d,f,m){switch(m){case 2:h.Wk.rf(x,c,a,r,o,l,d,f);break;case 3:h.QC.rf(x,c,a,r,o,l,d,f);break;case 1:h.PC.rf(x,c,a,r,o,l,d,f);break;default:h.cu.rf(x,c,a,r,o,l,d,f)}},N}()}(re||(re={})),function(h){var N=function(){function c(){this.y=this.x=null}return c.construct=function(a){var r=new c;return r.x=new h.Wb,r.x.set(a.x),r.y=new h.Wb,r.y.set(a.y),r},c.VE=function(a,r){var o=new c;return o.x=new h.Wb,o.x.set(a),o.y=new h.Wb,o.y.set(r),o},c.prototype.qg=function(){return this.x.qg()&&this.y.qg()},c.prototype.value=function(){return h.h.construct(this.x.value(),this.y.value())},c}();h.vY=N;var x=function(){function c(){this.z=this.y=this.x=null}return c.construct=function(a){var r=new c;return r.x=new h.Wb,r.x.set(a.x),r.y=new h.Wb,r.y.set(a.y),r.z=new h.Wb,r.z.set(a.z),r},c.VE=function(a,r,o){var l=new c;return l.x=new h.Wb,l.x.set(a),l.y=new h.Wb,l.y.set(r),l.z=new h.Wb,l.z.set(o),l},c.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},c.prototype.value=function(){return new h.Nd(this.x.value(),this.y.value(),this.z.value())},c.prototype.Qh=function(a){var r=new h.Wb,o=new h.Wb,l=new h.Wb;return r.Kl(this.x,a.x),o.Kl(this.y,a.y),l.Kl(this.z,a.z),(a=new h.Wb).dN(r,o),a.add(l),a},c.prototype.cF=function(a){var r=new c;r.x.Kl(this.y,a.z),r.y.Kl(this.z,a.x),r.z.Kl(this.x,a.y);var o=new h.Wb,l=new h.Wb,d=new h.Wb;return o.Kl(this.z,a.y),l.Kl(this.x,a.z),d.Kl(this.y,a.x),r.x.sub(o),r.y.sub(l),r.z.sub(d),r},c}();h.wY=x,h.Ox=function(){function c(){}return c.EP=function(a,r,o){var l=r.x;r=r.y,c.cl(1,a,Math.cos(l),Math.sin(l),Math.cos(r),Math.sin(r),o)},c.DP=function(a,r){var o=new h.Nd;return c.EP(a,r,o),o},c.cl=function(a,r,o,l,d,f,m){a/=Math.sqrt(1-r*f*f),m.K(a*d*o,a*d*l,a*(1-r)*f)},c.Yu=function(a,r){var o=new h.Wb,l=new h.Wb,d=new h.Wb,f=new h.Wb;o.cos(r.x),l.sin(r.x),d.cos(r.y),f.sin(r.y);var m=new h.Wb;return m.set(f),m.Ag(f),m.No(a),m.No(-1),m.kN(),m.sqrt(),(r=new h.Wb).set(1),r.jm(m),(m=new h.Wb).set(r),m.Ag(d),m.Ag(o),(o=new h.Wb).set(r),o.Ag(d),o.Ag(l),(l=new h.Wb).set(r),l.No(1-a),l.Ag(f),x.VE(m,o,l)},c.SS=function(a,r,o,l){if(Math.abs(r.x-o.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(o.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(o.y)==.5*Math.PI)&&r.x!=o.x)return NaN;if(l=c.cB(l,Math.min(r.x,o.x),Math.max(r.x,o.x)),!new h.Nc(r.x,o.x).contains(l))return NaN;var d=N.construct(r);if(o=N.construct(o),d=c.Yu(a,d),o=c.Yu(a,o),(o=d.cF(o)).z.qg())return r.y;var f=new h.Wb;f.set(o.x),f.jm(o.z),f.No(-1);var m=new h.Wb;m.set(o.y),m.jm(o.z),m.No(-1);var b=new h.Wb;return b.set(m),b.Ag(m),(d=new h.Wb).set(f),d.Ag(f),d.add(b),d.sqrt(),d.qg()||f.qg()&&m.qg()?r.y:(r=Math.atan2(m.value(),f.value()),r=Math.atan2(d.value()*Math.cos(r-l),1-a),l=c.DP(a,h.h.construct(l,r)),a=new h.Nd(l.x,l.y,-l.z),l=o.value().Qh(l),a=o.value().Qh(a),Math.abs(a)<Math.abs(l)&&(r=-r),r)},c.Oz=function(a,r,o,l,d){if(d[0]=NaN,d[1]=NaN,Math.abs(r.x-o.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(o.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(o.y)==.5*Math.PI)&&r.x!=o.x||Math.abs(l)>=.5*Math.PI||0<r.y&&0<o.y&&r.y>l&&o.y>l||0>r.y&&0>o.y&&r.y<l&&o.y<l)return 0;var f=N.construct(r),m=N.construct(o);f=c.Yu(a,f),m=c.Yu(a,m);var b=f.cF(m);if(b.z.qg())return new h.Nc(r.y,o.y).contains(l)?(d[0]=r.x,1):0;(m=new h.Wb).set(b.x),m.jm(b.z),m.No(-1),(f=new h.Wb).set(b.y),f.jm(b.z),f.No(-1),(b=new h.Wb).set(f),b.Ag(f);var _=new h.Wb;return _.set(m),_.Ag(m),_.add(b),_.sqrt(),_.qg()||m.qg()&&f.qg()?l==0?(d[0]=r.x,d[1]=o.x,2):0:(a=(1-a)*Math.tan(l)/_.value(),1<Math.abs(a)?0:(a=Math.acos(a),b=Math.atan2(f.value(),m.value()),m=Math.min(r.x,o.x),f=Math.max(r.x,o.x),o=c.cB(b-a,m,f),a=l!=0?c.cB(b+a,m,f):o,l=0,m<=o&&o<=f&&(d[l]=o,l++),a!=o&&m<=a&&a<=f&&(d[l]=a,++l==2&&Math.abs(d[0]-r.x)>Math.abs(d[1]-r.x)&&(r=d[0],d[0]=d[1],d[1]=r)),l))},c.cB=function(a,r,o){return a>o?a-=2*(r=Math.ceil((a-o)/(2*Math.PI)))*Math.PI:a<r&&(a+=2*(r=Math.ceil((r-a)/(2*Math.PI)))*Math.PI),a},c}()}(re||(re={})),function(h){h.XK=function(){function N(){}return N.$X=function(x,c){var a=8,r=[0,0,0,0],o=new h.h;o.L(c),o.scale(h.cb.sc(x).Hd().Ec()==9102?1:h.cb.sc(x).Hd().ai/3.141592653589793*180),-180>o.x?(o.x-=o.x%360,-180>o.x&&(o.x+=360)):180<o.x&&(o.x-=o.x%360,180<o.x&&(o.x-=360)),90<o.y&&(o.y=90),-90>o.y&&(o.y=-90);for(var l=-180,d=180,f=(x=5*a)-1,m=(c=(x+31)/32)-1;0<=m;m--)for(var b=f-32*m,_=Math.min(32,x-32*m),$=1;$<_;$+=2){var C=.5*(d+l);o.x>=C?(r[m]|=1<<b,l=C):d=C,b-=2,f-=2}for(l=-90,d=90,f=x-2,m=c-1;0<=m;m--)for(b=f-32*m,_=Math.min(32,x-32*m),$=0;$<_;$+=2)C=.5*(d+l),o.y>=C?(r[m]|=1<<b,l=C):d=C,b-=2,f-=2;return N.$P(r,a,a)},N.$P=function(x,c,a){for(var r=[],o=0;o<c;o++)r[o]="";for(var l=o=0,d=0;d<c;d++){var f=x[o]>>l&31;if(31<(l+=5)){var m=37-l;f&=(1<<m)-1,l-=32,f|=(x[++o]&(1<<l)-1)<<m}r[c-1-d]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[f]}if(a>c)for(d=0;d<a-c;d++)r.push("0");else a<c&&(r.length=a);return r.join("")},N}()}(re||(re={})),function(h){var N={gcstol:[0,2e-9,1,2241706620489156e-24,2,2313672246530541e-24,3,898240164660333e-23,4,8982433838020134e-24,5,8982439417325895e-24,6,8982466029667677e-24,7,8982476760268133e-24,8,8982492642167149e-24,9,898251968292634e-23,10,898253685210448e-23,11,8982546725256576e-24,12,8982557456049832e-24,13,898257333682596e-23,14,8982575482995276e-24,15,8982578488197342e-24,16,8982579775336987e-24,17,89825840676828e-22,18,8982599090925448e-24,19,8982605529473397e-24,20,8982609220517402e-24,21,8982611968030573e-24,22,8982616260407152e-24,23,8982620552787834e-24,24,8982633429954492e-24,25,8982637722351582e-24,26,898264416095491e-23,27,8982646307158072e-24,28,8982654891980968e-24,29,8982667769246082e-24,30,8982674207892485e-24,31,8982680646548117e-24,32,8982682792768713e-24,33,8982685798042582e-24,34,8982689231436652e-24,35,898269137766135e-23,36,898269266624163e-23,37,8982705114087017e-24,38,8982706830791106e-24,39,8982711958374661e-24,40,8982712839964735e-24,41,8982717991496125e-24,42,8982721424914803e-24,43,8982723571154887e-24,44,8982727863638127e-24,45,8982730868942154e-24,46,8982734302370678e-24,47,8982745033612112e-24,48,8982751472369276e-24,49,8982755764879183e-24,50,8982762203651733e-24,51,8982764776628385e-24,52,8982766496171896e-24,53,898277722749025e-23,54,898278152002477e-23,55,898279933943848e-23,56,89829143024805e-22,57,8982922161948598e-24,58,898292327314211e-23,59,8982925667349601e-24,60,8982932222965576e-24,61,8982961298941316e-24,62,8982965524049989e-24,63,8982994818246099e-24,64,8982994895706967e-24,65,898299489597736e-23,66,8983000733443498e-24,67,8983055097289157e-24,68,8983064111047368e-24,69,8983111996941178e-24,70,8983120447446023e-24,71,898312748954554e-23,72,8983134531656096e-24,73,8983141573777694e-24,74,8983148615910332e-24,75,8983152841195215e-24,76,8983153545409748e-24,77,8983153827095593e-24,78,898315396793852e-23,79,8983154249624393e-24,80,8983155658054012e-24,81,8983960794340072e-24,82,8984061344391998e-24,83,8984072829255685e-24,84,8984194981201908e-24,85,8984275233099427e-24,86,8984326127007554e-24,87,8984330099816539e-24,88,898433275258421e-23,89,8984333047023206e-24,90,8984333885258723e-24,91,8984337959508212e-24,92,8984365176209457e-24,93,8984727360418079e-24,94,8984901041679577e-24,95,898542662091587e-23,96,898610024130669e-23,97,8992894229037531e-24,98,8993203677616635e-24,99,8993206178094346e-24,100,8993216059187305e-24,101,899322029394808e-23,102,8994627867045891e-24,103,9467559984315793e-24,104,946881168618118e-23,105,9980888154931644e-24,106,9981105353606775e-24,107,9983807356573187e-24,108,1687060485811522e-23,109,1688447560354875e-23,110,2176606011487185e-23,111,2225078816042032e-23,112,2348476432064694e-23,113,2348765250187846e-23,114,2378108974103778e-23,115,314559636297708e-22,116,3297788621680806e-23,117,3667892343788279e-23,118,4235973644320739e-23,119,4794625900676345e-23,120,7262742998235812e-23,121,7499447580246377e-23,122,7525056410964318e-23,123,7979913581209237e-23,124,9662020153976783e-23,125,9799175562353741e-23,126,9897353517547472e-23,127,102313891987647e-21,128,1081460541960784e-22,129,121905913857622e-21,130,2246893314238523e-22,131,2297344808062643e-22,132,242984645941825e-21,133,2754604784282804e-22,134,2884548130346993e-22,135,3370339971357784e-22,136,4307953346848296e-22,137,5208707228462029e-22,138,5509209568565608e-22,139,6452227422644406e-22,140,6740679942715567e-22,141,6861770001566745e-22,142,7252630318111686e-22,143,7441010326374328e-22,144,7742672907173287e-22,145,9629542775307953e-22,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6666666666666667e-24,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},x={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};h.wr=function(){function c(){}return c.Sy=function(a){c.xp===!1&&c.yt();var r=c.FQ(a);if(r==-1){var o=c.Bx(a);o!=a&&(r=c.Sy(o))}return r==-1&&(o=c.FK(a))!=a&&(r=c.Sy(o)),r},c.FQ=function(a){return c.Fw[a]!==void 0?c.Fw[a]:-1},c.CQ=function(a){c.xp===!1&&c.yt();var r=c.nF(a);if(r==1e38){var o=c.Bx(a);if(o!=a&&(r=c.nF(o)),r==1e38)return 1e-10}return r},c.ZS=function(a){if(c.Is[a]!==void 0)return!0;var r=c.Bx(a);return r!=a&&c.Is[r]!==void 0},c.aT=function(a){if(c.xo[a]!==void 0)return!0;var r=c.Bx(a);return r!=a&&c.xo[r]!==void 0},c.nF=function(a){return c.xp===!1&&c.yt(),c.Is[a]!==void 0?c.Is[a]:c.xo[a]!==void 0?c.xo[a]:1e38},c.FK=function(a){return c.xp===!1&&c.yt(),c.WA[a]!==void 0?c.WA[a]:a},c.Bx=function(a){return c.xp===!1&&c.yt(),c.XA[a]!==void 0?c.XA[a]:a},c.yt=function(){for(var a,r=N,o=0;o<r.pcsid.length;o+=2)c.xo[r.pcsid[o]]=r.pcstol[2*r.pcsid[o+1]+1];for(o=0;o<r.pcsidc.length;o+=1)for(var l=(a=r.pcsidc[o])[0];l<=a[1];l++)c.xo[l]=r.pcstol[2*a[2]+1];for(o=0;o<r.gcsid.length;o+=2)c.Is[r.gcsid[o]]=r.gcstol[2*r.gcsid[o+1]+1];for(o=0;o<r.gcsidc.length;o+=1)for(l=(a=r.gcsidc[o])[0];l<=a[1];l++)c.xo[l]=r.gcstol[2*a[2]+1];for(o=0;o<x.c.length;o+=1)for(l=(a=x.c[o])[0];l<=a[1];l++)c.Fw[l]=a[2];for(o=0;o<x.nc.length;o+=2)c.Fw[x.nc[o]]=x.nc[o+1];for(x=null,o=0;o<r.newtoold.length;o+=2)c.WA[r.newtoold[o+1]]=r.newtoold[o],c.XA[r.newtoold[o]]=r.newtoold[o+1];N=null,c.xp=!0},c.xp=!1,c.Is=[],c.xo=[],c.WA=[],c.XA=[],c.Fw=[],c}()}(re||(re={})),function(h){function N(c){return c.length===0?'""':c[0]=='"'||c[0]=="."||"0"<=c[0]&&"9">=c[0]?c:'"'+c.trim()+'"'}var x=[];h.XC=function(){function c(){}return c.EQ=function(a){try{for(var r=0;r<x.length;r++)if(x[r].wkttext===a)return x[r].unit;for(var o,l=r="",d=!1,f=0;f<a.length;f++){var m=a[f];d===!0?m=='"'?a[f+1]=='"'?r+=m:d=d=!1:r+=m:/[\s]/.test(m)||(m==","?(l=r!==""?l+(N(r)+","):l+",",r=""):m==")"||m=="]"?(l=r!==""?l+(N(r)+"]}"):l+"]}",r=""):m=="("||m=="["?(l+='{ "entity": "'+r.toUpperCase().trim()+'", "values":[',r=""):m=='"'?(d=!0,r=""):r+=m)}o=JSON.parse(l);var b=c.mF(o);if(b===null)return null;for(o=null,m=0;m<b.values.length;m++)if(typeof b.values[m]=="object"&&(b.values[m].entity==="UNIT"||b.values[m].entity==="ANGLEUNIT"||b.values[m].entity==="LENGTHUNIT")){o=b.values[m];break}if(o===null)return null;var _=h.Tc.ZO(b.entity==="GEOGCS"||b.entity==="GEOGCRS"?1:0,o.values[1],o.values[2]);return x.push({wkttext:a,unit:_}),10<x.length&&x.shift(),_}catch{return null}},c.mF=function(a){if(a===null)return null;switch(a.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return a}for(var r=[],o=0;o<a.values.length;o++)if(typeof a.values[o]=="object"&&a.values[o].entity!==void 0)switch(a.values[o].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return a.values[o];default:r.push(a.values[o])}for(a=0;a<r.length;a++)if((o=c.mF(r[a]))!==null)return o;return null},c.DQ=function(a){var r=-1;if(a!=null&&0<a.length){var o=a.search(/PROJCR?S/);if(0<=o){var l=0;if(0<=(o=a.lastIndexOf("UNIT"))&&0<(o=a.indexOf(",",o+4))){o++;var d=a.indexOf("]",o+1);if(0<d)try{l=parseFloat(a.substring(o,d))}catch{l=0}}0<l&&(r=.001/l)}else if(0<=(o=a.search(/GEOGCR?S/))){var f=0;if(l=0,(o=a.indexOf("SPHEROID",o+6))===-1&&(o=a.indexOf("ELLIPSOID",o+7)),0<o&&0<(o=a.indexOf(",",o+8))){if(o++,0<(d=a.indexOf(",",o+1)))try{f=parseFloat(a.substring(o,d))}catch{f=0}if(0<f&&((o=a.lastIndexOf("ANGLEUNIT",d+1))===-1&&(o=a.lastIndexOf("UNIT",d+1)),0<=o&&0<(o=a.indexOf(",",o+4))&&(o++,0<(d=a.indexOf("]",o+1)))))try{l=parseFloat(a.substring(o,d))}catch{l=0}}0<f&&0<l&&(r=.001/(f*l))}}return r},c}()}(re||(re={})),function(h){var N;(N=h.eL||(h.eL={}))[N.NONE=0]="NONE",N[N.LINEAR=1]="LINEAR",N[N.ANGULAR=2]="ANGULAR",function(c){c[c.enumFloat=0]="enumFloat",c[c.enumDouble=1]="enumDouble",c[c.enumInt32=2]="enumInt32",c[c.enumInt64=3]="enumInt64",c[c.enumInt8=4]="enumInt8",c[c.enumInt16=5]="enumInt16"}(h.QL||(h.QL={})),function(c){c[c.POSITION=0]="POSITION",c[c.Z=1]="Z",c[c.M=2]="M",c[c.ID=3]="ID",c[c.NORMAL=4]="NORMAL",c[c.TEXTURE1D=5]="TEXTURE1D",c[c.TEXTURE2D=6]="TEXTURE2D",c[c.TEXTURE3D=7]="TEXTURE3D",c[c.ID2=8]="ID2",c[c.MAXSEMANTICS=10]="MAXSEMANTICS"}(h.Ih||(h.Ih={}));var x=function(){function c(a,r){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,r!==void 0){for(this.Aa=r.Aa,this.Oq=r.Oq,this.bg=r.bg.slice(0),this.uh=r.uh.slice(0),this.wl=r.wl,this.Vs=[],a=r=0;a<this.Aa;a++)this.Vs[a]=r,r+=c.Va(this.bg[a]);for(this.Oq=r,this.Ae=[],a=0;a<this.Aa;a++){r=c.Va(this.kd(a));for(var o=c.se(this.kd(a)),l=0;l<r;l++)this.Ae[this.Vs[a]+l]=o}}else this.Oq=this.Aa=0}return c.prototype.kd=function(a){if(0>a||a>this.Aa)throw h.i.N();return this.bg[a]},c.prototype.Pf=function(a){return this.uh[a]},c.lz=function(a){return c.JM[a]},c.Tp=function(a){return c.SM[a]},c.Va=function(a){return c.rM[a]},c.prototype.hasAttribute=function(a){return 0<=this.uh[a]},c.prototype.iG=function(){return this.hasAttribute(1)},c.se=function(a){return c.eD[a]},c.prototype.LR=function(a){return this.Vs[a]},c.DG=function(a,r){return c.eD[a]===r},c.prototype.Nb=function(a){return this===a},c.prototype.An=function(){for(var a=h.O.Th(this.bg[0]),r=1;r<this.Aa;r++)a=h.O.Th(this.bg[r],a);return a},c.prototype.$j=function(a){return this.Vs[a]},c.prototype.cc=function(){return this.wl},c.prototype.Ed=function(a){return this.bg[a]},c.eD=[0,0,NaN,0,0,0,0,0,0],c.JM=[1,1,1,0,2,1,1,1,0],c.SM=[1,1,1,2,0,0,0,0,2],c.rM=[2,1,1,1,3,1,2,3,2],c}();h.ra=x}(re||(re={})),function(h){function N(d,f,m){var b=f-(d=new l(d)).e,_=d.c;for(_.length>++f&&x(d,b,l.eu),_[0]?m?b=f:(_=d.c,b=d.e+b+1):++b;_.length<b;_.push(0));return b=d.e,m===1||m&&(f<=b||b<=a)?(0>d.Bd&&_[0]?"-":"")+(1<_.length?_[0]+"."+_.join("").slice(1):_[0])+(0>b?"e":"e+")+b:d.toString()}function x(d,f,m,b){var _=d.c,$=d.e+f+1;if(m===1?b=5<=_[$]:m===2?b=5<_[$]||_[$]==5&&(b||0>$||_[$+1]!==void 0||1&_[$-1]):m===3?b=b||_[$]!==void 0||0>$:(b=!1,m!==0&&c("!Big.RM!")),1>$||!_[0])b?(d.e=-f,d.c=[1]):d.c=[d.e=0];else{if(_.length=$--,b)for(;9<++_[$];)_[$]=0,$--||(++d.e,_.unshift(1));for($=_.length;!_[--$];_.pop());}return d}function c(d){throw(d=Error(d)).name="BigError",d}var a=-7,r=21,o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,l=function(){function d(f){if(f instanceof d)this.Bd=f.Bd,this.e=f.e,this.c=f.c.slice();else{var m,b,_;for(f===0&&0>1/f?f="-0":o.test(f+="")||c(NaN),this.Bd=f.charAt(0)=="-"?(f=f.slice(1),-1):1,-1<(m=f.indexOf("."))&&(f=f.replace(".","")),0<(b=f.search(/e/i))?(0>m&&(m=b),m+=+f.slice(b+1),f=f.substring(0,b)):0>m&&(m=f.length),b=0;f.charAt(b)=="0";b++);if(b==(_=f.length))this.c=[this.e=0];else{for(;f.charAt(--_)=="0";);for(this.e=m-b-1,this.c=[],m=0;b<=_;this.c[m++]=+f.charAt(b++));}}}return d.prototype.abs=function(){var f=new d(this);return f.Bd=1,f},d.prototype.cmp=function(f){var m=this.c,b=(f=new d(f)).c,_=this.Bd,$=f.Bd,C=this.e,P=f.e;if(!m[0]||!b[0])return m[0]?_:b[0]?-$:0;if(_!=$)return _;if(f=0>_,C!=P)return C>(P^f)?1:-1;for(_=-1,$=(C=m.length)<(P=b.length)?C:P;++_<$;)if(m[_]!=b[_])return m[_]>(b[_]^f)?1:-1;return C==P?0:C>(P^f)?1:-1},d.prototype.jm=function(f){var m=this.c,b=(f=new d(f)).c,_=this.Bd==f.Bd?1:-1,$=d.rr;if(($!==~~$||0>$||1e6<$)&&c("!Big.DP!"),!m[0]||!b[0])return m[0]==b[0]&&c(NaN),b[0]||c(_/0),new d(0*_);var C,P,L=b.slice(),V=C=b.length,U=m.length,Y=m.slice(0,C),X=Y.length,Z=f,ne=Z.c=[],oe=0,he=$+(Z.e=this.e-f.e)+1;for(Z.Bd=_,_=0>he?0:he,L.unshift(0);X++<C;Y.push(0));do{for(P=0;10>P;P++){if(C!=(X=Y.length))var be=C>X?1:-1;else{var Ce=-1;for(be=0;++Ce<C;)if(b[Ce]!=Y[Ce]){be=b[Ce]>Y[Ce]?1:-1;break}}if(!(0>be))break;for(f=X==C?b:L;X;){if(Y[--X]<f[X]){for(Ce=X;Ce&&!Y[--Ce];Y[Ce]=9);--Y[Ce],Y[X]+=10}Y[X]-=f[X]}for(;!Y[0];Y.shift());}ne[oe++]=be?P:++P,Y[0]&&be?Y[X]=m[V]||0:Y=[m[V]]}while((V++<U||Y[0]!==void 0)&&_--);return ne[0]||oe==1||(ne.shift(),Z.e--),oe>he&&x(Z,$,d.eu,Y[0]!==void 0),Z},d.prototype.fS=function(){return 0<this.cmp(0)},d.prototype.nT=function(){return 0>this.cmp(0)},d.prototype.jt=function(f){var m,b=this.Bd,_=(f=new d(f)).Bd;if(b!=_)return f.Bd=-_,this.tI(f);var $=this.c.slice(),C=this.e,P=f.c,L=f.e;if(!$[0]||!P[0])return P[0]?(f.Bd=-_,f):new d($[0]?this:0);if(b=C-L){for((m=0>b)?(b=-b,C=$):(L=C,C=P),C.reverse(),_=b;_--;C.push(0));C.reverse()}else for(C=((m=$.length<P.length)?$:P).length,b=_=0;_<C;_++)if($[_]!=P[_]){m=$[_]<P[_];break}if(m&&(C=$,$=P,P=C,f.Bd=-f.Bd),0<(_=(C=P.length)-(m=$.length)))for(;_--;$[m++]=0);for(_=m;C>b;){if($[--C]<P[C]){for(m=C;m&&!$[--m];$[m]=9);--$[m],$[C]+=10}$[C]-=P[C]}for(;$[--_]==0;$.pop());for(;$[0]==0;)$.shift(),--L;return $[0]||(f.Bd=1,$=[L=0]),f.c=$,f.e=L,f},d.prototype.tI=function(f){var m=this.Bd,b=(f=new d(f)).Bd;if(m!=b)return f.Bd=-b,this.jt(f);b=this.e;var _=this.c,$=f.e,C=f.c;if(!_[0]||!C[0])return C[0]?f:new d(_[0]?this:0*m);if(_=_.slice(),m=b-$){for(0<m?($=b,b=C):(m=-m,b=_),b.reverse();m--;b.push(0));b.reverse()}for(0>_.length-C.length&&(b=C,C=_,_=b),m=C.length,b=0;m;)b=(_[--m]=_[m]+C[m]+b)/10|0,_[m]%=10;for(b&&(_.unshift(b),++$),m=_.length;_[--m]==0;_.pop());return f.c=_,f.e=$,f},d.prototype.pow=function(f){var m=this,b=new d(1),_=b,$=0>f;for((f!==~~f||-1e6>f||1e6<f)&&c("!pow!"),f=$?-f:f;1&f&&(_=_.lr(m)),f>>=1;)m=m.lr(m);return $?b.jm(_):_},d.prototype.round=function(f,m){var b=this;return f==null?f=0:(f!==~~f||0>f||1e6<f)&&c("!round!"),x(b=new d(b),f,m??d.eu),b},d.prototype.sqrt=function(){var f=this.c,m=this.Bd,b=this.e,_=new d("0.5");if(!f[0])return new d(this);0>m&&c(NaN),(m=Math.sqrt(this.toString()))==0||m==1/0?((m=f.join("")).length+b&1||(m+="0"),(f=new d(Math.sqrt(m).toString())).e=((b+1)/2|0)-(0>b||1&b)):f=new d(m.toString()),m=f.e+(d.rr+=4);do b=f,f=_.lr(b.tI(this.jm(b)));while(b.c.slice(0,m).join("")!==f.c.slice(0,m).join(""));return x(f,d.rr-=4,d.eu),f},d.prototype.lr=function(f){var m=this.c,b=(f=new d(f)).c,_=m.length,$=b.length,C=this.e,P=f.e;if(f.Bd=this.Bd==f.Bd?1:-1,!m[0]||!b[0])return new d(0*f.Bd);if(f.e=C+P,_<$){var L=m;m=b,b=L,P=_,_=$,$=P}for(L=Array(P=_+$);P--;L[P]=0);for(C=$;C--;){for($=0,P=_+C;P>C;)$=L[P]+b[C]*m[P-C-1]+$,L[P--]=$%10,$=$/10|0;L[P]=(L[P]+$)%10}for($&&++f.e,L[0]||L.shift(),C=L.length;!L[--C];L.pop());return f.c=L,f},d.prototype.toString=function(){var f=this.e,m=this.c.join(""),b=m.length;if(f<=a||f>=r)m=m.charAt(0)+(1<b?"."+m.slice(1):"")+(0>f?"e":"e+")+f;else if(0>f){for(;++f;m="0"+m);m="0."+m}else if(0<f)if(++f>b)for(f-=b;f--;m+="0");else f<b&&(m=m.slice(0,f)+"."+m.slice(f));else 1<b&&(m=m.charAt(0)+"."+m.slice(1));return 0>this.Bd&&this.c[0]?"-"+m:m},d.prototype.toExponential=function(f){return f==null?f=this.c.length-1:(f!==~~f||0>f||1e6<f)&&c("!toExp!"),N(this,f,1)},d.prototype.toFixed=function(f){var m=a,b=r;if(a=-(r=1/0),f==null)var _=this.toString();else f===~~f&&0<=f&&1e6>=f&&(_=N(this,this.e+f),0>this.Bd&&this.c[0]&&0>_.indexOf("-")&&(_="-"+_));return a=m,r=b,_||c("!toFix!"),_},d.prototype.toPrecision=function(f){return f==null?this.toString():((f!==~~f||1>f||1e6<f)&&c("!toPre!"),N(this,f-1,2))},d.rr=20,d.eu=1,d}();h.hp=l}(re||(re={})),function(h){var N=function(){function x(c){this.lf=c}return x.prototype.nr=function(c,a,r){var o=new h.h,l=new h.h,d=this.lf;r.Vd(c,a,function(f,m){return d.tc(2*f,o),d.tc(2*m,l),o.compare(l)})},x.prototype.$p=function(c){return this.lf.read(2*c+1)},x}();h.pi=function(){function x(){}return x.aq=function(c){if(c.B())return!1;var a=c.getType();return a==1736?c.Ke()!=0:a==1607?(a=[!1],x.sE(c,!0,a),a[0]):!(a!=197&&(!h.aa.yd(a)||c.BG()))},x.gm=function(c){var a=c.getType();if(a==1736)return a=new h.Ta(c.description),c.B()||c.dD(a),a;if(a==1607)return x.sE(c,!1,null);if(a==197)return a=new h.Ta(c.description),c.B()||a.ad(c,!1),a;if(h.aa.yd(a)){if(a=new h.de(c.description),!c.B()&&!c.BG()){var r=new h.Sa;c.To(r),a.add(r),c.Po(r),a.add(r)}return a}if(h.aa.Rn(a))return null;throw h.i.N()},x.sE=function(c,a,r){r!=null&&(r[0]=!1);var o=null;if(a||(o=new h.de(c.description)),!c.B()){var l=new h.ia(0);l.Jb(2*c.da());for(var d=0,f=c.da();d<f;d++)if(0<c.Ja(d)&&!c.Nn(d)){var m=c.Ba(d);l.add(m),m=c.Vc(d)-1,l.add(m)}if(0<l.size){f=new h.Xt,d=c.ub(0),f.sort(l,0,l.size,new N(d)),f=new h.h,d.tc(2*l.get(0),f),m=0;for(var b=1,_=new h.Sa,$=new h.h,C=1,P=l.size;C<P;C++)if(d.tc(2*l.get(C),$),$.qb(f))l.get(m)>l.get(C)?(l.set(m,2147483647),m=C):l.set(C,2147483647),b++;else{if(1&b){if(a)return r!=null&&(r[0]=!0),null}else l.set(m,2147483647);f.L($),m=C,b=1}if(1&b){if(a)return r!=null&&(r[0]=!0),null}else l.set(m,2147483647);if(!a)for(l.Vd(0,l.size,function(L,V){return L-V}),C=0,P=l.size;C<P&&l.get(C)!=2147483647;C++)c.ve(l.get(C),_),o.add(_)}}return a?null:o},x}()}(re||(re={})),function(h){var N=function(){function x(){this.yf=new h.ia(0),this.ys=new h.ia(0),this.EH=1,this.Es=NaN}return x.prototype.sort=function(c,a,r,o){if(32>r-a)o.nr(a,r,c);else{var l=!0;try{for(var d=1/0,f=-1/0,m=a;m<r;m++){var b=o.$p(c.get(m));b<d&&(d=b),b>f&&(f=b)}if(this.reset(r-a,d,f,r-a)){for(m=a;m<r;m++){var _=c.get(m);b=o.$p(_);var $=this.zF(b);this.yf.set($,this.yf.get($)+1),this.ys.write(m-a,_)}var C=this.yf.get(0);this.yf.set(0,0),m=1;for(var P=this.yf.size;m<P;m++){var L=this.yf.get(m);this.yf.set(m,C),C+=L}for(m=a;m<r;m++){_=this.ys.read(m-a),b=o.$p(_),$=this.zF(b);var V=this.yf.get($);c.set(V+a,_),this.yf.set($,V+1)}l=!1}}catch{this.yf.resize(0),this.ys.resize(0)}if(l)o.nr(a,r,c);else{for(m=r=0,P=this.yf.size;m<P;m++)l=r,(r=this.yf.get(m))>l&&o.nr(a+l,a+r,c);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},x.prototype.reset=function(c,a,r,o){return!(2>c||r==a)&&(c=Math.min(x.hL,c),this.yf.Jb(c),this.yf.resize(c),this.yf.Wj(0,0,this.yf.size),this.EH=a,this.ys.resize(o),this.Es=(r-a)/(c-1),!0)},x.prototype.zF=function(c){return h.O.truncate((c-this.EH)/this.Es)},x.hL=65536,x}();h.Xt=N}(re||(re={})),function(h){var N,x;(x=N||(N={}))[x.enum_line=1]="enum_line",x[x.enum_arc=2]="enum_arc",x[x.enum_dummy=4]="enum_dummy",x[x.enum_concave_dip=8]="enum_concave_dip",x[x.enum_connection=3]="enum_connection";var c=function(){function d(){}return d.Qu=function(f,m,b,_,$,C){var P=new d;return P.Im=new h.h,P.Vm=new h.h,P.aw=new h.h,P.Im.L(f),P.Vm.L(m),P.aw.L(b),P.Co=_,P.qh=$,P.sh=C,P},d.construct=function(f,m,b,_){var $=new d;return $.Im=new h.h,$.Vm=new h.h,$.aw=new h.h,$.Im.L(f),$.Vm.L(m),$.aw.Rc(),$.Co=4,$.qh=b,$.sh=_,$},d}(),a=function(){function d(f,m,b,_,$,C){this.Yv=null,this.ya=0,this.EA=f,this.bI=this.$H=0,this.Ka=m,this.Mj=b,this.vk=_,this.Dq=$,this.Ub=C}return d.prototype.next=function(){for(var f=new h.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,f),this.ya++,!f.B())break}var m=!1;if(this.Yv==null&&(this.$H=f.Lg(),this.bI=f.ih(),this.Yv=l.buffer(f,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),m=!0),this.ya<this.EA.I()){var b=new h.Da;this.Yv.copyTo(b)}else b=this.Yv;if(!m){m=new h.Dd;var _=f.Lg()-this.$H;f=f.ih()-this.bI,m.gg(_,f),b.Oc(m)}return b},d.prototype.La=function(){return 0},d.prototype.qe=function(){},d}(),r=function(){function d(f,m){this.Wa=f,this.ya=0,this.oq=m}return d.prototype.next=function(){var f=this.Wa.X;if(this.ya<f.da()){var m=this.ya;if(this.ya++,!f.Nn(m))for(var b=f.Na(f.Vc(m)-1);this.ya<f.da();){var _=f.Na(f.Ba(this.ya));if(f.Nn(this.ya)||_!=b)break;b=f.Na(f.Vc(this.ya)-1),this.ya++}if(this.ya-m==1)return this.Wa.kE(this.Wa.X,m,this.oq);for((b=new h.Ta(this.Wa.X.description)).addPath(this.Wa.X,m,!0),m+=1;m<this.ya;m++)b.Dr(this.Wa.X,m,0,f.rv(m),!1);return this.Wa.kE(b,0,this.oq)}return null},d.prototype.La=function(){return 0},d.prototype.qe=function(){},d}(),o=function(){function d(f){this.Wa=f,this.ya=0}return d.prototype.next=function(){var f=this.Wa.X;if(this.ya<f.da()){var m=this.ya;for(f.Ir(this.ya),this.ya++;this.ya<f.da()&&!(0<f.Ir(this.ya));)this.ya++;return m==0&&this.ya==f.da()?this.Wa.py(f,0,f.da()):this.Wa.py(f,m,this.ya)}return null},d.prototype.La=function(){return 0},d.prototype.qe=function(){},d}(),l=function(){function d(f){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=f,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return d.buffer=function(f,m,b,_,$,C){if(f==null||0>_)throw h.i.N();if(f.B())return new h.Da(f.description);var P=new h.l;return f.xc(P),0<m&&P.W(m,m),(C=new d(C)).Mj=b,C.X=f,C.qa=h.ta.Wd(b,P,!0),C.ct=h.ta.Wd(null,P,!0),C.Ka=m,C.JT=f.getType(),0>=$&&($=96),C.rb=Math.abs(C.Ka),C.Kv=C.rb!=0?1/C.rb:0,isNaN(_)||_==0?_=1e-5*C.rb:_>.5*C.rb&&(_=.5*C.rb),12>$&&($=12),(f=Math.abs(m)*(1-Math.cos(Math.PI/$)))>_?_=f:(f=Math.PI/Math.acos(1-_/Math.abs(m)))<$-1&&12>($=h.O.truncate(f))&&($=12,_=Math.abs(m)*(1-Math.cos(Math.PI/$))),C.vk=_,C.Dq=$,C.tA=Math.min(C.ct,.25*_),C.lE()},d.prototype.cv=function(){if(this.Id==null)this.Id=[];else if(this.Id.length!==0)return;var f=this.qE();f=h.O.truncate((f+3)/4);var m=.5*Math.PI/f;this.oA=m;for(var b=0;b<4*f;b++)this.Id.push(null);var _=Math.cos(m);m=Math.sin(m);var $=h.h.construct(0,1);for(b=0;b<f;b++)this.Id[b+0*f]=h.h.construct($.y,-$.x),this.Id[b+1*f]=h.h.construct(-$.x,-$.y),this.Id[b+2*f]=h.h.construct(-$.y,$.x),this.Id[b+3*f]=$,($=h.h.construct($.x,$.y)).Bt(_,m)},d.prototype.lE=function(){var f=this.X.getType();if(h.aa.yd(f))return(f=new h.Ta(this.X.description)).oc(this.X,!0),this.X=f,this.lE();if(this.Ka<=this.qa){if(!h.aa.US(f))return new h.Da(this.X.description);if(0>=this.Ka&&(f=new h.l,this.X.A(f),f.R()<=2*-this.Ka||f.ca()<=2*this.Ka))return new h.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw h.i.Qa()}},d.prototype.RN=function(){if(this.EG(this.X)){var f=new h.Sa;this.X.ve(0,f);var m=new h.l;return this.X.A(m),f.Cb(m.sf()),this.Gu(f)}return this.X=this.WV(this.X),f=new r(this,this.oq),h.Gh.local().V(f,this.Mj,this.Ub).next()},d.prototype.QN=function(){if(this.Ka==0)return this.X;var f=h.Yl.local();if(this.cv(),this.X=f.V(this.X,null,!1,this.Ub),0>this.Ka){var m=this.X;return m=this.py(m,0,m.da()),f.V(m,this.Mj,!1,this.Ub)}return this.EG(this.X)?(f=new h.Sa,this.X.ve(0,f),m=new h.l,this.X.A(m),f.Cb(m.sf()),this.Gu(f)):(f=new o(this),h.Gh.local().V(f,this.Mj,this.Ub).next())},d.prototype.py=function(f,m,b){for(var _=new h.Da(f.description);m<b;m++)if(!(1>f.Ja(m))){var $=f.Ir(m),C=new h.l;if(f.Rj(m,C),0<this.Ka){if(0<$)if(this.FG(f,m))$=new h.Sa,f.ve(f.Ba(m),$),$.Cb(C.sf()),this.yu(_,$);else{var P=$=new h.Ta(f.description);P=h.Zt.JG(this.X,m)||this.zn(this.X,m,P,!0,1)==2?this.jE(f,m):this.yn($),_.add(P,!1)}else if(!(C.R()+this.qa<=2*this.rb||C.ca()+this.qa<=2*this.rb||(P=$=new h.Ta(f.description),this.zn(this.X,m,P,!0,1),$.B()))){var L=new h.l;for(L.K(C),L.W(this.rb,this.rb),P.tp(L),C=1,$=(P=this.yn($)).da();C<$;C++)_.addPath(P,C,!0)}}else if(0<$){if(!(C.R()+this.qa<=2*this.rb||C.ca()+this.qa<=2*this.rb||(P=$=new h.Ta(f.description),this.zn(this.X,m,P,!0,-1),$.B())))for(L=new h.l,P.xc(L),L.W(this.rb,this.rb),P.tp(L),C=1,$=(P=this.yn($)).da();C<$;C++)_.addPath(P,C,!0)}else for(P=$=new h.Ta(f.description),this.zn(this.X,m,P,!0,-1),C=0,$=(P=this.yn($)).da();C<$;C++)_.addPath(P,C,!0)}if(0<this.Ka)return 1<_.da()?_=this.yn(_):d.kx(_);if(f=new h.l,_.xc(f),_.B())return d.kx(_);for(f.W(this.rb,this.rb),_.tp(f),_=this.yn(_),f=new h.Da(_.description),C=1,$=_.da();C<$;C++)f.addPath(_,C,!1);return d.kx(f)},d.prototype.PN=function(){return this.Gu(this.X)},d.prototype.Gu=function(f){var m=new h.Da(this.X.description);return this.yu(m,f),this.sX(m)},d.prototype.ON=function(){var f=new a(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return h.Gh.local().V(f,this.Mj,this.Ub).next()},d.prototype.LN=function(){var f=new h.Da(this.X.description);if(0>=this.Ka){if(this.Ka==0)f.ad(this.X,!1);else{var m=new h.Fh;this.X.bn(m),m.W(this.Ka,this.Ka),f.ad(m,!1)}return f}return f.ad(this.X,!1),this.X=f,this.jE(f,0)},d.prototype.jE=function(f,m){this.cv();var b=new h.Da(f.description),_=new h.h,$=new h.h,C=new h.h,P=new h.h,L=new h.h,V=new h.h,U=new h.h,Y=new h.h,X=f.Ja(m),Z=f.Ba(m),ne=0;for(m=f.Ja(m);ne<m;ne++){if(f.D(Z+ne,$),f.D(Z+(ne+1)%X,P),f.D(Z+(ne+2)%X,V),U.uc(P,$),U.length()==0||(U.Hv(),U.normalize(),U.scale(this.rb),_.add(U,$),C.add(U,P),ne==0?b.Lt(_):b.Ci(_),b.Ci(C),Y.uc(V,P),Y.length()==0))throw h.i.Qa();Y.Hv(),Y.normalize(),Y.scale(this.rb),L.add(Y,P),this.GD(b,P,C,L,!1)}return d.kx(b)},d.prototype.kE=function(f,m,b){if(this.cv(),1>f.Ja(m))return null;if(this.FG(f,m)&&0<this.Ka){b=new h.Sa,f.ve(f.Ba(m),b);var _=new h.l;return f.Rj(m,_),b.Cb(_.sf()),this.Gu(b)}if(_=new h.Ta(f.description),f.Nn(m))this.zn(f,m,_,b,1),this.zn(f,m,_,b,-1);else{var $=new h.Ta(f.description);$.addPath(f,m,!1),$.Dr(f,m,0,f.rv(m),!1),this.zn($,0,_,b,1)}return this.yn(_)},d.prototype.Xq=function(){if(this.Ys++,this.Ys%1024==0&&this.Ub!=null&&!this.Ub.progress(-1,-1))throw h.i.fu("user_canceled")},d.prototype.yn=function(f){return h.Fg.Mk(f,this.ct,!0,!0,this.Ub)},d.prototype.qE=function(){if(this.vk==0)return this.Dq;var f=1-this.vk*Math.abs(this.Kv);return 4>(f=-1>f?4:2*Math.PI/Math.acos(f)+.5)?f=4:f>this.Dq&&(f=this.Dq),h.O.truncate(f)},d.prototype.GD=function(f,m,b,_,$){this.cv();var C=new h.h;C.uc(b,m),C.scale(this.Kv);var P=new h.h;P.uc(_,m),P.scale(this.Kv),0>(C=Math.atan2(C.y,C.x)/this.oA)&&(C=this.Id.length+C),C=this.Id.length-C,0>(P=Math.atan2(P.y,P.x)/this.oA)&&(P=this.Id.length+P),(P=this.Id.length-P)<C&&(P+=this.Id.length);var L=h.O.truncate(P);P=h.O.truncate(Math.ceil(C)),(C=new h.h).L(this.Id[P%this.Id.length]),C.Ct(this.rb,m);var V=10*this.qa;for(C.sub(b),C.length()<V&&(P+=1),C.L(this.Id[L%this.Id.length]),C.Ct(this.rb,m),C.sub(_),C.length()<V&&--L,b=L-P,b++,L=0,P%=this.Id.length;L<b;L++,P=(P+1)%this.Id.length)C.L(this.Id[P]),C.Ct(this.rb,m),f.Ci(C),this.Xq();$&&f.Ci(_)},d.prototype.zn=function(f,m,b,_,$){var C=new h.gd,P=C.mN(f,m);if(C.Gp(this.tA,!1,!1),2>C.I(P))return 0>$||($=f,C=new h.Sa,$.ve($.Ba(m),C),this.yu(b,C)),1;var L=C.Na(C.Xa(C.Ob(P))),V=new h.Dd;if(V.gg(-L.x,-L.y),C.Oc(V),_&&(this.tQ(C,P,$),2>C.I(P)))return 0>$||($=f,C=new h.Sa,$.ve($.Ba(m),C),this.yu(b,C)),1;this.Zd.length=0;var U=C.Ob(P);m=C.Xa(U);var Y=$==1?C.Ma(m):C.U(m);f=$==1?C.U(m):C.Ma(m);var X=!0;_=new h.h,P=new h.h;var Z=new h.h,ne=new h.h,oe=new h.h,he=new h.h,be=new h.h,Ce=new h.h,Pe=new h.h,qe=new h.h,Ue=this.rb;U=C.Ja(U);for(var Je=0;Je<U;Je++)C.D(f,P),X&&(C.D(m,_),C.D(Y,Z),Ce.uc(_,Z),Ce.normalize(),qe.MG(Ce),qe.scale(Ue),ne.add(qe,_)),be.uc(P,_),be.normalize(),Pe.MG(be),Pe.scale(Ue),oe.add(_,Pe),Y=Ce.wi(be),X=Ce.Qh(be),0>Y||0>X&&Y==0?this.Zd.push(c.Qu(ne,oe,_,2,this.Zd.length+1,this.Zd.length-1)):ne.qb(oe)||(this.Zd.push(c.construct(ne,_,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(c.construct(_,oe,this.Zd.length+1,this.Zd.length-1,"dummy"))),he.add(P,Pe),this.Zd.push(c.Qu(oe,he,_,1,this.Zd.length+1,this.Zd.length-1)),ne.L(he),qe.L(Pe),Z.L(_),_.L(P),Ce.L(be),Y=m,m=f,X=!1,f=$==1?C.U(m):C.Ma(m);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(b),V.gg(L.x,L.y),b.YD(V,b.da()-1),1},d.prototype.YV=function(f){for(var m=this.zO(),b=!0,_=m+1,$=m;_!=m;$=_){var C=this.Zd[$];_=C.qh!=-1?C.qh:($+1)%this.Zd.length,C.Co!=0&&(b&&f.Lt(C.Im),C.Co==2?this.GD(f,C.aw,C.Im,C.Vm,!0):f.Ci(C.Vm),b=!1)}},d.prototype.zO=function(){this.Ks==null&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var f=0,m=0,b=this.Zd.length;m<b;){var _=this.Zd[m];if(3&_.Co){f=m;break}m=_.qh}for(b=f+1,m=f;b!=f;m=b){b=(_=this.Zd[m]).qh;for(var $=1,C=null;b!=m&&!(3&(C=this.Zd[b]).Co);)b=C.qh,$++;$!=1&&(_.Co&C.Co)==1&&(this.Ls==null&&(this.Ls=new h.yb,this.lw=new h.yb),this.Ls.Dc(_.Im),this.Ls.Qc(_.Vm),this.lw.Dc(C.Im),this.lw.Qc(C.Vm),this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)==1&&(_.Vm.L(this.Ks[0]),C.Im.L(this.Ks[0]),_.qh=b,C.sh=m))}return f},d.prototype.Fv=function(f,m,b){var _=new h.h;if(_.uc(b,f),b=_.length(),0<(b=this.rb*this.rb-b*b*.25)){b=Math.sqrt(b),_.normalize(),_.ar();var $=new h.h;if($.uc(m,f),$.Qh(_)+b>=this.rb)return!0}return!1},d.prototype.tQ=function(f,m,b){for(var _=0;1>_;_++){var $=!1,C=f.Ob(m),P=f.Ja(C);if(P==0)break;var L=P;if(3>P)break;!f.dc(C)&&(L=P-1),C=f.Xa(C),P=0<b?f.Ma(C):f.U(C);for(var V=0<b?f.U(C):f.Ma(C),U=P,Y=!0,X=new h.h,Z=new h.h,ne=new h.h,oe=new h.h,he=new h.h,be=h.h.construct(0,0),Ce=new h.h,Pe=new h.h,qe=new h.h,Ue=new h.h,Je=this.rb,je=0,Ht=0;Ht<L&&(f.D(V,Z),Y&&(f.D(C,X),f.D(P,ne),U=P),Pe.uc(X,ne),Pe.normalize(),Ce.uc(Z,X),Ce.normalize(),U!=V);){var Dt=Pe.wi(Ce),ni=Pe.Qh(Ce),mi=!0;if(0>Dt||0>ni&&Dt==0||!this.Fv(ne,X,Z)||(be.L(Z),mi=!1,++je,$=!0),mi){if(0<je)for(;(Dt=0<b?f.Ma(U):f.U(U))!=C;){if(f.D(Dt,oe),!this.Fv(oe,ne,be)){Dt!=V&&this.Fv(oe,ne,Z)&&this.Fv(oe,X,Z)&&(ne.L(oe),U=Dt,mi=!1,++je);break}ne.L(oe),U=Dt,mi=!1,++je}if(!mi)continue;if(0<je){for(U=0<b?f.Ma(P):f.U(P),Y=1;Y<je;Y++)mi=0<b?f.Ma(U):f.U(U),f.pd(U,!0),U=mi;qe.uc(X,ne),je=Je*Je-(je=qe.length())*je*.25,Je-(je=Math.sqrt(je))>.5*this.vk?(he.add(ne,X),he.scale(.5),qe.normalize(),qe.ar(),Ue.L(qe),Ue.scale(Je-je),he.add(Ue),f.mf(P,he)):f.pd(P,!0),je=0}ne.L(X),U=C}X.L(Z),P=C,C=V,V=0<b?f.U(C):f.Ma(C),Ht++,Y=!1}if(0<je){for(U=0<b?f.Ma(P):f.U(P),Y=1;Y<je;Y++)mi=0<b?f.Ma(U):f.U(U),f.pd(U,!0),U=mi;he.add(ne,X),he.scale(.5),qe.uc(X,ne),je=Je*Je-(je=qe.length())*je*.25,je=Math.sqrt(je),qe.normalize(),qe.ar(),Ue.L(qe),Ue.scale(Je-je),he.add(Ue),f.mf(P,he)}if(f.Gp(this.tA,!1,!1),!$)break}},d.prototype.FG=function(f,m){if(f.Ja(m)==1)return!0;var b=new h.l;return f.Rj(m,b),Math.max(b.R(),b.ca())<.5*this.vk},d.prototype.EG=function(f){var m=new h.l;return f.A(m),Math.max(m.R(),m.ca())<.5*this.vk},d.prototype.WV=function(f){for(var m=0,b=0,_=(f=h.EC.local().V(f,.25*this.vk,!1,this.Ub)).da();b<_;b++)m=Math.max(f.Ja(b),m);return 32>m?(this.oq=!1,f):(this.oq=!0,h.Fg.Mk(f,this.ct,!1,!0,this.Ub))},d.prototype.yu=function(f,m){if(m=m.D(),this.Id!=null&&this.Id.length!==0){var b=new h.h;b.L(this.Id[0]),b.Ct(this.rb,m),f.Lt(b);for(var _=1,$=this.Id.length;_<$;_++)b.L(this.Id[_]),b.Ct(this.rb,m),f.Ci(b)}else{_=this.qE(),b=h.O.truncate((_+3)/4),_=.5*Math.PI/b,$=Math.cos(_);for(var C=Math.sin(_),P=new h.h,L=3;0<=L;L--){switch(P.ma(0,this.rb),L){case 0:for(_=0;_<b;_++)f.yj(P.x+m.x,P.y+m.y),P.Bt($,C);break;case 1:for(_=0;_<b;_++)f.yj(-P.y+m.x,P.x+m.y),P.Bt($,C);break;case 2:for(_=0;_<b;_++)f.yj(-P.x+m.x,-P.y+m.y),P.Bt($,C);break;default:for(f.sx(P.y+m.x,-P.x+m.y),_=1;_<b;_++)P.Bt($,C),f.yj(P.y+m.x,-P.x+m.y)}this.Xq()}}},d.kx=function(f){return f.Ch(1,0),f},d.prototype.sX=function(f){return f.Ch(2,this.qa),f.fm(),f},d}();h.HK=l}(re||(re={})),function(h){var N=function(){function x(c){this.Ca=c,this.g=new h.gd,this.dd=new h.ia(0)}return x.prototype.Lh=function(c,a,r){switch(a){case 0:if(c.v<r&&c.C<=r)break;return c.v>=r?1:-1;case 1:if(c.G<r&&c.H<=r)break;return c.G>=r?1:-1;case 2:if(c.v>=r&&c.C>r)break;return c.C<=r?1:-1;case 3:if(!(c.G>=r&&c.H>r))return c.H<=r?1:-1}return 0},x.prototype.Ay=function(c,a){return c.getType()==1736?this.Cy(c,a):this.Dy(c)},x.prototype.Cy=function(c,a){if(this.Ca.R()==0||this.Ca.ca()==0)return c.Ia();var r=new h.l;c.xc(r),this.X=this.g.Ib(c);var o=new h.l,l=new h.l,d=new h.h,f=new h.h,m=[0,0,0,0,0,0,0,0,0],b=[0,0,0,0,0,0,0,0,0];new h.ig;var _=new h.yb,$=new h.ia(0);$.Jb(Math.min(100,c.I()));for(var C=!1,P=0;!C&&4>P;P++){var L=!1,V=!!(1&P),U=0;switch(P){case 0:U=this.Ca.v,L=r.v<=U&&r.C>=U;break;case 1:U=this.Ca.G,L=r.G<=U&&r.H>=U;break;case 2:U=this.Ca.C,L=r.v<=U&&r.C>=U;break;case 3:U=this.Ca.H,L=r.G<=U&&r.H>=U}if(L)for(C=!0,L=this.g.Ob(this.X);L!=-1;){var Y=-1,X=-1,Z=this.g.Xa(L),ne=Z;do{var oe=this.g.bc(ne);oe==null&&(oe=_,this.g.D(ne,d),oe.Dc(d),this.g.D(this.g.U(ne),f),oe.Qc(f)),oe.A(o);var he=this.Lh(o,P,U),be=0,Ce=-1;if(he==-1){be=0<(oe=oe.cq(V,U,m,b))?this.g.Ul(ne,b,oe):0,be+=1;var Pe=ne,qe=this.g.U(Pe);for(oe=0;oe<be;oe++){if(this.g.D(Pe,d),this.g.D(qe,f),(Ce=this.g.bc(Pe))==null&&((Ce=_).Dc(d),Ce.Qc(f)),Ce.A(l),(Ce=this.Lh(l,P,U))==-1){if(V)(Ce=Math.abs(d.y-U))<(Ue=Math.abs(f.y-U))?(d.y=U,this.g.mf(Pe,d)):(f.y=U,this.g.mf(qe,f));else{Ce=Math.abs(d.x-U);var Ue=Math.abs(f.x-U);Ce<Ue?(d.x=U,this.g.mf(Pe,d)):(f.x=U,this.g.mf(qe,f))}(Ce=this.g.bc(Pe))==null&&((Ce=_).Dc(d),Ce.Qc(f)),Ce.A(l),Ce=this.Lh(l,P,U)}Ue=Y,Y=Ce,X==-1&&(X=Y),Ue==0&&Y==1||Ue==1&&Y==0||Ue!=0||Y!=0||$.add(Pe),Y==1&&(C=!1),Ce=Pe=qe,qe=this.g.U(qe)}}be==0&&(Ue=Y,Y=he,X==-1&&(X=Y),Ue==0&&Y==1||Ue==1&&Y==0||Ue!=0||Y!=0||$.add(ne),Y==1&&(C=!1),Ce=this.g.U(ne)),ne=Ce}while(ne!=Z);for(X==0&&Y==0&&$.add(Z),oe=0,Y=$.size;oe<Y;oe++)X=$.get(oe),this.g.pd(X,!1);$.clear(!1),L=3>this.g.Ja(L)?this.g.Zq(L):this.g.Rb(L)}}return C?c.Ia():(this.FB(),0<a&&this.My(a),this.g.Ne(this.X))},x.prototype.Dy=function(c){var a=new h.l,r=new h.l,o=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],d=new h.ig,f=c,m=new h.l;c.xc(m);for(var b=0;4>b;b++){var _=!1,$=!!(1&b),C=0;switch(b){case 0:C=this.Ca.v,_=m.v<=C&&m.C>=C;break;case 1:C=this.Ca.G,_=m.G<=C&&m.H>=C;break;case 2:C=this.Ca.C,_=m.v<=C&&m.C>=C;break;case 3:C=this.Ca.H,_=m.G<=C&&m.H>=C}if(_){_=f,f=c.Ia(),(_=_.Ga()).Zi();for(var P,L=new h.h;_.$a();)for(var V,U=!0;_.Ha();){var Y=_.ha();Y.A(a);var X=this.Lh(a,b,C);if(X==-1){if(0<(X=Y.cq($,C,o,l))){var Z=0;P=Y.ac();for(var ne=0;ne<=X;ne++)if(Z!=(V=ne<X?l[ne]:1)){Y.ah(Z,V,d);var oe=d.get();oe.Dc(P),ne<X&&($?(L.x=o[ne],L.y=C):(L.x=C,L.y=o[ne]),oe.Qc(L)),oe.A(r);var he=this.Lh(r,b,C);if(he==-1){if(P=oe.ac(),Z=oe.wc(),$)(he=Math.abs(P.y-C))<(be=Math.abs(Z.y-C))?(P.y=C,oe.Dc(P)):(Z.y=C,oe.Qc(Z));else{he=Math.abs(P.x-C);var be=Math.abs(Z.x-C);he<be?(P.x=C,oe.Dc(P)):(Z.x=C,oe.Qc(Z))}oe.A(r),he=this.Lh(r,b,C)}P=oe.wc(),Z=V,(V=he)==1?(f.oc(oe,U),U=!1):U=!0}}}else(V=X)==1?(f.oc(Y,U),U=!1):U=!0}}}return f},x.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var c=new h.h,a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a))for(var r=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l;o++,r=this.g.U(r))this.g.D(r,c),(this.Ca.v==c.x||this.Ca.C==c.x||this.Ca.G==c.y||this.Ca.H==c.y)&&(this.g.Ra(r,this.ji,this.dd.size),this.dd.add(r));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},x.prototype.My=function(c){for(var a=new h.h,r=new h.h,o=h.O.lg(2048,0),l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l)){var d=this.g.Xa(l),f=d;do{var m=this.g.U(f);this.g.D(f,a);var b=-1;if(a.x==this.Ca.v?(this.g.D(m,r),r.x==this.Ca.v&&(b=1)):a.x==this.Ca.C&&(this.g.D(m,r),r.x==this.Ca.C&&(b=1)),a.y==this.Ca.G?(this.g.D(m,r),r.y==this.Ca.G&&(b=0)):a.y==this.Ca.H&&(this.g.D(m,r),r.y==this.Ca.H&&(b=0)),b!=-1&&(b=h.h.tb(a,r),!(1>=(b=h.O.truncate(Math.min(Math.ceil(b/c),2048)))))){for(var _=1;_<b;_++)o[_-1]=1*_/b;this.g.Ul(f,o,b-1)}f=m}while(f!=d)}},x.prototype.Vl=function(c,a){var r=this.g.Gd(),o=new h.h,l=new h.ia(0);l.Jb(100);for(var d=this.g.Ob(this.X);d!=-1;d=this.g.Rb(d))for(var f=this.g.Xa(d),m=0,b=this.g.Ja(d);m<b;m++){var _=this.g.U(f);this.g.D(f,o),(c?o.y==a:o.x==a)&&(this.g.D(_,o),(c?o.y==a:o.x==a)&&(this.g.Pa(f,r)!=1&&(l.add(f),this.g.Ra(f,r,1)),this.g.Pa(_,r)!=1&&(l.add(_),this.g.Ra(_,r,1)))),f=_}if(this.g.Td(r),!(3>l.size)){var $=this;l.Vd(0,l.size,function(he,be){return $.Mh(he,be)}),r=new h.h,d=new h.h,f=new h.h,d.Rc();var C=-1;m=new h.ia(0),b=new h.ia(0),_=this.g.Gd();for(var P=this.g.Gd(),L=0,V=l.size;L<V;L++){var U=l.get(L);if(this.g.D(U,o),!o.qb(d)){if(C!=-1){for(var Y=C;Y<L;Y++){C=l.get(Y);var X=this.g.U(C);U=this.g.Ma(C);var Z=!1;0>this.Mh(C,X)&&(this.g.D(X,r),c?r.y==a:r.x==a)&&(m.add(C),Z=!0,this.g.Ra(C,P,1)),0>this.Mh(C,U)&&(this.g.D(U,r),c?r.y==a:r.x==a)&&(Z||m.add(C),this.g.Ra(C,_,1))}for(Y=0,Z=m.size;Y<Z;Y++){if(C=m.get(Y),U=this.g.Pa(C,_),X=this.g.Pa(C,P),U==1){U=this.g.Ma(C),this.g.D(U,f);var ne=[0];if(ne[0]=0,!f.qb(o)){var oe=h.h.tb(d,f);ne[0]=h.h.tb(f,o)/oe,ne[0]==0?ne[0]=2220446049250313e-31:ne[0]==1&&(ne[0]=.9999999999999998),this.g.Ul(U,ne,1),U=this.g.Ma(C),this.g.mf(U,o),b.add(U),this.g.Ra(U,_,1),this.g.Ra(U,P,-1)}}X==1&&(X=this.g.U(C),this.g.D(X,f),(ne=[0])[0]=0,f.qb(o)||(oe=h.h.tb(d,f),ne[0]=h.h.tb(d,o)/oe,ne[0]==0?ne[0]=2220446049250313e-31:ne[0]==1&&(ne[0]=.9999999999999998),this.g.Ul(C,ne,1),U=this.g.U(C),this.g.mf(U,o),b.add(U),this.g.Ra(U,_,-1),this.g.Ra(U,P,1)))}C=m,m=b,(b=C).clear(!1)}C=L,d.L(o)}}this.g.Td(_),this.g.Td(P)}},x.prototype.Nl=function(c,a){var r=new h.h,o=new h.ia(0);o.Jb(100);for(var l=this.g.Gd(),d=0,f=this.dd.size;d<f;d++){var m=this.dd.get(d);if(m!=-1){var b=this.g.U(m);this.g.D(m,r),(c?r.y==a:r.x==a)&&(this.g.D(b,r),(c?r.y==a:r.x==a)&&(this.g.Pa(m,l)!=-2&&(o.add(m),this.g.Ra(m,l,-2)),this.g.Pa(b,l)!=-2&&(o.add(b),this.g.Ra(b,l,-2))))}}if(o.size!=0){var _=this;for(o.Vd(0,o.size,function(be,Ce){return _.Mh(be,Ce)}),d=0,f=o.size;d<f;d++){var $=o.get(d);this.g.Ra($,l,d)}m=new h.h,(b=new h.h).Rc();var C=-1;for(d=0,f=o.size;d<f;d++)if(($=o.get(d))!=-1&&(this.g.D($,r),!r.qb(b))){if(C!=-1)for(;;){$=!1;for(var P=1<d-C?d-1:d,L=C;L<P;L++){var V=o.get(L);if(V!=-1){var U=-1,Y=this.g.U(V);0>this.Mh(V,Y)&&(this.g.D(Y,m),c?m.y==a:m.x==a)&&(U=Y),Y=-1;var X=this.g.Ma(V);if(0>this.Mh(V,X)&&(this.g.D(X,m),c?m.y==a:m.x==a)&&(Y=X),U!=-1&&Y!=-1)this.Kh(V,o,l),this.g.pd(V,!1),this.Kh(U,o,l),this.g.pd(U,!1),$=!0;else if(U!=-1||Y!=-1){for(X=L+1;X<d;X++){var Z=o.get(X);if(Z!=-1){var ne=this.g.U(Z),oe=-1;0>this.Mh(Z,ne)&&(this.g.D(ne,m),c?m.y==a:m.x==a)&&(oe=ne),ne=this.g.Ma(Z);var he=-1;if(0>this.Mh(Z,ne)&&(this.g.D(ne,m),c?m.y==a:m.x==a)&&(he=ne),oe!=-1&&he!=-1){this.Kh(Z,o,l),this.g.pd(Z,!1),this.Kh(oe,o,l),this.g.pd(oe,!1),$=!0;break}if(U!=-1&&he!=-1){this.zt(o,V,U,Z,he,l),$=!0;break}if(Y!=-1&&oe!=-1){this.zt(o,Z,oe,V,Y,l),$=!0;break}}}if($)break}}}if(!$)break}C=d,b.L(r)}}this.g.Td(l)},x.prototype.Kh=function(c,a,r){r=this.g.Pa(c,r),a.set(r,-1),r=this.g.Pa(c,this.ji),this.dd.set(r,-1),(a=this.g.bd(c))!=-1&&this.g.Xa(a)==c&&(this.g.Jf(a,-1),this.g.Wg(a,-1))},x.prototype.zt=function(c,a,r,o,l,d){this.g.Bc(a,o),this.g.Cc(o,a),this.g.Cc(r,l),this.g.Bc(l,r),this.Kh(o,c,d),this.g.mi(o,!1),this.Kh(l,c,d),this.g.mi(l,!0)},x.prototype.Ty=function(){for(var c=0,a=this.dd.size;c<a;c++){var r=this.dd.get(c);r!=-1&&this.g.aj(r,-1)}for(var o=0,l=0,d=this.g.Ob(this.X);d!=-1;){var f=this.g.Xa(d);if(f==-1||d!=this.g.bd(f)){var m=d;d=this.g.Rb(d),this.g.Jf(m,-1),this.g.$q(m)}else{r=f,m=0;do this.g.aj(r,d),m++,r=this.g.U(r);while(r!=f);2>=m?(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),f=this.g.pd(f,!1),m==2&&(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),this.g.pd(f,!1)),m=d,d=this.g.Rb(d),this.g.Jf(m,-1),this.g.$q(m)):(this.g.cp(d,!1),this.g.Wg(d,this.g.Ma(f)),this.g.Vj(d,m),l+=m,o++,d=this.g.Rb(d))}}for(c=0,a=this.dd.size;c<a;c++)if((r=this.dd.get(c))!=-1&&(d=this.g.bd(r))==-1){d=this.g.vf(this.X,-1),m=0,f=r;do this.g.aj(r,d),m++,r=this.g.U(r);while(r!=f);2>=m?(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),f=this.g.pd(f,!1),m==2&&(0<=(r=this.g.Pa(f,this.ji))&&this.dd.set(r,-1),this.g.pd(f,!1)),m=d,this.g.Jf(m,-1),this.g.$q(m)):(this.g.kn(d,!0),this.g.Vj(d,m),this.g.Jf(d,f),this.g.Wg(d,this.g.Ma(f)),this.g.cp(d,!1),l+=m,o++)}for(this.g.Rl(this.X,o),this.g.Tj(this.X,l),c=0,a=this.g.ld;a!=-1;a=this.g.ue(a))c+=this.g.I(a);this.g.bC(c)},x.By=function(c,a,r){return new x(a).Ay(c,r)},x.clip=function(c,a,r,o){if(c.B())return c;if(a.B())return c.Ia();if((r=c.getType())==33)return o=c.D(),a.contains(o)?c:c.Ia();if(r==197)return o=new h.l,c.A(o),o.Ea(a)?(a=new h.Fh,c.copyTo(a),a.Xo(o),a):c.Ia();var l=new h.l;if(c.xc(l),a.contains(l))return c;if(!a.isIntersecting(l))return c.Ia();if((l=c.Bb)!=null&&(l=l.Fk)!=null){if((l=l.Ro(a))==1){if(r!=1736)throw h.i.Qa();return(c=new h.Da(c.description)).tp(a),c}if(l==0)return c.Ia()}switch(r){case 550:r=null,l=c.I();for(var d=c.ub(0),f=0,m=0;m<l;m++)o=new h.h,d.tc(2*m,o),a.contains(o)||(f==0&&(r=c.Ia()),f<m&&r.Fd(c,f,m),f=m+1);return 0<f&&r.Fd(c,f,l),f==0?c:r;case 1736:case 1607:return x.By(c,a,o);default:throw h.i.Qa()}},x.prototype.Mh=function(c,a){var r=new h.h;return this.g.D(c,r),c=new h.h,this.g.D(a,c),r.compare(c)},x}();h.Ud=N}(re||(re={})),function(h){var N=function(){function x(c,a){this.Ca=c,this.g=new h.gd,this.dd=new h.ia(0),this.nd=a}return x.prototype.Lh=function(c,a,r){switch(a){case 0:if(c.v<r&&c.C<=r)break;return c.v>=r?1:-1;case 1:if(c.G<r&&c.H<=r)break;return c.G>=r?1:-1;case 2:if(c.v>=r&&c.C>r)break;return c.C<=r?1:-1;case 3:if(!(c.G>=r&&c.H>r))return c.H<=r?1:-1}return 0},x.prototype.Ay=function(c,a){return c.getType()==1736?this.Cy(c,a):this.Dy(c)},x.prototype.Cy=function(c,a){if(this.Ca.R()==0||this.Ca.ca()==0)return c.Ia();var r=new h.l;c.xc(r),this.X=this.g.Ib(c);var o=new h.l,l=new h.l,d=new h.h,f=new h.h,m=[0,0,0,0,0,0,0,0,0],b=[0,0,0,0,0,0,0,0,0],_=new h.yb,$=new h.ia(0);$.Jb(256);for(var C=!1,P=0;!C&&4>P;P++){var L=!1,V=!!(1&P),U=0;switch(P){case 0:U=this.Ca.v,L=r.v<=U&&r.C>=U;break;case 1:U=this.Ca.G,L=r.G<=U&&r.H>=U;break;case 2:U=this.Ca.C,L=r.v<=U&&r.C>=U;break;case 3:U=this.Ca.H,L=r.G<=U&&r.H>=U}if(L)for(C=!0,L=this.g.Ob(this.X);L!=-1;){var Y=!0,X=-1,Z=-1,ne=this.g.Xa(L),oe=ne;do{var he=this.g.bc(oe);he==null&&(he=_,this.g.D(oe,d),he.Dc(d),this.g.D(this.g.U(oe),f),he.Qc(f)),he.A(o);var be=this.Lh(o,P,U),Ce=0,Pe=-1;if(be==-1){Ce=0<(he=he.cq(V,U,m,b))?this.g.LX(oe,b,he):0,Ce+=1;var qe=oe,Ue=this.g.U(qe);for(he=0;he<Ce;he++){if(this.g.D(qe,d),this.g.D(Ue,f),(Pe=this.g.bc(qe))==null&&((Pe=_).Dc(d),Pe.Qc(f)),Pe.A(l),(Pe=this.Lh(l,P,U))==-1){if(V)(Pe=Math.abs(d.y-U))<(Je=Math.abs(f.y-U))?(d.y=U,this.g.mf(qe,d)):(f.y=U,this.g.mf(Ue,f));else{Pe=Math.abs(d.x-U);var Je=Math.abs(f.x-U);Pe<Je?(d.x=U,this.g.mf(qe,d)):(f.x=U,this.g.mf(Ue,f))}(Pe=this.g.bc(qe))==null&&((Pe=_).Dc(d),Pe.Qc(f)),Pe.A(l),Pe=this.Lh(l,P,U)}Je=X,X=Pe,Z==-1&&(Z=X),Je==0&&X==1||Je==1&&X==0||Je!=0||X!=0||$.add(qe),X==1&&(Y=C=!1),Pe=qe=Ue,Ue=this.g.U(Ue)}}if(Ce==0&&(Je=X,X=be,Z==-1&&(Z=X),Je==0&&X==1||Je==1&&X==0||Je!=0||X!=0||$.add(oe),X==1&&(Y=C=!1),Pe=this.g.U(oe)),oe=Pe,256<=$.size){for(he=1,be=$.size-1;he<be;he++)Ce=$.get(he),this.g.pd(Ce,!1);$.set(1,$.Fc()),$.Bh(2)}}while(oe!=ne);if(!Y)for(Z==0&&X==0&&$.add(ne),he=0,be=$.size;he<be;he++)Ce=$.get(he),this.g.pd(Ce,!1);$.clear(!1),L=Y||this.g.Ja(L)==0?this.g.Zq(L):this.g.Rb(L)}}return C?c.Ia():(this.FB(),0<a&&this.My(a),this.g.Ne(this.X))},x.prototype.Dy=function(c){var a=new h.l,r=new h.l,o=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],d=new h.ig,f=c,m=new h.l;c.xc(m);for(var b=new h.h,_=new h.h,$=null,C=null,P=0;4>P;P++){var L=!1,V=!!(1&P),U=0;switch(P){case 0:U=this.Ca.v,L=m.v<=U&&m.C>=U;break;case 1:U=this.Ca.G,L=m.G<=U&&m.H>=U;break;case 2:U=this.Ca.C,L=m.v<=U&&m.C>=U;break;case 3:U=this.Ca.H,L=m.G<=U&&m.H>=U}if(L)for(L=f,f=c.Ia(),(L=L.Ga()).Zi();L.$a();)for(var Y,X=!0;L.Ha();){var Z=L.ha();Z.A(a);var ne=this.Lh(a,P,U);if(ne==-1){if(0<(ne=Z.cq(V,U,o,l))){var oe=0;Z.Yp(b);for(var he=0;he<=ne;he++)if(oe!=(Y=he<ne?l[he]:1)){Z.ah(oe,Y,d);var be=d.get();be.Dc(b),he<ne&&(V?(_.x=o[he],_.y=U):(_.x=U,_.y=o[he]),be.Qc(_)),be.A(r);var Ce=this.Lh(r,P,U);Ce==-1&&($==null&&($=new h.h),C==null&&(C=new h.h),be.Yp($),be.Tr(C),V?(oe=Math.abs($.y-U))<(Ce=Math.abs(C.y-U))?($.y=U,be.Dc($)):(C.y=U,be.Qc(C)):(oe=Math.abs($.x-U))<(Ce=Math.abs(C.x-U))?($.x=U,be.Dc($)):(C.x=U,be.Qc(C)),be.A(r),Ce=this.Lh(r,P,U)),be.Tr(b),oe=Y,(Y=Ce)==1?(f.oc(be,X),X=!1):X=!0}}}else(Y=ne)==1?(f.oc(Z,X),X=!1):X=!0}}return f},x.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var c=new h.h,a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a))for(var r=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l;o++,r=this.g.U(r))this.g.D(r,c),(this.Ca.v==c.x||this.Ca.C==c.x||this.Ca.G==c.y||this.Ca.H==c.y)&&(this.g.Ra(r,this.ji,this.dd.size),this.dd.add(r));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},x.prototype.My=function(c){for(var a=new h.h,r=new h.h,o=null,l=null,d=h.O.lg(2048,0),f=this.g.Ob(this.X);f!=-1;f=this.g.Rb(f)){var m=this.g.Xa(f),b=m;do{var _=this.g.U(b);this.g.D(b,a);var $=-1;if(a.x==this.Ca.v?(this.g.D(_,r),r.x==this.Ca.v&&($=1)):a.x==this.Ca.C&&(this.g.D(_,r),r.x==this.Ca.C&&($=1)),a.y==this.Ca.G?(this.g.D(_,r),r.y==this.Ca.G&&($=0)):a.y==this.Ca.H&&(this.g.D(_,r),r.y==this.Ca.H&&($=0)),$!=-1){if(o==null&&(o=new h.h),l==null&&(l=new h.h),o.L(a),l.ma(0,0),$==0){var C=a.x-this.Ca.v;l.x=h.lc.sign(r.x-a.x),o.x=c*h.lc.Cn(Math.floor(Math.abs(C/c)),C)+this.Ca.v,0>o.x&&(o.x+=c)}else C=a.y-this.Ca.G,l.y=h.lc.sign(r.y-a.y),o.y=c*h.lc.Cn(Math.floor(Math.abs(C/c)),C)+this.Ca.G,0>o.y&&(o.y+=c);C=$!=0?r.y-a.y:r.x-a.x;var P=Math.abs(C);if(65536<P/c)throw h.i.fa("internal error");if(0<P){P=h.O.truncate(P/c)+2,d.length<P&&(d=h.O.lg(P));for(var L=P=0;;L++){var V=new h.h;if(V.x=o.x+l.x*L*c,V.y=o.y+l.y*L*c,1<=(V=($!=0?V.y-a.y:V.x-a.x)/C))break;0>=V||(d[P]=V,P++)}P!=0&&this.g.Ul(b,d,P)}}b=_}while(b!=m)}},x.prototype.Vl=function(c,a){for(var r=-1,o=new h.h,l=null,d=this.g.Ob(this.X);d!=-1;d=this.g.Rb(d))for(var f=this.g.Xa(d),m=0,b=this.g.Ja(d);m<b;m++){var _=this.g.U(f);this.g.D(f,o),(c?o.y==a:o.x==a)&&(this.g.D(_,o),(c?o.y==a:o.x==a)&&(r==-1&&(r=this.g.Gd()),l==null&&(l=new h.ia(0)).Jb(100),this.g.Pa(f,r)!=1&&(l.add(f),this.g.Ra(f,r,1)),this.g.Pa(_,r)!=1&&(l.add(_),this.g.Ra(_,r,1)))),f=_}if(r!=-1&&this.g.Td(r),!(l==null||3>l.size)){var $=this;l.Vd(0,l.size,function(he,be){return $.Mh(he,be)}),r=new h.h,d=new h.h,f=new h.h,d.Rc();var C=-1;m=new h.ia(0),b=new h.ia(0),_=null;for(var P=this.g.Gd(),L=this.g.Gd(),V=0,U=l.size;V<U;V++){var Y=l.get(V);if(this.g.D(Y,o),!o.qb(d)){if(C!=-1){for(var X=C;X<V;X++){C=l.get(X);var Z=this.g.U(C);Y=this.g.Ma(C);var ne=!1;this.g.D(Z,r),0>d.compare(r)&&(c?r.y==a:r.x==a)&&(m.add(C),ne=!0,this.g.Ra(C,L,1)),this.g.D(Y,r),0>d.compare(r)&&(c?r.y==a:r.x==a)&&(ne||m.add(C),this.g.Ra(C,P,1))}for(X=0,ne=m.size;X<ne;X++){if(C=m.get(X),Y=this.g.Pa(C,P),Z=this.g.Pa(C,L),Y==1&&(Y=this.g.Ma(C),this.g.D(Y,f),!f.qb(o))){_==null&&(_=[]);var oe=h.h.tb(d,f);_[0]=h.h.tb(f,o)/oe,_[0]==0?_[0]=2220446049250313e-31:_[0]==1&&(_[0]=.9999999999999998),this.g.Ul(Y,_,1),Y=this.g.Ma(C),this.g.mf(Y,o),b.add(Y),this.g.Ra(Y,P,1),this.g.Ra(Y,L,-1)}Z==1&&(Z=this.g.U(C),this.g.D(Z,f),f.qb(o)||(_==null&&(_=[]),oe=h.h.tb(d,f),_[0]=h.h.tb(d,o)/oe,_[0]==0?_[0]=2220446049250313e-31:_[0]==1&&(_[0]=.9999999999999998),this.g.Ul(C,_,1),Y=this.g.U(C),this.g.mf(Y,o),b.add(Y),this.g.Ra(Y,P,-1),this.g.Ra(Y,L,1)))}C=m,m=b,(b=C).clear(!1)}C=V,d.L(o)}}this.g.Td(P),this.g.Td(L)}},x.prototype.Nl=function(c,a){for(var r=new h.h,o=null,l=-1,d=0,f=this.dd.size;d<f;d++){var m=this.dd.get(d);if(m!=-1){var b=this.g.U(m);this.g.D(m,r),(c?r.y==a:r.x==a)&&(this.g.D(b,r),(c?r.y==a:r.x==a)&&(l==-1&&(l=this.g.Gd()),o==null&&(o=new h.ia(0)).Jb(100),this.g.Pa(m,l)!=-2&&(o.add(m),this.g.Ra(m,l,-2)),this.g.Pa(b,l)!=-2&&(o.add(b),this.g.Ra(b,l,-2))))}}if(o==null)l!=-1&&this.g.Td(l);else{var _=this;for(o.Vd(0,o.size,function(be,Ce){return _.Mh(be,Ce)}),d=0,f=o.size;d<f;d++){var $=o.get(d);this.g.Ra($,l,d)}m=new h.h,(b=new h.h).Rc();var C=-1;for(d=0,f=o.size;d<f;d++)if(($=o.get(d))!=-1&&(this.g.D($,r),!r.qb(b))){if(C!=-1)for(;;){$=!1;for(var P=1<d-C?d-1:d,L=C;L<P;L++){var V=o.get(L);if(V!=-1){var U=-1,Y=this.g.U(V);this.g.D(Y,m),0>b.compare(m)&&(c?m.y==a:m.x==a)&&(U=Y),Y=-1;var X=this.g.Ma(V);if(this.g.D(X,m),0>b.compare(m)&&(c?m.y==a:m.x==a)&&(Y=X),U!=-1&&Y!=-1)this.Kh(V,o,l),this.g.pd(V,!1),this.Kh(U,o,l),this.g.pd(U,!1),$=!0;else if(U!=-1||Y!=-1){for(X=L+1;X<d;X++){var Z=o.get(X);if(Z!=-1){var ne=this.g.U(Z),oe=-1;this.g.D(ne,m),0>b.compare(m)&&(c?m.y==a:m.x==a)&&(oe=ne),ne=this.g.Ma(Z);var he=-1;if(this.g.D(ne,m),0>b.compare(m)&&(c?m.y==a:m.x==a)&&(he=ne),oe!=-1&&he!=-1){this.Kh(Z,o,l),this.g.pd(Z,!1),this.Kh(oe,o,l),this.g.pd(oe,!1),$=!0;break}if(U!=-1&&he!=-1){this.zt(o,V,U,Z,he,l),$=!0;break}if(Y!=-1&&oe!=-1){this.zt(o,Z,oe,V,Y,l),$=!0;break}}}if($)break}}}if(!$)break}C=d,b.L(r)}this.g.Td(l)}},x.prototype.Kh=function(c,a,r){r=this.g.Pa(c,r),a.set(r,-1),r=this.g.Pa(c,this.ji),this.dd.set(r,-1),(a=this.g.bd(c))!=-1&&this.g.Xa(a)==c&&(this.g.Jf(a,-1),this.g.Wg(a,-1))},x.prototype.zt=function(c,a,r,o,l,d){this.g.Bc(a,o),this.g.Cc(o,a),this.g.Cc(r,l),this.g.Bc(l,r),this.Kh(o,c,d),this.g.mi(o,!1),this.Kh(l,c,d),this.g.mi(l,!0)},x.prototype.Ty=function(){for(var c=0,a=this.dd.size;c<a;c++){var r=this.dd.get(c);r!=-1&&this.g.aj(r,-1)}for(var o=0,l=0,d=this.g.Ob(this.X);d!=-1;){var f=this.g.Xa(d);if(f==-1||d!=this.g.bd(f)){var m=d;d=this.g.Rb(d),this.g.Jf(m,-1),this.g.$q(m)}else{r=f,m=0;do this.g.aj(r,d),m++,r=this.g.U(r);while(r!=f);this.g.cp(d,!1),this.g.Wg(d,this.g.Ma(f)),this.g.Vj(d,m),l+=m,o++,d=this.g.Rb(d)}}for(c=0,a=this.dd.size;c<a;c++)if((r=this.dd.get(c))!=-1&&(d=this.g.bd(r))==-1){d=this.g.vf(this.X,-1),m=0,f=r;do this.g.aj(r,d),m++,r=this.g.U(r);while(r!=f);2>=m?(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),f=this.g.pd(f,!1),m==2&&(0<=(r=this.g.Pa(f,this.ji))&&this.dd.set(r,-1),this.g.pd(f,!1)),m=d,this.g.Jf(m,-1),this.g.$q(m)):(this.g.kn(d,!0),this.g.Vj(d,m),this.g.Jf(d,f),this.g.Wg(d,this.g.Ma(f)),this.g.cp(d,!1),l+=m,o++)}for(this.g.Rl(this.X,o),this.g.Tj(this.X,l),c=0,a=this.g.ld;a!=-1;a=this.g.ue(a))c+=this.g.I(a);this.g.bC(c)},x.By=function(c,a,r,o){return new x(a,o).Ay(c,r)},x.clip=function(c,a,r,o,l){return x.Nu(c,a,null,r,o,l)},x.Nu=function(c,a,r,o,l,d){var f=c.getType();if(f==33)return l=c.D(),a.contains(l)?c:c.Ia();if(f==197)return l=new h.l,c.A(l),l.Ea(a)?(a=new h.Fh,c.copyTo(a),a.Xo(l),a):c.Ia();if(c.B())return c;if(a.B())return c.Ia();var m=new h.l;if(c.xc(m),a.contains(m))return c;if(!a.isIntersecting(m))return c.Ia();if((r!=null||isNaN(o))&&h.ta.ty(r,a,!1),!h.aa.xj(f))throw h.i.N();if((r=c.Bb)!=null&&(r=r.Fk)!=null){if((r=r.Ro(a))==1){if(f!=1736)throw h.i.fa("internal error");return(c=new h.Da(c.description)).tp(a),c}if(r==0)return c.Ia()}switch(f){case 550:for(d=null,f=c.I(),r=c.ub(0),o=0,l=new h.h,m=0;m<f;m++)r.tc(2*m,l),a.contains(l)||(o==0&&(d=c.Ia()),o<m&&d.Fd(c,o,m),o=m+1);return 0<o&&d.Fd(c,o,f),o==0?c:d;case 1736:case 1607:return x.By(c,a,l,d);default:throw h.i.fa("internal error")}},x.prototype.Mh=function(c,a){var r=new h.h;return this.g.D(c,r),c=new h.h,this.g.D(a,c),r.compare(c)},x}();h.ri=N}(re||(re={})),function(h){var N=new h.h,x=function(){function a(r,o,l,d,f){this.Pm=new h.h,this.Dk=new h.h,this.Pi=new h.h,this.g=r,this.Aw=l,this.no=d,this.Pm=o,this.yl=f,this.Dk.Rc(),this.Pi.Rc()}return a.prototype.xE=function(r){this.g.D(r,this.Dk),r=h.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var o=h.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return c.jG(r,o)},a.prototype.jz=function(r){return this.g.Pa(r,this.yl)},a.prototype.Py=function(r,o){return this.g.D(r,this.Dk),this.g.D(o,this.Pi),c.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},a}();h.sY=function(){};var c=function(){function a(){this.Pm=new h.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return a.iQ=function(r,o){var l=new a;return l.g=r,l.qa=o,l.Aw=o*o,l.$v=2*o,l.no=1/l.$v,l.BO()},a.Cv=function(r,o,l,d,f){return(r-=l)*r+(o-=d)*o<=f},a.jG=function(r,o){return h.O.Th(o,h.O.Th(r))},a.prototype.DO=function(r,o){this.g.Gc(r,N);for(var l=(N.y-this.Pm.y)*this.no,d=h.O.truncate((N.x-this.Pm.x)*this.no),f=h.O.truncate(l),m=l=0;1>=m;m+=1)for(var b=0;1>=b;b+=1){var _=a.jG(d+m,f+b),$=this.xl.rR(_);$!=-1&&(this.pq[l]=$,this.xs[l]=_,l++)}for(d=l-1;1<=d;d--)for($=this.pq[d],f=d-1;0<=f;f--)if($==this.pq[f]){this.xs[f]=-1,d!=--l&&(this.xs[d]=this.xs[l],this.pq[d]=this.pq[l]);break}for(f=0;f<l;f++)this.EO(r,this.xs[f],N,this.pq[f],o)},a.prototype.EO=function(r,o,l,d,f){for(var m=new h.h;d!=-1;d=this.xl.ER(d)){var b=this.xl.ja(d);r==b||o!=-1&&this.g.Pa(b,this.yl)!=o||(this.g.Gc(b,m),a.Cv(l.x,l.y,m.x,m.y,this.Aw)&&f.add(d))}},a.prototype.Xm=function(r,o,l){var d=this.g.Pa(r,this.qo),f=this.g.Pa(o,this.qo);return d==-1&&(d=this.zd.Ph(),this.zd.addElement(d,r),this.g.Ra(r,this.qo,d)),f==-1?this.zd.addElement(d,o):this.zd.Hy(d,f),this.g.Ra(o,this.qo,-2),o=this.YT(r,o),l&&(l=this.kw.xE(r),this.g.Ra(r,this.yl,l)),o},a.WT=function(r,o,l){r.Nb(o),l=r;var d=new h.h;a.XT(r.D(),o.D(),d),l.Cb(d)},a.XT=function(r,o,l){var d=r.x;r.x!=o.x&&(d=(1*r.x+1*o.x)/2);var f=r.y;r.y!=o.y&&(f=(1*r.y+1*o.y)/2),l.ma(d,f)},a.prototype.YT=function(r,o){var l=new h.h;this.g.D(r,l);var d=new h.h;this.g.D(o,d);var f=this.g.cG(r),m=f+(o=this.g.cG(o)),b=0,_=l.x;l.x!=d.x&&(_=(l.x*f+d.x*o)/m,b++);var $=l.y;return l.y!=d.y&&($=(l.y*f+d.y*o)/m,b++),0<b&&this.g.Cb(r,_,$),this.g.vX(r,m),b!=0},a.prototype.BO=function(){var r=this.g.fd,o=this.g.IF();for(this.Pm=o.mz(),o=Math.max(o.ca(),o.R())/2147483646,this.$v<o&&(this.$v=o,this.no=1/this.$v),this.zd=new h.au,this.zd.At(h.O.truncate(this.g.fd/3+1)),this.zd.fn(h.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new x(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new h.dL(h.O.truncate(4*r/3),this.kw),this.xl.AW(this.g.fd),r=!1,o=this.g.ld;o!=-1;o=this.g.ue(o))for(var l=this.g.Ob(o);l!=-1;l=this.g.Rb(l))for(var d=this.g.Xa(l),f=0,m=this.g.Ja(l);f<m;f++){var b=this.kw.xE(d);this.g.Ra(d,this.yl,b),this.xl.addElement(d,b),d=this.g.U(d)}var _=new h.ia(0);for(_.Jb(10),o=this.g.ld;o!=-1;o=this.g.ue(o))for(l=this.g.Ob(o);l!=-1;l=this.g.Rb(l))for(d=this.g.Xa(l),f=0,m=this.g.Ja(l);f<m;f++){if(this.g.Pa(d,this.qo)!=-2)for(b=this.g.Pa(d,this.yl),this.xl.jd(d,b);this.DO(d,_),_.size!=0;){b=!1;for(var $=0,C=_.size;$<C;$++){var P=_.get($),L=this.xl.ja(P);this.xl.vd(P),b=this.Xm(d,L,$+1==C)||b}if(r=r||b,_.clear(!1),!b)break}d=this.g.U(d)}return r&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),r},a.prototype.vN=function(){for(var r=new h.h,o=this.zd.je;o!=-1;o=this.zd.qz(o)){var l=this.zd.rc(o);for(this.g.D(this.zd.ja(l),r),l=this.zd.lb(l);l!=-1;l=this.zd.lb(l))this.g.mf(this.zd.ja(l),r)}},a}();h.Yt=c}(re||(re={})),function(h){var N=function(){function x(c){c===void 0&&(c=null),this.yg=null,this.Pb=!1,this.yg=c===null?[]:c}return x.prototype.copyTo=function(c){if(c.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");for(var a=0;a<this.yg.length;a++)c.yg.push(this.yg[a].Of())},x.prototype.count=function(){return this.yg.length},x.prototype.add=function(c){if(this.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(c.Of())},x.prototype.clear=function(){if(this.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},x.prototype.remove=function(c){if(this.Pb)throw h.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(c,1)},x.prototype.jg=function(){var c=new x;return this.copyTo(c),c},x.prototype.Of=function(){return this.jg()},x.prototype.transform=function(c,a,r,o){if(c.length<a)throw h.i.fa("invalid Argument");var l=r;for(r=0;r<this.yg.length;r++){var d=this.yg[r];if(d.qm()!=null){var f=d.Un,m=f?1:0,b=f?d.qm().getGeogcs2():d.qm().getGeogcs1();if(b=l/(b=b.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(b-1))for(l=0;l<a;l++)c[l][0]*=b,c[l][1]*=b;h.MC.geogToGeog(d.qm(),a,c,null,m),l=(f?d.qm().getGeogcs1():d.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(b=l/o,3552713678800501e-30<Math.abs(b-1))for(l=0;l<a;l++)c[l][0]*=b,c[l][1]*=b;return a},x.prototype.Nb=function(c){if(c==this)return!0;if(!(c instanceof x)||this.yg.length!=c.yg.length)return!1;for(var a=0;a<this.yg.length;a++)if(!this.yg[a].Nb(c.yg[a]))return!1;return!0},x.prototype.ix=function(){this.Pb=!0},x.prototype.toString=function(){for(var c="CGT ("+this.count()+") ",a=0,r=this.count();a<r;++a)c+=this.yg[a].toString()+", ";return 200<c.length?c.substring(0,197)+"... ("+c.length.toString()+" characters)":c},x.create=function(){return new x},x}();h.wC=N}(re||(re={})),function(h){var N,x=Math.PI,c=2*Math.PI,a=Math.PI/2,r=function(){function d(){}return d.TO=function(f,m){var b=new d;return b.x=f,b.y=m,b.type=0,b.Uh=0,b},d.al=function(f){var m=new d;return m.x=f.x,m.y=f.y,m.type=0,m.Uh=0,m},d.SO=function(f){var m=new d;return m.x=f.x,m.y=f.y,m.type=f.type,m.Uh=f.Uh,m},d.Pd=function(f,m,b){var _=new d;return _.x=f.x+m*Math.cos(b),_.y=f.y+m*Math.sin(b),_.type=f.type,_.Uh=f.Uh,_},d.Pu=function(f,m){var b=new d;return b.x=.5*(f.x+m.x),b.y=.5*(f.y+m.y),b.type=f.type,b.Uh=f.Uh,b},d.TE=function(f,m){var b=new d;return b.x=f.x+.001*(m.x-f.x),b.y=f.y+.001*(m.y-f.y),b.type=f.type,b.Uh=f.Uh,b},d}(),o=function(){};(N=h.fL||(h.fL={}))[N.Round=0]="Round",N[N.Bevel=1]="Bevel",N[N.Miter=2]="Miter",N[N.Square=3]="Square";var l=function(){function d(f){this.NA=this.Yb=this.wg=null,this.nd=f}return d.V=function(f,m,b,_,$,C){if(f==null||1>f.Db())throw h.i.N();return m==0||f.B()?f:((C=new d(C)).ko=f,C.Ka=m,C.qa=$,C.Ki=b,C.CA=_,C.Rx())},d.prototype.eM=function(){var f=this.ko,m=f.ac(),b=f.wc(),_=new h.h;return _.uc(b,m),_.normalize(),_.Hv(),_.scale(this.Ka),m.add(_),b.add(_),_=f.Ia(),f.Dc(m),f.Qc(b),_},d.prototype.dM=function(){var f=this.ko;if(0<this.Ka&&this.Ki!=2){var m=new h.Da;return m.ad(f,!1),this.ko=m,this.Rx()}return(f=new h.Fh(f.$)).W(this.Ka,this.Ka),f},d.prototype.tJ=function(f,m,b,_){return(m.x-f.x)*(_.x-b.x)+(m.y-f.y)*(_.y-b.y)},d.prototype.fc=function(f,m){if(m===void 0)this.Yb.push(f),this.gf++;else if(this.gf==0)this.fc(f);else{var b=this.Bw,_=this.wg[m==0?b-1:m-1],$=this.wg[m],C=this.tJ(_,$,this.Yb[this.gf-1],f);0<C?this.fc(f):0>C&&(0<this.tJ(_,$,$,this.Yb[this.gf-1])?($=this.wg[m==0?b-2:m==1?b-1:m-2],b=r.Pd(_,this.Ka,Math.atan2(_.y-$.y,_.x-$.x)-a),this.Yb[this.gf-1]=b,this.Ki==1||this.Ki==2?(b=r.Pu(b,_),this.fc(b),b=r.Pd(_,this.Ka,this.Jv+a),(_=r.Pu(b,_)).type|=256,this.fc(_)):(b=r.Pd(_,this.Ka,this.Jv+a)).type|=256,this.fc(b),this.fc(f,m)):(b=r.Pd($,this.Ka,this.Jv+a),this.fc(b),this.Ki==1||this.Ki==2?(b=r.Pu(b,$),this.fc(b),b=r.Pd($,this.Ka,this.aA-a),(_=r.Pu(b,$)).type|=256,this.fc(_)):(b=r.Pd($,this.Ka,this.aA-a)).type|=256,this.fc(b)))}},d.prototype.mE=function(){var f,m=this.Bw;this.gf=0;var b=.5*this.qa,_=0,$=0;for(f=0;f<m;f++){var C=this.wg[f],P=f==0?this.wg[m-1]:this.wg[f-1],L=f==m-1?this.wg[0]:this.wg[f+1],V=P.x-C.x,U=P.y-C.y,Y=L.x-C.x,X=L.y-C.y,Z=Math.atan2(U,V),ne=Math.atan2(X,Y);if(this.Jv=Z,this.aA=ne,f==0&&(_=Z,$=ne),V=V*X-Y*U,U=ne,ne<Z&&(ne+=c),0<V*this.Ka)this.Ki==1||this.Ki==2?(Z=r.Pd(C,this.Ka,Z+a),this.fc(Z),Z=r.TE(C,Z),this.fc(Z),Z=r.Pd(C,this.Ka,ne-a),(C=r.TE(C,Z)).type|=256,this.fc(C),this.fc(Z)):(V=.5*(ne-Z),V=this.Ka/Math.abs(Math.sin(V)),Z=r.Pd(C,V,.5*(Z+ne)),this.fc(Z,f));else if(512&C.type){for(V=1-b/Math.abs(this.Ka),P=1,L=0>this.Ka?-x:x,-1<V&&1>V&&(.017453292519943295>(U=2*Math.acos(V))&&(U=.017453292519943295),1<(P=h.O.truncate(x/U+1.5))&&(L/=P)),U=Z+a,Z=r.Pd(C,this.Ka,U),f==0&&(Z.type|=1024),this.fc(Z,f),V=this.Ka/Math.cos(L/2),U+=L/2,(Z=r.Pd(C,V,U)).type|=1024,this.fc(Z);0<--P;)U+=L,(Z=r.Pd(C,V,U)).type|=1024,this.fc(Z);(Z=r.Pd(C,this.Ka,ne-a)).type|=1024,this.fc(Z)}else if(this.Ki==1)Z=r.Pd(C,this.Ka,Z+a),this.fc(Z,f),Z=r.Pd(C,this.Ka,ne-a),this.fc(Z);else if(this.Ki==0)for(V=1-b/Math.abs(this.Ka),P=1,L=ne-a-(Z+a),-1<V&&1>V&&(.017453292519943295>(U=2*Math.acos(V))&&(U=.017453292519943295),1<(P=h.O.truncate(Math.abs(L)/U+1.5))&&(L/=P)),V=this.Ka/Math.cos(.5*L),U=Z+a+.5*L,Z=r.Pd(C,V,U),this.fc(Z,f);0<--P;)U+=L,Z=r.Pd(C,V,U),this.fc(Z);else this.Ki==2?(V=P.x-C.x,U=P.y-C.y,.99999999<(P=(V*(Y=L.x-C.x)+U*(X=L.y-C.y))/Math.sqrt(V*V+U*U)/Math.sqrt(Y*Y+X*X))?(Z=r.Pd(C,1.4142135623730951*this.Ka,ne-.25*x),this.fc(Z,f),Z=r.Pd(C,1.4142135623730951*this.Ka,ne+.25*x),this.fc(Z)):(P=Math.abs(this.Ka/Math.sin(.5*Math.acos(P))))>(L=Math.abs(this.CA*this.Ka))?(V=.5*(ne-Z),V=this.Ka/Math.abs(Math.sin(V)),Z=r.Pd(C,V,.5*(Z+ne)),ne=h.h.construct(Z.x,Z.y),Z=h.h.construct(C.x,C.y),(C=new h.h).uc(ne,Z),(ne=new h.h).HW(L/C.length(),C,Z),Z=(P-L)*Math.abs(this.Ka)/Math.sqrt(P*P-this.Ka*this.Ka),0<this.Ka?C.Hv():C.ar(),C.scale(Z/C.length()),(Z=new h.h).add(ne,C),(P=new h.h).uc(ne,C),Z=r.al(Z),this.fc(Z,f),Z=r.al(P),this.fc(Z)):(V=.5*(ne-Z),V=this.Ka/Math.abs(Math.sin(V)),Z=r.Pd(C,V,.5*(Z+ne)),this.fc(Z,f))):(ne=U,0<this.Ka?(ne>Z&&(ne-=c),P=Z-ne<a):(ne<Z&&(ne+=c),P=ne-Z<a),P?(U=0>(V=1.4142135623730951*this.Ka)?Z+.25*x:Z+.75*x,Z=r.Pd(C,V,U),this.fc(Z,f),U=0>V?ne-.25*x:ne-.75*x,Z=r.Pd(C,V,U),this.fc(Z)):(V=.5*(ne-Z),V=this.Ka/Math.abs(Math.sin(V)),ne<Z&&(ne+=c),Z=r.Pd(C,V,(Z+ne)/2),this.fc(Z,f)))}return this.Jv=_,this.aA=$,this.fc(this.Yb[0],0),C=r.SO(this.Yb[this.gf-1]),this.Yb[0]=C,this.wW()},d.prototype.Au=function(f,m){if(!(2>m))for(var b=0;b<m;b++){var _=this.Yb[f+b];b!=0?this.NA.Ci(h.h.construct(_.x,_.y)):this.NA.Lt(h.h.construct(_.x,_.y))}},d.prototype.fM=function(f,m,b){var _=f.Ba(m),$=f.Vc(m);if(this.Yb=[],this.NA=b,f.dc(m)){for(m=f.Na(_);f.Na($-1).qb(m);)$--;if(2<=$-_){for(this.Bw=$-_,this.wg=[],m=_;m<$;m++)this.wg.push(r.al(f.Na(m)));this.mE()&&this.Au(0,this.gf-1)}}else{for(m=f.Na(_);_<$&&f.Na(_+1).qb(m);)_++;for(m=f.Na($-1);_<$&&f.Na($-2).qb(m);)$--;if(2<=$-_){for(this.Bw=2*($-_)-2,this.wg=[],(b=r.al(f.Na(_))).type|=1536,this.wg.push(b),m=_+1;m<$-1;m++)b=r.al(f.Na(m)),this.wg.push(b);for((b=r.al(f.Na($-1))).type|=512,this.wg.push(b),m=$-2;m>=_+1;m--)(b=r.al(f.Na(m))).type|=1024,this.wg.push(b);if(this.mE())if(2<=this.Yb.length){for(f=-1,($=!!(1024&this.Yb[this.gf-1].type))||(f=0),m=1;m<this.gf;m++)(_=!!(1024&this.Yb[m].type))?$||1<($=m-1)-f+1&&this.Au(f,$-f+1):$&&(f=m-1),$=_;$||1<($=this.gf-1)-f+1&&this.Au(f,$-f+1)}else f=0,$=this.gf-1,0<=f&&1<=$-f&&this.Au(f,$-f+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},d.prototype.wW=function(){for(var f=!1,m=0;m<this.gf;m++){var b=this.Yb[m];b.qh=m+1,b.sh=m-1,this.Yb[m]=b}for((b=this.Yb[0]).sh=this.gf-2,this.Yb[0]=b,(b=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=b,m=b=0;m<this.gf;m++)if(256&this.Yb[b].type){var _=this.GP(b);if(_==-1){f=!0;break}b=_}else b=this.Yb[b].qh;return!f&&(this.QO(b),!0)},d.prototype.GP=function(f){for(var m,b,_=this.gf-1,$=f,C=1;C<=_-2;C++){m=$=this.Yb[$].qh,b=f;for(var P=1;P<=C;P++){if(b=this.Yb[b].sh,!(256&this.Yb[b].type||256&this.Yb[m].type)){var L=this.gS(b,m);if(L!=-1)return L}m=this.Yb[m].sh}}return-1},d.prototype.gS=function(f,m){var b=this.Yb[this.Yb[f].sh],_=this.Yb[f],$=this.Yb[this.Yb[m].sh],C=this.Yb[m];if(!this.JW(b,_,$,C))return-1;var P=new o;return this.xQ(b,_,$,C,P)&&!P.bE&&h.O.bK((_.x-b.x)*(C.y-$.y)-(_.y-b.y)*(C.x-$.x))!=h.O.bK(this.Ka)?(b=this.Yb[f].sh,P.an.type=_.type,P.an.qh=m,P.an.sh=b,this.Yb[f]=P.an,P.an=this.Yb[m],P.an.sh=f,this.Yb[m]=P.an,m):-1},d.prototype.JW=function(f,m,b,_){return Math.max(f.x,m.x)>=Math.min(b.x,_.x)&&Math.max(b.x,_.x)>=Math.min(f.x,m.x)&&Math.max(f.y,m.y)>=Math.min(b.y,_.y)&&Math.max(b.y,_.y)>=Math.min(f.y,m.y)},d.prototype.xQ=function(f,m,b,_,$){$.bE=!1;var C=(m.y-f.y)*(_.x-b.x)-(m.x-f.x)*(_.y-b.y),P=(b.y-f.y)*(m.x-f.x)-(b.x-f.x)*(m.y-f.y);if(0<=(C=C==0?2:P/C)&&1>=C){var L=C;if(C=(_.y-b.y)*(m.x-f.x)-(_.x-b.x)*(m.y-f.y),P=(f.y-b.y)*(_.x-b.x)-(f.x-b.x)*(_.y-b.y),0<=(C=C==0?2:P/C)&&1>=C)return $.an=r.TO(f.x+C*(m.x-f.x),f.y+C*(m.y-f.y)),$.an.Uh=b.Uh+L*(_.Uh-b.Uh),L!=0&&L!=1||C!=0&&C!=1||($.bE=!0),$.VY=C,$.WY=L,!((L==0||L==1)&&0<C&&1>C||(C==0||C==1)&&0<L&&1>L)}return!1},d.prototype.QO=function(f){for(;this.Yb[f].sh<f;)f=this.Yb[f].sh;var m=0,b=f;do b=this.Yb[b],this.Yb[m]=b,b=b.qh,m++;while(b!=f);this.Yb[m]=this.Yb[0],this.gf=m+1},d.prototype.$C=function(f){var m=this.ko,b=m.Ga();if(b!=null){b.Zi();for(var _=-1;b.$a();)_++,this.fM(m,_,f)}},d.prototype.Rx=function(){var f=this.ko.getType();return f==322?this.eM():f==197?this.dM():h.aa.yd(f)?((f=new h.Ta).oc(this.ko,!0),this.ko=f,this.Rx()):f==1607?(f=new h.Ta,this.$C(f),f):f==1736?(f=new h.Da,this.$C(f),f):null},d}();h.IK=l}(re||(re={})),function(h){var N=function(){function r(o){this.qk=o}return r.prototype.D=function(o,l){this.qk.g.D(o,l)},r.prototype.vd=function(o){var l=this.qk.Fa.ja(o);this.qk.Fa.vd(o,-1),this.qk.g.pd(l,!1)},r}(),x=function(){function r(o){this.qk=o}return r.prototype.D=function(o,l){this.qk.IT.D(o,l)},r.prototype.vd=function(o){this.qk.Fa.vd(o,-1)},r}(),c=function(){function r(o){this.qk=o}return r.prototype.D=function(o,l){l.L(this.qk.LT[o])},r.prototype.vd=function(o){this.qk.Fa.vd(o,-1)},r}(),a=function(){function r(o){o===void 0?(this.Fa=new h.Yj,this.Fa.De(20),this.g=new h.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new N(this)):o instanceof Array?(this.Fa=new h.Yj,this.Fa.De(20),this.LT=o,this.Xh=new c(this)):(this.Fa=new h.Yj,this.Fa.De(20),this.IT=o,this.Xh=new x(this))}return r.prototype.Ib=function(o){var l=o.getType();if(h.Gx.xj(l))this.jN(o);else if(h.Vk.yd(l))this.oN(o);else if(l==197)this.gN(o);else{if(l!=33)throw h.i.N("invalid shape type");this.nN(o)}},r.prototype.cR=function(){var o=new h.Sa,l=this.Fa.rc(-1),d=new h.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(l),o),d.nf(o),l=this.Fa.lb(l);l!=-1;l=this.Fa.lb(l))this.g.Vi(this.Fa.ja(l),o),d.lineTo(o);return d},r.RO=function(o){var l=new r(o),d=o.I(),f=1,m=new h.h,b=new h.h,_=new h.h;for(o.D(0,m);o.D(f,b),b.Rz(m)&&f<d-1;)f++;for(l.Fa.addElement(0,-1),l.Fa.xn(f),d=f+1;d<o.I();d++)o.D(d,_),(f=l.pC(_))!=-1&&l.Fa.Sj(f,d);for(_=new h.Sa,f=l.Fa.rc(-1),d=new h.Da(o.description),o.ve(l.Fa.ja(f),_),d.nf(_),f=l.Fa.lb(f);f!=-1;f=l.Fa.lb(f))o.ve(l.Fa.ja(f),_),d.lineTo(_);return d},r.construct=function(o,l,d){for(var f=new r(o),m=1,b=o[0];o[m].Rz(b)&&m<l-1;)m++;for(f.Fa.addElement(0,-1),f.Fa.xn(m),m+=1;m<l;m++)(b=f.pC(o[m]))!=-1&&f.Fa.Sj(b,m);for(o=0,l=f.Fa.rc(-1);l!=-1;l=f.Fa.lb(l))d[o++]=f.Fa.ja(l);return o},r.JG=function(o,l){var d=o.Ba(l),f=o.Vc(l);if(l=!o.dc(l)&&o.Nn(l),o=o.ub(0),f*=2,l&&(f-=2),6>f-(d*=2))return!0;l=new h.h;var m=new h.h,b=new h.h;o.tc(d,l),o.tc(d+2,m),o.tc(d+4,b);var _=r.Wu(m,b,l);if(_.ps()||!r.um(_.value()))return!1;var $=h.h.construct(m.x,m.y),C=new h.h;for(d+=6;d<f;d+=2)if(C.L(m),m.L(b),o.tc(d,b),(_=r.Wu(m,b,l)).ps()||!r.um(_.value())||(_=r.Wu($,b,l)).ps()||!r.um(_.value())||(_=r.Wu(m,b,C)).ps()||!r.um(_.value()))return!1;return!0},r.prototype.jN=function(o){for(var l=new h.Sa,d=new h.h,f=0;f<o.I();f++){o.D(f,d);var m=this.Cr(d);if(m!=-1){o.ve(f,l);var b=this.g.fc(this.Ss,l);this.Fa.Sj(m,b)}}},r.prototype.gN=function(o){for(var l=new h.Sa,d=new h.h,f=0;4>f;f++){o.mB(f,d);var m=this.Cr(d);if(m!=-1){o.Hf(f,l);var b=this.g.fc(this.Ss,l);this.Fa.Sj(m,b)}}},r.prototype.oN=function(o){var l=new h.Sa,d=o.ac();if((d=this.Cr(d))!=-1){o.To(l);var f=this.g.fc(this.Ss,l);this.Fa.Sj(d,f)}d=o.wc(),(d=this.Cr(d))!=-1&&(o.Po(l),o=this.g.fc(this.Ss,l),this.Fa.Sj(d,o))},r.prototype.nN=function(o){var l=o.D();(l=this.Cr(l))!=-1&&(o=this.g.fc(this.Ss,o),this.Fa.Sj(l,o))},r.prototype.Cr=function(o){var l=-1;if(this.Fa.size(-1)==0)return this.Fa.addElement(-4,-1);if(this.Fa.size(-1)==1){var d=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return o.Rz(d)||(l=this.Fa.xn(-5)),l}return this.pC(o)},r.prototype.pC=function(o){var l=-1;do{var d=this.Fa.rc(-1),f=this.Fa.Fc(-1),m=this.Fa.ja(d),b=this.Fa.ja(f),_=new h.h,$=new h.h;if(this.Xh.D(m,_),this.Xh.D(b,$),m=h.h.Uq($,o,_),r.um(m))l=this.Fa.xn(-1),(_=this.nC(o,f,d))!=d&&this.oC(o,d,this.Fa.we(_));else if(r.CG(m)){$=this.Fa.sv(-1);var C=this.Fa.rc(-1),P=this.Fa.Fc(-1);for(m=new h.h,b=new h.h;C!=this.Fa.we(P);){var L=this.Fa.ja($);this.Xh.D(L,m),L=h.h.Uq(m,o,_),r.CG(L)?(P=$,$=this.Fa.ll($)):(C=$,$=this.Fa.Xp($))}if($=P,_=C,L=this.Fa.ja($),C=this.Fa.ja(_),this.Xh.D(L,m),this.Xh.D(C,b),_!=d&&(m=h.h.Uq(b,o,m),!r.um(m)))continue;l=this.Fa.zu(_,$,-2,!1),this.oC(o,$,f),this.nC(o,_,d)}else this.sb==null&&(this.sb=new h.yb),this.sb.Dc($),this.sb.Qc(_),0>(_=this.sb.fe(o,!0))?(_=this.Fa.we(f),this.Fa.vd(f,-1),l=this.Fa.xn(-3),this.nC(o,_,d)):1<_&&(_=this.Fa.lb(d),this.Fa.vd(d,-1),l=this.Fa.zu(-1,_,-3,!1),this.oC(o,_,f))}while(!1);return l},r.prototype.oC=function(o,l,d){if(l!=d){var f=this.Fa.ja(l),m=this.Fa.lb(l),b=new h.h,_=new h.h;for(this.Xh.D(f,b);l!=d&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(m),_),f=h.h.Uq(_,o,b),!r.um(f));)f=l,l=m,b.L(_),m=this.Fa.lb(l),this.Xh.vd(f)}},r.prototype.nC=function(o,l,d){if(l==d)return d;var f=this.Fa.ja(l),m=this.Fa.we(l),b=new h.h,_=new h.h;for(this.Xh.D(f,b);l!=d&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(m),_),f=h.h.Uq(b,o,_),!r.um(f));)f=l,l=m,b.L(_),m=this.Fa.we(l),this.Xh.vd(f);return l},r.Wu=function(o,l,d){var f=new h.Wb;f.set(l.x),f.sub(o.x);var m=new h.Wb;m.set(d.y),m.sub(o.y);var b=new h.Wb;return b.set(l.y),b.sub(o.y),(l=new h.Wb).set(d.x),l.sub(o.x),f.Ag(m),b.Ag(l),f.sub(b),f},r.um=function(o){return 0>o},r.CG=function(o){return 0<o},r}();h.Zt=a}(re||(re={})),function(h){var N=function(){function x(c){this.g=null,this.tH=!0,this.nd=c}return x.zU=function(c,a,r){return c=h.ta.Er(c),h.Yt.Cv(a.Lg(),a.ih(),r.Lg(),r.ih(),h.lc.ox(c))},x.CO=function(c,a){var r=new h.Sa;return h.Yt.WT(c,a,r),r},x.V=function(c,a,r,o){return(r=new x(r)).g=c,r.qa=a,r.tH=o,r.EM()},x.prototype.nM=function(c){return h.Yt.iQ(this.g,c)},x.prototype.sM=function(c){return h.$t.V(this.g,c,this.nd)},x.prototype.EM=function(){var c=this.qa,a=h.ta.Er(c),r=1.00001*(c=h.ta.rN(c));c*=1.000001;for(var o=!1,l=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),d=0,f=this.g.jS();;d++){if(d>l)throw h.i.fa("Internal Error: max number of iterations exceeded");var m=this.nM(a);if(o=o||m,this.tH&&(m=this.g.Gp(a,!0,!1)!=0,o=o||m),m=!1,(d==0||f||h.$t.kI(!0,this.g,c,null,this.nd))&&(m=this.sM(r),o=o||m),!m)break;h.mp.zp(this.nd)}return o},x}();h.Tk=N}(re||(re={})),function(h){var N=function(){function c(a){this.$d=this.Mc=null,this.Ys=0,this.Ub=a,this.cA=!0}return c.prototype.uv=function(a,r){var o=this.g.bc(a);if(o==null){if(!this.g.ed(a,r))return null;o=r}return o},c.prototype.Xq=function(){var a;a===void 0&&(a=!1),this.Ys++,!a&&4095&this.Ys||(this.Ys=0,h.mp.zp(this.Ub))},c.prototype.nP=function(){var a=this.g.Yq(!1),r=!1,o=new h.yb,l=new h.yb,d=new h.l;d.Oa();var f=new h.l;f.Oa();for(var m=new h.Sa,b=new h.TC,_=a.next();_!=-1;_=a.next()){h.mp.zp(this.Ub);var $=null,C=!1;if(!h.aa.Rn(this.g.ic(a.ck))){if(($=this.uv(_,o))==null)continue;if($.A(d),d.W(this.qa,this.qa),$.Bi(this.qa)){if(!$.Bi(0))continue;C=!0,$=null}}var P=this.g.Yq(a),L=P.next();for(L!=-1&&(L=P.next());L!=-1;L=P.next()){var V=null,U=!1;if(!h.aa.Rn(this.g.ic(P.ck))){if((V=this.uv(L,l))==null)continue;if(V.A(f),V.Bi(this.qa)){if(!V.Bi(0))continue;U=!0,V=null}}var Y=0,X=0;if($!=null&&V!=null)d.HG(f)&&(b.Oo($),b.Oo(V),b.Ea(this.qa,!1),0<(Y=b.ol(0))+(X=b.ol(1))&&(this.g.jr(_,b,0,!0),this.g.jr(L,b,1,!0)),b.clear());else if($!=null){var Z=new h.h;if(this.g.D(L,Z),d.contains(Z)){if(b.Oo($),this.g.Vi(L,m),b.Kz(this.qa,m,!1),0<(Y=b.ol(0)))if(this.g.jr(_,b,0,!0),U){for(U=-1,Z=this.g.U(L);Z!=-1&&Z!=L&&(U=Z,(V=this.uv(Z,l))!=null&&V.Bi(0));Z=this.g.U(Z));for(Z=L;Z!=-1&&(this.g.Dh(Z,b.Bf),Z!=U);Z=this.g.U(Z));}else this.g.Dh(L,b.Bf);b.clear()}}else{if(V==null)continue;if(Z=new h.h,this.g.D(_,Z),f.W(this.qa,this.qa),f.contains(Z)){if(b.Oo(V),this.g.Vi(_,m),b.Kz(this.qa,m,!1),0<(X=b.ol(0)))if(this.g.jr(L,b,0,!0),C){for(U=-1,Z=this.g.U(_);Z!=-1&&Z!=_&&(U=Z,(V=this.uv(Z,l))!=null&&V.Bi(0));Z=this.g.U(Z));for(Z=_;Z!=-1&&(this.g.Dh(Z,b.Bf),Z!=U);Z=this.g.U(Z));}else this.g.Dh(_,b.Bf);b.clear()}}if(Y+X!=0){if(Y!=0){if(($=this.g.bc(_))==null){if(!this.g.ed(_,o))continue;$=o,o.A(d)}else $.A(d);if($.Bi(this.qa))break}r=!0}}}return r},c.prototype.oP=function(){return this.QU()},c.prototype.QU=function(){return new h.RC().PX(this.g,this.qa)},c.prototype.lI=function(){var a=!1;this.Mc==null&&(this.Mc=new h.Yj);var r=new h.ia(0);r.Jb(this.g.fd+1);for(var o=this.g.Yq(),l=o.next();l!=-1;l=o.next())r.add(l);this.g.nx(r,r.size),r.add(-1),o=this.g.Gd(),l=this.g.Gd(),this.$d=new h.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var d=new h.ia(0),f=new h.ia(0),m=0;new h.h;var b=this.g.td;this.g.vb.mc();for(var _,$,C=this.g.vb.za[0].o,P=r.get(m++);P!=-1;){var L=_=C[2*($=b.T(P,0))],V=$=C[2*$+1];do{var U=b.T(P,2),Y=b.T(P,1);if(U!=-1){var X=b.T(U,0),Z=C[2*X];0>(V<(X=C[2*X+1])?-1:V>X?1:L<Z?-1:L>Z?1:0)&&(f.add(P),f.add(U))}Y!=-1&&(Z=C[2*(X=b.T(Y,0))],0>(V<(X=C[2*X+1])?-1:V>X?1:L<Z?-1:L>Z?1:0)&&(f.add(Y),f.add(Y))),(Z=this.g.Pa(P,o))!=-1&&(d.add(Z),this.g.Ra(P,o,-1)),(Z=this.g.Pa(P,l))!=-1&&(d.add(Z),this.g.Ra(P,l,-1)),(P=r.get(m++))!==-1&&(L=C[2*(V=b.T(P,0))],V=C[2*V+1])}while(P!=-1&&L===_&&V===$);for(L=d.size==1&&f.size==2,Z=V=-1,U=0,Y=d.size;U<Y;U++){X=d.get(U);var ne=this.Mc.we(X);if(ne==-1||d.hG(ne)||(V=ne),(X=this.Mc.lb(X))==-1||d.hG(X)||(Z=X),V!=-1&&Z!=-1)break}for(this.$d.$J($,_),U=0,Y=d.size;U<Y;U++)X=d.get(U),this.Mc.vd(X,-1);if(d.clear(!1),!L&&V!=-1&&Z!=-1&&this.qO(V,Z)){a=!0,this.Ni=this.$d.rm();break}for(U=0,Y=f.size;U<Y;U+=2){if($=f.get(U),_=f.get(U+1),L?($=this.Mc.zu(V,Z,$,!0),L=!1):$=this.Mc.addElement($,-1),this.$d.rg){this.Ni=this.$d.rm(),a=!0;break}this.g.Pa(_,o)==-1?this.g.Ra(_,o,$):this.g.Ra(_,l,$)}if(a)break;f.Bh(0)}return this.g.Td(o),this.g.Td(l),a},c.prototype.qO=function(a,r){return this.$d.compare(this.Mc,this.Mc.ja(a),r),a=this.$d.rg,this.$d.Kr(),a},c.yE=function(a){for(var r=a.ld;r!=-1;r=a.ue(r))if(h.aa.Hc(a.ic(r)))return!0;return!1},c.fQ=function(a,r,o,l){return!!c.yE(a)&&((r=new c(l)).g=a,r.qa=o,15>a.fd?a=r.nP():r.oP())},c.V=function(a,r,o){return c.fQ(a,a.IF(),r,o)},c.kI=function(a,r,o,l,d){if(!c.yE(r))return!1;var f=new c(d);if(f.g=r,f.qa=o,f.cA=a,f.lI())return l!=null&&l.Wt(f.Ni),!0;var m=new h.Dd;return m.$B(),r.Oc(m),(f=new c(d)).g=r,f.qa=o,f.cA=a,a=f.lI(),m.$B(),r.Oc(m),!!a&&(l!=null&&l.Wt(f.Ni),!0)},c.Ml=function(a,r){return!(16>(a=a.I()))&&2*a+Math.log(a)*Math.LOG10E/Math.log(2)*r<1*a*r},c.lP=function(a,r,o,l){var d=r.getType();if(h.aa.Hc(d))return new c(l).mP(a,r,o);throw h.i.fa("crack_A_with_B")},c.prototype.mP=function(a,r,o){var l=new h.l;a.xc(l);var d=new h.l;if(r.xc(d),d.W(o,o),!d.isIntersecting(l))return a;var f=a.Bb,m=null;f!=null&&(m=f.Fb),c.Ml(a,a.I())&&(m=h.ta.jj(a,d));var b=m!=null?m.getIterator():null,_=r.Ga();r=a.Ga();var $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=[];_.$a();)for(;_.Ha();){var C=_.ha();if(m!=null){for(b.Uo(C,o),f=b.next();f!=-1;f=b.next())if(this.Xq(),r.Vb(m.ja(f),-1),r.Ha()){var P=(f=r.ha()).Ea(C,null,$,null,o);for(f=0;f<P;++f){var L=$[f];if(L!=0&&L!=1){var V=r.wb(),U=new x;U.t=L,U.index=V,d.push(U)}}}}else{var Y=new h.l;if(C.xc(Y),Y.W(o,o),l.isIntersecting(Y)){for(r.Zi();r.$a();)for(;r.Ha();)if(this.Xq(),f=r.ha(),L=new h.l,f.xc(L),L.isIntersecting(Y))for(P=f.Ea(C,null,$,null,o),f=0;f<P;++f)(L=$[f])!=0&&L!=1&&(V=r.wb(),(U=new x).t=L,U.index=V,d.push(U))}}}if(d.length==0)return a;for(d=d.sort(x.Ey),a=a.Ia(),r.Zi();r.$a()&&!r.Ha(););for(o=r.ha(),l=new h.ig,m=-1,f=0,b=d.length;f<b;){for($=d[f].index,_=f+1;_<b&&d[_].index==$;)++_;for(;r.wb()<$;){if(this.Xq(),C=r.Ha(),L=r.gb,(Y=C||!r.On()||r.Pn())&&a.oc(o,m!=L),m=L,!C)for(;r.$a()&&!r.Ha(););o=r.ha()}for($=0;f<_;f++)(L=d[f].t)!=$&&(o.ah($,L,l),$=L,L=r.gb,a.oc(l.get(),m!=L),m=L);if((Y=(C=r.Ha())||!r.On()||r.Pn())&&(o.ah($,1,l),a.oc(l.get(),!1)),C)o=r.ha();else{for(;r.$a()&&!r.Ha(););o=r.Ha()?r.ha():null}f=_}for(o!=null&&(L=r.gb,(Y=(C=r.Ha())||!r.On()||r.Pn())&&a.oc(o,m!=L),m=L),C=r.Ha();;){if(!C){for(;r.$a()&&!(C=r.Ha()););if(!C)break}o=r.ha(),L=r.gb,(Y=(C=r.Ha())||!r.On()||r.Pn())&&a.oc(o,m!=L),m=L}return a},c}();h.$t=N;var x=function(){function c(){}return c.Ey=function(a,r){return a.index==r.index?a.t>r.t?1:a.t<r.t?-1:0:a.index>r.index?1:-1},c}()}(re||(re={})),function(h){var N;(N=h.KK||(h.KK={}))[N.Left=0]="Left",N[N.Right=1]="Right",N[N.Coincident=2]="Coincident",N[N.Undefined=3]="Undefined",N[N.Uncut=4]="Uncut";var x=function(r,o,l,d,f,m,b,_,$,C,P){this.X=r,this.bt=o,this.Ns=l,this.tg=d,this.Lm=C,this.Al=P};h.uY=x;var c=function(){function r(o,l){this.JH=o,this.Hi=l}return r.prototype.qM=function(o,l){var d=new h.h;this.Hi.D(o,d);var f=new h.h;return this.Hi.D(l,f),(d=d.compare(f))!=0?d:(o=this.Hi.Pa(o,this.JH))<(l=this.Hi.Pa(l,this.JH))?-1:o==l?0:1},r}(),a=function(r,o,l,d,f,m,b,_,$){this.tg=r,this.Ns=o,this.OA=l,this.UH=d,this.Ei=f,this.Al=m,this.Lm=b,this.VH=_,this.OT=$};h.tY=a,h.LK=function(){function r(){}return r.JK=function(o,l,d,f,m,b){if(l.B())o=new x(l,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),m.push(o);else if(d.B())o=new x(l,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),m.push(o);else{var _=new h.gd;if(_.Ib(l),_.Ib(d),h.Tk.V(_,f,b,!0),_.fd==0)o=new x(l.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),m.push(o);else{for(l=0,d=_.Gd(),f=_.ld;f!=-1;f=_.ue(f))for(b=_.Ob(f);b!=-1;b=_.Rb(b))for(var $=_.Xa(b),C=0,P=_.Ja(b);C<P;$=_.U($),C++)_.Ra($,d,l++);l=r.HM(d,_),r.cM(o,l,_,m)}}},r.HM=function(o,l){for(var d=l.fd,f=new h.ia(0),m=l.ld;m!=-1;m=l.ue(m))for(var b=l.Ob(m);b!=-1;b=l.Rb(b))for(var _=l.Xa(b),$=0,C=l.Ja(b);$<C;_=l.U(_),$++)f.add(_);var P=new c(o,l);f.Vd(0,d,function(qe,Ue){return P.qM(qe,Ue)}),o=[];var L=[],V=l.Gd(),U=l.Gd();m=l.ld,b=l.ue(m),C=new h.h;var Y=new h.h,X=f.get(0),Z=l.bd(X),ne=l.Qf(Z);l.D(X,C);var oe=1;for(_=0;oe<d-1;){var he=!1;for($=oe;$<d;$++)if($!=_){var be=f.get($),Ce=l.bd(be),Pe=l.Qf(Ce);if(l.D(be,Y),!C.qb(Y))break;ne==m&&Pe==b&&(he=r.uM(V,U,l,o,L,Z,X,Ce,be))}if(he||_==oe-1){if(he&&_==oe-1&&oe--,++_==d)break;X=f.get(_),Z=l.bd(X),ne=l.Qf(Z),l.D(X,C)}he||(oe=_+1)}for(d=[],m=l.ld;m!=-1;m=l.ue(m))for(b=l.Ob(m);b!=-1;b=l.Rb(b))for(f=l.Xa(b),$=0,C=l.Ja(b);$<C;f=l.U(f),$++){if(0<=(_=l.Pa(f,U)))for(;_<L.length&&L[_].tg==f;)d.push(L[_++]);if(0<=(_=l.Pa(f,V)))for(;_<o.length&&o[_].tg==f;)d.push(o[_++])}return l.Td(V),l.Td(U),d},r.uM=function(o,l,d,f,m,b,_,$,C){var P=d.rj(b),L=d.rj($),V=d.Xa(b),U=d.Xa($),Y=d.Ma(_),X=d.Ma(C),Z=!1,ne=!1,oe=!1,he=!1;return _!=V&&(C!=U&&(Z=r.vM(o,d,f,b,Y,$,X)),C!=L&&(ne=r.wM(o,d,f,b,Y,$,C))),_!=P&&(C!=U&&(oe=r.xM(l,d,m,b,_,$,X,V)),C!=L&&(he=r.yM(l,d,m,b,_,$,C,V))),Z&&ne&&oe?(o=f.length-1,m[he?m.length-2:m.length-1].Ei==2&&(f[o-1]=f[o],--f.length)):Z&&ne&&he&&m[m.length-1].Ei==2&&(m=f[f.length-1],--f.length,d.Pa(m.tg,o)==f.length&&d.Ra(m.tg,o,-1)),Z||ne||oe||he},r.vM=function(o,l,d,f,m,b,_){var $=new h.yb,C=new h.yb,P=[0,0],L=[0,0],V=l.bc(m);return V==null&&(l.ed(m,$),V=$),($=l.bc(_))==null&&(l.ed(_,C),$=C),2>(V=V.Ea($,null,P,L,0))&&(f=new a(m,f,P[0],NaN,V,_,b,L[0],NaN),d.push(f),0>(f=l.Pa(m,o))&&l.Ra(m,o,d.length-1)),!0},r.wM=function(o,l,d,f,m,b,_){var $=new h.yb,C=new h.yb,P=[0,0],L=[0,0],V=l.bc(m);return V==null&&(l.ed(m,$),V=$),($=l.bc(_))==null&&(l.ed(_,C),$=C),2>(V=V.Ea($,null,P,L,0))&&(f=new a(m,f,P[0],NaN,V,_,b,L[0],NaN),d.push(f),0>(f=l.Pa(m,o))&&l.Ra(m,o,d.length-1),!0)},r.xM=function(o,l,d,f,m,b,_,$){var C=new h.yb,P=new h.yb,L=[0,0],V=[0,0],U=l.bc(m);return U==null&&(l.ed(m,C),U=C),(C=l.bc(_))==null&&(l.ed(_,P),C=P),(U=U.Ea(C,null,L,V,0))==2?(f=new a(m,f,L[0],L[1],U,_,b,V[0],V[1]),d.push(f),0>(f=l.Pa(m,o))&&l.Ra(m,o,d.length-1),!0):(P=!1,m==$&&(f=new a(m,f,L[0],NaN,U,_,b,V[0],NaN),d.push(f),0>(f=l.Pa(m,o))&&l.Ra(m,o,d.length-1),P=!0),P)},r.yM=function(o,l,d,f,m,b,_,$){var C=new h.yb,P=new h.yb,L=[0,0],V=[0,0],U=l.bc(m);return U==null&&(l.ed(m,C),U=C),(C=l.bc(_))==null&&(l.ed(_,P),C=P),(U=U.Ea(C,null,L,V,0))==2?(f=new a(m,f,L[0],L[1],U,_,b,V[0],V[1]),d.push(f),0>(f=l.Pa(m,o))&&l.Ra(m,o,d.length-1),!0):(P=!1,m==$&&(f=new a(m,f,L[0],NaN,U,_,b,V[0],NaN),d.push(f),0>(f=l.Pa(m,o))&&l.Ra(m,o,d.length-1),P=!0),P)},r.cM=function(o,l,d,f){var m=[];m[0]=new h.h,m[1]=new h.h,m[2]=new h.h,m[3]=new h.h;var b=new h.h,_=new h.h,$=new h.h,C=new h.h,P=null;f!=null&&(P=new h.ig).Or();var L=0,V=null,U=new h.yb;new h.yb;for(var Y=d.Ob(d.ld);Y!=-1;Y=d.Rb(Y)){for(var X=4,Z=-1,ne=-1,oe=-1,he=-1,be=NaN,Ce=!0,Pe=!1,qe=!0,Ue=!0,Je=!0,je=0,Ht=Y,Dt=0,ni=d.Xa(Y),mi=d.Ja(Y),Ai=0;Ai<mi;ni=d.U(ni),Ai++){var xi=d.bc(ni);if(xi==null){if(!d.ed(ni,U))continue;xi=U}ne==-1&&(ne=ni);for(var ri=0;L<l.length&&ni==l[L].tg;){Z=l[L].Ns;var zt=l[L].tg,Ct=l[L].OA,Zi=l[L].Lm,Pi=l[L].Al,zn=l[L].VH;if(l[L].Ei==2){if(Pe||(Ht=Z,ne=zt,Dt=Ct,oe=Zi,he=Pi,be=zn,X=2,f!=null?V=new h.Ta:je=0,Je=!1,Ue=!0),Ct=l[L].UH,zn=l[L].OT,f!=null?(xi.ah(ri,l[L].UH,P),V.oc(P.get(),Ue)):je++,ri=Ct,Pe=!0,Ue=Ce=!1,L+1==l.length||l[L+1].Ei!=2||l[L+1].tg==zt&&l[L+1].OA!=ri){if(f!=null){var Wt=new x(V,2,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi);f.push(Wt)}else null.add(je);Ht=Z,ne=zt,Dt=Ct,oe=Zi,he=Pi,be=zn,X=2,Pe=Ce=!1,Ue=Je=!0}}else{var tn=d.U(zt);if(L<l.length-1&&l[L+1].tg==tn&&l[L+1].Al==Pi&&l[L+1].Ei==2)Ct!=ri&&(Je&&(f!=null?V=new h.Ta:je=0),Ce=0<L&&l[L-1].Ns==Z?X==1?0:X==0?1:3:3,f!=null?(xi.ah(ri,Ct,P),V.oc(P.get(),Ue),Wt=new x(V,Ce,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi),f.push(Wt)):(je++,null.add(je)),ri=Ct,Ht=Z,ne=zt,Dt=Ct,oe=Zi,he=Pi,be=zn,X=Ce,Ce=qe=!1,Ue=Je=!0);else if(!r.CM(o,d,l,L,b,_)){r.zM(d,l,L,Y,ni,$,C);var vi=!1;if(tn=!1,Wt=!0,!(b.qb($)||_.qb($)||b.qb(C)||_.qb(C))){m[0].L(b),m[1].L(_),m[2].L($),m[3].L(C),m.sort(h.h.nu);var qn=m[0],xl=m[1],Aa=m[2],ge=m[3];qn.qb(b)?xl.qb(_)?o?(tn=vi=!0,Wt=!1):vi=!1:ge.qb(_)?o?Wt=tn=vi=!0:vi=!1:(vi=!0,Wt=xl.qb($)):xl.qb(b)?Aa.qb(_)?o?(tn=vi=!0,Wt=!1):vi=!1:qn.qb(_)?o?Wt=tn=vi=!0:vi=!1:(vi=!0,Wt=Aa.qb($)):Aa.qb(b)?ge.qb(_)?o?(tn=vi=!0,Wt=!1):vi=!1:xl.qb(_)?o?Wt=tn=vi=!0:vi=!1:(vi=!0,Wt=ge.qb($)):qn.qb(_)?o?(tn=vi=!0,Wt=!1):vi=!1:Aa.qb(_)?o?Wt=tn=vi=!0:vi=!1:(vi=!0,Wt=qn.qb($))}vi&&(vi=ni==zt,(Ct!=ri||vi&&ri==0)&&(Je&&(f!=null?V=new h.Ta:je=0),f!=null?(xi.ah(ri,Ct,P),V.oc(P.get(),Ue)):je++),Wt?X!=1?((Ct!=ri||vi&&ri==0)&&(f!=null?(Wt=new x(V,1,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi),f.push(Wt)):null.add(je)),tn?(L>=l.length-2||l[L+2].Ns!=Z)&&(X=0):X=1):((Ct!=ri||vi&&ri==0)&&(f!=null?(Wt=new x(V,3,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi),f.push(Wt)):null.add(je)),X=1):X!=0?((Ct!=ri||vi&&ri==0)&&(f!=null?(Wt=new x(V,0,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi),f.push(Wt)):null.add(je)),tn?(L>=l.length-2||l[L+2].Ns!=Z)&&(X=1):X=0):((Ct!=ri||vi&&ri==0)&&(f!=null?(Wt=new x(V,3,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi),f.push(Wt)):null.add(je)),X=0),(Ct!=ri||vi&&ri==0)&&(ri=Ct,Ht=Z,ne=zt,Dt=Ct,oe=Zi,he=Pi,be=zn,Ce=qe=!1,Ue=Je=!0))}}L++}ri!=1&&(Je&&(f!=null?V=new h.Ta:je=0),f!=null?(xi.ah(ri,1,P),V.oc(P.get(),Ue)):je++,Ue=Je=!1,qe=!0)}qe&&(Ct=1,zt=d.rj(Y),zt=d.Ma(zt),Pi=Zi=-1,zn=NaN,Ce?f!=null?(Wt=new x(V,4,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi),f.push(Wt)):null.add(je):(Ce=X==1?0:X==0?1:3,f!=null?(Wt=new x(V,Ce,Z,zt,Ct,X,Ht,ne,Dt,Zi,Pi),f.push(Wt)):null.add(je)))}},r.CM=function(o,l,d,f,m,b){var _=d[f].VH;if(_==1)return r.AM(o,l,d,f,m,b);if(_==0)return r.BM(o,l,d,f,m,b);throw h.i.Qa()},r.AM=function(o,l,d,f,m,b){var _=new h.yb,$=d[f].tg,C=d[f].Lm,P=d[f].Al,L=-1,V=-1,U=-1,Y=-1;if(!o&&0<f){var X=d[f-1];L=X.tg,V=X.Lm,U=X.Al,Y=X.Ei}var Z=-1,ne=-1,oe=-1,he=-1;f<d.length-1&&(Z=(X=d[f+1]).tg,ne=X.Lm,oe=X.Al,he=X.Ei);var be=l.U($);return X=l.U(P),o?f==d.length-1||Z!=$||ne!=C||oe!=X||he==2?((o=l.bc(P))==null&&(l.ed(P,_),o=_),b.L(o.kg()),m.mt(b),b.normalize(),m.normalize(),!1):((o=l.bc(P))==null&&(l.ed(P,_),o=_),m.L(o.kg()),(o=l.bc(X))==null&&(l.ed(X,_),o=_),b.L(o.kg()),m.Sq(),b.normalize(),m.normalize(),!1):0<f&&L==$&&V==C&&U==X&&Y==2||f<d.length-1&&Z==be&&ne==C&&oe==X&&he==2?((o=l.bc(P))==null&&(l.ed(P,_),o=_),b.L(o.kg()),m.mt(b),b.normalize(),m.normalize(),!1):!(f<d.length-1&&Z==$&&ne==C&&oe==X)||((o=l.bc(P))==null&&(l.ed(P,_),o=_),m.L(o.kg()),(o=l.bc(X))==null&&(l.ed(X,_),o=_),b.L(o.kg()),m.Sq(),b.normalize(),m.normalize(),!1)},r.BM=function(o,l,d,f,m,b){var _=new h.yb,$=d[f].tg,C=d[f].Lm,P=d[f].Al,L=-1,V=-1,U=-1,Y=-1;if(!o&&f<d.length-1){var X=d[f+1];L=X.tg,V=X.Lm,U=X.Al,Y=X.Ei}var Z=-1,ne=-1,oe=-1;X=-1,0<f&&(Z=(X=d[f-1]).tg,ne=X.Lm,oe=X.Al,X=X.Ei);var he=l.U($),be=l.Ma(P);return o?f!=0&&Z==$&&ne==C&&oe==be&&X!=2||((o=l.bc(P))==null&&(l.ed(P,_),o=_),b.L(o.kg()),m.mt(b),b.normalize(),m.normalize(),!1):!(0<f&&Z==$&&ne==C&&oe==be&&X==2||f<d.length-1&&L==he&&V==C&&U==be&&Y==2)||((o=l.bc(P))==null&&(l.ed(P,_),o=_),b.L(o.kg()),m.mt(b),b.normalize(),m.normalize(),!1)},r.zM=function(o,l,d,f,m,b,_){var $=new h.yb,C=o.bc(m);if(C==null&&(o.ed(m,$),C=$),l=(d=l[d]).tg,d=d.OA,m=o.U(l),d==1)b.L(C.kg()),m!=-1&&m!=o.rj(f)?((C=o.bc(m))==null&&(o.ed(m,$),C=$),_.L(C.kg()),(C=o.bc(l))==null&&o.ed(l,$)):_.L(b),b.Sq(),_.normalize(),b.normalize();else{if(d!=0)throw h.i.Qa();_.L(C.kg()),b.mt(_),_.normalize(),b.normalize()}},r}()}(re||(re={})),function(h){var N;(N=h.bM||(h.bM={}))[N.Linear=0]="Linear",N[N.Angular=1]="Angular",N[N.Area=2]="Area";var x=function(){function f(m,b,_){this.od=b,this.ai=_,this.vA=m}return f.prototype.Nb=function(m){return m instanceof f&&this.ai===m.ai},f.aG=function(m){return m.od!==0?null:m.vA===-1?new f(-1,2,m.ai*m.ai):f.Zg(l[m.vA])},f.Zg=function(m){return(m=o[m])===void 0?null:m},f.ZO=function(m,b,_){var $=null;if(_!=null)try{_.values[0]==="EPSG"&&($=f.Zg(parseInt(_.values[1])))}catch{}return $===null&&($=new f(-1,m,b)),$},f.prototype.Ec=function(){return this.vA},f.prototype.CF=function(m){if(m.od!=this.od)throw h.i.Hb();return this.ai/m.ai},f.Nh=function(m,b,_){return b.CF(_)*m},f.XE=function(m,b,_,$,C){for(_=_.CF($),$=0;$<b;$++)C[$]=m[$]*_},f}();h.Tc=x;for(var c=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2.5899984703195216e6,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988110336e-6,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3.4345281495040003e6,109458,3434290937856e-6,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1244521604938272e-22,109465,1e-12,109466,1e-18],a=[1031,484813681109536e-23,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],r=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],o=[],l=[],d=0;d<c.length;d+=2)o[c[d]]=new x(c[d],2,c[d+1]);for(c=null,d=0;d<a.length;d+=2)o[a[d]]=new x(a[d],1,a[d+1]);for(a=null,d=0;d<r.length;d+=3)o[r[d]]=new x(r[d],0,r[d+1]),l[r[d]]=r[d+2];r=null}(re||(re={})),function(h){var N=function(){function x(){this.xb=this.pb=0}return x.prototype.set=function(c,a){a!==void 0?(this.pb=c,this.xb=a):typeof c=="number"?(this.pb=c,this.xb=0):(this.pb=c.pb,this.xb=c.xb)},x.prototype.value=function(){return this.pb},x.prototype.add=function(c){var a=this.pb+c.pb;c=this.xb+c.xb+2220446049250313e-31*Math.abs(a),this.pb=a,this.xb=c},x.prototype.kN=function(){var c=this.pb+1,a=this.xb+2220446049250313e-31*Math.abs(c);this.pb=c,this.xb=a},x.prototype.dN=function(c,a){this.pb=c.pb+a.pb,this.xb=c.xb+a.xb+2220446049250313e-31*Math.abs(this.pb)},x.prototype.sub=function(c){if(typeof c=="number"){var a=this.pb-c;c=this.xb+2220446049250313e-31*Math.abs(a)}else a=this.pb-c.pb,c=this.xb+c.xb+2220446049250313e-31*Math.abs(a);this.pb=a,this.xb=c},x.prototype.Ag=function(c){var a=this.pb*c.pb;this.xb=this.xb*Math.abs(c.pb)+c.xb*Math.abs(this.pb)+this.xb*c.xb+2220446049250313e-31*Math.abs(a),this.pb=a},x.prototype.No=function(c){var a=this.pb*c;this.xb=this.xb*Math.abs(c)+2220446049250313e-31*Math.abs(a),this.pb=a},x.prototype.Kl=function(c,a){var r=Math.abs(c.pb)*Math.abs(a.pb);this.xb=c.xb*Math.abs(a.pb)+a.xb*Math.abs(c.pb)+c.xb*a.xb+2220446049250313e-31*Math.abs(r),this.pb=r},x.prototype.jm=function(c){var a=Math.abs(c.pb),r=this.pb/c.pb,o=(this.xb+Math.abs(r)*c.xb)/a;c.xb>.01*a&&(o*=1+(1+(c=c.xb/a))*c),this.pb=r,this.xb=o+2220446049250313e-31*Math.abs(r)},x.prototype.sqrt=function(){if(0<=this.pb){var c=Math.sqrt(this.pb),a=this.pb>10*this.xb?.5*this.xb/c:this.pb>this.xb?c-Math.sqrt(this.pb-this.xb):Math.max(c,Math.sqrt(this.pb+this.xb)-c);a+=2220446049250313e-31*Math.abs(c)}else this.pb<-1*this.xb?a=c=NaN:(c=0,a=Math.sqrt(this.xb));this.pb=c,this.xb=a},x.prototype.sin=function(c){var a=Math.sin(c.pb),r=Math.cos(c.pb);this.pb=a,a=Math.abs(a),this.xb=(Math.abs(r)+.5*a*c.xb)*c.xb+2220446049250313e-31*a},x.prototype.cos=function(c){var a=Math.sin(c.pb),r=Math.cos(c.pb);this.pb=r,r=Math.abs(r),this.xb=(Math.abs(a)+.5*r*c.xb)*c.xb+2220446049250313e-31*r},x.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},x.prototype.ps=function(){return this.qg()&&this.xb!=0},x}();h.Wb=N}(re||(re={}));var Ni=new re.h,us=new re.h,Xn=new re.h,Sn=new re.h,xo=new re.h;(function(h){var N,x;(x=N||(N={}))[x.closedPath=1]="closedPath",x[x.exteriorPath=2]="exteriorPath",x[x.ringAreaValid=4]="ringAreaValid";var c=function(){function a(r,o,l,d,f,m,b){o!==void 0?(this.ib=r,this.ck=o,this.bl=l,this.ii=d,this.ya=m,this.hA=b,this.ew=f):(this.ib=r.ib,this.ck=r.ck,this.bl=r.bl,this.ii=r.ii,this.ya=r.ya,this.hA=r.hA,this.ew=r.ew),this.bH=!0}return a.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):this.ii!=-1?(this.ii=this.ib.U(this.ii),this.ya++,this.ii!=-1&&this.ii!=this.ew?this.ii:this.$T()):-1},a.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;this.ck!=-1;){for(;this.bl!=-1;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),this.ii!=-1)return this.ii;if(this.ck=this.ib.ue(this.ck),this.ck==-1)break;this.hA&&!h.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},a.AP=function(r,o,l,d,f,m,b){return new a(r,o,l,d,f,m,b)},a}();h.zY=c,N=function(){function a(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return a.prototype.Sh=function(r){return this.We!=null?this.We[r]:null},a.prototype.Xg=function(r,o){if(this.We==null){if(o==null)return;this.We=[];for(var l=0,d=this.vb.I();l<d;l++)this.We.push(null)}this.We[r]=o},a.prototype.bp=function(r,o){this.md.S(r,1,o)},a.prototype.ap=function(r,o){this.md.S(r,2,o)},a.prototype.VB=function(r,o){this.md.S(r,6,o)},a.prototype.Sp=function(r){return this.md.T(r,6)},a.prototype.gx=function(r,o){this.md.S(r,7,o)},a.prototype.qv=function(r){return this.md.T(r,0)},a.prototype.OJ=function(r,o){this.cd.S(r,1,o)},a.prototype.SJ=function(r,o){this.cd.S(r,0,o)},a.prototype.JF=function(r){return this.cd.T(r,7)},a.prototype.Zo=function(r,o){this.cd.S(r,3,o)},a.prototype.$o=function(r,o){this.cd.S(r,4,o)},a.prototype.uU=function(r){this.cd==null&&(this.cd=new h.$c(8));var o=this.cd.Ce();return this.cd.S(o,2,r),this.cd.S(o,5,0),this.cd.S(o,6,0),this.cd.S(o,7,o),o},a.prototype.OQ=function(r){this.cd.jd(r)},a.prototype.wU=function(r){this.md==null&&(this.md=new h.$c(8),this.td=new h.$c(5),this.Oi=new h.be(0),this.vo=new h.be(0));var o=this.md.Ce();return this.md.S(o,0,o),this.md.S(o,3,0),this.md.S(o,6,0),this.gx(o,r),o>=this.Oi.size&&(r=16>o?16:h.O.truncate(3*o/2),this.Oi.resize(r),this.vo.resize(r)),this.Oi.set(o,0),this.vo.set(o,0),o},a.prototype.sF=function(r){this.md.jd(r)},a.prototype.Vy=function(r){this.td.jd(r),this.fd--},a.prototype.oI=function(r){this.md==null&&(this.md=new h.$c(8),this.td=new h.$c(5),this.Oi=new h.be(0),this.vo=new h.be(0));var o=this.td.Ce(),l=0<=r?r:o;if(this.td.S(o,0,l),0>r){if(l>=this.vb.I()){if(r=16>l?16:h.O.truncate(3*l/2),this.vb.resize(r),this.We!=null)for(var d=0;d<r;d++)this.We.push(null);this.Sg!=null&&this.Sg.resize(r),this.it=this.vb.ub(0)}this.vb.Cb(l,-1e38,-1e38),this.We!=null&&(this.We[l]=null),this.Sg!=null&&this.Sg.write(l,1)}return this.td.S(o,4,2*l),this.fd++,o},a.prototype.wj=function(r,o,l){var d=o!=-1?this.Ma(o):this.rj(r),f=d!=-1?this.U(d):-1,m=this.oI(l==null?this.fd:-1),b=this.Ua(m);return l!=null&&this.vb.Ht(b,l),this.aj(m,r),this.Bc(m,f),this.Cc(m,d),f!=-1&&this.Cc(f,m),d!=-1&&this.Bc(d,m),l=this.dc(r),d=this.Xa(r),o==-1&&this.Wg(r,m),o==d&&this.Jf(r,m),l&&f==-1&&(this.Bc(m,m),this.Cc(m,m)),this.Vj(r,this.Ja(r)+1),r=this.Qf(r),this.Tj(r,this.I(r)+1),m},a.prototype.nm=function(){return this.jo==null&&(this.jo=new h.Sa(this.vb.description)),this.jo},a.prototype.Yo=function(r,o){this.cd.S(r,2,-134217729&this.cd.T(r,2)||(o==1?134217728:0))},a.prototype.In=function(r){return 134217728&this.cd.T(r,2)?1:0},a.prototype.hN=function(r){var o=this.Ig(r.getType(),r.description);return r.getType()==1736&&this.Yo(o,r.In()),this.UD(o,r),o},a.prototype.iN=function(r){var o=this.Ig(r.getType(),r.description);return this.VD(o,r),o},a.prototype.XV=function(r,o){this.md==null&&(this.md=new h.$c(8),this.td=new h.$c(5),this.Oi=new h.be(0),this.vo=new h.be(0)),this.md.De(this.md.Hg+r),this.td.De(this.td.Hg+o),this.Oi.Jb(this.Oi.size+r),this.vo.Jb(this.vo.size+r)},a.prototype.UD=function(r,o){this.XV(o.da(),o.I()),this.Il.Fd(o,0,o.I()),this.it=this.vb.ub(0);for(var l=this.We!=null&&o.Ve!=null,d=0,f=o.da();d<f;d++)if(!(2>o.Ja(d))){var m=this.vf(r,-1);this.kn(m,o.dc(d));for(var b=o.Ba(d),_=o.Vc(d);b<_;b++){var $=this.wj(m,-1,null);if(l)if($=this.Ua($),1&o.ZF(b))this.Xg($,null);else{var C=new h.ig;o.bc(b,C,!0),this.Xg($,C.get())}}}},a.prototype.VD=function(r,o){this.Il.Fd(o,0,o.I()),this.it=this.vb.ub(0),r=this.vf(r,-1);var l=0;for(o=o.I();l<o;l++)this.wj(r,-1,null)},a.prototype.NX=function(r,o,l){var d=this.U(r);if(d==-1)throw h.i.Qa();for(var f=this.nm(),m=this.bd(r),b=0,_=o.ol(l);b<_;b++){var $=this.Ua(r),C=this.U(r),P=o.Vp(l,b);b==0&&(P.To(f),this.Dh(r,f)),P.getType()==322?this.Xg($,null):this.Xg($,h.aa.jg(P)),P.Po(f),b<_-1?r=this.wj(m,C,f):this.Dh(d,f)}},a.prototype.MX=function(r,o,l){var d=this.U(r);if(d==-1)throw h.i.Qa();for(var f=this.nm(),m=this.bd(r),b=0,_=o.ol(l);b<_;b++){var $=this.Ua(r),C=this.U(r),P=o.Vp(l,_-b-1);b==0&&(P.Po(f),this.Dh(r,f)),P.getType()==322?this.Xg($,null):this.Xg($,h.aa.jg(P)),P.To(f),b<_-1?r=this.wj(m,C,f):this.Dh(d,f)}},a.prototype.IF=function(){var r=new h.l;r.Oa();for(var o=this.Yq(),l=new h.h,d=!0,f=o.next();f!=-1;f=o.next())this.D(f,l),d?r.Zb(l.x,l.y):r.Lk(l.x,l.y),d=!1;return r},a.prototype.Ib=function(r){var o=r.getType();if(h.aa.Hc(o))return this.hN(r);if(o==550)return this.iN(r);throw h.i.Qa()},a.prototype.uN=function(r,o){var l=o.getType();if(h.aa.Hc(l))this.UD(r,o);else{if(l!=550)throw h.i.Qa();this.VD(r,o)}},a.prototype.mN=function(r,o){var l=this.Ig(1736,r.description);if(2>r.Ja(o))return l;this.Il.Fd(r,r.Ba(o),r.Vc(o)),this.it=this.vb.ub(0);var d=this.vf(l,-1);this.kn(d,r.dc(o)||!0);var f=this.We!=null&&r.Ve!=null,m=r.Ba(o);for(o=r.Vc(o);m<o;m++){var b=this.wj(d,-1,null);if(f)if(b=this.Ua(b),1&r.ZF(m))this.Xg(b,null);else{var _=new h.ig;r.bc(m,_,!0),this.Xg(b,_.get())}}return l},a.prototype.Ne=function(r){var o=this.ic(r),l=h.ZK.Ig(o,this.Il.description),d=this.I(r);if(d==0)return l;if(h.aa.Hc(o)){o=this.da(r);for(var f=h.Yc.Oh(o+1),m=h.Yc.Mr(o+1,0),b=l.description,_=0,$=b.Aa;_<$;_++){for(var C=b.kd(_),P=h.ra.Va(C),L=h.Yc.YE(C,d),V=this.vb.ub(C),U=0,Y=0,X=0,Z=this.Ob(r);Z!=-1;Z=this.Rb(Z)){var ne=0;this.dc(Z)&&(ne|=1),this.YS(Z)&&(ne|=4),ne!=0&&m.zJ(Y,ne);var oe=this.Ja(Z);if(f.write(Y++,X),X+=oe,C==0){oe=V;var he=L,be=new h.h;for(ne=this.Xa(Z);U<X;ne=this.U(ne),U++){var Ce=this.Ua(ne);oe.tc(2*Ce,be),he.Tt(2*U,be)}}else for(ne=this.Xa(Z);U<X;ne=this.U(ne),U++)for(Ce=this.Ua(ne),he=0;he<P;he++)be=V.eg(Ce*P+he),L.pr(U*P+he,be)}l.hn(C,L),f.write(o,d)}l.PJ(m),l.QJ(f),l.Pc(16777215)}else if(o==550){for(b=l.description,l.resize(d),_=0,$=b.Aa;_<$;_++){for(C=b.kd(_),P=h.ra.Va(C),L=l.ub(C),V=this.vb.ub(C),U=0,Z=this.Ob(r),oe=this.Ja(Z),ne=this.Xa(Z);U<oe;ne=this.U(ne),U++)for(Ce=this.Ua(ne),he=0;he<P;he++)be=V.eg(Ce*P+he),L.pr(U*P+he,be);l.hn(C,L)}l.Pc(16777215)}return l},a.prototype.BB=function(r){for(var o=this.Ob(r);o!=-1;o=this.Zq(o));o=this.PR(r);var l=this.ue(r);o!=-1?this.OJ(o,l):this.ld=l,l!=-1?this.SJ(l,o):this.qw=o,this.OQ(r)},a.prototype.Ig=function(r,o){return o===void 0?this.$E(r,h.ee.og()):this.$E(r,o)},a.prototype.$E=function(r,o){return r=this.uU(r),this.vb==null?this.vb=this.Il=new h.de(o):this.Il.Jl(o),this.ht=this.Il.description,this.fA=1<this.ht.Aa,this.ld==-1?this.ld=r:(this.SJ(r,this.qw),this.OJ(this.qw,r)),this.qw=r},a.prototype.ue=function(r){return this.cd.T(r,1)},a.prototype.PR=function(r){return this.cd.T(r,0)},a.prototype.ic=function(r){return 2147483647&this.cd.T(r,2)},a.prototype.HJ=function(r,o,l){o=this.wk[o],(r=this.JF(r))>=o.size&&o.resize(Math.max(h.O.truncate(1.25*r),16),-1),o.write(r,l)},a.prototype.KF=function(r,o){return(r=this.JF(r))<(o=this.wk[o]).size?o.read(r):-1},a.prototype.aF=function(){this.wk==null&&(this.wk=[]);for(var r=0;r<this.wk.length;r++)if(this.wk[r]==null)return this.wk[r]=h.Yc.Oh(0),r;return this.wk.push(h.Yc.Oh(0)),this.wk.length-1},a.prototype.xW=function(r){this.wk[r]=null},a.prototype.Ob=function(r){return this.cd.T(r,3)},a.prototype.kv=function(r){return this.cd.T(r,4)},a.prototype.I=function(r){return this.cd.T(r,5)},a.prototype.da=function(r){return this.cd.T(r,6)},a.prototype.Gp=function(r,o,l){for(var d=0,f=this.ld;f!=-1;f=this.ue(f)){var m=this.ic(f);if(h.aa.Hc(m)&&(!l||m==1736)){m=this.ic(f)==1736;for(var b=this.Ob(f);b!=-1;){for(var _=0,$=this.Xa(b);_<h.O.truncate(this.Ja(b)/2);){var C=this.U($);if(C==-1)break;var P=this.Ua($),L=this.Sh(P);L!=null?P=L.Qb():(L=this.Ua(C),P=this.vb.yr(P,L)),P<=r?(P==0?d==0&&(d=-1):d=1,C!=this.rj(b)&&(this.lC(C,$),this.pd(C,!0))):$=this.U($),_++}for(_=this.Xa(b),$=this.dc(b)?_:this.rj(b);0<this.Ja(b);){if((C=this.Ma($))==-1){this.pd($,!0),d==0&&(d=-1);break}var V=this.Ua(C);if((L=this.Sh(V))!=null?P=L.Qb():(P=this.Ua($),P=this.vb.yr(P,V)),P<=r)P==0?d==0&&(d=-1):d=1,this.lC(C,$),this.pd(C,!1),_==C&&(_=this.Xa(b));else if(($=this.Ma($))==_)break}$=this.Ja(b),o&&(m?3>$:2>$)?(b=this.Zq(b),d=0<$?1:d==0?-1:d):b=this.Rb(b)}}}return d},a.prototype.lC=function(r,o){var l=this.Ua(r),d=this.Ua(o);if(this.Sg!=null&&(l=this.Sg.read(l),this.Sg.write(d,l)),this.bi!=null){for(d=0,l=this.bi.length;d<l;d++)if(this.bi[d]!=null){var f=this.Pa(r,d);f!=-1&&this.Ra(o,d,f)}}},a.prototype.Ul=function(r,o,l){var d=0,f=this.U(r);if(f==-1)throw h.i.Qa();for(var m=this.Ua(r),b=this.Ua(f),_=this.Sh(m),$=_==null?this.vb.yr(m,b):_.Qb(),C=0;C<l;C++){var P=o[C];if(0<P&&1>P){var L=P;_!=null&&(L=0<$?_.Ux(P)/$:0),this.vb.kD(m,b,L,this.nm());var V=this.wj(this.bd(r),f,this.nm());if(d++,_!=null){var U=_.dl(0,P);L=this.Ua(this.Ma(V)),this.Xg(L,U),this.mf(V,U.wc()),C!=l-1&&o[C+1]!=1||(P=_.dl(P,1),this.Xg(L,P))}}}return d},a.prototype.LX=function(r,o,l){var d=0,f=this.U(r);if(f==-1)throw h.i.fa("internal error");var m=this.Ua(r),b=this.Ua(f),_=this.Sh(m),$=_==null?this.vb.yr(m,b):_.Qb(),C=0;r=this.bd(r);for(var P=0;P<l;P++){var L=o[P];if(C<L&&1>L){var V=L;if(_!=null&&(V=0<$?_.Ux(L)/$:0),this.vb.kD(m,b,V,this.nm()),V=this.yS(r,f,this.nm()),d++,_!=null){C=_.dl(C,L);var U=this.Ua(this.Ma(V));this.Xg(U,C),this.Cb(V,C.pa,C.la),P!=l-1&&o[P+1]!=1||(C=_.dl(L,1),V=this.Ua(V),this.Xg(V,C))}}C=L}return d},a.prototype.yS=function(r,o,l){var d=o!=-1?this.Ma(o):this.rj(r),f=d!=-1?this.U(d):-1,m=this.oI(l==null?this.fd:-1),b=this.Ua(m);return l!=null&&this.vb.Ht(b,l),this.aj(m,r),this.Bc(m,f),this.Cc(m,d),f!=-1&&this.Cc(f,m),d!=-1&&this.Bc(d,m),l=this.dc(r),d=this.Xa(r),o==-1&&this.Wg(r,m),o==d&&(l&&d!=-1||this.Jf(r,m)),l&&f==-1&&(this.Bc(m,m),this.Cc(m,m)),this.Vj(r,this.Ja(r)+1),r=this.Qf(r),this.Tj(r,this.I(r)+1),m},a.prototype.uE=function(r,o,l){var d=this.Ua(o),f=this.Ua(l);if(0>d||f>this.fd-1)throw h.i.N("invalid call");if(d>f&&!this.dc(r))throw h.i.N("cannot iterate across an open path");for(r=0;o!=l;o=this.U(o))d=this.Ua(o),(f=this.Sh(d))!=null?r+=f.Qb():(f=this.Ua(this.U(o)),r+=this.vb.yr(d,f));return r},a.prototype.Dh=function(r,o){var l=this.Ua(r);this.vb.Ht(l,o),(l=this.Sh(l))!=null&&l.setStart(o),(r=this.Ma(r))!=-1&&(r=this.Ua(r),this.Sh(r)!=null&&l.setEnd(o))},a.prototype.Vi=function(r,o){r=this.Ua(r),this.vb.ve(r,o)},a.prototype.mf=function(r,o){this.Cb(r,o.x,o.y)},a.prototype.Cb=function(r,o,l){var d=this.Ua(r);this.vb.Cb(d,o,l),(d=this.Sh(d))!=null&&d.ZB(o,l),(r=this.Ma(r))!=-1&&(r=this.Ua(r),this.Sh(r)!=null&&d.Ql(o,l))},a.prototype.D=function(r,o){this.vb.D(this.td.T(r,0),o)},a.prototype.Gc=function(r,o){this.vb.za[0].tc(2*this.td.T(r,0),o)},a.prototype.Na=function(r){var o=new h.h;return this.vb.D(this.td.T(r,0),o),o},a.prototype.dG=function(r,o){this.it.tc(2*r,o)},a.prototype.Uc=function(r,o,l){return this.vb.Uc(r,this.Ua(o),l)},a.prototype.setAttribute=function(r,o,l,d){this.vb.setAttribute(r,this.Ua(o),l,d)},a.prototype.Ua=function(r){return this.td.T(r,0)},a.prototype.ih=function(){var r=new h.h;return this.D(void 0,r),r.y},a.prototype.fq=function(r,o){r=this.Ua(r),o=this.Ua(o);var l=this.vb.za[0].o;return l[2*r]===l[2*o]&&l[2*r+1]===l[2*o+1]},a.prototype.Dv=function(r,o){r=this.Ua(r);var l=this.vb.za[0].o;return l[2*r]===o.x&&l[2*r+1]===o.y},a.prototype.vX=function(r,o){if(1>o&&(o=1),this.Sg==null){if(o==1)return;this.Sg=h.Yc.Dn(this.vb.I(),1)}(r=this.Ua(r))>=this.Sg.size&&this.Sg.resize(r+1,1),this.Sg.write(r,o)},a.prototype.cG=function(r){return r=this.Ua(r),this.Sg==null||r>=this.Sg.size?1:this.Sg.read(r)},a.prototype.Ra=function(r,o,l){o=this.bi[o],r=this.Ua(r),o.size<this.vb.I()&&o.resize(this.vb.I(),-1),o.write(r,l)},a.prototype.Pa=function(r,o){return(r=this.Ua(r))<(o=this.bi[o]).size?o.read(r):-1},a.prototype.Gd=function(){this.bi==null&&(this.bi=[]);for(var r=0;r<this.bi.length;r++)if(this.bi[r]==null)return this.bi[r]=h.Yc.Oh(0,-1),r;return this.bi.push(h.Yc.Oh(0,-1)),this.bi.length-1},a.prototype.Td=function(r){this.bi[r]=null},a.prototype.bc=function(r){return this.We!=null?(r=this.Ua(r),this.We[r]):null},a.prototype.ed=function(r,o){var l=this.td.T(r,2);if(l==-1)return!1;if(this.fA){var d=new h.Sa;this.Vi(r,d),o.setStart(d),this.Vi(l,d),o.setEnd(d)}else this.vb.Gc(this.td.T(r,0),Ni),o.em(0,Ni),this.vb.Gc(this.td.T(l,0),Ni),o.em(1,Ni);return!0},a.prototype.mW=function(r,o,l){if(this.fA){var d=new h.Sa;this.Vi(r,d),l.setStart(d),this.Vi(o,d),l.setEnd(d)}else this.vb.Gc(r,Ni),l.em(0,Ni),this.vb.Gc(o,Ni),l.em(1,Ni)},a.prototype.vf=function(r,o){if(o!=-1){if(r!=this.Qf(o))throw h.i.Qa();var l=this.cs(o)}else l=this.kv(r);var d=this.wU(r);return o!=-1&&this.bp(o,d),this.ap(d,o),this.bp(d,l),l!=-1?this.ap(l,d):this.Zo(r,d),o==-1&&this.$o(r,d),this.Rl(r,this.da(r)+1),d},a.prototype.nG=function(r,o,l,d){r=this.vf(r,-1);for(var f=0,m=o,b=!1;m==l&&(b=!0),this.aj(m,r),f++,(m=this.U(m))!=o;);return this.kn(r,!0),this.Vj(r,f),b&&(o=l),this.Jf(r,o),this.Wg(r,this.Ma(o)),this.cp(r,!1),d!=null&&(d[0]=b),r},a.prototype.Zq=function(r){var o=this.cs(r),l=this.Rb(r),d=this.Qf(r);return o!=-1?this.ap(o,l):this.Zo(d,l),l!=-1?this.bp(l,o):this.$o(d,o),this.AO(r),this.Rl(d,this.da(d)-1),this.sF(r),l},a.prototype.AO=function(r){var o=this.Xa(r);if(o!=-1){for(var l=0,d=this.Ja(r);l<d;l++){var f=o;o=this.U(o),this.Vy(f)}o=this.Qf(r),this.Tj(o,this.I(o)-this.Ja(r))}this.Vj(r,0)},a.prototype.Rb=function(r){return this.md.T(r,2)},a.prototype.cs=function(r){return this.md.T(r,1)},a.prototype.Ja=function(r){return this.md.T(r,3)},a.prototype.dc=function(r){return!!(1&this.Sp(r))},a.prototype.kn=function(r,o){if(this.dc(r)!=o){if(0<this.Ja(r)){var l=this.Xa(r),d=this.rj(r);o?(this.Bc(d,l),this.Cc(l,d),l=this.Ua(d)):(this.Bc(d,-1),this.Cc(l,-1),l=this.Ua(d)),this.Xg(l,null)}this.VB(r,(1|this.Sp(r))-1|(o?1:0))}},a.prototype.Qf=function(r){return this.md.T(r,7)},a.prototype.YS=function(r){return!!(2&this.Sp(r))},a.prototype.PB=function(r,o){this.VB(r,(2|this.Sp(r))-2|(o?2:0))},a.prototype.wz=function(r){if(this.cT(r))return this.Oi.get(this.qv(r));var o=new h.yb,l=this.Xa(r);if(l==-1)return 0;var d=new h.h;this.D(l,d);for(var f=0,m=0,b=this.Ja(r);m<b;m++,l=this.U(l)){var _=this.bc(l);if(_==null){if(!this.ed(l,o))continue;_=o}f+=_.Tx(d.x,d.y)}return this.cp(r,!0),this.Oi.set(this.qv(r),f),f},a.prototype.gr=function(r,o,l){o=this.Ck[o],r=this.qv(r),o.size<this.Oi.size&&o.resize(this.Oi.size,-1),o.write(r,l)},a.prototype.sj=function(r,o){return(r=this.qv(r))<(o=this.Ck[o]).size?o.read(r):-1},a.prototype.Ky=function(){this.Ck==null&&(this.Ck=[]);for(var r=0;r<this.Ck.length;r++)if(this.Ck[r]==null)return this.Ck[r]=h.Yc.Oh(0),r;return this.Ck.push(h.Yc.Oh(0)),this.Ck.length-1},a.prototype.CB=function(r){this.Ck[r]=null},a.prototype.ZT=function(r,o,l){if(l==-1)throw h.i.N();if(o!=l){var d=this.Rb(l),f=this.cs(l),m=this.Qf(l);f==-1?this.Zo(m,d):this.ap(f,d),d==-1?this.$o(m,f):this.bp(d,f),this.Tj(m,this.I(m)-this.Ja(l)),this.Rl(m,this.da(m)-1),f=o==-1?this.kv(r):this.cs(o),this.bp(l,f),this.ap(l,o),o==-1?this.$o(r,l):this.bp(o,l),f==-1?this.Zo(r,l):this.ap(f,l),this.Tj(r,this.I(r)+this.Ja(l)),this.Rl(r,this.da(r)+1),this.gx(l,r)}},a.prototype.ij=function(r,o){this.vb.ve(this.Ua(o),this.nm()),this.wj(r,-1,this.nm())},a.prototype.pd=function(r,o){var l=this.bd(r),d=this.Ma(r),f=this.U(r);d!=-1&&this.Bc(d,f);var m=this.Ja(l);if(r==this.Xa(l)&&this.Jf(l,1<m?f:-1),f!=-1&&this.Cc(f,d),r==this.rj(l)&&this.Wg(l,1<m?d:-1),d!=-1&&f!=-1){d=this.Ua(d);var b=this.Ua(f);o?(o=this.Sh(d))!=null&&(d=new h.h,this.vb.D(b,d),o.Qc(d)):(b=this.Ua(r),o=this.Sh(b),this.Xg(d,o),o!=null&&(d=this.vb.Na(d),o.Dc(d)))}return this.Vj(l,m-1),l=this.Qf(l),this.Tj(l,this.I(l)-1),this.Vy(r),f},a.prototype.Xa=function(r){return this.md.T(r,4)},a.prototype.rj=function(r){return this.md.T(r,5)},a.prototype.U=function(r){return this.td.T(r,2)},a.prototype.Ma=function(r){return this.td.T(r,1)},a.prototype.bd=function(r){return this.td.T(r,3)},a.prototype.fc=function(r,o){return this.wj(r,-1,o)},a.prototype.Yq=function(r){if(r===void 0)return this.Yq(!1);if(r instanceof c)return new c(r);var o,l=-1,d=-1,f=-1,m=0,b=!1;for(o=this.ld;o!=-1;o=this.ue(o))if(!r||h.aa.Hc(this.ic(o))){for(l=this.Ob(o);l!=-1;l=this.Rb(l))if(f=d=this.Xa(l),m=0,d!=-1){b=!0;break}if(b)break}return c.AP(this,o,l,d,f,m,r)},a.prototype.Oc=function(r){if(this.Il.Oc(r),this.We!=null)for(var o=0,l=this.We.length;o<l;o++)this.We[o]!=null&&this.We[o].Oc(r)},a.prototype.jr=function(r,o,l,d){d?this.NX(r,o,l):this.MX(r,o,l)},a.prototype.Cc=function(r,o){this.td.S(r,1,o)},a.prototype.Bc=function(r,o){this.td.S(r,2,o)},a.prototype.aj=function(r,o){this.td.S(r,3,o)},a.prototype.Vj=function(r,o){this.md.S(r,3,o)},a.prototype.Jf=function(r,o){this.md.S(r,4,o)},a.prototype.Wg=function(r,o){this.md.S(r,5,o)},a.prototype.Rl=function(r,o){this.cd.S(r,6,o)},a.prototype.Tj=function(r,o){this.cd.S(r,5,o)},a.prototype.pJ=function(r){var o=r;do{var l=this.U(o);this.Bc(o,this.Ma(o)),this.Cc(o,l),o=l}while(o!=r)},a.prototype.bC=function(r){this.fd=r},a.prototype.$q=function(r){var o=this.cs(r),l=this.Rb(r),d=this.Qf(r);o!=-1?this.ap(o,l):this.Zo(d,l),l!=-1?this.bp(l,o):this.$o(d,o),this.Jf(r,-1),this.Wg(r,-1),this.sF(r)},a.prototype.mi=function(r,o){var l=this.Ma(r),d=this.U(r);if(l!=-1&&this.Bc(l,d),d!=-1&&this.Cc(d,l),l!=-1&&d!=-1)if(l=this.Ua(l),d=this.Ua(d),o){if((o=this.Sh(l))!=null){var f=new h.h;this.vb.D(d,f),o.Qc(f)}}else o=this.Ua(r),o=this.Sh(o),this.Xg(l,o),o!=null&&(f=new h.h,this.vb.D(l,f),o.Dc(f));this.Vy(r)},a.prototype.cT=function(r){return!!(4&this.Sp(r))},a.prototype.cp=function(r,o){this.VB(r,(4|this.Sp(r))-4|(o?4:0))},a.prototype.nx=function(r,o){var l=this.td.o;this.vb.mc();var d=this.vb.za[0].o;r.Vd(0,o,function(f,m){var b=l[5*f];f=l[5*m],m=d[2*b],b=d[2*b+1];var _=d[2*f];return b<(f=d[2*f+1])?-1:b>f?1:m<_?-1:m>_?1:0})},a.prototype.jS=function(){for(var r=this.ld;r!=-1;r=this.ue(r))if(!h.aa.Hc(this.ic(r)))return!0;return!1},a.prototype.hC=function(r,o){for(var l=this.Ob(r),d=this.Ob(o),f=this.kv(r),m=this.kv(o),b=this.Ob(r);b!=-1;b=this.Rb(b))this.gx(b,o);for(b=this.Ob(o);b!=-1;b=this.Rb(b))this.gx(b,r);this.Zo(r,d),this.Zo(o,l),this.$o(r,m),this.$o(o,f),l=this.I(r),d=this.da(r),f=this.da(o),this.Tj(r,this.I(o)),this.Tj(o,l),this.Rl(r,f),this.Rl(o,d),l=this.cd.T(r,2),this.cd.S(r,2,this.cd.T(o,2)),this.cd.S(o,2,l)},a}(),h.gd=N})(re||(re={})),function(h){var N=function(x){function c(a,r,o,l){var d=x.call(this)||this;return d.$=new h.l,a===void 0?d.UE():typeof a=="number"?d.VO(a,r,o,l):a instanceof h.Sa?r!==void 0?d.Qu(a,r,o):d.WO(a):a instanceof h.ra?r!==void 0?d.YO(a,r):d.XO(a):a instanceof h.l?d.UO(a):d.UE(),d}return ci(c,x),c.prototype.Qu=function(a,r,o){this.description=h.ee.og(),this.$.Oa(),a.B()||this.tu(a,r,o)},c.prototype.UO=function(a){this.description=h.ee.og(),this.$.K(a),this.$.normalize()},c.prototype.XO=function(a){if(a==null)throw h.i.N();this.description=a,this.$.Oa()},c.prototype.YO=function(a,r){if(a==null)throw h.i.N();this.description=a,this.$.K(r),this.$.normalize()},c.prototype.UE=function(){this.description=h.ee.og(),this.$.Oa()},c.prototype.WO=function(a){this.description=h.ee.og(),this.$.Oa(),a.B()||this.tu(a)},c.prototype.VO=function(a,r,o,l){this.description=h.ee.og(),this.K(a,r,o,l)},c.prototype.K=function(a,r,o,l){if(this.vc(),typeof a=="number")this.$.K(a,r,o,l);else for(this.Oa(),r=0,o=a.length;r<o;r++)this.Zb(a[r])},c.prototype.Xo=function(a){if(this.vc(),!a.fT())throw h.i.N();this.$.K(a)},c.prototype.Oa=function(){this.vc(),this.$.Oa()},c.prototype.B=function(){return this.$.B()},c.prototype.R=function(){return this.$.R()},c.prototype.ca=function(){return this.$.ca()},c.prototype.gk=function(){return this.$.gk()},c.prototype.Jp=function(){return this.$.Jp()},c.prototype.Ip=function(){return this.$.sf()},c.prototype.Zb=function(a){if(a instanceof h.h)this.vc(),this.$.Zb(a);else if(a instanceof h.l)this.vc(),this.$.Zb(a);else if(a instanceof h.Sa){if(this.vc(),!a.Ac()){var r=a.description;if(this.description!=r&&this.Jl(r),this.B())this.tu(a);else{this.$.Zb(a.D());for(var o=1,l=r.Aa;o<l;o++)for(var d=r.Ed(o),f=h.ra.Va(d),m=0;m<f;m++){var b=a.Uc(d,m),_=this.Tg(d,m);_.Zb(b),this.setInterval(d,m,_)}}}}else if(a instanceof c&&!a.B())for((r=a.description)!=this.description&&this.Jl(r),this.$.Zb(a.$),o=1,l=r.Aa;o<l;o++)for(d=r.kd(o),f=h.ra.Va(d),m=0;m<f;m++)b=a.Tg(d,m),(_=this.Tg(d,m)).Zb(b),this.setInterval(d,m,_)},c.prototype.tu=function(a,r,o){if(r!==void 0){this.$.K(a.D(),r,o),o=1;for(var l=(r=a.description).Aa;o<l;o++)for(var d=r.Ed(o),f=h.ra.Va(d),m=0;m<f;m++){var b=a.Uc(d,m);this.setInterval(d,m,b,b)}}else for(this.$.K(a.ka[0],a.ka[1]),o=1,l=(r=a.description).Aa;o<l;o++)for(d=r.Ed(o),f=h.ra.Va(d),m=0;m<f;m++)b=a.Uc(d,m),this.setInterval(d,m,b,b)},c.prototype.setInterval=function(a,r,o,l){if(o=typeof o=="number"?new h.Nc(o,l):o,this.vc(),a==0)if(r==0)this.$.v=o.oa,this.$.C=o.va;else{if(r!=1)throw h.i.ce();this.$.G=o.oa,this.$.H=o.va}else this.vD(0,a,r,o.oa),this.vD(1,a,r,o.va)},c.prototype.W=function(a,r){this.vc(),this.$.W(a,r)},c.prototype.Oc=function(a){if(a instanceof h.Dd)this.vc(),a.mC(this.$);else if(this.vc(),!this.$.B()){var r=new h.OK;this.Qo(r),r.XS()?r.Oa():a.mC(r)}},c.prototype.copyTo=function(a){if(a.getType()!=this.getType())throw h.i.N();if(a.vc(),a.description=this.description,a.$.K(this.$),a.ka=null,this.ka!=null){a.ou();for(var r=0;r<2*(this.description.Ae.length-2);r++)a.ka[r]=this.ka[r]}},c.prototype.Ia=function(){return new c(this.description)},c.prototype.Ke=function(){return this.$.wF()},c.prototype.Qb=function(){return this.$.yR()},c.prototype.getType=function(){return 197},c.prototype.Db=function(){return 2},c.prototype.bn=function(a){this.copyTo(a)},c.prototype.A=function(a){a.v=this.$.v,a.G=this.$.G,a.C=this.$.C,a.H=this.$.H},c.prototype.Qo=function(a){a.v=this.$.v,a.G=this.$.G,a.C=this.$.C,a.H=this.$.H,a.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},c.prototype.Tg=function(a,r){var o=new h.Nc;return o.K(this.Od(0,a,r),this.Od(1,a,r)),o},c.prototype.Hf=function(a,r){r.Nf(this.description);var o=this.description.Aa-1;switch(a){case 0:for(a=0;a<o;a++)for(var l=this.description.kd(a),d=h.ra.Va(l),f=0;f<d;f++)r.setAttribute(l,f,this.Od(0,l,f));r.Cb(this.$.v,this.$.G);break;case 1:for(a=0;a<o;a++)for(l=this.description.kd(a),d=h.ra.Va(l),f=0;f<d;f++)r.setAttribute(l,f,this.Od(1,l,f));r.Cb(this.$.v,this.$.H);break;case 2:for(a=0;a<o;a++)for(l=this.description.kd(a),d=h.ra.Va(l),f=0;f<d;f++)r.setAttribute(l,f,this.Od(0,l,f));r.Cb(this.$.C,this.$.H);break;case 3:for(a=0;a<o;a++)for(l=this.description.kd(a),d=h.ra.Va(l),f=0;f<d;f++)r.setAttribute(l,f,this.Od(1,l,f));r.Cb(this.$.C,this.$.G);break;default:throw h.i.ce()}},c.prototype.mB=function(a,r){a=this.$.mB(a),r.ma(a.x,a.y)},c.prototype.kR=function(a,r){return r*(a.Oq-2)},c.prototype.xF=function(a,r,o){if(this.$.B())throw h.i.fa("empty geometry");if(r==0)return a!=0?o!=0?this.$.H:this.$.C:o!=0?this.$.G:this.$.v;if(o>=h.ra.Va(r))throw h.i.N();var l=this.description.Pf(r);return this.ou(),0<=l?this.ka[this.kR(this.description,a)+this.description.LR(l)-2+o]:h.ra.se(r)},c.prototype.ou=function(){if(this.vc(),this.ka==null&&2<this.description.Ae.length){this.ka=[];for(var a=c.Gg(this.description,0),r=c.Gg(this.description,1),o=0,l=1,d=this.description.Aa;l<d;l++){var f=this.description.kd(l),m=h.ra.Va(f);f=h.ra.se(f);for(var b=0;b<m;b++)this.ka[a+o]=f,this.ka[r+o]=f,o++}}},c.prototype.sn=function(a){if(this.ka!=null)if(2<a.Ae.length){for(var r=h.ee.Iw(a,this.description),o=[],l=c.Gg(this.description,0),d=c.Gg(this.description,1),f=c.Gg(a,0),m=c.Gg(a,1),b=0,_=1,$=a.Aa;_<$;_++){var C=a.kd(_),P=h.ra.Va(C);if(r[_]==-1){var L=h.ra.se(C);for(C=0;C<P;C++)o[f+b]=L,o[m+b]=L,b++}else for(L=this.description.$j(r[_])-2,C=0;C<P;C++)o[f+b]=this.ka[l+L],o[m+b]=this.ka[d+L],b++,L++}this.ka=o}else this.ka=null;this.description=a},c.prototype.Od=function(a,r,o){if(this.$.B())throw h.i.fa("This operation was performed on an Empty Geometry.");if(r==0)return a!=0?o!=0?this.$.H:this.$.C:o!=0?this.$.G:this.$.v;if(o>=h.ra.Va(r))throw h.i.ce();var l=this.description.Pf(r);return 0<=l?(this.ou(),this.ka[c.Gg(this.description,a)+this.description.$j(l)-2+o]):h.ra.se(r)},c.prototype.vD=function(a,r,o,l){if(this.vc(),r==0)a!=0?o!=0?this.$.H=l:this.$.C=l:o!=0?this.$.G=l:this.$.v=l;else{if(o>=h.ra.Va(r))throw h.i.ce();if(!this.hasAttribute(r)){if(h.ra.DG(r,l))return;this.re(r)}r=this.description.Pf(r),this.ou(),this.ka[c.Gg(this.description,a)+this.description.$j(r)-2+o]=l}},c.Gg=function(a,r){return r*(a.Ae.length-2)},c.prototype.Ea=function(a){this.vc();var r=new h.l;return a.A(r),this.$.Ea(r)},c.prototype.isIntersecting=function(a){return a instanceof h.l?this.$.isIntersecting(a):this.$.isIntersecting(a.$)},c.prototype.Ju=function(a,r){this.vc(),a.B()?this.Oa():r!==void 0?this.tu(a,r):this.$.Ju(a.Lg(),a.ih())},c.prototype.offset=function(a,r){this.vc(),this.$.offset(a,r)},c.prototype.normalize=function(){this.vc(),this.$.normalize()},c.prototype.sf=function(a){if(a===void 0){if(a=new h.Sa(this.description),this.B())return a;for(r=this.description.Aa,o=1;o<r;o++)for(l=this.description.Ed(o),d=h.ra.Va(l),f=0;f<d;f++)m=.5*(this.Od(0,l,f)+this.Od(1,l,f)),a.setAttribute(l,f,m);return a.Cb(this.$.gk(),this.$.Jp()),a}if(a.Nf(this.description),this.B())a.Oa();else{for(var r=this.description.Aa,o=1;o<r;o++)for(var l=this.description.kd(o),d=h.ra.Va(l),f=0;f<d;f++){var m=.5*(this.xF(0,l,f)+this.xF(1,l,f));a.setAttribute(l,f,m)}a.Cb(this.$.sf())}},c.prototype.mz=function(){return new h.Sa(this.$.mz())},c.prototype.contains=function(a){return a instanceof h.Sa?!a.B()&&this.$.contains(a.Lg(),a.ih()):this.$.contains(a.$)},c.prototype.dP=function(a){return this.$.contains(a)},c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.B())return!!a.B();if(!this.$.Nb(a.$))return!1;for(var r=0,o=2*(this.description.Ae.length-2);r<o;r++)if(this.ka[r]!=a.ka[r])return!1;return!0},c.prototype.cc=function(){var a=this.description.cc();if(a=h.O.Th(a,this.$.cc()),!this.B()&&this.ka!=null)for(var r=0,o=2*(this.description.Ae.length-2);r<o;r++)a=h.O.Th(a,this.ka[r]);return a},c.prototype.es=function(){return this.$.v},c.prototype.gs=function(){return this.$.G},c.prototype.ds=function(){return this.$.C},c.prototype.fs=function(){return this.$.H},c.prototype.mg=function(){return h.pi.gm(this,null)},c.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},c}(h.aa);h.Fh=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o){c===void 0?this.Oa():(this.v=c,this.G=a,this.C=r,this.H=o)}return x.construct=function(c,a,r,o){var l=new x;return l.v=c,l.G=a,l.C=r,l.H=o,l},x.prototype.K=function(c,a,r,o){typeof c=="number"?r!==void 0?(this.v=c,this.G=a,this.C=r,this.H=o,this.normalize()):(this.v=c,this.G=a,this.C=c,this.H=a):c instanceof h.h?a!==void 0?(this.v=c.x-.5*a,this.C=this.v+a,this.G=c.y-.5*r,this.H=this.G+r,this.normalize()):(this.v=c.x,this.G=c.y,this.C=c.x,this.H=c.y):c instanceof x?this.K(c.v,c.G,c.C,c.H):c instanceof h.Nc&&(c.B()||a.B()?this.Oa():(this.v=c.oa,this.C=c.va,this.G=a.oa,this.H=a.va))},x.prototype.Zw=function(c,a){if(a!==void 0)if(a==0)this.Oa();else{this.v=c[0].x,this.G=c[0].y,this.C=this.v,this.H=this.G;for(var r=1;r<a;r++){var o=c[r];o.x<this.v?this.v=o.x:o.x>this.C&&(this.C=o.x),o.y<this.G?this.G=o.y:o.y>this.H&&(this.H=o.y)}}else if(c==null||c.length==0)this.Oa();else for(o=c[0],this.K(o.x,o.y),r=1;r<c.length;r++)a=c[r],this.Lk(a.x,a.y)},x.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},x.prototype.B=function(){return isNaN(this.v)},x.prototype.Zb=function(c,a){typeof c=="number"?this.B()?(this.v=c,this.G=a,this.C=c,this.H=a):(this.v>c?this.v=c:this.C<c&&(this.C=c),this.G>a?this.G=a:this.H<a&&(this.H=a)):c instanceof h.h||c instanceof h.Nd?this.Zb(c.x,c.y):c instanceof x&&!c.B()&&(this.Zb(c.v,c.G),this.Zb(c.C,c.H))},x.prototype.Lk=function(c,a){this.v>c?this.v=c:this.C<c&&(this.C=c),this.G>a?this.G=a:this.H<a&&(this.H=a)},x.prototype.W=function(c,a){this.B()||(this.v-=c,this.C+=c,this.G-=a,this.H+=a,(this.v>this.C||this.G>this.H)&&this.Oa())},x.prototype.scale=function(c){0>c&&this.Oa(),this.B()||(this.v*=c,this.C*=c,this.G*=c,this.H*=c)},x.prototype.zoom=function(c,a){this.B()||this.K(this.sf(),c*this.R(),a*this.ca())},x.prototype.isIntersecting=function(c){return!this.B()&&!c.B()&&(this.v<=c.v?this.C>=c.v:c.C>=this.v)&&(this.G<=c.G?this.H>=c.G:c.H>=this.G)},x.prototype.HG=function(c){return(this.v<=c.v?this.C>=c.v:c.C>=this.v)&&(this.G<=c.G?this.H>=c.G:c.H>=this.G)},x.prototype.Ea=function(c){return!this.B()&&!c.B()&&(c.v>this.v&&(this.v=c.v),c.C<this.C&&(this.C=c.C),c.G>this.G&&(this.G=c.G),c.H<this.H&&(this.H=c.H),(c=this.v<=this.C&&this.G<=this.H)||this.Oa(),c)},x.prototype.mB=function(c){switch(c){case 0:return h.h.construct(this.v,this.G);case 1:return h.h.construct(this.v,this.H);case 2:return h.h.construct(this.C,this.H);case 3:return h.h.construct(this.C,this.G);default:throw h.i.ce()}},x.prototype.nB=function(c){if(c==null||4>c.length)throw h.i.N();c[0]!=null?c[0].ma(this.v,this.G):c[0]=h.h.construct(this.v,this.G),c[1]!=null?c[1].ma(this.v,this.H):c[1]=h.h.construct(this.v,this.H),c[2]!=null?c[2].ma(this.C,this.H):c[2]=h.h.construct(this.C,this.H),c[3]!=null?c[3].ma(this.C,this.G):c[3]=h.h.construct(this.C,this.G)},x.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},x.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},x.prototype.gk=function(){return(this.C+this.v)/2},x.prototype.Jp=function(){return(this.H+this.G)/2},x.prototype.R=function(){return this.C-this.v},x.prototype.ca=function(){return this.H-this.G},x.prototype.move=function(c,a){this.B()||(this.v+=c,this.G+=a,this.C+=c,this.H+=a)},x.prototype.Ju=function(c,a){if(a!==void 0)this.move(c-this.gk(),a-this.Jp());else if(c instanceof h.h)this.Ju(c.x,c.y);else{if(!(c instanceof h.Sa))throw h.i.N();a=(this.C-this.v)/2;var r=(this.H-this.G)/2;this.v=c.Lg()-a,this.C=c.Lg()+a,this.G=c.ih()-r,this.H=c.ih()+r}},x.prototype.offset=function(c,a){this.v+=c,this.C+=c,this.G+=a,this.H+=a},x.prototype.normalize=function(){if(!this.B()){var c=Math.min(this.v,this.C),a=Math.max(this.v,this.C);this.v=c,this.C=a,c=Math.min(this.G,this.H),a=Math.max(this.G,this.H),this.G=c,this.H=a}},x.prototype.dn=function(c){c.ma(this.v,this.G)},x.prototype.$I=function(c){c.ma(this.C,this.G)},x.prototype.cJ=function(c){c.ma(this.v,this.H)},x.prototype.en=function(c){c.ma(this.C,this.H)},x.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},x.prototype.sf=function(){return h.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},x.prototype.mz=function(){return h.h.construct(this.v,this.G)},x.prototype.contains=function(c,a){if(a!==void 0)return c>=this.v&&c<=this.C&&a>=this.G&&a<=this.H;if(c instanceof h.Sa)return this.contains(c.Lg(),c.ih());if(c instanceof h.h)return this.contains(c.x,c.y);if(c instanceof x)return c.v>=this.v&&c.C<=this.C&&c.G>=this.G&&c.H<=this.H;throw h.i.N()},x.prototype.hm=function(c,a){if(a!==void 0)return c>this.v&&c<this.C&&a>this.G&&a<this.H;if(c instanceof h.h)return this.hm(c.x,c.y);if(c instanceof x)return c.v>this.v&&c.C<this.C&&c.G>this.G&&c.H<this.H;throw h.i.N()},x.prototype.Nb=function(c){return c==this||c instanceof x&&(!(!this.B()||!c.B())||this.v==c.v&&this.G==c.G&&this.C==c.C&&this.H==c.H)},x.prototype.cc=function(){var c=this.v;c=h.O.truncate(c^c>>>32);var a=h.O.Th(c);return c=this.C,c=h.O.truncate(c^c>>>32),a=h.O.Th(c,a),c=this.G,c=h.O.truncate(c^c>>>32),a=h.O.Th(c,a),c=this.H,c=h.O.truncate(c^c>>>32),h.O.Th(c,a)},x.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},x.prototype.zy=function(c,a){var r=this.Zj(c),o=this.Zj(a);if(r&o)return 0;if(!(r|o))return 4;var l=(r!=0?1:0)|(o!=0?2:0);do{var d=a.x-c.x,f=a.y-c.y;if(d>f?r&x.YC?(r&x.ju?(c.y+=f*(this.v-c.x)/d,c.x=this.v):(c.y+=f*(this.C-c.x)/d,c.x=this.C),r=this.Zj(c)):o&x.YC?(o&x.ju?(a.y+=f*(this.v-a.x)/d,a.x=this.v):(a.y+=f*(this.C-a.x)/d,a.x=this.C),o=this.Zj(a)):r!=0?(r&x.ku?(c.x+=d*(this.G-c.y)/f,c.y=this.G):(c.x+=d*(this.H-c.y)/f,c.y=this.H),r=this.Zj(c)):(o&x.ku?(a.x+=d*(this.G-a.y)/f,a.y=this.G):(a.x+=d*(this.H-a.y)/f,a.y=this.H),o=this.Zj(a)):r&x.ZC?(r&x.ku?(c.x+=d*(this.G-c.y)/f,c.y=this.G):(c.x+=d*(this.H-c.y)/f,c.y=this.H),r=this.Zj(c)):o&x.ZC?(o&x.ku?(a.x+=d*(this.G-a.y)/f,a.y=this.G):(a.x+=d*(this.H-a.y)/f,a.y=this.H),o=this.Zj(a)):r!=0?(r&x.ju?(c.y+=f*(this.v-c.x)/d,c.x=this.v):(c.y+=f*(this.C-c.x)/d,c.x=this.C),r=this.Zj(c)):(o&x.ju?(a.y+=f*(this.v-a.x)/d,a.x=this.v):(a.y+=f*(this.C-a.x)/d,a.x=this.C),o=this.Zj(a)),r&o)return 0}while(r|o);return l},x.prototype.Zj=function(c){return(c.x<this.v?1:0)|(c.x>this.C?1:0)<<1|(c.y<this.G?1:0)<<2|(c.y>this.H?1:0)<<3},x.prototype.Bi=function(c){return!this.B()&&(this.R()<=c||this.ca()<=c)},x.prototype.tb=function(c){return c instanceof h.h?Math.sqrt(this.iK(c)):Math.sqrt(this.px(c))},x.prototype.px=function(c){var a=0,r=0,o=this.v-c.C;return o>a&&(a=o),(o=this.G-c.H)>r&&(r=o),(o=c.v-this.C)>a&&(a=o),(o=c.G-this.H)>r&&(r=o),a*a+r*r},x.prototype.iK=function(c){var a=0,r=0,o=this.v-c.x;return o>a&&(a=o),(o=this.G-c.y)>r&&(r=o),(o=c.x-this.C)>a&&(a=o),(o=c.y-this.H)>r&&(r=o),a*a+r*r},x.prototype.cn=function(c){this.B()?c.Oa():c.K(this.v,this.C)},x.ju=1,x.ku=4,x.YC=3,x.ZC=12,x}();h.l=N}(re||(re={})),function(h){var N,x;(x=N||(N={}))[x.initialize=0]="initialize",x[x.initializeRed=1]="initializeRed",x[x.initializeBlue=2]="initializeBlue",x[x.initializeRedBlue=3]="initializeRedBlue",x[x.sweep=4]="sweep",x[x.sweepBruteForce=5]="sweepBruteForce",x[x.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",x[x.sweepRedBlue=7]="sweepRedBlue",x[x.sweepRed=8]="sweepRed",x[x.sweepBlue=9]="sweepBlue",x[x.iterate=10]="iterate",x[x.iterateRed=11]="iterateRed",x[x.iterateBlue=12]="iterateBlue",x[x.iterateBruteForce=13]="iterateBruteForce",x[x.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",x[x.resetRed=15]="resetRed",x[x.resetBlue=16]="resetBlue";var c=function(){function a(r,o){this.ci=r,this.dH=o}return a.prototype.nr=function(r,o,l){this.ci.JX(l,r,o,this.dH)},a.prototype.$p=function(r){return this.ci.Rr(r,this.dH)},a}();N=function(){function a(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new h.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return a.prototype.kr=function(){this.Nk(),this.Pv=!0,this.Eb==null?(this.fo=new h.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},a.prototype.ad=function(r,o){if(!this.Pv)throw h.i.Hb();var l=new h.l;l.K(o),this.fo.add(r),this.Eb.push(l)},a.prototype.Fp=function(){if(!this.Pv)throw h.i.Hb();this.Pv=!1,this.Eb!=null&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},a.prototype.pK=function(){this.Nk(),this.Ov=!0,this.Eb==null?(this.fo=new h.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},a.prototype.JD=function(r,o){if(!this.Ov)throw h.i.Hb();var l=new h.l;l.K(o),this.fo.add(r),this.Eb.push(l)},a.prototype.iF=function(){if(!this.Ov)throw h.i.Hb();this.Ov=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==2?this.Xb=3:this.Xb!=3&&(this.Xb=1),this.Ic=!1)},a.prototype.oK=function(){this.Nk(),this.Nv=!0,this.qd==null?(this.cw=new h.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},a.prototype.ED=function(r,o){if(!this.Nv)throw h.i.Hb();var l=new h.l;l.K(o),this.cw.add(r),this.qd.push(l)},a.prototype.hF=function(){if(!this.Nv)throw h.i.Hb();this.Nv=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==1?this.Xb=3:this.Xb!=3&&(this.Xb=2),this.Ic=!1)},a.prototype.next=function(){if(this.Ic)return!1;for(var r=!0;r;)switch(this.Xb){case 0:r=this.Gz();break;case 1:r=this.rS();break;case 2:r=this.oS();break;case 3:r=this.qS();break;case 4:r=this.UX();break;case 5:r=this.QX();break;case 6:r=this.RX();break;case 7:r=this.SX();break;case 8:r=this.ux();break;case 9:r=this.iC();break;case 10:r=this.Uz();break;case 11:r=this.jT();break;case 12:r=this.gT();break;case 13:r=this.hT();break;case 14:r=this.iT();break;case 15:r=this.kJ();break;case 16:r=this.jJ();break;default:throw h.i.Qa()}return!this.Ic},a.prototype.aC=function(r){this.qa=r},a.prototype.uz=function(r){return this.Eb[r]},a.prototype.az=function(r){return this.qd[r]},a.prototype.nl=function(r){return this.fo.read(r)},a.prototype.hl=function(r){return this.cw.read(r)},a.Tz=function(r){return!(1&~r)},a.eq=function(r){return!(1&r)},a.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},a.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;this.rd==null&&(this.rd=new h.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new h.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var o=this.Eb[r];this.rd.Br(o.v,o.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},a.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new h.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new h.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var o=this.Eb[r];this.rd.Br(o.v,o.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},a.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.ff==null&&(this.ff=new h.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new h.ia(0)),this.ff.kr();for(var r=0;r<this.qd.length;r++){var o=this.qd[r];this.ff.Br(o.v,o.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),r=0;r<2*this.qd.length;r++)this.Ef.add(r);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},a.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new h.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new h.ia(0)),this.ff==null&&(this.ff=new h.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new h.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var o=this.Eb[r];this.rd.Br(o.v,o.C)}for(this.rd.Fp(),this.ff.kr(),r=0;r<this.qd.length;r++)o=this.qd[r],this.ff.Br(o.v,o.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);for(r=0;r<2*this.qd.length;r++)this.Ef.add(r);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},a.prototype.UX=function(){var r=this.Ld.get(--this.pe),o=r>>1;return a.eq(r)?(this.rd.remove(o),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[o].v,this.Eb[o].C,this.qa),this.Vf=o,this.Xb=10,!0)},a.prototype.QX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},a.prototype.RX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},a.prototype.SX=function(){var r=this.Ld.get(this.pe-1),o=this.Ef.get(this.Rg-1),l=this.Rr(r,!0),d=this.Rr(o,!1);return l>d?this.ux():l<d?this.iC():a.Tz(r)?this.ux():a.Tz(o)?this.iC():this.ux()},a.prototype.ux=function(){var r=this.Ld.get(--this.pe),o=r>>1;if(a.eq(r))return this.Df!=-1&&this.Ij.get(o)!=-1?(this.Ad.jd(this.Df,this.Ij.get(o)),this.Ij.set(o,-1)):this.rd.remove(o),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Cf!=-1&&0<this.Ad.bs(this.Cf))for(r=this.Ad.rc(this.Cf);r!=-1;){var l=this.Ad.getData(r);this.ff.vj(l),this.Hj.set(l,-1),l=this.Ad.lb(r),this.Ad.jd(this.Cf,r),r=l}return 0<this.ff.size()?(this.ow.EB(this.Eb[o].v,this.Eb[o].C,this.qa),this.Vf=o,this.Xb=12):(this.Df==-1&&(this.Ad==null&&(this.Ad=new h.jp),this.Ij=new h.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(o,this.Ad.addElement(this.Df,o)),this.Xb=7),!0},a.prototype.iC=function(){var r=this.Ef.get(--this.Rg),o=r>>1;if(a.eq(r))return this.Cf!=-1&&this.Hj.get(o)!=-1?(this.Ad.jd(this.Cf,this.Hj.get(o)),this.Hj.set(o,-1)):this.ff.remove(o),this.Rg!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Df!=-1&&0<this.Ad.bs(this.Df))for(r=this.Ad.rc(this.Df);r!=-1;){var l=this.Ad.getData(r);this.rd.vj(l),this.Ij.set(l,-1),l=this.Ad.lb(r),this.Ad.jd(this.Df,r),r=l}return 0<this.rd.size()?(this.oo.EB(this.qd[o].v,this.qd[o].C,this.qa),this.Af=o,this.Xb=11):(this.Cf==-1&&(this.Ad==null&&(this.Ad=new h.jp),this.Hj=new h.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(o,this.Ad.addElement(this.Cf,o)),this.Xb=7),!0},a.prototype.Uz=function(){if(this.Af=this.oo.next(),this.Af!=-1)return!1;var r=this.Ld.get(this.pe)>>1;return this.rd.vj(r),this.Xb=4,!0},a.prototype.jT=function(){if(this.Vf=this.oo.next(),this.Vf!=-1)return!1;this.Af=this.Vf=-1;var r=this.Ef.get(this.Rg)>>1;return this.ff.vj(r),this.Xb=7,!0},a.prototype.gT=function(){if(this.Af=this.ow.next(),this.Af!=-1)return!1;var r=this.Ld.get(this.pe)>>1;return this.rd.vj(r),this.Xb=7,!0},a.prototype.hT=function(){if(--this.Rg==-1)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var r=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(r)||(this.Af=this.Rg,!1)},a.prototype.iT=function(){if(--this.Rg==-1)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var r=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(r)||(this.Af=this.Rg,!1)},a.prototype.kJ=function(){return this.rd==null?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},a.prototype.jJ=function(){return this.ff==null?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},a.prototype.Kt=function(r,o,l){this.Am==null&&(this.Am=new h.Xt),l=new c(this,l),this.Am.sort(r,0,o,l)},a.prototype.JX=function(r,o,l,d){var f=this;r.Vd(o,l,function(m,b){var _=f.Rr(m,d),$=f.Rr(b,d);return _<$||_==$&&a.eq(m)&&a.Tz(b)?-1:1})},a.prototype.Rr=function(r,o){var l=.5*this.qa;return o?(o=this.Eb[r>>1],a.eq(r)?o.G-l:o.H+l):(o=this.qd[r>>1],a.eq(r)?o.G-l:o.H+l)},a}(),h.xC=N}(re||(re={})),function(h){var N=function(){function x(){}return x.construct=function(c,a,r,o,l,d){var f=new x;return f.v=c,f.G=a,f.Ye=r,f.C=o,f.H=l,f.Bg=d,f},x.prototype.Oa=function(){this.Ye=this.v=NaN},x.prototype.B=function(){return isNaN(this.v)},x.prototype.XS=function(){return isNaN(this.Ye)},x.prototype.K=function(c,a,r,o,l,d){o!==void 0?typeof c=="number"?(this.v=c,this.G=a,this.Ye=r,this.C=o,this.H=l,this.Bg=d):(this.v=c.x-.5*a,this.C=this.v+a,this.G=c.y-.5*r,this.H=this.G+r,this.Ye=c.z-.5*o,this.Bg=this.Ye+o):(this.v=c,this.G=a,this.Ye=r,this.C=c,this.H=a,this.Bg=r)},x.prototype.move=function(c){this.v+=c.x,this.G+=c.y,this.Ye+=c.z,this.C+=c.x,this.H+=c.y,this.Bg+=c.z},x.prototype.copyTo=function(c){c.v=this.v,c.G=this.G,c.C=this.C,c.H=this.H},x.prototype.Lk=function(c,a,r){this.v>c?this.v=c:this.C<c&&(this.C=c),this.G>a?this.G=a:this.H<a&&(this.H=a),isNaN(this.Ye)==0?this.Ye>r?this.Ye=r:this.Bg<r&&(this.Bg=r):this.Bg=this.Ye=r},x.prototype.Zb=function(c,a,r){if(typeof c=="number")this.B()?(this.v=c,this.G=a,this.Ye=r,this.C=c,this.H=a,this.Bg=r):this.Lk(c,a,r);else if(c instanceof h.Nd)this.Zb(c.x,c.y,c.z);else{if(!(c instanceof x))throw h.i.N();c.B()||(this.Zb(c.v,c.G,c.Ye),this.Zb(c.C,c.H,c.Bg))}},x.prototype.construct=function(c,a,r){c.B()||a.B()?this.Oa():(this.v=c.oa,this.C=c.va,this.G=a.oa,this.H=a.va,this.Ye=r.oa,this.Bg=r.va)},x.prototype.nB=function(c){if(c==null||8>c.length)throw h.i.N();c[0]=new h.Nd(this.v,this.G,this.Ye),c[1]=new h.Nd(this.v,this.H,this.Ye),c[2]=new h.Nd(this.C,this.H,this.Ye),c[3]=new h.Nd(this.C,this.G,this.Ye),c[4]=new h.Nd(this.v,this.G,this.Bg),c[5]=new h.Nd(this.v,this.H,this.Bg),c[6]=new h.Nd(this.C,this.H,this.Bg),c[7]=new h.Nd(this.C,this.G,this.Bg)},x.prototype.Zw=function(c){if(c==null||c.length==0)this.Oa();else{var a=c[0];for(this.K(a.x,a.y,a.z),a=1;a<c.length;a++){var r=c[a];this.Lk(r.x,r.y,r.z)}}},x}();h.OK=N}(re||(re={})),function(h){(function(N){N.Qa=function(){var x=Error();return x.message="Internal Error",x},N.Ie=function(){var x=Error();return x.message="Not Implemented",x},N.Xk=function(){var x=Error();return x.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",x},N.Hb=function(){var x=Error();return x.message="Invalid Call",x},N.N=function(x){var c=Error();return c.message="Illegal Argument Exception",x!==void 0&&(c.message+=": "+x),c},N.fu=function(x){var c=Error();return c.message=x!==void 0?"Runtime Exception: "+x:"Runtime Exception.",c},N.fa=function(x){var c=Error();return c.message="Geometry Exception: "+x,c},N.GK=function(){var x=Error();return x.message="Assert Failed Exception",x},N.ce=function(){var x=Error();return x.message="IndexOutOfBoundsException",x},N.WC=function(){var x=Error();return x.message="UserCancelException",x}})(h.i||(h.i={}))}(re||(re={})),function(h){(h=h.bm||(h.bm={}))[h.forward=0]="forward",h[h.reverse=1]="reverse"}(re||(re={})),function(h){var N=function(){function a(r,o){this.Wa=r,this.FH=o,this.LH=-1,this.sl=!1}return a.prototype.qe=function(){},a.prototype.next=function(){if(++this.LH==this.FH.I())return null;var r=this.FH.Na(this.LH);r.scale(this.Wa.ec);var o=new h.Da;return this.Wa.sy(r,this.sl,o),o},a.prototype.La=function(){return 0},a}(),x=function(){function a(r,o,l){this.Wa=r,this.rw=o,this.Xn=!1,this.co=l,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new h.Da,this.uk=[]}return a.prototype.qe=function(){},a.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var r=h.aa.jg(this.qq);return h.Fg.Mk(r,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(this.sd==null&&(this.sd=this.rw.Ga(),this.sd.$a(),this.co!=null&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;this.co!=null&&this.co.Yk(null,0)}r=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var o=this.uk.length=0,l=new h.h,d=new h.h,f=[0];this.sd.Ha()&&8>this.FA;){var m=this.sd.ha();if(l.L(m.ac()),d.L(m.wc()),l.scale(this.Wa.ec),d.scale(this.Wa.ec),h.cj.Mu(l,d)?l.x=d.x:h.cj.Ku(l,d)&&(d.x=l.x),this.uk.length=0,h.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,l,d,this.Wa.QA,this.Wa.Zs,f,this.Nj,this.Gs,this.uk,this.bw),this.co!=null&&(m=this.uk.slice(0),this.co.qG(this.co.da()-1,m,m.length-1)),h.cj.Lu(l,d)?(this.qq.Oa(),this.Wa.sy(l,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(f[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}r==null&&(r=new h.Da).Yk(null,0),this.OD(r),o++}if(this.bw[0]=0,0<o){for(f=this.sd.wb();0<o;)this.sd.li(),l.L(this.rw.Na(this.sd.wb())),d.L(this.rw.Na(this.sd.ik())),l.scale(this.Wa.ec),d.scale(this.Wa.ec),this.sl&&(h.cj.Mu(l,d)?l.x=d.x:h.cj.Ku(l,d)&&(d.x=l.x)),this.uk.length=0,h.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,d,l,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(r),o--;return l.L(this.rw.Na(this.sd.wb())),l.scale(this.Wa.ec),c.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,l,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,r,NaN,NaN),this.sd.Vb(f),this.sd.ha(),o=h.ta.kj(null,r,!0),h.Fg.Mk(r,o,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),r=h.aa.jg(this.qq),h.Fg.Mk(r,this.Wa.Aq,!0,!0,this.Wa.Ub)},a.prototype.OD=function(r){var o=this.uk[0],l=this.Nj[0]-1.570796326794897,d=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var f=this.di+1.570796326794897;l=f+3.141592653589793-(this.di-this.Nj[0])}else l=(f=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var m=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0])&&!(this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),b=!1;if(Math.abs(l-f)<=.5*this.Wa.ao)if(m){var _=r.Na(r.I()-2);_.scale(this.Wa.ec);var $=new h.ga(0);for(h.kb.Xy(this.Wa.Tb,this.Wa.kc,o.x,o.y,_.x,_.y,$),_=$.u;_<=f;)_+=6.283185307179586;for(;_>f;)_-=6.283185307179586;_<l&&(b=!0)}else b=!0;b?(r.DB(0,r.I()-1),this.sl||((o=new h.h).L(r.Na(r.I()-1)),o.scale(this.Wa.ec),-3.141592653589793>o.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<o.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),m||(l=.5*(l+f))):(m?((f=new h.h).L(o),f.scale(1/this.Wa.ec),r.wf(0,-1,f)):c.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],f,l,this.Wa.ao,this.sl,this.sk,r,NaN,NaN),this.FA+=1)}c.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,l,d,this.sl,this.sk,r),this.di=this.Gs[0]},a.prototype.xy=function(r,o){return this.Wa.xy(this.uk,r,this.Nj[0],this.Gs[0],this.sl,o)},a.prototype.La=function(){return 0},a}(),c=function(){function a(){}return a.buffer=function(r,o,l,d,f,m){if(r==null)throw h.i.N("Geometry::Geodesic_bufferer::buffer");if(r.B())return new h.Da(r.description);var b=new a;b.Qg=o,b.Jc=h.cb.sc(o);var _=h.cb.vv(b.Jc);if(b.Ub=m,b.Tb=h.cb.ev(b.Jc),b.kc=_*(2-_),b.ec=b.Jc.Hd().ai,b.qa=b.Qg.Kn(),b.Aq=b.Jc.Kn(),b.Zs=b.Aq*b.ec,b.zq=1.570796326794897/b.ec,b.OY=3.141592653589793/b.ec,b.Js=6.283185307179586/b.ec,b.PY=b.Js/6,b.LA=0,b.NY=1.5707963267948966*b.Tb/b.LA,l==4?(b.ze=2,b.Wv=!0):(b.ze=l,b.Wv=!1),b.Ka=d,b.rb=Math.abs(d),isNaN(f)||.001>f?b.xX():b.$n=f,l=r.getType(),h.aa.yd(l)?((l=new h.Ta(r.description)).oc(r,!0),r=l,l=1607):l==197&&(l=new h.l,r.A(l),l.R()<=b.qa||l.ca()<=b.qa?((l=new h.Ta(r.description)).ad(r,!1),r=l,l=1607):((l=new h.Da(r.description)).ad(r,!1),r=l,l=1736)),b.yX(),h.aa.Rn(l)||b.zX(),b.rb<=.5*b.$n)return l!=1736?new h.Da(r.description):b.Wv?r:h.cj.Qr(r,b.Qg,b.ze,b.QA,-1,m);if(0>b.Ka&&l!=1736)return new h.Da(r.description);if(b.Wv&&h.aa.Hc(l)?(o=h.cj.Qr(r,o,4,NaN,b.$n,m),r=h.cb.zh(o,b.Qg,b.Jc)):r=h.cb.zh(r,b.Qg,b.Jc),(r=h.Hh.lj(r,b.Jc)).B())return new h.Da(r.description);switch(!b.Wv&&h.aa.Hc(l)&&(r=h.cj.pI(b.ec,r)),r=a.KX(r,b.Jc),l){case 1736:o=b.UN(r);break;case 1607:o=b.VN(r);break;case 550:o=b.SN(r);break;case 33:o=b.TN(r);break;default:throw h.i.fa("corrupted_geometry")}return(b=h.cb.zh(o,b.Jc,b.Qg)).Jl(r.description),b},a.prototype.UN=function(r){var o=new h.Da;r=new x(this,r,o),r=h.Gh.local().V(r,this.Jc,this.Ub).next(),r=h.ip.nj(r,this.Jc,2);var l=new h.Dd;return l.scale(1/this.ec,1/this.ec),o.Oc(l),o=h.ip.nj(o,this.Jc,2),0<=this.Ka?h.Gh.local().V(o,r,this.Jc,this.Ub):h.kp.local().V(o,r,this.Jc,this.Ub)},a.prototype.VN=function(r){return r=new x(this,r,null),r=h.Gh.local().V(r,this.Jc,this.Ub).next(),h.ip.nj(r,this.Jc,2)},a.prototype.SN=function(r){return r=new N(this,r),r=h.Gh.local().V(r,this.Jc,this.Ub).next(),h.ip.nj(r,this.Jc,2)},a.prototype.TN=function(r){(r=r.D()).scale(this.ec);var o=new h.Da;return this.sy(r,!1,o),h.ip.nj(o,this.Jc,2)},a.prototype.xy=function(r,o,l,d,f,m){var b=r[0],_=r[r.length-1],$=b.y>_.y?b.y:_.y,C=h.F.q(this.Tb,this.kc,b.y<_.y?b.y:_.y);if($=h.F.q(this.Tb,this.kc,$),.001<this.LA-(C+o+this.rb)&&.001<this.LA+($-o-this.rb))return!1;C=(o=l-1.570796326794897)-3.141592653589793,$=o+3.141592653589793;var P=(l=d+1.570796326794897)+3.141592653589793,L=[NaN],V=[NaN],U=[NaN],Y=[NaN];if(d=!1,a.dJ(this.Tb,this.kc,this.rb,b,o,C,_,l,L,V),a.dJ(this.Tb,this.kc,this.rb,_,P,l,b,C,U,Y),(l<L[0]&&L[0]<P||l<V[0]&&V[0]<P)&&(d=!0),d||(C<U[0]&&U[0]<o||C<Y[0]&&Y[0]<o)&&(d=!0),!d&&f)return!1;for(var X=[],Z=r.length-1;0<=Z;Z--)X.push(r[Z]);return m.Oa(),m.Yk(null,0),Z=[0],a.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,r,o,l,f,Z,m),a.Hr(this.Tb,this.kc,this.ec,this.rb,_,l,P,this.ao,f,Z,m,L[0],V[0]),a.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,X,P,$,f,Z,m),a.Hr(this.Tb,this.kc,this.ec,this.rb,b,C,o,this.ao,f,Z,m,U[0],Y[0]),r=!1,f||(r=this.IE(this.ec,m)),d||r},a.prototype.sy=function(r,o,l){l.Oa(),l.Yk(null,0),a.Hr(this.Tb,this.kc,this.ec,this.rb,r,-this.ao,6.283185307179586,this.ao,o,[0],l,NaN,NaN),o||this.IE(this.ec,l)},a.prototype.IE=function(r,o){var l=this.vO(r,o);return r=this.wO(r,o),l||r},a.prototype.vO=function(r,o){var l=o.I(),d=!1,f=new h.l;if(o.A(f),!h.s.Y(f.H*r,1.570796326794897)&&!h.s.Y(f.G*r,-1.570796326794897))return!1;var m=new h.h;for(--l;0<=l;l--)o.D(l,m),(m.y==f.H&&h.s.Y(m.y*r,1.570796326794897)||m.y==f.G&&h.s.Y(m.y*r,-1.570796326794897))&&(d=!0,this.OI(m,l,o));return d},a.prototype.wO=function(r,o){var l=o.Na(0),d=o.Na(o.I()-1);return 3.141592653589793<Math.abs(l.x-d.x)*r?(this.VV(o),!0):this.uO(o)},a.prototype.uO=function(r){return 0>r.Ke()&&(this.UV(r),!0)},a.prototype.OI=function(r,o,l){var d=l.I(),f=0<o?o-1:d-1;if(d=l.Na(o<d-1?o+1:0),f=l.Na(f),!h.s.Y(d.y,r.y)&&!h.s.Y(d.x,r.x)){var m=new h.h;m.ma(d.x,r.y),l.Cb(o,m)}h.s.Y(f.y,r.y)||h.s.Y(f.x,r.x)||((d=new h.h).ma(f.x,r.y),l.wf(0,o,d))},a.prototype.VV=function(r){var o=new h.Da,l=new h.Da,d=new h.Dd,f=r.Na(0),m=r.Na(r.I()-1),b=new h.h;f.x>m.x?(m=this.zq,d.gg(-this.Js,0)):(m=-this.zq,d.gg(this.Js,0)),o.add(r,!1),r.Oa(),l.add(o,!1),l.Oc(d),f=new h.l,l.A(f),f.W((this.Js-f.R())/2,0),f.G=-this.zq,f.H=this.zq;for(var _=0;_<l.I();_++)l.D(_,b),o.wf(0,-1,b);for(l.Oc(d),_=0;_<l.I();_++)l.D(_,b),o.wf(0,-1,b);l=o.Na(0),d=o.Na(o.I()-1),b.ma(d.x,m),o.wf(0,-1,b),b.ma(.5*(d.x+l.x),m),o.wf(0,-1,b),b.ma(l.x,m),o.wf(0,-1,b),o=h.Hh.ks(o,this.Jc,2,!0,f.v),o=h.Hh.ks(o,this.Jc,2,!0,f.C),o=h.Ud.clip(o,f,this.Aq,NaN),r.add(o,!1)},a.prototype.UV=function(r){var o=new h.l;r.A(o),o.W((this.Js-o.R())/2,0),o.G=-this.zq,o.H=this.zq,r.Yk(null,0);var l=new h.h;l.ma(o.v,o.G),r.wf(1,-1,l),l.ma(o.v,o.H),r.wf(1,-1,l),l.ma(.5*(o.v+o.C),o.H),r.wf(1,-1,l),l.ma(o.C,o.H),r.wf(1,-1,l),l.ma(o.C,o.G),r.wf(1,-1,l),l.ma(.5*(o.v+o.C),o.G),r.wf(1,-1,l)},a.qy=function(r,o,l,d,f,m,b,_,$,C,P){var L=null;$||((L=new h.h).Rc(),0<P.I()&&(L.L(P.Na(P.I()-1)),L.scale(l)));var V=new h.ga(0),U=new h.ga(0),Y=new h.ga(0),X=new h.h,Z=new h.h,ne=m[m.length-1];l=1/l;for(var oe=0;oe<m.length;oe++){var he=m[oe];if(oe==0)var be=b;else oe==m.length-1?be=_:(h.kb.wd(r,o,ne.x,ne.y,he.x,he.y,null,null,V,f),be=V.u-1.570796326794897);h.kb.yi(r,o,he.x,he.y,d,be,U,Y),$?Z.ma(U.u,Y.u):(X.ma(U.u,Y.u),a.gJ(he.x,X.x,L.x,C),Z.ma(C[0]+X.x,X.y),L.L(Z)),Z.scale(l),P.wf(0,-1,Z)}},a.Hr=function(r,o,l,d,f,m,b,_,$,C,P,L,V){if(!(b-m<_)){var U=new h.ga(0),Y=new h.ga(0),X=new h.h,Z=new h.h,ne=null;$||((ne=new h.h).Rc(),0<P.I()&&(ne.L(P.Na(P.I()-1)),ne.scale(l)));var oe=h.O.truncate(Math.ceil(m/_)),he=oe++*_;for(he==m&&(he=oe++*_),l=1/l;he<b+_&&(m<L&&L<he?(he=L,oe--):m<V&&V<he&&(he=V,oe--),!(he>=b));)h.kb.yi(r,o,f.x,f.y,d,he,U,Y),$?Z.ma(U.u,Y.u):(X.ma(U.u,Y.u),a.gJ(f.x,X.x,ne.x,C),Z.ma(C[0]+X.x,X.y),ne.L(Z)),Z.scale(l),P.wf(0,-1,Z),m=he,he=oe++*_}},a.dJ=function(r,o,l,d,f,m,b,_,$,C){var P=new h.h,L=new h.h,V=new h.ga(0),U=new h.ga(0);for(h.kb.yi(r,o,d.x,d.y,l,f,V,U),P.ma(V.u,U.u),h.kb.yi(r,o,d.x,d.y,l,m,V,U),L.ma(V.u,U.u),l=new h.ga(0),h.kb.Xy(r,o,b.x,b.y,P.x,P.y,l),$[0]=l.u,h.kb.Xy(r,o,b.x,b.y,L.x,L.y,l),C[0]=l.u;$[0]<=C[0];)$[0]+=6.283185307179586;for(;$[0]>C[0];)$[0]-=6.283185307179586;for(;$[0]>=_;)$[0]-=6.283185307179586,C[0]-=6.283185307179586;for(;$[0]<_;)$[0]+=6.283185307179586,C[0]+=6.283185307179586},a.gJ=function(r,o,l,d){if(isNaN(l)){for(;3.141592653589793<d[0]+o-r;)d[0]-=6.283185307179586;for(;3.141592653589793<r-(d[0]+o);)d[0]+=6.283185307179586}else 3.141592653589793<d[0]+o-l?d[0]-=6.283185307179586:3.141592653589793<l-(d[0]+o)&&(d[0]+=6.283185307179586)},a.KX=function(r,o){var l=r.getType(),d=h.aa.Hc(l)?r.da():l==550?r.I():1;if(d==1)return r;var f=new h.ia(0);f.resize(d);for(var m=[],b=new h.l,_=0;_<d;_++){if(f.write(_,_),h.aa.Hc(l)){r.Rj(_,b);var $=b.sf()}else $=r.Na(_);$=h.XK.$X(o,$),m[_]=$}for(f.Vd(0,f.size,function(C,P){return m[C]<m[P]?-1:m[C]>m[P]?1:0}),o=r.Ia(),_=0;_<d;_++)b=f.read(_),h.aa.Hc(l)?o.addPath(r,b,!0):o.Fd(r,b,b+1);return o},a.prototype.yX=function(){var r=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);r=Math.min(r,.39269908169872414*this.Tb);var o=new h.h;o.ma(0,10*this.ec);var l=45*this.ec,d=new h.ga(0),f=new h.ga(0),m=new h.ga(0),b=new h.ga(0),_=new h.ga(0),$=new h.ga(0),C=new h.ga(0),P=new h.ga(0),L=new h.h,V=new h.h,U=new h.h,Y=new h.h;h.kb.yi(this.Tb,this.kc,o.x,o.y,r,0,d,f),L.ma(d.u,f.u),h.kb.yi(this.Tb,this.kc,o.x,o.y,r,l,m,b),V.ma(m.u,b.u),d=new h.ga(0),f=new h.ga(0);for(var X=new h.ga(0);h.kb.yi(this.Tb,this.kc,o.x,o.y,r,.5*(0+l),_,$),U.ma(_.u,$.u),h.kb.wd(this.Tb,this.kc,L.x,L.y,V.x,V.y,d,f,null,2),h.kb.oj(this.Tb,this.kc,L.x,L.y,.5*d.u,f.u,C,P,2),Y.ma(C.u,P.u),h.kb.wd(this.Tb,this.kc,U.x,U.y,Y.x,Y.y,X,null,null,2),!(X.u<=this.$n);)l*=.9,h.kb.yi(this.Tb,this.kc,o.x,o.y,r,l,m,b),V.ma(m.u,b.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(l-0))},a.prototype.zX=function(){var r=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);r=Math.min(r,.39269908169872414*this.Tb);var o=new h.h,l=new h.h;o.ma(0,10*this.ec),l.ma(10*this.ec,10*this.ec);var d=new h.ga(0),f=new h.ga(0),m=new h.ga(0);h.kb.wd(this.Tb,this.kc,o.x,o.y,l.x,l.y,m,d,f,this.ze);var b=new h.ga(0),_=new h.ga(0),$=new h.ga(0),C=new h.ga(0),P=new h.h,L=new h.ga(0),V=new h.ga(0),U=new h.ga(0),Y=new h.ga(0),X=new h.ga(0),Z=new h.ga(0),ne=new h.ga(0),oe=new h.ga(0),he=new h.ga(0),be=new h.h,Ce=new h.h,Pe=new h.h,qe=new h.h,Ue=1;d=d.u,f=f.u+1.570796326794897,m=m.u,h.kb.yi(this.Tb,this.kc,o.x,o.y,r,d-1.570796326794897,V,U),be.ma(V.u,U.u),h.kb.yi(this.Tb,this.kc,l.x,l.y,r,f,Y,X),Ce.ma(Y.u,X.u),V=new h.ga(0),U=new h.ga(0),f=new h.ga(0);for(var Je=new h.ga(0);h.kb.oj(this.Tb,this.kc,o.x,o.y,.5*(0+Ue)*m,d,b,_,this.ze),P.ma(b.u,_.u),h.kb.wd(this.Tb,this.kc,o.x,o.y,P.x,P.y,null,null,L,this.ze),h.kb.yi(this.Tb,this.kc,P.x,P.y,r,L.u+1.570796326794897,Z,ne),Pe.ma(Z.u,ne.u),h.kb.wd(this.Tb,this.kc,be.x,be.y,Ce.x,Ce.y,V,U,null,2),h.kb.oj(this.Tb,this.kc,be.x,be.y,.5*V.u,U.u,oe,he,2),qe.ma(oe.u,he.u),h.kb.wd(this.Tb,this.kc,Pe.x,Pe.y,qe.x,qe.y,f,null,null,2),!(f.u<=this.$n);)Ue*=.9,h.kb.oj(this.Tb,this.kc,o.x,o.y,Ue*m,d,$,C,this.ze),l.ma($.u,C.u),h.kb.wd(this.Tb,this.kc,o.x,o.y,l.x,l.y,null,null,Je,this.ze),h.kb.yi(this.Tb,this.kc,l.x,l.y,r,Je.u+1.570796326794897,Y,X),Ce.ma(Y.u,X.u);1e5<(r=Ue*m)&&(r=1e5),this.QA=r},a.prototype.xX=function(){var r=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/r&&(r=this.rb/500),.01>r&&(r=.01),this.$n=r},a}();h.VK=c}(re||(re={})),function(h){var N=function(){function x(){}return x.Mf=function(c,a){var r=new h.h;r.L(a),c.push(r)},x.up=function(c,a){c.add(a.x),c.add(a.y)},x.hB=function(c){c.Bh(c.size-2)},x.oB=function(c,a){a.ma(c.get(c.size-2),c.get(c.size-1))},x.Qr=function(c,a,r,o,l,d){if(c==null)throw h.i.N();var f=c.getType();if(c.B()||h.aa.Rn(f))return c;var m=new x;m.Qg=a,m.Jc=h.cb.sc(a);var b=h.cb.vv(m.Jc);if(m.Ub=d,m.Tb=h.cb.ev(m.Jc),m.kc=b*(2-b),m.ec=m.Jc.Hd().ai,m.Aq=m.Jc.Kn(),m.Zs=m.Aq*m.ec,m.AA=o,m.zA=l,m.ze=r,f==197?(r=new h.Da(c.description)).ad(c,!1):h.aa.yd(f)?(r=new h.Ta(c.description)).oc(c,!0):r=c,m.ze!=4){if((a=m.Qg.Nb(m.Jc)==0?h.cb.zh(r,m.Qg,m.Jc):h.Hh.lj(r,m.Jc)).B())return a;a=x.pI(m.ec,a),a=m.Zy(a),a=h.ip.nj(a,m.Jc,m.ze),m=h.cb.zh(a,m.Jc,m.Qg)}else{if(h.Eg.Sb(a)==2?(c=h.cb.ml(),(a=h.Xj.local().V(r,c,a,d))==c&&(a=new h.Da,c.copyTo(a))):a=h.Hh.lj(r,m.Jc),a.B())return a;m=m.CX(a)}return m},x.pI=function(c,a){var r=new h.l;if(a.xc(r),3.141592653589793>r.R()*c)return a;var o=!1;r=a.Ga();for(var l=new h.h,d=new h.h;r.$a();)for(;r.Ha();){var f=r.ha();if(l.L(f.ac()),d.L(f.wc()),l.scale(c),d.scale(c),3.141592653589793<Math.abs(l.x-d.x)){var m=x.Lu(l,d);if(!m){o=!0;break}if(6.283185307179586<Math.abs(l.x-d.x)){o=!0;break}}}if(!o)return a;o=a.Ia();var b=1<a.description.Aa,_=new h.h,$=new h.h,C=new h.h,P=new h.h,L=new h.Sa;for(r.Zi();r.$a();)for(var V=NaN,U=[0];r.Ha();){if(f=r.ha(),l.L(f.ac()),d.L(f.wc()),l.scale(c),d.scale(c),isNaN(V)?(x.Wi(l.x,NaN,U),$.L(l)):$.L(C),V=$.x,m=x.Lu(l,d)){if(6.283185307179586<d.x-l.x)for(;6.283185307179586<d.x-l.x;)d.x-=6.283185307179586;if(-6.283185307179586>d.x-l.x)for(;-6.283185307179586>d.x-l.x;)d.x+=6.283185307179586;x.Wi(d.x,NaN,U),C.L(d)}else _.L(d),x.AU(_),x.Wi(_.x,V,U),C.ma(U[0]+_.x,_.y);.5>Math.abs(C.x-d.x)&&C.L(d),b?(f.Tw(0,L),P.L($),P.scale(1/c),L.Cb(P),(m=r.vm())?o.nf(L):o.lineTo(L),r.Qn()&&!a.dc(r.gb)&&(f.Tw(1,L),P.L(C),P.scale(1/c),L.Cb(P),o.lineTo(L))):((m=r.vm())&&o.Hz(null,0),f=o.da()-1,P.L($),P.scale(1/c),o.wf(f,-1,P),r.Qn()&&!a.dc(r.gb)&&(P.L(C),P.scale(1/c),o.wf(f,-1,P)))}return o},x.tF=function(c,a,r,o,l,d,f,m,b,_,$,C){var P=new h.h,L=new h.h,V=0<o.compare(l);x.fJ(V,o,l,P,L),x.uF(c,a,r,P,L,d,NaN,f,m,b,_,null,$,C),V&&x.fC(b,_,null,$)},x.prototype.Zy=function(c){var a=c.Ia(),r=c.Ga(),o=[],l=null,d=null,f=1<c.description.Aa;f&&(l=new h.be(0),d=new h.ig);for(var m=[0],b=new h.h,_=new h.h,$=new h.h,C=new h.h;r.$a();)for(m[0]=0;r.Ha();){var P=r.ha();b.L(P.ac()),_.L(P.wc()),b.scale(this.ec),_.scale(this.ec);var L=0<b.compare(_);x.fJ(L,b,_,$,C),o.length=0,l!=null&&l.Bh(0),0<this.AA?x.uF(this.Tb,this.kc,this.ze,$,C,this.AA,this.zA,this.Zs,null,null,null,f?l:null,o,m):x.aR(this.Tb,this.kc,this.ze,$,C,this.zA,this.Zs,f?l:null,o,m),L&&x.fC(null,null,f?l:null,o),o[0].L(P.ac()),o[o.length-1].L(P.wc());for(var V=1;V<o.length-1;V++)o[V].scale(1/this.ec);f?(L=x.eJ(L,P,d),x.TD(r.vm(),r.Qn()&&!c.dc(r.gb),P,L,l,o,a)):x.SD(r.vm(),r.Qn()&&!c.dc(r.gb),o,a)}return a},x.prototype.CX=function(c){var a=c.Ia(),r=c.Ga(),o=[],l=null,d=new h.ig,f=1<c.description.Aa;for(f&&(l=new h.be(0));r.$a();)for(;r.Ha();){var m=r.ha(),b=m.ac(),_=m.wc();b=0<b.compare(_),_=x.eJ(b,m,d),o.length=0,l!=null&&l.Bh(0),x.BX(this.Tb,this.kc,this.ec,_,this.Qg,this.AA,this.zA,f?l:null,o),b&&x.fC(null,null,f?l:null,o),f?x.TD(r.vm(),r.Qn()&&!c.dc(r.gb),m,_,l,o,a):x.SD(r.vm(),r.Qn()&&!c.dc(r.gb),o,a)}return a},x.SD=function(c,a,r,o){c&&o.Hz(null,0),c=o.da()-1;var l=r.slice(0);o.qG(c,l,l.length-1),a&&o.wf(c,-1,r[r.length-1])},x.TD=function(c,a,r,o,l,d,f){var m=new h.Sa;if(r.To(m),c?f.nf(m):f.lineTo(m),2<d.length){c=o.Qb();for(var b=1;b<d.length-1;b++){var _=o.NG(l.get(b)*c);o.Tw(_,m),m.Cb(d[b]),f.lineTo(m)}}a&&(r.Po(m),f.lineTo(m))},x.uF=function(c,a,r,o,l,d,f,m,b,_,$,C,P,L){var V=new h.ga(0),U=new h.ga(0),Y=new h.ga(0);h.kb.wd(c,a,o.x,o.y,l.x,l.y,Y,V,U,r),Y=Y.u;var X=V=V.u;0>X&&(X+=6.283185307179586),0>(U=U.u)&&(U+=6.283185307179586),b!=null&&(b[0]=Y),_!=null&&(_[0]=X),$!=null&&($[0]=U),_=b=NaN,C!=null&&(b=((_=h.F.Ah(c,a))-($=h.F.q(c,a,o.y)))/Y,_=(_+$)/Y),$=x.Mu(o,l),U=x.Ku(o,l),X=$||U;var Z=x.FE(o,l,m),ne=new h.ga(0),oe=new h.ga(0),he=new h.h,be=new h.h,Ce=new h.h;x.Wi(o.x,NaN,L);var Pe=[L[0]];if(Y<=d)x.Mf(P,o),x.Wi(l.x,NaN,L),C!=null&&C.add(0),X?($&&x.kB(o,l,C,P),U&&x.iB(o,l,C,P)):Z?x.jB(o,l,V,b,_,C,P):0<f&&(be.ma(o.x-Pe[0],o.y),he.ma(l.x-L[0],l.y),x.Yy(c,a,r,o,Y,V,be,he,0,1,f,C,P,Pe)),x.Mf(P,l);else{var qe=Y/((d=1+h.O.truncate(Math.ceil(Y/d)))-1),Ue=new h.h,Je=0;x.Mf(P,o),Ue.L(o),be.ma(o.x-L[0],o.y),C!=null&&C.add(0);for(var je=1;je<d;je++){if(je<d-1){h.kb.oj(c,a,o.x,o.y,je*qe,V,ne,oe,r),he.ma(ne.u,oe.u),x.Wi(he.x,Ue.x,L),Ce.ma(L[0]+he.x,he.y);var Ht=je/(d-1)}else x.Wi(l.x,NaN,L),he.ma(l.x-L[0],l.y),Ce.L(l),Ht=1;X?(je==1&&$&&x.kB(o,Ce,C,P),je==d-1&&U&&x.iB(Ue,l,C,P)):Z?x.EE(Ue,Ce,m)&&(o.x<l.x?Ue.x>Ce.x&&(L[0]+=6.283185307179586,Ce.ma(L[0]+he.x,he.y)):Ue.x<Ce.x&&(L[0]-=6.283185307179586,Ce.ma(L[0]+he.x,he.y)),x.jB(Ue,Ce,V,b,_,C,P)):0<f&&x.Yy(c,a,r,o,Y,V,be,he,Je,Ht,f,C,P,Pe),x.Mf(P,Ce),C!=null&&C.add(Ht),Ue.L(Ce),be.L(he),Pe[0]=L[0],Je=Ht}}},x.aR=function(c,a,r,o,l,d,f,m,b,_){var $=new h.ga(0),C=new h.ga(0),P=new h.ga(0);h.kb.wd(c,a,o.x,o.y,l.x,l.y,P,$,C,r),C=P.u,$=$.u;var L=P=NaN;if(m!=null){L=h.F.Ah(c,a);var V=h.F.q(c,a,o.y);P=(L-V)/C,L=(L+V)/C}V=x.Mu(o,l);var U=x.Ku(o,l),Y=V||U;f=x.FE(o,l,f);var X=x.Lu(o,l);X=Y||f||X,x.Wi(o.x,NaN,_);var Z=new h.h;x.Mf(b,o),Z.L(o),m!=null&&m.add(0),X?(Y?(V&&x.kB(o,l,m,b),U&&x.iB(o,l,m,b)):f&&x.jB(o,l,$,P,L,m,b),x.Wi(l.x,NaN,_),x.Mf(b,l)):C<=d?(x.Wi(l.x,NaN,_),x.Mf(b,l)):(P=new h.h,f=new h.h,P.L(o),f.L(l),P.x-=_[0],f.x-=_[0],-3.141592653589793>f.x?f.x+=6.283185307179586:3.141592653589793<f.x&&(f.x-=6.283185307179586),x.Yy(c,a,r,o,C,$,P,f,0,1,d,m,b,_),x.Mf(b,l),x.Wi(l.x,NaN,_)),m!=null&&m.add(1)},x.Yy=function(c,a,r,o,l,d,f,m,b,_,$,C,P,L){var V=new h.h,U=new h.h;V.ma(f.x+L[0],f.y),new h.ga(0),new h.ga(0),new h.ga(0),new h.ga(0);var Y=new h.ga(0),X=new h.ga(0),Z=new h.ga(0),ne=new h.h,oe=new h.h,he=new h.h,be=new h.h;ne.L(f),oe.L(m),f=new h.be(0),m=new h.be(0),x.up(f,oe),m.add(_);var Ce=new h.h,Pe=new h.yb,qe=[];for(x.YJ(4,qe);0<f.size;){for(var Ue,Je=!1,je=NaN,Ht=0;3>Ht;Ht++)if(Ue=qe[Ht]*_+(1-qe[Ht])*b,h.kb.oj(c,a,o.x,o.y,Ue*l,d,Y,X,r),he.ma(Y.u,X.u),Ht==0&&(je=Ue,be.L(he)),x.WW(ne,he,oe,Pe),Pe.hc(Pe.fe(he,!0),Ce),h.kb.wd(c,a,he.x,he.y,Ce.x,Ce.y,Z,null,null,2),Z.u>$){Je=!0;break}Je?(oe.L(be),_=je,x.up(f,oe),m.add(_)):(x.hB(f),m.En(m.size-1,1,m.size-1),0<f.size&&(x.Wi(oe.x,V.x,L),U.ma(L[0]+oe.x,oe.y),x.Mf(P,U),V.L(U),C!=null&&C.add(_),ne.L(oe),b=_,x.oB(f,oe),_=m.get(m.size-1)))}},x.BX=function(c,a,r,o,l,d,f,m,b){var _=new h.h,$=new h.h,C=new h.h,P=new h.h,L=new h.h,V=new h.h,U=new h.h,Y=new h.h,X=new h.h,Z=new h.h,ne=new h.ga(0),oe=new h.ga(0),he=new h.h,be=[[],[]],Ce=h.Eg.Sb(l)==1;l=l.Xd(0);var Pe=o.ac(),qe=o.wc();Ce?(V.ma(Pe.x*r,Pe.y*r),U.ma(qe.x*r,qe.y*r)):(be[0][0]=Pe.x,be[0][1]=Pe.y,be[1][0]=qe.x,be[1][1]=qe.y,h.cb.vt(),V.x=be[0][0]*r,V.y=be[0][1]*r,U.x=be[1][0]*r,U.y=be[1][1]*r);var Ue=0,Je=0,je=1,Ht=o.Pn();_.L(Pe),$.L(qe),qe=new h.be(0);var Dt=new h.be(0),ni=new h.be(0);x.up(qe,$),x.up(Dt,U),ni.add(je),x.Mf(b,_),m!=null&&m.add(Je);var mi=[],Ai=0<f?Ht?5:3:Ht?5:1;x.YJ(Ai,mi);for(var xi=new h.ga(0),ri=new h.ga(0),zt=new h.ga(0),Ct=new h.ga(0),Zi=new h.ga(0),Pi=new h.ga(0),zn=new h.ga(0);0<Dt.size;){var Wt=!1,tn=NaN;for(h.kb.wd(c,a,V.x,V.y,U.x,U.y,xi,ri,null,2),Pe=0;Pe<Ai&&!(Pe==0&&(!Ht&&0>=f&&xi.u<=d&&3.141592653589793>Math.abs(V.x-U.x)||o.Ux(Je,je)<=l));Pe++){var vi=mi[Pe]*je+(1-mi[Pe])*Je;if(o.hc(vi,C),Ce?Y.ma(C.x*r,C.y*r):(be[0][0]=C.x,be[0][1]=C.y,h.cb.vt(),Y.x=be[0][0]*r,Y.y=be[0][1]*r),Pe==0&&(tn=vi,L.L(C),Z.L(Y),0<d&&(xi.u>d||3.141592653589793<=Math.abs(V.x-U.x)))){Wt=!0;break}if(Ht&&0<d){if(h.kb.wd(c,a,V.x,V.y,Y.x,Y.y,zt,null,null,2),zt.u>d||3.141592653589793<=Math.abs(V.x-Y.x)){Wt=!0;break}}else if(0<f){if(Ht?(P.NS(_,$,mi[Pe]),Ce?X.ma(P.x*r,P.y*r):(be[0][0]=P.x,be[0][1]=P.y,h.cb.vt(),X.x=be[0][0]*r,X.y=be[0][1]*r)):(P.L(C),X.L(Y)),h.kb.wd(c,a,V.x,V.y,X.x,X.y,Ct,null,null,2),!(Ct.u<=xi.u)){Wt=!0;break}if(h.kb.oj(c,a,V.x,V.y,Ct.u,ri.u,ne,oe,2),he.ma(ne.u,oe.u),h.kb.wd(c,a,he.x,he.y,Y.x,Y.y,Zi,null,null,2),Zi.u>f){Wt=!0;break}if(Ht){if(h.kb.wd(c,a,he.x,he.y,X.x,X.y,Pi,null,null,2),Pi.u>f){Wt=!0;break}if(h.kb.wd(c,a,X.x,X.y,Y.x,Y.y,zn,null,null,2),zn.u>f){Wt=!0;break}}}}Wt?($.L(L),U.L(Z),je=tn,x.up(qe,$),x.up(Dt,U),ni.add(je)):(x.hB(qe),x.hB(Dt),ni.En(ni.size-1,1,ni.size-1),x.Mf(b,$),Ue+=xi.u,m!=null&&m.add(Ue),0<Dt.size&&(_.L($),V.L(U),Je=je,x.oB(qe,$),x.oB(Dt,U),je=ni.get(ni.size-1)))}if(m!=null)for(c=1/Ue,Pe=0;Pe<m.size;Pe++)m.write(Pe,m.read(Pe)*c)},x.fC=function(c,a,r,o){o.reverse(),r!=null&&r.ni(0,r.size,1),r=c!=null?c[0]:NaN,o=a!=null?a[0]:NaN,c!=null&&(c[0]=o),a!=null&&(a[0]=r)},x.fJ=function(c,a,r,o,l){c?(o.L(r),l.L(a)):(o.L(a),l.L(r))},x.eJ=function(c,a,r){return c?(r.create(a.getType()),a.copyTo(r.get()),r.get().reverse(),r.get()):a},x.Wi=function(c,a,r){if(isNaN(a)){for(;3.141592653589793<r[0]-c;)r[0]-=6.283185307179586;for(;3.141592653589793<c-r[0];)r[0]+=6.283185307179586}else 3.141592653589793<r[0]+c-a?r[0]-=6.283185307179586:3.141592653589793<a-(r[0]+c)&&(r[0]+=6.283185307179586)},x.WW=function(c,a,r,o){3.141592653589793>Math.abs(a.x-c.x)?(o.Dc(c),3.141592653589793<=r.x-c.x?o.Ql(r.x-6.283185307179586,r.y):3.141592653589793<=c.x-r.x?o.Ql(r.x+6.283185307179586,r.y):o.Ql(r.x,r.y)):(o.Dc(r),3.141592653589793<=c.x-r.x?o.Ql(c.x-6.283185307179586,c.y):3.141592653589793<=r.x-c.x?o.Ql(c.x+6.283185307179586,c.y):o.Ql(c.x,c.y))},x.YJ=function(c,a){for(var r=0;r<c;r++){var o=Math.ceil(r/2)/(c+1);r%2!=0&&(o=-o),a[r]=.5+o}},x.Mu=function(c,a){return!!(h.s.Y(c.y,1.570796326794897)&&!h.s.Y(a.y,1.570796326794897)||h.s.Y(c.y,-1.570796326794897)&&!h.s.Y(a.y,-1.570796326794897))},x.Ku=function(c,a){return!!(h.s.Y(a.y,1.570796326794897)&&!h.s.Y(c.y,1.570796326794897)||h.s.Y(a.y,-1.570796326794897)&&!h.s.Y(c.y,-1.570796326794897))},x.FE=function(c,a,r){return!(!x.EE(c,a,r)||h.s.Y(c.y,1.570796326794897)||h.s.Y(c.y,-1.570796326794897)||h.s.Y(a.y,1.570796326794897)||h.s.Y(a.y,-1.570796326794897))},x.EE=function(c,a,r){return Math.abs(Math.abs(c.x-a.x)-3.141592653589793)<=r},x.Lu=function(c,a){return!!(h.s.Y(c.y,1.570796326794897)&&h.s.Y(a.y,1.570796326794897)||h.s.Y(c.y,-1.570796326794897)&&h.s.Y(a.y,-1.570796326794897))},x.kB=function(c,a,r,o){if(0<c.y){var l=new h.h;l.ma(a.x,1.570796326794897)}else(l=new h.h).ma(a.x,-1.570796326794897);h.s.Y(c.x,l.x)||h.s.Y(a.y,l.y)||(x.Mf(o,l),r!=null&&r.add(0))},x.iB=function(c,a,r,o){if(0<a.y){var l=new h.h;l.ma(c.x,1.570796326794897)}else(l=new h.h).ma(c.x,-1.570796326794897);h.s.Y(a.x,l.x)||h.s.Y(c.y,l.y)||(x.Mf(o,l),r!=null&&r.add(1))},x.jB=function(c,a,r,o,l,d,f){h.s.Cd(r)?(0<1.570796326794897-c.y&&((r=new h.h).ma(c.x,1.570796326794897),x.Mf(f,r),d!=null&&d.add(o)),0<1.570796326794897-a.y&&((r=new h.h).ma(a.x,1.570796326794897),x.Mf(f,r),d!=null&&d.add(o))):(0<1.570796326794897+c.y&&((r=new h.h).ma(c.x,-1.570796326794897),x.Mf(f,r),d!=null&&d.add(l)),0<1.570796326794897+a.y&&((r=new h.h).ma(a.x,-1.570796326794897),x.Mf(f,r),d!=null&&d.add(l)))},x.AU=function(c){if(-3.141592653589793>c.x)for(;-3.141592653589793>c.x;)c.x+=6.283185307179586;if(3.141592653589793<c.x)for(;3.141592653589793<c.x;)c.x-=6.283185307179586},x}();h.cj=N}(re||(re={})),function(h){h.ip=function(){function N(){}return N.nj=function(x,c,a){if(x==null||c==null||!h.cb.Wc(c))throw h.i.N();if(x.B())return x;var r=x,o=r.getType();if(h.aa.Hc(o)){r=h.Hh.lj(x,c),x=new h.l,r.A(x),o=h.ta.Wd(c,x,!1);for(var l=h.cb.gh(c),d=Math.floor((x.v-l.v)/l.R())*l.R()+l.v;d<x.C;)d>x.v+o&&d<x.C-o&&(r=h.Hh.ks(r,c,a,!0,d)),d+=l.R()}else{if(o==197)return(x=new h.Da(r.description)).ad(r,!1),N.nj(x,c,a);if(h.aa.yd(o))return(x=new h.Ta(r.description)).oc(r,!0),N.nj(x,c,a)}return N.Uy(r,c)},N.Uy=function(x,c){if(x==null||c==null||!h.cb.Wc(c))throw h.i.N();if(x.B())return x;var a=x.getType();return a==197?(a=new h.Da(x.description)).ad(x,!1):h.aa.yd(a)?(a=new h.Ta(x.description)).oc(x,!0):a=x,(a=h.Hh.lj(a,c)).B()?a:h.Eg.Sb(c)==1?h.Hh.Fn(a,c,0,a!=x,0):N.NQ(a,c,a!=x)},N.NQ=function(x,c,a){if(!h.cb.Wc(c))throw h.i.N();if(x.B())return x;var r=h.cb.bf(c),o=-180*r;return r*=360,h.Eg.Sb(c)==2&&(r=(o=h.cb.gh(c)).C,r-=o=o.v),h.Hh.Hp(x,o,r,c,a,0,!0)},N}()}(re||(re={})),function(h){h.BY=function(){function N(){}return N.P=function(x){return 0>x?-x:x},N.Mb=function(x,c){return 0<=c?N.P(x):-N.P(x)},N.Y=function(x,c){return x==c||N.P(x-c)<=N.JC*(1+(N.P(x)+N.P(c))/2)},N.Cd=function(x){return x==0||N.P(x)<=N.JC},N.Ah=function(x,c){var a=(c=(1-(c=Math.sqrt(1-c)))/(1+c))*c;return x/(1+c)*(1+a*(.25+a*(.015625+1/256*a)))*N.EL},N.EL=1.5707963267948966,N.JC=3552713678800501e-30,N}()}(re||(re={})),function(h){var N=function(c){this.Wf=c,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};h.DY=N;var x=function(){function c(a){a===void 0&&(a=null),this.Cj=null,this.Un=!1,a!==null&&(this.Cj=new N(a))}return c.prototype.Ec=function(){return this.Cj!=null?this.Cj.Kk:0},c.prototype.Of=function(){var a=new c;return this.copyTo(a),a},c.prototype.copyTo=function(a){a.Cj=this.Cj,a.Un=this.Un},c.prototype.Qz=function(){this.Un=!this.Un},c.prototype.qm=function(){return this.Cj!=null?this.Cj.Wf:null},c.prototype.LJ=function(a){if(0>=a)throw h.i.N();if(a!=this.Ec()){if((a=h.pf.geogtran(a))==null)throw h.i.N("Geogtran not found.");this.Cj=new N(a)}},c.prototype.Bz=function(){return this.Cj==null?null:this.Cj.Wf.toString()},c.prototype.tX=function(a){if(a==null)throw h.i.N();var r=null;try{r=h.pf.fromString(h.Sc.PE_TYPE_GEOGTRAN,a)}catch{throw h.i.N()}this.Cj=new N(r)},c.prototype.Nb=function(a){return a==this||!(!(a instanceof c)||(0>=this.Ec()||this.Ec()!=a.Ec())&&!this.qm().isEqual(a.qm()))&&this.Un==a.Un},c.prototype.toString=function(){var a="GeographicTransformation: "+this.Bz();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a},c.create=function(a,r){var o=new c;return o.LJ(a),r&&o.Qz(),o},c.uP=function(a,r){var o=new c;return o.tX(a),r&&o.Qz(),o},c}();h.Dx=x}(re||(re={})),function(h){var N=function(){function c(){}return c.construct=function(a,r,o,l){var d=new c;return d.hw=a,d.iw=r,d.QY=o,d.RY=l,d},c.Ey=function(a,r){return a.hw==r.hw?a.iw==r.iw?0:a.iw<r.iw?-1:1:a.hw<r.hw?-1:1},c}(),x=function(){function c(){this.yT=[],this.zT=[],this.qp()}return c.kz=function(){return c.jK==null&&(c.jK=new c),c.jK},c.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},c.prototype.iD=function(a){try{var r=[];r=r.sort(N.Ey);for(var o=0;o<r.length;o++)a.push(r[o])}catch{}},c}();h.CY=x}(re||(re={})),function(h){var N=function(){function x(){}return x.prototype.yD=function(c){this.Fk=c},x.prototype.WM=function(c){this.Fb=c},x.prototype.xD=function(c){this.zo=c},x.CE=function(c){return!(c.B()||c.getType()!=1607&&c.getType()!=1736)},x.AE=function(c){return!(c.B()||c.getType()!=1607&&c.getType()!=1736||20>c.I())},x.BE=function(c){return!(c.B()||c.getType()!=1607&&c.getType()!=1736||20>c.I())},x}();h.Uk=N}(re||(re={})),function(h){h.$b=function(){function N(){}return N.TT=function(x){var c=new h.Da;return c.sx(x.es(),x.gs()),c.yj(x.es(),x.fs()),c.yj(x.ds(),x.fs()),c.yj(x.ds(),x.gs()),c},N.zh=function(x,c){return x===null?null:h.Hx.local().V(x,c,null)},N.jY=function(x,c){var a=h.Gh.local();return x=new h.Zc(x),a.V(x,c,null).next()},N.im=function(x,c,a){return h.kp.local().V(x,c,a,null)},N.ep=function(x,c,a){return h.Kx.local().V(x,c,a,null)},N.VX=function(x,c,a){var r=h.Kx.local();for(x=new h.Zc(x),c=new h.Zc(c),a=r.V(x,c,a,null),r=[];(c=a.next())!=null;)r.push(c);return r},N.Nb=function(x,c,a){return h.dj.local().V(3,x,c,a,null)},N.TP=function(x,c,a){return h.dj.local().V(4,x,c,a,null)},N.RS=function(x,c,a){var r=h.Xj.local();for(x=new h.Zc(x),c=new h.Zc(c),a=r.V(x,c,a,null),r=[];(c=a.next())!=null;)r.push(c);return r},N.QP=function(x,c,a){var r=h.kp.local();for(x=new h.Zc(x),c=new h.Zc(c),a=r.V(x,c,a,null),r=[];(c=a.next())!=null;)r.push(c);return r},N.Ea=function(x,c,a){return h.Xj.local().V(x,c,a,null)},N.QS=function(x,c,a){if((x=h.Xj.local().V(x,c,a,null,1))===null)return[];if(x.getType()===550){for(c=[],a=0;a<x.wa;a++)c.push(x.KR(a));return c}return x.getType()===33?[x]:[]},N.qY=function(x,c,a){return h.dj.local().V(2,x,c,a,null)},N.contains=function(x,c,a){return h.dj.local().V(1,x,c,a,null)},N.BP=function(x,c,a){return h.dj.local().V(16,x,c,a,null)},N.touches=function(x,c,a){return h.dj.local().V(8,x,c,a,null)},N.DU=function(x,c,a){return h.dj.local().V(32,x,c,a,null)},N.TS=function(x,c,a){return h.dj.local().V(1073741824,x,c,a,null)},N.yB=function(x,c,a,r){return h.zL.local().V(x,c,a,r,null)},N.tb=function(x,c,a,r){var o=null;if(a!=null){if(o=a.Hd(),r!=null&&o.Ec()!=r.Ec()&&o.od!=r.od)throw h.i.Xk()}else if(r!=null)throw h.i.N();return x=h.rL.local().V(x,c,null),o!==null&&r!==null&&(x=h.Tc.Nh(x,o,r)),x},N.clip=function(x,c,a){return h.kL.local().V(x,h.l.construct(c.es(),c.gs(),c.ds(),c.fs()),a,null)},N.dl=function(x,c,a){if(x==null||c==null)return null;for(x=h.mL.local().V(!0,x,c,a,null),c=[];(a=x.next())!=null;)a.B()||c.push(a);return c.slice(0)},N.MN=function(x,c,a,r,o,l,d,f){if(o===!0)return N.NN(x,c,a,r,l,d,f);if(o=a,c!=null){if(d=c.Hd(),r!=null&&d.Ec()!=r.Ec()){if(d.od!=r.od)throw h.i.Xk();o=[],h.Tc.XE(a,a.length,r,d,o)}}else if(r!=null)throw h.i.N();if(a=h.AC.local(),l){for(x=new h.Zc(x),c=a.V(x,c,o,l,null),x=[];(l=c.next())!=null;)x.push(l);l=x.slice(0)}else for(l=[],r=0;r<x.length;r++)l[r]=a.V(x[r],c,o[r],null);return l},N.NN=function(x,c,a,r,o,l,d){if(c===null||(r==null&&(r=c.Ec()!==4326?c.Hd():h.Tc.Zg(9001)),r.od!==0))throw h.i.N();if(h.Tc.XE(a,a.length,r,h.Tc.Zg(9001),a),r=h.FC.local(),o){for(x=new h.Zc(x),c=r.V(x,c,l,a,d,!1,o,null),a=[];(l=c.next())!=null;)a.push(l);o=a.slice(0)}else{o=[];for(var f=0;f<x.length;f++)o[f]=r.V(x[f],c,l,a[f],d,!1,null)}return o},N.buffer=function(x,c,a,r,o,l,d){var f=a;if(o===!1){if(c!=null){if(o=c.Hd(),r!=null&&o.Ec()!=r.Ec()){if(o.od!=r.od)throw h.i.Xk();f=h.Tc.Nh(a,r,o)}}else if(r!=null)throw h.i.N();x=h.AC.local().V(x,c,f,null)}else{if(c===null||(r==null&&(r=c.Ec()!==4326?c.Hd():h.Tc.Zg(9001)),r.od!==0))throw h.i.N();f=h.Tc.Nh(a,r,h.Tc.Zg(9001)),x=h.FC.local().V(x,c,l,f,d,!1,null)}return x},N.BU=function(x,c,a,r,o,l,d){if(c!=null){var f=c.Hd();if(d!=null&&f.Ec()!=d.Ec()){if(f.od!=d.od)throw h.i.Xk();a=h.Tc.Nh(a,d,f)}}else if(d!=null)throw h.i.N();for(x=new h.Zc(x),c=h.IC.local().V(x,c,a,r,o,l,null),a=[];(r=c.next())!=null;)a.push(r);return a.slice(0)},N.offset=function(x,c,a,r,o,l,d){if(c!=null){var f=c.Hd();if(d!=null&&f.Ec()!=d.Ec()){if(f.od!=d.od)throw h.i.Xk();a=h.Tc.Nh(a,d,f)}}else if(d!=null)throw h.i.N();return h.IC.local().V(x,c,a,r,o,l,null)},N.iP=function(x){return h.CC.local().V(x,null)},N.jP=function(x,c){var a=h.CC.local();for(x=new h.Zc(x),c=a.V(x,c,null),a=[];(x=c.next())!=null;)a.push(x);return a},N.nz=function(x,c,a){return h.Ix.local().nz(x,c,a)},N.oz=function(x,c){return h.Ix.local().oz(x,c)},N.pz=function(x,c,a,r){return h.Ix.local().pz(x,c,a,r)},N.eC=function(x,c){return h.Yl.local().V(x,c,!1,null)},N.dT=function(x,c){return h.Yl.local().rs(x,c,null)},N.QQ=function(x,c,a,r,o){var l=h.EC.local();if(c!=null){if(c=c.Hd(),o!=null&&c.Ec()!=o.Ec()){if(c.od!=o.od)throw h.i.Xk();a=h.Tc.Nh(a,o,c)}}else if(o!=null)throw h.i.N();return l.V(x,a,r,null)},N.Qr=function(x,c,a,r){var o=h.Xl.local();if(c!=null){if(c=c.Hd(),r!=null&&c.Ec()!=r.Ec()){if(c.od!=r.od)throw h.i.Xk();a=h.Tc.Nh(a,r,c)}}else if(r!=null)throw h.i.N();return o.V(x,a,null)},N.Wy=function(x,c,a,r,o){o===void 0&&(o=0);var l=h.tL.local();if(o==4||o!==0)throw h.i.Ie();if(r!==null){if(r.od!==0)throw h.i.N("Unit must be a linear unit type");a=h.Tc.Nh(a,r,h.Tc.Zg(9001))}return l.V(x,a,c,o,null)},N.WQ=function(x,c,a,r){if(x===null)return 0;if(r==4||r!==0)throw h.i.Ie();if(x.getType()==197)x=N.TT(x);else if(x.getType()!=1736)return 0;if(r=h.cb.sc(c),x=h.cb.zh(x,c,r),x=h.UK.XQ([x])[0],a!==null){if(a.od!==2)throw h.i.N("Unit must be a area unit type");x=h.Tc.Nh(x,h.Tc.Zg(109404),a)}return x},N.ZQ=function(x,c,a,r){if(x=h.vL.local().V(x,c,r,null),a!==null){if(a.od!==0)throw h.i.N("Unit must be a linear unit type");x=h.Tc.Nh(x,h.Tc.Zg(9001),a)}return x},N.JU=function(x,c,a){if(x===null)return 0;var r=null;if(c!=null){if((r=c.Hd()).od==0&&(r=h.Tc.aG(r))==null&&a!==null)throw h.i.N();if(a!=null&&r.Ec()!=a.Ec()&&r.od!=a.od)throw h.i.Xk()}else if(a!=null)throw h.i.N();return x.getType()==1736||x.getType()==197?(x=x.Ke(),a!==null?h.Tc.Nh(x,r,a):x):0},N.KU=function(x,c,a){if(x===null||x.B()||1>x.Db())return 0;var r=null;if(c!=null){if(r=c.Hd(),a!=null&&r.Ec()!=a.Ec()&&r.od!=a.od)throw h.i.Xk()}else if(a!=null)throw h.i.N();x.getType()==1736||x.getType()==197?c=x.mg():h.aa.yd(x.getType())?(c=new h.Ta(x.description)).oc(x,!0):c=x,x=0,c=c.Ga();for(var o=new h.h,l=new h.h;c.$a();)for(;c.Ha();){var d=c.ha();d.Yp(o),d.Tr(l),x+=h.h.tb(o,l)}return r!==null&&a!==null&&(x=h.Tc.Nh(x,r,a)),x},N.fP=function(x){return x.points!==void 0?N.mS(x,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM):x.rings!==void 0?N.lG(x.rings,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM,"P"):x.paths!==void 0?N.lG(x.paths,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM,"L"):x.x!==void 0?N.nS(x):x.xmin!==void 0?N.lS(x):null},N.nS=function(x){if(x.x==null||x.x=="NaN")return new h.Sa;var c=new h.Sa(x.x,x.y);return x.z!==void 0&&x.z!==null&&c.wX(x.z),x.m!==void 0&&x.m!==null&&c.hX(x.m),c},N.lS=function(x){if(x.xmin==null||x.xmin=="NaN")return new h.Fh;var c=new h.Fh(x.xmin,x.ymin,x.xmax,x.ymax);return x.zmin!==void 0&&x.zmin!==null&&c.setInterval(1,0,x.zmin,x.zmax),x.mmin!==void 0&&x.mmin!==null&&c.setInterval(2,0,x.mmin,x.mmax),c},N.mS=function(x,c,a){var r=0,o=new h.de,l=3*x.points.length;l%2!=0&&l++,2>l&&(l=2);var d=h.O.truncate(3*x.points.length/2);4>d?d=4:16>d&&(d=16),l=h.Yc.Dn(l,0);var f=h.Yc.Dn(d);d=h.Yc.Dn(d);for(var m=0;m<x.points.length;m++)l.write(2*m,x.points[m][0]),l.write(2*m+1,x.points[m][1]),f.write(m,c||a?x.points[m][2]:NaN),d.write(m,a&&c?x.points[m][3]:NaN),r++;return r!=0&&(o.resize(r),o.hn(0,l)),c&&(o.re(1),o.hn(1,f)),a&&(o.re(2),o.hn(2,c==0?f:d)),o.Pc(16777215),o},N.lG=function(x,c,a,r){var o=0,l=2;if(r=="P"){var d=new h.Da;o=1,l=3}else d=new h.Ta;for(var f=h.Yc.Oh(0),m=h.Yc.Mr(0),b=0,_=0,$=[],C=[],P=0;P<x.length;P++){var L=x[P].length;if($[P]=!1,r==="P"&&x[P][0][0]===x[P][x[P].length-1][0]&&x[P][0][1]===x[P][x[P].length-1][1]){var V=a==0||x[P][0][3]===x[P][x[P].length-1][3]||x[P][0][3]===void 0&&x[P][x[P].length-1][3]===void 0;(c==0||x[P][0][2]===x[P][x[P].length-1][2]||x[P][0][2]===void 0&&x[P][x[P].length-1][2]===void 0)&&V&&($[P]=!0,--L)}L>=l?(C[P]=!1,_+=1,f.add(b),m.add(o),b+=L):C[P]=!0}for((r=3*b)%2!=0&&r++,2>r&&(r=2),4>(P=h.O.truncate(3*b/2))?P=4:16>P&&(P=16),r=h.Yc.Dn(r,0),o=h.Yc.Dn(P),l=h.Yc.Dn(P),P=L=0;P<x.length;P++)if(C[P]===!1)for(V=0;V<x[P].length;V++){var U=!1;V===x[P].length-1&&$[P]===!0&&(U=!0),U||(r.write(2*L,x[P][V][0]),r.write(2*L+1,x[P][V][1]),o.write(L,c||a?x[P][V][2]:NaN),l.write(L,a&&c?x[P][V][3]:NaN),L++)}return b!=0&&(x=d,f.resize(_),m.resize(_),0<b&&(f.add(b),m.add(0)),x.hn(0,r),x.PJ(m),x.QJ(f)),c&&(d.re(1),d.hn(1,o)),a&&(d.re(2),d.hn(2,c==0?o:l)),d.Pc(16777215),d},N}()}(re||(re={})),function(h){h.Ex=function(){function N(){}return N.br=function(x){var c,a=0,r=x.length,o=x[0];for(c=0;c<r-1;c++){var l=x[c+1];a+=(l[0]-o[0])*(l[1]+o[1]),o=l}return 0<=a},N.rotate=function(x,c,a){c=c*Math.PI/180;var r=Math.cos(c),o=Math.sin(c);if(x.paths!==void 0){c={paths:[]};for(var l=0;l<x.paths.length;l++){for(var d=x.paths[l],f=[],m=0;m<d.length;m++){var b=d[m].slice(0);f.push(b);var _=r*(d[m][0]-a.x)-o*(d[m][1]-a.y)+a.x,$=o*(d[m][0]-a.x)+r*(d[m][1]-a.y)+a.y;b[0]=_,b[1]=$}c.paths.push(f),x.hasZ!==void 0&&(c.hasZ=x.hasZ),x.hasM!==void 0&&(c.hasM=x.hasM)}return c}if(x.rings!==void 0){for(c={rings:[]},l=0;l<x.rings.length;l++){d=x.rings[l],f=[];var C=N.br(d);for(m=0;m<d.length;m++)b=d[m].slice(0),f.push(b),_=r*(d[m][0]-a.x)-o*(d[m][1]-a.y)+a.x,$=o*(d[m][0]-a.x)+r*(d[m][1]-a.y)+a.y,b[0]=_,b[1]=$;N.br(f)!==C&&f.reverse(),c.rings.push(f),x.hasZ!==void 0&&(c.hasZ=x.hasZ),x.hasM!==void 0&&(c.hasM=x.hasM)}return c}if(x.x!==void 0)return c={x:r*(x.x-a.x)-o*(x.y-a.y)+a.x,y:o*(x.x-a.x)+r*(x.y-a.y)+a.y},x.z!==void 0&&(c.z=x.z),x.m!==void 0&&(c.m=x.m),x.hasZ!==void 0&&(c.hasZ=x.hasZ),x.hasM!==void 0&&(c.hasM=x.hasM),c;if(x.points!==void 0){for(c={points:[]},l=x.points,m=0;m<l.length;m++)(d=l[m].slice(0))[0]=r*(l[m][0]-a.x)-o*(l[m][1]-a.y)+a.x,d[1]=o*(l[m][0]-a.x)+r*(l[m][1]-a.y)+a.y,c.points.push(d);return x.hasZ!==void 0&&(c.hasZ=x.hasZ),x.hasM!==void 0&&(c.hasM=x.hasM),c}return null},N.JQ=function(x,c){if(x.paths!==void 0){for(var a={paths:[]},r=0;r<x.paths.length;r++){for(var o=x.paths[r],l=[],d=0;d<o.length;d++){var f=o[d].slice(0);l.push(f);var m=c.x-o[d][0];f[0]=o[d][0]+2*m}a.paths.push(l)}return x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a}if(x.rings!==void 0){for(a={rings:[]},r=0;r<x.rings.length;r++){o=x.rings[r];var b=N.br(o);for(l=[],d=0;d<o.length;d++)f=o[d].slice(0),l.push(f),m=c.x-o[d][0],f[0]=o[d][0]+2*m;N.br(l)!==b&&l.reverse(),a.rings.push(l)}return x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a}if(x.x!==void 0)return m=c.x-x.x,a={x:x.x+2*m,y:x.y},x.z!==void 0&&(a.z=x.z),x.m!==void 0&&(a.m=x.m),x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a;if(x.points!==void 0){for(a={points:[]},r=x.points,d=0;d<r.length;d++)o=r[d].slice(0),m=c.x-o[0],o[0]+=2*m,a.points.push(o);return x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a}return x.xmin!==void 0?(a={v:x.xmin,G:x.ymin,C:x.xmax,H:x.ymax},x.zmin!==void 0&&(a.zmin=x.zmin,a.zmax=x.zmax),x.mmin!==void 0&&(a.mmin=x.mmin,a.mmax=x.mmax),m=c.x-x.xmin,a.xmax=x.xmin+2*m,m=c.x-x.xmax,a.xmin=x.xmax+2*m,x.zmin!==void 0&&(a.zmin=x.zmin),x.zmax!==void 0&&(a.zmax=x.zmax),x.mmin!==void 0&&(a.mmin=x.mmin),x.mmax!==void 0&&(a.mmax=x.mmax),x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a):null},N.KQ=function(x,c){if(x.paths!==void 0){for(var a={paths:[]},r=0;r<x.paths.length;r++){for(var o=x.paths[r],l=[],d=0;d<o.length;d++){var f=o[d].slice(0);l.push(f);var m=c.y-o[d][1];f[1]=o[d][1]+2*m}a.paths.push(l)}return x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a}if(x.rings!==void 0){for(a={rings:[]},r=0;r<x.rings.length;r++){o=x.rings[r];var b=N.br(o);for(l=[],d=0;d<o.length;d++)f=o[d].slice(0),l.push(f),m=c.y-o[d][1],f[1]=o[d][1]+2*m;N.br(l)!==b&&l.reverse(),a.rings.push(l)}return x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a}if(x.x!==void 0)return m=c.y-x.y,a={y:x.y+2*m,x:x.x},x.z!==void 0&&(a.z=x.z),x.m!==void 0&&(a.m=x.m),x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a;if(x.points!==void 0){for(a={points:[]},r=x.points,d=0;d<r.length;d++)o=r[d].slice(0),m=c.y-o[1],o[1]+=2*m,a.points.push(o);return x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a}return x.xmin!==void 0?(a={v:x.xmin,G:x.ymin,C:x.xmax,H:x.ymax},x.zmin!==void 0&&(a.zmin=x.zmin,a.zmax=x.zmax),x.mmin!==void 0&&(a.mmin=x.mmin,a.mmax=x.mmax),m=c.y-x.ymin,a.ymax=x.ymin+2*m,m=c.y-x.ymax,a.ymin=x.ymax+2*m,x.zmin!==void 0&&(a.zmin=x.zmin),x.zmax!==void 0&&(a.zmax=x.zmax),x.mmin!==void 0&&(a.mmin=x.mmin),x.mmax!==void 0&&(a.mmax=x.mmax),x.hasZ!==void 0&&(a.hasZ=x.hasZ),x.hasM!==void 0&&(a.hasM=x.hasM),a):null},N}()}(re||(re={})),function(h){h.ZK=function(){function N(){}return N.Ig=function(x,c){switch(c==null&&(c=h.ee.og()),x){case 33:return new h.Sa(c);case 322:return new h.yb(c);case 197:return new h.Fh(c);case 550:return new h.de(c);case 1607:return new h.Ta(c);case 1736:return new h.Da(c);default:throw h.i.fa("invalid argument.")}},N}()}(re||(re={})),function(h){var N=function(){function x(c,a){this.Te=h.ia.qf(c,-1),this.ua=new h.au,this.wl=a}return x.prototype.AW=function(c){this.ua.At(Math.min(this.Te.size,c)),this.ua.fn(c)},x.prototype.addElement=function(c,a){if(a===void 0)return this.eN(c);a=h.O.truncate(a%this.Te.size);var r=this.Te.get(a);return r==-1&&(r=this.ua.Ph(),this.Te.set(a,r)),this.ua.addElement(r,c)},x.prototype.eN=function(c){var a=this.wl.jz(c);a=h.O.truncate(a%this.Te.size);var r=this.Te.get(a);return r==-1&&(r=this.ua.Ph(),this.Te.set(a,r)),this.ua.addElement(r,c)},x.prototype.jd=function(c,a){if(a===void 0)this.KP(c);else{a=h.O.truncate(a%this.Te.size);var r=this.Te.get(a);if(r==-1)throw h.i.N();for(var o=this.ua.rc(r),l=-1;o!=-1;){var d=this.ua.lb(o);this.ua.ja(o)==c?(this.ua.jd(r,l,o),this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(a,-1))):l=o,o=d}}},x.prototype.KP=function(c){var a=this.wl.jz(c);a=h.O.truncate(a%this.Te.size);var r=this.Te.get(a);if(r==-1)throw h.i.N();for(var o=this.ua.rc(r),l=-1;o!=-1;){var d=this.ua.lb(o);this.ua.ja(o)==c?(this.ua.jd(r,l,o),this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(a,-1))):l=o,o=d}},x.prototype.rR=function(c){return c=h.O.truncate(c%this.Te.size),(c=this.Te.get(c))==-1?-1:this.ua.rc(c)},x.prototype.ER=function(c){return this.ua.lb(c)},x.prototype.vd=function(c){var a=this.wl.jz(this.ja(c));a=h.O.truncate(a%this.Te.size);var r=this.Te.get(a);if(r==-1)throw h.i.N();for(var o=this.ua.rc(r),l=-1;o!=-1;){if(o==c)return this.ua.jd(r,l,o),void(this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(a,-1)));l=o,o=this.ua.lb(o)}throw h.i.N()},x.prototype.ja=function(c){return this.ua.ja(c)},x.prototype.clear=function(){this.Te=h.ia.qf(this.Te.size,-1),this.ua.clear()},x.prototype.size=function(){return this.ua.TF()},x}();h.dL=N}(re||(re={})),function(h){var N=function(){function x(){this.Li=new h.$c(3),this.ua=new h.$c(6),this.sT=!1,this.je=-1}return x.prototype.fl=function(c){this.Li.jd(c)},x.prototype.Pw=function(){return this.Li.Ce()},x.prototype.bv=function(c){this.ua.jd(c)},x.prototype.$A=function(){return this.ua.Ce()},x.prototype.WB=function(c,a){this.Li.S(c,1,a)},x.prototype.ex=function(c,a){this.Li.S(c,2,a)},x.prototype.gX=function(c,a){this.Li.S(c,3,a)},x.prototype.UB=function(c,a){this.ua.S(c,4,a)},x.prototype.jX=function(c,a){this.ua.S(c,3,a)},x.prototype.TJ=function(c,a){this.ua.S(c,2,a)},x.prototype.Ph=function(c){var a=this.$A();return this.ua.S(a,3,this.je),this.ua.S(a,4,0),this.ua.S(a,5,c),this.je!=-1&&this.TJ(this.je,a),this.je=a},x.prototype.bh=function(c){this.LE(c);var a=this.ua.T(c,2),r=this.ua.T(c,3);return a!=-1?this.jX(a,r):this.je=r,r!=-1&&this.TJ(r,a),this.bv(c),r},x.prototype.At=function(c){this.ua.De(c)},x.prototype.PF=function(c){return this.ua.T(c,5)},x.prototype.fX=function(c,a){this.ua.S(c,5,a)},x.prototype.addElement=function(c,a){return this.tS(c,a)},x.prototype.tS=function(c,a){var r=this.Pw();this.ex(r,-1),this.ua.T(c,0)==-1&&this.ua.S(c,0,r);var o=this.ua.T(c,1);return this.WB(r,o),o!=-1&&this.ex(o,r),this.ua.S(c,1,r),this.setData(r,a),this.UB(c,this.bs(c)+1),this.sT&&this.gX(r,c),r},x.prototype.jd=function(c,a){var r=this.we(a),o=this.lb(a);return r!=-1?this.ex(r,o):this.ua.S(c,0,o),o!=-1?this.WB(o,r):this.ua.S(c,1,r),this.fl(a),this.UB(c,this.bs(c)-1),o},x.prototype.fn=function(c){this.Li.De(c)},x.prototype.getData=function(c){return this.Li.T(c,0)},x.prototype.setData=function(c,a){this.Li.S(c,0,a)},x.prototype.lb=function(c){return this.Li.T(c,2)},x.prototype.we=function(c){return this.Li.T(c,1)},x.prototype.rc=function(c){return this.ua.T(c,0)},x.prototype.Fc=function(c){return this.ua.T(c,1)},x.prototype.clear=function(){for(var c=this.je;c!=-1;)c=this.bh(c)},x.prototype.LE=function(c){for(var a=this.Fc(c);a!=-1;){var r=a;a=this.we(r),this.fl(r)}this.ua.S(c,0,-1),this.ua.S(c,1,-1),this.UB(c,0)},x.prototype.B=function(){return this.Li.size==0},x.prototype.TF=function(){return this.Li.size},x.prototype.bs=function(c){return this.ua.T(c,4)},x.prototype.qz=function(c){return this.ua.T(c,3)},x}();h.jp=N}(re||(re={})),function(h){var N=function(){function x(c){c===void 0?(this.ug=new h.$c(2),this.ua=new h.$c(4),this.je=-1,this.Qv=!0):(this.ug=new h.$c(2),this.ua=new h.$c(c?4:2),this.je=-1,this.Qv=c)}return x.prototype.fl=function(c){this.ug.jd(c)},x.prototype.Pw=function(){return this.ug.Ce()},x.prototype.bv=function(c){this.ua.jd(c)},x.prototype.$A=function(){return this.ua.Ce()},x.prototype.Ph=function(){var c=this.$A();return this.Qv&&(this.ua.S(c,3,this.je),this.je!=-1&&this.ua.S(this.je,2,c),this.je=c),c},x.prototype.bh=function(c){for(var a=this.rc(c);a!=-1;){var r=a;a=this.lb(a),this.fl(r)}this.Qv&&(a=this.ua.T(c,2),r=this.ua.T(c,3),a!=-1?this.ua.S(a,3,r):this.je=r,r!=-1&&this.ua.S(r,2,a)),this.bv(c)},x.prototype.At=function(c){this.ua.De(c)},x.prototype.addElement=function(c,a){var r=this.ua.T(c,1),o=this.Pw();return r!=-1?this.ug.S(r,1,o):this.ua.S(c,0,o),this.ua.S(c,1,o),this.ug.S(o,0,a),o},x.prototype.fn=function(c){this.ug.De(c)},x.prototype.jd=function(c,a,r){a!=-1?(this.ug.S(a,1,this.ug.T(r,1)),this.ua.T(c,1)==r&&this.ua.S(c,1,a)):(this.ua.S(c,0,this.ug.T(r,1)),this.ua.T(c,1)==r&&this.ua.S(c,1,-1)),this.fl(r)},x.prototype.Hy=function(c,a){var r=this.ua.T(c,1),o=this.ua.T(a,0);o!=-1&&(r!=-1?this.ug.S(r,1,o):this.ua.S(c,0,o),this.ua.S(c,1,this.ua.T(a,1))),this.Qv&&(c=this.ua.T(a,2),r=this.ua.T(a,3),c!=-1?this.ua.S(c,3,r):this.je=r,r!=-1&&this.ua.S(r,2,c)),this.bv(a)},x.prototype.ja=function(c){return this.ug.T(c,0)},x.prototype.Sj=function(c,a){this.ug.S(c,0,a)},x.prototype.lb=function(c){return this.ug.T(c,1)},x.prototype.rc=function(c){return this.ua.T(c,0)},x.prototype.Jn=function(c){return this.ja(this.rc(c))},x.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},x.prototype.B=function(){return this.ug.size==0},x.prototype.TF=function(){return this.ug.size},x.prototype.qz=function(c){return this.ua.T(c,3)},x}();h.au=N}(re||(re={})),function(h){h.ta=function(){function N(){}return N.Wd=function(x,c,a){return c=c.xr(),x=x!=null&&x.Xd!==void 0?x.Xd(0):0,a&&(c*=4,x*=1.1),Math.max(x,c)},N.Er=function(x){return 2*Math.sqrt(2)*x},N.rN=function(x){return Math.sqrt(2)*x},N.kj=function(x,c,a){var r=new h.l;return c.A(r),N.Wd(x,r,a)},N.wE=function(x,c,a){return c=c.Tg(1,0).xr(),x=x!=null?x.Xd(1):0,a&&(c*=4,x*=1.1),Math.max(x,c)},N.mv=function(x,c){var a=new h.l;return x.xc(a),x=new h.l,c.xc(x),a.Zb(x),a},N.YN=function(x){var c=new h.l;if(x.xc(c),c.B())return null;var a=new h.du(c,8),r=-1,o=new h.l,l=!1;do for(var d=0,f=x.da();d<f;d++){if(x.Rj(d,o),(r=a.Jz(d,o,r))==-1){if(l)throw h.i.fa("internal error");x.yp(c,!1),l=!0,a.reset(c,8);break}l=!1}while(l);return a},N.nE=function(x){var c=new h.l;x.xc(c);for(var a=new h.du(c,8),r=-1,o=x.Ga(),l=new h.l,d=!1;o.$a();)for(;o.Ha();){var f=o.ha(),m=o.wb();if(f.A(l),(r=a.Jz(m,l,r))==-1){if(d)throw h.i.Qa();x.yp(c,!1),d=!0,a.reset(c,8),o.Zi();break}}return a},N.jj=function(x,c){var a=new h.l;x.xc(a);for(var r=new h.du(a,8),o=-1,l=new h.l,d=x.Ga(),f=!1;d.$a();)for(;d.Ha();){var m=d.ha(),b=d.wb();if(m.A(l),l.isIntersecting(c)&&(o=r.Jz(b,l,o))==-1){if(f)throw h.i.fa("internal error.");x.yp(a,!1),f=!0,r.reset(a,8),d.Zi();break}}return r},N.oE=function(x,c){for(var a=new h.du(c,8),r=new h.h,o=!1,l=new h.l,d=0;d<x.I();d++)if(x.D(d,r),c.contains(r)&&(l.K(r),a.vj(d,l)==-1)){if(o)throw h.i.Qa();o=!0,d=new h.l,x.yp(d,!1),a.reset(d,8),d=-1}return a},N.lR=function(x,c,a){var r=new h.l,o=new h.l;x.xc(r),c.xc(o),r.W(a,a),o.W(a,a);var l=new h.l;l.K(r),l.Ea(o),x=x.Ga(),c=c.Ga();var d=new h.xC;d.aC(a);var f=!1;for(d.pK();x.$a();)for(;x.Ha();)x.ha().A(r),r.isIntersecting(l)&&(f=!0,(a=new h.l).K(r),d.JD(x.wb(),a));if(d.iF(),!f)return null;for(r=!1,d.oK();c.$a();)for(;c.Ha();)c.ha().A(o),o.isIntersecting(l)&&(r=!0,(a=new h.l).K(o),d.ED(c.wb(),a));return d.hF(),r?d:null},N.mR=function(x,c,a,r,o){var l=x.getType(),d=c.getType(),f=new h.l,m=new h.l;x.xc(f),c.xc(m),f.W(a,a),m.W(a,a);var b=new h.l;b.K(f),b.Ea(m);var _=new h.xC;_.aC(a);var $=!1;_.pK();var C=0;for(a=x.da();C<a;C++)r&&l==1736&&!x.Ev(C)||(x.Rj(C,f),f.isIntersecting(b)&&($=!0,_.JD(C,f)));if(_.iF(),!$)return null;for(x=!1,_.oK(),r=0,a=c.da();r<a;r++)o&&d==1736&&!c.Ev(r)||(c.Rj(r,m),m.isIntersecting(b)&&(x=!0,_.ED(r,m)));return _.hF(),x?_:null},N.Ru=function(x,c,a){if(x!=c)for(var r=0;r<a;r++)x[r]==null?x[r]=h.h.al(c[r]):x[r].L(c[r])},N.Jy=function(x,c,a,r){var o=0;for(r+=0;o<r;a++,o++)x[o]==null&&(x[o]=[0,0]),x[o][0]=c[a].x,x[o][1]=c[a].y},N.Iy=function(x,c,a,r){var o=c,l=0;for(c=r+c;o<c;l++,o++)x[o]==null?x[o]=h.h.construct(a[l][0],a[l][1]):x[o].ma(a[l][0],a[l][1])},N.kP=function(x,c,a){if(x!=c)for(var r=0;r<a;r++)x[r]==null?x[r]=new h.Sa(c[r]):c[r].copyTo(x[r])},N.vE=function(x,c,a,r){var o=0;return x!=null&&(o=x.Xd(0),r&&!a||x==null||(o+=1.01*x.vz(0))),a&&(c*=4,o*=1.01),Math.max(o,c)},N.ty=function(x,c,a){return N.vE(x,c.xr(),a,!1)},N.gO=function(x,c){var a=new h.l;return c.A(a),N.ty(x,a,!0)},N.uy=function(x,c){return N.vE(x,c.xr(),!1,!0)},N.Hu=function(x,c){var a=new h.l;return c.A(a),N.uy(x,a)},N.AG=function(x,c,a,r){r*=r;var o=new h.h;if(o.uc(x,c),(x=new h.h).uc(a,c),c=o.Sk(),a=x.Sk(),c<=r&&a<=r)return!0;var l=h.lc.ox(o.wi(x));return(l<=r*c||l<=r*a)&&0<=o.Qh(x)},N.dK=function(x,c,a,r){for(var o=0;o<c;o++){var l=x[o].y,d=h.O.Rk(l,a,r);d!=l&&(x[o].y=d)}},N}()}(re||(re={})),function(h){var N,x,c=function(){function l(d){this.Ya=d}return l.prototype.compare=function(d,f,m){d=d.ja(m),m=this.Ya.nk(f);var b=this.Ya.nk(d);return m<b?-1:m==b?o.gq(f)&&o.Gv(d)?-1:o.gq(d)&&o.Gv(f)?1:0:1},l}(),a=function(){function l(d){this.Ya=d}return l.prototype.nr=function(d,f,m){this.Ya.GX(m,d,f)},l.prototype.$p=function(d){return this.Ya.nk(d)},l}();(x=N||(N={}))[x.initialize=0]="initialize",x[x.pIn=1]="pIn",x[x.pL=2]="pL",x[x.pR=3]="pR",x[x.pT=4]="pT",x[x.right=5]="right",x[x.left=6]="left",x[x.all=7]="all";var r=function(){function l(){this.Ya=null,this.Qi=new h.Nc,this.hi=new h.ia(0),this.sg=[0,0]}return l.prototype.Xi=function(d,f){this.Qi.oa=d.oa-f,this.Qi.va=d.va+f,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.EB=function(d,f,m){if(d>f)throw h.i.N();this.Qi.oa=d-m,this.Qi.va=f+m,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.Uo=function(d,f){this.Qi.oa=d-f,this.Qi.va=d+f,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.next=function(){if(!this.Ya.lq)throw h.i.Hb();if(0>this.he)return-1;for(var d=!0;d;)switch(this.sg[this.he]){case 1:d=this.FU();break;case 2:d=this.GU();break;case 3:d=this.HU();break;case 4:d=this.IU();break;case 5:d=this.GW();break;case 6:d=this.kT();break;case 7:d=this.tN();break;case 0:d=this.Gz();break;default:throw h.i.Qa()}return this.Og!=-1?this.Mp()>>1:-1},l.construct=function(d){var f=new l;return f.Ya=d,f.hi.Jb(20),f.he=-1,f},l.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,this.Ya.me!=null&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},l.prototype.FU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.Og=this.he=-1,!1;var d=this.Ya.Np(this.Lc);return this.Qi.va<d?(d=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=6),!0):d<this.Qi.oa?(d=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),d!=-1&&(this.ei=this.Ya.Zr(d),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,d=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),!0)},l.prototype.GU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var d=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),d!=-1&&(this.ei=this.Ya.Zr(d),this.sg[++this.he]=5),!0}return d=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),(d=this.Ya.lk(this.Lc))!=-1&&this.hi.add(d),!0},l.prototype.HU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var d=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=6),!0}return d=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),(d=this.Ya.qj(this.Lc))!=-1&&this.hi.add(d),!0},l.prototype.IU=function(){if(this.hi.size==0)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var d=this.Ya.mk(this.Lc);return d!=-1&&(this.ei=this.Ya.kl(d),this.sg[++this.he]=7),this.Ya.qj(this.Lc)!=-1&&this.hi.add(this.Ya.qj(this.Lc)),this.Ya.lk(this.Lc)!=-1&&this.hi.add(this.Ya.lk(this.Lc)),!0},l.prototype.kT=function(){return this.Og=this.ei,this.Og!=-1&&o.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},l.prototype.GW=function(){return this.Og=this.ei,this.Og!=-1&&o.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},l.prototype.tN=function(){return this.Og=this.ei,this.Og!=-1&&o.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},l.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},l.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},l.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},l}();h.EY=r;var o=function(){function l(d){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=d,this.lq=this.Sv=!1}return l.prototype.kr=function(){this.Nk(!0)},l.prototype.Br=function(d,f){if(!this.Sv)throw h.i.Hb();this.Fj.push(new h.Nc(d,f))},l.prototype.Fp=function(){if(!this.Sv)throw h.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},l.prototype.vj=function(d){if(!this.Sf||!this.lq)throw h.i.N("invalid call");if(this.kf==-1){var f=this.Fj.length;if(this.iA){var m=new h.ia(0);m.Jb(2*f),this.bJ(m),this.$h.Jb(2*f),this.$h.resize(0),this.aJ(m),this.Km.resize(f,-1),this.Km.Wj(-1,0,f),this.iA=!1}else this.Km.Wj(-1,0,f);this.kf=this.Tu()}f=this.pG(d<<1,this.kf),m=this.$f.addElement(1+(d<<1),this.xz(f)),this.VJ(f,m),this.Km.set(d,f),this.Zv++},l.prototype.remove=function(d){if(!this.Sf||!this.lq)throw h.i.fa("invalid call");var f=this.Km.get(d);if(f==-1)throw h.i.N("the interval does not exist in the interval tree");this.Km.set(d,-1),this.Zv--;var m=this.xz(f),b=this.$f.ZR(m);this.$f.vd(this.wR(f),m),this.$f.vd(this.TR(f),m),(d=this.$f.size(m))==0&&(this.$f.MP(m),this.ZJ(b,-1)),this.Ej.jd(f),m=this.UF(b);var _=this.qj(b),$=this.lk(b);for(f=0;!(0<d||b==this.kf||_!=-1&&$!=-1);)b==this.qj(m)?_!=-1?(this.Ok(m,_),this.Uj(_,m),this.Ok(b,-1)):$!=-1?(this.Ok(m,$),this.Uj($,m),this.Qk(b,-1)):this.Ok(m,-1):_!=-1?(this.Qk(m,_),this.Uj(_,m),this.Ok(b,-1)):$!=-1?(this.Qk(m,$),this.Uj($,m),this.Qk(b,-1)):this.Qk(m,-1),this.Uj(b,-1),f++,b=m,d=(m=this.mk(b))!=-1?this.$f.size(m):0,_=this.qj(b),$=this.lk(b),m=this.UF(b)},l.prototype.reset=function(){if(!this.Sf||!this.lq)throw h.i.N("invalid call");this.Nk(!1)},l.prototype.size=function(){return this.Zv},l.prototype.getIterator=function(){return r.construct(this)},l.prototype.bJ=function(d){for(var f=this.Fj.length,m=0;m<2*f;m++)d.add(m);this.HX(d,2*f)},l.prototype.aJ=function(d){for(var f=NaN,m=0;m<d.size;m++){var b=d.get(m),_=this.nk(b);_!=f&&(this.$h.add(b),f=_)}},l.prototype.vS=function(){var d=this.Fj.length,f=new h.ia(0);f.Jb(2*d),this.bJ(f),this.$h.Jb(2*d),this.$h.resize(0),this.aJ(f),this.Ej.De(d),this.Ti.fn(2*d);var m=h.Yc.Oh(d);for(m.Wj(-1,0,d),this.kf=this.Tu(),d=0;d<f.size;d++){var b=f.get(d),_=m.get(b>>1);_!=-1?this.VJ(_,this.Ti.addElement(this.xz(_),b)):(_=this.pG(b,this.kf),m.set(b>>1,_))}},l.prototype.pG=function(d,f){var m=f,b=f,_=-1,$=0,C=this.$h.size-1,P=0,L=d>>1,V=NaN,U=NaN,Y=!0,X=this.DR(L);for(L=this.AR(L);Y;){$<C?(P=$+h.O.truncate((C-$)/2),this.gz(m)==-1&&this.FJ(m,this.$h.get(P),this.$h.get(P+1))):this.gz(m)==-1&&this.FJ(m,this.$h.get($),this.$h.get($));var Z=this.Np(m);if(L<Z)f!=-1&&(f==m?(b=m,V=Z,U=(f=this.qj(m))!=-1?this.Np(f):NaN):U>Z&&(Z<V?this.Ok(b,m):this.Qk(b,m),this.Qk(m,f),this.Sf&&(this.Uj(m,b),this.Uj(f,m)),b=m,V=Z,f=-1,U=NaN)),(C=this.xR(m))==-1&&(C=this.Tu(),this.dX(m,C)),m=C,C=P;else if(X>Z)f!=-1&&(f==m?(b=m,V=Z,U=(f=this.lk(m))!=-1?this.Np(f):NaN):U<Z&&(Z<V?this.Ok(b,m):this.Qk(b,m),this.Ok(m,f),this.Sf&&(this.Uj(m,b),this.Uj(f,m)),b=m,V=Z,f=-1,U=NaN)),($=this.UR(m))==-1&&($=this.Tu(),this.oX(m,$)),m=$,$=P+1;else{(Y=this.mk(m))==-1&&(Y=this.zP(m),this.ZJ(m,Y));var ne=this.fN(Y,d);_=this.xP(),this.qX(_,Y),this.cX(_,ne),m!=f&&(Z<V?this.Ok(b,m):this.Qk(b,m),this.Sf&&this.Uj(m,b),f!=-1&&(U<Z?this.Ok(m,f):this.Qk(m,f),this.Sf&&this.Uj(f,m))),Y=!1}}return _},l.prototype.Tu=function(){return this.me.Ce()},l.prototype.zP=function(d){return this.Sf?this.$f.Pr(d):this.Ti.Ph(d)},l.prototype.xP=function(){return this.Ej.Ce()},l.prototype.Nk=function(d){d?(this.Sv=this.iA=!0,this.lq=!1,this.$h==null?this.$h=h.Yc.Oh(0):this.$h.resize(0),this.Fj==null?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?this.Km==null?(this.Km=h.Yc.Oh(0),this.$f=new h.Yj,this.$f.Vo(new c(this))):this.$f.clear():this.Ti==null?this.Ti=new h.jp:this.Ti.clear(),this.me==null?(this.Ej=new h.$c(3),this.me=new h.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},l.prototype.FJ=function(d,f,m){this.XW(d,f),this.YW(d,m)},l.prototype.Np=function(d){var f=this.gz(d);return f==-1?NaN:(f=this.nk(f))==(d=this.nk(this.gR(d)))?f:.5*(f+d)},l.prototype.XW=function(d,f){this.me.S(d,0,f)},l.prototype.YW=function(d,f){this.me.S(d,1,f)},l.prototype.dX=function(d,f){this.me.S(d,3,f)},l.prototype.oX=function(d,f){this.me.S(d,4,f)},l.prototype.ZJ=function(d,f){this.me.S(d,2,f)},l.prototype.Ok=function(d,f){this.me.S(d,5,f)},l.prototype.Qk=function(d,f){this.me.S(d,6,f)},l.prototype.Uj=function(d,f){this.me.S(d,7,f)},l.prototype.qX=function(d,f){this.Ej.S(d,0,f)},l.prototype.fN=function(d,f){return this.Sf?this.$f.addElement(f,d):this.Ti.addElement(d,f)},l.prototype.cX=function(d,f){this.Ej.S(d,1,f)},l.prototype.VJ=function(d,f){this.Ej.S(d,2,f)},l.prototype.kl=function(d){return this.Sf?this.$f.rc(d):this.Ti.rc(d)},l.prototype.Zr=function(d){return this.Sf?this.$f.Fc(d):this.Ti.Fc(d)},l.gq=function(d){return!(1&d)},l.Gv=function(d){return!(1&~d)},l.prototype.gz=function(d){return this.me.T(d,0)},l.prototype.gR=function(d){return this.me.T(d,1)},l.prototype.mk=function(d){return this.me.T(d,2)},l.prototype.xR=function(d){return this.me.T(d,3)},l.prototype.UR=function(d){return this.me.T(d,4)},l.prototype.qj=function(d){return this.me.T(d,5)},l.prototype.lk=function(d){return this.me.T(d,6)},l.prototype.UF=function(d){return this.me.T(d,7)},l.prototype.xz=function(d){return this.Ej.T(d,0)},l.prototype.wR=function(d){return this.Ej.T(d,1)},l.prototype.TR=function(d){return this.Ej.T(d,2)},l.prototype.DR=function(d){return this.Fj[d].oa},l.prototype.AR=function(d){return this.Fj[d].va},l.prototype.HX=function(d,f){this.Am==null&&(this.Am=new h.Xt);var m=new a(this);this.Am.sort(d,0,f,m)},l.prototype.GX=function(d,f,m){var b=this;d.Vd(f,m,function(_,$){var C=b.nk(_),P=b.nk($);return C<P||C==P&&l.gq(_)&&l.Gv($)?-1:1})},l.prototype.nk=function(d){var f=this.Fj[d>>1];return l.gq(d)?f.oa:f.va},l}();h.sr=o}(re||(re={})),function(h){var N=function(){function x(c){if(c==null)throw h.i.fa("Invalid arguement");this.hf=c;var a=c.nR();a.hS()?c.ef.IG()?this.lo=h.si.PannableFold:this.lo=h.si.Clip:this.lo=h.si.DontClip,a.iS()?c.Yf.IG()?this.Qm=h.si.PannableFold:this.Qm=h.si.Clip:this.Qm=h.si.DontClip,this.Bm=a.Jr,this.mH=a.Vu,c=this.hf.sH,this.aH=c.hs(2147483648),this.Uv=c.hs(1073741824)}return x.zh=function(c,a,r){return a.ww.zh(c,r)},x.Rt=function(c,a,r,o){return c.ww.Rt(a,r,o)},x.Qt=function(c,a,r,o){if(r=0>r?a.length:r,(c=c.ww.Rt(a,r,o))==r)return c;for(var l=a=0;l<r;l++){var d=o[l];d.isNaN()||(a<l&&o[a].L(d),a++)}for(;a<r;a++)o[a].Rc();return c},x.transform=function(c,a,r,o,l){if(c.isIdentity())return h.ta.kP(o,a,r),r;for(var d=[],f=0,m=0;m<r;){for(var b=Math.min(d.length,r-m),_=m,$=0;_<b;_++,$++)d[$]==null?d[$]=a[_].D():a[_].D(d[$]);var C=l?x.Qt(c,d,b,d):x.Rt(c,d,b,d);for($=_=0;_<C;_++,$++)o[m]==null&&(o[m]=new h.Sa(a[m])),o[m].Cb(d[$]);m+=b,f+=C}return f},x.prototype.Rt=function(c,a,r){if(this.hf.isIdentity())return c!=r&&h.ta.Ru(r,c,a),a;var o=this.hf.ef,l=this.hf.Yf,d=o.Sb(),f=l.Sb();if(d==0&&d===f){var m=o.Qp();return l=m/(l=l.Qp()),(m=new h.Dd).setScale(l,l),m.eY(c,a,r),a}if(m=h.O.Fu(Math.min(a,64)),d==3){var b=o.Ji;d=(o=b.fk()).Sb(),r!=c&&h.ta.Ru(r,c,a),h.zb.$k(b,r,a,!0),b.Qt(h.bm.forward,r,a),h.zb.Zk(b,r,a,!0)}if(d==3||f===3)throw h.i.fa("image: transform_in_place_");if(d==2)this.lo==h.si.Clip?(r!=c&&h.ta.Ru(r,c,a),c=o.ml(),h.zb.OS(c,o,r,a)):(r!=c&&h.ta.Ru(r,c,a),o.Wc()&&(d=o.Xd(0),b=o.Oe(),h.zb.EX(r,a,b,d),h.zb.qF(r,a,o,0))),h.zb.IL(o,r,a,m);else for(d=o.Xd(0),b=o.Oe(),o=0;o<a;o++)h.zb.FX(c[o],b,d,r[o]);for(h.zb.GL(this.hf,r,a,m),c=0,(f=f==2)?c=l.zi():isNaN(this.Bm)||(c=this.Bm),f&&this.Qm!=h.si.Clip||h.zb.qF(r,a,l.sc(),c),f&&(h.zb.yG(r,a,l,this.Qm),h.zb.HL(l,r,a,m)),c=a,o=0;o<a;++o)r[o].isNaN()&&c--;return c},x.prototype.zh=function(c,a){if(this.hf.isIdentity()||c.B())return c;if(c.getType()==33)return this.XI(c);var r=this.hf.ef,o=this.hf.Yf,l=r.Sb(),d=o.Sb();if(l==0&&l==d)return a=r.Qp(),a/=o=o.Qp(),(o=new h.Dd).setScale(a,a),(c=h.aa.jg(c)).Oc(o),c;switch(c.getType()){case 1607:case 1736:c=this.VI(c,a);break;case 550:c=this.fW(c,a);break;case 197:c=this.eW(c,a);break;default:throw h.i.fa("")}return c},x.prototype.XI=function(c){var a=c.D(),r=[];return r[0]=a,this.Rt(r,1,r),(c=new h.Sa(c)).Cb(r[0]),c},x.prototype.VI=function(c,a){if(c.tm())throw h.i.fa("curves not supported");var r=c.getType();if(r==1736)return this.gW(c,a);if(r==1607)return this.hW(c,a);throw h.i.fa("projectMultiPath")},x.prototype.gW=function(c,a){var r=this.hf.ef,o=this.hf.Yf,l=r.Sb(),d=o.Sb(),f=h.O.Fu(Math.min(c.I(),64)),m=h.Da.jg(c);l==3&&(l=(r=(c=r.Ji).fk()).Sb(),m=c.$k(m,!0),this.wp(c,h.bm.forward,m),m=c.Zk(m,!0)),c=null,d==3&&(d=(o=(c=o.Ji).fk()).Sb());var b=l==2,_=d==2,$=_?o.sc():o,C=!_&&!this.Uv;d=!1;var P=m;if(b){if((P=h.zb.UI(P,r,this.lo,a)).B())return P}else{if(m=new h.l,P.xc(m),l=r.Oe(),m.G<l.G||m.H>l.H){var L=h.l.construct(m.v-1,l.G,m.C+1,l.H);if((P=h.ri.Nu(P,L,r,NaN,0,a)).B())return P}m.R()>2*l.R()&&(P=h.zb.Hp(P,-2*l.R(),2*l.R(),r,!0,0,!0,a))}m=this.mH,(l=!isNaN(m))&&(P=h.Xl.local().V(P,m,a)),L=_?o.kk():null;var V=NaN;b&&(V=r.zi());var U=o.Wr()!=null;if(this.aH)b&&(h.zb.ur(r,V,P,f),l&&(b=r.hh(),m*=(V=r.sc().hh())/b)),h.zb.tr(this.hf,P,C,f),l&&(b=r.sc().hh(),m*=(V=o.sc().hh())/b),r=P;else{var Y=new h.Ta(P.description);Y.DD(P),b&&(h.zb.ur(r,V,Y,f),l&&(b=r.hh(),m*=(V=r.sc().hh())/b)),h.zb.tr(this.hf,Y,C,f),l&&(b=r.sc().pm(),m*=(V=o.sc().pm())/b),C=NaN,_?(L=o.kk(),C=o.zi()):isNaN(this.Bm)||(C=this.Bm),b=x.tv(r)|x.tv(o),V=10*$.Xd(0),this.Uv&&(b=3,V=0),r=h.zb.UQ(P,r,Y,$,C,a,b,V)}return U&&(r=h.zb.XD(r,o,a)),_&&(d||(_=$.Oe().R(),r.Tg(0,0).R()>=_-$.Xd(0)&&($=L.getNorthPoleLocation(),_=L.getSouthPoleLocation(),P=L.getNorthPoleGeometry(),L=L.getSouthPoleGeometry(),C=0,P==h.Cg.PE_POLE_POINT&&$!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(C=1),L==h.Cg.PE_POLE_POINT&&_!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(C|=2),C!==0&&(d=!0))),r=h.zb.Mz(r,o,this.Qm,a),l&&(r=h.Xl.local().V(r,m,a)),h.zb.Lx(o,r,f)),r.B()||(d&&(r=h.Yl.local().V(r,o,!1,a)),c!=null&&(r=c.Zk(r,!1),this.wp(c,h.bm.reverse,r),r=c.$k(r,!1))),r},x.tv=function(c){if(c.Sb()!=2)return 0;var a=0,r=c.kk();c=r.getNorthPoleLocation();var o=r.getSouthPoleLocation(),l=r.getNorthPoleGeometry();return r=r.getSouthPoleGeometry(),l==h.Cg.PE_POLE_POINT&&c!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1),r==h.Cg.PE_POLE_POINT&&o!=h.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2),a},x.prototype.hW=function(c,a){var r=this.hf.ef,o=this.hf.Yf,l=r.Sb(),d=o.Sb(),f=h.O.Fu(Math.min(c.I(),64)),m=h.Ta.jg(c);l==3&&(l=(r=(c=r.Ji).fk()).Sb(),m=c.$k(m,!0),this.wp(c,h.bm.forward,m),m=c.Zk(m,!0)),c=null,d==3&&(d=(o=(c=o.Ji).fk()).Sb());var b=l==2;l=(d=d==2)?o.sc():o;var _=!d&&!this.Uv;if(b){if((m=h.zb.UI(m,r,this.lo,a)).B())return m}else{var $=new h.l;m.xc($);var C=r.Oe();if(($.G<C.G||$.H>C.H)&&($=h.l.construct($.v-1,C.G,$.C+1,C.H),(m=h.ri.Nu(m,$,r,NaN,0,a)).B()))return m}var P=NaN;b&&(P=r.zi()),$=o.Wr()!=null,C=this.mH;var L=!isNaN(C);if(L&&(m=h.Xl.local().V(m,C,a)),this.aH)b&&h.zb.ur(r,P,m,f),L&&(b=r.hh(),C*=(P=r.sc().hh())/b),h.zb.tr(this.hf,m,_,f),L&&(b=r.sc().hh(),C*=(P=o.sc().hh())/b),r=m;else{var V=new h.Ta(m.description);V.DD(m),b&&(h.zb.ur(r,P,V,f),L&&(b=r.hh(),C*=(P=r.sc().hh())/b)),h.zb.tr(this.hf,V,_,f),L&&(b=r.sc().hh(),C*=(P=o.sc().hh())/b),_=NaN,d?_=o.zi():isNaN(this.Bm)||(_=this.Bm),b=x.tv(r)|x.tv(o),P=10*l.Xd(0),this.Uv&&(b=3,P=0),r=h.zb.VQ(m,r,V,l,_,a,b,P)}return $&&(r=h.zb.XD(r,o,a)),d&&(r=h.zb.Mz(r,o,this.Qm,a),L&&(r=h.Xl.local().V(r,C,a)),h.zb.Lx(o,r,f)),r.B()||c!=null&&(r=c.Zk(r,!1),this.wp(c,h.bm.reverse,r),r=c.$k(r,!1)),r},x.prototype.eW=function(c,a){var r=(c.ca()+c.R())/400;return r!=0?(r=h.Xl.local().V(c,r,a),r=this.VI(r,a),a=c.Ia(),r.bn(a)):(a=new h.Sa(c.Ip()),r=this.XI(a),a=c.Ia(),r.B()?a.Oa():(c.copyTo(a),c=r.D(),a.K(c.x,c.y,c.x,c.y))),a},x.prototype.fW=function(c,a){c=h.aa.jg(c);var r=this.hf.ef,o=this.hf.Yf,l=r.Sb(),d=o.Sb(),f=h.O.Fu(Math.min(c.I(),64));if(l==3){var m=r.Ji;l=(r=m.fk()).Sb(),c=m.Zk(c,!0),this.wp(m,h.bm.forward,c),c=m.$k(c,!0)}if(l==2){if(this.lo==h.si.Clip?c=h.Xj.local().V(c,r.ml(),r,a):r.Wc()&&(l=new h.l,c.xc(l),r.Oe().contains(l)||(this.lo==h.si.PannableFold&&(c=h.zb.lj(c,r)),h.zb.Jt(c,r.Oe(),r.Xd(0),!0),c=h.zb.Fn(c,r,0,!0,0,a))),c.B())return c;h.zb.ur(r,0,c,f)}else h.zb.Jt(c,r.Oe(),r.Xd(0),!0);return h.zb.tr(this.hf,c,!1,f),r=0,l=!1,m=null,d==3&&(l=!0,d=(o=(m=o.Ji).fk()).Sb()),(d=d==2)?r=o.zi():isNaN(this.Bm)||(r=this.Bm),d&&this.Qm!=h.si.Clip||(c=h.zb.Fn(c,o.sc(),r,!1,0,a)),d&&(c=h.zb.Mz(c,o,this.Qm,a),h.zb.Lx(o,c,f),c.B())||l&&(c=m.Zk(c,!0),this.wp(m,h.bm.reverse,c),c=m.$k(c,!0)),c},x.prototype.wp=function(c,a,r){var o=r.I();if(o!=0){for(var l=r.ub(0),d=h.O.lg(200,0),f=[],m=0;m<o;){var b=Math.min(100,o-m);l.Vw(2*m,2*b,d,2,!0);for(var _=0;_<b;++_)f[_]=h.h.construct(d[2*m],d[2*m+1]);c.Qt(a,f,b),m+=b}r.Pc(1993)}},x.Uy=function(c,a,r){if(c==null||a==null||!a.Wc())throw h.i.fa("Invalid Arguement");if(c.B())return c;var o=c.getType();return o==197?(o=new h.Da(c.description)).ad(c,!1):h.aa.yd(o)?(o=new h.Ta(c.description)).oc(c,!0):o=c,(o=h.zb.lj(o,a)).B()?o:h.zb.Fn(o,a,0,o!=c,0,r)},x.nj=function(c,a,r,o){if(c==null||a==null||!a.Wc())throw h.i.fa("Invalid Arguement");if(c.B())return c;var l=c.getType();if(h.aa.Hc(l)){c=h.zb.lj(c,a),l=new h.l,c.A(l);for(var d=h.ta.ty(a,l,!1),f=a.gh(),m=Math.floor((l.v-f.v)/f.R())*f.R()+f.v;m<l.C;)m>l.v+d&&m<l.C-d&&(c=h.zb.uS(c,a,r,m)),m+=f.R()}else{if(l==197)return(l=new h.Da(c.description)).ad(c,!1),x.nj(l,a,r,o);if(h.aa.yd(l))return(l=new h.Ta(c.description)).oc(c,!0),x.nj(l,a,r,o)}return x.Uy(c,a,o)},x}();h.bu=N}(re||(re={})),function(h){var N=function(x){function c(a,r,o,l){var d=x.call(this)||this;return a===void 0?d.description=h.ee.og():o===void 0?d.description=a:(d.description=h.ee.og(),d.ZB(a,r),d.Ql(o,l)),d}return ci(c,x),c.prototype.getType=function(){return 322},c.prototype.Qb=function(){var a=this.sa-this.pa,r=this.na-this.la;return Math.sqrt(a*a+r*r)},c.prototype.Bi=function(a){var r=this.sa-this.pa,o=this.na-this.la;return Math.sqrt(r*r+o*o)<=a},c.prototype.Pn=function(){return!1},c.prototype.kg=function(){var a=new h.h;return a.uc(this.wc(),this.ac()),a},c.cP=function(a,r){return new c(a.x,a.y,r.x,r.y)},c.prototype.bn=function(a){a.Oa(),a.Nf(this.description);var r=new h.l;this.A(r),a.Xo(r),r=1;for(var o=this.description.Aa;r<o;r++)for(var l=this.description.kd(r),d=h.ra.Va(l);r<d;r++){var f=this.Tg(l,0);a.setInterval(l,0,f)}},c.prototype.A=function(a){a.K(this.sa,this.na,this.pa,this.la),a.normalize()},c.prototype.Qo=function(a){a.Oa(),a.Zb(this.sa,this.na,this.Od(0,1,0)),a.Zb(this.pa,this.la,this.Od(1,1,0))},c.prototype.Oc=function(a){if(a instanceof h.Dd){this.vc();var r=new h.h;r.x=this.sa,r.y=this.na,a.Eh(r,r),this.sa=r.x,this.na=r.y,r.x=this.pa,r.y=this.la,a.Eh(r,r),this.pa=r.x,this.la=r.y}else this.vc(),(r=new h.Nd).x=this.sa,r.y=this.na,r.z=this.Od(0,1,0),r=a.fp(r),this.sa=r.x,this.na=r.y,this.tn(0,1,0,r.z),r.x=this.pa,r.y=this.la,r.z=this.Od(1,1,0),r=a.fp(r),this.pa=r.x,this.la=r.y,this.tn(1,1,0,r.z)},c.prototype.Ia=function(){return new c(this.description)},c.prototype.Tx=function(a,r){return(this.pa-a-(this.sa-a))*(this.la-r+(this.na-r))*.5},c.prototype.vx=function(a){return a*this.Qb()},c.prototype.NG=function(a){return a/this.Qb()},c.prototype.DF=function(a){return h.lc.hq(this.sa,this.pa,a)},c.prototype.fR=function(a){return h.lc.hq(this.na,this.la,a)},c.prototype.dl=function(a,r){var o=new h.ig;return this.ah(a,r,o),o.get()},c.prototype.ah=function(a,r,o){if(o==null)throw h.i.N();o.Or(),(o=o.get()).Nf(this.description);var l=new h.h;this.hc(a,l),o.ZB(l.x,l.y),this.hc(r,l),o.Ql(l.x,l.y),l=1;for(var d=this.description.Aa;l<d;l++)for(var f=this.description.Ed(l),m=h.ra.Va(f),b=0;b<m;b++){var _=this.Uc(a,f,b);o.YB(f,b,_),_=this.Uc(r,f,b),o.OB(f,b,_)}},c.prototype.Uc=function(a,r,o){if(r==0)return o==0?this.hc(a).x:this.hc(a).y;switch(h.ra.lz(r)){case 0:return .5>a?this.wv(r,o):this.gv(r,o);case 1:var l=this.wv(r,o);return r=this.gv(r,o),h.lc.hq(l,r,a);case 2:throw h.i.fa("not implemented")}throw h.i.Qa()},c.prototype.fe=function(a,r){var o=this.pa-this.sa,l=this.la-this.na,d=o*o+l*l;return d==0?.5:(a=((a.x-this.sa)*o+(a.y-this.na)*l)/d,r||(0>a?a=0:1<a&&(a=1)),a)},c.prototype.cq=function(a,r,o,l){if(a){if((a=this.la-this.na)==0)return r==this.la?-1:0;if(0>(r=(r-this.na)/a)||1<r)return 0;o!=null&&(o[0]=this.DF(r))}else{if((a=this.pa-this.sa)==0)return r==this.pa?-1:0;if(0>(r=(r-this.sa)/a)||1<r)return 0;o!=null&&(o[0]=this.fR(r))}return l!=null&&(l[0]=r),1},c.prototype.Pe=function(a,r){var o=this.la-this.na;return o==0?a==this.la?r:NaN:(a=(a-this.na)/o,r=this.DF(a),a==1&&(r=this.pa),r)},c.prototype.ru=function(a,r,o){return 0<=this.rp(a.x,a.y,r,o)},c.prototype.vi=function(a,r,o){return 0<=this.rp(a,r,o,!0)},c.prototype.qs=function(a,r){return this.ru(a,r,!1)},c.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var a=this.sa;this.sa=this.pa,this.pa=a,a=this.na,this.na=this.la,this.la=a,a=0;for(var r=this.description.Oq-2;a<r;a++){var o=this.ka[a];this.ka[a]=this.ka[a+r],this.ka[a+r]=o}}},c.prototype.uu=function(a,r){(r=h.h.construct(a,r)).sub(this.ac());var o=new h.h;return o.uc(this.wc(),this.ac()),(a=o.wi(r))>(r=8881784197001252e-31*(Math.abs(o.x*r.y)+Math.abs(o.y*r.x)))?-1:a<-r?1:0},c.prototype.rp=function(a,r,o,l){var d=this.sa,f=this.na,m=a-d,b=r-f;if((m=Math.sqrt(m*m+b*b))<=Math.max(o,6661338147750939e-31*m))return l&&m==0?NaN:0;if(m=a-this.pa,b=r-this.la,(m=Math.sqrt(m*m+b*b))<=Math.max(o,6661338147750939e-31*m))return l&&m==0?NaN:1;if(m=this.pa-this.sa,b=this.la-this.na,0<(l=Math.sqrt(m*m+b*b))){var _=1/l,$=a-d,C=r-f,P=$*(m*=_)+C*(b*=_),L=17763568394002505e-31*(Math.abs($*m)+Math.abs(C*b)),V=m;if(m=-b,b=V,P<-(L=Math.max(o,L))||P>l+L)return NaN;if(Math.abs($*m+C*b)<=Math.max(o,17763568394002505e-31*(Math.abs($*m)+Math.abs(C*b)))&&(.5>=(m=h.O.Rk(P*_,0,1))?(b=this.sa+(this.pa-this.sa)*m,l=this.na+(this.la-this.na)*m):(b=this.pa-(this.pa-this.sa)*(1-m),l=this.la-(this.la-this.na)*(1-m)),h.h.Oy(b,l,a,r)<=o)){if(.5>m){if(h.h.Oy(b,l,d,f)<=o)return 0}else if(h.h.Oy(b,l,this.pa,this.la)<=o)return 1;return m}}return NaN},c.prototype.Nb=function(a){return a!=null&&(a==this||a.constructor===this.constructor&&this.FM(a))},c.prototype.rD=function(a,r,o){var l=o?this.sa:this.pa;o=o?this.na:this.la;var d=new h.h;return d.x=a.pa-l,d.y=a.la-o,!(r.Qh(d)>6661338147750939e-31*r.fD(d))||(d.x=a.sa-l,d.y=a.na-o,r.Qh(d)<=6661338147750939e-31*r.fD(d))},c.prototype.qD=function(a){var r=new h.h;return r.x=this.pa-this.sa,r.y=this.la-this.na,!!this.rD(a,r,!1)&&(r.Sq(),!!this.rD(a,r,!0))},c.NM=function(a,r){var o=a.uu(r.sa,r.na),l=a.uu(r.pa,r.la);return!(0>o&&0>l||0<o&&0<l)&&(o=r.uu(a.sa,a.na),l=r.uu(a.pa,a.la),!(0>o&&0>l||0<o&&0<l)&&((o=a.Qb())>(l=r.Qb())?a.qD(r):r.qD(a)))},c.LM=function(a,r,o){var l=h.h.construct(NaN,NaN),d=a.pa-a.sa,f=a.la-a.na,m=r.pa-r.sa,b=r.la-r.na,_=m*f-d*b;if(_==0)return l;var $=8881784197001252e-31*(Math.abs(m*f)+Math.abs(d*b)),C=r.sa-a.sa,P=r.na-a.na,L=m*P-C*b,V=L/_,U=Math.abs(_);return V<-(m=(8881784197001252e-31*(Math.abs(m*P)+Math.abs(C*b))*U+$*Math.abs(L))/(_*_)+2220446049250313e-31*Math.abs(V))||V>1+m||(m=(b=d*P-C*f)/_)<-(d=(8881784197001252e-31*(Math.abs(d*P)+Math.abs(C*f))*U+$*Math.abs(b))/(_*_)+2220446049250313e-31*Math.abs(m))||m>1+d||(V=h.O.Rk(V,0,1),d=h.O.Rk(m,0,1),f=a.hc(V),_=r.hc(d),($=new h.h).uc(f,_),$.length()>o&&($.add(f,_),$.scale(.5),V=a.fe($,!1),d=r.fe($,!1),a=a.hc(V),r=r.hc(d),a.sub(r),a.length()>o)||l.ma(V,d)),l},c.OM=function(a,r,o,l){var d=0;if((a.sa==r.sa&&a.na==r.na||a.sa==r.pa&&a.na==r.la)&&(d++,!l))return 1;if(a.pa==r.sa&&a.la==r.na||a.pa==r.pa&&a.la==r.la){if(++d==2)return 2;if(!l)return 1}return r.vi(a.sa,a.na,o)||r.vi(a.pa,a.la,o)||a.vi(r.sa,r.na,o)||a.vi(r.pa,r.la,o)?1:l&&d!=0||c.NM(a,r)==0?0:1},c.Zx=function(a,r,o,l,d,f){var m=0,b=a.rp(r.sa,r.na,f,!1),_=a.rp(r.pa,r.la,f,!1),$=r.rp(a.sa,a.na,f,!1),C=r.rp(a.pa,a.la,f,!1);return isNaN(b)||(l!=null&&(l[m]=b),d!=null&&(d[m]=0),o!=null&&(o[m]=h.h.construct(r.sa,r.na)),m++),isNaN(_)||(l!=null&&(l[m]=_),d!=null&&(d[m]=1),o!=null&&(o[m]=h.h.construct(r.pa,r.la)),m++),m==2||isNaN($)||b==0&&$==0||_==0&&$==1||(l!=null&&(l[m]=0),d!=null&&(d[m]=$),o!=null&&(o[m]=h.h.construct(a.sa,a.na)),m++),m==2||isNaN(C)||b==1&&C==0||_==1&&C==1||(l!=null&&(l[m]=1),d!=null&&(d[m]=C),o!=null&&(o[m]=h.h.construct(r.pa,r.la)),m++),0<m?(m==2&&l!=null&&l[0]>l[1]&&(a=l[0],l[0]=l[1],l[1]=a,d!=null&&(l=d[0],d[0]=d[1],d[1]=l),o!=null&&(d=h.h.construct(o[0].x,o[0].y),o[0]=o[1],o[1]=d)),m):(m=c.LM(a,r,f),isNaN(m.x)?0:(o!=null&&(o[0]=a.hc(m.x)),l!=null&&(l[0]=m.x),d!=null&&(d[0]=m.y),1))},c.prototype.eG=function(){return 0},c.prototype.op=function(){},c.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},c}(h.SC);h.yb=N}(re||(re={})),function(h){var N=function(){function x(){this.Jm=[],this.ya=-1}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){if(this.Jm!=null&&this.Jm.length!=0){this.ya++;var c=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),c}return this.Jm=null},x.prototype.ZX=function(c){this.Jm.push(c)},x.prototype.qe=function(){},x}();h.gL=N}(re||(re={})),function(h){var N;(N=h.SL||(h.SL={}))[N.enumFillRuleOddEven=0]="enumFillRuleOddEven",N[N.enumFillRuleWinding=1]="enumFillRuleWinding";var x=function(c){function a(r,o){var l=c.call(this)||this;if(l.xf=!1,l.Eq=null,l.sq=0,l.rq=0,l.Aj=null,l.Mg=!1,l.nb=null,l.mb=null,l.Ve=null,l.Lj=null,l.Sd=null,l.tq=0,l.gb=0,l.xq=0,o===void 0)l.xf=r,l.Mg=!1,l.tq=0,l.sq=0,l.rq=0,l.wa=0,l.description=h.ee.og();else{if(o==null)throw h.i.N();l.xf=r,l.Mg=!1,l.tq=0,l.sq=0,l.rq=0,l.wa=0,l.description=o}return l.Aj=null,l.gb=0,l}return ci(a,c),a.prototype.tm=function(){return 0<this.tq},a.prototype.Yx=function(){this.vc(),this.Eq==null?this.Eq=new h.Sa(this.description):this.Eq.Nf(this.description)},a.prototype.sx=function(r,o){var l=new h.h;l.x=r,l.y=o,this.Lt(l)},a.prototype.Lt=function(r){this.Yx(),this.Eq.Cb(r),this.Mg=!0},a.prototype.nf=function(r){if(r.B())throw h.i.N();this.Jl(r.description),this.Yx(),r.copyTo(this.Eq),this.Mg=!0},a.prototype.Sx=function(){var r=1;this.Mg&&(this.Yx(),this.nb==null?(this.nb=h.Yc.Oh(2),this.nb.write(0,0),this.mb=h.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),r++);var o=this.wa;this.nb.write(this.nb.size-1,this.wa+r),this.dm(o+r),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(o,this.Eq),this.Mg=!1)},a.prototype.yj=function(r,o){this.Sx(),this.Cb(this.wa-1,r,o)},a.prototype.Ci=function(r){this.Sx(),this.Cb(this.wa-1,r)},a.prototype.lineTo=function(r){this.Sx(),this.Ht(this.wa-1,r)},a.prototype.CU=function(r){if(this.vc(),this.xf)throw h.i.Qa();var o=this.da();if(r>o)throw h.i.Qa();if(this.dc(r)){if(this.mb==null)throw h.i.Qa();var l=this.wa,d=this.Ba(r),f=this.Vc(r);this.dm(this.wa+1),this.mc();for(var m=0,b=this.description.Aa;m<b;m++)if(this.za[m]!=null){var _=h.ra.Va(this.description.Ed(m));this.za[m].Mn(_*f,this.za[m],_*d,_,!0,1,_*l)}for(;o>r;o--)l=this.nb.read(o),this.nb.write(o,l+1);this.mb.KE(r,1)}},a.prototype.Ap=function(){if(this.wx(),r===void 0){this.Mg=!1;var r=this.da()-1}var o=this.mb.read(r);this.mb.write(r,1|o),this.Ve!=null&&(r=this.Vc(r)-1,this.Ve.write(r,1),this.Lj.write(r,-1))},a.prototype.dc=function(r){return!!(1&this.mb.read(r))},a.prototype.Nn=function(r){if(this.dc(r))return!0;var o=this.Ba(r);return!(o>(r=this.Vc(r)-1))&&(o=this.Na(o),r=this.Na(r),o.qb(r))},a.prototype.yv=function(r){return!!(2&this.mb.read(r))},a.prototype.oc=function(r,o){if(this.Jl(r.description),r.getType()!=322)throw h.i.Qa();var l=new h.Sa;(o||this.B())&&(r.To(l),this.nf(l)),r.Po(l),this.lineTo(l)},a.prototype.tp=function(r){var o=this.wa==0;this.sx(r.v,r.G),this.yj(r.v,r.H),this.yj(r.C,r.H),this.yj(r.C,r.G),this.Ap(),this.Mg=!1,o&&this.Lf(256,!1)},a.prototype.ad=function(r,o){if(!r.B()){for(var l=this.wa==0,d=new h.Sa(this.description),f=0;4>f;f++)r.Hf(o?4-f-1:f,d),f==0?this.nf(d):this.lineTo(d);this.Ap(),this.Mg=!1,l&&!o&&this.Lf(256,!1)}},a.prototype.add=function(r,o){for(var l=0;l<r.da();l++)this.addPath(r,l,!o)},a.prototype.addPath=function(r,o,l){this.vf(-1,r,o,l)},a.prototype.Yk=function(r,o){this.Hz(r,o)},a.prototype.Dr=function(r,o,l,d,f){if(f||this.da()!=0||(f=!0),0>o&&(o=r.da()-1),o>=r.da()||0>l||0>d||d>r.rv(o))throw h.i.fa("index out of bounds");if(d!=0){var m=r.dc(o)&&l+d==r.rv(o);if(!m||d!=1){if(this.Mg=!1,this.Jl(r.description),l=r.Ba(o)+l+1,f&&(d++,l--),m&&d--,m=this.wa,this.dm(this.wa+d),this.mc(),f){if(d==0)return;this.nb.add(this.wa),f=r.mb.read(o),f&=-5,this.xf&&(f|=1),this.mb.write(this.mb.size-1,f),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);f=0;for(var b=this.description.Aa;f<b;f++){var _=this.description.kd(f),$=h.ra.Va(_),C=r.description.Pf(_);0>C||r.za[C]==null?this.za[f].Ln($*m,h.ra.se(_),d*$,$*m):this.za[f].Mn($*m,r.za[C],$*l,d*$,!0,$,$*m)}if(this.tm()||r.yv(o))throw h.i.Qa();this.Pc(1993)}}},a.prototype.oJ=function(){for(var r=0,o=this.da();r<o;r++)this.FW(r)},a.prototype.FW=function(r){if(this.mc(),r>=this.da())throw h.i.N();var o=this.Ba(r),l=this.Ja(r);r=this.dc(r)?1:0;for(var d=0,f=this.description.Aa;d<f;d++)if(this.za[d]!=null){var m=h.ra.Va(this.description.Ed(d));this.za[d].ni(m*(o+r),m*(l-r),m)}this.Pc(1993)},a.prototype.Zq=function(r){this.mc();var o=this.da();if(0>r&&(r=o-1),r>=o)throw h.i.N();for(var l=this.Ba(r),d=this.Ja(r),f=0,m=this.description.Aa;f<m;f++)if(this.za[f]!=null){var b=h.ra.Va(this.description.Ed(f));this.za[f].En(b*l,b*d,b*this.wa)}for(l=r+1;l<=o;l++)f=this.nb.read(l),this.nb.write(l-1,f-d);if(this.mb==null)for(l=r+1;l<=o;l++)r=this.mb.read(l),this.mb.write(l-1,r);this.nb.resize(o),this.mb.resize(o),this.wa-=d,this.Pg-=d,this.Pc(1993)},a.prototype.vf=function(r,o,l,d){if(o==this||l>=o.da())throw h.i.N();var f=this.da();if(r>f)throw h.i.N();0>r&&(r=f),0>l&&(l=o.da()-1),this.Mg=!1,this.Jl(o.description),o.mc();var m=o.Ba(l),b=o.Ja(l),_=this.wa,$=o.dc(l)&&!d?1:0;this.dm(this.wa+b),this.mc();for(var C=r<f?this.Ba(r):_,P=0,L=this.description.Aa;P<L;P++){var V=this.description.Ed(P),U=o.description.Pf(V),Y=h.ra.Va(V);0<=U&&o.za[U]!=null?($!=0&&this.za[P].Mn(C*Y,o.za[U],Y*m,Y,!0,Y,Y*_),this.za[P].Mn((C+$)*Y,o.za[U],Y*(m+$),Y*(b-$),d,Y,Y*(_+$))):this.za[P].Ln(C*Y,h.ra.se(V),Y*b,Y*_)}for(this.nb.add(_+b),d=f;d>=r+1;d--)m=this.nb.read(d-1),this.nb.write(d,m+b);for(o.yv(l),this.mb.add(0),d=f-1;d>=r+1;d--)f=this.mb.read(d),f&=-5,this.mb.write(d+1,f);f=o.JR().read(l),f&=-5,this.xf&&(f|=1),this.mb.write(r,f)},a.prototype.Hz=function(r,o){var l=-1,d=this.da();if(l>d)throw h.i.N();0>l&&(l=d),this.Mg=!1;var f=this.wa;this.dm(this.wa+o),this.mc();var m=l<d?this.Ba(l):f;if(r!=null)this.za[0].Iz(2*m,r,0,o,!0,2*f);else{var b=h.ra.se(0);this.za[0].Ln(2*m,b,2*o,2*f)}r=1;for(var _=this.description.Aa;r<_;r++){b=this.description.kd(r);var $=h.ra.Va(b);b=h.ra.se(b),this.za[r].Ln(m*$,b,$*o,$*f)}for(this.nb.add(this.wa),f=d;f>=l+1;f--)m=this.nb.read(f-1),this.nb.write(f,m+o);for(this.mb.add(0),f=d-1;f>=l+1;f--)o=this.mb.read(f),o&=-5,this.mb.write(f+1,o);this.xf&&this.mb.write(l,1)},a.prototype.qG=function(r,o,l){var d=-1;if(0>r&&(r=this.da()),r>this.da()||d>this.Ja(r)||l>o.length)throw h.i.fa("index out of bounds");if(l!=0){r==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>d&&(d=this.Ja(r)),this.mc();var f=this.wa;this.dm(this.wa+l),this.mc();for(var m=0,b=this.description.Aa;m<b;m++){var _=this.description.Ed(m),$=h.ra.Va(_);this.za[m].Ut($*(this.Ba(r)+d+l),(f-this.Ba(r)-d)*$,this.za[m],$*(this.Ba(r)+d),!0,$),m==0?this.za[m].vC($*(this.Ba(r)+d),l,o,0,!0):this.za[m].Wj(h.ra.se(_),(this.Ba(r)+d)*$,l*$)}for(this.tm()&&(this.Ve.Ut(this.Ba(r)+d+l,f-this.Ba(r)-d,this.Ve,this.Ba(r)+d,!0,1),this.Lj.Ut(this.Ba(r)+d+l,f-this.Ba(r)-d,this.Lj,this.Ba(r)+d,!0,1),this.Ve.Wj(1,this.Ba(r)+d,l),this.Lj.Wj(-1,this.Ba(r)+d,l)),r+=1,o=this.da();r<=o;r++)this.nb.write(r,this.nb.read(r)+l)}},a.prototype.wf=function(r,o,l){var d=this.da();if(0>r&&(r=this.da()),r>=d||o>this.Ja(r))throw h.i.fa("index out of bounds");r==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>o&&(o=this.Ja(r));var f=this.wa;this.dm(this.wa+1),this.mc();var m=this.Ba(r);this.za[0].vj(2*(m+o),l,2*f),l=1;for(var b=this.description.Aa;l<b;l++){var _=this.description.Ed(l),$=h.ra.Va(_);this.za[l].Ln($*(m+o),h.ra.se(_),$,$*f)}for(r+=1;r<=d;r++)this.nb.write(r,this.nb.read(r)+1)},a.prototype.DB=function(r,o){var l=this.da();if(0>r&&(r=l-1),r>=l||o>=this.Ja(r))throw h.i.fa("index out of bounds");this.mc();var d=this.Ba(r);0>o&&(o=this.Ja(r)-1),o=d+o,d=0;for(var f=this.description.Aa;d<f;d++)if(this.za[d]!=null){var m=h.ra.Va(this.description.Ed(d));this.za[d].En(m*o,m,m*this.wa)}for(;l>=r+1;l--)o=this.nb.read(l),this.nb.write(l,o-1);this.wa--,this.Pg--,this.Pc(1993)},a.prototype.uE=function(r,o,l){var d=this.Ba(r)+o;if((l=this.Ba(l)+void 0)<d||0>d||l>this.I()-1)throw h.i.N();o=0,(r=this.Ga()).Vb(d);do{for(;r.Ha()&&(d=r.ha(),r.wb()!=l);)o+=d=d.Qb();if(r.wb()==l)break}while(r.$a());return o},a.prototype.fO=function(r,o,l){if(o=this.Ba(r)+o,l=this.Ba(r)+l,0>o||l>this.I()-1)throw h.i.N();var d=this.Ga();if(o>l){if(!this.dc(r))throw h.i.N("cannot iterate across an open path");d.JB()}var f=r=0;d.Vb(o);do f+=r,r=d.ha().Qb();while(d.wb()!=l);return f},a.prototype.mg=function(){return h.pi.gm(this,null)},a.prototype.KS=function(r,o,l){for(var d=r;d<l-1;d++)if(this.dc(d))throw h.i.N("cannot interpolate across closed paths");if((d=this.description.Aa)!=1){var f=this.uE(r,o,l);if(f!=0)for(var m=1;m<d;m++){var b=this.description.kd(m);if(h.ra.lz(b)!=2)for(var _=h.ra.Va(b),$=0;$<_;$++)this.MS(b,r,o,l,f,$)}}},a.prototype.JS=function(r,o,l){var d=this.description.Aa;if(d!=1){var f=this.fO(r,o,l);if(f!=0)for(var m=1;m<d;m++){var b=this.description.kd(m);if(h.ra.lz(b)!=2)for(var _=h.ra.Va(b),$=0;$<_;$++)this.LS(b,r,o,l,f,$)}}},a.prototype.MS=function(r,o,l,d,f,m){var b=this.Ga(),_=this.Ba(o)+l;d=this.Ba(d)+void 0,o=this.Uc(r,_,m),l=this.Uc(r,d,m);var $=o,C=0;b.Vb(_);do if(b.Ha()){if(b.ha(),b.wb()==d)break;this.setAttribute(r,b.wb(),m,$),b.li();do{if(_=b.ha(),b.ik()==d)return;C+=_=_.Qb(),$=h.lc.hq(o,l,C/f),b.On()||this.setAttribute(r,b.ik(),m,$)}while(b.Ha())}while(b.$a())},a.prototype.LS=function(r,o,l,d,f,m){var b=this.Ga(),_=this.Ba(o)+l;if((o=this.Ba(o)+d)!=_){d=this.Uc(r,_,m),l=this.Uc(r,o,m);var $=0;b.Vb(_),b.JB(),_=d;do{var C=b.ha();this.setAttribute(r,b.wb(),m,_),$+=_=C.Qb(),_=h.lc.hq(d,l,$/f)}while(b.ik()!=o)}},a.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},a.prototype.Oc=function(r){r instanceof h.Dd?this.YD(r,-1):this.wN(r)},a.prototype.YD=function(r,o){if(!this.B()&&!r.isIdentity()){this.mc();var l=this.za[0],d=new h.h,f=new h.h;if(0>o){var m=this.tm(),b=0;o=this.wa}else m=this.yv(o),b=this.Ba(o),o=this.Vc(o);for(;b<o;b++){if(d.x=l.read(2*b),d.y=l.read(2*b+1),m){var _=this.Lj.read(b);if(0<=_)switch(7&this.Ve.read(b)){case 2:f.x=this.Sd.read(_),f.y=this.Sd.read(_+1),r.Eh(f,f),this.Sd.write(_,f.x),this.Sd.write(_+1,f.y),f.x=this.Sd.read(_+3),f.y=this.Sd.read(_+4),r.Eh(f,f),this.Sd.write(_+3,f.x),this.Sd.write(_+4,f.y);break;case 4:throw h.i.Qa()}}r.Eh(d,d),l.write(2*b,d.x),l.write(2*b+1,d.y)}this.Pc(1993)}},a.prototype.wN=function(r){if(!this.B()){this.re(1),this.mc();for(var o=this.za[0],l=this.za[1],d=new h.Nd,f=new h.Nd,m=this.tm(),b=0;b<this.wa;b++){if(d.x=o.read(2*b),d.y=o.read(2*b+1),d.z=l.read(b),m){var _=this.Lj.read(b);if(0<=_)switch(7&this.Ve.read(b)){case 2:f.x=this.Sd.read(_),f.y=this.Sd.read(_+1),f.z=this.Sd.read(_+2),f=r.fp(f),this.Sd.write(_,f.x),this.Sd.write(_+1,f.y),this.Sd.write(_+1,f.z),f.x=this.Sd.read(_+3),f.y=this.Sd.read(_+4),f.z=this.Sd.read(_+5),f=r.fp(f),this.Sd.write(_+3,f.x),this.Sd.write(_+4,f.y),this.Sd.write(_+5,f.z);break;case 4:throw h.i.Qa()}}d=r.fp(d),o.write(2*b,d.x),o.write(2*b+1,d.y),l.write(b,d.z)}this.Pc(1993)}},a.prototype.iy=function(){this.nb==null&&(this.nb=h.Yc.Oh(1,0),this.mb=h.Yc.Mr(1,0)),this.Ve!=null&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},a.prototype.op=function(r){r.Mg=!1,r.tq=this.tq,r.xq=this.xq,r.nb=this.nb!=null?h.ia.Bn(this.nb):null,r.mb=this.mb!=null?h.pn.Bn(this.mb):null,r.Lj=this.Lj!=null?h.ia.Bn(this.Lj):null,r.Ve=this.Ve!=null?h.pn.Bn(this.Ve):null,r.Sd=this.Sd!=null?h.be.Bn(this.Sd):null,r.sq=this.sq,r.rq=this.rq,r.Aj=this.ak(1024)?null:this.Aj},a.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var r=this.Ga(),o=new h.Fx(0);r.$a();)for(;r.Ha();)o.add(r.ha().Qb());return this.sq=o.rm(),this.Lf(512,!1),o.rm()},a.prototype.Nb=function(r){if(r==this)return!0;if(!(r instanceof a&&c.prototype.Nb.call(this,r)))return!1;var o=this.da();return!(o!=r.da()||this.nb!=null&&!this.nb.Nb(r.nb,0,o+1)||this.xq!=r.xq||this.mb!=null&&!this.mb.Nb(r.mb,0,o))&&c.prototype.Nb.call(this,r)},a.prototype.Ga=function(){return new h.YL(this)},a.prototype.hy=function(r){if(c.prototype.hy.call(this,r),this.tm())for(r=this.Ga();r.$a();)r.Ha()},a.prototype.yp=function(r,o){if(c.prototype.yp.call(this,r,o),this.tm())for(r=this.Ga();r.$a();)r.Ha()},a.prototype.$x=function(){this.wa=this.nb==null||this.nb.size==0?0:this.nb.read(this.nb.size-1)},a.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},a.prototype.Ev=function(r){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(r)):!!(4&this.mb.read(r)))},a.prototype.Ir=function(r){return this.xf?(this.xu(),this.Aj.read(r)):0},a.prototype.xu=function(){if(this.ak(1024)){var r=this.da();this.Aj==null?this.Aj=new h.be(r):this.Aj.size!=r&&this.Aj.resize(r),r=new h.Fx(0);for(var o=new h.Fx(0),l=new h.h,d=0,f=this.Ga();f.$a();){for(o.reset(),this.D(this.Ba(f.gb),l);f.Ha();)o.add(f.ha().Tx(l.x,l.y));r.add(o.rm());var m=d++;this.Aj.write(m,o.rm())}this.rq=r.rm(),this.Lf(1024,!1)}},a.prototype.FR=function(){if(this.xf){this.fm();for(var r=this.da(),o=0;o<r;o++)4&this.mb.read(o)}},a.prototype.fm=function(){if(this.ak(8)){this.xu();var r=this.da();(this.mb==null||this.mb.size<r)&&(this.mb=h.Yc.Mr(r+1));for(var o=1,l=0;l<r;l++){var d=this.Aj.read(l);l==0&&(o=0<d?1:-1),0<d*o?this.mb.zJ(l,4):this.mb.KE(l,4)}this.Lf(8,!1)}},a.prototype.sz=function(r){var o=this.gb,l=this.da();if(0<=o&&o<l){if(r<this.Vc(o)){if(r>=this.Ba(o))return o;o--}else o++;if(0<=o&&o<l&&r>=this.Ba(o)&&r<this.Vc(o))return this.gb=o}if(5>l){for(o=0;o<l;o++)if(r<this.Vc(o))return this.gb=o;throw h.i.fa("corrupted geometry")}for(o=0,--l;l>o;){var d=o+(l-o>>1);if(r<this.Ba(d))l=d-1;else{if(!(r>=(o=this.Vc(d))))return this.gb=d;o=d+1}}return this.gb=o},a.prototype.yz=function(){var r=this.I();if(!this.xf){r-=this.da();for(var o=0,l=this.da();o<l;o++)this.dc(o)&&r++}return r},a.prototype.rv=function(r){var o=this.Ja(r);return this.dc(r)||o--,o},a.prototype.Ia=function(){return new a(this.xf,this.description)},a.prototype.Db=function(){return this.xf?2:1},a.prototype.getType=function(){return this.xf?1736:1607},a.prototype.QJ=function(r){this.nb=r,this.Pc(16777215)},a.prototype.VR=function(){return this.wx(),this.Ve},a.prototype.JR=function(){return this.wx(),this.mb},a.prototype.PJ=function(r){this.mb=r,this.Pc(16777215)},a.prototype.da=function(){return this.nb!=null?this.nb.size-1:0},a.prototype.Vc=function(r){return this.nb.read(r+1)},a.prototype.Ja=function(r){return this.nb.read(r+1)-this.nb.read(r)},a.prototype.Ba=function(r){return this.nb.read(r)},a.prototype.lu=function(r,o){this.Bb==null&&(this.Bb=new h.Uk),o=h.Nx.pW(o);var l=this.Bb.Fk;if(l!=null){if(!(l.Ik<r||o>l.RR()))return!0;this.Bb.yD(null)}return l=h.Nx.create(this,r,o),this.Bb.yD(l),!0},a.prototype.cc=function(){var r=c.prototype.cc.call(this);if(!this.Ac()){var o=this.da();this.nb!=null&&this.nb.An(r,0,o+1),this.mb!=null&&this.mb.An(r,0,o)}return r},a.prototype.ZF=function(r){return this.Ve!=null?this.Ve.read(r):1},a.prototype.bc=function(r,o,l){var d=this.sz(r);if(r==this.Vc(d)-1&&!this.dc(d))throw h.i.fa("index out of bounds");this.mc();var f=this.Ve,m=1;if(f!=null&&(m=7&f.read(r)),m!==1)throw h.i.Qa();if(o.Or(),o=o.get(),l?o.Nf(h.ee.og()):o.Nf(this.description),d=r==this.Vc(d)-1&&this.dc(d)?this.Ba(d):r+1,f=new h.h,this.D(r,f),o.Dc(f),this.D(d,f),o.Qc(f),!l)for(l=1,f=this.description.Aa;l<f;l++){m=this.description.Ed(l);for(var b=h.ra.Va(m),_=0;_<b;_++){var $=this.Uc(m,r,_);o.YB(m,_,$),$=this.Uc(m,d,_),o.OB(m,_,$)}}},a.prototype.Rj=function(r,o){if(r>=this.da())throw h.i.N();if(this.B())o.Oa();else{if(this.yv(r))throw h.i.fa("not implemented");var l=this.ub(0),d=new h.h,f=new h.l;f.Oa();var m=this.Ba(r);for(r=this.Vc(r);m<r;m++)l.tc(2*m,d),f.Zb(d);o.K(f)}},a.prototype.fj=function(r){return this.Bb==null&&(this.Bb=new h.Uk),!(r==0||16>this.I())&&(r=h.ta.nE(this),this.Bb.WM(r),!0)},a.prototype.hM=function(){if(this.Bb==null&&(this.Bb=new h.Uk),this.Bb.zo==null){this.Bb.xD(null);var r=h.ta.YN(this);this.Bb.xD(r)}},a.prototype.Yo=function(r){this.xq=r},a.prototype.In=function(){return this.xq},a.prototype.DD=function(r){if(this==r)throw h.i.fa("MultiPathImpl.add");for(var o=this.da(),l=0;l<r.da();l++)this.addPath(r,l,!0),this.CU(o),o++},a.prototype.kO=function(r){var o=this.sz(r),l=this.Ba(o);if(l!=r){if(r>=(o=this.Vc(o))||r<l)throw h.i.fa("change_ring_start_point");for(var d=0,f=this.description.Aa;d<f;d++){var m=this.description.kd(d);m=h.ra.Va(m),this.za[d].rotate(l*m,r*m,o*m)}}},a}(h.Gx);h.Vk=x}(re||(re={})),function(h){var N=function(x){function c(a){var r=x.call(this)||this;if(a!==void 0){if(a==null)throw h.i.N();r.description=a}else r.description=h.ee.og();return r.wa=0,r}return ci(c,x),c.prototype.Ia=function(){return new c(this.description)},c.prototype.add=function(a){this.resize(this.wa+1),this.Dh(this.wa-1,a)},c.prototype.Bu=function(a,r){this.resize(this.wa+1);var o=new h.h;o.ma(a,r),this.Cb(this.wa-1,o)},c.prototype.Fd=function(a,r,o){if(o=0>o?a.I():o,0>r||r>a.I()||o<r)throw h.i.N();if(r!=o){this.Jl(a.description),o-=r;var l=this.wa;this.resize(this.wa+o),this.mc();for(var d=0,f=a.description.Aa;d<f;d++){var m=a.description.Ed(d),b=h.ra.Va(m),_=this.ub(m);m=a.ub(m),_.Mn(l*b,m,r*b,o*b,!0,1,l*b)}}},c.prototype.HD=function(a,r){var o=a.length;if(r=0>r?o:r,0>o||0>r)throw h.i.N();if(r!=0){o=r-0,r=this.wa,this.resize(this.wa+o);for(var l=0;l<o;l++)this.Cb(r+l,a[0+l])}},c.prototype.DB=function(a){if(0>a||a>=this.I())throw h.i.fa("index out of bounds");this.mc();for(var r=0,o=this.description.Aa;r<o;r++)if(this.za[r]!=null){var l=h.ra.Va(this.description.Ed(r));this.za[r].En(l*a,l,l*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},c.prototype.resize=function(a){this.dm(a)},c.prototype.op=function(){},c.prototype.Oa=function(){x.prototype.wD.call(this)},c.prototype.Oc=function(a){if(a instanceof h.Dd){if(this.B())return;this.mc();for(var r=this.za[0],o=new h.h,l=0;l<this.wa;l++)o.x=r.read(2*l),o.y=r.read(2*l+1),a.Eh(o,o),r.write(2*l,o.x),r.write(2*l+1,o.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),r=this.za[0],o=this.za[1];var d=new h.Nd;for(l=0;l<this.wa;l++){d.x=r.read(2*l),d.y=r.read(2*l+1),d.z=o.read(l);var f=a.fp(d);r.write(2*l,f.x),r.write(2*l+1,f.y),o.write(l,f.z)}}this.Pc(1993)},c.prototype.Db=function(){return 0},c.prototype.getType=function(){return 550},c.prototype.Ke=function(){return 0},c.prototype.Qb=function(){return 0},c.prototype.Nb=function(a){return a==this||a instanceof c&&x.prototype.Nb.call(this,a)},c.prototype.lW=function(a,r){var o=this.wa;if(o=Math.min(o,r+1e3),0>r||r>=this.wa||o<r||a.length!=1e3)throw h.i.N();var l=o-r,d=[];for(this.ub(0).Vw(2*r,2*l,d,0,!0),r=0;r<l;r++)a[r]=h.h.construct(d[2*r],d[2*r+1]);return o},c.prototype.$x=function(){},c.prototype.iy=function(){},c.prototype.lu=function(){return!1},c.prototype.fj=function(){return!1},c.prototype.mg=function(){return null},c}(h.Gx);h.de=N}(re||(re={})),function(h){var N;(N=h.iL||(h.iL={}))[N.NotDetermined=0]="NotDetermined",N[N.Structure=1]="Structure",N[N.DegenerateSegments=2]="DegenerateSegments",N[N.Clustering=3]="Clustering",N[N.Cracking=4]="Cracking",N[N.CrossOver=5]="CrossOver",N[N.RingOrientation=6]="RingOrientation",N[N.RingOrder=7]="RingOrder",N[N.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",N[N.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",N[N.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var x=function(){function c(a,r,o){a===void 0?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=a,this.Jo=r,this.Ko=o)}return c.prototype.Wt=function(a){this.Jj=a.Jj,this.Jo=a.Jo,this.Ko=a.Ko},c}();h.Md=x}(re||(re={})),function(h){h.O=function(){function N(){}return N.assert=function(x){if(x===!1)throw h.i.GK()},N.bK=function(x){return isNaN(x)?NaN:x===0?x:0<x?1:-1},N.Fu=function(x){var c;c===void 0&&(c=0);for(var a=[],r=0;r<x;r++)a[r]=N.lg(2,c);return a},N.lg=function(x,c){c===void 0&&(c=0);for(var a=[],r=0;r<x;r++)a[r]=c;return a},N.$u=function(x,c){var a,r;for(a===void 0&&(a=0),r===void 0&&(r=x.length-1);a<=r;a++)x[a]=c},N.Rk=function(x,c,a){return x<c?c:x>a?a:x},N.Th=function(x,c){var a=5381;return((a=((a=((a=c!==void 0?(c<<5)+c+(255&x):(a<<5)+a+(255&x))<<5)+a+(x>>8&255))<<5)+a+(x>>16&255))<<5)+a+(x>>24&255)&2147483647},N.uj=function(){throw Error("Not Implemented")},N.bB=function(x){return N.aU(x)+12345&2147483647},N.XG=function(x){var c=32,a=x%N.Qx|0,r=x/N.Qx|0;return(c&=63)==0?x:(32>c?(x=a>>>c|r<<32-c,c=r>>c):(x=r>>c-32,c=0<=r?0:-1),c*N.Qx+(x>>>0))},N.aU=function(x){var c=1103515245,a=65535&c;return((c-a)*(x|=0)|0)+(a*x|0)|0},N.truncate=function(x){return 0>x?-1*Math.floor(Math.abs(x)):Math.floor(x)},N.MAX_SAFE_INTEGER=Math.pow(2,53)-1,N.MIN_SAFE_INTEGER=-N.MAX_SAFE_INTEGER,N.VC=65536,N.Qx=N.VC*N.VC,N}()}(re||(re={})),function(h){var N;(N=h.CL||(h.CL={}))[N.Project=0]="Project",N[N.Union=1]="Union",N[N.Difference=2]="Difference",N[N.Proximity2D=3]="Proximity2D",N[N.Relate=4]="Relate",N[N.Equals=5]="Equals",N[N.Disjoint=6]="Disjoint",N[N.Intersects=7]="Intersects",N[N.Within=8]="Within",N[N.Contains=9]="Contains",N[N.Crosses=10]="Crosses",N[N.Touches=11]="Touches",N[N.Overlaps=12]="Overlaps",N[N.Buffer=13]="Buffer",N[N.Distance=14]="Distance",N[N.Intersection=15]="Intersection",N[N.Clip=16]="Clip",N[N.Cut=17]="Cut",N[N.DensifyByLength=18]="DensifyByLength",N[N.DensifyByAngle=19]="DensifyByAngle",N[N.LabelPoint=20]="LabelPoint",N[N.GeodesicBuffer=21]="GeodesicBuffer",N[N.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",N[N.ShapePreservingDensify=23]="ShapePreservingDensify",N[N.GeodeticLength=24]="GeodeticLength",N[N.GeodeticArea=25]="GeodeticArea",N[N.Simplify=26]="Simplify",N[N.SimplifyOGC=27]="SimplifyOGC",N[N.Offset=28]="Offset",N[N.Generalize=29]="Generalize",N[N.SymmetricDifference=30]="SymmetricDifference",N[N.ConvexHull=31]="ConvexHull",N[N.Boundary=32]="Boundary",N[N.SimpleRelation=33]="SimpleRelation";var x=function(){function c(){}return c.prototype.getType=function(){return null},c.prototype.wn=function(){},c.prototype.Iu=function(){return!1},c}();h.Je=x}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 13},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o,l,d){return a instanceof h.aa?(d=new h.Zc(a),this.V(d,r,[o],!1,l).next()):l===!0?(o=new h.BC(a,r,o,!1,d),h.Gh.local().V(o,r,d)):new h.BC(a,r,o,!1,d)},c.instance=null,c}(h.Je);h.AC=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o,l){this.ya=-1,this.Rd=c,this.$z=a,this.Cs=r,this.tT=new h.l,this.tT.Oa(),this.eo=-1,this.Ub=l}return x.prototype.next=function(){for(var c;(c=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(c,this.Cs[this.eo]);return null},x.prototype.La=function(){return this.ya},x.prototype.buffer=function(c,a){return h.HK.buffer(c,a,this.$z,NaN,96,this.Ub)},x.prototype.qe=function(){},x}();h.BC=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 16},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o,l){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,r,o,l).next()):new h.lL(a,r,o,l)},c.instance=null,c}(h.Je);h.kL=N}(re||(re={})),function(h){var N=function(){function x(c,a,r){if(this.ya=-1,c==null)throw h.i.N();this.$=a,this.yk=c,this.qa=h.ta.Wd(r,a,!1)}return x.prototype.next=function(){var c;return(c=this.yk.next())!=null?(this.ya=this.yk.La(),h.Ud.clip(c,this.$,this.qa,0)):null},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();h.lL=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 31},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o){return a instanceof h.aa?h.DC.rE(a):new h.DC(r,a,o)},c.instance=null,c}(h.Je);h.CC=N}(re||(re={})),function(h){var N=function(){function x(c,a,r){if(this.uA=new h.Zt,this.ya=-1,a==null)throw h.i.N();this.cH=c,this.Ic=!1,this.yk=a,this.Ub=r}return x.prototype.next=function(){if(this.cH){if(!this.Ic){var c=this.dO(this.yk);return this.Ic=!0,c}return null}if(!this.Ic){if((c=this.yk.next())!=null)return this.ya=this.yk.La(),x.rE(c);this.Ic=!0}return null},x.prototype.La=function(){return this.ya},x.prototype.dO=function(c){for(var a;(a=c.next())!=null;)this.uA.Ib(a);return this.uA.cR()},x.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw h.i.fa("Invalid call for non merging convex hull.");var c=this.yk.next();if(c==null)throw h.i.fa("Expects a non-null geometry.");this.uA.Ib(c)}},x.rE=function(c){if(x.VS(c))return c;var a=c.getType();if(h.Vk.yd(a))return(a=new h.Ta(c.description)).oc(c,!0),a;if(a==550&&c.I()==2){var r=new h.Sa;return a=new h.Ta(c.description),c.ve(0,r),a.nf(r),c.ve(1,r),a.lineTo(r),a}return h.Zt.RO(c)},x.VS=function(c){if(c.B())return!0;var a=c.getType();return a==33||a==197||!h.Vk.yd(a)&&(a==550?c.I()==1:a==1607?c.da()==1&&2>=c.I():c.da()==1&&(2>=c.I()||h.Zt.JG(c,0)))},x}();h.DC=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 17},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o,l,d){return new h.nL(a,r,o,l,d)},c.instance=null,c}(h.Je);h.mL=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o,l){if(this.Tf=null,a==null||r==null)throw h.i.fa("invalid argument");this.qT=c,this.nA=a,this.lH=r,c=h.ta.mv(a,r),this.qa=h.ta.Wd(o,c,!0),this.kH=-1,this.nd=l}return x.prototype.La=function(){return 0},x.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},x.prototype.RQ=function(){if(this.Tf==null)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},x.prototype.TQ=function(){var c=new h.Ta,a=new h.Ta,r=new h.Ta;this.Tf.push(c),this.Tf.push(a);var o=[];h.LK.JK(this.qT,this.nA,this.lH,this.qa,o,this.nd);for(var l=0;l<o.length;l++){var d=o[l];if(d.bt==0)c.add(d.X,!1);else if(d.bt==1||d.bt==2)a.add(d.X,!1);else if(d.bt==3)this.Tf.push(d.X);else{if(d.bt!=4)throw h.i.fa("internal");r.add(d.X,!1)}}r.B()||c.B()&&a.B()&&!(3<=this.Tf.length)||this.Tf.push(r),c.B()&&a.B()&&3>this.Tf.length&&(this.Tf.length=0)},x.prototype.SQ=function(){var c=new h.ia(0),a=new h.gd,r=a.aF(),o=a.Ib(this.nA),l=a.Ib(this.lH),d=new h.Fg;try{d.Ft(a,this.qa,this.nd),d.dl(r,o,l,c);var f=a.Ne(o),m=new h.Da,b=new h.Da;for(this.Tf.length=0,this.Tf.push(m),this.Tf.push(b),o=0;o<c.size;o++){var _=new h.gd,$=_.Ib(f),C=_.Ib(a.Ne(c.get(o)));d.dr(_,this.nd);var P=d.Av($,C),L=_.Ne(P);if(!L.B()){var V=a.KF(c.get(o),r);V==2?m.add(L,!1):V==1?b.add(L,!1):this.Tf.push(L);var U=new h.gd;$=U.Ib(f),C=U.Ib(a.Ne(c.get(o))),d.dr(U,this.nd),f=U.Ne(d.im($,C))}}!f.B()&&0<c.size&&this.Tf.push(f),m.B()&&b.B()&&(this.Tf.length=0)}finally{d.Ug()}},x.prototype.qe=function(){},x}();h.nL=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 18},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o){if(a instanceof h.aa)return a=new h.Zc(a),this.V(a,r,o).next();if(0>=r)throw h.i.N();return new h.oL(a,r,o)},c.instance=null,c}(h.Je);h.Xl=N}(re||(re={})),function(h){var N=function(){function x(c,a){this.ya=-1,this.Rd=c,this.Ps=a}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){var c;return(c=this.Rd.next())!=null?(this.ya=this.Rd.La(),this.NP(c)):null},x.prototype.NP=function(c){if(c.B()||1>c.Db())return c;var a=c.getType();if(a==1736||a==1607)return this.Ny(c);if(h.aa.yd(a))return this.PP(c);if(a==197)return this.OP(c);throw h.i.Qa()},x.prototype.PP=function(c){if(c.Qb()<=this.Ps)return c;var a=new h.Ta(c.description);return a.oc(c,!0),this.Ny(a)},x.prototype.OP=function(c){var a=new h.Da(c.description);a.ad(c,!1);var r=new h.l;return c.A(r),c=r.ca(),r.R()<=this.Ps&&c<=this.Ps?a:this.Ny(a)},x.prototype.Ny=function(c){for(var a=c.Ia(),r=c.Ga();r.$a();)for(var o=!0;r.Ha();){var l=r.ha();if(l.getType()!=322)throw h.i.fa("not implemented");var d=r.On(),f=l.Qb();if(f>this.Ps){var m=Math.ceil(f/this.Ps);f=new h.Sa(c.description),o&&(l.To(f),a.nf(f));var b=o=1/m,_=0;for(--m;_<m;_++)l.Tw(b,f),a.lineTo(f),b+=o;d?a.Ap():(l.Po(f),a.lineTo(f))}else d?a.Ap():a.oc(l,o);o=!1}return a},x.prototype.qe=function(){},x}();h.oL=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.getType=function(){return 2},c.prototype.V=function(a,r,o,l){return a instanceof h.aa?(a=new h.Zc(a),r=new h.Zc(r),this.V(a,r,o,l).next()):new h.qL(a,r,o,l)},c.im=function(a,r,o,l){if(a.B()||r.B())return a;var d=a.Db(),f=r.Db();if(d>f)return a;var m=a.getType(),b=r.getType(),_=new h.l,$=new h.l,C=new h.l;a.A(_),r.A($),C.K(_),C.Zb($);var P=(C=h.ta.Wd(o,C,!0))*Math.sqrt(2)*1.00001,L=new h.l;if(L.K(_),L.W(P,P),!L.isIntersecting($))return a;if(d==1&&f==2)return c.KV(a,r,b,o,l);if(m==33)switch(h.Vk.yd(b)?(o=new h.Ta(r.description),o.oc(r,!0)):o=r,b){case 1736:return c.XU(a,o,C);case 1607:return c.YU(a,o,C);case 550:return c.VU(a,o,C);case 197:return c.UU(a,o,C);case 33:return c.WU(a,o,C);default:throw h.i.N()}else if(m==550)switch(b){case 1736:return c.nU(a,r,C);case 197:return c.lU(a,r,C);case 33:return c.mU(a,r,C)}return h.Fg.im(a,r,o,l)},c.XU=function(a,r,o){return h.hd.KG(r,a,o)==0?a:a.Ia()},c.YU=function(a,r,o){var l=a.D();r=r.Ga();for(var d=o*Math.sqrt(2)*1.00001,f=d*d,m=new h.l;r.$a();)for(;r.Ha();){var b=r.ha();if(b.A(m),m.W(d,d),m.contains(l)){if(b.qs(l,o))return a.Ia();var _=b.ac();if(h.h.yc(l,_)<=f||(_=b.wc(),h.h.yc(l,_)<=f))return a.Ia()}}return a},c.VU=function(a,r,o){var l=r.ub(0);r=r.I();var d=a.D(),f=new h.h;o=o*Math.sqrt(2)*1.00001,o*=o;for(var m=0;m<r;m++)if(l.tc(2*m,f),h.h.yc(f,d)<=o)return a.Ia();return a},c.UU=function(a,r,o){var l=new h.l;return r.A(l),l.W(o,o),r=a.D(),l.contains(r)?a.Ia():a},c.WU=function(a,r,o){o=o*Math.sqrt(2)*1.00001,o*=o;var l=a.D();return r=r.D(),h.h.yc(l,r)<=o?a.Ia():a},c.nU=function(a,r,o){var l=new h.l;r.A(l),l.W(o,o);for(var d=a.I(),f=!1,m=[],b=0;b<d;b++)m[b]=!1;var _=new h.h;for(b=0;b<d;b++)a.D(b,_),l.contains(_)&&h.hd.Yd(r,_,o)!=0&&(f=!0,m[b]=!0);if(!f)return a;for(r=a.Ia(),b=0;b<d;b++)m[b]||r.Fd(a,b,b+1);return r},c.lU=function(a,r,o){var l=new h.l;r.A(l),l.W(o,o),r=a.I();var d=!1;o=[];for(var f=0;f<r;f++)o[f]=!1;var m=new h.h;for(f=0;f<r;f++)a.D(f,m),l.contains(m)&&(d=!0,o[f]=!0);if(!d)return a;for(l=a.Ia(),f=0;f<r;f++)o[f]||l.Fd(a,f,f+1);return l},c.mU=function(a,r,o){var l=a.ub(0),d=a.I(),f=r.D(),m=new h.h,b=!1;r=[];for(var _=0;_<d;_++)r[_]=!1;for(o=(_=o*Math.sqrt(2)*1.00001)*_,_=0;_<d;_++)l.tc(2*_,m),h.h.yc(m,f)<=o&&(b=!0,r[_]=!0);if(!b)return a;for(l=a.Ia(),_=0;_<d;_++)r[_]||l.Fd(a,_,_+1);return l},c.KV=function(a,r,o,l,d){var f=new h.Fh;a.bn(f);var m=new h.l;return r.A(m),f.Zb(m),f.W(.1*f.R(),.1*f.ca()),(m=new h.Da).ad(f,!1),o==1736?m.add(r,!0):m.ad(r,!0),h.Xj.local().V(a,m,l,d)},c.instance=null,c}(h.Je);h.kp=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o){this.ts=a==null,this.ya=-1,this.Rd=c,this.$z=r,this.wT=a.next(),this.Ub=o}return x.prototype.next=function(){return this.ts?null:(c=this.Rd.next())!=null?(this.ya=this.Rd.La(),h.kp.im(c,this.wT,this.$z,this.Ub)):null;var c},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();h.qL=N}(re||(re={})),function(h){var N=function(){function c(a){this.nd=a,this.Bj=new h.l,this.Bj.Oa(),this.oh=new h.l,this.oh.Oa()}return c.prototype.Nt=function(){var a=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=a,a=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=a,a=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=a,a=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=a},c.prototype.eQ=function(a,r){if(this.nd!=null&&!this.nd.progress(-1,-1))throw h.i.fu("user_canceled");var o=!this.Bj.isIntersecting(this.oh);return h.aa.Hc(a.getType())&&h.aa.Hc(r.getType())?a.I()>r.I()?this.gE(a,r,o):(this.Nt(),a=this.gE(r,a,o),this.Nt(),a):a.getType()==550&&h.aa.Hc(r.getType())?(a=this.hE(r,a,o),this.Nt(),a):r.getType()==550&&h.aa.Hc(a.getType())?this.hE(a,r,o):a.getType()==550&&r.getType()==550?a.I()>r.I()?this.iE(a,r):(this.Nt(),a=this.iE(r,a),this.Nt(),a):0},c.prototype.gE=function(a,r,o){var l=a.Ga(),d=r.Ga(),f=new h.l,m=new h.l,b=17976931348623157e292;if(!o&&this.pY(a,r,l,d))return 0;for(;l.$a();)for(;l.Ha();)if((a=l.ha()).A(f),!(f.px(this.oh)>b)){for(;d.$a();)for(;d.Ha();)if((r=d.ha()).A(m),f.px(m)<b&&(r=a.tb(r,o),(r*=r)<b)){if(r==0)return 0;b=r}d.Zi()}return Math.sqrt(b)},c.prototype.hE=function(a,r,o){var l=a.Ga(),d=new h.l,f=17976931348623157e292,m=new h.h,b=r.I();for(o=!o&&a.getType()==1736;l.$a();)for(;l.Ha();){var _=l.ha();if(_.A(d),!(1<b&&d.px(this.oh)>f)){for(var $=0;$<b;$++){if(r.D($,m),o&&h.hd.Yd(a,m,0)!=0)return 0;var C=_.fe(m,!1);if(m.sub(_.hc(C)),(C=m.Sk())<f){if(C==0)return 0;f=C}}o=!1}}return Math.sqrt(f)},c.prototype.iE=function(a,r){for(var o,l=17976931348623157e292,d=new h.h,f=new h.h,m=a.I(),b=r.I(),_=0;_<m;_++)if(a.D(_,d),!(1<b&&this.oh.iK(d)>l)){for(var $=0;$<b;$++)if(r.D($,f),(o=h.h.yc(d,f))<l){if(o==0)return 0;l=o}}return Math.sqrt(l)},c.prototype.pY=function(a,r,o,l){if(a.getType()==1736){for(;l.$a();)if(l.Ha()){var d=l.ha();if(h.hd.Yd(a,d.wc(),0)!=0)return!0}l.Zi()}if(r.getType()==1736){for(;o.$a();)if(o.Ha()&&(a=o.ha(),h.hd.Yd(r,a.wc(),0)!=0))return!0;o.Zi()}return!1},c.prototype.gm=function(a,r){return a.B()||r.B()?NaN:(a.A(this.Bj),r.A(this.oh),this.eQ(a,r))},c}(),x=function(c){function a(){return c!==null&&c.apply(this,arguments)||this}return ci(a,c),a.prototype.V=function(r,o,l){if(r==null||o==null)throw h.i.N();if(r.B()||o.B())return NaN;var d=r.getType(),f=o.getType();if(d==33){if(f==33)return h.h.tb(r.D(),o.D());if(f==197)return l=new h.l,o.A(l),l.tb(r.D());(d=new h.de).add(r),r=d}else if(d==197){if(f==197)return f=new h.l,r.A(f),l=new h.l,o.A(l),l.tb(f);(d=new h.Da).ad(r,!1),r=d}return f==33?((f=new h.de).add(o),o=f):f==197&&((f=new h.Da).ad(o,!1),o=f),new N(l).gm(r,o)},a.local=function(){return a.instance===null&&(a.instance=new a),a.instance},a.prototype.getType=function(){return 14},a.instance=null,a}(h.Je);h.rL=x}(re||(re={})),function(h){var N=function(){function x(c,a,r,o){this.zH=c,this.DH=a,this.nd=o,this.$G=r}return x.prototype.next=function(){var c=this.zH.next();return c==null?null:this.zC(c)},x.prototype.La=function(){return this.zH.La()},x.prototype.zC=function(c){var a=c.getType();if(h.aa.Rn(a))return c;if(a==197)return(a=new h.Da(c.description)).ad(c,!1),this.zC(a);if(c.B())return c;if(c==null)throw h.i.Qa();a=c.Ia();for(var r=new h.yb,o=0,l=c.da();o<l;o++)this.TK(c,o,a,r);return a},x.prototype.TK=function(c,a,r,o){if(!(2>c.Ja(a))){var l=c.Ba(a),d=c.Vc(a)-1,f=c.ub(0),m=c.dc(a),b=new h.ia(0);b.Jb(c.Ja(a)+1);var _=new h.ia(0);for(_.Jb(c.Ja(a)+1),b.add(m?l:d),b.add(l),l=new h.h;1<b.size;){var $=b.Fc();b.If();var C=b.Fc();c.D($,l),o.Dc(l),c.D(C,l),o.Qc(l),0<=(C=this.SK(o,l,f,$,C,d))?(b.add(C),b.add($)):_.add($)}if(m||_.add(b.get(0)),_.size==b.size)r.addPath(c,a,!0);else if(2<=_.size&&(!this.$G||_.size!=2||!(m||h.h.tb(c.Na(_.get(0)),c.Na(_.get(1)))<=this.DH))){for(a=new h.Sa,o=0,d=_.size;o<d;o++)c.ve(_.get(o),a),o==0?r.nf(a):r.lineTo(a);m&&(this.$G||_.size!=2||r.lineTo(a),r.Ap())}}},x.prototype.SK=function(c,a,r,o,l,d){var f=l-1;for(l<=o&&(f=d),d=l=-1,o+=1;o<=f;o++){r.tc(2*o,a);var m=a.x,b=a.y;c.hc(c.fe(a,!1),a),a.x-=m,a.y-=b,(m=a.length())>this.DH&&m>d&&(l=o,d=m)}return l},x.prototype.qe=function(){},x}();h.sL=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 29},c.prototype.V=function(a,r,o,l){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,r,o,l).next()):new h.sL(a,r,o,l)},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.instance=null,c}(h.Je);h.EC=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 21},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o,l,d,f,m,b){return a instanceof h.aa?(b=new h.Zc(a),this.V(b,r,o,[l],d,f,!1,m).next()):m===!0?(o=new h.GC(a,r,o,l,d,!1,!1,b),h.Gh.local().V(o,r,b)):new h.GC(a,r,o,l,d,!1,!1,b)},c.instance=null,c}(h.Je);h.FC=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o,l,d,f,m){if(d)throw h.i.Ie();if(a==null)throw h.i.N();this.ya=-1,this.Ms=c,this.vg=a,this.ze=r,this.Cs=o,this.$n=l,this.eo=-1,this.Ub=m,this.uT=new h.l,this.uT.Oa()}return x.prototype.next=function(){for(var c;(c=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(c,this.Cs[this.eo]);return null},x.prototype.La=function(){return this.ya},x.prototype.$Q=function(c,a){return h.VK.buffer(c,this.vg,this.ze,a,this.$n,this.Ub)},x.prototype.qe=function(){},x}();h.GC=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 24},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o){if(r==null)throw h.i.N();if(a.B()||1>a.Db())return 0;if(o==4)throw h.i.Ie();var l=h.cb.sc(r),d=h.cb.vv(l),f=h.cb.ev(l);d*=2-d;var m=l.Hd().ai,b=a.getType();if(b==1736||b==197)var _=a.mg();else h.aa.yd(b)?(_=new h.Ta(a.description)).oc(a,!0):_=a;if(l.Nb(r)==0){if(h.cb.Wc(r)){_=h.Hh.lj(_,r),b==1607&&_==a&&(_=h.aa.jg(a)),a=new h.Nc,h.cb.gh(r).cn(a),b=0;for(var $=_.I();b<$;b++){var C=_.Na(b);C.x=h.Hh.Zm(C.x,a),_.Cb(b,C)}}a=_.Ia(),_=h.Hh.WI(r,l,_,a)?a:h.cb.zh(_,r,l)}return this.hQ(_,o,f,d,m)},c.prototype.hQ=function(a,r,o,l,d){var f=new h.ga(0),m=0;for(a=a.Ga();a.$a();)for(;a.Ha();){var b=a.ha(),_=b.ac();b=b.wc(),_.scale(d),b.scale(d),h.kb.wd(o,l,_.x,_.y,b.x,b.y,f,null,null,r),m+=f.u}return m},c.instance=null,c}(h.Je);h.vL=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 18},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o,l,d){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,r,o,l,d).next()):new h.uL(a,o,l,r,-1,-1,d)},c.instance=null,c}(h.Je);h.tL=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o,l,d){if(0<d||r!=4&&0<l)throw h.i.Ie();if(a==null)throw h.i.N();this.ya=-1,this.Ms=c,this.vg=a,this.ze=r,this.DT=o,this.CT=l}return x.prototype.next=function(){for(var c;(c=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.Zy(c);return null},x.prototype.La=function(){return this.ya},x.prototype.Zy=function(c){return h.cj.Qr(c,this.vg,this.ze,this.DT,this.CT,this.Ub)},x.prototype.qe=function(){},x}();h.uL=N}(re||(re={})),function(h){(function(N){N[N.Unknown=0]="Unknown",N[N.Contains=1]="Contains",N[N.Within=2]="Within",N[N.Equals=3]="Equals",N[N.Disjoint=4]="Disjoint",N[N.Touches=8]="Touches",N[N.Crosses=16]="Crosses",N[N.Overlaps=32]="Overlaps",N[N.NoThisRelation=64]="NoThisRelation",N[N.Intersects=1073741824]="Intersects",N[N.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(h.cL||(h.cL={})),h.wL=function(){function N(){}return N.nW=function(x,c){var a=x.getType(),r=c.getType();if(h.aa.xj(a)){var o=x.Bb;if(o!=null&&(o=o.Fk)!=null){if(r==33){var l=c.D();o=o.So(l.x,l.y)}else l=new h.l,c.A(l),o=o.Ro(l);if(o==1)return 1;if(o==0)return 4}}if(h.aa.xj(r)&&(o=c.Bb)!=null&&(o=o.Fk)!=null){if(a==33?(x=x.D(),o=o.So(x.x,x.y)):(c=new h.l,x.A(c),o=o.Ro(c)),o==1)return 2;if(o==0)return 4}return 0},N}()}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.getType=function(){return 15},c.prototype.V=function(a,r,o,l,d){return a instanceof h.aa?(a=new h.Zc(a),r=new h.Zc(r),this.V(a,r,o,l,d===void 0?-1:d).next()):d===void 0?new h.HC(a,r,o,l,-1):new h.HC(a,r,o,l,d)},c.prototype.wn=function(a,r,o){this.Iu(a)&&(r=h.ta.kj(r,a,!1),a.fj(o)||a.lu(r,o))},c.prototype.Iu=function(a){return h.Nx.zE(a)},c.instance=null,c}(h.Je);h.Xj=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o,l){if(this.ts=a==null,this.ya=-1,this.Rd=c,this.vg=r,this.Se=a.next(),this.Dj=this.Se.getType(),this.Ub=o,this.Fi=l,this.Fi!=-1&&(0>=this.Fi||7<this.Fi))throw h.i.N("bad dimension mask")}return x.prototype.next=function(){if(this.ts)return null;if(this.zw!=null){var c=this.zw.next();if(c!=null)return c;this.zw=null}for(;(c=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.Fi==-1?c=this.Ea(c):(this.zw=this.PS(c),c=this.zw.next()),c;return null},x.prototype.La=function(){return this.ya},x.prototype.Ea=function(c){var a=this.zK(c);if(a!=null)return a;a=h.ta.mv(this.Se,c);var r=h.ta.Wd(this.vg,a,!0);a=new h.l,this.Se.A(a);var o=new h.l;return c.A(o),a.W(2*r,2*r),a.Ea(o),a.W(100*r,100*r),r=h.Ud.clip(this.Se,a,0,0),c=h.Ud.clip(c,a,0,0),h.Fg.Av(c,r,this.vg,this.Ub)},x.prototype.QI=function(c,a,r){var o=0;if(1&a)r[0]==null&&(r[0]=new h.de(c)),o++;else for(var l=0;l<r.length-1;l++)r[l]=r[l+1];if(2&a)r[o]==null&&(r[o]=new h.Ta(c)),o++;else for(l=o;l<r.length-1;l++)r[l]=r[l+1];if(4&a)r[o]==null&&(r[o]=new h.Da(c)),o++;else for(l=o;l<r.length-1;l++)r[l]=r[l+1];if(o!=3){for(c=[],l=0;l<o;l++)c[l]=r[l];return new h.Zc(c)}return new h.Zc(r)},x.prototype.PS=function(c){var a=this.zK(c);if(a!=null){var r=[null,null,null];return r[a.Db()]=a,this.QI(c.description,this.Fi,r)}a=h.ta.mv(this.Se,c),r=h.ta.Wd(this.vg,a,!0),a=new h.l,this.Se.A(a),a.W(2*r,2*r);var o=new h.l;return c.A(o),a.Ea(o),a.W(100*r,100*r),r=h.Ud.clip(this.Se,a,0,0),a=h.Ud.clip(c,a,0,0),r=h.Fg.Pz(a,r,this.vg,this.Ub),this.QI(c.description,this.Fi,r)},x.prototype.zK=function(c){var a=h.ta.mv(c,this.Se),r=h.ta.Wd(this.vg,a,!0);a=c.getType();var o=c.B(),l=this.Se.B();if(!(l=o||l)){l=new h.l,c.A(l);var d=new h.l;this.Se.A(d),d.W(2*r,2*r),l=!l.isIntersecting(d)}if(!l)if((d=h.wL.nW(this.Se,c))==4)l=!0;else{if(2&d)return this.Se;if(1&d)return c}if(l)return(r=h.aa.tf(a))<(l=h.aa.tf(this.Dj))?x.HB(c,o):r>l||r==0&&a==550&&this.Dj==33?this.nJ():x.HB(c,o);if((this.Fi==-1||this.Fi==4)&&a==197&&this.Dj==197)return r=this.Se,a=new h.l,c.A(a),o=new h.l,r.A(o),a.Ea(o),r=new h.Fh,c.copyTo(r),r.Xo(a),r;if(a==197&&h.aa.tf(this.Dj)==0||this.Dj==197&&h.aa.tf(a)==0)return o=a==197?c:this.Se,c=a==197?this.Se:c,a=new h.l,o.A(a),h.Ud.clip(c,a,r,0);if(h.aa.tf(a)==0&&0<h.aa.tf(this.Dj)||0<h.aa.tf(a)&&h.aa.tf(this.Dj)==0){if(r=h.ta.kj(this.vg,c,!1),a==550||a==33)return h.Fg.zG(c,this.Se,r);if(this.Dj==550||this.Dj==33)return h.Fg.zG(this.Se,c,r);throw h.i.Qa()}return this.Fi!=-1&&this.Fi!=2||a!=1607||this.Dj!=1736?this.Fi!=-1&&this.Fi!=2||a!=1736||this.Dj!=1607?null:this.wK(this.Se,c):this.wK(c,this.Se)},x.prototype.wK=function(c,a){var r=c,o=a,l=h.ta.kj(this.vg,a,!1),d=new h.l;o.A(d);var f=new h.l;r.A(f),f.W(2*l,2*l),d.Ea(f),d.W(10*l,10*l),r=c=h.Ud.clip(c,d,0,0),f=new h.ia(0);var m=-1,b=o.Bb;if(b!=null){var _=b.Fk;if(_!=null){m=0,f.Jb(r.I()+r.da());for(var $=new h.l,C=r.Ga();C.$a();)for(;C.Ha();){C.ha().A($);var P=_.Ro($);P==1?f.add(1):P==0?f.add(0):(f.add(-1),m++)}}}if(5<a.I()&&(b=(o=a=h.Ud.clip(a,d,0,0)).Bb),0>m&&(m=r.yz()),d=r.I()+o.I(),m*o.I()>Math.log(d)*d*4)return null;d=null,m=o.Ga(),b!=null&&b.Fb!=null&&(d=b.Fb),d==null&&20<o.I()&&(d=h.ta.nE(o)),c=c.Ia(),o=null,b=r.Ga(),_=[0,0,0,0,0,0,0,0,0],$=new h.be(0),C=new h.ig,P=-1;for(var L=0,V=0,U=0<f.size,Y=-1;b.$a();){Y=b.gb;var X=0;for(P=-1,L=0;b.Ha();){var Z=U?h.O.truncate(f.get(V)):-1;V++;var ne=b.ha();if(0>Z){if(d!=null)for(o==null?o=d.vR(ne,l):o.Uo(ne,l),Z=o.next();Z!=-1;Z=o.next()){m.Vb(d.ja(Z)),Z=m.ha();var oe=ne.Ea(Z,null,_,null,l);for(Z=0;Z<oe;Z++)$.add(_[Z])}else for(m.Zi();m.$a();)for(;m.Ha();)for(Z=m.ha(),oe=ne.Ea(Z,null,_,null,l),Z=0;Z<oe;Z++)$.add(_[Z]);if(0<$.size){$.Vd(0,$.size,function(qe,Ue){return qe-Ue});var he=0;$.add(1),oe=-1,Z=0;for(var be=$.size;Z<be;Z++){var Ce=$.get(Z);if(Ce!=he){var Pe=!1;if(he!=0||Ce!=1?(ne.ah(he,Ce,C),he=C.get()):(he=ne,Pe=!0),2<=X){if(c.Dr(r,Y,P,L,X==3),this.QD(a,he.ac(),l)!=1&&this.RD(a,he,l)!=1)return null;c.oc(he,!1),X=1,L=0}else switch(oe=this.RD(a,he,l),oe){case 1:Pe?2>X?(P=b.wb()-r.Ba(Y),L=1,X=X==0?3:2):L++:(c.oc(he,X==0),X=1);break;case 0:X=0,P=-1,L=0;break;default:return null}he=Ce}}}else{if(0>(Z=this.QD(a,ne.ac(),l)))return null;Z==1?(2>X&&(P=b.wb()-r.Ba(Y),X=X==0?3:2),L++):(P=-1,L=0)}$.clear(!1)}else Z!=0&&Z==1&&(X==0?(X=3,P=b.wb()-r.Ba(Y)):X==1?(X=2,P=b.wb()-r.Ba(Y)):L++)}2<=X&&(c.Dr(r,Y,P,L,X==3),P=-1)}return c},x.prototype.QD=function(c,a,r){return h.Dg.wm(c,a,r)},x.prototype.RD=function(c,a,r){var o=a.ac();a=a.wc();var l=h.Dg.wm(c,o,r),d=h.Dg.wm(c,a,r);return l==1&&d==0||l==0&&d==1?-1:l==0||d==0?0:l==1||d==1?1:((l=new h.h).add(o,a),l.scale(.5),(c=h.Dg.wm(c,l,r))==0?0:c==1?1:-1)},x.HB=function(c,a){return a?c:c.Ia()},x.prototype.nJ=function(){return this.yH==null&&(this.yH=this.Se.Ia()),this.yH},x.prototype.qe=function(){},x}();h.HC=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 28},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o,l,d,f,m){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,r,o,l,d,f,m).next()):new h.xL(a,r,o,l,d,f,m)},c.instance=null,c}(h.Je);h.IC=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o,l,d,f){this.ya=-1,this.Rd=c,this.Mj=a,this.Ka=r,this.Ki=o,this.CA=l,this.uH=d,this.nd=f}return x.prototype.next=function(){var c=this.Rd.next();return c!=null?(this.ya=this.Rd.La(),this.jL(c)):null},x.prototype.La=function(){return this.ya},x.prototype.jL=function(c){var a=0>=this.uH?h.ta.kj(this.Mj,c,!1):this.uH;return h.IK.V(c,this.Ka,this.Ki,this.CA,a,this.nd)},x.prototype.qe=function(){},x}();h.xL=N}(re||(re={})),function(h){var N;(N=h.NK||(h.NK={}))[N.clipToDomainOnly=1]="clipToDomainOnly",N[N.clipWithHorizon=2]="clipWithHorizon",N[N.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var x=function(c){function a(){return c!==null&&c.apply(this,arguments)||this}return ci(a,c),a.prototype.getType=function(){return 0},a.local=function(){return a.instance===null&&(a.instance=new a),a.instance},a.prototype.V=function(r,o,l){return r instanceof h.aa?(r=new h.Zc(r),this.V(r,o,l).next()):new h.yL(r,o,l)},a.prototype.transform=function(r,o,l,d){return h.bu.transform(r,o,l,d,!0)},a.prototype.Qt=function(r,o,l,d){return h.bu.Qt(r,o,l,d)},a.instance=null,a}(h.Je);h.Hx=x}(re||(re={})),function(h){var N=function(){function x(c,a,r){this.ya=-1,this.Rd=c,this.MT=a,this.nd=r}return x.prototype.next=function(){var c=this.Rd.next();return c!=null?(this.ya=this.Rd.La(),h.bu.zh(c,this.MT,this.nd)):null},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();h.yL=N}(re||(re={})),function(h){var N=function(){function c(){}return c.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},c.prototype.AQ=function(a,r,o){for(a.Vb(r,o);a.Ha();){var l=a.ha();if((l=l.Qb())!=0)return a.wb()}for(a.Vb(r,o);a.Ez();)if((l=(l=a.li()).Qb())!=0)return a.wb();return-1},c.prototype.BQ=function(a,r){for(a.Vb(r,-1);a.Ez();)if(a.li().Qb()!=0)return a.wb();return-1},c.prototype.zQ=function(a,r){for(a.Vb(r,-1),a.ha();a.Ha();)if(a.ha().Qb()!=0)return a.wb();return-1},c.prototype.yQ=function(a,r,o,l){if(this.xk=this.AQ(r,o,l),this.xk!=-1){r.Vb(this.xk,-1);var d=r.ha(),f=d.hc(d.fe(a,!1));if(o=h.h.yc(f,a),(l=new h.h).L(f),l.sub(d.ac()),(f=new h.h).L(a),f.sub(d.ac()),this.kq=0>l.wi(f),this.ph=this.zQ(r,this.xk),this.ph!=-1){r.Vb(this.ph,-1);var m=(d=r.ha()).fe(a,!1);m=d.hc(m);var b=h.h.yc(m,a);b>o?this.ph=-1:(l.L(m),l.sub(d.ac()),f.L(a),f.sub(d.ac()),this.us=0>l.wi(f))}this.ph==-1&&(this.ph=this.BQ(r,this.xk),this.ph!=-1&&(r.Vb(this.ph,-1),m=(d=r.ha()).fe(a,!1),m=d.hc(m),(b=h.h.yc(m,a))>o?this.ph=-1:(l.L(m),l.sub(d.ac()),f.L(a),f.sub(d.ac()),this.us=0>l.wi(f),a=this.xk,this.xk=this.ph,this.ph=a,a=this.kq,this.kq=this.us,this.us=a)))}},c.prototype.cO=function(a,r,o,l,d){return o=o.Ga(),this.yQ(a,o,l,d),this.xk!=-1&&this.ph==-1?this.kq:this.xk!=-1&&this.ph!=-1?this.kq==this.us?this.kq:(o.Vb(this.xk,-1),a=o.ha().kg(),o.Vb(this.ph,-1),r=o.ha().kg(),0<=a.wi(r)):r},c}(),x=function(c){function a(){return c!==null&&c.apply(this,arguments)||this}return ci(a,c),a.local=function(){return a.instance===null&&(a.instance=new a),a.instance},a.prototype.getType=function(){return 3},a.prototype.nz=function(r,o,l){var d;if(d===void 0&&(d=!1),r.B())return new h.$l;o=o.D();var f=r,m=r.getType();switch(m==197&&((f=new h.Da).ad(r,!1),m=1736),m){case 33:return this.xI(f,o);case 550:return this.jI(f,o);case 1607:case 1736:return this.bU(f,o,l,d);default:throw h.i.fa("not implemented")}},a.prototype.oz=function(r,o){if(r.B())return new h.$l;o=o.D();var l=r,d=r.getType();switch(d==197&&((l=new h.Da).ad(r,!1),d=1736),d){case 33:return this.xI(l,o);case 550:case 1607:case 1736:return this.jI(l,o);default:throw h.i.fa("not implemented")}},a.prototype.pz=function(r,o,l,d){if(0>d)throw h.i.N();if(r.B())return[];o=o.D();var f=r,m=r.getType();switch(m==197&&((f=new h.Da).ad(r,!1),m=1736),m){case 33:return this.TU(f,o,l,d);case 550:case 1607:case 1736:return this.tU(f,o,l,d);default:throw h.i.fa("not implemented")}},a.prototype.bU=function(r,o,l,d){if(r.getType()==1736&&l&&(l=new h.l,r.A(l),l=h.ta.Wd(null,l,!1),(d?h.hd.Yd(r,o,0):h.hd.Yd(r,o,l))!=0)){var f=new h.$l(o,0,0);return d&&f.WJ(!0),f}var m=r.Ga();f=new h.h;for(var b=l=-1,_=17976931348623157e292,$=0;m.$a();)for(;m.Ha();){var C=m.ha();C=C.hc(C.fe(o,!1));var P=h.h.yc(C,o);P<_?($=1,f=C,l=m.wb(),b=m.gb,_=P):P==_&&$++}return f=new h.$l(f,l,Math.sqrt(_)),d&&(m.Vb(l,b),C=m.ha(),d=0>h.h.Uq(o,C.ac(),C.wc()),1<$&&(($=new N).reset(),d=$.cO(o,d,r,l,b)),f.WJ(d)),f},a.prototype.xI=function(r,o){return r=r.D(),o=h.h.tb(r,o),new h.$l(r,0,o)},a.prototype.jI=function(r,o){for(var l=r.ub(0),d=r.I(),f=r=0,m=0,b=17976931348623157e292,_=0;_<d;_++){var $=new h.h;l.tc(2*_,$);var C=h.h.yc($,o);C<b&&(f=$.x,m=$.y,r=_,b=C)}return(o=new h.$l).ey(f,m,r,Math.sqrt(b)),o},a.prototype.TU=function(r,o,l,d){return d==0?[]:(l*=l,r=r.D(),(o=h.h.yc(r,o))<=l?(l=[],(d=new h.$l).ey(r.x,r.y,0,Math.sqrt(o)),l[0]=d):l=[],l)},a.prototype.tU=function(r,o,l,d){if(d==0)return[];var f=r.ub(0),m=r.I();r=[],l*=l;for(var b=0;b<m;b++){var _=f.read(2*b),$=f.read(2*b+1),C=o.x-_,P=o.y-$;(C=C*C+P*P)<=l&&((P=new h.$l).ey(_,$,b,Math.sqrt(C)),r.push(P))}return o=r.length,r.sort(function(L,V){return L.Ka<V.Ka?-1:L.Ka==V.Ka?0:1}),d>=o||(r.length=d),r.slice(0)},a.instance=null,a}(h.Je);h.Ix=x}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 4},c.prototype.V=function(a,r,o,l,d){return h.am.yB(a,r,o,l,d)},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.Iu=function(a){return h.Vt.wy(a)},c.prototype.wn=function(a,r,o){h.Vt.CD(a,r,o)},c.instance=null,c}(h.Je);h.zL=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 33},c.prototype.V=function(a,r,o,l,d){return a===1073741824?!h.ud.zB(r,o,l,4,d):h.ud.zB(r,o,l,a,d)},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.Iu=function(a){return h.Vt.wy(a)},c.prototype.wn=function(a,r,o){h.Vt.CD(a,r,o)},c.instance=null,c}(h.Je);h.dj=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o){if(this.nd=o,this.rT=r,this.ya=-1,c==null)throw h.i.N();this.yk=c,this.Mj=a}return x.prototype.next=function(){var c;if((c=this.yk.next())!=null){if(this.ya=this.yk.La(),this.nd!=null&&!this.nd.progress(-1,-1))throw h.i.fu("user_canceled");return this.eC(c)}return null},x.prototype.La=function(){return this.ya},x.prototype.eC=function(c){if(c==null)throw h.i.N();return h.Jx.cK(c,this.Mj,this.rT,this.nd)},x.prototype.qe=function(){},x}();h.AL=N}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 26},c.prototype.V=function(a,r,o,l){return a instanceof h.aa?(a=new h.Zc(a),this.V(a,r,o,l).next()):new h.AL(a,r,o,l)},c.prototype.rs=function(a,r,o,l,d){return 0<(l!==void 0?h.Jx.rs(a,r,o,l,d):h.Jx.rs(a,r,!1,null,o))},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.instance=null,c}(h.Je);h.Yl=N}(re||(re={})),function(h){var N=function(){function d(){this.yq=0}return d.prototype.nX=function(f){this.yq&=-2,this.yq|=f?1:0},d.prototype.Wp=function(){return!!(1&this.yq)},d.prototype.XF=function(){return this.Wp()?0:1},d}();h.xY=N;var x=function(){},c=function(d,f,m,b){this.x=d,this.y=f,this.Ai=m,this.xm=b},a=function(){function d(f){this.Be=f}return d.prototype.compare=function(f,m,b){return f=f.ja(b),m=this.Be.lf.read(2*m),0>(m-=f=this.Be.lf.read(2*f))?-1:0<m?1:0},d}(),r=function(){function d(f){this.Be=f}return d.prototype.compare=function(f,m,b){m=this.Be.hb[m],f=this.Be.hb[f.ja(b)];var _=m.Wp(),$=f.Wp();b=m.ne.Pe(this.Be.Mo,0);var C=f.ne.Pe(this.Be.Mo,0);return b==C&&((_=.5*((b=Math.min(_?m.ne.na:m.ne.la,$?f.ne.na:f.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(_=b),b=m.ne.Pe(_,0),C=f.ne.Pe(_,0)),b<C?-1:b>C?1:0},d}(),o=function(){function d(f,m){this.YI=new h.h,this.parent=f,this.dS=m}return d.prototype.nr=function(f,m,b){var _=this.parent,$=this.dS;b.Vd(f,m,function(C,P){return _.Mh(C,P,$)})},d.prototype.$p=function(f){return f=this.parent.gi.get(f),this.parent.lf.tc(2*(f>>1),this.YI),this.YI.y+(1&f?this.parent.Oj:-this.parent.Oj)},d}(),l=function(){function d(f,m,b,_,$){this.nH=f.description,this.X=f,this.Qg=m,this.Oj=h.ta.kj(this.Qg,f,!1),this.Bo=h.ta.kj(this.Qg,f,!0),this.xA=b,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new h.jp,this.fb=new h.Yj,this.ke=new h.Md,this.ZG=this.ql=$}return d.prototype.eT=function(){return this.ZG=!0,(!h.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?h.aa.Hc(this.X.getType())?this.pO()?this.X.getType()==1607?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},d.prototype.kC=function(f,m){var b=this.lf.read(2*f);f=this.lf.read(2*f+1);var _=this.lf.read(2*m);m=this.lf.read(2*m+1);var $=!h.Yt.Cv(b,f,_,m,this.Oj*this.Oj);return $||this.X.Db()!=0&&b==_&&f==m},d.prototype.GE=function(){for(var f=this.X,m=f.xf?3:2,b=0,_=f.da();b<_;b++)if(f.Ja(b)<m)return this.ke=new h.Md(1,b,0),!1;return!0},d.prototype.DE=function(f){var m=this.X,b=m.Ga(),_=m.hasAttribute(1);for(m=_?h.ta.wE(this.Qg,m,!1):0;b.$a();)for(;b.Ha();){var $=b.ha();if(!($.Qb()>this.Oj)){if(f&&_){var C=$.wv(1,0);if($=$.wv(1,0),Math.abs($-C)>m)continue}return this.ke=new h.Md(2,b.wb(),-1),!1}}return!0},d.prototype.mO=function(){var f=this.X,m=null;h.aa.Hc(this.X.getType())&&(m=this.X);var b=(this.ZG||this.ql)&&m!=null,_=f.I();this.lf=f.ub(0),this.gi=new h.ia(0),this.gi.Jb(2*_),this.fi=new h.ia(0),this.fi.Jb(2*_),b&&(this.Fl==null&&(this.Fl=new h.ia(0)),this.Fl.Jb(_));for(var $=f=0;$<_;$++)if(this.gi.add(2*$),this.gi.add(2*$+1),this.fi.add(2*$),this.fi.add(2*$+1),b){for(;$>=m.Vc(f);)f++;this.Fl.add(f)}for(new h.Xt().sort(this.fi,0,2*_,new o(this,b)),this.fb.clear(),this.fb.Vo(new a(this)),this.fb.De(_),m=0,_*=2;m<_;m++)if(b=this.fi.get(m),b=(f=this.gi.get(b))>>1,1&f){if(f=this.fb.search(b,-1),$=this.fb.we(f),C=this.fb.lb(f),this.fb.vd(f,-1),$!=-1&&C!=-1&&!this.kC(this.fb.ja($),this.fb.ja(C)))return this.ke=new h.Md(3,this.fb.ja($),this.fb.ja(C)),!1}else{if(f=this.fb.addElement(b,-1),($=this.fb.we(f))!=-1&&!this.kC(this.fb.ja($),b))return this.ke=new h.Md(3,b,this.fb.ja($)),!1;var C=this.fb.lb(f);if(C!=-1&&!this.kC(this.fb.ja(C),b))return this.ke=new h.Md(3,b,this.fb.ja(C)),!1}return!0},d.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},d.prototype.oO=function(){var f=new h.gd;f.Ib(this.X);var m=new h.Md;return!h.$t.kI(!1,f,this.Oj,m,this.nd)||(m.Jo=f.Ua(m.Jo),m.Ko=f.Ua(m.Ko),this.ke.Wt(m),!1)},d.prototype.nO=function(){var f=this.X,m=f.Ga();for(f=f.Ga();m.$a();)for(;m.Ha();){var b=m.ha();if(!m.Qn()||!m.$S()){f.BW(m);do for(;f.Ha();){var _=f.ha();if((_=b.zr(_,this.Oj,!0))!=0)return this.ke=new h.Md(_==2?5:4,m.wb(),f.wb()),!1}while(f.$a())}}return!0},d.prototype.sO=function(){var f=this.X;this.hb.length=0,this.po.length=0,this.Zf=f.Ga(),this.Zf.JB();var m=new h.ia(0);m.Jb(10);var b=NaN,_=0,$=0;for(f=2*f.I();$<f;$++){var C=this.fi.get($);if(!(1&(C=this.gi.get(C)))){C>>=1;var P=this.lf.read(2*C),L=this.lf.read(2*C+1);if(m.size!=0&&(P!=b||L!=_)){if(!this.RI(m))return!1;m!=null&&m.clear(!1)}m.add(C),b=P,_=L}}return!!this.RI(m)},d.prototype.rO=function(){for(var f=this.X,m=Array(f.da()),b=0,_=f.da();b<_;b++)m[b]=f.Nn(b);_=new x;var $=new h.h;b=this.fi.get(0);var C=(b=this.gi.get(b))>>1;this.lf.tc(2*C,$);var P=m[b=this.Fl.get(C)],L=f.Ba(b),V=f.Vc(b)-1;_.el=C==L||C==V,_.ny=this.ql?!P&&_.el:_.el,_.Ai=b,_.x=$.x,_.y=$.y,_.xm=C;for(var U=new x,Y=1,X=this.fi.size;Y<X;Y++)if(b=this.fi.get(Y),!(1&(b=this.gi.get(b)))){C=b>>1,this.lf.tc(2*C,$),(b=this.Fl.get(C))!=_.Ai&&(P=m[b],L=f.Ba(b),V=f.Vc(b)-1);var Z=C==L||C==V,ne=this.ql?!P&&_.el:_.el;if(U.x=$.x,U.y=$.y,U.Ai=b,U.xm=C,U.ny=ne,U.el=Z,U.x==_.x&&U.y==_.y){if(this.ql){if(!(U.ny&&_.ny||U.Ai==_.Ai&&(U.el||_.el)))return this.ke=new h.Md(8,U.xm,_.xm),!1}else if(!U.el||!_.el)return this.ke=new h.Md(5,U.xm,_.xm),!1}b=_,_=U,U=b}return!0},d.prototype.JE=function(){for(var f=this.X,m=[],b=-1,_=!1,$=0,C=f.da();$<C;$++)f.Ev($)&&(_=!1,b++,$<C-1&&(f.Ev($+1)||(_=!0))),m[$]=_?b:-1;_=new h.h,$=this.fi.get(0);var P=($=this.gi.get($))>>1;this.lf.tc(2*P,_),$=this.Fl.get(P),b=new c(_.x,_.y,$,P,m[$]),f=[];var L=1;for(C=this.fi.size;L<C;L++)if($=this.fi.get(L),!(1&($=this.gi.get($)))){if(P=$>>1,this.lf.tc(2*P,_),$=this.Fl.get(P),($=new c(_.x,_.y,$,P,m[$])).x==b.x&&$.y==b.y){if($.Ai==b.Ai)return this.ke=new h.Md(9,$.xm,b.xm),!1;0<=m[$.Ai]&&m[$.Ai]==m[b.Ai]&&(f.length!=0&&f[f.length-1]==b||f.push(b),f.push($))}b=$}if(f.length==0)return!0;for($=new h.jp(!0),h.O.$u(m,-1),_=-1,(L=new h.h).Rc(),b=0,C=f.length;b<C;b++){(P=f[b]).x==L.x&&P.y==L.y||(_=$.Ph(0),L.x=P.x,L.y=P.y);var V=m[P.Ai];V==-1&&(V=$.Ph(2),m[P.Ai]=V),$.addElement(V,_),$.addElement(_,V)}for((C=new h.ia(0)).Jb(10),b=$.je;b!=-1;b=$.qz(b))if(!(1&(f=$.PF(b)))&&2&f){for(f=-1,C.add(b),C.add(-1);0<C.size;){if(_=C.Fc(),C.If(),L=C.Fc(),C.If(),1&(P=$.PF(L))){f=2&P?L:_;break}for($.fX(L,1|P),P=$.rc(L);P!=-1;P=$.lb(P))(V=$.getData(P))!=_&&(C.add(V),C.add(L))}if(f!=-1){for($=-1,b=0,C=m.length;b<C;b++)if(m[b]==f){$=b;break}return this.ke=new h.Md(10,$,-1),!1}}return!0},d.prototype.tO=function(){var f=this.X;if(0>=f.Ke())return this.ke=new h.Md(6,f.da()==1?1:-1,-1),0;if(f.da()==1)return this.ql&&!this.JE()?0:2;this.to=h.ia.qf(f.da(),0),this.JA=h.ia.qf(f.da(),-1);for(var m=-1,b=0,_=0,$=f.da();_<$;_++){var C=f.Ir(_);if(this.to.write(_,0>C?0:256),0<C)m=_,b=C;else{if(C==0)return this.ke=new h.Md(6,_,-1),0;if((0>m||b<Math.abs(C))&&(this.ke=new h.Md(7,_,-1),this.ql))return 0;this.JA.write(_,m)}}for(this.dt=f.da(),this.Om=new h.ia(0),this.Om.Jb(10),$=f.I(),this.Mo=NaN,(f=new h.ia(0)).Jb(10),this.Qq=h.ia.qf($,-1),this.Hw=h.ia.qf($,-1),this.zj!=null?this.zj.clear(!1):this.zj=new h.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new r(this)),m=0,$*=2;0<this.dt&&m<$;m++)if(b=this.fi.get(m),!(1&(b=this.gi.get(b)))){if(b>>=1,(_=this.lf.read(2*b+1))!=this.Mo&&f.size!=0){if(!this.ut(f))return 0;f!=null&&f.clear(!1)}f.add(b),this.Mo=_}return 0<this.dt&&!this.ut(f)?0:this.ql?this.ke.Jj==0&&this.JE()?2:0:this.ke.Jj==0?2:1},d.prototype.RI=function(f){if(f.size==1)return!0;for(var m=0,b=f.size;m<b;m++){var _=f.get(m);this.Zf.Vb(_);var $=this.Zf.li();this.hb.push(this.Su($,_,this.Zf.gb,!0)),this.Zf.ha(),$=this.Zf.ha(),this.hb.push(this.Su($,_,this.Zf.gb,!1))}var C=this;for(this.hb.sort(function(V,U){return C.XP(V,U)}),(_=this.mh.je)==-1&&(_=this.mh.Ph(0)),this.mh.fn(this.hb.length),m=0,b=this.hb.length;m<b;m++)this.mh.addElement(_,m);m=!0;for(var P=b=-1;m&&(m=!1,($=this.mh.rc(_))!=-1);)for(var L=this.mh.lb($);L!=-1;)if(b=this.mh.getData($),P=this.mh.getData(L),(b=this.hb[b].Io)!=(P=this.hb[P].Io))$=L,L=this.mh.lb($);else if(m=!0,this.mh.jd(_,$),$=this.mh.we(L),(L=this.mh.jd(_,L))==-1||$==-1)break;if(m=this.mh.bs(_),this.mh.LE(_),0<m)return this.ke=new h.Md(5,b,P),!1;for(m=0,b=f.size;m<b;m++)this.vB(this.hb[m]);return this.hb.length=0,!0},d.prototype.ut=function(f){for(var m=0,b=f.size;m<b;m++){var _=f.get(m),$=this.Qq.read(_);if($!=-1){var C=this.fb.ja($);this.zj.add(C),this.fb.vd($,-1),this.vB(this.hb[C]),this.hb[C]=null,this.Qq.write(_,-1)}($=this.Hw.read(_))!=-1&&(C=this.fb.ja($),this.zj.add(C),this.fb.vd($,-1),this.vB(this.hb[C]),this.hb[C]=null,this.Hw.write(_,-1))}for(m=0,b=f.size;m<b;m++){if(_=f.get(m),this.Zf.Vb(_),($=this.Zf.li()).na>$.la){var P=this.Zf.wb(),L=this.Su($,_,this.Zf.gb,!0);0<this.zj.size?(C=this.zj.Fc(),this.zj.If(),this.hb[C]=L):(C=this.hb.length,this.hb.push(L)),$=this.fb.addElement(C,-1),this.Qq.read(P)==-1?this.Qq.write(P,$):this.Hw.write(P,$),!(3&this.to.read(this.Zf.gb))&&this.Om.add($)}this.Zf.ha(),($=this.Zf.ha()).na<$.la&&(P=this.Zf.ik(),L=this.Su($,_,this.Zf.gb,!1),0<this.zj.size?(C=this.zj.Fc(),this.zj.If(),this.hb[C]=L):(C=this.hb.length,this.hb.push(L)),$=this.fb.addElement(C,-1),this.Qq.read(P)==-1?this.Qq.write(P,$):this.Hw.write(P,$),!(3&this.to.read(this.Zf.gb))&&this.Om.add($))}for(m=0,b=this.Om.size;m<b&&0<this.dt;m++)if($=this.Om.get(m),!(3&this.to.read(this.hb[this.fb.ja($)].IA))){f=-1,_=this.fb.we($);var V=$;L=null,C=-1;for(var U=0;_!=-1&&(C=this.fb.ja(_),C=(L=this.hb[C]).IA,!(3&(U=this.to.read(C))));)V=_,_=this.fb.we(_);_==-1?(P=1,_=V):(f=(3&U)==1?C:this.JA.read(C),P=L.XF()!=0?0:1,_=this.fb.lb(_));do{if(C=this.fb.ja(_),C=(L=this.hb[C]).IA,!(3&(V=this.to.read(C)))){if(P!=L.XF())return this.ke=new h.Md(6,C,-1),!1;if(V=252&V|(U=P==0||L.Wp()?2:1),this.to.write(C,U),U==2&&this.ke.Jj==0&&this.JA.read(C)!=f&&(this.ke=new h.Md(7,C,-1),this.ql))return!1;if(this.dt--,this.dt==0)return!0}(3&V)==1&&(f=C),V=_,_=this.fb.lb(_),P=P!=0?0:1}while(V!=$)}return this.Om!=null?this.Om.clear(!1):this.Om=new h.ia(0),!0},d.prototype.Su=function(f,m,b,_){if(f.getType()!=322)throw h.i.Qa();return(f=this.sP(f)).Io=m,f.IA=b,f.yq=0,f.nX(_),f},d.prototype.sP=function(f){if(0<this.po.length){var m=this.po[this.po.length-1];--this.po.length,f.copyTo(m.ne)}else(m=new N).ne=h.SC.jg(f);return m},d.prototype.vB=function(f){f.ne.getType()==322&&this.po.push(f)},d.prototype.kU=function(){for(var f=this.X.I(),m=new h.ia(0),b=0;b<f;b++)m.add(b);var _=this;for(m.Vd(0,f,function($,C){return _.Ou($,C)}),b=1;b<f;b++)if(this.Ou(m.get(b-1),m.get(b))==0)return this.ke=new h.Md(3,m.get(b-1),m.get(b)),0;return 2},d.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},d.prototype.oV=function(){return this.eT()},d.prototype.pU=function(){for(var f=this.X.I(),m=new h.ia(0),b=0;b<f;b++)m.add(b);var _=this;m.Vd(0,f,function(V,U){return _.PO(V,U)});var $=Array(f);for(h.O.$u($,!1),$[m.get(0)]=!0,b=1;b<f;b++){var C=m.get(b-1),P=m.get(b);this.Ou(C,P)==0?$[P]=!1:$[P]=!0}m=this.X.Ia(),C=this.X,P=0;var L=1;for(b=0;b<f;b++)$[b]?L=b+1:(P<L&&m.Fd(C,P,L),P=b+1);return P<L&&m.Fd(C,P,L),m.Ch(2,this.Bo),m},d.prototype.NV=function(){var f=this.X,m=f.Ga(),b=f.Ga(),_=this.X.Ia(),$=this.X,C=f.hasAttribute(1),P=C?h.ta.wE(this.Qg,f,!0):0,L=new h.ia(0),V=new h.ia(0);for(L.Jb(h.O.truncate(f.I()/2+1)),V.Jb(h.O.truncate(f.I()/2+1));m.$a();)if(b.$a(),!(2>f.Ja(m.gb))){b.EW();for(var U,Y,X=!0;m.Ha();){var Z=m.ha(),ne=b.li();if(m.wb()>b.wb())break;X&&(L.add(m.wb()),V.add(b.ik()),X=!1),Y=L.Fc();var oe=m.ik();if(1<oe-Y){var he=new h.h;he.uc(f.Na(Y),f.Na(oe)),U=he.length()}else U=Z.Qb();Y=V.Fc(),1<(oe=b.wb())-Y?((he=new h.h).uc(f.Na(Y),f.Na(oe)),Y=he.length()):Y=ne.Qb(),U>this.Bo?L.add(m.ik()):C&&(U=f.Uc(1,L.Fc(),0),Z=Z.gv(1,0),Math.abs(Z-U)>P&&L.add(m.ik())),Y>this.Bo?V.add(b.wb()):C&&(U=f.Uc(1,V.Fc(),0),Z=ne.gv(1,0),Math.abs(Z-U)>P&&V.add(b.wb()))}if(L.Fc()<V.Fc()?L.size>V.size?L.If():V.If():(L.Fc()!=V.Fc()&&V.If(),V.If()),2<=V.size+L.size){for(X=new h.Sa,ne=0,Z=L.size;ne<Z;ne++)$.ve(L.get(ne),X),ne==0?_.nf(X):_.lineTo(X);for(ne=V.size-1;0<ne;ne--)$.ve(V.get(ne),X),_.lineTo(X);$.dc(m.gb)?_.Ap():0<V.size&&($.ve(V.get(0),X),_.lineTo(X))}L!=null&&L.clear(!1),V!=null&&V.clear(!1)}return _.Ch(2,this.Bo),_},d.prototype.rV=function(){return this.DX()},d.prototype.DX=function(){return this.X.getType()==1736&&this.X.In()==1?h.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new h.gd,this.Hi.Ib(this.X),this.Hi.fd!=0&&(this.xA!=1&&h.Tk.V(this.Hi,this.Bo,this.nd,!0),this.X.getType()==1736&&h.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),this.X.getType()==1736&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},d.rs=function(f,m,b,_,$){if(_!=null&&(_.Jj=0,_.Jo=-1,_.Ko=-1),f.B())return 1;var C=f.getType();if(C==33)return 1;var P=h.ta.kj(m,f,!1);if(C==197)return m=new h.l,f.A(m),m.Bi(P)?(_!=null&&(_.Jj=2,_.Jo=-1,_.Ko=-1),0):1;if(h.aa.yd(C))return(P=new h.Ta(f.description)).oc(f,!0),d.rs(P,m,b,_,$);var L=f.om(P);if((b=b?-1:L)!=-1)return b;if(m=new d(f,m,b,$,!1),C==550)b=m.kU();else if(C==1607)b=m.JV();else{if(C!=1736)throw h.i.Qa();b=m.oV()}return f.Ch(b,P),_!=null&&b==0&&_.Wt(m.ke),b},d.cK=function(f,m,b,_){if(f.B())return f;var $=f.getType();if($==33)return f;var C=h.ta.kj(m,f,!1);if($==197)return m=new h.l,f.A(m),m.Bi(C)?f.Ia():f;if(h.aa.yd($))return($=new h.Ta(f.description)).oc(f,!0),d.cK($,m,b,_);if(C=f.om(C),(b=b?-1:C)==2)return f;if(f=new d(f,m,b,_,!1),$==550)f=f.pU();else if($==1607)f=f.NV();else{if($!=1736)throw h.i.Qa();f=f.rV()}return f},d.prototype.Mh=function(f,m,b){if(f==m)return 0;f=this.gi.get(f);var _=this.gi.get(m);m=f>>1;var $=_>>1,C=new h.h,P=new h.h;return this.lf.tc(2*m,C),C.y+=1&f?this.Oj:-this.Oj,this.lf.tc(2*$,P),P.y+=1&_?this.Oj:-this.Oj,(f=C.compare(P))==0&&b?0>(b=this.Fl.get(m)-this.Fl.get($))?-1:0<b?1:0:f},d.prototype.Ou=function(f,m){if(f==m)return 0;var b=this.X,_=b.Na(f),$=b.Na(m);if(_.x<$.x)return-1;if(_.x>$.x)return 1;if(_.y<$.y)return-1;if(_.y>$.y)return 1;for(_=1;_<this.oT;_++){$=this.nH.kd(_);for(var C=h.ra.Va($),P=0;P<C;P++){var L=b.Uc($,f,P),V=b.Uc($,m,P);if(L<V)return-1;if(L>V)return 1}}return 0},d.prototype.PO=function(f,m){var b=this.Ou(f,m);return b==0?f<m?-1:1:b},d.prototype.XP=function(f,m){if(f===m)return 0;var b=f.ne.kg();f.Wp()&&b.Sq(),f=m.ne.kg(),m.Wp()&&f.Sq(),m=b.qu();var _=f.qu();return _==m?(m=b.wi(f),Math.abs(m)<=8881784197001252e-31*(Math.abs(f.x*b.y)+Math.abs(f.y*b.x))&&(m--,m++),0>m?1:0<m?-1:0):m<_?-1:1},d}();h.Jx=l}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 30},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.prototype.V=function(a,r,o,l){return a instanceof h.aa?(a=new h.Zc(a),r=new h.Zc(r),this.V(a,r,o,l).next()):new h.BL(a,r,o,l)},c.ep=function(a,r,o,l){var d=a.Db(),f=r.Db();if(a.B()&&r.B())return d>f?a:r;if(a.B())return r;if(r.B())return a;var m=new h.l,b=new h.l,_=new h.l;return a.A(m),r.A(b),_.K(m),_.Zb(b),m=h.ta.Wd(o,_,!0),b=a.getType(),_=r.getType(),b==33&&_==33?c.aV(a,r,m):b!=_?0<d||0<f?d>f?a:r:b==550?c.iI(a,r,m):c.iI(r,a,m):h.Fg.ep(a,r,o,l)},c.aV=function(a,r,o){o=o*Math.sqrt(2)*1.00001,o*=o;var l=a.D(),d=r.D(),f=new h.de(a.description);return h.h.yc(l,d)>o&&(f.add(a),f.add(r)),f},c.iI=function(a,r,o){var l=a.ub(0),d=a.I(),f=r.D(),m=a.Ia();o=o*Math.sqrt(2)*1.00001;var b=new h.l;if(a.A(b),b.W(o,o),b.contains(f)){o*=o,b=!1;for(var _=[],$=0;$<d;$++)_[$]=!1;for($=0;$<d;$++){var C=l.read(2*$),P=l.read(2*$+1);(C-=f.x)*C+(P-=f.y)*P<=o&&(b=!0,_[$]=!0)}if(b)for($=0;$<d;$++)_[$]||m.Fd(a,$,$+1);else m.Fd(a,0,d),m.add(r)}else m.Fd(a,0,d),m.add(r);return m},c.instance=null,c}(h.Je);h.Kx=N}(re||(re={})),function(h){var N=function(){function x(c,a,r,o){this.ts=a==null,this.ya=-1,this.Rd=c,this.vg=r,this.NT=a.next(),this.Ub=o}return x.prototype.next=function(){return this.ts?null:(c=this.Rd.next())!=null?(this.ya=this.Rd.La(),h.Kx.ep(c,this.NT,this.vg,this.Ub)):null;var c},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();h.BL=N}(re||(re={})),function(h){var N=function(){function a(){}return a.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},a}(),x=function(){function a(){this.Gr=0,this.pj=[]}return a.prototype.pN=function(r){this.Gr+=r.Ax,this.pj.push(r)},a.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},a.prototype.my=function(){return this.pj[this.pj.length-1]},a.prototype.Nb=function(r){return r===this},a}(),c=function(){function a(r,o,l){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=r,this.vg=o,this.Ub=l}return a.dE=function(r){var o=[],l=0;for(r=Object.keys(r);l<r.length;l++)o.push(Number(r[l]));return o.sort(function(d,f){return d-f}),o},a.prototype.fG=function(r){var o=this.Do[r],l=a.dE(o)[0],d=o[l],f=d.my().$y;return d=d.my().AK,delete o[l],d&&(f=h.Yl.local().V(f,this.vg,!1,this.Ub),r==0&&f.getType()==33&&(r=new h.de(f.description),f.B()||r.add(f),f=r)),f},a.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(this.zk==-1)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw h.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},a.prototype.La=function(){return this.ya},a.prototype.qK=function(){if(this.Ic)return!0;var r=null;if(this.Rd!=null&&(r=this.Rd.next())==null&&(this.Ic=!0,this.Rd=null),h.mp.zp(this.Ub),r!=null){var o=r.Db();this.AH[o]=!0,o>=this.zk&&!this.jA&&(this.ND(o,!1,r),o>this.zk&&!this.jA&&this.zW(o))}if(0<this.iq)for(o=0;o<=this.zk;o++)for(;1<this.uq[o]&&(r=this.FO(o)).length!=0;)r=h.Fg.VP(r,this.vg,this.Ub),this.ND(o,!0,r);return this.Ic},a.prototype.FO=function(r){for(var o=[],l=[],d=this.Do[r],f=a.dE(d),m=0;m<f.length;m++){var b=f[m],_=d[b];if(this.Ic||1e4<_.Gr&&1<_.pj.length){for(this.uq[r]-=_.pj.length,this.iq-=_.pj.length;0<_.pj.length;)o.push(_.my().$y),_.TV();l.push(b)}}for(m=0;m<l.length;m++)delete d[l[m]];return o},a.prototype.zW=function(r){for(var o=0;o<r;o++)this.Do[o]=[],this.iq-=this.uq[o],this.uq[o]=0},a.prototype.ND=function(r,o,l){var d=new N;if(d.Fz(),d.$y=l,l=a.eS(l),d.Ax=l,l=a.cS(l),r+1>this.Do.length)for(var f=0,m=Math.max(2,r+1);f<m;f++)this.Do.push([]);(f=this.Do[r][l])===void 0&&(f=new x,this.Do[r][l]=f),d.AK=o,f.pN(d),this.uq[r]++,this.iq++,this.zk=Math.max(this.zk,r)},a.cS=function(r){return 0<r?h.O.truncate(Math.log(r)/Math.log(4)+.5):0},a.eS=function(r){var o=r.getType();if(h.aa.xj(o))return r.I();if(o==33)return 1;if(o==197)return 4;if(h.aa.yd(o))return 2;throw h.i.Qa()},a.prototype.qe=function(){this.qK()},a}();h.DL=c}(re||(re={})),function(h){var N=function(x){function c(){return x!==null&&x.apply(this,arguments)||this}return ci(c,x),c.prototype.getType=function(){return 1},c.prototype.V=function(a,r,o,l){return l===void 0?new h.DL(a,r,o):this.gQ(a,r,o,l)},c.prototype.gQ=function(a,r,o,l){return a=new h.Zc([a,r]),this.V(a,o,l).next()},c.local=function(){return c.instance===null&&(c.instance=new c),c.instance},c.instance=null,c}(h.Je);h.Gh=N}(re||(re={})),function(h){var N,x;(x=N||(N={}))[x.nextPath=0]="nextPath",x[x.nextSegment=1]="nextSegment",x[x.iterate=2]="iterate",N=function(){function c(a,r,o,l){this.Ts=new h.l,this.GT=a,this.HT=r,this.mq=l,this.uo=-1,this.rl=!1;var d=a.Bb;d!=null&&(d=l?d.zo:d.Fb)!=null&&(this.Ic=!1,this.qa=o,this.Fb=d,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,l?this.uo=r.da():this.sd=r.Ga()),this.rl||(d=r.Bb)!=null&&(d=l?d.zo:d.Fb)!=null&&(this.Ic=!1,this.qa=o,this.Fb=d,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,l?this.uo=a.da():this.sd=a.Ga()),this.rl||(this.ci=l?h.ta.mR(a,r,o,1<=a.om(0),1<=r.om(0)):h.ta.lR(a,r,o))}return c.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var a=!0;a;)switch(this.Xb){case 0:a=this.xU();break;case 1:a=this.yU();break;case 2:a=this.Uz();break;default:throw h.i.fa("internal error")}return!this.Ic}return this.ci!=null&&this.ci.next()},c.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},c.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},c.prototype.uz=function(){if(!this.mq)throw h.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},c.prototype.az=function(){if(!this.mq)throw h.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},c.prototype.xU=function(){return this.mq?--this.uo==-1?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},c.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var a=this.sd.ha();return this.xw.Uo(a,this.qa),this.Xb=2,!0},c.prototype.Uz=function(){return this.Fs=this.xw.next(),this.Fs==-1&&(this.Xb=this.mq?0:1,!0)},c}(),h.Zl=N}(re||(re={})),function(h){(h=h.OL||(h.OL={}))[h.enumClosed=1]="enumClosed",h[h.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",h[h.enumOGCStartPolygon=4]="enumOGCStartPolygon",h[h.enumCalcMask=4]="enumCalcMask"}(re||(re={})),function(h){h.QC=function(){function N(){}return N.tb=function(x,c,a,r,o,l,d,f,m){var b=[0,0,0],_=[0,0,0],$=[0,0,0],C=[0,0,0,0],P=new h.ga(0),L=new h.ga(0),V=new h.ga(0);if(d!=null||f!=null||m!=null)if(h.s.ti(c))h.Yg.tb(x,a,r,o,l,d,f,m);else{o=h.F.ba(o),a=h.F.ba(a);var U=h.F.ba(o-a);if(h.s.Y(r,l)&&(h.s.Y(a,o)||h.s.Y(h.s.P(r),1.570796326794897)))d!=null&&(d.u=0),f!=null&&(f.u=0),m!=null&&(m.u=0);else{if(h.s.Y(r,-l)){if(h.s.Y(h.s.P(r),1.570796326794897))return d!=null&&(d.u=2*h.F.Ah(x,c)),f!=null&&(f.u=0<r?h.F.ba(3.141592653589793-h.F.ba(o)):h.F.ba(o)),void(m!=null&&(m.u=0<r?h.F.ba(o):h.F.ba(3.141592653589793-h.F.ba(o))));h.s.Y(h.s.P(U),3.141592653589793)&&(d!=null&&(d.u=2*h.F.Ah(x,c)),f!=null&&(f.u=0),m!=null&&(m.u=0))}else if(h.s.Y(h.s.P(r),1.570796326794897)||h.s.Y(h.s.P(l),1.570796326794897)||h.s.Y(a,o)||h.s.Y(h.s.P(U),3.141592653589793)||h.s.Cd(r))return void h.Wk.tb(x,c,a,r,o,l,d,f,m);var Y=Math.sqrt(1-c);o=h.F.ba(o-a),a=0,h.F.cl(1,c,r,a,0,P,L,V),b[0]=P.u,b[1]=L.u,b[2]=V.u,h.F.cl(1,c,l,o,0,P,L,V),_[0]=P.u,_[1]=L.u,_[2]=V.u,$[0]=0,$[1]=0,$[2]=-1*c*h.F.n(1,c,r)*Math.sin(r),0>o?h.F.Wq($,_,b,C,0):h.F.Wq($,b,_,C,0),L=[0,0,0],V=[0,0,0];var X=[0,0,0];b=[0,0,0],P=[0,0,0];var Z=Math.acos(C[2]/1),ne=1-c,oe=Math.tan(Z),he=1+oe*oe/ne,be=2*$[2]*oe/ne;for(ne=(-be+(oe=Math.sqrt(be*be-4*he*($[2]*$[2]/ne-1))))/(he*=2),be=(-be-oe)/he,oe=Math.tan(Z),Z=(ne+be)/2,$=((he=oe*ne+$[2])+(oe*be+$[2]))/2,oe=h.F.gp(ne-Z,he-$),ne=$/Y*1.570796326794897,be=0;100>be&&(he=(he=h.F.w(c,ne))*he/Math.cos(ne)*(Math.sin(ne)-$*he/(1-c)),!h.s.Cd(he));be++)ne-=he;$=h.F.n(1,c,ne)*Math.cos(ne),oe=1-oe/($=Math.sqrt(($-Z)*($+Z))),oe*=2-oe,he=h.F.on(L),Z=h.F.on(V),ne=h.F.on(X);var Ce=h.F.St(X,L);be=h.F.St(X,V),h.F.zx(X,L,b),h.F.zx(X,V,P),L=Math.acos(Ce/(ne*he)),V=Math.acos(be/(ne*Z)),V*=h.s.Mb(1,h.F.St(b,P)),(1.570796326794897<=h.s.P(L)&&1.570796326794897<=h.s.P(V)||3.141592653589793<h.s.P(L-V))&&(L=(3.141592653589793-h.s.P(L))*h.s.Mb(1,L),V=(3.141592653589793-h.s.P(V))*h.s.Mb(1,V)),b=h.F.Qj(oe,V),P=h.F.q($,oe,h.F.Qj(oe,L)),b=h.F.q($,oe,b),b=h.s.P(b-P)*x,L=new h.ga(0),V=new h.ga(0),X=C[1]/1,X*=-h.s.Mb(1,U),P=Math.acos(X)*h.s.Mb(1,U),N.rf(x,c,a,r,b,P,L,V),h.s.Y(o,L.u)&&h.s.Y(l,V.u)||(oe=h.F.gp(h.F.ba(o-L.u),l-V.u),N.rf(x,c,a,r,b,h.F.ba(P+3.141592653589793),L,V),(he=h.F.gp(h.F.ba(o-L.u),l-V.u))<oe&&(P=h.F.ba(P+3.141592653589793))),L=[0,0,0,0],V=[0,0,0,0],oe=[0,0,0],x=[0,0,0],a=[0,0,0],r=[0,0,0],X=[0,0,0],($=[0,0,0])[0]=0,$[1]=0,$[2]=Y,oe[0]=0,oe[1]=0,oe[2]=0,h.F.Wq(oe,$,_,L,0),h.s.Cd(l)?(x[0]=_[0],x[1]=_[1],x[2]=1,a[0]=1*Math.cos(o)-1*Math.sin(o),a[1]=1*Math.sin(o)+1*Math.cos(o)):(c=h.F.n(1,c,l)*Math.cos(l),x[0]=0,x[1]=0,_[2]+=Math.tan(1.570796326794897-h.s.P(l))*c*h.s.Mb(1,l),a[0]=c*Math.cos(o)-c*Math.sin(o),a[1]=c*Math.sin(o)+c*Math.cos(o)),a[2]=_[2],h.F.Wq(_,a,x,V,1),h.F.zx(V,L,r),h.F.zx(V,C,X),X=h.F.St(r,X)/(h.F.on(r)*h.F.on(X)),X*=h.s.Mb(1,U),o=Math.acos(X)*-h.s.Mb(1,U),(0<P&&0<o||0>P&&0>o)&&(o=h.F.ba(o+3.141592653589793)),d!=null&&(d.u=b),f!=null&&(f.u=P),m!=null&&(m.u=o)}}},N.rf=function(x,c,a,r,o,l,d,f){var m=[0,0,0],b=[0,0,0],_=[0,0,0],$=[0,0,0],C=[0,0,0],P=[0,0,0],L=[0,0,0],V=[0,0,0,0],U=new h.ga(0),Y=new h.ga(0),X=new h.ga(0),Z=new h.ga(0),ne=new h.ga(0),oe=new h.ga(0);if(d!=null&&f!=null)if(h.s.ti(c))h.Yg.rf(x,a,r,o,l,d,f);else if(h.s.Cd(o))d!=null&&(d.u=a),f!=null&&(f.u=r);else if(l=h.F.ba(l),0>o&&(o=h.s.P(o),l=h.F.ba(l+3.141592653589793)),a=h.F.ba(a),r=h.F.ba(r),1.570796326794897<h.s.P(r)&&(a=h.F.ba(a+3.141592653589793),r=h.s.Mb(3.141592653589793,r)-r),h.s.Y(h.s.P(r),1.570796326794897)||h.s.Cd(r)||h.s.Cd(l)||h.s.Y(h.s.P(l),3.141592653589793))h.Wk.rf(x,c,a,r,o,l,d,f);else{var he=Math.sqrt(1-c);for(x=o/x,h.F.cl(1,c,r,0,0,Z,ne,oe),m[0]=Z.u,m[1]=ne.u,m[2]=ne.u,L[0]=0,L[1]=0,L[2]=-1*c*h.F.n(1,c,r)*Math.sin(r),Z=h.F.n(1,c,r),ne=h.F.ba(1.570796326794897-l),oe=Math.sin(ne),o=Math.cos(r),r=Math.sin(r),C[0]=Z*o-r*oe,C[1]=Math.cos(ne),C[2]=(1-c)*Z*r+o*oe,0>l?h.F.Wq(L,C,m,V,0):h.F.Wq(L,m,C,V,0),m=Math.acos(V[2]/1),V=Math.atan2(-V[1],-V[0]),r=1-c,ne=1+(C=Math.tan(m))*C/r,r=(-(Z=2*L[2]*C/r)+(C=Math.sqrt(Z*Z-4*ne*(L[2]*L[2]/r-1))))/(ne*=2),Z=(-Z-C)/ne,C=Math.tan(m),m=(r+Z)/2,L=((ne=C*r+L[2])+(C*Z+L[2]))/2,C=h.F.gp(r-m,ne-L),he=L/he*1.570796326794897,r=0;100>r&&(Z=(Z=h.F.w(c,he))*Z/Math.cos(he)*(Math.sin(he)-L*Z/(1-c)),!h.s.Cd(Z));r++)he-=Z;he=h.F.n(1,c,he)*Math.cos(he),L=1-C/(he=Math.sqrt((he-m)*(he+m))),L*=2-L,P=Math.acos(h.F.St(P,b)/(h.F.on(P)*h.F.on(b))),P*=h.s.Mb(1,b[0]),l=(h.F.q(he,L,h.F.Qj(L,P))+x*h.s.Mb(1,l))/h.F.Ah(he,L),l=h.F.ba(1.570796326794897*l),l=h.F.Rq(L,l),h.F.n(he,L,l),C=h.F.ba(V+a),a=Math.cos(C),l=Math.sin(C),_[0]=$[0]*a+$[1]*-l,_[1]=$[0]*l+$[1]*a,_[2]=$[2],h.F.jO(c,_[0],_[1],_[2],X,Y,U),d!=null&&(d.u=Y.u),f!=null&&(f.u=X.u)}},N}()}(re||(re={})),function(h){var N=function(){function o(l){this.Ya=null,this.wt=new h.h,this.xt=new h.h,this.g=l}return o.prototype.compare=function(l,d,f){return this.g.Gc(d,this.wt),this.g.Gc(l.ja(f),this.xt),this.wt.compare(this.xt)},o}(),x=function(){function o(l){this.Bf=new h.h,this.Dk=new h.h,this.g=l}return o.prototype.Dh=function(l){this.Bf.L(l)},o.prototype.compare=function(l,d){return this.g.Gc(l.ja(d),this.Dk),this.Bf.compare(this.Dk)},o}(),c=function(o){function l(d){var f=o.call(this,d.g,d.qa,!1)||this;return f.ib=d,f}return ci(l,o),l.prototype.compare=function(d,f,m){if(this.rg)return-1;var b=this.ib.Qd.Jn(this.ib.Rh(f));d=d.ja(m);var _=this.ib.Qd.Jn(this.ib.Rh(d));return this.Dm=m,this.RE(f,b,d,_)},l}(h.UC),a=function(o){function l(d){var f=o.call(this,d.g,d.qa)||this;return f.ib=d,f}return ci(l,o),l.prototype.compare=function(d,f){return this.rg?-1:(d=this.ib.Qd.Jn(this.ib.Rh(d.ja(f))),this.Dm=f,this.SE(f,d))},l}(h.aM),r=function(){function o(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new h.h,this.Pi=new h.h,this.hb=new h.$c(8),this.zd=new h.$c(5),this.lh=new h.au,this.Qd=new h.au,this.Ng=!1,this.vh=new h.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new h.Yj,this.Mc=new h.Yj,this.nh=new h.ia(0),this.Gk=new h.TC,this.Ff=new h.ia(0),this.Ak=new h.ia(0),this.jo=new h.Sa}return o.prototype.PX=function(l,d){var f=new h.Dd;return f.$B(),l.Oc(f),this.er(l),this.Wn=!1,this.qa=d,this.UA=d*d,d=this.jC(),l.Oc(f),d||(this.qQ(),d||this.jC()),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},o.prototype.TX=function(l,d){this.er(l),this.Wn=!1,this.qa=d,this.UA=d*d,this.Ng=!1,this.jC(),this.Ng||(this.Ng=l.Gp(d,!0,!1)==1),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null},o.prototype.pg=function(l,d){return this.hb.T(l,0+d)},o.prototype.LB=function(l,d,f){this.hb.S(l,0+d,f)},o.prototype.Rh=function(l){return this.hb.T(l,2)},o.prototype.ZW=function(l,d){this.hb.S(l,2,d)},o.prototype.RF=function(l,d){return this.hb.T(l,3+d)},o.prototype.Pp=function(l){return this.hb.T(l,7)},o.prototype.Pl=function(l,d){this.hb.S(l,7,d)},o.prototype.Rp=function(l,d){return this.hb.T(l,3+this.Op(l,d))},o.prototype.fr=function(l,d,f){this.hb.S(l,3+this.Op(l,d),f)},o.prototype.NR=function(l,d){return this.hb.T(l,5+this.Op(l,d))},o.prototype.hr=function(l,d,f){this.hb.S(l,5+this.Op(l,d),f)},o.prototype.Sr=function(l){return this.zd.T(l,0)},o.prototype.UW=function(l,d){this.zd.S(l,0,d)},o.prototype.ez=function(l){return this.zd.T(l,4)},o.prototype.cr=function(l,d){this.zd.S(l,4,d)},o.prototype.il=function(l){return this.zd.T(l,1)},o.prototype.ln=function(l,d){this.zd.S(l,1,d)},o.prototype.dz=function(l){return this.zd.T(l,3)},o.prototype.Et=function(l,d){this.zd.S(l,3,d)},o.prototype.Ym=function(l){var d=this.zd.Ce(),f=this.lh.Ph();return this.UW(d,f),l!=-1?(this.lh.addElement(f,l),this.g.Ra(l,this.xh,d),this.cr(d,this.g.Ua(l))):this.cr(d,-1),d},o.prototype.HP=function(l){this.zd.jd(l)},o.prototype.LD=function(l,d){this.lh.addElement(this.Sr(l),d),this.g.Ra(d,this.xh,l)},o.prototype.nt=function(l){var d=this.hb.Ce(),f=this.Qd.Ph();return this.ZW(d,f),l!=-1&&this.Qd.addElement(f,l),d},o.prototype.MD=function(l,d){this.Qd.addElement(this.Rh(l),d)},o.prototype.Uu=function(l){this.hb.jd(l),0<=(l=this.nh.lF(l))&&this.nh.SV(l)},o.prototype.hj=function(l,d){if(this.pg(l,0)==-1)this.LB(l,0,d);else{if(this.pg(l,1)!=-1)throw h.i.Qa();this.LB(l,1,d)}this.ky(l,d)},o.prototype.ky=function(l,d){var f=this.il(d);if(f!=-1){var m=this.Rp(f,d);this.hr(m,d,l),this.fr(l,d,m),this.fr(f,d,l),this.hr(l,d,f)}else this.hr(l,d,l),this.fr(l,d,l),this.ln(d,l)},o.prototype.Op=function(l,d){return this.pg(l,0)==d?0:1},o.prototype.Xm=function(l,d){var f,m=this.dz(d);if(m!=-1&&(this.df.vd(m,-1),this.Et(d,-1)),(m=this.il(d))!=-1){var b=f=m;do{var _=!1,$=this.Op(f,d),C=this.RF(f,$);if(this.pg(f,$+1&1)==l){if(this.Xu(f),this.Qd.bh(this.Rh(f)),this.Uu(f),f==C){m=-1;break}m==f&&(m=this.il(d),b=C,_=!0)}f=C}while(f!=b||_);if(m!=-1){do $=this.Op(f,d),C=this.RF(f,$),this.LB(f,$,l),f=C;while(f!=b);(f=this.il(l))!=-1?(b=this.Rp(f,l),_=this.Rp(m,l),b==f?(this.ln(l,m),this.ky(f,l),this.ln(l,f)):_==m&&this.ky(m,l),this.fr(m,l,b),this.hr(b,l,m),this.fr(f,l,_),this.hr(_,l,f)):this.ln(l,m)}}for(m=this.Sr(l),f=this.Sr(d),b=this.lh.rc(f);b!=-1;b=this.lh.lb(b))this.g.Ra(this.lh.ja(b),this.xh,l);this.lh.Hy(m,f),this.HP(d)},o.prototype.UT=function(l,d){var f=this.pg(l,0),m=this.pg(l,1),b=this.pg(d,0),_=this.pg(d,1);this.Qd.Hy(this.Rh(l),this.Rh(d)),d==this.il(f)&&this.ln(f,l),d==this.il(m)&&this.ln(m,l),this.Xu(d),this.Uu(d),f==b&&m==_||m==b&&f==_||(this.Hn(f,this.yo),this.Hn(b,this.Pi),this.yo.qb(this.Pi)?(f!=b&&this.Xm(f,b),m!=_&&this.Xm(m,_)):(m!=b&&this.Xm(m,b),f!=_&&this.Xm(f,_)))},o.prototype.Xu=function(l){var d=this.pg(l,1);this.dF(l,this.pg(l,0)),this.dF(l,d)},o.prototype.dF=function(l,d){var f=this.Rp(l,d),m=this.NR(l,d),b=this.il(d);f!=l?(this.fr(m,d,f),this.hr(f,d,m),b==l&&this.ln(d,f)):this.ln(d,-1)},o.prototype.WD=function(l,d,f){var m=this.Qd.rc(l),b=this.Qd.ja(m);l=this.Le(b);var _=this.Le(this.g.U(b));for(this.g.jr(b,d,f,!0),m=this.Qd.lb(m);m!=-1;m=this.Qd.lb(m)){b=this.Qd.ja(m);var $=this.Le(b)==l;this.g.jr(b,d,f,$)}m=d.Vp(f,0).ac(),d=d.Vp(f,d.ol(f)-1).wc(),this.BK(l,m),this.BK(_,d)},o.prototype.ZE=function(l,d,f){var m=this.Rh(l),b=this.pg(l,0),_=this.pg(l,1),$=this.nt(-1);for(this.nh.add($),this.Pl($,-3),this.Ff.add($),this.hj($,b),l=1,d=d.ol(f);l<d;l++)f=this.Ym(-1),this.Ak.add(f),this.Ff.add(f),this.hj($,f),$=this.nt(-1),this.nh.add($),this.Pl($,-3),this.Ff.add($),this.hj($,f);for(this.hj($,_),m=this.Qd.rc(m);m!=-1;m=this.Qd.lb(m))if(_=this.Qd.ja(m),this.Le(_)==b){l=0;do 0<l&&($=this.Ff.get(l-1),this.LD($,_),this.ez($)==-1&&this.cr($,this.g.Ua(_))),$=this.Ff.get(l),l+=2,this.MD($,_),_=this.g.U(_);while(l<this.Ff.size)}else{l=this.Ff.size-1;do l<this.Ff.size-2&&($=this.Ff.get(l+1),this.LD($,_),0>this.ez($)&&this.cr($,this.g.Ua(_))),$=this.Ff.get(l),l-=2,this.MD($,_),_=this.g.U(_);while(0<=l)}this.Ff.clear(!1)},o.prototype.Le=function(l){return this.g.Pa(l,this.xh)},o.prototype.TI=function(l,d,f){var m=this.pg(d,0),b=new h.h;this.Hn(m,b);var _=new h.h,$=this.pg(d,1);this.Hn($,_);var C=f.ol(l),P=f.Vp(l,0),L=new h.h;if(P.Yp(L),!b.qb(L)){if(!this.Ng){var V=b.compare(this.vh);0>V*(L=L.compare(this.vh))&&(this.Ng=!0)}this.vF(m,this.Ff),this.Ak.add(m)}for(!this.Ng&&1<C&&(V=b.compare(_),P=P.wc(),(b.compare(P)!=V||P.compare(_)!=V||0>P.compare(this.vh))&&(this.Ng=!0)),l=(P=f.Vp(l,C-1)).wc(),_.qb(l)||(this.Ng||0>(V=_.compare(this.vh))*(L=l.compare(this.vh))&&(this.Ng=!0),this.vF($,this.Ff),this.Ak.add($)),this.Ff.add(d),_=0,$=this.Ff.size;_<$;_++)l=this.Ff.get(_),f=this.Pp(l),h.$c.LG(f)&&(this.Mc.vd(f,-1),this.Pl(l,-1)),l!=d&&this.Pp(l)!=-3&&(this.nh.add(l),this.Pl(l,-3));this.Ff.clear(!1)},o.prototype.lO=function(l,d){this.$d.compare(this.Mc,this.Mc.ja(l),d),this.$d.rg&&(this.$d.Kr(),this.oF(l,d))},o.prototype.oF=function(l,d){this.Wn=!0,l=this.Mc.ja(l),d=this.Mc.ja(d);var f=this.Qd.Jn(this.Rh(l)),m=this.Qd.Jn(this.Rh(d)),b=this.g.bc(f);b==null&&(this.ie==null&&(this.ie=new h.yb),this.g.ed(f,this.ie),b=this.ie),(f=this.g.bc(m))==null&&(this.Nm==null&&(this.Nm=new h.yb),this.g.ed(m,this.Nm),f=this.Nm),this.Gk.Oo(b),this.Gk.Oo(f),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(l,d,-1,this.Gk),this.Gk.clear()},o.prototype.GQ=function(l,d){this.Wn=!0,d=this.Mc.ja(d);var f=this.Qd.Jn(this.Rh(d)),m=this.g.bc(f);m==null&&(this.ie==null&&(this.ie=new h.yb),this.g.ed(f,this.ie),m=this.ie),f=this.BF(l),this.Gk.Oo(m),this.g.Vi(f,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(d,-1,l,this.Gk),this.Gk.clear()},o.prototype.xS=function(){if(this.nh.size!=0)for(;this.nh.size!=0;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var l=this.nh.Fc();this.nh.If(),this.Pl(l,-1),this.WS(l)!=-1&&this.wS(l),this.Vn=!1}},o.prototype.wS=function(l){if(this.Vn){var d=this.Mc.zu(this.MH,this.GH,l,!0);this.Vn=!1}else d=this.Mc.KD(l);d==-1?this.UT(this.Mc.ja(this.Mc.FF()),l):(this.Pl(l,d),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,d)))},o.prototype.WS=function(l){var d=this.pg(l,0);if(l=this.pg(l,1),this.Hn(d,this.yo),this.Hn(l,this.Pi),h.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var f=this.yo.compare(this.vh),m=this.Pi.compare(this.vh);return 0>=f&&0<m?l:0>=m&&0<f?d:-1},o.prototype.oQ=function(){var l=new h.ia(0);l.Jb(this.g.fd);for(var d=this.g.Yq(),f=d.next();f!=-1;f=d.next())this.g.Pa(f,this.xh)!=-1&&l.add(f);this.g.nx(l,l.size),this.pQ(l)},o.prototype.pQ=function(l){this.df.clear(),this.df.De(l.size),this.df.Vo(new N(this.g));var d=new h.h;d.Rc();for(var f=-1,m=new h.h,b=0,_=l.size;b<_;b++){var $=l.get(b);this.g.Gc($,m),m.qb(d)?($=this.g.Pa($,this.xh),this.Xm(f,$)):(f=this.Le($),this.g.Gc($,d),$=this.df.xn($),this.Et(f,$))}},o.prototype.qQ=function(){var l=new h.ia(0);l.Jb(this.g.fd);for(var d=this.df.rc(-1);d!=-1;d=this.df.lb(d))l.add(this.df.ja(d));this.df.clear(),this.g.nx(l,l.size),d=0;for(var f=l.size;d<f;d++){var m=l.get(d),b=this.Le(m);m=this.df.xn(m),this.Et(b,m)}},o.prototype.vF=function(l,d){var f=this.il(l);if(f!=-1){var m=f;do h.$c.LG(this.Pp(m))&&d.add(m),m=this.Rp(m,l);while(m!=f)}},o.prototype.BK=function(l,d){for(l=this.lh.rc(this.Sr(l));l!=-1;l=this.lh.lb(l))this.g.mf(this.lh.ja(l),d)},o.prototype.hK=function(l,d,f,m){this.Xu(l),d!=-1&&this.Xu(d),this.TI(0,l,m),d!=-1&&this.TI(1,d,m),f!=-1&&(m.Bf.D(this.yo),this.Hn(f,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(f)),f=0;for(var b=this.Ak.size;f<b;f++){var _=this.Ak.get(f),$=this.dz(_);$!=-1&&(this.df.vd($,-1),this.Et(_,-1))}for(f=this.Rh(l),b=d!=-1?this.Rh(d):-1,this.WD(f,m,0),d!=-1&&this.WD(b,m,1),this.ZE(l,m,0),d!=-1&&this.ZE(d,m,1),this.Qd.bh(f),this.Uu(l),d!=-1&&(this.Qd.bh(b),this.Uu(d)),f=0,b=this.Ak.size;f<b;f++)(_=this.Ak.get(f))==this.Jq&&(this.Xv=!0),($=this.dz(_))==-1&&(($=this.df.KD(this.BF(_)))==-1?(l=this.Le(this.df.ja(this.df.FF())),this.Xm(l,_)):this.Et(_,$));this.Ak.clear(!1)},o.prototype.Hn=function(l,d){this.g.dG(this.ez(l),d)},o.prototype.BF=function(l){return this.lh.Jn(this.Sr(l))},o.prototype.jC=function(){this.Xv=!1,this.Jq=-1,this.$d==null&&(this.Mc.Rv=!1,this.$d=new c(this),this.Mc.Zn=this.$d);var l=new h.ia(0),d=null,f=null;this.GH=this.MH=-1,this.Vn=!1;for(var m=this.df.rc(-1);m!=-1;){this.Vn=!1;var b=this.df.ja(m);this.Jq=this.Le(b),this.g.Gc(b,this.vh),this.$d.$J(this.vh.y,this.vh.x);var _=this.il(this.Jq),$=_==-1;if(!$){b=_;do{var C=this.Pp(b);C==-1?(this.nh.add(b),this.Pl(b,-3)):C!=-3&&l.add(C),b=this.Rp(b,this.Jq)}while(b!=_)}if(0<l.size){for(this.Vn=l.size==1&&this.nh.size==1,$=0,_=l.size;$<_;$++)b=this.Mc.ja(l.get($)),this.Pl(b,-2);var P=-2,L=-2;for($=0,_=l.size;$<_;$++){if(C=l.get($),P==-2){var V=this.Mc.we(C);V!=-1?(b=this.Mc.ja(V),(b=this.Pp(b))!=-2&&(P=V)):P=-1}if(L==-2&&((C=this.Mc.lb(C))!=-1?(b=this.Mc.ja(C),(b=this.Pp(b))!=-2&&(L=C)):L=-1),P!=-2&&L!=-2)break}for($=0,_=l.size;$<_;$++)C=l.get($),b=this.Mc.ja(C),this.Mc.vd(C,-1),this.Pl(b,-1);l.clear(!1),this.MH=P!=-1?P:-1,this.GH=L!=-1?L:-1,P!=-1&&L!=-1?this.Vn||this.lO(P,L):P==-1&&L==-1&&(this.Vn=!1)}else $&&(d==null&&(d=new a(this)),d.Dh(this.vh),this.Mc.uJ(d),d.rg&&(d.Kr(),this.GQ(this.Jq,d.Dm)));this.xS(),this.Xv?(this.Xv=!1,f==null&&(f=new x(this.g)),f.Dh(this.vh),m=this.df.uJ(f)):m=this.df.lb(m)}return this.Wn},o.prototype.er=function(l){for(this.g=l,this.xh=this.g.Gd(),this.hb.De(l.fd+32),this.zd.De(l.fd),this.lh.At(l.fd),this.lh.fn(l.fd),this.Qd.At(l.fd+32),this.Qd.fn(l.fd+32),l=this.g.ld;l!=-1;l=this.g.ue(l))if(h.aa.Hc(this.g.ic(l)))for(C=this.g.Ob(l);C!=-1;C=this.g.Rb(C)){var d=this.g.Ja(C),f=this.g.Xa(C),m=this.Ym(f),b=this.nt(f);for(this.hj(b,m),P=this.g.U(f),f=0,d-=2;f<d;f++){var _=this.g.U(P),$=this.Ym(P);this.hj(b,$),b=this.nt(P),this.hj(b,$),P=_}this.g.dc(C)?($=this.Ym(P),this.hj(b,$),b=this.nt(P),this.hj(b,$),this.hj(b,m)):($=this.Ym(P),this.hj(b,$))}else for(var C=this.g.Ob(l);C!=-1;C=this.g.Rb(C)){var P=this.g.Xa(C);for(m=0,d=this.g.Ja(C);m<d;m++)this.Ym(P),P=this.g.U(P)}this.oQ()},o}();h.RC=r}(re||(re={})),function(h){var N=function(x){function c(a,r,o){var l=x.call(this)||this;if(a!==void 0)if(o!==void 0){l.description=h.ee.og();var d=new h.Nd;d.K(a,r,o),l.dC(d)}else if(r!==void 0)l.description=h.ee.og(),l.Cb(a,r);else if(a instanceof h.ra)l.description=a;else if(a instanceof h.h)l.description=h.ee.og(),l.Cb(a);else{if(!(a instanceof c))throw h.i.N();l.description=a.description,l.Cb(a.Lg(),a.ih()),a.ka!==null&&(l.ka=a.ka.slice(0))}else l.description=h.ee.og();return l}return ci(c,x),c.prototype.D=function(a){if(a===void 0){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");return(a=new h.h).ma(this.ka[0],this.ka[1]),a}if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");a.ma(this.ka[0],this.ka[1])},c.prototype.Cb=function(a,r){typeof a=="number"?(this.vc(),this.ka==null&&this.un(),this.ka[0]=a,this.ka[1]=r):(this.vc(),this.Cb(a.x,a.y))},c.prototype.Cz=function(){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");var a=new h.Nd;return a.x=this.ka[0],a.y=this.ka[1],a.z=this.description.iG()?this.ka[2]:h.ra.se(1),a},c.prototype.dC=function(a){this.vc();var r=this.hasAttribute(1);r||h.ra.DG(1,a.z)||(this.re(1),r=!0),this.ka==null&&this.un(),this.ka[0]=a.x,this.ka[1]=a.y,r&&(this.ka[2]=a.z)},c.prototype.Lg=function(){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},c.prototype.cC=function(a){this.setAttribute(0,0,a)},c.prototype.ih=function(){if(this.Ac())throw h.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},c.prototype.aK=function(a){this.setAttribute(0,1,a)},c.prototype.bS=function(){return this.Uc(1,0)},c.prototype.wX=function(a){this.setAttribute(1,0,a)},c.prototype.zR=function(){return this.Uc(2,0)},c.prototype.hX=function(a){this.setAttribute(2,0,a)},c.prototype.Ec=function(){return this.yF(3,0)},c.prototype.LJ=function(a){this.setAttribute(3,0,a)},c.prototype.Uc=function(a,r){var o=this.description.Pf(a);return 0<=o?this.ka[this.description.$j(o)+r]:h.ra.se(a)},c.prototype.yF=function(a,r){var o=this.description.Pf(a);return 0<=o?this.ka[this.description.$j(o)+r]:h.ra.se(a)},c.prototype.setAttribute=function(a,r,o){this.vc();var l=this.description.Pf(a);0>l&&(this.re(a),l=this.description.Pf(a)),this.ka==null&&this.un(),this.ka[this.description.$j(l)+r]=o},c.prototype.getType=function(){return 33},c.prototype.Db=function(){return 0},c.prototype.Oa=function(){this.vc(),this.ka!=null&&(this.ka[0]=NaN,this.ka[1]=NaN)},c.prototype.sn=function(a){if(this.ka!=null){for(var r=h.ee.Iw(a,this.description),o=[],l=0,d=0,f=a.Aa;d<f;d++){var m=a.kd(d),b=h.ra.Va(m);if(r[d]==-1){var _=h.ra.se(m);for(m=0;m<b;m++)o[l]=_,l++}else for(_=this.description.$j(r[d]),m=0;m<b;m++)o[l]=this.ka[_],l++,_++}this.ka=o}this.description=a},c.prototype.un=function(){this.lJ(this.description.Ae.length),c.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},c.prototype.Oc=function(a){if(a instanceof h.Dd){if(!this.Ac()){var r=this.D();a.Eh(r,r),this.Cb(r)}}else this.Ac()||(this.re(1),r=this.Cz(),this.dC(a.fp(r)))},c.prototype.copyTo=function(a){if(a.getType()!=33)throw h.i.N();a.vc(),this.ka==null?(a.Oa(),a.ka=null,a.Nf(this.description)):(a.Nf(this.description),a.lJ(this.description.Ae.length),c.cE(this.ka,a.ka,this.description.Ae.length))},c.prototype.Ia=function(){return new c(this.description)},c.prototype.B=function(){return this.Ac()},c.prototype.Ac=function(){return this.ka==null||isNaN(this.ka[0])||isNaN(this.ka[1])},c.prototype.bn=function(a){a.Oa(),this.description!=a.description&&a.Nf(this.description),a.Zb(this)},c.prototype.A=function(a){this.Ac()?a.Oa():(a.v=this.ka[0],a.G=this.ka[1],a.C=this.ka[0],a.H=this.ka[1])},c.prototype.Qo=function(a){if(this.Ac())a.Oa();else{var r=this.Cz();a.v=r.x,a.G=r.y,a.Ye=r.z,a.C=r.x,a.H=r.y,a.Bg=r.z}},c.prototype.Tg=function(a,r){var o=new h.Nc;return this.Ac()?(o.Oa(),o):(a=this.Uc(a,r),o.oa=a,o.va=a,o)},c.prototype.lJ=function(a){if(this.ka==null)this.ka=h.O.lg(a);else if(this.ka.length<a){for(var r=this.ka.slice(0),o=this.ka.length;o<a;o++)r[o]=0;this.ka=r}},c.cE=function(a,r,o){if(0<o)for(o=0;o<a.length;o++)r[o]=a[o]},c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.Ac())return!!a.Ac();for(var r=0,o=this.description.Ae.length;r<o;r++)if(this.ka[r]!=a.ka[r])return!1;return!0},c.prototype.cc=function(){var a=this.description.cc();if(!this.Ac())for(var r=0,o=this.description.Ae.length;r<o;r++){var l=this.ka[r];l=h.O.truncate(l^l>>>32),a=h.O.Th(l,a)}return a},c.prototype.mg=function(){return null},c}(h.aa);h.Sa=N}(re||(re={})),function(h){var N=function(){function x(c,a,r){c!==void 0&&(this.x=c,this.y=a,this.z=r)}return x.construct=function(c,a,r){var o=new x;return o.x=c,o.y=a,o.z=r,o},x.prototype.K=function(c,a,r){this.x=c,this.y=a,this.z=r},x.prototype.lx=function(){this.z=this.y=this.x=0},x.prototype.normalize=function(){var c=this.length();c==0&&(this.x/=c,this.y/=c,this.z/=c)},x.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},x.prototype.sub=function(c){return new x(this.x-c.x,this.y-c.y,this.z-c.z)},x.prototype.Ag=function(c){new x(this.x*c,this.y*c,this.z*c)},x.prototype.Qh=function(c){return this.x*c.x+this.y*c.y+this.z*c.z},x}();h.Nd=N}(re||(re={})),function(h){var N=function(){function x(c,a,r){this.Gw=this.DA=null,this.Xf=a,this.FT=a.y-r,this.ET=a.y+r,this.Ew=0,this.dA=c,this.qa=r,this.RT=r*r,this.eA=r!=0,this.Lv=!1}return x.prototype.result=function(){return this.Ew!=0?1:0},x.prototype.ZM=function(c){return c=c.hc(c.fe(this.Xf,!1)),h.h.yc(c,this.Xf)<=this.RT},x.prototype.fF=function(c){if(!this.eA&&(this.dA&&this.Xf.qb(c.ac())||this.Xf.qb(c.wc())))this.Lv=!0;else if(c.na==this.Xf.y&&c.na==c.la){if(this.dA&&!this.eA){var a=Math.max(c.sa,c.pa);this.Xf.x>Math.min(c.sa,c.pa)&&this.Xf.x<a&&(this.Lv=!0)}}else{var r=!1;if(a=Math.max(c.sa,c.pa),this.Xf.x>a?r=!0:this.Xf.x>=Math.min(c.sa,c.pa)&&(r=0<c.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),r){if(this.Xf.y==c.ac().y){if(this.Xf.y<c.wc().y)return}else if(this.Xf.y==c.wc().y&&this.Xf.y<c.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(c.ac().y>c.wc().y?1:-1)}}},x.prototype.SI=function(c){var a=c.Tg(0,1);if(a.oa>this.ET||a.va<this.FT)return!1;if(this.eA&&this.ZM(c))return!0;if(a.oa>this.Xf.y||a.va<this.Xf.y)return!1;if(this.DA==null&&(this.DA=[null,null,null,null,null]),this.Gw==null&&(this.Gw=[0,0,0]),0<(a=c.eG()))for(c=0;c<a;c++){var r=this.DA[c].get();if(this.fF(r),this.Lv)return!0}else if(this.fF(c),this.Lv)return!0;return!1},x.PM=function(c,a,r){for(a=new x(c.In()==0,a,r),c=c.Ga();c.$a();)for(;c.Ha();)if(r=c.ha(),a.SI(r))return-1;return a.result()},x.QM=function(c,a,r,o){var l=new h.l;c.xc(l),l.W(o,o);var d=new x(c.In()==0,r,o);c=c.Ga();var f=new h.l;for(f.K(l),f.C=r.x+o,f.G=r.y-o,f.H=r.y+o,o=(r=a.MF(f,o)).next();o!=-1;o=r.next())if(c.Vb(a.ja(o)),c.Ha()&&(o=c.ha(),d.SI(o)))return-1;return d.result()},x.wm=function(c,a,r){if(c.B())return 0;var o=new h.l;if(c.xc(o),o.W(r,r),!o.contains(a))return 0;if((o=c.Bb)!=null){var l=o.Fk;if(l!=null){if((l=l.So(a.x,a.y))==1)return 1;if(l==0)return 0}if((o=o.Fb)!=null)return x.QM(c,o,a,r)}return x.PM(c,a,r)},x.bT=function(c,a,r){return a.B()?0:x.wm(c,a.D(),r)},x.Ml=function(c,a){return!(16>(c=c.I()))&&2*c+Math.log(c)/Math.log(2)*a<1*c*a},x}();h.Dg=N}(re||(re={})),function(h){var N=function(x){function c(a){return x.call(this,!0,a)||this}return ci(c,x),c.prototype.Ia=function(){return new c(this.description)},c.prototype.Db=function(){return 2},c.prototype.getType=function(){return 1736},c.prototype.xG=function(a,r,o){this.JS(a,r,o)},c.prototype.qR=function(){this.FR()},c}(h.Vk);h.Da=N}(re||(re={})),function(h){(function(N){N[N.PiPOutside=0]="PiPOutside",N[N.PiPInside=1]="PiPInside",N[N.PiPBoundary=2]="PiPBoundary"})(h.RL||(h.RL={})),h.hd=function(){function N(){}return N.KG=function(x,c,a){return(x=h.Dg.bT(x,c,a))==0?0:x==1?1:2},N.Yd=function(x,c,a){return(x=h.Dg.wm(x,c,a))==0?0:x==1?1:2},N.WX=function(x,c,a,r,o){if(c.length<a||o.length<a)throw h.i.N();for(var l=0;l<a;l++)o[l]=N.Yd(x,c[l],r)},N.sK=function(x,c,a,r,o){if(x.getType()==1736)N.WX(x,c,a,r,o);else{if(x.getType()!=197)throw h.i.fa("invalid_call");var l=new h.l;x.A(l),N.$M(l,c,a,r,o)}},N.$M=function(x,c,a,r,o){if(c.length<a||o.length<a)throw h.i.N();if(x.B())for(r=0;r<a;r++)o[r]=0;else for(x.W(.5*-r,.5*-r),x.W(.5*r,.5*r),r=0;r<a;r++)x.contains(c[r])?o[r]=1:x.contains(c[r])?o[r]=2:o[r]=0},N.YX=function(x,c,a,r,o){for(var l=0;l<a;l++)o[l]=x.qs(c[l],r)?2:0},N.XX=function(x,c,a,r,o){var l=x.Bb,d=null;l!=null&&(d=l.Fk),l=a;for(var f=0;f<a;f++)if(o[f]=1,d!=null){var m=c[f];d.So(m.x,m.y)==0&&(o[f]=0,l--)}if(l!=0)for(x=x.Ga();x.$a()&&l!=0;)for(;x.Ha()&&l!=0;)for(d=x.ha(),f=0;f<a&&l!=0;f++)o[f]==1&&d.qs(c[f],r)&&(o[f]=2,l--);for(f=0;f<a;f++)o[f]==1&&(o[f]=0)},N.tK=function(x,c,a,r,o){var l=x.getType();if(l==1607)N.XX(x,c,a,r,o);else{if(!h.aa.yd(l))throw h.i.fa("Invalid call.");N.YX(x,c,a,r,o)}},N}()}(re||(re={})),function(h){var N=function(x){function c(a,r){if(arguments.length==2){var o=x.call(this,!1,a.description)||this;o.nf(a),o.lineTo(r)}else o=x.call(this,!1,a)||this;return o}return ci(c,x),c.prototype.Ia=function(){return new c(this.description)},c.prototype.Db=function(){return 1},c.prototype.getType=function(){return 1607},c.prototype.xG=function(a,r,o){this.KS(a,r,o)},c}(h.Vk);h.Ta=N}(re||(re={})),function(h){var N=function(){function x(){}return x.prototype.progress=function(){return!0},x.zp=function(c){if(c!=null&&!c.progress(-1,-1))throw h.i.WC()},x}();h.mp=N}(re||(re={})),function(h){var N;(N=h.PK||(h.PK={}))[N.clipWithInputHorizon=1]="clipWithInputHorizon",N[N.clipWithOutputHorizon=2]="clipWithOutputHorizon";var x=function(){function r(){this.Kg=3,this.Vu=this.Jr=NaN}return r.prototype.PW=function(o){this.QB(1,o)},r.prototype.QW=function(o){this.QB(2,o)},r.prototype.hS=function(){return this.hs(1)},r.prototype.iS=function(){return this.hs(2)},r.prototype.QB=function(o,l){this.Kg=l?this.Kg|o:this.Kg&~o},r.prototype.hs=function(o){return!!(this.Kg&o)},r.prototype.Of=function(){var o=new r;return o.Jr=this.Jr,o.Vu=this.Vu,o.Kg=this.Kg,o},r}();h.yC=x,function(r){r[r.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",r[r.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(h.QK||(h.QK={}));var c=function(){function r(){this.Kg=0}return r.prototype.QB=function(o,l){this.Kg=l?this.Kg|o:this.Kg&~o},r.prototype.hs=function(o){return!!(this.Kg&o)},r.jg=function(o){var l=new r;return l.Kg=o.Kg,l},r.prototype.mM=function(o){this.Kg=o.Kg},r}();h.AY=c;var a=function(){function r(o,l,d){this.ef=o,this.Yf=l,this.Uf=new h.l,this.Uf.K(d),this.AT=o.cc()+l.cc()+this.Uf.cc().toString()}return r.prototype.cc=function(){return this.AT},r.prototype.Nb=function(o){return this==o||this.ef.Nb(o.ef)&&this.Yf.Nb(o.Yf)&&this.Uf.Nb(o.Uf)},r}();h.FY=a,a=function(){function r(){this.Yf=this.ef=null,this.rH=new x,this.sH=new c,this.ww=this.Wf=null,this.mw=this.Tn=!0}return r.Nr=function(o,l,d,f){var m;f===void 0&&(f=null),m===void 0&&(m=null);var b=new r;return b.qp(o,l,d,f,m),b},r.prototype.qp=function(o,l,d,f,m){if(o==null||l==null)throw h.i.fa("invalidArgument");if(this.ef=o,this.Yf=l,this.mw=this.Tn=!1,f!=null&&(this.rH=f.Of()),m!=null&&this.sH.mM(m),m=!1,l.Sb()==1&&f!=null&&(f=f.Jr,isNaN(f)||f==0||(m=!0)),o==l)this.Tn=!m,this.mw=!0;else{f=o.Sb();var b=l.Sb();if(f==0||b==0){if(d!=null)throw h.i.N();o.Hd()!=null&&l.Hd()!=null&&(this.Tn=o.Hd().Nb(l.Hd()))}else f==3||b==3?this.Tn=o.Nb(l):this.ef.kS(this.Yf)?this.Tn=!m:this.Tn=!1,this.Wf=d,this.Wf!=null&&this.Wf.ix(),this.mw=(this.Wf==null||this.Wf.count()==0)&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},r.prototype.isIdentity=function(){return this.Tn},r.prototype.nR=function(){return this.rH.Of()},r.prototype.Nb=function(o){return o==this||!!(o instanceof r&&this.ef.Nb(o.ef)&&this.Yf.Nb(o.Yf))&&(this.Wf==o.Wf||!(this.Wf==null||o.Wf==null||!this.Wf.Nb(o.Wf)))},r.prototype.oY=function(){this.ww=new h.bu(this)},r}(),h.vr=a}(re||(re={})),function(h){var N=function(){function x(){}return x.Cp=function(c){return c*x.oW},x.mx=function(c,a){return x.gP(a-c)},x.hP=function(c){return-360<=c&&720>c?(0>c?c+=360:360<=c&&(c-=360),c):(0>(c=h.lc.RK(c))&&(c+=360),c)},x.gP=function(c){return 180<(c=x.hP(c))&&(c-=360),c},x.oW=57.29577951308232,x}();h.qr=N,h.Hh=function(){function x(){}return x.lj=function(c,a){var r=new h.l;c.A(r);var o=h.cb.gh(a),l=new h.l;return l.K(o),l.v=r.v,l.C=r.C,l.W(.01*l.ca(),0),a=h.ta.Wd(a,r,!1),l.contains(r)?c:h.Ud.clip(c,l,a,0)},x.ks=function(c,a,r,o,l){if(!h.cb.Wc(a))throw h.i.N();var d=h.ta.kj(a,c,!1),f=h.cb.gh(a),m=h.cb.sc(a),b=m.Hd().ai,_=h.cb.vv(m);m=h.cb.ev(m),_*=2-_;var $=new h.Nc;f.cn($);var C=[[0,0],[0,0]];if(h.Eg.Sb(a)==2?o?(C[0][0]=x.Zm(l,$),C[0][1]=f.Jp(),h.cb.vt(),f=C[0][0]*b):(C[0][0]=f.gk(),C[0][1]=l,h.cb.vt(),f=C[0][1]*b):f=l*b,!o&&f!=0)throw h.i.N();var P=new h.ga,L=new h.gd;c=L.Ib(c);for(var V=[0],U=new h.h,Y=new h.h,X=new h.h,Z=new h.h,ne=new h.h,oe=new h.h,he=L.Ob(c);he!=-1;he=L.Rb(he)){var be=L.Xa(he);L.D(be,X);for(var Ce=!1,Pe=be=L.U(be);Pe!=-1;Pe=L.U(Pe)){if(Pe==be){if(Ce)break;Ce=!0}if(L.D(Pe,Z),o&&d<l-X.x&&Z.x-l>d||d<l-Z.x&&X.x-l>d||!o&&d<-X.y&&Z.y>d||d<-Z.y&&X.y>d)do if(!(Math.abs(X.x-Z.x)>=.5*$.R())){if(h.Eg.Sb(a)==2?(C[0][0]=x.Zm(X.x,$),C[0][1]=X.y,C[1][0]=x.Zm(Z.x,$),C[1][1]=Z.y,h.cb.dW(),ne.x=C[0][0]*b,ne.y=C[0][1]*b,oe.x=C[1][0]*b,oe.y=C[1][1]*b):(ne.x=X.x*b,ne.y=X.y*b,oe.x=Z.x*b,oe.y=Z.y*b),oe.x=6.283185307179586*(Z.x-X.x)/$.R()+ne.x,o){if(Y.x=f,Y.y=x.Nz(m,_,ne,oe,f,r),isNaN(Y.y))break}else{if(Y.x=x.Lz(m,_,ne,oe,r),isNaN(Y.x))break;Y.y=0}h.kb.wd(m,_,ne.x,ne.y,oe.x,oe.y,P,null,null,r);var qe=P.u;h.kb.wd(m,_,ne.x,ne.y,Y.x,Y.y,P,null,null,r);var Ue=P.u;h.Eg.Sb(a)==2?(C[0][0]=Y.x/b,C[0][1]=Y.y/b,h.cb.bR(),o?(U.y=C[0][1],U.x=l):(U.x=x.os(C[0][0],X.x,Z.x,$),U.y=l)):o?(U.x=l,U.y=Y.y/b):(U.x=x.os(Y.x/b,X.x,Z.x,$),U.y=l),V[0]=0<qe?h.O.Rk(Ue/qe,0,1):.5,V[0]!=0&&V[0]!=1&&(qe=L.Ma(Pe),L.Ul(qe,V,1),L.Cb(L.U(qe),U.x,U.y))}while(!1);X.L(Z)}}return L.Ne(c)},x.Fn=function(c,a,r,o,l){if(c.B())return c;var d=h.cb.bf(a);return x.Hp(c,r-180*d,360*d,a,o,l,!0)},x.Nz=function(c,a,r,o,l,d){if(3.141592653589793<=Math.abs(r.x-o.x)||!x.Sn(r.x,o.x,l))return NaN;if(r.x>o.x)var f=o;else f=r,r=o;o=new h.ga(0);var m=new h.ga(0),b=new h.ga(0);h.kb.wd(c,a,f.x,f.y,r.x,r.y,m,o,null,d);var _=m.u,$=0,C=1,P=new h.h;for(P.L(f);_*(C-$)>1e-12*c;){var L=.5*($+C);if(h.kb.oj(c,a,f.x,f.y,_*L,o.u,m,b,d),P.x=m.u,P.y=b.u,P.x==l)break;if(x.Sn(f.x,P.x,l))C=L;else{if(!x.Sn(r.x,P.x,l))return NaN;$=L}}return P.y},x.Sn=function(c,a,r){return c=N.Cp(c),a=N.mx(c,N.Cp(a)),(r=N.mx(c,N.Cp(r)))==0||0<a&&0<r&&r<=a||0>a&&0>r&&r>=a},x.Zm=function(c,a){var r=a.va-a.oa;return a.It(c-Math.floor((c-a.oa)/r)*r)},x.os=function(c,a,r,o){var l=new h.Nc;for(l.K(a,r),r=o.R(),c=Math.floor((c-a)/r)*r+c,l=l.sf();Math.abs(c-l)>Math.abs(c+r-l);)c+=r;return c},x.Lz=function(c,a,r,o,l){if(r.y>o.y)var d=o;else d=r,r=o;if((o=new h.Nc).K(d.y,r.y),!o.contains(0)||3.141592653589793<=Math.abs(d.x-r.x))return NaN;if(d.x==r.x)return d.x;var f=new h.ga(0),m=new h.ga(0),b=new h.ga(0);h.kb.wd(c,a,d.x,d.y,r.x,r.y,m,f,null,l);var _=m.u,$=0,C=1,P=new h.h;for(P.L(d);_*(C-$)>1e-12*c;){var L=.5*($+C);if(h.kb.oj(c,a,d.x,d.y,_*L,f.u,m,b,l),P.x=m.u,P.y=b.u,o.K(d.y,P.y),P.y==0)break;if(o.contains(0))C=L;else{if(o.K(r.y,P.y),!o.contains(0))return NaN;$=L}}return P.x},x.Hp=function(c,a,r,o,l,d,f){var m=new h.l;if(c.A(m),m.B())return c;var b=new h.Nc;m.cn(b);var _=new h.Nc;if(_.K(a,a+r),_.contains(b)&&_.va!=b.va)return c;var $=new h.l;$.K(m);var C=c.getType();if(C==33)return((m=($=l?c:c.Of()).Lg())<_.oa||m>=_.va||f&&m==_.va)&&(m+=Math.ceil((_.oa-m)/r)*r,m=_.It(m),$.cC(m)),$;if(C==550){for(o=($=l?c:c.Of()).ub(0),C=2*$.I(),c=!1,l=0;l<C;l+=2)((m=o.read(l))<_.oa||m>=_.va||f&&m==_.va)&&(c=!0,m+=Math.ceil((_.oa-m)/r)*r,m=_.It(m),o.write(l,m));return c&&$.Pc(1993),$}if(_.contains(b))return c;if(C==197)return r=l?c:c.Of(),m.Ea($),r.Xo(m),r;var P=.1*Math.max(m.ca(),m.R());for($.W(0,P),f=c,_=o.Xd(0),c=h.Gh.local(),l=new h.Dd;;){var L=Math.floor((b.oa-a)/r),V=Math.ceil((b.va-a)/r);if(!(3<V-L))break;L=Math.floor(.5*(V+L)),$.v=m.v-P,$.C=a+r*L;var U=h.Ud.clip(f,$,_,d);$.v=$.C,$.C=m.C+P;var Y=h.Ud.clip(f,$,_,d);l.gg((L-V)*r,0),Y.Oc(l),C==1736?f=c.V(U,Y,o,null):(f=U).add(Y,!1),f.A(m),m.cn(b)}for($.v=a,$.C=a+r,(a=new h.l).K($),a.W(_,0),(a=Math.floor((m.v-$.v)/r)*r)!=0?($.move(a,0),l.gg(-a,0)):l.RB(),a=C==1607?new h.Ta(f.description):new h.Da(f.description),d=new h.l,b=new h.l;m.C>$.v;)(P=h.Ud.clip(f,$,_,0)).A(b),(C==1607?!P.B()&&(b.R()>_||b.ca()>_):!P.B()&&(C!=1736||b.R()>_))&&(P.Oc(l),P.A(b),a.A(d),d.W(_,_),d.isIntersecting(b)&&C==1736?a=c.V(a,P,o,null):a.add(P,!1)),$.move(r,0),l.shift(-r,0);return a},x.WI=function(c,a,r,o){var l=new h.de(r.description);l.Fd(r,0,-1),l=h.cb.zh(l,c,a);var d=r.I();if(o.Oa(),!h.cb.Wc(c)||d!=l.I())return!1;var f=new h.l;r.A(f);var m=new h.l;if(l.A(m),f=f.R(),m=m.R(),f!=0&&m!=0){if(m/=f,c=h.cb.gh(a).R()/h.cb.gh(c).R(),1e-10<Math.abs(m/c-1))return!1}else if(f!=0||m!=0)return!1;for(o.add(r,!1),r=0;r<d;r++)c=l.Na(r),o.Cb(r,c);return!0},x.Oz=function(){throw h.i.Ie()},x}()}(re||(re={})),function(h){var N,x,c;(x=N=h.si||(h.si={}))[x.Clip=0]="Clip",x[x.DontClip=1]="DontClip",x[x.PannableFold=2]="PannableFold",function(a){a[a.Geodesic=0]="Geodesic",a[a.Loxodrome=1]="Loxodrome",a[a.GreatElliptic=2]="GreatElliptic",a[a.NormalSection=3]="NormalSection",a[a.ShapePreserving=4]="ShapePreserving"}(c=h.WK||(h.WK={})),h.zb=function(){function a(){}return a.xv=function(r,o,l){if(l||0<o){for(r=r.toString(h.Sc.PE_STR_NAME_CANON|h.Sc.PE_STR_AUTH_NONE),o=[],l=0;l<r.length;l++)o[l]="a"<=r[l]&&"z">=r[l]?o[l]=r[l].toUpperCase():r[l];return o.join()}return r.toString(h.Sc.PE_STR_AUTH_TOP)},a.ur=function(r,o,l,d){var f=d.length,m=l.I();if(m!=0){var b=l.ub(0),_=Math.min(m,f),$=0,C=r.eh();isNaN(o)&&(o=0);for(var P=r.Wc(),L=179*(r=P?r.sc().Oe().R():0)/360;0<m;){if(b.uB($<<1,_,d),h.ej.projToGeogCenter(C,_,d,o),P)for(var V=0;V<_;V++){var U=d[V][0]-o,Y=h.lc.sign(U),X=b.read(2*($+V));0>Y*h.lc.sign(X)&&Math.abs(U)>L&&(d[V][0]+=-Y*r)}b.uC($<<1,_,d),$+=_,m-=_,_=Math.min(m,f)}l.Pc(1993)}},a.IL=function(r,o,l,d){var f=0,m=r.eh();isNaN(f)&&(f=0);var b=r.Wc(),_=r.bf();r=360*_,_*=179;for(var $=d.length,C=0;C<l;){for(var P=C;P<l&&o[P].isNaN();++P)C++;var L=Math.min($,l-C);if(0<L){P=1;for(var V=C+1;P<L;++P,++V)if(o[V].isNaN()){L=P;break}if(h.ta.Jy(d,o,C,L),h.ej.projToGeogCenter(m,L,d,f),b)for(P=0,V=C;P<L;++P,++V){var U=o[V].x,Y=d[P][0]-f,X=h.lc.sign(Y);0>X*h.lc.sign(U)&&Math.abs(Y)>_&&(d[P][0]-=X*r)}h.ta.Iy(o,C,d,L),C+=L}}},a.Lx=function(r,o,l){var d=l.length,f=o.I();if(!(1>f)){var m=o.ub(0),b=Math.min(f,d),_=0,$=r.eh(),C=r.Wc(),P=C?r.Oe().R():0,L=179*P/360,V=0;for(C&&(V=r.zi());0<f;){if(m.uB(_<<1,b,l),h.ej.geogToProj($,b,l),C)for(r=0;r<b;r++){var U=l[r][0],Y=h.lc.sign(U),X=m.read(2*(_+r))-V;0>Y*h.lc.sign(X)&&Math.abs(U)>L&&(l[r][0]+=-Y*P)}m.uC(_<<1,b,l),_+=b,f-=b,b=Math.min(f,d)}o.Pc(1993)}},a.HL=function(r,o,l,d){if(l!=0){var f=r.eh(),m=r.Wc(),b=m?r.Oe().R():0,_=179*b/360,$=0;for(m&&($=r.zi()),r=0;r<l;){for(var C=r;C<l&&o[C].isNaN();++C)r++;var P=Math.min(d.length,l-r);if(0<P){C=1;for(var L=r+1;C<P;++C,++L)if(o[L].isNaN()){P=C;break}if(h.ta.Jy(d,o,r,P),h.ej.geogToProj(f,P,d),m)for(C=0,L=r;C<P;C++){var V=d[C][0],U=h.lc.sign(V);0>U*h.lc.sign(o[L].x-$)&&Math.abs(V)>_&&(d[C][0]-=U*b)}h.ta.Iy(o,r,d,P),r+=P}}}},a.tr=function(r,o,l,d){var f=o.I();if(f!=0){var m=o.ub(0),b=r.ef,_=r.Yf,$=b.sc().Qp(),C=_.sc().Qp(),P=b.bf(),L=_.bf();if((r=r.Wf)==null||r.count()==0){for(l=$/C,d=(b.Up()-_.Up())*L,C=-90*P,r=90*P,$=!1,L=1,b=2*f;L<b;)P=m.get(L),(_=h.O.Rk(P,C,r))!=P&&(m.set(L,_),$=!0),L+=2;if(d!=0||l!=1)for($=!0,C=new h.h,L=0;L<f;L++)m.tc(2*L,C),C.x*=l,C.x+=d,C.y*=l,m.Tt(2*L,C);$&&o.Pc(1993)}else{b=d.length,_=Math.min(f,b);var V=h.O.lg(_),U=null,Y=0,X=NaN,Z=NaN,ne=360*L,oe=L/P;l&&(Z=90*L,X=89.9*P,U=h.O.lg(_));for(var he=!0,be=0;f!=0;){for(P=!1,m.uB(Y<<1,_,d),L=0;L<_;L++)V[L]=d[L][0];if(l)for(L=0;L<_;L++){var Ce=Math.abs(d[L][1])-X;0<Ce&&(P=d[L][1],d[L][1]=h.lc.Cn(X,P),U[L]=h.lc.Cn(Ce,P),P=!0)}for(L=d[0][0],r.transform(d,_,$,C),he&&(be=d[0][0]-oe*L,he=!1),L=0;L<_;L++)Ce=d[L][0]-V[L]*oe-be,200<Math.abs(Ce)&&(d[L][0]=0<Ce?d[L][0]-ne:d[L][0]+ne);if(P){for(L=0;L<_;L++)U[L]!=0&&(d[L][1]+=oe*U[L],d[L][1]>Z?d[L][1]=Z:d[L][1]<-Z&&(d[L][1]=-Z));for(P=0;P<_;P++)U[P]=0}m.uC(Y<<1,_,d),Y+=_,f-=_,_=Math.min(f,b)}o.Pc(1993)}}},a.GL=function(r,o,l,d){if(r.mw)d=90*r.ef.bf(),h.ta.dK(o,l,-d,d);else{var f=r.Wf,m=r.ef,b=r.Yf;r=m.Xr();var _=b.Xr(),$=m.bf(),C=90*$,P=b.bf();if(f==null||f.count()==0){if(d=r/_,f=(m.Up()-b.Up())*P,h.ta.dK(o,l,-C,C),f!=0||d!=1)for(P=0;P<l;P++)o[P].x*=d,o[P].x+=f,o[P].y*=d}else{m=Math.min(l,d.length),C=h.O.lg(m),b=360*P,$=P/$;for(var L=!0,V=0,U=0;l!=0;){for(P=0;P<m;P++)C[P]=o[P+U].x;for(P=o[0].x,h.ta.Jy(d,o,U,m),f.transform(d,m,r,_),h.ta.Iy(o,U,d,m),L&&(V=o[0].x-$*P,L=!1),P=0;P<m;P++){var Y=o[U+P].x-C[P]*$-V;200<Math.abs(Y)&&(o[U+P].x=0<Y?o[U+P].x-b:o[U+P].x+b)}U+=m,l-=m,m=Math.min(l,d.length)}}}},a.dv=function(r,o){return r=r.gh(),isNaN(o)||r.Ju(o,0),r},a.UQ=function(r,o,l,d,f,m,b,_){for(var $=a.dv(d,f),C=$.R(),P=C/360,L=a.pE*P,V=r.ub(0),U=o.Wc(),Y=U?C/o.Oe().R():0,X=!1,Z=new h.Da(l.description),ne=0,oe=l.da();ne<oe;++ne){var he=U,be=new h.Ta(l.description);if(be.addPath(l,ne,!0),b!=0){var Ce=a.PD(!0,be,$.H-_,$.H,b);(X=X||Ce)&&(he=!1)}var Pe=-1;he&&(Pe=r.Ba(ne));var qe=be.ub(0),Ue=be.I(),Je=0,je=qe.read(0),Ht=0;Ce=3*d.Xd(0);var Dt=!1,ni=new h.h;ni.Rc();var mi=new h.h;mi.Rc();for(var Ai=!1,xi=1;xi<Ue;++xi){var ri=h.h.construct(qe.eg(2*xi),qe.eg(2*xi+1)),zt=ri.x,Ct=zt+Je,Zi=Ct-je;if(ri.x=Ct,Math.abs(Zi)>L){if(he){var Pi=Pe+(xi+1<Ue?xi:0),zn=V.read(2*(Pe+xi-1));Pi=(V.read(2*Pi)-zn)*Y,Math.abs(Zi-Pi)>1*P&&(he=!1)}he||(Ct=zt+(Je-=h.lc.Cn(C,Ct-je)),++Ht,Ai=Je!=0,ri.x=Ct)}else Dt||h.ta.AG(mi,ni,ri,Ce)&&(Dt=!0);Ai&&qe.write(2*xi,Ct),je=Ct,mi.L(ni),ni.L(ri)}0<Ht&&be.Pc(1993),he=be.Na(0),Ue=be.Na(Ue-1),be=h.h.tb(he,Ue)<Ce?a.uQ(be,d,f,m,Dt):a.vQ(r,ne,be,d,f),Z.add(be,!1)}return f=d.Xd(0),l=$.R()/180,a.Jt(Z,$,.1*f,!1),Z=Z!=(f=h.ri.clip(Z,$,f,l,m)),r=r.Ke(),b=0,0<(_=f.Ke())&&0>r?b=1:0>=_&&0<r&&(_==0?(_=NaN,o.Sb()==2?_=o.ml().Ke():o.Sb()==1&&(_=o.Oe().wF()),r>.99*_&&(b=-1)):b=-1),b!=0&&((o=new h.Da(f.description)).tp($),(o=h.Xl.local().V(o,l,m)).add(f,!1),Z=!0,f=o),Z&&(f=h.Yl.local().V(f,d,!1,m)),f},a.vQ=function(r,o,l,d,f){var m=l.I(),b=l.Na(0),_=l.Na(m-1);f=(d=a.dv(d,f)).R(),b=h.lc.sign(_.x-b.x);var $=new h.l;l.xc($);var C=d.gk();if(_=C-f,C+=f,0<=b){var P=Math.ceil((_-$.v)/f);for(P*=f;_>$.v+P;)P+=f;for(;_<$.C+P;)P-=f;var L=P;720<$.R()&&(C=_+360*Math.ceil($.R()/360))}else{for(P=Math.ceil((C-$.C)/f),P*=f;C<$.C+P;)P-=f;for(;C>$.v+P;)P+=f;L=P,720<$.R()&&(_=C-360*Math.ceil($.R()/360))}P=b*f;var V=h.l.construct($.v,$.G,$.C,$.H);V.move(L,0);var U=new h.Dd;U.gg(L,0),l.Oc(U),($=new h.Ta(l.description)).add(l,!1),L=l.Na(m-1),f=0;for(var Y=$.Na(0).x,X=0;0<b?V.C<C:V.v>_;)1024<=X&&(X=0),V.move(P,0),U.Gb=P,l.Oc(U),Y+=P,d.v<=Y&&d.C>=Y&&(f=$.I()-1),l.Cb(0,L),L=l.Na(m-1),$.Dr(l,0,0,m-1,!1);return l=new h.Da($.description),m=0<r.Ir(o),l.add($,!1),r=$.Na(0),_=$.Na($.I()-1),o=l.da()-1,(0>b?m:!m)?(b=h.h.construct(_.x,d.H),l.Ci(b),b=h.h.construct(d.gk(),d.H),l.Ci(b),d=h.h.construct(r.x,d.H)):(b=h.h.construct(_.x,d.G),l.Ci(b),b=h.h.construct(d.gk(),d.G),l.Ci(b),d=h.h.construct(r.x,d.G)),l.Ci(d),l.xG(0,o,0),l.kO(f),l},a.uQ=function(r,o,l,d,f){var m=new h.Da(r.description);m.add(r,!1),m.DB(0,m.I()-1);var b=new h.l;m.xc(b);var _=(l=a.dv(o,l)).R(),$=Math.ceil((l.v-b.v)/_);for($*=_;l.v>b.v+$;)$+=_;for(;l.v<b.C+$;)$-=_;if(($+=_)!=0){b.move($,0);var C=new h.Dd;C.gg($,0),m.Oc(C)}if(l.v<=b.v&&l.C>b.C)return f&&(f=m.Ke(),o=(m=h.Yl.local().V(m,o,!0,d)).Ke(),(o=h.lc.sign(f)!=h.lc.sign(o))&&m.oJ()),m;for((r=new h.Da(r.description)).add(m,!1),f=f||b.R()>_-o.Xd(0);b.v<l.C;)b.move(_,0),(C=new h.Dd).gg(_,0),m.Oc(C),r.add(m,!1);return f&&(f=r.Ke(),r.Yo(1),o=(r=h.Yl.local().V(r,o,!0,d)).Ke(),(o=h.lc.sign(f)!=h.lc.sign(o))&&r.oJ()),r},a.PD=function(r,o,l,d,f){for(var m=o.ub(0),b=o.I(),_=!1,$=0;$<b;$++){var C=h.h.construct(m.eg(2*$),m.eg(2*$+1));if(1&f&&C.y>=l){_=!0;break}if(2&f&&C.y<=-l){_=!0;break}}if(!_)return!1;m=!1,r&&(m=o.Nn(0)),b=(r=new h.gd).Ib(o),_=r.Ob(b);var P=-1,L=!0,V=new h.h;V.Rc(),$=new h.Sa;for(var U=-1,Y=r.Xa(_);Y!=-1;Y=r.U(Y)){C=r.Na(Y);var X=1&f&&90<=C.y?1:0;if(X|=2&f&&C.y<=-l?2:0,0<P&&P!=X){if(V.x!=C.x){V.x=C.x,r.Vi(r.Ma(Y),$);var Z=r.wj(_,Y,$);r.mf(Z,V)}if(m)for(U=U!=-1?r.U(U):r.Xa(_),Z=r.Ma(Y);U!=Z;)U=r.pd(U,!1);U=-1}0<X&&(C.y=h.lc.Cn(d,C.y),r.mf(Y,C),L||P==X||(C.x!=V.x?(r.Vi(Y,$),Z=r.wj(_,Y,$),r.Cb(Z,V.x,C.y),U=Z):U=Y)),P=X,V=C,L=!1}if(m){if(U!=-1)for(U=r.U(U);U!=-1;)U=r.pd(U,!1);l=r.Xa(_),r.fq(l,r.rj(_))||(r.Vi(l,$),r.wj(_,-1,$))}return r.Ne(b).copyTo(o),!0},a.Mz=function(r,o,l,d){var f=r;if(f.B()||l==N.DontClip)return f;var m=f.getType();if(m==33)return f=[(d=f).D()],a.yG(f,1,o,l),f[0].isNaN()?d.Oa():d.Cb(f[0]),r;var b=(r=o.sc()).bf(),_=90*b,$=180*b,C=360*b,P=o.zi(),L=.5*b,V=new h.l;f.A(V);var U=o.Vr(),Y=o.PQ(),X=U.getType()==197;if(o=new h.l,U.A(o),l==N.PannableFold&&(l=r.Oe().R(),o.v=P-.5*l,o.C=o.v+l),V.G<-_||V.H>_){if(new h.l().K(V.v-b,-_,V.C+b,_),(f=h.ri.Nu(f,o,r,NaN,0,d)).B())return f;f.A(V)}if(Y&&(o.H<V.G||o.G>V.H))return f.Ia();if(V.R()>C&&(f=a.Hp(f,P-$,C,r,!0,0,!0,d)).A(V),(_=a.eO(V.v,V.C,o.v,o.C,C))!=0&&V.move(_,0),V.C>o.C||V.v<o.v){if(V.C>o.C)for(;V.v>=o.C;)V.move(-C,0),_-=C;for(;V.v<o.C-C;)V.move(C,0),_+=C}if(l=h.ta.Hu(r,U),_!=0&&((b=new h.Dd).gg(_,0),f.Oc(b)),Y){if(X&&o.contains(V))return f;for(Y=[null,null],_=0;2>_;_++){if(X?b=h.aa.Hc(m)?h.ri.clip(f,o,l,L,d):h.ri.clip(f,o,l,0,d):(b=h.Xj.local().V(f,U,r,d))==U&&(b=h.aa.jg(b)),o.v<=V.v&&o.C>=V.C||o.v>=V.v&&o.C<=V.C)return b;Y[_]=b,_==0&&(V.move(-C,0),(b=new h.Dd).gg(-C,0),f.Oc(b))}if(m==550)Y[0].Fd(Y[1],0,-1);else if(h.aa.Hc(m))Y[0].add(Y[1],!1);else{if(m!=33)throw h.i.fa("intersect_with_GCS_horizon: unexpected geometry type");Y[0].B()&&(Y[0]=Y[1])}return Y[0]}if(o.H<V.G||o.G>V.H)return f;for(m=0;!f.B()&&V.C>o.v;)m!=0&&((b=new h.Dd).gg(m,0),f.Oc(b)),h.dj.local().V(4,f,U,r,d)||U==(f=h.kp.local().V(f,U,r,d))&&(f=h.aa.jg(f)),m!=0&&((L=new h.Dd).gg(-m,0),f.Oc(L)),m-=C,V.move(-C,0);return f},a.yG=function(r,o,l,d){if(o!=0&&d!=N.DontClip)if(d==N.PannableFold){d=l.HR();for(var f=o,m=0;m<o;m++)(r[m].y>d.H||r[m].y<d.G)&&(r[m].Rc(),f--);f!=0&&a.av(r,o,d.v,d.R())}else{var b=90*(d=l.bf()),_=180*d;for(d*=360,f=o,m=0;m<o;m++)(r[m].y>b||r[m].y<-b)&&(r[m].Rc(),f--);if(f!=0){(f=new h.l).Zw(r,o),b=l.Vr();var $=l.hv();m=b.getType()==197;var C=new h.l;if(b.A(C),!$||!(C.H<f.G||C.G>f.H))if($)if(a.av(r,o,C.gk()-_,d),f=o,m)for(m=0;m<o;m++)C.contains(r[m])||(r[m].Rc(),f--);else for(l=h.ta.Hu(l.sc(),b),m=0;m<o;m++)(_=h.hd.Yd(b,r[m],l)!=0)||(r[m].Rc(),f--);else for(a.av(r,o,-_,d),f=o,l=h.ta.Hu(l.sc(),b),m=0;m<o;m++)(_=r[m]).isNaN()&&f--,$=a.tE(_.x,C.v,C.C,d),_.x+=$,(_=h.hd.Yd(b,_,l)!=0)&&(r[m].Rc(),f--)}}},a.Hp=function(r,o,l,d,f,m,b,_){var $=r.getType(),C=o+l;if($===33){var P=(d=f?r:r.Of()).Lg();return(P<o||P>=C||b&&P==C)&&(P+=Math.ceil((o-P)/l)*l,P=h.O.Rk(P,o,C),d.cC(P)),d}if(r.B()||(P=new h.l,r.A(P),P.B()))return r;var L=new h.Nc;P.cn(L);var V=new h.Nc;if(V.K(o,C),V.contains(L))return r;if((C=new h.l).K(P),$===550){for(_=(d=f?r:r.Of()).ub(0),$=2*d.I(),C=!1,o=0;o<$;o+=2)((P=_.read(o))<V.oa||P>=V.va||b&&P==V.va)&&(C=!0,P+=Math.ceil((V.oa-P)/l)*l,P=V.It(P),_.write(o,P));return C&&d.Pc(1993),d}if($==197)return l=f?r:r.Of(),P.Ea(C),l.Xo(P),l;var U=.1*Math.max(P.ca(),P.R());for(C.W(0,U),b=r,V=d.Xd(0),r=h.Gh.local(),f=new h.Dd;;){var Y=Math.floor((L.oa-o)/l),X=Math.ceil((L.va-o)/l);if(!(3<X-Y))break;Y=Math.floor(.5*(X+Y)),C.v=P.v-U,C.C=o+l*Y;var Z=h.ri.clip(b,C,V,m,_);C.v=C.C,C.C=P.C+U;var ne=h.ri.clip(b,C,V,m,_);f.gg((Y-X)*l,0),ne.Oc(f),$==1736?b=r.V(Z,ne,d,null):(b=Z).add(ne,!1),b.A(P),P.cn(L)}for(C.v=o,C.C=o+l,(o=new h.l).K(C),o.W(V,0),(o=Math.floor((P.v-C.v)/l)*l)!=0?(C.move(o,0),f.gg(-o,0)):f.RB(),o=$==1607?new h.Ta(b.description):new h.Da(b.description),m=new h.l,L=new h.l;P.C>C.v;)(U=h.ri.clip(b,C,V,0,_)).A(L),($==1607?!U.B()&&(L.R()>V||L.ca()>V):!U.B()&&($!=1736||L.R()>V))&&(U.Oc(f),U.A(L),o.A(m),m.W(V,V),m.isIntersecting(L)&&$==1736?o=r.V(o,U,d,null):o.add(U,!1)),C.move(l,0),f.shift(-l,0);return o},a.av=function(r,o,l,d){for(var f=l+d,m=0;m<o;m++){var b=r[m].x;l<=b&&b<f||!(b<l||b>f||b==f)||(b+=Math.ceil((l-b)/d)*d,b=h.O.Rk(b,l,f),r[m].x=b)}},a.Fn=function(r,o,l,d,f,m){if(!o.Wc())throw h.i.fa("fold_into_360_degree_range");if(r.B())return r;if(o.Sb()==2){l=o.pv();var b=o.ov()-l}else{var _=o.bf();b=360*_,l-=180*_}return a.Hp(r,l,b,o,d,f,!0,m)},a.qF=function(r,o,l,d){if(l.Sb()==2)d=l.pv(),l=l.ov()-d;else{var f=l.bf();l=360*f,d-=180*f}a.av(r,o,d,l)},a.lj=function(r,o){var l=o.Oe();if(r.getType()==33){var d=r.ih();return l.G<=d&&d<=l.H?r:r.Ia()}d=new h.l,r.A(d);var f=new h.l;return f.K(l),f.v=d.v,f.C=d.C,f.W(.01*f.ca(),0),l=h.ta.uy(o,d),f.contains(d)?r:h.ri.clip(r,f,l,0,null)},a.ir=function(r,o,l){return r>o.C&&r-o.C<l?o.C:r<o.v&&o.v-r<l?o.v:r},a.FX=function(r,o,l,d){d.x=a.ir(r.x,o,l),d.y=r.y},a.EX=function(r,o,l,d){for(var f=0;f<o;f++)r[f].y<l.G||r[f].y>l.H?r[f].Rc():r[f].x=a.ir(r[f].x,l,d)},a.Jt=function(r,o,l,d){if(!r.B()){var f=r.getType();if(!d||f!=1736)if(h.aa.xj(f)){d=r.ub(0),f=0;for(var m=r.I();f<m;f++){var b=d.read(2*f),_=a.ir(b,o,l);_!=b&&d.write(2*f,_)}r.Pc(1993)}else if(f==197)d=new h.l,r.A(d),d.v=a.ir(d.v,o,l),d.C=a.ir(d.C,o,l),r.Xo(d);else{if(f!=33)throw h.i.fa("internal error");r.cC(a.ir(r.Lg(),o,l))}}},a.uS=function(r,o,l,d){var f=new h.gd,m=f.Ib(r);return r=h.ta.Hu(o,r),a.ks(f,m,o,r,l,!0,d),f.Ne(m)},a.ks=function(r,o,l,d,f,m,b){if(!l.Wc())throw h.i.N("invalid call");var _=l.Oe(),$=l.sc(),C=$.eh().getDatum().getSpheroid();$=$.Hd().ai;var P=C.getFlattening();C=C.getAxis(),P*=2-P;var L=new h.Nc;_.cn(L);var V=null,U=[[0,0],[0,0]];if(l.Sb()==2?(V=l.eh(),m?(U[0][0]=a.Zm(b,L),U[0][1]=_.Jp(),h.ej.projToGeog(V,1,U),_=U[0][0]*$):(U[0][0]=_.gk(),U[0][1]=b,h.ej.projToGeog(V,1,U),_=U[0][1]*$)):_=b*$,!m&&_!=0&&f!=c.GreatElliptic)throw h.i.fa("invalid argument");var Y=new h.ga,X=[0],Z=new h.h,ne=new h.h,oe=new h.h,he=[null,null],be=new h.h,Ce=new h.h,Pe=new h.h,qe=new h.h;for(o=r.Ob(o);o!=-1;o=r.Rb(o)){var Ue=r.Xa(o);r.D(Ue,be);for(var Je=!1,je=Ue=r.U(Ue);je!=-1;je=r.U(je)){if(je==Ue){if(Je)break;Je=!0}if(r.D(je,Ce),m&&(d<b-be.x&&Ce.x-b>d||d<b-Ce.x&&be.x-b>d)||!m&&(b!=0||d<-be.y&&Ce.y>d||d<-Ce.y&&be.y>d))do if(!(Math.abs(be.x-Ce.x)>=.5*L.R())){if(l.Sb()==2?(U[0][0]=a.Zm(be.x,L),U[0][1]=be.y,U[1][0]=a.Zm(Ce.x,L),U[1][1]=Ce.y,h.ej.projToGeogCenter(V,2,U,0),Pe.x=U[0][0]*$,Pe.y=U[0][1]*$,qe.y=U[1][1]*$):(Pe.x=be.x*$,Pe.y=be.y*$,qe.y=Ce.y*$),qe.x=2*(Ce.x-be.x)*Math.PI/L.R()+Pe.x,m){if(ne.x=_,ne.y=a.Nz(C,P,Pe,qe,_,f),isNaN(ne.y))break;he[0]=ne;var Ht=1}else if(f==c.GreatElliptic){var Dt=[0,0];if((Ht=h.Ox.Oz(P,Pe,qe,_,Dt))==0)break;ne.x=Dt[0],ne.y=_,he[0]=ne,Ht==2&&(oe.x=Dt[1],oe.y=_,he[1]=oe)}else{if(ne.x=a.Lz(C,P,Pe,qe,f),isNaN(ne.x))break;ne.y=0,he[0]=ne,Ht=1}var ni=-1;for(Dt=0;Dt<Ht;Dt++){h.kb.wd(C,P,Pe.x,Pe.y,qe.x,qe.y,Y,null,null,f);var mi=Y.u;h.kb.wd(C,P,Pe.x,Pe.y,he[Dt].x,he[Dt].y,Y,null,null,f);var Ai=Y.u;if(l.Sb()==2?(U[0][0]=he[Dt].x/$,U[0][1]=he[Dt].y/$,h.ej.geogToProj(V,1,U),m?(Z.y=U[0][1],Z.x=b):(Z.x=a.os(U[0][0],be.x,Ce.x,L),Z.y=b)):m?(Z.x=b,Z.y=he[Dt].y/$):(Z.x=a.os(he[Dt].x/$,be.x,Ce.x,L),Z.y=b),X[0]=0<mi?h.O.Rk(Ai/mi,0,1):.5,X[0]==0||X[0]==1)break;ni>X[0]||(ni=r.Ma(je),r.Ul(ni,X,1),r.Cb(r.U(ni),Z.x,Z.y),ni=X[0])}}while(!1);be.L(Ce)}}},a.Zm=function(r,o){var l=o.va-o.oa;return o.It(r-Math.floor((r-o.oa)/l)*l)},a.os=function(r,o,l,d){var f=new h.Nc;for(f.K(o,l),l=d.R(),r=Math.floor((r-o)/l)*l+r,f=f.sf();Math.abs(r-f)>Math.abs(r+l-f);)r+=l;return r},a.Sn=function(r,o,l){return r=h.qr.Cp(r),o=h.qr.mx(r,h.qr.Cp(o)),(l=h.qr.mx(r,h.qr.Cp(l)))==0||0<o&&0<l&&l<=o||0>o&&0>l&&l>=o},a.Nz=function(r,o,l,d,f,m){if(m==c.GreatElliptic)return h.Ox.SS(o,l,d,f);if(Math.abs(l.x-d.x)>=Math.PI||!a.Sn(l.x,d.x,f))return NaN;if(l.x>d.x)var b=d;else b=l,l=d;d=new h.ga;var _=new h.ga,$=new h.ga;h.kb.wd(r,o,b.x,b.y,l.x,l.y,_,d,null,m);var C=_.u,P=0,L=1,V=new h.h;for(V.L(b);C*(L-P)>1e-12*r;){var U=.5*(P+L);if(h.kb.oj(r,o,b.x,b.y,C*U,d.u,_,$,m),V.x=_.u,V.y=$.u,V.x==f)break;if(a.Sn(b.x,V.x,f))L=U;else{if(!a.Sn(l.x,V.x,f))return NaN;P=U}}return V.y},a.Lz=function(r,o,l,d,f){if(f==c.GreatElliptic)return r=[0,0],h.Ox.Oz(o,l,d,0,r),r[0];if(l.y>d.y)var m=d;else m=l,l=d;if((d=new h.Nc).K(m.y,l.y),!d.contains(0)||Math.abs(m.x-l.x)>=Math.PI)return NaN;if(m.x==l.x)return m.x;var b=new h.ga,_=new h.ga,$=new h.ga;h.kb.wd(r,o,m.x,m.y,l.x,l.y,_,b,null,f);var C=_.u,P=0,L=1,V=new h.h;for(V.L(m);C*(L-P)>1e-12*r;){var U=.5*(P+L);if(h.kb.oj(r,o,m.x,m.y,C*U,b.u,_,$,f),V.x=_.u,V.y=$.u,d.K(m.y,V.y),V.y==0)break;if(d.contains(0))L=U;else{if(d.K(l.y,V.y),!d.contains(0))return NaN;P=U}}return V.x},a.WI=function(r,o,l,d){if(!r.ef.Wc())return!1;var f=new h.de(o.description);if(f.Fd(o,0,-1),d=h.Hx.local().V(f,r,d),f=o.I(),l.Oa(),f!=d.I())return!1;var m=new h.l;o.A(m);var b=new h.l;if(d.A(b),m=m.R(),b=b.R(),m!=0&&b!=0){if(b/=m,r=r.Yf.gh().R()/r.ef.gh().R(),1e-10<Math.abs(b/r-1))return!1}else if(m!=0||b!=0)return!1;for(l.add(o,!1),o=new h.h,r=0;r<f;r++)d.D(r,o),l.Cb(r,o);return!0},a.qN=function(r,o){return(r%=360*o)>=180*o&&(r-=360*o),r},a.UI=function(r,o,l,d){if(l==N.Clip){var f=o.ml();f.getType()==197?(l=new h.l,f.A(l),f=h.ta.uy(o,l),r=h.ri.clip(r,l,f,5e4*o.pm(),d)):h.dj.local().V(1,f,r,o,d)||(r=h.Xj.local().V(r,f,o,d))==f&&(r=h.Vk.jg(r))}else o.Wc()&&(d=new h.l,r.xc(d),o.Oe().contains(d)||(a.Jt(r,o.Oe(),o.Xd(0),!0),l==N.PannableFold&&(r=a.lj(r,o)),r=a.Fn(r,o,0,!0,1e5*o.pm(),null)));return r},a.XD=function(r,o,l){var d=o.Wr();if(d==null)return r;var f=(o=o.sc()).Oe().R(),m=new h.l;r.xc(m);var b=new h.Nc;m.cn(b),m=d.Ga(),d=null;for(var _=new h.Dd;m.$a();)for(;m.Ha();){var $=m.ha(),C=$.Tg(0,0),P=new h.Nc;for(P.K(C.oa,C.va),C=0;P.va>b.oa;)P.move(-f),--C;for(;P.oa<=b.va;){if(P.isIntersecting(b)){d==null&&(d=new h.Ta);var L=h.yb.cP($.ac(),$.wc());C!=0&&(_.gg(C*f,0),L.Oc(_)),d.oc(L,!0)}P.move(f),++C}}return d!=null?(o=h.ta.gO(o,d),o=h.ta.Er(o),h.$t.lP(r,d,o,l)):r},a.eO=function(r,o,l,d,f){return r>=l&&o<=d?0:a.tE(.5*(o+r),l,d,f)},a.tE=function(r,o,l,d){return h.lc.round((.5*(l+o)-r)/d)*d},a.VQ=function(r,o,l,d,f,m,b,_){var $=a.dv(d,f),C=$.R(),P=C/360,L=a.pE*P,V=r.ub(0),U=o.Wc(),Y=U?C/o.Oe().R():0;o=r.Ia();for(var X=0,Z=l.da();X<Z;++X){var ne=U,oe=new h.Ta(l.description);oe.addPath(l,X,!0);var he=l.dc(X);b!=0&&(he=a.PD(he,oe,$.H-_,$.H,b))&&(ne=!1);var be=-1;he=oe.I();var Ce=!1;ne&&(be=r.Ba(X),Ce=r.dc(X));var Pe=oe.ub(0),qe=0,Ue=Pe.read(0),Je=0,je=3*d.Xd(0),Ht=!1,Dt=new h.h;Dt.Rc();var ni=new h.h;ni.Rc();for(var mi=!1,Ai=1;Ai<he;++Ai){var xi=h.h.construct(Pe.eg(2*Ai),Pe.eg(2*Ai+1)),ri=xi.x,zt=ri+qe,Ct=zt-Ue;if(xi.x=zt,Math.abs(Ct)>L){if(ne){var Zi=be+Ai-1,Pi=be;(!Ce||Ai+1<he)&&(Pi+=Ai),Zi=V.read(2*Zi),Pi=(V.read(2*Pi)-Zi)*Y,Math.abs(Ct-Pi)>1*P&&(U=!1)}ne||(zt=ri+(qe-=h.lc.Cn(C,zt-Ue)),++Je,mi=qe!=0,xi.x=zt)}else Ht||h.ta.AG(Dt,ni,xi,je)&&(Ht=!0);mi&&Pe.write(2*Ai,zt),Ue=zt,Dt.L(ni),ni.L(xi)}Je!=0&&oe.Pc(1993),ne=oe.Na(0),he=oe.Na(he-1),h.h.tb(ne,he),oe=a.wQ(oe,d,isNaN(f)?0:f,m),o.add(oe,!1)}return r=d.Xd(0),l=$.R()/180,a.Jt(o,$,.1*r,!1),h.ri.clip(o,$,r,l,m)},a.wQ=function(r,o,l,d){return a.Fn(r,o,l,!0,0,d)},a.OS=function(r,o,l,d){var f=r.getType();if(f==1736)for(o=o!=null?o.Xd(0):0,f=0;f<d;f++)h.hd.Yd(r,l[f],o)!=1&&l[f].Rc();else{if(f!=197)throw h.i.N();for(f=0;f<d;f++)r.dP(l[f])||l[f].Rc()}},a.$k=function(r,o,l,d){if(32>l)for(var f=new h.Sa,m=0;m<l;m++)f.Cb(o[m]),r.$k(f,d).D(o[m]);else{var b=new h.de;for(b.re(3),b.HD(o,l),f=b.ub(3),m=0;m<l;m++)f.write(m,m);for(m=r.$k(b,d),r=m.ub(0),f=m.ub(3),d=h.h.construct(NaN,NaN),b=0;b<l;b++)o[b]=d;for(l=m.I(),m=0;m<l;m++)d=f.read(m),r.tc(2*m,o[d])}},a.Zk=function(r,o,l,d){if(32>l)for(var f=new h.Sa,m=0;m<l;m++)f.Cb(o[m]),r.Zk(f,d).D(o[m]);else{var b=new h.de;for(b.re(3),b.HD(o,l),f=b.ub(3),m=0;m<l;m++)f.write(m,m);for(m=r.Zk(b,d),r=m.ub(0),f=m.ub(3),d=h.h.construct(NaN,NaN),b=0;b<l;b++)o[b]=d;for(l=m.I(),m=0;m<l;m++)d=f.read(m),r.tc(2*m,o[d])}},a.pE=210,a}()}(re||(re={})),function(h){var N;(N=h.UL||(h.UL={}))[N.rightSide=1]="rightSide";var x=function(){function c(a,r,o){this.Bs=new h.h,a===void 0?this.Io=-1:(this.Bs.L(a),this.Io=r,this.Ka=o,this.nw=0)}return c.prototype.WJ=function(a){this.nw=a?1|this.nw:-2&this.nw},c.prototype.B=function(){return 0>this.Io},c.prototype.fz=function(){if(this.B())throw h.i.fa("invalid call");return new h.Sa(this.Bs.x,this.Bs.y)},c.prototype.Ua=function(){if(this.B())throw h.i.fa("invalid call");return this.Io},c.prototype.hz=function(){if(this.B())throw h.i.fa("invalid call");return this.Ka},c.prototype.Sz=function(){return!!(1&this.nw)},c.prototype.ey=function(a,r,o,l){this.Bs.x=a,this.Bs.y=r,this.Io=o,this.Ka=l},c}();h.$l=x}(re||(re={})),function(h){var N=function(){function c(){}return c.prototype.Uo=function(a,r){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,a.xc(this.Ek),this.Ek.W(r,r),this.Ek.isIntersecting(this.Fb.Ca)){var o=a.getType();(this.vs=h.aa.yd(o))?(this.TH=a.ac(),this.SH=a.wc(),this.qa=r):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},c.prototype.Xi=function(a,r){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(a),this.Ek.W(r,r),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},c.prototype.next=function(){if(this.th.size==0)return-1;this.tk=this.Qs;var a=null,r=null,o=null,l=null;this.vs&&(a=new h.h,r=new h.h,o=new h.l);for(var d=!1;!d;){for(;this.tk!=-1;){var f=this.Fb.bz(this.Fb.fv(this.tk));if(f.isIntersecting(this.Ek)){if(!this.vs){d=!0;break}if(a.L(this.TH),r.L(this.SH),o.K(f),o.W(this.qa,this.qa),0<o.zy(a,r)){d=!0;break}}this.tk=this.Fb.nv(this.tk)}if(this.tk==-1){f=this.th.Fc();var m=this.Ii[this.Ii.length-1];for(l==null&&((l=[])[0]=new h.l,l[1]=new h.l,l[2]=new h.l,l[3]=new h.l),x.EJ(m,l),this.th.If(),--this.Ii.length,m=0;4>m;m++){var b=this.Fb.Lp(f,m);if(b!=-1&&0<this.Fb.WR(b)&&l[m].isIntersecting(this.Ek))if(this.vs){if(a.L(this.TH),r.L(this.SH),o.K(l[m]),o.W(this.qa,this.qa),0<o.zy(a,r)){var _=new h.l;_.K(l[m]),this.th.add(b),this.Ii.push(_)}}else(_=new h.l).K(l[m]),this.th.add(b),this.Ii.push(_)}if(this.th.size==0)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},c.bP=function(a,r,o){var l=new c;return l.Fb=a,l.Ek=new h.l,l.th=new h.ia(0),l.Ii=[],l.Uo(r,o),l},c.aP=function(a,r,o){var l=new c;return l.Fb=a,l.Ek=new h.l,l.th=new h.ia(0),l.Ii=[],l.Xi(r,o),l},c.$O=function(a){var r=new c;return r.Fb=a,r.Ek=new h.l,r.th=new h.ia(0),r.Ii=[],r},c}();h.GY=N;var x=function(){function c(a,r){this.jf=new h.$c(11),this.Zh=new h.$c(5),this.ws=[],this.gw=new h.ia(0),this.Ca=new h.l,this.Nk(a,r)}return c.prototype.reset=function(a,r){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(a,r)},c.prototype.vj=function(a,r){return this.zv(a,r,0,this.Ca,this.kf,!1,-1)},c.prototype.Jz=function(a,r,o){o=o==-1?this.kf:this.WF(o);var l=this.ca(o),d=this.oR(o);return this.zv(a,r,l,d,o,!1,-1)},c.prototype.ja=function(a){return this.jR(a)},c.prototype.GF=function(a){return this.bz(this.fv(a))},c.prototype.ca=function(a){return this.jv(a)},c.prototype.oR=function(a){var r=new h.l;r.K(this.Ca);var o=this.jv(a);a=this.QF(a);for(var l=0;l<2*o;l+=2){var d=h.O.truncate(3&a>>l);d==0?(r.v=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):d==1?(r.C=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):(d==2?r.C=.5*(r.v+r.C):r.v=.5*(r.v+r.C),r.H=.5*(r.G+r.H))}return r},c.prototype.WR=function(a){return this.Az(a)},c.prototype.vR=function(a,r){return N.bP(this,a,r)},c.prototype.MF=function(a,r){return N.aP(this,a,r)},c.prototype.getIterator=function(){return N.$O(this)},c.prototype.Nk=function(a,r){if(0>r||32<2*r)throw h.i.N("invalid height");this.BT=r,this.Ca.K(a),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},c.prototype.zv=function(a,r,o,l,d,f,m){if(!l.contains(r))return o==0?-1:this.zv(a,r,0,this.Ca,this.kf,f,m);if(!f)for(var b=d;b!=-1;b=this.IR(b))this.jx(b,this.Az(b)+1);(b=new h.l).K(l),l=d;var _=[];for(_[0]=new h.l,_[1]=new h.l,_[2]=new h.l,_[3]=new h.l;o<this.BT&&this.iO(l);o++){c.EJ(b,_);for(var $=!1,C=0;4>C;C++)if(_[C].contains(r)){$=!0;var P=this.Lp(l,C);P==-1&&(P=this.rP(l,C)),this.jx(P,this.Az(P)+1),l=P,b.K(_[C]);break}if(!$)break}return this.sS(a,r,o,b,l,f,d,m)},c.prototype.sS=function(a,r,o,l,d,f,m,b){var _=this.NF(d);if(f){if(d==m)return b;this.SP(b),f=b}else f=this.tP(),this.NB(f,a),this.KW(this.fv(f),r);return this.mX(f,d),_!=-1?(this.hx(f,_),this.bx(_,f)):this.GJ(d,f),this.SB(d,f),this.ax(d,this.lv(d)+1),this.hO(d)&&this.MQ(o,l,d),f},c.prototype.SP=function(a){var r=this.WF(a),o=this.NF(r),l=this.OR(a),d=this.nv(a);this.Ur(r)==a?(d!=-1?this.hx(d,-1):this.SB(r,-1),this.GJ(r,d)):o==a?(this.bx(l,-1),this.SB(r,l)):(this.hx(d,l),this.bx(l,d)),this.hx(a,-1),this.bx(a,-1),this.ax(r,this.lv(r)-1)},c.EJ=function(a,r){var o=.5*(a.v+a.C),l=.5*(a.G+a.H);r[0].K(o,l,a.C,a.H),r[1].K(a.v,l,o,a.H),r[2].K(a.v,a.G,o,l),r[3].K(o,a.G,a.C,l)},c.prototype.hO=function(a){return this.lv(a)==8&&!this.gG(a)},c.prototype.MQ=function(a,r,o){var l=this.Ur(o);do{var d=this.fv(l),f=this.Zh.T(l,0);d=this.bz(d),this.zv(f,d,a,r,o,!0,l),l=f=this.nv(l)}while(l!=-1)},c.prototype.iO=function(a){return 8<=this.lv(a)||this.gG(a)},c.prototype.gG=function(a){return this.Lp(a,0)!=-1||this.Lp(a,1)!=-1||this.Lp(a,2)!=-1||this.Lp(a,3)!=-1},c.prototype.rP=function(a,r){var o=this.jf.Ce();return this.OW(a,r,o),this.jx(o,0),this.ax(o,0),this.Pk(o,a),this.KJ(o,this.jv(a)+1),this.NJ(o,r<<2*this.jv(a)|this.QF(a)),o},c.prototype.tP=function(){var a=this.Zh.Ce();if(0<this.gw.size){var r=this.gw.Fc();this.gw.If()}else r=this.ws.length,this.ws.push(new h.l);return this.LW(a,r),a},c.prototype.Lp=function(a,r){return this.jf.T(a,r)},c.prototype.OW=function(a,r,o){this.jf.S(a,r,o)},c.prototype.Ur=function(a){return this.jf.T(a,4)},c.prototype.GJ=function(a,r){this.jf.S(a,4,r)},c.prototype.NF=function(a){return this.jf.T(a,5)},c.prototype.SB=function(a,r){this.jf.S(a,5,r)},c.prototype.QF=function(a){return this.jf.T(a,6)},c.prototype.NJ=function(a,r){this.jf.S(a,6,r)},c.prototype.lv=function(a){return this.jf.T(a,7)},c.prototype.Az=function(a){return this.jf.T(a,8)},c.prototype.ax=function(a,r){this.jf.S(a,7,r)},c.prototype.jx=function(a,r){this.jf.S(a,8,r)},c.prototype.IR=function(a){return this.jf.T(a,9)},c.prototype.Pk=function(a,r){this.jf.S(a,9,r)},c.prototype.jv=function(a){return this.jf.T(a,10)},c.prototype.KJ=function(a,r){this.jf.S(a,10,r)},c.prototype.jR=function(a){return this.Zh.T(a,0)},c.prototype.NB=function(a,r){this.Zh.S(a,0,r)},c.prototype.OR=function(a){return this.Zh.T(a,1)},c.prototype.nv=function(a){return this.Zh.T(a,2)},c.prototype.hx=function(a,r){this.Zh.S(a,1,r)},c.prototype.bx=function(a,r){this.Zh.S(a,2,r)},c.prototype.WF=function(a){return this.Zh.T(a,3)},c.prototype.mX=function(a,r){this.Zh.S(a,3,r)},c.prototype.fv=function(a){return this.Zh.T(a,4)},c.prototype.LW=function(a,r){this.Zh.S(a,4,r)},c.prototype.bz=function(a){return this.ws[a]},c.prototype.KW=function(a,r){this.ws[a].K(r)},c}();h.du=x}(re||(re={})),function(h){var N;(N=h.aL||(h.aL={}))[N.Outside=0]="Outside",N[N.Inside=1]="Inside",N[N.Border=2]="Border";var x=function(){function a(r,o){this.PT=o,this.Vh=r}return a.prototype.setColor=function(r,o){this.iH!=o&&r.flush(),this.iH=o},a.prototype.gF=function(r,o){for(var l=0;l<o;)for(var d=r[l++],f=r[l++],m=r[l++]*this.PT;d<f;d++)this.Vh[m+(d>>4)]|=this.iH<<2*(15&d)},a}();h.HY=x;var c=function(){function a(r,o,l){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(r,o,l)}return a.create=function(r,o,l){if(!a.zE(r))throw h.i.N();return a.wP(r,o,l)},a.pW=function(r){switch(r){case 0:r=1024;break;case 1:r=16384;break;case 2:r=262144;break;default:throw h.i.fa("Internal Error")}return r},a.zE=function(r){return!(r.B()||r.getType()!=1607&&r.getType()!=1736)},a.prototype.rQ=function(r,o){o=o.Ga();for(var l=new h.h,d=new h.h;o.$a();)for(;o.Ha();){var f=o.ha();if(f.getType()!=322)throw h.i.fa("Internal Error");r.Eh(f.ac(),l),r.Eh(f.wc(),d),this.Ri.jy(l.x,l.y,d.x,d.y)}this.Ri.iJ(h.Px.Cx)},a.prototype.sQ=function(){throw h.i.fa("Internal Error")},a.prototype.Ry=function(r,o){for(var l=1;4>l;l++)r.jy(o[l-1].x,o[l-1].y,o[l].x,o[l].y);r.jy(o[3].x,o[3].y,o[0].x,o[0].y),this.Ri.iJ(h.Px.Cx)},a.prototype.rK=function(r,o,l){for(var d=[null,null,null,null],f=0;f<d.length;f++)d[f]=new h.h;o=o.Ga(),l=this.Jk.dY(l)+1.5,f=new h.h;for(var m=new h.h,b=new h.h,_=new h.h,$=new h.h,C=new h.l,P=new h.h;o.$a();){var L=!1,V=!0;for(P.ma(0,0);o.Ha();){var U=o.ha();if(_.x=U.sa,_.y=U.na,$.x=U.pa,$.y=U.la,C.Oa(),C.Zb(_.x,_.y),C.Lk($.x,$.y),this.vl.HG(C)){this.Jk.Eh($,$),V?(this.Jk.Eh(_,_),P.L(_),V=!1):_.L(P),f.uc($,_);var Y=.5>(U=f.length());U==0?f.ma(1,0):(Y||P.L($),f.scale(l/U),m.ma(-f.y,f.x),b.ma(f.y,-f.x),_.sub(f),$.add(f),d[0].add(_,m),d[1].add(_,b),d[2].add($,b),d[3].add($,m),Y?L=!0:this.Ry(r,d))}else L&&(this.Ry(r,d),L=!1),V=!0}L&&this.Ry(r,d)}},a.prototype.sC=function(r){return h.O.truncate(r*this.qH+this.aI)},a.prototype.tC=function(r){return h.O.truncate(r*this.Es+this.cI)},a.wP=function(r,o,l){return new a(r,o,l)},a.prototype.Fz=function(r,o,l){this.Gf=Math.max(h.O.truncate(2*Math.sqrt(l)+.5),64),this.Um=h.O.truncate((2*this.Gf+31)/32),this.vl=new h.l,this.Ik=o,l=0;for(var d=this.Gf,f=this.Um;8<=d;)l+=d*f,d=h.O.truncate(d/2),f=h.O.truncate((2*d+31)/32);this.Vh=h.O.lg(l,0),this.Ri=new h.Px,l=new x(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,l),r.A(this.vl),this.vl.W(o,o),d=new h.l;var m=o*(f=h.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(o*=f.ca(),d.K(this.vl.sf(),Math.max(m,this.vl.R()),Math.max(o,this.vl.ca())),this.SA=this.Ik,this.Jk=new h.Dd,this.Jk.pS(d,f),new h.Dd,r.getType()){case 550:l.setColor(this.Ri,2),this.sQ();break;case 1607:l.setColor(this.Ri,2),this.rK(this.Ri,r,this.SA);break;case 1736:l.setColor(this.Ri,1),this.rQ(this.Jk,r),l.setColor(this.Ri,2),this.rK(this.Ri,r,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},a.prototype.XN=function(){this.Ri.flush();for(var r=0,o=this.Gf*this.Um,l=this.Gf,d=h.O.truncate(this.Gf/2),f=this.Um,m=h.O.truncate((2*d+31)/32);8<l;){for(l=0;l<d;l++)for(var b=2*l,_=2*l+1,$=0;$<d;$++){var C=2*$,P=2*$+1,L=C>>4;C=2*(15&C);var V=P>>4;P=2*(15&P);var U=this.Vh[r+f*b+L]>>C&3;U|=this.Vh[r+f*b+V]>>P&3,U|=this.Vh[r+f*_+L]>>C&3,U|=this.Vh[r+f*_+V]>>P&3,this.Vh[o+m*l+($>>4)]|=U<<2*(15&$)}l=d,f=m,r=o,d=h.O.truncate(l/2),m=h.O.truncate((2*d+31)/32),o=r+f*l}},a.prototype.So=function(r,o){return this.vl.contains(r,o)?(r=this.sC(r),o=this.tC(o),0>r||r>=this.Gf||0>o||o>=this.Gf||(o=this.Vh[this.Um*o+(r>>4)]>>2*(15&r)&3)==0?0:o==1?1:2):0},a.prototype.Ro=function(r){if(!r.Ea(this.vl))return 0;var o=this.sC(r.v),l=this.sC(r.C),d=this.tC(r.G);if(r=this.tC(r.H),0>o&&(o=0),0>d&&(d=0),l>=this.Gf&&(l=this.Gf-1),r>=this.Gf&&(r=this.Gf-1),o>l||d>r)return 0;for(var f=Math.max(l-o,1)*Math.max(r-d,1),m=0,b=this.Um,_=this.Gf,$=0;;){if(32>f||16>_){for(f=d;f<=r;f++)for(var C=o;C<=l;C++)if(1<($=this.Vh[m+b*f+(C>>4)]>>2*(15&C)&3))return 2;if($==0)return 0;if($==1)return 1}m+=b*_,_=h.O.truncate(_/2),b=h.O.truncate((2*_+31)/32),o=h.O.truncate(o/2),d=h.O.truncate(d/2),l=h.O.truncate(l/2),r=h.O.truncate(r/2),f=Math.max(l-o,1)*Math.max(r-d,1)}},a.prototype.RR=function(){return this.Gf*this.Um},a}();h.Nx=c}(re||(re={})),function(h){var N;(N=h.VL||(h.VL={}))[N.contains=1]="contains",N[N.within=2]="within",N[N.equals=3]="equals",N[N.disjoint=4]="disjoint",N[N.touches=8]="touches",N[N.crosses=16]="crosses",N[N.overlaps=32]="overlaps",N[N.unknown=0]="unknown",N[N.intersects=1073741824]="intersects";var x=function(){function a(){}return a.construct=function(r,o,l,d,f,m,b,_){var $=new a;return $.pw=r,$.Mm=o,$.Kj=l,$.Si=d,$.BH=f,$.SY=m,$.TY=b,$.UY=_,$},a}();h.Vt=function(){function a(){}return a.CD=function(r,o,l){if(a.wy(r)){var d=h.ta.kj(o,r,!1);o=!1,h.Uk.CE(r)&&(o=o||r.lu(d,l)),(d=r.getType())!=1736&&d!=1607||!h.Uk.AE(r)||l==0||(o=o||r.fj(l)),d!=1736&&d!=1607||!h.Uk.BE(r)||l==0||o||r.hM()}},a.wy=function(r){return h.Uk.CE(r)||h.Uk.AE(r)||h.Uk.BE(r)},a}();var c=function(){function a(){this.rh=[]}return a.zB=function(r,o,l,d,f){var m=r.getType(),b=o.getType();if(m==197){if(b==197)return a.tW(r,o,l,d);if(b==33)return d==2?d=1:d==1&&(d=2),a.hJ(o,r,l,d)}else if(m==33){if(b==197)return a.hJ(r,o,l,d);if(b==33)return a.vW(r,o,l,d)}if(r.B()||o.B())return d==4;var _=new h.l;r.A(_);var $=new h.l;o.A($);var C=new h.l;if(C.K(_),C.Zb($),l=h.ta.Wd(l,C,!1),a.dk(_,$,l))return d==4;switch(_=!1,h.Vk.yd(m)&&((m=new h.Ta(r.description)).oc(r,!0),r=m,m=1607),h.Vk.yd(b)&&((b=new h.Ta(o.description)).oc(o,!0),o=b,b=1607),m!=197&&b!=197?(r.Db()<o.Db()||m==33&&b==550)&&(d==2?d=1:d==1&&(d=2)):m!=1736&&b!=197&&(d==2?d=1:d==1&&(d=2)),m){case 1736:switch(b){case 1736:_=a.rt(r,o,l,d,f);break;case 1607:_=a.$m(r,o,l,d,f);break;case 33:_=a.qt(r,o,l,d);break;case 550:_=a.pt(r,o,l,d,f);break;case 197:_=a.GI(r,o,l,d,f)}break;case 1607:switch(b){case 1736:_=a.$m(o,r,l,d,f);break;case 1607:_=a.gB(r,o,l,d,f);break;case 33:_=a.tt(r,o,l,d,f);break;case 550:_=a.st(r,o,l,d,f);break;case 197:_=a.MI(r,o,l,d)}break;case 33:switch(b){case 1736:_=a.qt(o,r,l,d);break;case 1607:_=a.tt(o,r,l,d,f);break;case 550:_=a.lt(o,r,l,d)}break;case 550:switch(b){case 1736:_=a.pt(o,r,l,d,f);break;case 1607:_=a.st(o,r,l,d,f);break;case 550:_=a.ZA(r,o,l,d,f);break;case 33:_=a.lt(r,o,l,d);break;case 197:_=a.hI(r,o,l,d)}break;case 197:switch(b){case 1736:_=a.GI(o,r,l,d,f);break;case 1607:_=a.MI(o,r,l,d);break;case 550:_=a.hI(o,r,l,d)}}return _},a.tW=function(r,o,l,d){if(r.B()||o.B())return d==4;var f=new h.l,m=new h.l,b=new h.l;switch(r.A(f),o.A(m),b.K(f),b.Zb(m),r=h.ta.Wd(l,b,!1),d){case 4:return a.dk(f,m,r);case 2:return a.jF(m,f,r);case 1:return a.jF(f,m,r);case 3:return a.ek(f,m,r);case 8:return a.cQ(f,m,r);case 32:return a.bQ(f,m,r);case 16:return a.aQ(f,m,r)}return!1},a.hJ=function(r,o,l,d){if(r.B()||o.B())return d==4;r=r.D();var f=new h.l,m=new h.l;switch(o.A(f),m.K(r),m.Zb(f),o=h.ta.Wd(l,m,!1),d){case 4:return a.Rw(r,f,o);case 2:return a.eB(r,f,o);case 1:return a.RU(r,f,o);case 3:return a.vI(r,f,o);case 8:return a.dB(r,f,o)}return!1},a.vW=function(r,o,l,d){if(r.B()||o.B())return d==4;r=r.D(),o=o.D();var f=new h.l;switch(f.K(r),f.Zb(o),l=h.ta.Wd(l,f,!1),d){case 4:return a.SU(r,o,l);case 2:return a.uI(o,r,l);case 1:return a.uI(r,o,l);case 3:return a.wI(r,o,l)}return!1},a.rt=function(r,o,l,d,f){switch(d){case 4:return a.kV(r,o,l);case 2:return a.Sw(o,r,l,f);case 1:return a.Sw(r,o,l,f);case 3:return a.nV(r,o,l);case 8:return a.vV(r,o,l);case 32:return a.qV(r,o,l,f)}return!1},a.$m=function(r,o,l,d,f){switch(d){case 4:return a.lV(r,o,l);case 1:return a.fB(r,o,l,f);case 8:return a.wV(r,o,l,f);case 16:return a.gV(r,o,l)}return!1},a.qt=function(r,o,l,d){switch(d){case 4:return a.jV(r,o,l);case 1:return a.dV(r,o,l);case 8:return a.uV(r,o,l)}return!1},a.pt=function(r,o,l,d){switch(d){case 4:return a.iV(r,o,l);case 1:return a.cV(r,o,l);case 8:return a.tV(r,o,l);case 16:return a.fV(r,o,l)}return!1},a.GI=function(r,o,l,d,f){if(a.hV(r,o,l))return d==4;if(d==4)return!1;switch(d){case 2:return a.xV(r,o,l);case 1:return a.bV(r,o,l);case 3:return a.mV(r,o,l);case 8:return a.sV(r,o,l,f);case 32:return a.pV(r,o,l,f);case 16:return a.eV(r,o,l,f)}return!1},a.gB=function(r,o,l,d){switch(d){case 4:return a.GV(r,o,l);case 2:return a.KI(o,r,l);case 1:return a.KI(r,o,l);case 3:return a.IV(r,o,l);case 8:return a.NI(r,o,l);case 32:return a.MV(r,o,l);case 16:return a.LI(r,o,l)}return!1},a.tt=function(r,o,l,d){switch(d){case 4:return a.FV(r,o,l);case 1:return a.AV(r,o,l);case 8:return a.QV(r,o,l)}return!1},a.st=function(r,o,l,d){switch(d){case 4:return a.EV(r,o,l);case 1:return a.zV(r,o,l);case 8:return a.PV(r,o,l);case 16:return a.CV(r,o,l)}return!1},a.MI=function(r,o,l,d){if(a.DV(r,o,l))return d==4;if(d==4)return!1;switch(d){case 2:return a.RV(r,o,l);case 1:return a.yV(r,o,l);case 3:return a.HV(r,o,l);case 8:return a.OV(r,o,l);case 32:return a.LV(r,o,l);case 16:return a.BV(r,o,l)}return!1},a.ZA=function(r,o,l,d){switch(d){case 4:return a.gU(r,o,l);case 2:return a.eI(o,r,l);case 1:return a.eI(r,o,l);case 3:return a.iU(r,o,l);case 32:return a.oU(r,o,l)}return!1},a.lt=function(r,o,l,d){switch(d){case 4:return a.fI(r,o,l);case 2:return a.sU(r,o,l);case 1:return a.dU(r,o,l);case 3:return a.Nw(r,o,l)}return!1},a.hI=function(r,o,l,d){switch(d){case 4:return a.fU(r,o,l);case 2:return a.rU(r,o,l);case 1:return a.cU(r,o,l);case 3:return a.hU(r,o,l);case 8:return a.qU(r,o,l);case 16:return a.eU(r,o,l)}return!1},a.nV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!!a.ek(d,f,l)&&(d=a.qc(r,o,!1))!=4&&d!=1&&d!=2&&(!!a.dI(r,o,l)||(d=r.Qb(),f=o.Qb(),!(Math.abs(d-f)>4*Math.max(r.I(),o.I())*l)&&a.Wz(r,o,l,!0)))},a.kV=function(r,o,l){var d=a.qc(r,o,!0);return d==4||d!=1&&d!=2&&d!=1073741824&&a.EI(r,o,l)},a.vV=function(r,o,l){var d=a.qc(r,o,!1);return d!=4&&d!=1&&d!=2&&a.II(r,o,l,null)},a.qV=function(r,o,l,d){var f=a.qc(r,o,!1);return f!=4&&f!=1&&f!=2&&a.FI(r,o,l,d)},a.Sw=function(r,o,l,d){var f=new h.l,m=new h.l;return r.A(f),o.A(m),!!a.zc(f,m,l)&&(f=a.qc(r,o,!1))!=4&&f!=2&&(f==1||a.BI(r,o,l,d))},a.lV=function(r,o,l){var d=a.qc(r,o,!0);return d==4||d!=1&&d!=1073741824&&a.EI(r,o,l)},a.wV=function(r,o,l,d){var f=a.qc(r,o,!1);return f!=4&&f!=1&&a.JI(r,o,l,d)},a.gV=function(r,o,l){var d=a.qc(r,o,!1);return d!=4&&d!=1&&a.DI(r,o,l,null)},a.fB=function(r,o,l,d){var f=new h.l,m=new h.l;return r.A(f),o.A(m),!!a.zc(f,m,l)&&(f=a.qc(r,o,!1))!=4&&(f==1||a.CI(r,o,l,d))},a.jV=function(r,o,l){return h.hd.KG(r,o,l)==0},a.uV=function(r,o,l){return o=o.D(),a.HI(r,o,l)},a.dV=function(r,o,l){return o=o.D(),a.AI(r,o,l)},a.iV=function(r,o,l){var d=a.qc(r,o,!1);if(d==4)return!0;if(d==1)return!1;d=new h.l,r.A(d),d.W(l,l);for(var f=new h.h,m=0;m<o.I();m++)if(o.D(m,f),d.contains(f)){var b=h.hd.Yd(r,f,l);if(b==1||b==2)return!1}return!0},a.tV=function(r,o,l){var d=this.qc(r,o,!1);if(d==4||d==1)return!1;d=new h.l,r.A(d),d.W(l,l);for(var f=!1,m=r,b=!1,_=0;_<o.I();_++){var $=o.Na(_);if(d.contains($)){if(($=h.hd.Yd(m,$,l))==2)f=!0;else if($==1)return!1}b||(!h.Dg.Ml(r,o.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?m=r:(m=new h.Da,r.copyTo(m),m.fj(1)),b=!0)}return!!f},a.fV=function(r,o,l){var d=this.qc(r,o,!1);if(d==4||d==1)return!1;var f=new h.l;d=new h.l;var m=new h.l;r.A(f),o.A(m),d.K(f),d.W(l,l),m=f=!1;for(var b=r,_=!1,$=0;$<o.I();$++){var C=o.Na($);if(d.contains(C)?(C=h.hd.Yd(b,C,l))==0?m=!0:C==1&&(f=!0):m=!0,f&&m)return!0;_||(!h.Dg.Ml(r,o.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?b=r:(b=new h.Da,r.copyTo(b),b.fj(1)),_=!0)}return!1},a.cV=function(r,o,l){var d=new h.l,f=new h.l;if(r.A(d),o.A(f),!this.zc(d,f,l)||(f=this.qc(r,o,!1))==4)return!1;if(f==1)return!0;f=!1;for(var m=r,b=!1,_=0;_<o.I();_++){var $=o.Na(_);if(!d.contains($))return!1;if(($=h.hd.Yd(m,$,l))==1)f=!0;else if($==0)return!1;b||(!h.Dg.Ml(r,o.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?m=r:(m=new h.Da,r.copyTo(m),m.fj(1)),b=!0)}return f},a.mV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!!a.ek(d,f,l)&&((d=new h.Da).ad(o,!1),a.Wz(r,d,l,!0))},a.hV=function(r,o,l){var d=a.qc(r,o,!1);if(d==4)return!0;if(d==1||d==2)return!1;var f=new h.l;if(d=new h.l,r.A(f),o.A(d),a.zc(d,f,l)||(f=new h.h,d.dn(f),(o=h.hd.Yd(r,f,l))!=0)||(d.$I(f),(o=h.hd.Yd(r,f,l))!=0)||(d.en(f),(o=h.hd.Yd(r,f,l))!=0)||(d.cJ(f),(o=h.hd.Yd(r,f,l))!=0))return!1;o=r.ub(0),(f=new h.l).K(d),f.W(l,l);for(var m=0,b=r.I();m<b;m++){var _=o.read(2*m),$=o.read(2*m+1);if(f.contains(_,$))return!1}return!a.TG(r,d,l)},a.sV=function(r,o,l,d){var f=a.qc(r,o,!1);if(f==4||f==1||f==2)return!1;f=new h.l;var m=new h.l;return r.A(f),o.A(m),!a.zc(m,f,l)&&(m.R()<=l&&m.ca()<=l?(o=o.Ip(),a.HI(r,o,l)):m.R()<=l||m.ca()<=l?(f=new h.Ta,m=new h.Sa,o.Hf(0,m),f.nf(m),o.Hf(2,m),f.lineTo(m),a.JI(r,f,l,d)):((f=new h.Da).ad(o,!1),a.II(r,f,l,d)))},a.pV=function(r,o,l,d){var f=a.qc(r,o,!1);if(f==4||f==1||f==2)return!1;f=new h.l;var m=new h.l;return r.A(f),o.A(m),!(a.zc(m,f,l)||m.R()<=l||m.ca()<=l)&&((f=new h.Da).ad(o,!1),a.FI(r,f,l,d))},a.xV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),a.zc(f,d,l)},a.bV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!!a.zc(d,f,l)&&(d=a.qc(r,o,!1))!=4&&d!=2&&(d==1||(f.R()<=l&&f.ca()<=l?(o=o.Ip(),a.AI(r,o,l)):f.R()<=l||f.ca()<=l?(f=new h.Ta,d=new h.Sa,o.Hf(0,d),f.nf(d),o.Hf(2,d),f.lineTo(d),a.CI(r,f,l,null)):((f=new h.Da).ad(o,!1),a.BI(r,f,l,null))))},a.eV=function(r,o,l,d){var f=new h.l,m=new h.l;return r.A(f),o.A(m),!(a.zc(m,f,l)||m.ca()>l&&m.R()>l||m.ca()<=l&&m.R()<=l)&&(f=new h.Ta,m=new h.Sa,o.Hf(0,m),f.nf(m),o.Hf(2,m),f.lineTo(m),a.DI(r,f,l,d))},a.IV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!(!a.ek(d,f,l)||a.qc(r,o,!1)==4)&&(!!a.dI(r,o,l)||a.Wz(r,o,l,!1))},a.GV=function(r,o,l){return this.qc(r,o,!1)==4||!!new h.Zl(r,o,l,!0).next()&&!this.UG(r,o,l)},a.NI=function(r,o,l){if(a.qc(r,o,!1)==4)return!1;var d=new h.be(0);if(a.Xz(r,o,l,d)!=0)return!1;for(var f=new h.de,m=0;m<d.size;m+=2){var b=d.read(m),_=d.read(m+1);f.Bu(b,_)}return r=r.mg(),o=o.mg(),r.Fd(o,0,o.I()),a.Mw(r,f,l)},a.LI=function(r,o,l){if(a.qc(r,o,!1)==4)return!1;var d=new h.be(0);if(a.Xz(r,o,l,d)!=0)return!1;for(var f=new h.de,m=0;m<d.size;m+=2){var b=d.read(m),_=d.read(m+1);f.Bu(b,_)}return r=r.mg(),o=o.mg(),r.Fd(o,0,o.I()),!a.Mw(r,f,l)},a.MV=function(r,o,l){return a.qc(r,o,!1)!=4&&a.WG(r,o,l)},a.KI=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!(!a.zc(d,f,l)||a.qc(r,o,!1)==4)&&a.ym(o,r,l,!1)},a.FV=function(r,o,l){return a.qc(r,o,!1)==4||(o=o.D(),!a.Yz(r,o,l))},a.QV=function(r,o,l){return a.qc(r,o,!1)!=4&&(o=o.D(),a.Zz(r,o,l))},a.AV=function(r,o,l){return a.qc(r,o,!1)!=4&&(o=o.D(),a.SG(r,o,l))},a.EV=function(r,o,l){return a.qc(r,o,!1)==4||!a.VG(r,o,l,!1)},a.PV=function(r,o,l){if(this.qc(r,o,!1)==4)return!1;var d=r.Ga(),f=new h.l,m=new h.l,b=new h.l;r.A(f),o.A(m),f.W(l,l),m.W(l,l),b.K(f),b.Ea(m),f=null;var _=r.Bb;if(_!=null){var $=_.Fb;f=_.zo,$==null&&($=_=h.ta.jj(r,b))}else $=_=h.ta.jj(r,b);var C=$.getIterator(),P=null;f!=null&&(P=f.getIterator());var L=new h.h,V=new h.h,U=!1,Y=l*l;for(f=new h.pn(o.I()),_=0;_<o.I();_++)f.write(_,0);for(_=0;_<o.I();_++)if(o.D(_,L),b.contains(L)){if(m.K(L.x,L.y,L.x,L.y),P!=null&&(P.Xi(m,l),P.next()==-1))continue;C.Xi(m,l);for(var X=C.next();X!=-1;X=C.next())if(d.Vb($.ja(X)),(X=d.ha()).hc(X.fe(L,!1),V),h.h.yc(L,V)<=Y){f.write(_,1),U=!0;break}}if(!U)return!1;for(r=r.mg(),d=new h.de,m=new h.h,_=0;_<o.I();_++)f.read(_)!=0&&(o.D(_,m),d.Bu(m.x,m.y));return this.Mw(r,d,l)},a.CV=function(r,o,l){if(this.qc(r,o,!1)==4)return!1;var d=r.Ga(),f=new h.l,m=new h.l,b=new h.l;r.A(f),o.A(m),f.W(l,l),m.W(l,l),b.K(f),b.Ea(m),f=null;var _=r.Bb;if(_!=null){var $=_.Fb;f=_.zo,$==null&&($=_=h.ta.jj(r,b))}else $=_=h.ta.jj(r,b);var C=$.getIterator(),P=null;f!=null&&(P=f.getIterator());var L=new h.h,V=new h.h,U=!1,Y=!1,X=l*l;for(f=new h.pn(o.I()),_=0;_<o.I();_++)f.write(_,0);for(_=0;_<o.I();_++)if(o.D(_,L),b.contains(L)){if(m.K(L.x,L.y,L.x,L.y),P!=null&&(P.Xi(m,l),P.next()==-1)){Y=!0;continue}C.Xi(m,l);for(var Z=!1,ne=C.next();ne!=-1;ne=C.next())if(d.Vb($.ja(ne)),(ne=d.ha()).hc(ne.fe(L,!1),V),h.h.yc(L,V)<=X){f.write(_,1),Z=U=!0;break}Z||(Y=!0)}else Y=!0;if(!U||!Y)return!1;for(r=r.mg(),d=new h.de,m=new h.h,_=0;_<o.I();_++)f.read(_)!=0&&(o.D(_,m),d.Bu(m.x,m.y));return!this.Mw(r,d,l)},a.zV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!(!a.zc(d,f,l)||a.qc(r,o,!1)==4||!a.VG(r,o,l,!0))&&(r=r.mg(),!a.gI(r,o,l))},a.HV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!(f.ca()>l&&f.R()>l)&&a.ek(d,f,l)},a.DV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!a.zc(f,d,l)&&!a.TG(r,f,l)},a.OV=function(r,o,l){var d=new h.l,f=new h.l;if(r.A(d),o.A(f),f.ca()<=l&&f.R()<=l)return f=o.Ip(),a.Zz(r,f,l);if(f.ca()<=l||f.R()<=l)return f=new h.Ta,d=new h.Sa,o.Hf(0,d),f.nf(d),o.Hf(2,d),f.lineTo(d),a.NI(r,f,l);r=r.Ga(),o=new h.l,d=new h.l,o.K(f),d.K(f),o.W(-l,-l),d.W(l,l),f=!1;for(var m=new h.l,b=new h.l;r.$a();)for(;r.Ha();){if(r.ha().A(m),b.K(o),b.Ea(m),!b.B()&&(b.ca()>l||b.R()>l))return!1;b.K(d),b.Ea(m),b.B()||(f=!0)}return f},a.LV=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!(a.zc(d,f,l)||a.zc(f,d,l)||a.zc(f,d,l)||f.ca()>l&&f.R()>l||f.ca()<=l&&f.R()<=l)&&(d=new h.Ta,f=new h.Sa,o.Hf(0,f),d.nf(f),o.Hf(2,f),d.lineTo(f),a.WG(r,d,l))},a.RV=function(r,o,l){var d=new h.l,f=new h.l;if(r.A(d),o.A(f),!a.zc(f,d,l)||f.ca()<=l&&f.R()<=l)return!1;if(f.ca()<=l||f.R()<=l)return a.zc(f,d,l);r=r.Ga(),(o=new h.l).K(f),o.W(-l,-l),f=!1,d=new h.l;for(var m=new h.l;r.$a();)for(;r.Ha();)r.ha().A(d),o.hm(d)?f=!0:(m.K(o),m.Ea(d),!m.B()&&(m.ca()>l||m.R()>l)&&(f=!0));return f},a.yV=function(r,o,l){var d=new h.l,f=new h.l;return o.A(f),r.A(d),!(!a.zc(d,f,l)||f.ca()>l&&f.R()>l)&&(f.ca()<=l&&f.R()<=l?(o=o.Ip(),a.SG(r,o,l)):(d=new h.Ta,f=new h.Sa,o.Hf(0,f),d.nf(f),o.Hf(2,f),d.lineTo(f),a.ym(d,r,l,!1)))},a.BV=function(r,o,l){var d=new h.l,f=new h.l;if(r.A(d),o.A(f),a.zc(f,d,l)||f.ca()<=l&&f.R()<=l)return!1;if(f.ca()<=l||f.R()<=l)return d=new h.Ta,f=new h.Sa,o.Hf(0,f),d.nf(f),o.Hf(2,f),d.lineTo(f),a.LI(r,d,l);r=r.Ga(),o=new h.l,(d=new h.l).K(f),o.K(f),d.W(-l,-l),o.W(l,l);for(var m=f=!1,b=new h.l,_=new h.l;r.$a();)for(;r.Ha();)if(r.ha().A(b),m||o.contains(b)||(m=!0),f||(_.K(d),_.Ea(b),!_.B()&&(_.ca()>l||_.R()>l)&&(f=!0)),f&&m)return!0;return!1},a.iU=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!!a.ek(d,f,l)&&(!!a.jU(r,o,l)||a.YA(r,o,l,!1,!0,!1))},a.gU=function(r,o,l){return!a.gI(r,o,l)},a.oU=function(r,o,l){return a.YA(r,o,l,!1,!1,!0)},a.eI=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!!a.zc(d,f,l)&&a.YA(o,r,l,!0,!1,!1)},a.Mw=function(r,o,l){l*=l;for(var d=new h.h,f=new h.h,m=0;m<o.I();m++){o.D(m,f);for(var b=!1,_=0;_<r.I();_++)if(r.D(_,d),h.h.yc(d,f)<=l){b=!0;break}if(!b)return!1}return!0},a.Nw=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),a.ek(d,f,l)},a.fI=function(r,o,l){return o=o.D(),a.kt(r,o,l)},a.sU=function(r,o,l){return a.Nw(r,o,l)},a.dU=function(r,o,l){return!a.fI(r,o,l)},a.hU=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!(f.ca()>l||f.R()>l)&&a.ek(d,f,l)},a.fU=function(r,o,l){var d=new h.l,f=new h.l;if(r.A(d),o.A(f),a.zc(f,d,l))return!1;for((o=new h.l).K(f),o.W(l,l),l=new h.h,f=0;f<r.I();f++)if(r.D(f,l),o.contains(l))return!1;return!0},a.qU=function(r,o,l){var d=new h.l,f=new h.l,m=new h.l;if(o.A(d),d.ca()<=l&&d.R()<=l)return!1;if(d.ca()<=l||d.R()<=l){o=new h.h;var b=!1;f.K(d),m.K(d),f.W(l,l),d.ca()>l?m.W(0,-l):m.W(-l,0);for(var _=0;_<r.I();_++)if(r.D(_,o),f.contains(o)){if(d.ca()>l){if(o.y>m.G&&o.y<m.H)return!1}else if(o.x>m.v&&o.x<m.C)return!1;b=!0}return b}for(f.K(d),m.K(d),f.W(l,l),m.W(-l,-l),o=new h.h,b=!1,_=0;_<r.I();_++)if(r.D(_,o),f.contains(o)){if(m.hm(o))return!1;b=!0}return b},a.rU=function(r,o,l){var d=new h.l,f=new h.l;if(r.A(d),o.A(f),!a.zc(f,d,l))return!1;if(f.ca()<=l&&f.R()<=l)return a.ek(d,f,l);if(f.ca()<=l||f.R()<=l){o=!1,d=new h.l;var m=new h.l;d.K(f),m.K(f),f.ca()>l?d.W(0,-l):d.W(-l,0),m.W(l,l);for(var b=new h.h,_=0;_<r.I();_++){if(r.D(_,b),!m.contains(b))return!1;f.ca()>l?b.y>d.G&&b.y<d.H&&(o=!0):b.x>d.v&&b.x<d.C&&(o=!0)}return o}for(o=!1,d=new h.l,m=new h.l,d.K(f),m.K(f),d.W(-l,-l),m.W(l,l),b=new h.h,_=0;_<r.I();_++){if(r.D(_,b),!m.contains(b))return!1;d.hm(b)&&(o=!0)}return o},a.cU=function(r,o,l){var d=new h.l,f=new h.l;return r.A(d),o.A(f),!(!a.zc(d,f,l)||f.ca()>l||f.R()>l)&&(o=o.Ip(),!a.kt(r,o,l))},a.eU=function(r,o,l){var d=new h.l,f=new h.l;if(r.A(d),o.A(f),a.zc(f,d,l)||f.ca()<=l&&f.R()<=l)return!1;if(f.ca()<=l||f.R()<=l){o=new h.l,d=new h.l,o.K(f),f.ca()>l?o.W(0,-l):o.W(-l,0),d.K(f),d.W(l,l);for(var m=new h.h,b=!1,_=!1,$=0;$<r.I();$++)if(r.D($,m),b||(f.ca()>l?m.y>o.G&&m.y<o.H&&(b=!0):m.x>o.v&&m.x<o.C&&(b=!0)),_||d.contains(m)||(_=!0),b&&_)return!0;return!1}for(o=new h.l,d=new h.l,o.K(f),o.W(-l,-l),d.K(f),d.W(l,l),m=new h.h,_=b=!1,$=0;$<r.I();$++)if(r.D($,m),!b&&o.hm(m)&&(b=!0),_||d.contains(m)||(_=!0),b&&_)return!0;return!1},a.wI=function(r,o,l){return h.h.yc(r,o)<=l*l},a.SU=function(r,o,l){return h.h.yc(r,o)>l*l},a.uI=function(r,o,l){return a.wI(r,o,l)},a.vI=function(r,o,l){var d=new h.l;return d.K(r),a.ek(d,o,l)},a.Rw=function(r,o,l){var d=new h.l;return d.K(o),d.W(l,l),!d.contains(r)},a.dB=function(r,o,l){if(o.ca()<=l&&o.R()<=l)return!1;var d=new h.l,f=new h.l;if(d.K(o),d.W(l,l),!d.contains(r))return!1;if(o.ca()<=l||o.R()<=l){if(f.K(o),o.ca()>l?f.W(0,-l):f.W(-l,0),o.ca()>l){if(r.y>f.G&&r.y<f.H)return!1}else if(r.x>f.v&&r.x<f.C)return!1;return!0}return f.K(o),f.W(-l,-l),!f.hm(r)},a.eB=function(r,o,l){if(o.ca()<=l&&o.R()<=l)return!0;if(o.ca()<=l||o.R()<=l){var d=new h.l;d.K(o),o.ca()>l?d.W(0,-l):d.W(-l,0);var f=!1;return o.ca()>l?r.y>d.G&&r.y<d.H&&(f=!0):r.x>d.v&&r.x<d.C&&(f=!0),f}return(d=new h.l).K(o),d.W(-l,-l),d.hm(r)},a.RU=function(r,o,l){return a.vI(r,o,l)},a.ek=function(r,o,l){return a.zc(r,o,l)&&a.zc(o,r,l)},a.dk=function(r,o,l){var d=new h.l;return d.K(o),d.W(l,l),!r.isIntersecting(d)},a.cQ=function(r,o,l){if(r.ca()<=l&&r.R()<=l){var d=r.sf();return a.dB(d,o,l)}if(o.ca()<=l&&o.R()<=l)return d=o.sf(),a.dB(d,r,l);if(r.ca()>l&&r.R()>l&&(o.ca()<=l||o.R()<=l)?d=o:(d=r,r=o),d.ca()<=l||d.R()<=l){if(r.ca()<=l||r.R()<=l){o=new h.yb;var f=new h.yb,m=[0,0],b=[0,0],_=new h.h;return d.dn(_),o.Dc(_),d.en(_),o.Qc(_),r.dn(_),f.Dc(_),r.en(_),f.Qc(_),o.Ea(f,null,m,b,l),o.Ea(f,null,null,null,l)==1&&(m[0]==0||m[1]==1||b[0]==0||b[1]==1)}return o=new h.l,f=new h.l,o.K(r),o.W(-l,-l),f.K(o),f.Ea(d),!(!f.B()&&(f.ca()>l||f.R()>l))}return r.W(l,l),(f=new h.l).K(d),f.Ea(r),!(f.B()||!f.B()&&f.ca()>l&&f.R()>l)},a.bQ=function(r,o,l){if(a.zc(r,o,l)||a.zc(o,r,l)||r.ca()<=l&&r.R()<=l||o.ca()<=l&&o.R()<=l)return!1;if(r.ca()<=l||r.R()<=l){if(o.ca()>l&&o.R()>l)return!1;var d=new h.yb,f=new h.yb,m=[0,0],b=[0,0],_=new h.h;return r.dn(_),d.Dc(_),r.en(_),d.Qc(_),o.dn(_),f.Dc(_),o.en(_),f.Qc(_),d.Ea(f,null,m,b,l),d.Ea(f,null,null,null,l)==2&&(0<m[0]||1>m[1])&&(0<b[0]||1>b[1])}return!(o.ca()<=l||o.R()<=l)&&((d=new h.l).K(r),d.Ea(o),!(d.B()||d.ca()<=l||d.R()<=l))},a.jF=function(r,o,l){if(!a.zc(r,o,l))return!1;if(r.ca()<=l&&r.R()<=l)return r=r.sf(),a.eB(r,o,l);if(o.ca()<=l&&o.R()<=l)return o=o.sf(),a.eB(o,r,l);if(r.ca()<=l||r.R()<=l)return a.zc(r,o,l);if(o.ca()<=l||o.R()<=l){var d=new h.l;return d.K(r),d.W(-l,-l),d.hm(o)?!0:((r=new h.l).K(d),r.Ea(o),!(r.B()||r.ca()<=l&&r.R()<=l))}return a.zc(r,o,l)},a.aQ=function(r,o,l){if(a.zc(r,o,l)||a.zc(o,r,l)||r.ca()<=l&&r.R()<=l||o.ca()<=l&&o.R()<=l||o.ca()>l&&o.R()>l&&r.ca()>l&&r.R()>l)return!1;if(r.ca()>l&&r.R()>l)var d=o;else d=r,r=o;if(r.ca()>l&&r.R()>l){o=new h.l;var f=new h.l;return f.K(r),f.W(-l,-l),o.K(f),o.Ea(d),!(o.B()||o.ca()<=l&&o.R()<=l)}o=new h.yb,f=new h.yb;var m=[0,0],b=[0,0],_=new h.h;return d.dn(_),o.Dc(_),d.en(_),o.Qc(_),r.dn(_),f.Dc(_),r.en(_),f.Qc(_),o.Ea(f,null,m,b,l),o.Ea(f,null,null,null,l)==1&&0<m[0]&&1>m[1]&&0<b[0]&&1>b[1]},a.EI=function(r,o,l){var d=new h.l,f=new h.l,m=new h.Zl(r,o,l,!0);if(!m.next())return!0;if(this.UG(r,o,l))return!1;var b=r,_=null;o.getType()==1736&&(_=o);var $=!1,C=!1;do{var P=m.nl(),L=m.hl();if(L=o.Na(o.Ba(L)),d.K(m.uz()),d.W(l,l),d.contains(L)&&(L=h.hd.Yd(b,L,0))!=0||o.getType()==1736&&(P=r.Na(r.Ba(P)),f.K(m.az()),f.W(l,l),f.contains(P)&&(L=h.hd.Yd(_,P,0))!=0))return!1;$||(!h.Dg.Ml(r,o.da()-1)||r.Bb!=null&&r.Bb.Fb!=null?b=r:(b=new h.Da,r.copyTo(b),b.fj(1)),$=!0),o.getType()!=1736||C||(C=o,!h.Dg.Ml(C,r.da()-1)||o.Bb!=null&&o.Bb.Fb!=null?_=o:(_=new h.Da,C.copyTo(_),_.fj(1)),C=!0)}while(m.next());return!0},a.zc=function(r,o,l){var d=new h.l;return d.K(r),d.W(l,l),d.contains(o)},a.ls=function(r,o,l){var d=new h.l;return d.K(o),d.W(l,l),o=new h.h,r.dn(o),!d.contains(o)||(r.$I(o),!d.contains(o)||(r.cJ(o),!d.contains(o)||(r.en(o),!d.contains(o))))},a.dI=function(r,o,l){if(r.da()!=o.da()||r.I()!=o.I())return!1;var d=new h.h,f=new h.h,m=!0;l*=l;for(var b=0;b<r.da();b++){if(r.Vc(b)!=o.Vc(b)){m=!1;break}for(var _=r.Ba(b);_<o.Vc(b);_++)if(r.D(_,d),o.D(_,f),h.h.yc(d,f)>l){m=!1;break}if(!m)break}return!!m},a.jU=function(r,o,l){if(r.I()!=o.I())return!1;var d=new h.h,f=new h.h,m=!0;l*=l;for(var b=0;b<r.I();b++)if(r.D(b,d),o.D(b,f),h.h.yc(d,f)>l){m=!1;break}return!!m},a.YA=function(r,o,l,d,f,m){var b=!1;if(r.I()>o.I()){d&&(d=!1,b=!0);var _=o}else _=r,r=o;if(o=null,f||m||b){o=new h.pn(r.I());for(var $=0;$<r.I();$++)o.write($,0)}$=new h.l;var C=new h.l,P=new h.l;_.A($),r.A(C),$.W(l,l),C.W(l,l),P.K($),P.Ea(C),C=new h.h;for(var L=new h.h,V=!0,U=h.ta.oE(r,P),Y=U.getIterator(),X=l*l,Z=0;Z<_.I();Z++)if(_.D(Z,C),P.contains(C)){var ne=!1;$.K(C.x,C.y,C.x,C.y),Y.Xi($,l);for(var oe=Y.next();oe!=-1&&(oe=U.ja(oe),r.D(oe,L),!(h.h.yc(C,L)<=X&&((f||m||b)&&o.write(oe,1),ne=!0,d)));oe=Y.next());if(!ne&&(V=!1,f||d))return!1}else{if(f||d)return!1;V=!1}if(m&&V)return!1;if(d)return!0;for($=0;$<r.I();$++)if(o.read($)==1){if(m)return!0}else if(f||b)return!1;return!m},a.gI=function(r,o,l){if(r.I()>o.I())var d=o;else d=r,r=o;o=new h.l;var f=new h.l,m=new h.l;d.A(o),r.A(f),o.W(l,l),f.W(l,l),m.K(o),m.Ea(f),f=new h.h;for(var b=new h.h,_=l*l,$=h.ta.oE(r,m),C=$.getIterator(),P=0;P<d.I();P++)if(d.D(P,f),m.contains(f)){o.K(f.x,f.y,f.x,f.y),C.Xi(o,l);for(var L=C.next();L!=-1;L=C.next())if(r.D($.ja(L),b),h.h.yc(f,b)<=_)return!0}return!1},a.Wz=function(r,o,l,d){return a.ym(r,o,l,d)&&a.ym(o,r,l,d)},a.ym=function(r,o,l,d){function f(Je,je){return L.QE(Je,je)}var m,b=!0,_=[0,0],$=[0,0],C=0,P=new h.ia(0),L=new a,V=new h.l,U=new h.l,Y=new h.l;r.A(V),o.A(U),V.W(l,l),U.W(l,l),Y.K(V),Y.Ea(U),r=r.Ga(),U=o.Ga();var X=null,Z=X=null,ne=o.Bb;for(ne!=null?(X=ne.Fb,Z=ne.zo,X==null&&(X=h.ta.jj(o,Y))):X=h.ta.jj(o,Y),o=X.getIterator(),ne=null,Z!=null&&(ne=Z.getIterator());r.$a();)for(;r.Ha();){var oe=!1,he=r.ha();if(he.A(V),!V.isIntersecting(Y)||ne!=null&&(ne.Xi(V,l),ne.next()==-1))return!1;for(Z=he.Qb(),o.Uo(he,l),m=o.next();m!=-1;m=o.next()){U.Vb(X.ja(m)),m=U.ha();var be=he.Ea(m,null,_,$,l);if(be==2&&(!d||$[0]<=$[1])){be=_[0];var Ce=_[1],Pe=$[0],qe=$[1];if(be*Z<=l&&(1-Ce)*Z<=l){oe=!0,C=0,P.resize(0),L.rh.length=0;var Ue=r.wb();for(Pe=!0;Pe;){if(r.Ha()){if(Z=(he=r.ha()).Qb(),(be=he.Ea(m,null,_,$,l))==2&&(!d||$[0]<=$[1])&&(be=_[0],Ce=_[1],be*Z<=l&&(1-Ce)*Z<=l)){Ue=r.wb();continue}if(U.Ha()&&(m=U.ha(),(be=he.Ea(m,null,_,$,l))==2&&(!d||$[0]<=$[1])&&(be=_[0],Ce=_[1],be*Z<=l&&(1-Ce)*Z<=l))){Ue=r.wb();continue}}Pe=!1}Ue!=r.wb()&&(r.Vb(Ue),r.ha());break}Ue=r.wb(),m=x.construct(Ue,r.gb,be,Ce,U.wb(),U.gb,Pe,qe),L.rh.push(m),P.add(P.size)}}if(!oe){if(C==L.rh.length)return!1;for(1<P.size-C&&P.Vd(C,P.size,f),oe=0;C<L.rh.length;C++)if(!((m=L.rh[P.get(C)]).Kj<oe&&m.Si<oe)){if(Z*(m.Kj-oe)>l)return!1;if(Z*(1-(oe=m.Si))<=l||oe==1)break}if(Z*(1-oe)>l)return!1;C=0,P.resize(0),L.rh.length=0}}return b},a.WG=function(r,o,l){if(1>a.Xz(r,o,l,null))return!1;var d=new h.l,f=new h.l;r.A(d),o.A(f);var m=a.ls(d,f,l);return d=a.ls(f,d,l),!(!m||!d)||(m&&!d?!a.ym(o,r,l,!1):d&&!m?!a.ym(r,o,l,!1):!a.ym(r,o,l,!1)&&!a.ym(o,r,l,!1))},a.Xz=function(r,o,l,d){function f(ni,mi){return V.QE(ni,mi)}if(r.yz()>o.yz())var m=o,b=r;else m=r,b=o;r=m.Ga(),o=b.Ga();var _=[0,0],$=[0,0],C=-1,P=0,L=new h.ia(0),V=new a,U=new h.l,Y=new h.l,X=new h.l;m.A(U),b.A(Y),U.W(l,l),Y.W(l,l),X.K(U),X.Ea(Y),m=null,d!=null&&(m=new h.h);var Z=Y=Y=null,ne=b.Bb;for(ne!=null?(Y=ne.Fb,Z=ne.zo,Y==null&&(Y=h.ta.jj(b,X))):Y=h.ta.jj(b,X),b=Y.getIterator(),ne=null,Z!=null&&(ne=Z.getIterator());r.$a();)for(Z=0;r.Ha();){var oe=r.ha();if(oe.A(U),U.isIntersecting(X)){if(ne!=null&&(ne.Xi(U,l),ne.next()==-1))continue;var he=oe.Qb();b.Uo(oe,l);for(var be=b.next();be!=-1;be=b.next()){var Ce=Y.ja(be);o.Vb(Ce);var Pe=o.ha(),qe=Pe.Qb(),Ue=oe.Ea(Pe,null,_,$,l);if(0<Ue){be=_[0],C=$[0];var Je=Ue==2?_[1]:NaN,je=Ue==2?$[1]:NaN;if(Ue==2){if(he*(Je-be)>l)return 1;var Ht=he*(Je-be);if(o.Ha()){if(Pe=o.ha(),(Ue=oe.Ea(Pe,null,_,null,l))==2){Ue=_[0];var Dt=_[1];if(Ht+(Ue=he*(Dt-Ue))>l)return 1}o.Vb(Ce),o.ha()}if(!o.vm()){if(o.li(),Pe=o.li(),(Ue=oe.Ea(Pe,null,_,null,l))==2&&(Ue=_[0],Ht+(Ue=he*((Dt=_[1])-Ue))>l))return 1;o.Vb(Ce),o.ha()}if(r.Ha()){if(Ce=r.wb(),(Ue=(oe=r.ha()).Ea(Pe,null,_,null,l))==2&&(Ue=_[0],Ht+(Ue=he*((Dt=_[1])-Ue))>l))return 1;r.Vb(Ce),r.ha()}if(!r.vm()){if(Ce=r.wb(),r.li(),(Ue=(oe=r.li()).Ea(Pe,null,_,null,l))==2&&(Ue=_[0],Ht+(Ue=qe*((Dt=_[1])-Ue))>l))return 1;r.Vb(Ce),r.ha()}Pe=x.construct(r.wb(),r.gb,be,Je,o.wb(),o.gb,C,je),V.rh.push(Pe),L.add(L.size)}C=0,d!=null&&(oe.hc(be,m),d.add(m.x),d.add(m.y))}}if(P<V.rh.length){for(L.Vd(P,L.size,f),oe=0,be=V.rh[L.get(P)].Mm;P<V.rh.length;P++)if(!((Pe=V.rh[L.get(P)]).Kj<oe&&Pe.Si<oe))if(he*(Pe.Kj-oe)>l)Z=he*(Pe.Si-Pe.Kj),oe=Pe.Si,be=Pe.Mm;else{if(Pe.Mm!=be?(Z=he*(Pe.Si-Pe.Kj),be=Pe.Mm):Z+=he*(Pe.Si-Pe.Kj),Z>l)return 1;if((oe=Pe.Si)==1)break}he*(1-oe)>l&&(Z=0),P=0,L.resize(0),V.rh.length=0}}}return C},a.UG=function(r,o,l){var d=r.Ga(),f=o.Ga();for(r=new h.Zl(r,o,l,!1);r.next();){o=r.nl();var m=r.hl();if(d.Vb(o),f.Vb(m),o=d.ha(),0<f.ha().Ea(o,null,null,null,l))return!0}return!1},a.VG=function(r,o,l,d){var f=r.Ga(),m=new h.l,b=new h.l,_=new h.l;r.A(m),o.A(b),m.W(l,l),m.contains(b),b.W(l,l),_.K(m),_.Ea(b),(m=r.Bb)!=null?(m=m.Fb)==null&&(m=h.ta.jj(r,_)):m=h.ta.jj(r,_),r=m.getIterator();for(var $=new h.h,C=new h.h,P=l*l,L=0;L<o.I();L++)if(o.D(L,$),_.contains($)){b.K($.x,$.y,$.x,$.y),r.Xi(b,l);for(var V=!1,U=r.next();U!=-1;U=r.next())if(f.Vb(m.ja(U)),(U=f.ha()).hc(U.fe($,!1),C),h.h.yc(C,$)<=P){V=!0;break}if(d){if(!V)return!1}else if(V)return!0}return!!d},a.Yz=function(r,o,l){var d=new h.h,f=l*l,m=r.Ga();if((r=r.Bb)!=null&&(r=r.Fb)!=null){var b=new h.l;for(b.K(o),b=(l=r.MF(b,l)).next();b!=-1;b=l.next())if(m.Vb(r.ja(b)),m.Ha()){var _=(b=m.ha()).fe(o,!1);if(b.hc(_,d),h.h.yc(o,d)<=f)return!0}return!1}for(r=new h.l;m.$a();)for(;m.Ha();)if((b=m.ha()).A(r),r.W(l,l),r.contains(o)&&(_=b.fe(o,!1),b.hc(_,d),h.h.yc(o,d)<=f))return!0;return!1},a.SG=function(r,o,l){return a.Yz(r,o,l)&&!a.Zz(r,o,l)},a.Zz=function(r,o,l){return r=r.mg(),!a.kt(r,o,l)},a.TG=function(r,o,l){if(r.tm()){var d=new h.yb(o.v,o.G,o.v,o.H),f=new h.yb(o.v,o.H,o.C,o.H),m=new h.yb(o.C,o.H,o.C,o.G);for(o=new h.yb(o.C,o.G,o.v,o.G),r=r.Ga();r.$a();)for(;r.Ha();){var b=r.ha();if(b.isIntersecting(d,l)||b.isIntersecting(f,l)||b.isIntersecting(m,l)||b.isIntersecting(o,l))return!0}}else{(d=new h.l).K(o),d.W(l,l),l=r.ub(0),f=new h.h,m=new h.h,o=new h.h,b=new h.h;for(var _=0,$=r.da();_<$;_++)for(var C=!0,P=r.Ba(_),L=r.Vc(_);P<L;P++)if(C)l.tc(2*P,m),C=!1;else{if(l.tc(2*P,f),o.L(m),b.L(f),d.zy(o,b)!=0)return!0;m.L(f)}}return!1},a.qc=function(r,o,l){var d=r.getType(),f=o.getType();if(h.aa.xj(d)){var m=r.Bb;if(m!=null&&(m=m.Fk)!=null)if(f==33){var b=o.D();if((b=m.So(b.x,b.y))==1)return 1;if(b==0)return 4}else{if(b=new h.l,o.A(b),(b=m.Ro(b))==1)return 1;if(b==0)return 4;if(l&&h.aa.xj(f)&&a.HE(o,m))return 1073741824}}if(h.aa.xj(f)&&(m=o.Bb)!=null&&(m=m.Fk)!=null)if(d==33){if(r=r.D(),(b=m.So(r.x,r.y))==1)return 2;if(b==0)return 4}else{if(o=new h.l,r.A(o),(b=m.Ro(o))==1)return 2;if(b==0)return 4;if(l&&h.aa.xj(d)&&a.HE(r,m))return 1073741824}return 0},a.HE=function(r,o){for(var l=r.I(),d=new h.h,f=0;f<l;f++)if(r.D(f,d),o.So(d.x,d.y)==1)return!0;return!1},a.II=function(r,o,l,d){for(var f=1<=r.om(0)&&1<=o.om(0),m=r.Ga(),b=o.Ga(),_=[0,0],$=[0,0],C=new h.Zl(r,o,l,!1),P=!1;C.next();){var L=C.nl(),V=C.hl();if(m.Vb(L),b.Vb(V),L=m.ha(),(V=b.ha().Ea(L,null,$,_,l))==2){if(P=_[0],V=_[1],L=L.Qb(),f&&(V-P)*L>l)return!1;P=!0}else if(V!=0){if(P=_[0],L=$[0],0<P&&1>P&&0<L&&1>L)return!1;P=!0}}return!!P&&(m=new h.l,b=new h.l,f=new h.l,r.A(m),o.A(b),m.W(1e3*l,1e3*l),b.W(1e3*l,1e3*l),f.K(m),f.Ea(b),!(10<r.I()&&(r=h.Ud.clip(r,f,l,0),r.B())||10<o.I()&&(o=h.Ud.clip(o,f,l,0),o.B()))&&h.am.rt(r,o,l,"F********",d))},a.FI=function(r,o,l,d){var f=1<=r.om(0)&&1<=o.om(0),m=new h.l,b=new h.l,_=new h.l;r.A(m),o.A(b);for(var $=!1,C=a.ls(m,b,l),P=a.ls(b,m,l),L=r.Ga(),V=o.Ga(),U=[0,0],Y=[0,0],X=new h.Zl(r,o,l,!1);X.next();){var Z=X.nl(),ne=X.hl();if(L.Vb(Z),V.Vb(ne),ne=L.ha(),(Z=V.ha().Ea(ne,null,Y,U,l))==2){Z=U[0];var oe=U[1];if(ne=ne.Qb(),f&&(oe-Z)*ne>l&&($=!0,C&&P))return!0}else if(Z!=0&&(Z=U[0],ne=Y[0],0<Z&&1>Z&&0<ne&&1>ne))return!0}if(f=new h.l,L=new h.l,f.K(m),f.W(1e3*l,1e3*l),L.K(b),L.W(1e3*l,1e3*l),_.K(f),_.Ea(L),m="",m=$?m+"**":m+"T*",C){if(10<o.I()&&(o=h.Ud.clip(o,_,l,0)).B())return!1;m+="****"}else m+="T***";if(P){if(10<r.I()&&(r=h.Ud.clip(r,_,l,0)).B())return!1;m+="***"}else m+="T**";return h.am.rt(r,o,l,m.toString(),d)},a.BI=function(r,o,l,d){var f=[!1],m=a.zI(r,o,l,f);return f[0]?m:(f=new h.l,o.A(f),f.W(1e3*l,1e3*l),!(10<r.I()&&(r=h.Ud.clip(r,f,l,0),r.B()))&&h.am.Sw(r,o,l,d))},a.zI=function(r,o,l,d){d[0]=!1;for(var f=r.Ga(),m=o.Ga(),b=[0,0],_=[0,0],$=new h.Zl(r,o,l,!1),C=!1;$.next();){var P=$.nl(),L=$.hl();if(f.Vb(P,-1),m.Vb(L,-1),P=f.ha(),(P=m.ha().Ea(P,null,_,b,l))!=0&&(C=!0,P==1&&(P=b[0],L=_[0],0<P&&1>P&&0<L&&1>L)))return d[0]=!0,!1}if(!C){for(d[0]=!0,b=new h.l,r.A(b),b.W(l,l),$=r,C=!1,_=new h.l,d=0,f=o.da();d<f;d++)if(0<o.Ja(d)){if(o.Rj(d,_),!b.isIntersecting(_)||(m=o.Na(o.Ba(d)),(m=h.Dg.wm($,m,0))==0))return!1;C||(!h.Dg.Ml(r,o.da()-1)||r.Bb!=null&&r.Bb.Fb!=null?$=r:(m=new h.Da,r.copyTo(m),m.fj(1),$=m),C=!0)}if(r.da()==1||o.getType()==1607)return!0;for(b=new h.l,o.A(b),b.W(l,l),_=o,$=!1,l=new h.l,d=0,f=r.da();d<f;d++)if(0<r.Ja(d)){if(r.Rj(d,l),b.isIntersecting(l)&&(m=r.Na(r.Ba(d)),(m=h.Dg.wm(_,m,0))==1))return!1;$||(!h.Dg.Ml(o,r.da()-1)||o.Bb!=null&&o.Bb.Fb!=null?_=o:(m=new h.Da,o.copyTo(m),m.fj(1),_=m),$=!0)}return!0}return!1},a.JI=function(r,o,l,d){for(var f=r.Ga(),m=o.Ga(),b=[0,0],_=[0,0],$=new h.Zl(r,o,l,!1),C=!1;$.next();){var P=$.nl(),L=$.hl();if(f.Vb(P),m.Vb(L),P=f.ha(),(P=m.ha().Ea(P,null,_,b,l))==2)C=!0;else if(P!=0){if(C=b[0],P=_[0],0<C&&1>C&&0<P&&1>P)return!1;C=!0}}return!!C&&(m=new h.l,b=new h.l,f=new h.l,r.A(m),o.A(b),m.W(1e3*l,1e3*l),b.W(1e3*l,1e3*l),f.K(m),f.Ea(b),!(10<r.I()&&(r=h.Ud.clip(r,f,l,0),r.B())||10<o.I()&&(o=h.Ud.clip(o,f,l,0),o.B()))&&h.am.$m(r,o,l,"F********",d))},a.DI=function(r,o,l,d){for(var f=r.Ga(),m=o.Ga(),b=[0,0],_=[0,0],$=new h.Zl(r,o,l,!1),C=!1;$.next();){var P=$.nl(),L=$.hl();if(f.Vb(P),m.Vb(L),P=f.ha(),(P=m.ha().Ea(P,null,_,b,l))==2)C=!0;else if(P!=0){if(C=b[0],P=_[0],0<C&&1>C&&0<P&&1>P)return!0;C=!0}}return!!C&&(m=new h.l,b=new h.l,_=new h.l,$=new h.l,f=new h.l,r.A(m),o.A(b),a.ls(b,m,l)?(_.K(m),_.W(1e3*l,1e3*l),$.K(b),$.W(1e3*l,1e3*l),f.K(_),f.Ea($),!(10<r.I()&&(r=h.Ud.clip(r,f,l,0),r.B())||10<o.I()&&(o=h.Ud.clip(o,f,l,0),o.B()))&&(l=h.am.$m(r,o,l,"T********",d))):l=h.am.$m(r,o,l,"T*****T**",d))},a.CI=function(r,o,l,d){var f=[!1],m=a.zI(r,o,l,f);return f[0]?m:(f=new h.l,o.A(f),f.W(1e3*l,1e3*l),!(10<r.I()&&(r=h.Ud.clip(r,f,l,0),r.B()))&&h.am.fB(r,o,l,d))},a.AI=function(r,o,l){return h.hd.Yd(r,o,l)==1},a.HI=function(r,o,l){return h.hd.Yd(r,o,l)==2},a.kt=function(r,o,l){var d=new h.h;l*=l;for(var f=0;f<r.I();f++)if(r.D(f,d),h.h.yc(d,o)<=l)return!1;return!0},a.prototype.QE=function(r,o){return r=this.rh[r],o=this.rh[o],r.Mm<o.Mm||r.Mm==o.Mm&&(r.pw<o.pw||r.pw==o.pw&&(r.Kj<o.Kj||r.Kj==o.Kj&&(r.Si<o.Si||r.Si==o.Si&&r.BH<o.BH)))?-1:1},a}();h.ud=c}(re||(re={})),function(h){var N,x,c;(x=N||(N={}))[x.InteriorInterior=0]="InteriorInterior",x[x.InteriorBoundary=1]="InteriorBoundary",x[x.InteriorExterior=2]="InteriorExterior",x[x.BoundaryInterior=3]="BoundaryInterior",x[x.BoundaryBoundary=4]="BoundaryBoundary",x[x.BoundaryExterior=5]="BoundaryExterior",x[x.ExteriorInterior=6]="ExteriorInterior",x[x.ExteriorBoundary=7]="ExteriorBoundary",x[x.ExteriorExterior=8]="ExteriorExterior",function(a){a[a.AreaAreaPredicates=0]="AreaAreaPredicates",a[a.AreaLinePredicates=1]="AreaLinePredicates",a[a.LineLinePredicates=2]="LineLinePredicates",a[a.AreaPointPredicates=3]="AreaPointPredicates",a[a.LinePointPredicates=4]="LinePointPredicates",a[a.PointPointPredicates=5]="PointPointPredicates"}(c||(c={})),N=function(){function a(){this.le=0,this.j=new h.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return a.yB=function(r,o,l,d,f){if(d.length!=9)throw h.i.fa("relation string length has to be 9 characters");for(var m=0;9>m;m++){var b=d.charAt(m);if(b!="*"&&b!="T"&&b!="F"&&b!="0"&&b!="1"&&b!="2")throw h.i.fa("relation string")}if((m=this.MR(d,r.Db(),o.Db()))!=0)return h.ud.zB(r,o,l,m,f);m=new h.l,r.A(m),b=new h.l,o.A(b);var _=new h.l;if(_.K(m),_.Zb(b),l=h.ta.Wd(l,_,!1),r=this.WE(r,l),o=this.WE(o,l),r.B()||o.B())return this.uW(r,o,d);switch(m=r.getType(),b=o.getType(),_=!1,m){case 1736:switch(b){case 1736:_=this.rt(r,o,l,d,f);break;case 1607:_=this.$m(r,o,l,d,f);break;case 33:_=this.qt(r,o,l,d);break;case 550:_=this.pt(r,o,l,d,f)}break;case 1607:switch(b){case 1736:_=this.$m(o,r,l,this.Zp(d),f);break;case 1607:_=this.gB(r,o,l,d,f);break;case 33:_=this.tt(r,o,l,d,f);break;case 550:_=this.st(r,o,l,d,f)}break;case 33:switch(b){case 1736:_=this.qt(o,r,l,this.Zp(d));break;case 1607:_=this.tt(o,r,l,this.Zp(d),f);break;case 33:_=this.$U(r,o,l,d);break;case 550:_=this.lt(o,r,l,this.Zp(d))}break;case 550:switch(b){case 1736:_=this.pt(o,r,l,this.Zp(d),f);break;case 1607:_=this.st(o,r,l,this.Zp(d),f);break;case 550:_=this.ZA(r,o,l,d,f);break;case 33:_=this.lt(r,o,l,d)}break;default:_=!1}return _},a.rt=function(r,o,l,d,f){var m=new a;m.Yi(),m.bj(d),m.xJ();var b=new h.l,_=new h.l;return r.A(b),o.A(_),d=!1,h.ud.dk(b,_,l)&&(m.Cu(r,o),d=!0),d||((b=h.ud.qc(r,o,!1))==4?(m.Cu(r,o),d=!0):b==1?(m.ly(o),d=!0):b==2&&(m.ZD(r),d=!0)),d||(r=(d=new h.gd).Ib(r),o=d.Ib(o),m.Wo(d,l,f),m.Bp(r,o),m.j.Ug()),a.fg(m.J,m.Xc)},a.Sw=function(r,o,l,d){var f=new a;f.Yi(),f.bj("T*****F**"),f.xJ();var m=new h.l,b=new h.l;r.A(m),o.A(b);var _=!1;return h.ud.dk(m,b,l)&&(f.Cu(r,o),_=!0),_||((m=h.ud.qc(r,o,!1))==4?(f.Cu(r,o),_=!0):m==1?(f.ly(o),_=!0):m==2&&(f.ZD(r),_=!0)),_?this.fg(f.J,f.Xc):(r=(_=new h.gd).Ib(r),m=_.Ib(o),h.Tk.V(_,l,d,!1),l=_.Ne(m).mg(),_.Gp(0,!0,!0),h.rn.V(_,r,-1,!1,d),_.I(r)!=0&&(h.rn.V(_,m,-1,!1,d),f.er(_,d),(o=_.I(m)==0)||(f.Bp(r,m),f.j.Ug(),m=this.fg(f.J,f.Xc))?(r=_.Ne(r),r=(_=new h.gd).Ib(r),m=_.Ib(l),f.er(_,d),f.le=0,f.Yi(),f.bj(o?"T*****F**":"******F**"),f.IB(),f.Bp(r,m),f.j.Ug(),this.fg(f.J,f.Xc)):m))},a.$m=function(r,o,l,d,f){var m=new a;m.Yi(),m.bj(d),m.IB();var b=new h.l,_=new h.l;return r.A(b),o.A(_),d=!1,h.ud.dk(b,_,l)&&(m.Du(r,o),d=!0),d||((b=h.ud.qc(r,o,!1))==4?(m.Du(r,o),d=!0):b==1&&(m.$D(o),d=!0)),d||(r=(d=new h.gd).Ib(r),o=d.Ib(o),m.Wo(d,l,f),m.kh=m.j.Dp(),a.Jw(o,m.j,m.kh),m.Bp(r,o),m.j.Ep(m.kh),m.j.Ug()),a.fg(m.J,m.Xc)},a.fB=function(r,o,l,d){var f=new a;f.Yi(),f.bj("T*****F**"),f.IB();var m=new h.l,b=new h.l;r.A(m),o.A(b);var _=!1;return h.ud.dk(m,b,l)&&(f.Du(r,o),_=!0),_||((m=h.ud.qc(r,o,!1))==4?(f.Du(r,o),_=!0):m==1&&(f.$D(o),_=!0)),_?this.fg(f.J,f.Xc):(r=(_=new h.gd).Ib(r),o=_.Ib(o),f.Wo(_,l,d),_.I(r)!=0&&(f.Bp(r,o),f.j.Ug(),this.fg(f.J,f.Xc)))},a.pt=function(r,o,l,d,f){var m=new a;m.Yi(),m.bj(d),m.yJ();var b=new h.l,_=new h.l;return r.A(b),o.A(_),d=!1,h.ud.dk(b,_,l)&&(m.Eu(r),d=!0),d||((b=h.ud.qc(r,o,!1))==4?(m.Eu(r),d=!0):b==1&&(m.zN(),d=!0)),d||(r=(d=new h.gd).Ib(r),o=d.Ib(o),m.Wo(d,l,f),m.Gy(r,o),m.j.Ug()),a.fg(m.J,m.Xc)},a.gB=function(r,o,l,d,f){var m=new a;m.Yi(),m.bj(d),m.eX(),d=new h.l;var b=new h.l;r.A(d),o.A(b);var _=!1;return h.ud.dk(d,b,l)&&(m.PG(r,o),_=!0),_||h.ud.qc(r,o,!1)!=4||(m.PG(r,o),_=!0),_||(r=(d=new h.gd).Ib(r),o=d.Ib(o),m.Wo(d,l,f),m.Yh=m.j.Dp(),m.kh=m.j.Dp(),a.Jw(r,m.j,m.Yh),a.Jw(o,m.j,m.kh),m.Bp(r,o),m.j.Ep(m.Yh),m.j.Ep(m.kh),m.j.Ug()),a.fg(m.J,m.Xc)},a.st=function(r,o,l,d,f){var m=new a;m.Yi(),m.bj(d),m.MJ(),d=new h.l;var b=new h.l;r.A(d),o.A(b);var _=!1;return h.ud.dk(d,b,l)&&(m.Vz(r),_=!0),_||h.ud.qc(r,o,!1)!=4||(m.Vz(r),_=!0),_||(r=(d=new h.gd).Ib(r),o=d.Ib(o),m.Wo(d,l,f),m.Yh=m.j.Dp(),a.Jw(r,m.j,m.Yh),m.Gy(r,o),m.j.Ep(m.Yh),m.j.Ug()),a.fg(m.J,m.Xc)},a.ZA=function(r,o,l,d,f){var m=new a;m.Yi(),m.bj(d),m.RJ(),d=new h.l;var b=new h.l;r.A(d),o.A(b);var _=!1;return h.ud.dk(d,b,l)&&(m.yI(),_=!0),_||(r=(d=new h.gd).Ib(r),o=d.Ib(o),m.Wo(d,l,f),m.Gy(r,o),m.j.Ug()),a.fg(m.J,m.Xc)},a.qt=function(r,o,l,d){var f=new a;f.Yi(),f.bj(d),f.yJ();var m=new h.l;r.A(m),o=o.D();var b=!1;return h.ud.Rw(o,m,l)&&(f.Eu(r),b=!0),b||((l=h.hd.Yd(r,o,l))==1?(f.J[0]=0,f.J[2]=2,f.J[3]=-1,f.J[5]=1,f.J[6]=-1):l==2?(f.J[6]=-1,r.Ke()!=0?(f.J[0]=-1,f.J[3]=0,f.J[2]=2,f.J[5]=1):(f.J[0]=0,f.J[3]=-1,f.J[5]=-1,l=new h.l,r.A(l),f.J[2]=l.ca()==0&&l.R()==0?-1:1)):f.Eu(r)),this.fg(f.J,d)},a.tt=function(r,o,l,d,f){var m=new a;m.Yi(),m.bj(d),m.MJ();var b=new h.l;r.A(b),d=o.D();var _=!1;if(h.ud.Rw(d,b,l)&&(m.Vz(r),_=!0),!_){b=null;var $=_=!1;(m.ea[0]||m.ea[6])&&(h.ud.Yz(r,d,l)?(m.ea[0]&&(b=h.pi.gm(r,f),$=!h.ud.kt(b,d,l),_=!0,m.J[0]=$?-1:0),m.J[6]=-1):(m.J[0]=-1,m.J[6]=0)),m.ea[3]&&(b!=null&&b.B()?m.J[3]=-1:(_||(b==null&&(b=h.pi.gm(r,f)),$=!h.ud.kt(b,d,l),_=!0),m.J[3]=$?0:-1)),m.ea[5]&&(b!=null&&b.B()?m.J[5]=-1:_&&!$?m.J[5]=0:(b==null&&(b=h.pi.gm(r,f)),f=h.ud.Nw(b,o,l),m.J[5]=f?-1:0)),m.ea[2]&&(r.Qb()!=0?m.J[2]=1:((f=new h.de(r.description)).Fd(r,0,r.I()),r=h.ud.Nw(f,o,l),m.J[2]=r?-1:0))}return this.fg(m.J,m.Xc)},a.lt=function(r,o,l,d){var f=new a;f.Yi(),f.bj(d),f.RJ();var m=new h.l;r.A(m),o=o.D();var b=!1;if(h.ud.Rw(o,m,l)&&(f.yI(),b=!0),!b){m=!1,b=!0,l*=l;for(var _=0;_<r.I();_++){var $=r.Na(_);if(h.h.yc($,o)<=l?m=!0:b=!1,m&&!b)break}m?(f.J[0]=0,f.J[2]=b?-1:0,f.J[6]=-1):(f.J[0]=-1,f.J[2]=0,f.J[6]=0)}return a.fg(f.J,d)},a.$U=function(r,o,l,d){r=r.D(),o=o.D();for(var f=[],m=0;9>m;m++)f[m]=-1;return h.h.yc(r,o)<=l*l?f[0]=0:(f[2]=0,f[6]=0),f[8]=2,a.fg(f,d)},a.fg=function(r,o){for(var l=0;9>l;l++)switch(o.charAt(l)){case"T":if(r[l]==-1)return!1;break;case"F":if(r[l]!=-1)return!1;break;case"0":if(r[l]!=0)return!1;break;case"1":if(r[l]!=1)return!1;break;case"2":if(r[l]!=2)return!1}return!0},a.uW=function(r,o,l){var d=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(r.B()&&o.B()){for(var f=0;9>f;f++)d[f]=-1;return this.fg(d,l)}return f=!1,r.B()&&(r=o,f=!0),d[0]=-1,d[1]=-1,d[3]=-1,d[4]=-1,d[6]=-1,d[7]=-1,d[8]=2,o=r.getType(),h.aa.Hc(o)?o==1736?r.Ke()!=0?(d[2]=2,d[5]=1):(d[5]=-1,o=new h.l,r.A(o),d[2]=o.ca()==0&&o.R()==0?0:1):(o=r.Qb()!=0,d[2]=o?1:0,d[5]=h.pi.aq(r)?0:-1):(d[2]=0,d[5]=-1),f&&this.vK(d),this.fg(d,l)},a.MR=function(r,o,l){return a.dQ(r)?3:a.UP(r)?4:a.cY(r,o,l)?8:a.CP(r,o,l)?16:a.eP(r)?1:a.EU(r,o,l)?32:0},a.dQ=function(r){return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="F"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="F"&&r.charAt(6)=="F"&&r.charAt(7)=="F"&&r.charAt(8)=="*"},a.UP=function(r){return r.charAt(0)=="F"&&r.charAt(1)=="F"&&r.charAt(2)=="*"&&r.charAt(3)=="F"&&r.charAt(4)=="F"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"},a.cY=function(r,o,l){return(o!=0||l!=0)&&((o!=2||l!=2)&&(r.charAt(0)=="F"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="T"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"||o==1&&l==1&&r.charAt(0)=="F"&&r.charAt(1)=="T"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*")||l!=0&&r.charAt(0)=="F"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="T"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*")},a.CP=function(r,o,l){return o>l?r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*":o==1&&l==1&&r.charAt(0)=="0"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"},a.eP=function(r){return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="F"&&r.charAt(7)=="F"&&r.charAt(8)=="*"},a.EU=function(r,o,l){if(o==l){if(o!=1)return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="T"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*";if(r.charAt(0)=="1"&&r.charAt(1)=="*"&&r.charAt(2)=="T"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*")return!0}return!1},a.Jw=function(r,o,l){r=o.La(r);for(var d=o.Re;d!=-1;d=o.Rf(d))if(o.xd(d)&r){var f=o.Me(d);if(f==-1)o.nn(d,l,0);else{var m=f,b=0;do o.dh(m)&r&&b++,m=o.jc(o.xa(m));while(m!=f);o.nn(d,l,b)}}},a.Zp=function(r){var o=""+r.charAt(0);return o+=r.charAt(3),o+=r.charAt(6),o+=r.charAt(1),o+=r.charAt(4),o+=r.charAt(7),o+=r.charAt(2),(o+=r.charAt(5))+r.charAt(8)},a.prototype.Yi=function(){for(var r=0;9>r;r++)this.J[r]=-2,this.Za[r]=-2},a.vK=function(r){var o=r[1],l=r[2],d=r[5];r[1]=r[3],r[2]=r[6],r[5]=r[7],r[3]=o,r[6]=l,r[7]=d},a.prototype.bj=function(r){for(this.Xc=r,r=0;9>r;r++)this.Xc.charAt(r)!="*"?(this.ea[r]=!0,this.le++):this.ea[r]=!1},a.prototype.UJ=function(){for(var r=0;9>r;r++)this.ea[r]&&this.J[r]==-2&&(this.J[r]=-1,this.ea[r]=!1)},a.prototype.pc=function(r){return this.J[r]!=-2&&(this.J[r]==-1?(this.ea[r]=!1,this.le--,!0):this.Xc.charAt(r)!="T"&&this.Xc.charAt(r)!="F"?!(this.J[r]<this.Za[r])&&(this.ea[r]=!1,this.le--,!0):(this.ea[r]=!1,this.le--,!0))},a.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},a.prototype.xN=function(r,o,l){var d=!0;return this.ea[0]&&(this.CS(r,o,l),d=d&&this.pc(0)),this.ea[1]&&(this.sG(r,o,1),d=d&&this.pc(1)),this.ea[2]&&(this.tG(r,o,l,2),d=d&&this.pc(2)),this.ea[3]&&(this.sG(r,l,3),d=d&&this.pc(3)),this.ea[4]&&(this.BN(r,o,l),d=d&&this.pc(4)),this.ea[5]&&(this.eE(r,l,5),d=d&&this.pc(5)),this.ea[6]&&(this.tG(r,l,o,6),d=d&&this.pc(6)),this.ea[7]&&(this.eE(r,o,7),d=d&&this.pc(7)),d},a.prototype.Cu=function(r,o){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(o,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},a.prototype.Fr=function(r,o,l,d,f){o==-1&&d==-1||((l!="T"&&l!="F"&&o!=-1||f!="T"&&f!="F"&&d!=-1)&&r.Ke()==0?(d!=-1&&(this.J[d]=-1),o!=-1&&(l=new h.l,r.A(l),this.J[o]=l.ca()==0&&l.R()==0?0:1)):(o!=-1&&(this.J[o]=2),d!=-1&&(this.J[d]=1)))},a.prototype.ly=function(r){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(r,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},a.prototype.ZD=function(r){this.ly(r),a.vK(this.J)},a.prototype.Du=function(r,o){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var l=this.Xc.charAt(6);l=l=="T"||l=="F"||o.Qb()!=0,this.J[6]=l?1:0}this.ea[7]&&(o=h.pi.aq(o),this.J[7]=o?0:-1),this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},a.prototype.$D=function(r){if(this.ea[0]){var o=this.Xc.charAt(0);o=o=="T"||o=="F"||r.Qb()!=0,this.J[0]=o?1:0}this.ea[1]&&(r=h.pi.aq(r),this.J[1]=r?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},a.prototype.Eu=function(r){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},a.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},a.prototype.PG=function(r,o){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var l=this.Xc.charAt(2);l=l=="T"||l=="F"||r.Qb()!=0,this.J[2]=l?1:0}this.ea[5]&&(r=h.pi.aq(r),this.J[5]=r?0:-1),this.ea[6]&&(l=(l=this.Xc.charAt(6))=="T"||l=="F"||o.Qb()!=0,this.J[6]=l?1:0),this.ea[7]&&(o=h.pi.aq(o),this.J[7]=o?0:-1)},a.prototype.Vz=function(r){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var o=this.Xc.charAt(2);o=o=="T"||o=="F"||r.Qb()!=0,this.J[2]=o?1:0}this.ea[5]&&(r=h.pi.aq(r),this.J[5]=r?0:-1),this.J[6]=0},a.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},a.prototype.yN=function(r,o,l){var d=!0;return this.ea[0]&&(this.DS(r,o),d=d&&this.pc(0)),this.ea[1]&&(this.zS(r,o,l,this.kh),d=d&&this.pc(1)),this.ea[2]&&(this.AS(r,o),d=d&&this.pc(2)),this.ea[3]&&(this.FN(r,o,l,this.kh),d=d&&this.pc(3)),this.ea[4]&&(this.CN(r,o,l,this.kh),d=d&&this.pc(4)),this.ea[5]&&(this.DN(r,o,l),d=d&&this.pc(5)),this.ea[6]&&(this.lQ(r,o),d=d&&this.pc(6)),this.ea[7]&&(this.kQ(r,o,l,this.kh),d=d&&this.pc(7)),d},a.prototype.mT=function(r,o,l){var d=!0;return this.ea[0]&&(this.GS(r,o,l,this.Yh,this.kh),d=d&&this.pc(0)),this.ea[1]&&(this.uG(r,o,l,this.Yh,this.kh,1),d=d&&this.pc(1)),this.ea[2]&&(this.vG(r,o,l,2),d=d&&this.pc(2)),this.ea[3]&&(this.uG(r,l,o,this.kh,this.Yh,3),d=d&&this.pc(3)),this.ea[4]&&(this.HN(r,o,l,this.Yh,this.kh),d=d&&this.pc(4)),this.ea[5]&&(this.fE(r,l,this.Yh,5),d=d&&this.pc(5)),this.ea[6]&&(this.vG(r,l,o,6),d=d&&this.pc(6)),this.ea[7]&&(this.fE(r,o,this.kh,7),d=d&&this.pc(7)),d},a.prototype.aE=function(r,o,l){var d=!0;return this.ea[0]&&(this.ES(r,o),d=d&&this.pc(0)),this.ea[2]&&(this.BS(r,o),d=d&&this.pc(2)),this.ea[3]&&(this.GN(r,o,l),d=d&&this.pc(3)),this.ea[5]&&(this.EN(r,o),d=d&&this.pc(5)),this.ea[6]&&(this.mQ(r,o),d=d&&this.pc(6)),d},a.prototype.QG=function(r,o,l){var d=!0;return this.ea[0]&&(this.HS(r,o,l,this.Yh),d=d&&this.pc(0)),this.ea[2]&&(this.FS(r,l),d=d&&this.pc(2)),this.ea[3]&&(this.JN(r,o,l,this.Yh),d=d&&this.pc(3)),this.ea[5]&&(this.IN(r,o,l,this.Yh),d=d&&this.pc(5)),this.ea[6]&&(this.nQ(r,o,l),d=d&&this.pc(6)),d},a.prototype.ZU=function(r,o,l){var d=!0;return this.ea[0]&&(this.IS(r,o,l),d=d&&this.pc(0)),this.ea[2]&&(this.wG(r,o,l,2),d=d&&this.pc(2)),this.ea[6]&&(this.wG(r,l,o,6),d=d&&this.pc(6)),d},a.prototype.CS=function(r,o,l){this.J[0]!=2&&(r=this.j.af(r))&o&&r&l&&(this.J[0]=2)},a.prototype.sG=function(r,o,l){if(this.J[l]!=1){var d=this.j.af(this.j.xa(r));this.j.af(r)&o&&d&o&&(this.J[l]=1)}},a.prototype.tG=function(r,o,l,d){this.J[d]!=2&&(r=this.j.af(r))&o&&!(r&l)&&(this.J[d]=2)},a.prototype.BN=function(r,o,l){if(this.J[4]!=1){var d=this.j.dh(r);d&o&&d&l?this.J[4]=1:this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.xd(this.j.uf(r)))&o&&r&l&&(this.J[4]=0)}},a.prototype.eE=function(r,o,l){if(this.J[l]!=1){var d=this.j.af(this.j.xa(r));!(this.j.af(r)&o)&&!(d&o)&&(this.J[l]=1)}},a.prototype.DS=function(r,o){if(this.J[0]!=1){var l=this.j.af(this.j.xa(r));this.j.af(r)&o&&l&o&&(this.J[0]=1)}},a.prototype.zS=function(r,o,l,d){if(this.J[1]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var f=this.j.uf(r),m=this.j.xd(f);!(m&o)&&this.j.af(r)&o&&(r=this.j.ng(f,d),m&l&&r%2!=0&&(this.J[1]=0))}},a.prototype.AS=function(r,o){this.J[2]!=2&&this.j.dh(r)&o&&(this.J[2]=2)},a.prototype.FN=function(r,o,l,d){if(this.J[3]!=1){var f=this.j.dh(r);f&o&&f&l?this.J[3]=1:this.J[3]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(f=this.j.uf(r),(r=this.j.xd(f))&o&&(o=this.j.ng(f,d),r&l&&o%2==0&&(this.J[3]=0)))}},a.prototype.CN=function(r,o,l,d){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var f=this.j.uf(r);(r=this.j.xd(f))&o&&(o=this.j.ng(f,d),r&l&&o%2!=0&&(this.J[4]=0))}},a.prototype.DN=function(r,o,l){this.J[5]!=1&&(r=this.j.dh(r))&o&&!(r&l)&&(this.J[5]=1)},a.prototype.lQ=function(r,o){if(this.J[6]!=1){var l=this.j.af(this.j.xa(r));!(this.j.af(r)&o)&&!(l&o)&&(this.J[6]=1)}},a.prototype.kQ=function(r,o,l,d){if(this.J[7]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var f=this.j.uf(r),m=this.j.xd(f);!(m&o)&&!(this.j.af(r)&o)&&(r=this.j.ng(f,d),m&l&&r%2!=0&&(this.J[7]=0))}},a.prototype.GS=function(r,o,l,d,f){if(this.J[0]!=1){var m=this.j.dh(r);m&o&&m&l?this.J[0]=1:this.J[0]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.uf(r),(m=this.j.xd(r))&o&&m&l&&(o=this.j.ng(r,d),f=this.j.ng(r,f),o%2==0&&f%2==0&&(this.J[0]=0)))}},a.prototype.uG=function(r,o,l,d,f,m){if(this.J[m]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){r=this.j.uf(r);var b=this.j.xd(r);b&o&&b&l&&(o=this.j.ng(r,d),f=this.j.ng(r,f),o%2==0&&f%2!=0&&(this.J[m]=0))}},a.prototype.vG=function(r,o,l,d){this.J[d]!=1&&(r=this.j.dh(r))&o&&!(r&l)&&(this.J[d]=1)},a.prototype.HN=function(r,o,l,d,f){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){r=this.j.uf(r);var m=this.j.xd(r);m&o&&m&l&&(o=this.j.ng(r,d),f=this.j.ng(r,f),o%2!=0&&f%2!=0&&(this.J[4]=0))}},a.prototype.fE=function(r,o,l,d){this.J[d]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.uf(r),!(this.j.xd(r)&o)&&this.j.ng(r,l)%2!=0&&(this.J[d]=0))},a.prototype.ES=function(r,o){this.J[0]!=0&&!(this.j.xd(r)&o)&&this.j.hk(this.j.cz(r))&o&&(this.J[0]=0)},a.prototype.BS=function(r,o){this.J[2]!=2&&this.j.xd(r)&o&&(this.J[2]=2)},a.prototype.GN=function(r,o,l){this.J[3]!=0&&(r=this.j.xd(r))&o&&r&l&&(this.J[3]=0)},a.prototype.EN=function(r,o){this.J[5]!=1&&this.j.xd(r)&o&&(this.J[5]=1)},a.prototype.mQ=function(r,o){this.J[6]!=0&&!(this.j.xd(r)&o)&&!(this.j.hk(this.j.cz(r))&o)&&(this.J[6]=0)},a.prototype.HS=function(r,o,l,d){if(this.J[0]!=0){var f=this.j.xd(r);f&o&&f&l&&this.j.ng(r,d)%2==0&&(this.J[0]=0)}},a.prototype.FS=function(r,o){this.J[2]!=1&&(this.j.Me(r)!=-1?this.J[2]=1:this.J[2]!=0&&!(this.j.xd(r)&o)&&(this.J[2]=0))},a.prototype.JN=function(r,o,l,d){if(this.J[3]!=0){var f=this.j.xd(r);f&o&&f&l&&this.j.ng(r,d)%2!=0&&(this.J[3]=0)}},a.prototype.IN=function(r,o,l,d){if(this.J[5]!=0){var f=this.j.xd(r);f&o&&!(f&l)&&this.j.ng(r,d)%2!=0&&(this.J[5]=0)}},a.prototype.nQ=function(r,o,l){this.J[6]!=0&&!((r=this.j.xd(r))&o)&&r&l&&(this.J[6]=0)},a.prototype.IS=function(r,o,l){this.J[0]!=0&&(r=this.j.xd(r))&o&&r&l&&(this.J[0]=0)},a.prototype.wG=function(r,o,l,d){this.J[d]!=0&&(r=this.j.xd(r))&o&&!(r&l)&&(this.J[d]=0)},a.prototype.Bp=function(r,o){var l=!1;r=this.j.La(r),o=this.j.La(o),this.Ui=this.j.$g();for(var d=this.j.Re;d!=-1;d=this.j.Rf(d)){var f=this.j.Me(d);if(f==-1){if(this.Sm!=-1)switch(this.Sm){case 3:l=this.aE(d,r,o);break;case 4:l=this.QG(d,r,o);break;default:throw h.i.fa("internal error")}}else{var m=f;do{var b=m;if(this.j.Ab(b,this.Ui)!=1)do{switch(this.vw){case 0:l=this.xN(b,r,o);break;case 1:l=this.yN(b,r,o);break;case 2:l=this.mT(b,r,o);break;default:throw h.i.fa("internal error")}if(l)break;this.j.Kb(b,this.Ui,1),b=this.j.jc(b)}while(b!=m&&!l);if(l)break;m=this.j.jc(this.j.xa(b))}while(m!=f);if(l)break}}l||this.UJ(),this.j.Jg(this.Ui)},a.prototype.Gy=function(r,o){var l=!1;r=this.j.La(r),o=this.j.La(o);for(var d=this.j.Re;d!=-1;d=this.j.Rf(d)){switch(this.Sm){case 3:l=this.aE(d,r,o);break;case 4:l=this.QG(d,r,o);break;case 5:l=this.ZU(d,r,o);break;default:throw h.i.Qa()}if(l)break}l||this.UJ()},a.prototype.er=function(r,o){this.j.dr(r,o)},a.prototype.Wo=function(r,o,l){this.YP(r,o,l),this.er(r,l)},a.prototype.YP=function(r,o,l){for(h.Tk.V(r,o,l,!1),r.Gp(0,!0,!0),o=r.ld;o!=-1;o=r.ue(o))r.ic(o)==1736&&h.rn.V(r,o,-1,!1,l)},a.WE=function(r,o){var l=r.getType();return h.aa.yd(l)?((o=new h.Ta(r.description)).oc(r,!0),o):l==197?(l=new h.l,r.A(l),l.ca()<=o&&l.R()<=o?(o=new h.Sa(r.description),r.sf(o),o):l.ca()<=o||l.R()<=o?(o=new h.Ta(r.description),l=new h.Sa,r.Hf(0,l),o.nf(l),r.Hf(2,l),o.lineTo(l),o):((o=new h.Da(r.description)).ad(r,!1),o)):r},a}(),h.am=N}(re||(re={})),function(h){var N=function(){function a(r){this.Em=new h.ia(0),this.dw=new h.ia(0),this.wt=new h.h,this.xt=new h.h,this.g=r,this.Hs=-1}return a.prototype.bc=function(r){return this.g.bc(this.zz(r))},a.prototype.Bv=function(r){var o=this.iz(r);if(r=this.HF(r),this.g.Ma(o)==r){var l=o;o=r,r=l}return this.g.Gc(o,this.wt),this.g.Gc(r,this.xt),this.wt.y<this.xt.y},a.prototype.zz=function(r){var o=this.iz(r);return r=this.HF(r),this.g.U(o)==r?o:r},a.prototype.iz=function(r){return this.Em.get(r)},a.prototype.HF=function(r){return this.dw.get(r)},a.prototype.rF=function(r){this.Em.set(r,this.Hs),this.Hs=r},a.prototype.nI=function(r){if(this.Hs!=-1){var o=this.Hs;return this.Hs=this.Em.get(o),this.Em.set(o,r),this.dw.set(o,this.g.U(r)),o}return this.Em==null&&(this.Em=new h.ia(0),this.dw=new h.ia(0)),o=this.Em.size,this.Em.add(r),this.dw.add(this.g.U(r)),o},a.prototype.rz=function(r){return this.g.bd(this.iz(r))},a}();h.yY=N;var x=function(){function a(r){this.Be=r,this.ie=new h.yb,this.Nm=new h.yb,this.CH=0,this.Ao=null,this.yA=-1}return a.prototype.compare=function(r,o,l){l=r.ja(l);var d=this.Be.hb;if(this.yA==o)var f=this.CH;else this.Ao=d.bc(o),this.Ao==null?((r=d.g).ed(d.zz(o),this.ie),this.Ao=this.ie,f=this.ie.Pe(this.Be.yh,0)):f=this.Ao.Pe(this.Be.yh,0),this.CH=f,this.yA=o;if((r=d.bc(l))==null){(r=d.g).ed(d.zz(l),this.Nm),r=this.Nm;var m=this.Nm.Pe(this.Be.yh,0)}else m=r.Pe(this.Be.yh,0);return f==m&&(o=d.Bv(o),l=d.Bv(l),(o=.5*((l=Math.min(o?this.Ao.la:this.Ao.na,l?r.la:r.na))+this.Be.yh))==this.Be.yh&&(o=l),f=this.Ao.Pe(o,0),m=r.Pe(o,0)),f<m?-1:f>m?1:0},a.prototype.reset=function(){this.yA=-1},a}(),c=function(){function a(){this.Wm=this.Gl=null,this.fb=new h.Yj,this.fb.RP(),this.$d=new x(this),this.fb.Vo(this.$d)}return a.prototype.HQ=function(){var r=!1;if(this.fw&&(r=this.IQ()),this.g.da(this.X)==1){var o=this.g.Ob(this.X);return r=this.g.wz(o),this.g.PB(o,!0),0>r&&(r=this.g.Xa(o),this.g.pJ(r),this.g.Wg(o,this.g.Ma(r)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),o=this.g.Ob(this.X);o!=-1;o=this.g.Rb(o))this.g.gr(o,this.El,0),this.g.gr(o,this.wo,-1);o=new h.ia(0),this.yh=NaN;var l=new h.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var d=this.Gl.rc(this.Gl.je);d!=-1;d=this.Gl.lb(d)){var f=this.Gl.getData(d);if(this.g.Gc(f,l),l.y!=this.yh&&o.size!=0&&(r=this.ut(o)||r,this.$d.reset(),o.clear(!1)),o.add(f),this.yh=l.y,this.et==0)break}for(0<this.et&&(r=this.ut(o)||r,o.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),o=this.g.Ob(this.X);o!=-1;)if(this.g.sj(o,this.El)==3){for(this.g.PB(o,!0),l=o,o=this.g.sj(o,this.wo);o!=-1;)d=this.g.sj(o,this.wo),this.g.ZT(this.X,this.g.Rb(l),o),l=o,o=d;o=this.g.Rb(l)}else this.g.PB(o,!1),o=this.g.Rb(o);return this.g.CB(this.El),this.g.CB(this.wo),r},a.prototype.ut=function(r){return this.$V(r)},a.prototype.$V=function(r){var o=!1;this.hb==null&&(this.hb=new N(this.g)),this.Wm==null?(this.Wm=new h.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(r);for(var l=0,d=r.size;l<d;l++){var f=r.get(l);f!=-1&&this.oG(f,-1)}for(l=0;l<this.Wm.size&&0<this.et;l++)if(r=this.Wm.get(l),f=this.hb.rz(this.fb.ja(r)),d=-1,this.g.sj(f,this.El)==0){f=this.fb.we(r);for(var m,b=r;f!=-1;){var _=this.fb.ja(f),$=this.hb.rz(_),C=this.g.sj($,this.El);if(C!=0){d=$;break}b=f,f=this.fb.we(f)}f==-1?(m=!0,f=b):(_=this.fb.ja(f),m=this.hb.Bv(_),f=this.fb.lb(f),m=!m);do{if(_=this.fb.ja(f),$=this.hb.rz(_),(C=this.g.sj($,this.El))==0&&(m!=this.hb.Bv(_)&&(o=this.g.Xa($),this.g.pJ(o),this.g.Wg($,this.g.Ma(o)),o=!0),this.g.gr($,this.El,m?3:2),m||(b=this.g.sj(d,this.wo),this.g.gr(d,this.wo,$),this.g.gr($,this.wo,b)),this.et--,this.et==0))return o;d=$,b=f,f=this.fb.lb(f),m=!m}while(b!=r)}return o},a.prototype.ZV=function(r){for(var o=0,l=r.size;o<l;o++){var d=r.get(o),f=this.g.Pa(d,this.ro),m=this.g.Pa(d,this.Rs);if(f!=-1){var b=this.fb.ja(f);this.hb.rF(b),this.g.Ra(d,this.ro,-1)}m!=-1&&(b=this.fb.ja(m),this.hb.rF(b),this.g.Ra(d,this.Rs,-1)),b=-1,f!=-1&&m!=-1?(this.fb.vd(f,-1),this.fb.vd(m,-1),r.set(o,-1)):b=f!=-1?f:m,b!=-1&&(this.oG(d,b)||this.fb.vd(b,-1),r.set(o,-1))}},a.prototype.oG=function(r,o){var l=new h.h,d=new h.h;this.g.Gc(r,l);var f=this.g.U(r);this.g.Gc(f,d);var m=!1;if(l.y<d.y){m=!0;var b=this.hb.nI(r);if(o==-1)var _=this.fb.addElement(b,-1);else _=o,this.fb.Sj(_,b);(b=this.g.Pa(f,this.ro))==-1?this.g.Ra(f,this.ro,_):this.g.Ra(f,this.Rs,_),f=this.g.bd(r),this.g.sj(f,this.El)==0&&this.Wm.add(_)}return f=this.g.Ma(r),this.g.Gc(f,d),l.y<d.y&&(m=!0,b=this.hb.nI(f),o==-1?_=this.fb.addElement(b,-1):(_=o,this.fb.Sj(_,b)),(b=this.g.Pa(f,this.ro))==-1?this.g.Ra(f,this.ro,_):this.g.Ra(f,this.Rs,_),f=this.g.bd(r),this.g.sj(f,this.El)==0&&this.Wm.add(_)),m},a.V=function(r,o,l,d){var f=new a;return f.g=r,f.X=o,f.Gl=l,f.fw=d,f.HQ()},a.prototype.IQ=function(){var r=new h.ia(0),o=new h.ia(0),l=-1,d=-1,f=new h.h;f.Rc();for(var m=-1,b=-1,_=-1,$=new h.h,C=this.Gl.rc(this.Gl.je);C!=-1;C=this.Gl.lb(C)){var P=this.Gl.getData(C);this.g.Gc(P,$);var L=this.g.bd(P);f.qb($)&&b==L?(d==-1&&(l=this.g.Ky(),d=this.g.Gd()),_==-1&&(_=o.size,this.g.Ra(m,d,_),o.add(1),this.g.sj(L,l)==-1&&(this.g.gr(L,l,m),r.add(L))),this.g.Ra(P,d,_),o.bX(o.Fc()+1)):(_=-1,f.L($)),m=P,b=L}if(r.size==0)return!1;for(f=new h.ia(0),m=new h.ia(0),b=0,_=r.size;b<_;b++){L=r.get(b);var V=this.g.sj(L,l);for(P=this.g.Pa(V,d),f.clear(!1),m.clear(!1),f.add(V),m.add(P),P=this.g.U(V);P!=V;P=this.g.U(P)){var U=P;if(($=this.g.Pa(U,d))!=-1)if(m.size==0)m.add($),f.add(U);else if(m.Fc()==$){C=f.Fc();var Y=this.g.U(C);V=this.g.U(U),this.g.Bc(C,V),this.g.Cc(V,C),this.g.Bc(U,Y),this.g.Cc(Y,U),U=[!1],Y=this.g.nG(this.X,Y,this.g.Xa(L),U),this.g.Ra(P,d,-1),U[0]&&this.g.Jf(L,V),P=this.g.Ja(L),P-=V=this.g.Ja(Y),this.g.Vj(L,P),o.set($,o.get($)-1),o.get($)==1&&(o.set($,0),m.If(),f.If()),P=V=C}else f.add(P),m.add($)}}return this.g.CB(l),this.g.Td(d),!0},a}();h.WL=c}(re||(re={})),function(h){var N=function(){function x(){}return x.prototype.ig=function(){this.PA=this.sb=null},x.prototype.get=function(){return this.PA},x.prototype.set=function(c){if(this.PA=c,c!=null)throw c.getType()==322&&(this.sb=c),h.i.Qa()},x.prototype.create=function(c){if(c!=322)throw h.i.fa("Not Implemented");this.Or()},x.prototype.Or=function(){this.sb==null&&(this.sb=new h.yb),this.PA=this.sb},x}();h.ig=N}(re||(re={})),function(h){(h=h.XL||(h.XL={}))[h.enumLineSeg=1]="enumLineSeg",h[h.enumBezierSeg=2]="enumBezierSeg",h[h.enumArcSeg=4]="enumArcSeg",h[h.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",h[h.enumSegmentMask=7]="enumSegmentMask",h[h.enumDensified=8]="enumDensified"}(re||(re={})),function(h){var N=function(c){this.$i=c,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},x=function(){function c(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new h.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return c.prototype.wB=function(a){if(a!=null){for(var r=0,o=a.length;r<o;r++)this.rW(a[r]);a.length=0}},c.prototype.rW=function(a){a.$i=null,this.Iq.push(a)},c.prototype.Ow=function(a){if(this.Iq.length===0)var r=new N(a);else(r=this.Iq[this.Iq.length-1]).$i=a,--this.Iq.length;return r},c.prototype.SR=function(a,r){return a==0?this.$s[r]:this.yw[r]},c.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new h.ig);var a=this.MA[this.Cw];return this.Cw++,a},c.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},c.prototype.Oo=function(a){this.mo.push(this.Ow(a))},c.prototype.ol=function(a){return a==0?this.$s.length:this.yw.length},c.prototype.Vp=function(a,r){return this.SR(a,r).$i},c.prototype.Ea=function(a,r){if(this.mo.length!=2)throw h.i.Qa();this.qa=a;var o=h.lc.ox(.01*a),l=!1,d=this.mo[0],f=this.mo[1];if(r||5&d.$i.zr(f.$i,a,!0)){if(d.$i.getType()==322){var m=d.$i;if(f.$i.getType()==322){r=f.$i;var b=h.yb.Zx(m,r,null,this.Fq,this.Bk,a);if(b==0)throw h.yb.Zx(m,r,null,this.Fq,this.Bk,a),h.i.Qa();a=Array(9),h.O.$u(a,null);for(var _=0;_<b;_++){var $=this.Fq[_],C=this.Bk[_],P=d.sB,L=1;$==0?(P=d.tB,L=d.rC):$==1&&(P=d.rB,L=d.qC);var V=f.sB,U=1;C==0?(V=f.tB,U=f.rC):C==1&&(V=f.rB,U=f.qC);var Y=new h.h;P==V?(P=new h.h,m.hc($,P),$=new h.h,r.hc(C,$),U/=C=L+U,h.lc.OG(P,$,U,Y),h.h.yc(Y,P)+h.h.yc(Y,$)>o&&(l=!0)):P>V?(m.hc($,Y),$=new h.h,r.hc(C,$),h.h.yc(Y,$)>o&&(l=!0)):(r.hc(C,Y),P=new h.h,m.hc($,P),h.h.yc(Y,P)>o&&(l=!0)),a[_]=Y}for(d=0,f=-1,_=0;_<=b;_++)(U=_<b?this.Fq[_]:1)!=d&&(o=this.aB(),m.ah(d,U,o),f!=-1&&o.get().Dc(a[f]),_!=b&&o.get().Qc(a[_]),d=U,this.$s.push(this.Ow(o.get()))),f=_;for(m=[0,0,0,0,0,0,0,0,0],_=0;_<b;_++)m[_]=_;for(1<b&&this.Bk[0]>this.Bk[1]&&(U=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=U,_=m[0],m[0]=m[1],m[1]=_),d=0,f=-1,_=0;_<=b;_++)(U=_<b?this.Bk[_]:1)!=d&&(o=this.aB(),r.ah(d,U,o),f!=-1&&(d=m[f],o.get().Dc(a[d])),_!=b&&(d=m[_],o.get().Qc(a[d])),d=U,this.yw.push(this.Ow(o.get()))),f=_;return l}}throw h.i.Qa()}return!1},c.prototype.Kz=function(a,r,o){if(r.copyTo(this.Bf),this.mo.length!=1)throw h.i.Qa();this.qa=a;var l=this.mo[0];if(o||l.$i.ru(r.D(),a,!0)){if(l.$i.getType()!=322)throw h.i.Qa();var d=(a=l.$i).fe(r.D(),!1);this.Fq[0]=d;var f=l.sB;for(o=1,d==0?(f=l.tB,o=l.rC):d==1&&(f=l.rB,o=l.qC),l=new h.h,f==0?(f=new h.h,a.hc(d,f),r=r.D(),h.lc.OG(f,r,1/(o+1),l)):0<f?(l=new h.h,a.hc(d,l)):l=r.D(),o=0,d=-1,f=0;1>=f;f++){if((r=1>f?this.Fq[f]:1)!=o){var m=this.aB();a.ah(o,r,m),d!=-1&&m.get().Dc(l),f!=1&&m.get().Qc(l),o=r,this.$s.push(this.Ow(m.get()))}d=f}this.Bf.Cb(l)}},c}();h.TC=x}(re||(re={})),function(h){var N=function(){function x(c){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=c,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new h.h}return x.prototype.BW=function(c){if(this.ib!=c.ib)throw h.i.Hb();this.zf=c.zf,this.Jd=c.Jd,this.gb=c.gb,this.Cl=c.Cl,this.ag=c.ag,this.zm=c.zm,this.rk=null},x.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw h.i.ce();this.Jd++}return this.rk},x.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(this.Jd==0)throw h.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},x.prototype.DW=function(){this.zf=-1,this.Jd=0},x.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},x.prototype.Vb=function(c,a){if(a===void 0&&(a=-1),0<=this.gb&&this.gb<this.ib.da()){var r=this.IM();if(c>=r&&c<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=c-r)}a=0<=a&&a<this.ib.da()&&c>=this.ib.Ba(a)&&c<this.ib.Vc(a)?a:this.ib.sz(c),this.Cl=a+1,this.gb=a,this.zf=-1,this.Jd=c-this.ib.Ba(a),this.ag=this.Wx(a),this.ib.Ba(this.gb),this.ib.dc(this.gb)},x.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da())&&(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,!0)},x.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},x.prototype.Wx=function(c){if(this.ib.Ac())return 0;var a=1;return this.ib.dc(c)&&(a=0),this.ib.Ja(c)-a},x.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},x.prototype.JB=function(){this.zm=!0},x.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},x.prototype.IM=function(){return this.ib.Ba(this.gb)},x.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},x.prototype.vm=function(){return this.zf==0},x.prototype.Qn=function(){return this.zf==this.ag-1},x.prototype.Ha=function(){return this.Jd<this.ag},x.prototype.Ez=function(){return 0<this.Jd},x.prototype.Of=function(){var c=new x(this.ib);return c.zf=this.zf,c.Jd=this.Jd,c.ag=this.ag,c.gb=this.gb,c.Cl=this.Cl,c.ib=this.ib,c.zm=this.zm,c},x.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw h.i.ce();this.zf=this.Jd;var c=this.wb();this.ib.mc();var a=this.ib.Ve,r=1;switch(a!=null&&(r=7&a.read(c)),a=this.ib.description,r){case 1:this.sb==null&&(this.sb=new h.yb),this.rk=this.sb;break;case 2:throw h.i.fa("internal error");default:throw h.i.Qa()}this.rk.Nf(a),r=this.ik(),this.ib.Gc(c,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(r,this.Ds),this.rk.Qc(this.Ds);for(var o=1,l=a.Aa;o<l;o++)for(var d=a.kd(o),f=h.ra.Va(d),m=0;m<f;m++){var b=this.ib.Uc(d,c,m);this.rk.YB(d,m,b),b=this.ib.Uc(d,r,m),this.rk.OB(d,m,b)}},x.prototype.$S=function(){return this.gb==this.ib.da()-1},x.prototype.Pn=function(){var c=this.ib.VR();return c!=null&&(7&c.read(this.zf))!=1},x}();h.YL=N}(re||(re={})),function(h){var N=function(){function x(c){c instanceof h.aa?(this.xH=c,this.ya=-1,this.Ei=1):(this.vT=c.slice(0),this.ya=-1,this.Ei=c.length)}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,this.xH!=null?this.xH:this.vT[this.ya]):null},x.prototype.qe=function(){},x}();h.Zc=N}(re||(re={})),function(h){var N=function(){this.next=null},x=function(){function c(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return c.prototype.AX=function(a,r,o){this.oi=a,this.pl=r,this.Jh=this.Wl=null,this.Tq=0,this.vy=o,this.gn==null&&(this.gn=h.O.lg(384,0)),this.nK()},c.prototype.R=function(){return this.oi},c.prototype.ca=function(){return this.pl},c.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},c.prototype.nK=function(){if(0<this.Tq){for(var a=0;a<this.pl;a++){for(var r=this.Wl[a];r!=null;){var o=r;r=r.next,o.next=null}this.Wl[a]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},c.prototype.iJ=function(a){for(this.kF=a==c.Cx,a=this.Lw;a<=this.Kw;a++)this.sN(),this.lN(a),this.ZP();this.nK()},c.prototype.jy=function(a,r,o,l){if(r!=l){var d=1;if(r>l&&(d=a,a=o,o=d,d=r,r=l,l=d,d=-1),!(0>l||r>=this.pl)){0>a&&0>o?o=a=-1:a>=this.oi&&o>=this.oi&&(o=a=this.oi);var f=(o-a)/(l-r);l>this.pl&&(o=f*((l=this.pl)-r)+a),0>r&&(a=f*(0-r)+a,r=0);var m=Math.max(this.oi+1,8388607);-8388607>a?(r=(0-a)/f+r,a=0):a>m&&(r=(this.oi-a)/f+r,a=this.oi),-8388607>o?l=(0-a)/f+r:o>m&&(l=(this.oi-a)/f+r),(r=h.O.truncate(r))!=(l=h.O.truncate(l))&&((o=new N).x=h.O.truncate(4294967296*a),o.y=r,o.H=l,o.WP=h.O.truncate(4294967296*f),o.dir=d,this.Wl==null&&(this.Wl=h.O.lg(this.pl,null)),o.next=this.Wl[o.y],this.Wl[o.y]=o,o.y<this.Lw&&(this.Lw=o.y),o.H>this.Kw&&(this.Kw=o.H),this.Tq++)}}},c.prototype.sN=function(){if(this.Jh!=null){for(var a=!1,r=null,o=this.Jh;o!=null;)if(o.y++,o.y==o.H){var l=o;o=o.next,r!=null?r.next=o:this.Jh=o,l.next=null}else o.x+=o.WP,r!=null&&r.x>o.x&&(a=!0),r=o,o=o.next;a&&(this.Jh=this.fK(this.Jh))}},c.prototype.lN=function(a){if(!(a>=this.pl)){var r=this.Wl[a];if(r!=null){this.Wl[a]=null,r=this.fK(r),this.Tq-=this.gK,a=this.Jh;for(var o=!0,l=r,d=null;a!=null&&l!=null;)a.x>l.x?(o&&(this.Jh=l),o=l.next,l.next=a,d!=null&&(d.next=l),d=l,l=o):(o=a.next,a.next=l,d!=null&&(d.next=a),d=a,a=o),o=!1;this.Jh==null&&(this.Jh=r)}}},c.eK=function(a,r){return 0>a?0:a>r?r:a},c.prototype.ZP=function(){if(this.Jh!=null){for(var a=0,r=this.Jh,o=h.O.truncate(h.O.XG(r.x)),l=r.next;l!=null;l=l.next)if(a=this.kF?1^a:a+l.dir,l.x>r.x){var d=h.O.truncate(h.O.XG(l.x));a!=0&&(r=c.eK(o,this.oi),(o=c.eK(d,this.oi))>r&&r<this.oi&&(this.gn[this.Ol++]=r,this.gn[this.Ol++]=o,this.gn[this.Ol++]=l.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),r=l,o=d}}},c.prototype.fK=function(a){for(var r=0,o=a;o!=null;o=o.next)r++;if(this.gK=r,r==1)return a;this.Kf==null?this.Kf=h.O.lg(Math.max(r,16),null):this.Kf.length<r&&(this.Kf=h.O.lg(Math.max(r,2*this.Kf.length),null));var l=0;for(o=a;o!=null;o=o.next)this.Kf[l++]=o;for(r==2?this.Kf[0].x>this.Kf[1].x&&(a=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=a):c.AN(this.Kf,r,function(d,f){return d==f?0:d.x<f.x?-1:d.x>f.x?1:0}),a=this.Kf[0],this.Kf[0]=null,o=a,l=1;l<r;l++)o.next=this.Kf[l],o=this.Kf[l],this.Kf[l]=null;return o.next=null,a},c.AN=function(a,r,o){if(r==a.length)a.sort(o);else{var l=a.slice(0,0),d=a.slice(r);r=a.slice(0,r).sort(o),a.length=0,a.push.apply(a,l.concat(r).concat(d))}},c.Cx=0,c}();h.Px=x}(re||(re={})),function(h){var N=function(){function x(){}return x.prototype.ui=function(c,a){var r=this.g.Pa(c,this.Pq);if(this.Dl==r&&(this.Dl=this.oe.lb(this.Dl)),this.ho==r&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,r),this.bk(c),a&&(a=this.g.bd(c))!=-1&&this.g.Xa(a)==c){var o=this.g.U(c);if(o!=c){if((r=this.g.bd(o))==a)return void this.g.Jf(a,o);if((o=this.g.Ma(c))!=c&&(r=this.g.bd(o))==a)return void this.g.Jf(a,o)}this.g.Jf(a,-1),this.g.Wg(a,-1)}},x.prototype.pD=function(){for(var c=!1,a=new h.h;;){this.Wh==null?(this.Wh=new h.ia(0),this.zs=new h.ia(0),this.xe=new h.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var r=this.ho,o=0,l=!0;r!=this.Dl;){var d=this.oe.getData(r),f=new h.h;this.g.Gc(d,f),l&&(this.g.Gc(d,a),l=!1),f=this.g.Ma(d);var m=this.g.U(d);this.g.Pa(f,this.zg)!=-559038737&&(this.Wh.add(f),this.g.Ra(f,this.zg,-559038737),this.zs.add(d),this.xe.add(o++)),this.g.Pa(m,this.zg)!=-559038737&&(this.Wh.add(m),this.g.Ra(m,this.zg,-559038737),this.zs.add(d),this.xe.add(o++)),r=this.oe.lb(r)}if(2>this.Wh.size)break;var b=this;for(this.xe.Vd(0,this.xe.size,function(_,$){return b.pM(_,$)}),r=0,o=this.xe.size;r<o;r++)l=this.xe.get(r),l=this.Wh.get(l),this.g.Ra(l,this.zg,r),f=new h.h,this.g.Gc(l,f);for(f=this.TM(a),r=0,o=this.xe.size;r<o;r++)(l=this.xe.get(r))!=-1&&(l=this.Wh.get(l),this.g.Ra(l,this.zg,-1));if(!f)break;c=!0}return c},x.prototype.TM=function(c){for(var a=!1,r=!0;r;){r=!1;var o=0;this.xe.get(o)==-1&&(o=this.cm(o));for(var l=this.cm(o),d=0,f=this.xe.size;d<f&&o!=-1&&l!=-1&&o!=l;d++){var m=this.xe.get(o);l=this.xe.get(l),m=this.Wh.get(m),l=this.Wh.get(l);var b=this.g.U(m);this.g.Dv(b,c)||(b=this.g.Ma(m));var _=this.g.U(l);this.g.Dv(_,c)||(_=this.g.Ma(l));var $=this.pu(b,m),C=this.pu(_,l),P=$?this.g.Ma(b):this.g.U(b),L=C?this.g.Ma(_):this.g.U(_),V=!1;(this.sp(b)||this.sp(_)||this.sp(m)||this.sp(l)||this.sp(P)||this.sp(L))&&(V=!0),!V&&this.g.fq(m,l)&&(V=!0,this.tD($,C,b,m,_,l)),!V&&this.g.fq(P,L)&&(V=!0,this.tD(!$,!C,b,P,_,L)),V&&(a=!0),r=r||V,o=this.cm(o),l=this.cm(o)}}if(!a)for(o=0,this.xe.get(o)==-1&&(o=this.cm(o)),l=this.cm(o),d=0,f=this.xe.size;d<f&&o!=-1&&l!=-1&&o!=l;d++)m=this.xe.get(o),l=this.xe.get(l),m=this.Wh.get(m),l=this.Wh.get(l),b=this.g.U(m),this.g.Dv(b,c)||(b=this.g.Ma(m)),_=this.g.U(l),this.g.Dv(_,c)||(_=this.g.Ma(l)),$=this.pu(b,m),C=this.pu(_,l),P=$?this.g.Ma(b):this.g.U(b),L=C?this.g.Ma(_):this.g.U(_),this.DM($,C,m,b,P,l,_,L)&&(a=!0),o=this.cm(o),l=this.cm(o);return a},x.prototype.XM=function(){this.g.ic(this.X)==1736&&this.g.In(this.X)==1&&new h.Fg().MU(this.fw,this.g,this.X,this.nd);var c=!1,a=!0;this.zg=this.Pq=-1;var r=this.g.I(this.X),o=new h.ia(0);o.Jb(r);for(var l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l))for(var d=this.g.Xa(l),f=0,m=this.g.Ja(l);f<m;f++)o.add(d),d=this.g.U(d);var b=this.g.td.o,_=this.g.td.stride;this.g.vb.mc();var $=this.g.vb.za[0].o;for(o.Vd(0,r,function(P,L){var V=b[_*P],U=b[_*L],Y=$[2*V];V=$[2*V+1];var X=$[2*U];return(Y=V<(U=$[2*U+1])?-1:V>U?1:Y<X?-1:Y>X?1:0)==0&&(Y=(P=b[_*P+3])<(L=b[_*L+3])?-1:P==L?0:1),Y}),this.Pq=this.g.Gd(),this.oe=new h.jp,this.RA=this.oe.Ph(0),this.oe.fn(r),l=0;l<r;l++)d=o.get(l),f=this.oe.addElement(this.RA,d),this.g.Ra(d,this.Pq,f);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(c=!0);a;){a=!1,r=0,o=!1;do{o=!1,this.ho=-1,m=0,l=new h.h,f=new h.h;for(var C=this.oe.rc(this.RA);C!=-1;)d=this.oe.getData(C),this.ho!=-1?(this.g.Gc(d,f),l.qb(f)?m++:(l.L(f),this.Dl=C,0<m&&(d=this.pD())&&(o=!0,this.Dl!=-1&&(d=this.oe.getData(this.Dl),this.g.Gc(d,l))),this.ho=C=this.Dl,m=0)):(this.ho=C,this.g.Gc(this.oe.getData(C),l),m=0),C!=-1&&(C=this.oe.lb(C));if(this.Dl=-1,0<m&&(d=this.pD())&&(o=!0),10<r++)throw h.i.Qa();o&&this.GM(),this.cD()&&(o=!0),a=a||o&&!1,c=c||o}while(o)}return this.g.Td(this.Pq),this.g.Td(this.zg),h.WL.V(this.g,this.X,this.oe,this.fw)||c},x.prototype.pu=function(c,a){return this.g.U(a)!=c},x.prototype.DM=function(c,a,r,o,l,d,f,m){if(o==f)return this.bk(r),this.bk(d),!1;var b=this.g.Pa(r,this.zg),_=this.g.Pa(l,this.zg),$=this.g.Pa(d,this.zg),C=this.g.Pa(m,this.zg),P=[0,0,0,0];for((r=[0,0,0,0,0,0,0,0])[0]=0,P[0]=b,r[1]=0,P[1]=_,r[2]=1,P[2]=$,r[3]=1,P[3]=C,b=1;4>b;b++){for(_=P[b],$=r[b],C=b-1;0<=C&&P[C]>_;)P[C+1]=P[C],r[C+1]=r[C],C--;P[C+1]=_,r[C+1]=$}return P=0,r[0]!=0&&(P|=1),r[1]!=0&&(P|=2),r[2]!=0&&(P|=4),r[3]!=0&&(P|=8),(P==5||P==10)&&(c==a?c?(this.g.Bc(m,o),this.g.Cc(o,m),this.g.Bc(l,f),this.g.Cc(f,l)):(this.g.Cc(m,o),this.g.Bc(o,m),this.g.Cc(l,f),this.g.Bc(f,l)):c?(this.g.Cc(o,d),this.g.Bc(d,o),this.g.Cc(f,l),this.g.Bc(l,f)):(this.g.Bc(o,d),this.g.Cc(d,o),this.g.Bc(f,l),this.g.Cc(l,f)),!0)},x.prototype.tD=function(c,a,r,o,l,d){this.MY?this.VM():this.UM(c,a,r,o,l,d)},x.prototype.VM=function(){throw h.i.fa("not implemented.")},x.prototype.UM=function(c,a,r,o,l,d){if(c!=a)c?(this.g.Bc(r,l),this.g.Cc(l,r),this.g.Bc(d,o),this.g.Cc(o,d),this.vn(l,r),this.ui(l,!0),this.g.mi(l,!0),this.bk(r),this.vn(d,o),this.ui(d,!0),this.g.mi(d,!1)):(this.g.Bc(l,r),this.g.Cc(r,l),this.g.Bc(o,d),this.g.Cc(d,o),this.vn(l,r),this.ui(l,!0),this.g.mi(l,!1),this.bk(r),this.vn(d,o),this.ui(d,!0),this.g.mi(d,!0)),this.bk(o);else{var f=c?r:o,m=a?l:d;for(c=c?o:r,a=a?d:l,l=!1,this.g.Bc(f,m),this.g.Bc(m,f),this.g.Cc(c,a),this.g.Cc(a,c),d=a;d!=m;)r=this.g.Ma(d),o=this.g.U(d),this.g.Cc(d,o),this.g.Bc(d,r),l=l||d==f,d=o;l||(r=this.g.Ma(m),o=this.g.U(m),this.g.Cc(m,o),this.g.Bc(m,r)),this.vn(m,f),this.ui(m,!0),this.g.mi(m,!1),this.bk(f),this.vn(a,c),this.ui(a,!0),this.g.mi(a,!1),this.bk(c)}},x.prototype.cD=function(){for(var c=!1,a=this.g.Ob(this.X);a!=-1;){for(var r=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l&&1<l;){var d=this.g.Ma(r),f=this.g.U(r);this.g.fq(d,f)?(c=!0,this.ui(r,!1),this.g.pd(r,!0),this.ui(f,!1),this.g.pd(f,!0),r=d,o=0,l=this.g.Ja(a)):(r=f,o++)}if(2>this.g.Ja(a)){for(c=this.g.Xa(a),o=0,l=this.g.Ja(a);o<l;o++)this.ui(c,!1),c=this.g.U(c);a=this.g.Zq(a),c=!0}else a=this.g.Rb(a)}return c},x.prototype.sp=function(c){for(var a=!1;;){var r=this.g.U(c),o=this.g.Ma(c);if(r==c)return this.ui(c,!0),this.g.mi(c,!1),!0;if(!this.g.fq(r,o)||(a=!0,this.bk(o),this.bk(r),this.ui(c,!0),this.g.mi(c,!1),this.vn(r,o),this.ui(r,!0),this.g.mi(r,!0),r==o))break;c=o}return a},x.prototype.GM=function(){for(var c=0,a=this.oe.rc(this.oe.je);a!=-1;a=this.oe.lb(a)){var r=this.oe.getData(a);this.g.aj(r,-1)}for(var o=0,l=this.g.Ob(this.X);l!=-1;)if((a=this.g.Xa(l))==-1||this.g.bd(a)!=-1)r=l,l=this.g.Rb(l),this.g.$q(r);else{this.g.aj(a,l);var d=1;for(r=this.g.U(a);r!=a;r=this.g.U(r))this.g.aj(r,l),d++;this.g.cp(l,!1),this.g.Vj(l,d),this.g.Wg(l,this.g.Ma(a)),o+=d,c++,l=this.g.Rb(l)}for(a=this.oe.rc(this.oe.je);a!=-1;a=this.oe.lb(a))r=this.oe.getData(a),this.g.bd(r)==-1&&(l=this.g.nG(this.X,r,r,null),o+=this.g.Ja(l),c++);for(this.g.Rl(this.X,c),this.g.Tj(this.X,o),c=0,o=this.g.ld;o!=-1;o=this.g.ue(o))c+=this.g.I(o);this.g.bC(c)},x.prototype.cm=function(c){for(var a=0,r=this.xe.size-1;a<r;a++)if(c=(c+1)%this.xe.size,this.xe.get(c)!=-1)return c;return-1},x.prototype.vn=function(c,a){var r=this.g.Pa(a,this.Pq),o=this.g.Pa(a,this.zg);this.g.lC(c,a),this.g.Ra(a,this.Pq,r),this.g.Ra(a,this.zg,o)},x.prototype.bk=function(c){var a=this.g.Pa(c,this.zg);a!=-1&&(this.xe.set(a,-1),this.g.Ra(c,this.zg,-1))},x.V=function(c,a,r,o,l){var d=new x;return d.g=c,d.X=a,d.xA=r,d.fw=o,d.nd=l,d.XM()},x.prototype.pM=function(c,a){var r=this.Wh.get(c),o=new h.h;this.g.Gc(r,o),r=new h.h;var l=this.Wh.get(a);return this.g.Gc(l,r),o.qb(r)?0:(l=this.zs.get(c),c=new h.h,this.g.Gc(l,c),l=this.zs.get(a),a=new h.h,this.g.Gc(l,a),(l=new h.h).uc(o,c),(o=new h.h).uc(r,a),h.h.nu(l,o))},x}();h.rn=N}(re||(re={})),function(h){var N;(N=h.$L||(h.$L={}))[N.Local=0]="Local",N[N.Geographic=1]="Geographic",N[N.Projected=2]="Projected",N[N.Image=3]="Image",N[N.Unknown=4]="Unknown",function(c){c[c.Integer32=0]="Integer32",c[c.Integer64=1]="Integer64",c[c.FloatingPoint=2]="FloatingPoint"}(h.TL||(h.TL={}));var x=function(){function c(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return c.prototype.Ec=function(){return this.dg},c.prototype.VF=function(){return 1},c.prototype.VW=function(a){this.mA=a},c.prototype.Xd=function(){if(this.mA!==null)return this.mA;var a=.001;return this.dg!=0?a=h.wr.CQ(this.dg):this.wh!=null&&(a=h.XC.DQ(this.wh)),a},c.prototype.Bz=function(){return this.wh},c.prototype.Hd=function(){return this.dg!=0?h.Tc.Zg(h.wr.Sy(this.dg)):this.wh!=null?h.XC.EQ(this.wh):void 0},c.Sb=function(a){if(a.dg!=0){if(h.wr.ZS(a.dg)===!0)return 1;if(h.wr.aT(a.dg)===!0)return 2}return 4},c.prototype.$r=function(){var a=this.Ec();return this.Ho!=-1?this.Ho:(this.Ho=h.wr.FK(a),this.Ho!=-1?this.Ho:a)},c.create=function(a){if(0>=a)throw h.i.N("Invalid or unsupported wkid: "+a);var r=new c;return r.dg=a,r},c.qP=function(a){if(a==null||a.length==0)throw h.i.N("Cannot create SpatialReference from null or empty text.");var r=new c;return r.wh=a,r},c.prototype.Nb=function(a){return this==a||a!=null&&this.constructor==a.constructor&&this.dg==a.dg&&(this.dg!=0||this.wh===a.wh)},c.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},c.prototype.cc=function(){if(this.pp!=="")return this.pp;var a=this.toString();if(Array.prototype.reduce)return this.pp="S"+a.split("").reduce(function(l,d){return 0|(l=(l<<5)-l+d.charCodeAt(0))},0);var r=0;if(a.length===0)return"";for(var o=0;o<a.length;o++)r=(r<<5)-r+a.charCodeAt(o),r&=r;return this.pp="S"+r},c.prototype.Kn=function(){return this.Xd(0)},c.prototype.fh=function(){return this.su!==null?this.su:this.su=h.gu.yP(this)},c.ZN=2147483645,c.$N=9007199254740990,c}();h.Eg=x}(re||(re={})),function(h){var N=function(x){function c(){var a=x!==null&&x.apply(this,arguments)||this;return a.Ji=null,a.ST=null,a.Hq=new h.ZL,a.Eo=null,a.jw=null,a}return ci(c,x),c.yP=function(a){var r=new c;if(r.dg=a.dg,r.Ho=a.Ho,r.ZH=a.ZH,r.wh=a.wh,r.wh!==""&&r.wh!==null){a=c.kM(r.wh);var o=c.iM(r.wh);r.Hq.Xx(a,o,h.hu.Integer64),r.by(a),r.gy(o),r.dg=a.$r()}else a=c.jM(r.dg),r.by(a),r.gy(null),r.Hq.Xx(a,null,h.hu.Integer64);return r},c.prototype.Xd=function(a){return this.Hq.Kn(a)},c.iM=function(a){if(0>=a.length)throw h.i.N();var r=null;try{r=h.NC.fromString(a)}catch{r=null}return r==null?null:c.bD(r,!0)},c.prototype.by=function(a){this.Kd=a,this.Eo=this.Kd.Hd()},c.prototype.gy=function(a){this.KH=a,this.ST=this.KH!=null?this.KH.Eo:null},c.prototype.Wc=function(){return this.Sb()!=0&&this.Sb()!=3&&this.Kd.Wc()},c.prototype.IG=function(){return this.Sb()!=0&&(this.Sb()==3?this.Ji.fk().Wc():this.Kd.Wc())},c.prototype.eh=function(){return this.Kd!=null?this.Kd.Ue:null},c.prototype.pm=function(){return this.Kd.pm()},c.prototype.bf=function(){return this.Kd.bf()},c.prototype.hh=function(){return this.Kd!=null?this.Kd.sw:NaN},c.prototype.Up=function(){return this.Kd.Up()},c.prototype.Wr=function(){return this.Kd.Wr()},c.prototype.kk=function(){return this.Kd.kk()},c.prototype.kS=function(a){return h.OC.Py(this.Kd,a.Kd)},c.prototype.ml=function(){return this.Kd.ml()},c.prototype.Vr=function(){return this.Kd.Vr()},c.prototype.zi=function(){return this.Sb()==3?this.Ji.fk().zi():this.Kd.zi()},c.prototype.gh=function(){if(!this.Wc())throw h.i.N("!isPannable()");var a=new h.l;return this.Kd.gh(a),a},c.prototype.Oe=function(){if(!this.Wc())throw h.i.N("!isPannable()");return this.Kd.so},c.prototype.HR=function(){if(!this.Wc())throw h.i.N("!isPannable()");var a=new h.l;return this.Kd.GR(a),a},c.prototype.pv=function(){if(!this.Wc())throw h.i.N("!isPannable()");return this.Kd.pv()},c.prototype.ov=function(){if(!this.Wc())throw h.i.N("!isPannable()");return this.Kd.ov()},c.prototype.Xr=function(){return this.Ji!=null?this.Ji.fk().Xr():this.Kd.Xr()},c.prototype.PQ=function(){return this.Kd.hv()},c.prototype.Qp=function(){return this.Eo.getUnitFactor()},c.prototype.vz=function(a){return this.Hq.vz(a)},c.prototype.sc=function(){var a=this.Sb();if(a==1)return this;if(a==3)return this.Ji.fk().sc();if(a==0||a===4)throw h.i.fa("invalid call");if(this.jw!==null)return this.jw;if((a=this.eh().getGeogcs())==null)throw h.i.Qa();return this.jw=c.bF(a,this.Hq.VF())},c.bF=function(a,r){if(a==null)throw h.i.N("null pointer.");var o=new c;return a=c.mu(a,!0),o.Hq.Xx(a,null,r),o.by(a),o.gy(null),o.dg=a.$r(),o},c.prototype.Sb=function(){var a=this.eh();if(a!=null)switch(a.getType()){case h.Sc.PE_TYPE_GEOGCS:return 1;case h.Sc.PE_TYPE_PROJCS:return 2}return 4},c.prototype.hv=function(){return this.Kd.hv()},c.mu=function(a,r){var o=a.getCode();if(0>=o&&0<(o=h.pf.getCode(a))){if((a=h.pf.coordsys(o))==null)throw h.i.N("Text to wkid mapping had failed: "+o);return c.mu(a,r)}if(r&&0<o&&(r=c.qx[o]))return r;r=h.zb.xv(a,o,!1);var l=c.lK[r];return l||(a=0>=o?a:h.pf.coordsys(o),a=new h.OC(a),c.lK[r]=a,0<o&&(c.qx[o]=a),a)},c.jM=function(a){if(0>=a)throw h.i.N("Invalid or unsupported wkid: "+a);var r=c.qx[a];if(r!=null)return r;if((r=h.pf.coordsys(a))==null)throw h.i.N("Invalid or unsupported wkid: "+a);return(r=c.mu(r,!1)).$r()!=a&&(c.qx[a]=r),r},c.kM=function(a){if(a==null||a===void 0||a.length==0)throw h.i.N("Cannot create SpatialReference from null or empty text.");var r=null;try{r=h.pf.fromString(h.Sc.PE_TYPE_COORDSYS,a)}catch(o){throw h.i.N("Cannot create SpatialReference from text. "+o.message)}if(r===null)throw h.i.N("Cannot create SpatialReference from text. ");return c.mu(r,!0)},c.bD=function(a,r){var o,l=a.getCode();if(0>=l&&0<(l=h.pf.getCode(a))){if((l=h.pf.vertcs(l))===null)throw h.i.N();return c.bD(l,r)}if(r&&0<l&&(r=c.kK[l])||(a=h.zb.xv(a,l,!1),r=c.mK[a]))return r;if(0>=l||(o=h.pf.vertcs(l)),o===null)throw h.i.N();return o=new h.PL(o),c.mK[a]=o,0<l&&(c.kK[l]=o),o},c.sI=function(a,r){if(r===null||r.B())return null;var o=new h.l;if(r!==null&&a.Sb()!=1){var l=a.sc(),d=l.eh();a=h.vr.Nr(a,l,null,null),(r=h.Hx.local().V(r,a,null)).A(o)}else d=a.eh(),r.A(o);return r=d.getPrimem().getLongitude(),d=d.getUnit().getUnitFactor(),new h.LC(o.v,o.G,o.C,o.H,r,d)},c.lD=function(a){var r={name:"",steps:[],_pt:null,_entry:null},o=0;for(a=a.getEntries();o<a.length;o++){var l=a[o],d={LY:!1,ZY:"",YY:-1,geogtran:null};l.getDirection()===0?d.isInverse=!1:d.isInverse=!0;var f=l.getGeogtran().getCode();-1<f?d.wkid=f:d.wkt=l.getGeogtran().toString(),r.steps.push(d)}return r},c.XR=function(a,r,o,l){return o===void 0&&(o=null),o=c.sI(l,o),a=h.lp.getGTlist(a.eh(),r.eh(),2,h.lp.PE_GTLIST_OPTS_COMMON,o,1),r=null,a&&0<a.length&&(r=this.lD(a[0]),h.Mx.destroy(a)),o!==null&&o.destroy(),r},c.YR=function(a,r,o,l){var d;if(o===void 0&&(o=null),l===void 0&&(l=null),d===void 0&&(d=30),o=c.sI(l,o),a=h.lp.getGTlist(a.eh(),r.eh(),2,h.lp.PE_GTLIST_OPTS_COMMON,o,d),r=[],a&&0<a.length){for(d=0;d<a.length;d++)r.push(this.lD(a[d]));h.Mx.destroy(a)}return o!==null&&o.destroy(),r},c.qx={},c.lK={},c.kK={},c.mK={},c}(h.Eg);h.gu=N}(re||(re={})),function(h){var N,x;(x=N=h.hu||(h.hu={}))[x.Integer32=0]="Integer32",x[x.Integer64=1]="Integer64",x[x.FloatingPoint=2]="FloatingPoint";var c=function(){function a(){this.qp()}return a.prototype.assign=function(r){this.Fm=r.Fm,this.Gm=r.Gm,this.Pj=r.Pj,this.sA=r.sA,this.Fo=r.Fo,this.rA=r.rA,this.Ik=r.Ik,this.Mq=r.Mq,this.Lq=r.Lq,this.Rm=r.Rm},a.prototype.VF=function(){return this.Rm},a.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=N.FloatingPoint},a.prototype.Xx=function(r,o,l){if(this.qp(),this.Rm=l,l!=N.FloatingPoint){var d=new h.l;r.hR(d),this.Fm=d.v,this.Gm=d.G}else this.Gm=this.Fm=-17976931348623157e292;(d=r.Ue.getType())==h.Sc.PE_TYPE_GEOGCS?(d=(l==N.Integer64?1e-9:1/18e5)*r.bf(),this.Pj=1/d):d==h.Sc.PE_TYPE_PROJCS&&(d=(l==N.Integer64?1e-4:.001)*r.pm(),this.Pj=1/d),o!=null?(d=(l==N.Integer32?.001:1e-4)*o.IH,this.Fo=1/d):this.Fo=1e4,this.YM(),this.Ik=r.sw,this.Mq=o!=null?.001*o.IH:.001,this.Lq=2220446049250313e-29},a.prototype.YM=function(){if(this.Rm!=N.FloatingPoint){var r=this.Rm==N.Integer64?h.Eg.$N:h.Eg.ZN,o=r/this.Pj,l=this.Fm+o,d=h.O.truncate((l-this.Fm)*this.Pj);d>r&&(this.Pj=r/(l-this.Fm)),o=this.Gm+o,(d=h.O.truncate((o-this.Gm)*this.Pj))>r&&(this.Pj=r/(o-this.Gm))}},a.prototype.aC=function(r){switch(r){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},a.prototype.Kn=function(r){switch(r){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},a.prototype.vz=function(r){if(this.Rm==N.FloatingPoint)return 0;switch(r){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},a.prototype.toString=function(){var r="SRPD [m_toleranceXY: "+this.Ik.toString();return(r=(r=(r=(r=(r=(r=(r=(r=(r=r+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},a}();h.ZL=c}(re||(re={})),function(h){function N(l,d){return 89.99999<d?d=89.99999:-89.99999>d&&(d=-89.99999),d*=.017453292519943,[111319.49079327169*l,31890685e-1*Math.log((1+Math.sin(d))/(1-Math.sin(d)))]}function x(l,d,f){return l=l/6378137*57.29577951308232,f?[l,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*d/6378137)))]:[l-360*Math.floor((l+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*d/6378137)))]}function c(l,d,f){var m=l.Of();if(l.getType()===33)d=d(m.Lg(),m.ih()),m.Cb(d[0],d[1]);else if(l.getType()===197){var b=d(l.es(),l.gs(),f);d=d(l.ds(),l.fs(),f),m.K(b[0],b[1],d[0],d[1])}else for(b=new h.h,l=0;l<m.I();l++){m.D(l,b);var _=d(b.x,b.y,f);b.ma(_[0],_[1]),m.Cb(l,b)}return m}function a(l){return c(l,x,!0)}function r(l){return c(l,N,!0)}var o=Math.PI/180;h.UK=function(){function l(){}return l.vu=function(d){var f=Math.sqrt(.006694379990197414),m=Math.sin(d.y*o);return h.h.construct(6378137*d.x*o,3.1677196636462314e6*(m/(1-.006694379990197414*m*m)-1/(2*f)*Math.log((1-f*m)/(1+f*m))))},l.Vx=function(d,f,m,b){var _=.0033528106647474805,$=Math.sin(m);m=Math.cos(m);var C=(1-_)*Math.tan(d),P=C*(d=1/Math.sqrt(1+C*C)),L=Math.atan2(C,m),V=(C=d*$)*C,U=1-V,Y=27233160610754688e-5*U/4040829998466145e-2,X=1+Y/16384*(4096+Y*(Y*(320-175*Y)-768)),Z=Y/1024*(256+Y*(Y*(74-47*Y)-128));Y=b/(635675231424518e-8*X);for(var ne,oe,he,be=2*Math.PI;1e-12<Math.abs(Y-be);)he=Math.cos(2*L+Y),be=Y,Y=b/(635675231424518e-8*X)+Z*(ne=Math.sin(Y))*(he+Z/4*((oe=Math.cos(Y))*(2*he*he-1)-Z/6*he*(4*ne*ne-3)*(4*he*he-3)));return b=P*ne-d*oe*m,U=_/16*U*(4+_*(4-3*U)),h.h.construct((f+(Math.atan2(ne*$,d*oe-P*ne*m)-(1-U)*_*C*(Y+U*ne*(he+U*oe*(2*he*he-1)))))/o,Math.atan2(P*oe+d*ne*m,(1-_)*Math.sqrt(V+b*b))/o)},l.MM=function(d,f,m,b){var _=.0033528106647474805,$=b-f,C=Math.atan((1-_)*Math.tan(d)),P=Math.atan((1-_)*Math.tan(m)),L=Math.sin(C);C=Math.cos(C);var V=Math.sin(P);P=Math.cos(P);var U=$,Y=1e3;do{var X=Math.sin(U),Z=Math.cos(U),ne=Math.sqrt(P*X*P*X+(C*V-L*P*Z)*(C*V-L*P*Z));if(ne===0)return 0;Z=L*V+C*P*Z;var oe=Math.atan2(ne,Z),he=C*P*X/ne,be=1-he*he;X=Z-2*L*V/be,isNaN(X)&&(X=0);var Ce=_/16*be*(4+_*(4-3*be)),Pe=U;U=$+(1-Ce)*_*he*(oe+Ce*ne*(X+Ce*Z*(2*X*X-1)))}while(1e-12<Math.abs(U-Pe)&&0<--Y);return Y===0?(L=b-f,{azimuth:Math.atan2(Math.sin(L)*Math.cos(m),Math.cos(d)*Math.sin(m)-Math.sin(d)*Math.cos(m)*Math.cos(L)),geodesicDistance:6371008771415059e-9*Math.acos(Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos(b-f))}):(f=(d=27233160610754688e-5*be/4040829998466145e-2)/1024*(256+d*(d*(74-47*d)-128)),{azimuth:Math.atan2(P*Math.sin(U),C*V-L*P*Math.cos(U)),YQ:635675231424518e-8*(1+d/16384*(4096+d*(d*(320-175*d)-768)))*(oe-f*ne*(X+f/4*(Z*(2*X*X-1)-f/6*X*(4*ne*ne-3)*(4*X*X-3)))),XY:Math.atan2(C*Math.sin(U),C*V*Math.cos(U)-L*P)})},l.jQ=function(d){var f=d.hasAttribute(1),m=d.hasAttribute(2),b=[],_=d.da(),$=null,C=null;f&&($=d.ub(1)),m&&(C=d.ub(2));for(var P=new h.h,L=0;L<_;L++){for(var V=d.Ba(L),U=d.Ja(L),Y=0,X=0,Z=NaN,ne=NaN,oe=NaN,he=NaN,be=d.dc(L),Ce=[],Pe=V;Pe<V+U;Pe++){d.D(Pe,P),he=oe=NaN;var qe=[P.x,P.y];f&&(oe=$.get(Pe),qe.push(oe)),m&&(_=C.get(Pe),qe.push(he)),Pe==V&&be&&(Y=P.x,X=P.y,Z=oe,ne=he),Ce.push(qe)}!be||Y==P.x&&X==P.y&&(!f||isNaN(Z)&&isNaN(oe)||Z==oe)&&(!m||isNaN(ne)&&isNaN(he)||ne==he)||Ce.push(Ce[0].slice(0)),b.push(Ce)}return b},l.Wy=function(d,f){d=l.jQ(d),637.100877141506>f&&(f=637.100877141506);for(var m,b=[],_=0;_<d.length;_++){var $,C,P=d[_];b.push(m=[]),m.push([P[0][0],P[0][1]]);var L=P[0][0]*o,V=P[0][1]*o;for($=0;$<P.length-1;$++){var U=P[$+1][0]*o,Y=P[$+1][1]*o;if(L!==U||V!==Y){U=(Y=l.MM(V,L,Y,U)).azimuth;var X=(Y=Y.YQ)/f;if(1<X){for(C=1;C<=X-1;C++){var Z=l.Vx(V,L,U,C*f);m.push([Z.x,Z.y])}C=l.Vx(V,L,U,(Y+Math.floor(X-1)*f)/2),m.push([C.x,C.y])}V=l.Vx(V,L,U,Y),m.push([V.x,V.y]),L=V.x*o,V=V.y*o}}}return{qJ:b}},l.XQ=function(d){for(var f=[],m=0;m<d.length;m++){var b=d[m];b=l.Wy(b,1e4),f.push(b)}d=[];for(var _=0;_<f.length;_++){b=f[_];var $=0;for(m=0;m<b.qJ.length;m++){var C,P=b.qJ[m],L=l.vu(h.h.construct(P[0][0],P[0][1])),V=l.vu(h.h.construct(P[P.length-1][0],P[P.length-1][1])),U=V.x*L.y-L.x*V.y;for(C=0;C<P.length-1;C++)L=l.vu(h.h.construct(P[C+1][0],P[C+1][1])),U+=(V=l.vu(h.h.construct(P[C][0],P[C][1]))).x*L.y-L.x*V.y;$+=U}$/=1,d.push($/-2)}return d},l}(),h.cb=function(){function l(){}return l.xB=function(d,f,m,b,_,$,C){l.gD[d.cc()]=f,isNaN(m)==0&&(l.mD[d.cc()]=m),isNaN(b)==0&&(l.zD[d.cc()]=b),isNaN(_)==0&&(l.aD[d.cc()]=_),l.nD[d.cc()]=$,C!==null&&(l.oD[d.cc()]=C)},l.Ww=function(d,f,m){l.sD[d.cc()+"-"+f.cc()]=m},l.sc=function(d){if((d=l.gD[d.cc()])==null)throw h.i.Ie();return d},l.bf=function(d){if((d=l.mD[d.cc()])==null)throw h.i.Ie();return d},l.vv=function(d){if((d=l.zD[d.cc()])==null)throw h.i.Ie();return d},l.ev=function(d){if((d=l.aD[d.cc()])==null)throw h.i.Ie();return d},l.gh=function(d){if((d=l.oD[d.cc()])==null)throw h.i.Ie();return h.l.construct(d[0],d[1],d[2],d[3])},l.Wc=function(d){if((d=l.nD[d.cc()])==null)throw h.i.Ie();return d},l.zh=function(d,f,m){if(f.Nb(m))return d;var b=l.sD[f.cc()+"-"+m.cc()];if(b!==void 0)return b(d,f,m);throw h.i.Ie()},l.vt=function(){throw h.i.Ie()},l.bR=function(){throw h.i.Ie()},l.dW=function(){throw h.i.Ie()},l.ml=function(){throw h.i.Ie()},l.sW=function(){var d=h.Eg.create(102100),f=h.Eg.create(3857),m=h.Eg.create(4326);h.cb.xB(d,m,NaN,NaN,NaN,!1,null),h.cb.xB(m,m,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),h.cb.xB(f,m,NaN,NaN,NaN,!1,null),h.cb.Ww(d,m,a),h.cb.Ww(m,d,r),h.cb.Ww(f,m,a),h.cb.Ww(m,f,r)},l.gD=[],l.mD=[],l.zD=[],l.aD=[],l.nD=[],l.oD=[],l.sD=[],l}()}(re||(re={})),re.cb.sW(),function(h){var N=function(){function x(c){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=c}return x.prototype.jd=function(c){c<this.Bl?(this.o[c*this.stride]=this.io,this.io=c):this.Bl--,this.size--},x.prototype.T=function(c,a){return this.o[c*this.stride+a]},x.prototype.S=function(c,a,r){this.o[c*this.stride+a]=r},x.prototype.Ce=function(){var c=this.io;if(c==-1){if(this.Bl==this.Hg){if(2147483647<(c=this.Hg!=0?h.O.truncate(3*(this.Hg+1)/2):1)&&(c=2147483647),c==this.Hg)throw h.i.ce();this.Dz(c)}c=this.Bl,this.Bl++}else this.io=this.o[c*this.stride];this.size++;for(var a=c*this.stride;a<c*this.stride+this.stride;a++)this.o[a]=-1;return c},x.prototype.Ll=function(c){var a=this.io;if(a==-1){if(this.Bl==this.Hg){if(2147483647<(a=this.Hg!=0?h.O.truncate(3*(this.Hg+1)/2):1)&&(a=2147483647),a==this.Hg)throw h.i.ce();this.Dz(a)}a=this.Bl,this.Bl++}else this.io=this.o[a*this.stride];this.size++;for(var r=a*this.stride,o=0;o<c.length;o++)this.o[r+o]=c[o];return a},x.prototype.mj=function(c){this.io=-1,this.size=this.Bl=0,c&&(this.o=null,this.Hg=0)},x.prototype.De=function(c){c>this.Hg&&this.Dz(c)},x.prototype.tx=function(c,a){c*=this.stride,a*=this.stride;for(var r=0;r<this.stride;r++){var o=this.o[a+r];this.o[a+r]=this.o[c+r],this.o[c+r]=o}},x.prototype.gC=function(c,a,r){var o=this.o[this.stride*a+r];this.o[this.stride*a+r]=this.o[this.stride*c+r],this.o[this.stride*c+r]=o},x.LG=function(c){return 0<=c},x.prototype.Dz=function(c){this.o==null&&(this.o=new Int32Array(0));var a=new Int32Array(this.stride*c);a.set(this.o,0),this.o=a,this.Hg=c},x}();h.$c=N}(re||(re={})),function(h){var N,x;(x=N||(N={}))[x.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",x[x.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",x[x.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",x[x.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var c=function(){function r(o){this.Be=o,this.yh=NaN,this.eH=new h.ig,this.fH=new h.ig,this.ms=new h.Nc,this.ns=new h.Nc}return r.prototype.compare=function(o,l,d){if(o=o.ja(d),this.Be.pB(l,this.eH),this.Be.pB(o,this.fH),l=this.eH.get(),o=this.fH.get(),this.ms.K(l.sa,l.pa),this.ns.K(o.sa,o.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;d=l.na==l.la;var f=o.na==o.la;if(d||f){if(d&&f)return 0;if(l.na==o.na&&l.sa==o.sa)return d?1:-1;if(l.la==o.la&&l.pa==o.pa)return d?-1:1}return(d=l.Pe(this.yh,this.ms.oa))==(f=o.Pe(this.yh,this.ns.oa))&&((f=.5*((d=Math.min(l.la,o.la))+this.yh))==this.yh&&(f=d),d=l.Pe(f,this.ms.oa),f=o.Pe(f,this.ns.oa)),d<f?-1:d>f?1:0},r.prototype.aK=function(o){this.yh=o},r}(),a=function(){function r(o){this.ib=o,this.WH=new h.ig,this.Bf=new h.h,this.wA=new h.Nc}return r.prototype.kX=function(o){this.Bf.L(o)},r.prototype.compare=function(o,l){return this.ib.pB(o.ja(l),this.WH),o=this.WH.get(),this.wA.K(o.sa,o.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(o=o.Pe(this.Bf.y,this.Bf.x),this.Bf.x<o?-1:this.Bf.x>o?1:0)},r}();N=function(){function r(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new h.Md,this.bO=2147483647,this.aO=h.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return r.prototype.yy=function(o){this.lA=o},r.prototype.Ym=function(){this.ge==null&&(this.ge=new h.$c(8));var o=this.ge.Ce();return this.ge.S(o,1,0),o},r.prototype.vU=function(){this.Kc==null&&(this.Kc=new h.$c(8));var o=this.Kc.Ce();this.Kc.S(o,2,0),this.Kc.S(o,3,0);var l=this.Kc.Ce();return this.Kc.S(l,2,0),this.Kc.S(l,3,0),this.JJ(o,l),this.JJ(l,o),o},r.prototype.mI=function(){this.ye==null&&(this.ye=new h.$c(8));var o=this.ye.Ce();return this.ye.S(o,2,0),o},r.prototype.TW=function(o,l){this.ge.S(o,7,l)},r.prototype.mn=function(o,l){this.ge.S(o,2,l)},r.prototype.SW=function(o,l){this.ge.S(o,1,l)},r.prototype.lX=function(o,l){this.ge.S(o,3,l)},r.prototype.iX=function(o,l){this.ge.S(o,4,l)},r.prototype.cr=function(o,l){this.ge.S(o,5,l)},r.prototype.eR=function(o){return this.ge.T(o,5)},r.prototype.RW=function(o,l){this.ge.S(o,6,l)},r.prototype.cN=function(o,l){this.RW(l,o)},r.prototype.IJ=function(o,l){this.Kc.S(o,1,l)},r.prototype.JJ=function(o,l){this.Kc.S(o,4,l)},r.prototype.Tl=function(o,l){this.Kc.S(o,5,l)},r.prototype.Sl=function(o,l){this.Kc.S(o,6,l)},r.prototype.$W=function(o,l){this.Kc.S(o,2,l)},r.prototype.$w=function(o,l){this.Kc.S(o,3,l)},r.prototype.LF=function(o){return this.Kc.T(o,3)},r.prototype.Gt=function(o,l){this.Kc.S(o,7,l)},r.prototype.EK=function(o,l){if(this.mm(o)!=-1)for(l=l?-1:o,o=this.mm(o);o!=-1;o=this.js(o))this.g.Ra(this.tj(o),this.Cq,l)},r.prototype.yx=function(o,l){o!=-1&&(this.EK(o,l),this.EK(this.xa(o),l))},r.prototype.Dt=function(o,l){this.ye.S(o,1,l)},r.prototype.Vg=function(o,l){this.ye.S(o,2,l)},r.prototype.jn=function(o,l){this.ye.S(o,3,l),this.NW(o,this.dR(l)),this.MW(l,o)},r.prototype.MW=function(o,l){this.ye.S(o,4,l)},r.prototype.NW=function(o,l){this.ye.S(o,5,l)},r.prototype.DJ=function(o,l){this.ye.S(o,6,l)},r.prototype.BJ=function(o,l){this.ye.S(o,7,l)},r.prototype.AJ=function(o,l){this.Yn.write(o,l)},r.prototype.CJ=function(o,l){this.kA.write(o,l)},r.prototype.kY=function(o){var l=0,d=0,f=this.AF(o),m=new h.h,b=new h.h,_=new h.h;this.Yr(f,m),b.L(m);var $=f;do this.lm($,_),d+=h.h.tb(b,_),this.$e(this.xa($))!=o&&(l+=(_.x-m.x-(b.x-m.x))*(_.y-m.y+(b.y-m.y))*.5),b.L(_),$=this.jc($);while($!=f);this.Yn.write(o,l),this.kA.write(o,d)},r.prototype.PU=function(o,l){var d=new c(this),f=new h.Yj;f.De(h.O.truncate(this.wa/2)),f.Vo(d);for(var m=new h.ia(0),b=this.$g(),_=null,$=0,C=new h.h,P=this.Re;P!=-1;P=this.Rf(P)){if(!(255&++$||l==null||l.progress(-1,-1)))throw h.i.WC();var L=this.Me(P);if(L!=-1){if(m.Bh(0),!this.gY(f,b,m,L)){this.D(P,C),d.aK(C.y);var V=L;do{var U=this.Ab(V,b);U!=-1&&(f.vd(U,-1),this.Kb(V,b,-2)),V=this.jc(this.xa(V))}while(L!=V);V=L;do(U=this.Ab(V,b))==-1&&(U=f.addElement(V,-1),m.add(U)),V=this.jc(this.xa(V));while(L!=V)}for(L=m.size-1;0<=L;L--)U=m.get(L),V=f.ja(U),this.Kb(this.xa(V),b,U),this.OU(f,U,o)}else this.cz(P)==-1&&(_==null&&(_=new a(this)),this.D(P,C),_.kX(C),V=f.IW(_),L=this.Hl,V!=-1&&(U=f.ja(V),this.$e(U)==this.$e(this.xa(U))&&(U=this.OF(f,V)),U!=-1&&(L=this.$e(U))),this.cN(L,P))}this.Jg(b)},r.prototype.OU=function(o,l,d){var f=o.ja(l),m=this.$e(f);if(this.Gn(m)==-1){var b=this.OF(o,l),_=this.xa(f),$=this.$e(_);this.Kp(m),this.Kp($);var C=this.Gn(m),P=this.Gn($);if(b==-1&&C==-1&&($==m?(this.jn($,this.Hl),C=P=this.Hl):(P==-1&&(this.jn($,this.Hl),P=this.Hl),this.jn(m,$),C=$)),b!=-1){var L=this.$e(b);P==-1&&(0>=this.Kp(L)?(P=this.Gn(L),this.jn($,P)):(this.jn($,L),P=L),$==m&&(C=P))}C==-1&&this.hY(m,$),d==0?this.jW(o,l,f,b,m,$):d==5?this.kW(o,l,f,_,m,$):d==4&&this.iW(f,b,m,$)}},r.prototype.jW=function(o,l,d,f,m,b){var _=this.hk(m);if(f!=-1){var $=this.hk(b),C=this.hk(this.$e(f));f=_&$&C,C^=C&this.dh(d),(C|=f)!=0&&(this.Vg(b,$|C),this.Vg(m,C|_),_=_||C)}for(l=o.lb(l);l!=-1&&(f=o.ja(l),d=this.$e(this.xa(f)),m=this.hk(d),b=this.dh(f),$=this.$e(f),f=m&(C=this.hk($))&_,_^=_&b,(_|=f)!=0);l=o.lb(l))this.Vg(d,m|_),this.Vg($,C|_)},r.prototype.kW=function(o,l,d,f,m,b){if(m!=b){d=this.Ab(d,this.cg),d+=this.Ab(f,this.cg),f=0;var _=new h.ia(0),$=new h.ia(0);$.add(0);for(var C=o.rc(-1);C!=l;C=o.lb(C)){var P=o.ja(C),L=this.xa(P),V=this.$e(P),U=this.$e(L);if(V!=U){if(P=this.Ab(P,this.cg),f+=P+=this.Ab(L,this.cg),L=!1,_.size!=0&&_.Fc()==U&&($.If(),_.If(),L=!0),this.Gn(U)==-1)throw h.i.Qa();L&&this.Gn(U)==V||($.add(f),_.add(V))}}f+=d,_.size!=0&&_.Fc()==b&&($.If(),_.If()),f!=0?$.Fc()==0&&(o=this.g.ld,o=this.La(o),this.Vg(m,o)):$.Fc()!=0&&(o=this.g.ld,o=this.La(o),this.Vg(m,o))}},r.prototype.iW=function(o,l,d,f){var m=this.La(this.g.ld);if(l==-1)this.Vg(f,this.Go),1&(o=this.Ab(o,this.xg))?this.Vg(d,m):this.Vg(d,this.Go);else{var b=this.hk(f);b==0?(b=this.hk(this.$e(l)),this.Vg(f,b),1&(o=this.Ab(o,this.xg))?this.Vg(d,b==m?this.Go:m):this.Vg(d,b)):1&(o=this.Ab(o,this.xg))?this.Vg(d,b==m?this.Go:m):this.Vg(d,b)}},r.prototype.gY=function(o,l,d,f){var m=f,b=-1,_=-1,$=0;do{if($==2)return!1;var C=this.Ab(m,l);if(C!=-1){if(b!=-1)return!1;b=C}else{if(_!=-1)return!1;_=m}$++,m=this.jc(this.xa(m))}while(f!=m);return _!=-1&&b!=-1&&(this.Kb(o.ja(b),l,-2),o.Sj(b,_),d.add(b),!0)},r.prototype.hY=function(o,l){var d=this.Kp(o);if(d!=0){var f=this.Kp(l);0<d&&0>f||0>d&&0<f?this.jn(o,l):(l=this.Gn(l))!=-1&&this.jn(o,l)}},r.prototype.vP=function(o,l){this.Cq=this.g.Gd();for(var d=0,f=l.size;d<f;d++){var m=l.get(d),b=this.g.Pa(m,this.Cm),_=this.g.Qf(this.g.bd(m)),$=this.g.ic(_);if(h.aa.Hc($)){var C=this.g.U(m);if(C!=-1){var P=this.g.Pa(C,this.Cm);if(b!=P){var L=this.vU(),V=this.xa(L),U=this.jh.Ce();this.jh.S(U,0,m),this.jh.S(U,1,-1),this.Gt(L,U),this.IJ(L,b),(U=this.Me(b))==-1?(this.mn(b,L),this.Tl(L,V),this.Sl(V,L)):(b=this.te(U),this.Tl(U,V),this.Sl(V,U),this.Sl(b,L),this.Tl(L,b)),this.IJ(V,P),(b=this.Me(P))==-1?(this.mn(P,V),this.Sl(L,V),this.Tl(V,L)):(P=this.te(b),this.Tl(b,L),this.Sl(L,b),this.Sl(P,V),this.Tl(V,P)),_=this.La(_),o==0?(this.Kb(V,this.ae,0),this.Kb(L,this.ae,$==1736?_:0)):o==5?(P=new h.h,this.g.D(m,P),m=new h.h,this.g.D(C,m),b=C=0,0>P.compare(m)?C=1:b=-1,this.Kb(V,this.ae,0),this.Kb(L,this.ae,0),this.Kb(L,this.cg,C),this.Kb(V,this.cg,b)):o==7?(this.Kb(V,this.ae,this.Go),this.Kb(L,this.ae,$==1736?_:0)):o==4&&(this.Kb(V,this.ae,0),this.Kb(L,this.ae,0),this.Kb(L,this.xg,1),this.Kb(V,this.xg,1)),$=$==1736?this.aO:0,this.$w(L,_|$),this.$w(V,_|$)}}}}},r.prototype.VT=function(o,l){var d=this.mm(l);if(d!=-1){var f=this.mm(o);this.jh.S(d,1,f),this.Gt(o,d),this.Gt(l,-1)}o=this.xa(o),l=this.xa(l),(d=this.mm(l))!=-1&&(f=this.mm(o),this.jh.S(d,1,f),this.Gt(o,d),this.Gt(l,-1))},r.prototype.IX=function(o){function l(oe,he){return f.HO(oe,he)}var d=new h.ia(0);d.Jb(10);for(var f=this,m=this.Re;m!=-1;m=this.Rf(m)){d.clear(!1);var b=this.Me(m);if(b!=-1){var _=b;do d.add(_),_=this.jc(this.xa(_));while(_!=b);if(1<d.size){if(_=!0,2<d.size)d.Vd(0,d.size,l),d.add(d.get(0));else if(0<this.GO(d.get(0),d.get(1))){var $=d.get(0);d.set(0,d.get(1)),d.set(1,$)}else _=!1;for(var C=$=d.get(0),P=this.uf(C),L=this.xa(C),V=-1,U=1,Y=d.size;U<Y;U++){var X=d.get(U),Z=this.xa(X),ne=this.jk(Z);if(ne==P&&X!=C){if(o==0)V=this.LF(C)|this.LF(X),this.$w(C,V),this.$w(L,V),this.Kb(C,this.ae,this.Ab(C,this.ae)|this.Ab(X,this.ae)),this.Kb(L,this.ae,this.Ab(L,this.ae)|this.Ab(Z,this.ae));else if(this.cg!=-1)V=this.Ab(C,this.cg)+this.Ab(X,this.cg),Z=this.Ab(L,this.cg)+this.Ab(Z,this.cg),this.Kb(C,this.cg,V),this.Kb(L,this.cg,Z);else{if(o==7)return void(this.Ni=new h.Md(5,m,-1));this.xg!=-1&&(V=this.Ab(C,this.xg)+this.Ab(X,this.xg),Z=this.Ab(L,this.xg)+this.Ab(Z,this.xg),this.Kb(C,this.xg,V),this.Kb(L,this.xg,Z))}this.VT(C,X),this.Ly(X),V=C,d.set(U,-1),X==$&&(d.set(0,-1),$=-1)}else this.yx(V,!1),V=-1,C=X,P=ne,L=Z}if(this.yx(V,!1),V=-1,_){for($=-1,U=0,Y=d.size;U<Y;U++)if((X=d.get(U))!=-1){if($==-1)C=$=X,P=this.uf(C),L=this.xa(C);else if(X!=C&&(Z=this.xa(X),ne=this.jk(Z),this.Sl(L,X),this.Tl(X,L),C=X,P=ne,L=Z,o==7&&(this.Ab(X,this.ae)|this.Ab(this.te(X),this.ae))==(1|this.Go)))return void(this.Ni=new h.Md(5,m,-1))}this.mn(m,$)}else{for($=-1,U=0,Y=d.size;U<Y;U++)if((X=d.get(U))!=-1){$=X;break}b!=$&&this.mn(m,$)}}}}},r.prototype.WN=function(){for(var o=-1,l=this.$g(),d=this.Re;d!=-1;d=this.Rf(d)){var f=this.Me(d);if(f!=-1){var m=f;do{if(this.Ab(m,l)!=1){var b=this.mI();this.Dt(b,m),this.BJ(b,o),o!=-1&&this.DJ(o,b),o=b;var _=0,$=m;do _|=this.Ab($,this.ae),this.$W($,b),this.Kb($,l,1),$=this.jc($);while($!=m);this.Vg(b,_)}m=this.jc(this.xa(m))}while(m!=f)}}b=this.mI(),this.Dt(b,-1),this.BJ(b,o),o!=-1&&this.DJ(o,b),this.Hl=b,this.Yn=h.be.qf(this.ye.size,NaN),this.kA=h.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(l)},r.prototype.sR=function(o,l,d){if((l=l!=-1?l:this.Me(o))==-1)return-1;for(o=l;;){if(this.Ab(l,d)!=1)return l;if((l=this.jc(this.xa(l)))==o)return-1}},r.prototype.yW=function(){for(var o=this.$g(),l=this.Re;l!=-1;l=this.Rf(l))for(var d=-1;;){var f=this.sR(l,d,o);if(f==-1)break;d=this.jc(this.xa(f));for(var m=f;;){var b=this.jc(m),_=this.te(m),$=this.xa(m);if(_==$){if(this.IP(m),d!=m&&d!=$||(d=-1),m==f||_==f){if(m==(f=b)||_==f)break;m=b;continue}}else this.Kb(m,o,1);if((m=b)==f)break}}this.Jg(o)},r.prototype.MB=function(o,l,d,f,m){this.Ug(),this.gH=m,this.g=o,this.Bq=this.g.aF(),(o=new h.ia(0)).Jb(d!=null?this.g.I(d.get(0)):this.g.fd);var b=0,_=1,$=d!=null?d.get(0):this.g.ld;for(m=1;$!=-1;){this.g.HJ($,this.Bq,_),_<<=1;for(var C=this.g.Ob($);C!=-1;C=this.g.Rb(C))for(var P=this.g.Xa(C),L=0,V=this.g.Ja(C);L<V;L++)o.add(P),P=this.g.U(P);h.aa.Rn(this.g.ic($))||(b+=this.g.da($)),d!=null?($=m<d.size?d.get(m):-1,m++):$=this.g.ue($)}for(this.Go=_,this.wa=o.size,this.g.nx(o,this.wa),this.jh==null&&(this.jh=new h.$c(2),this.ge=new h.$c(8),this.Kc=new h.$c(8),this.ye=new h.$c(8)),this.jh.De(this.wa),h.mp.zp(f),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,b)),this.Cm=this.g.Gd(),d=new h.h,m=0,b=new h.h,d.Rc(),_=0;_<=this.wa;_++)if(_<this.wa?(P=o.get(_),this.g.D(P,b)):b.Rc(),!d.qb(b)){if(m<_){for(P=this.Ym(),V=L=-1;m<_;m++)V=o.get(m),this.g.Ra(V,this.Cm,P),$=this.jh.Ce(),this.jh.S($,0,V),this.jh.S($,1,L),L=$,C=this.g.bd(V),$=this.g.Qf(C),$=this.La($),this.SW(P,this.xd(P)|$);this.TW(P,L),this.cr(P,this.g.Ua(V)),this.Os!=-1&&this.iX(this.Os,P),this.lX(P,this.Os),this.Os=P,this.Re==-1&&(this.Re=P)}m=_,d.L(b)}h.mp.zp(f),this.ae=this.$g(),l==5&&(this.cg=this.$g()),l==4&&(this.xg=this.$g()),this.vP(l,o),this.Ni.Jj==0&&(this.IX(l),this.Ni.Jj==0&&(isNaN(this.lA)||this.xO()?(this.WN(),this.Ni.Jj==0&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(l,f))):this.pA=!0))},r.prototype.Ly=function(o){var l=this.jc(o),d=this.te(o),f=this.xa(o),m=this.jc(f),b=this.te(f);l!=f&&(this.Sl(b,l),this.Tl(l,b)),d!=f&&(this.Sl(d,m),this.Tl(m,d)),d=this.jk(o),this.Me(d)==o&&(m!=o?this.mn(d,m):this.mn(d,-1)),m=this.jk(f),this.Me(m)==f&&(l!=f?this.mn(m,l):this.mn(m,-1)),this.Kc.jd(o),this.Kc.jd(f)},r.prototype.OF=function(o,l){for(;;){if((l=o.we(l))==-1)return-1;var d=o.ja(l);if(this.$e(d)!=this.$e(this.xa(d)))return d}},r.prototype.dr=function(o,l){var d;d===void 0&&(d=!0),this.MB(o,0,null,l,d)},r.prototype.vJ=function(o,l,d){var f=new h.ia(0);f.add(l),this.MB(o,4,f,d,o.ic(l)==1736)},r.prototype.wJ=function(o,l,d){var f=new h.ia(0);f.add(l),this.MB(o,5,f,d,!0)},r.prototype.Ug=function(){this.g!=null&&(this.Bq!=-1&&(this.g.xW(this.Bq),this.Bq=-1),this.Cm!=-1&&(this.g.Td(this.Cm),this.Cm=-1),this.Cq!=-1&&(this.g.Td(this.Cq),this.Cq=-1),this.ae!=-1&&(this.Jg(this.ae),this.ae=-1),this.cg!=-1&&(this.Jg(this.cg),this.cg=-1),this.xg!=-1&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,this.Kc!=null&&this.Kc.mj(!0),this.Gi!=null&&(this.Gi.length=0),this.Di!=null&&(this.Di.length=0),this.hH!=null&&(this.hH.length=0),this.ye!=null&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},r.prototype.Me=function(o){return this.ge.T(o,2)},r.prototype.D=function(o,l){this.g.dG(this.eR(o),l)},r.prototype.xd=function(o){return this.ge.T(o,1)},r.prototype.Rf=function(o){return this.ge.T(o,4)},r.prototype.cz=function(o){return this.ge.T(o,6)},r.prototype.km=function(o){return this.ge.T(o,7)},r.prototype.js=function(o){return this.jh.T(o,1)},r.prototype.tj=function(o){return this.jh.T(o,0)},r.prototype.ng=function(o,l){return(l=this.Di[l]).size<=o?-1:l.read(o)},r.prototype.nn=function(o,l,d){(l=this.Di[l]).size<=o&&l.resize(this.ge.size,-1),l.write(o,d)},r.prototype.Dp=function(){this.Di==null&&(this.Di=[]);for(var o=h.ia.qf(this.ge.Hg,-1),l=0,d=this.Di.length;l<d;l++)if(this.Di[l]==null)return this.Di[l]=o,l;return this.Di.push(o),this.Di.length-1},r.prototype.Ep=function(o){this.Di[o]=null},r.prototype.jk=function(o){return this.Kc.T(o,1)},r.prototype.uf=function(o){return this.jk(this.xa(o))},r.prototype.xa=function(o){return this.Kc.T(o,4)},r.prototype.te=function(o){return this.Kc.T(o,5)},r.prototype.jc=function(o){return this.Kc.T(o,6)},r.prototype.$e=function(o){return this.Kc.T(o,2)},r.prototype.af=function(o){return this.hk(this.Kc.T(o,2))},r.prototype.mm=function(o){return this.Kc.T(o,7)},r.prototype.Yr=function(o,l){this.D(this.jk(o),l)},r.prototype.lm=function(o,l){this.D(this.uf(o),l)},r.prototype.dh=function(o){return this.Kc.T(o,3)&this.bO},r.prototype.Ab=function(o,l){return(l=this.Gi[l]).size<=o?-1:l.read(o)},r.prototype.Kb=function(o,l,d){(l=this.Gi[l]).size<=o&&l.resize(this.Kc.size,-1),l.write(o,d)},r.prototype.$g=function(){this.Gi==null&&(this.Gi=[]);for(var o=h.ia.qf(this.Kc.Hg,-1),l=0,d=this.Gi.length;l<d;l++)if(this.Gi[l]==null)return this.Gi[l]=o,l;return this.Gi.push(o),this.Gi.length-1},r.prototype.Jg=function(o){this.Gi[o]=null},r.prototype.IP=function(o){var l=this.$e(o),d=this.xa(o),f=this.jc(o);f==d&&(f=this.jc(f))==o&&(f=-1);var m=this.AF(l);m!==o&&m!=d||this.Dt(l,f),d=this.Yn.read(l),isNaN(d)||(this.AJ(l,NaN),this.CJ(l,NaN)),this.yx(o,!0),this.Ly(o)},r.prototype.JP=function(o){for(var l=0,d=o.size;l<d;l++){var f=o.get(l),m=this.$e(this.xa(f));this.Dt(this.$e(f),-1),this.Dt(m,-1),this.yx(f,!0),this.Ly(f)}},r.prototype.AF=function(o){return this.ye.T(o,1)},r.prototype.hk=function(o){return this.ye.T(o,2)},r.prototype.Gn=function(o){return this.ye.T(o,3)},r.prototype.dR=function(o){return this.ye.T(o,4)},r.prototype.Kp=function(o){var l=this.Yn.read(o);return isNaN(l)&&(this.kY(o),l=this.Yn.read(o)),l},r.prototype.La=function(o){return this.g.KF(o,this.Bq)},r.prototype.Le=function(o){return this.g.Pa(o,this.Cm)},r.prototype.uR=function(o){return this.g.Pa(o,this.Cq)},r.prototype.tR=function(o,l){var d=this.Me(o);if(d==-1)return-1;var f=d,m=-1,b=-1;do{if(this.uf(f)==l)return f;if(m==-1){if((m=this.Me(l))==-1)break;b=m}if(this.uf(b)==o)return this.xa(b);f=this.jc(this.xa(f)),b=this.jc(this.xa(b))}while(f!=d&&b!=m);return-1},r.prototype.pB=function(o,l){l.Or(),l=l.get();var d=new h.h;this.Yr(o,d),l.Dc(d),this.lm(o,d),l.Qc(d)},r.prototype.HO=function(o,l){if(o==l)return 0;var d=new h.h;this.lm(o,d);var f=new h.h;return this.lm(l,f),d.qb(f)?0:(l=new h.h,this.Yr(o,l),(o=new h.h).uc(d,l),(d=new h.h).uc(f,l),h.h.nu(o,d))},r.prototype.GO=function(o,l){if(o==l)return 0;var d=new h.h;this.lm(o,d);var f=new h.h;return this.lm(l,f),d.qb(f)?0:(l=new h.h,this.Yr(o,l),(o=new h.h).uc(d,l),(d=new h.h).uc(f,l),0<=d.y&&0<o.y?h.h.nu(o,d):0)},r.prototype.xO=function(){for(var o=h.lc.ox(this.lA),l=new h.h,d=new h.h,f=new h.h,m=new h.h,b=new h.h,_=this.Re;_!=-1;_=this.Rf(_)){var $=this.Me(_);if($!=-1){var C=$;this.Yr(C,l),this.lm(C,d),b.uc(d,l);var P=b.Sk();do{var L=C;if((C=this.jc(this.xa(C)))!=L){this.lm(C,f),m.uc(f,l),L=m.Sk();var V=m.wi(b);if(V*V/(L*P)*Math.min(L,P)<=o)return!1;b.L(m),P=L,d.L(f)}}while(C!=$)}}return!0},r}(),h.iu=N}(re||(re={})),function(h){var N=function(){function x(){this.j=null,this.oH=new h.h,this.pH=new h.h,this.Gj=null,this.Mv=!1,this.tl=-1}return x.prototype.cf=function(c){return c<this.Gj.length&&this.Gj[c]},x.prototype.dl=function(c,a,r,o){var l=h.aa.tf(this.j.g.ic(r));if(h.aa.tf(this.j.g.ic(a))!=2||l!=1)throw h.i.Qa();this.FP(c,a,r,o)},x.prototype.dr=function(c,a){this.j==null&&(this.j=new h.iu),this.j.dr(c,a)},x.prototype.Ft=function(c,a,r){for(h.Tk.V(c,a,r,!0),a=c.ld;a!=-1;a=c.ue(a))c.ic(a)==1736&&h.rn.V(c,a,-1,this.Mv,r);this.dr(c,r)},x.prototype.ME=function(c,a,r,o,l){var d=this.j.g;if(d.ic(c)==1736)for(c=d.Ob(c);c!=-1;c=d.Rb(c)){var f=d.Xa(c);this.j.Le(f),this.j.Le(d.U(f));var m=this.j.uR(f);if(m!=-1){var b=this.j.Ab(m,r);if(b!=1&&b!=2)if(this.cf(this.j.af(m))){this.j.Kb(m,r,1),b=d.vf(a,-1);var _=m,$=this.j.Le(f),C=1;do{var P=this.sm(f,l);d.ij(b,P),o!=-1&&this.j.nn($,o,1),this.j.Kb(_,r,1),_=this.j.jc(_);do var L=(P=C==1?d.U(f):d.Ma(f))!=-1?this.j.Le(P):-1;while(L==$);var V=this.j.jk(_);if(V!=L){do L=(P=C==1?d.Ma(f):d.U(f))!=-1?this.j.Le(P):-1;while(L==$);V!=L?(L=V,P=this.j.tj(this.j.km(L))):C=-C}$=L,f=P}while(_!=m);d.kn(b,!0)}else this.j.Kb(m,r,2)}}},x.prototype.eF=function(){for(var c=this.j.$g(),a=new h.ia(0),r=this.j.Re;r!=-1;r=this.j.Rf(r)){var o=this.j.Me(r),l=o;if(o!=-1)do{if(this.j.Ab(l,c)!=1){var d=this.j.xa(l);this.j.Kb(d,c,1),this.j.Kb(l,c,1),this.cf(this.j.af(l))&&this.cf(this.j.af(d))&&a.add(l)}l=this.j.jc(this.j.xa(l))}while(l!=o)}this.j.Jg(c),this.j.JP(a)},x.prototype.sm=function(c,a){return a==-1?c:this.aS(c,a)},x.prototype.aS=function(c,a){var r=this.j.g,o=this.j.km(this.j.Le(c));do{var l=this.j.tj(o);if(r.Qf(r.bd(l))==a)return l;o=this.j.js(o)}while(o!=-1);return c},x.prototype.Ot=function(c,a,r){this.eF();var o=this.j.g,l=o.Ig(1736),d=this.j.$g();return this.uK(c,a,l,r,d,-1),this.j.Jg(d),h.rn.V(o,l,1,this.Mv,null),l},x.prototype.uK=function(c,a,r,o,l,d){for(this.ME(c,r,l,d,o),a!=-1&&this.ME(a,r,l,d,o),c=this.j.g,a=this.j.Re;a!=-1;a=this.j.Rf(a)){var f=this.j.Me(a);if(f!=-1){var m=f;do{var b=this.j.Ab(m,l);if(b!=1&&b!=2)if(this.cf(this.j.af(m))){b=c.vf(r,-1);var _=m;do{var $=this.j.mm(_);$!=-1?$=this.j.tj($):($=this.j.tj(this.j.mm(this.j.xa(_))),$=this.j.g.U($)),$=this.sm($,o),c.ij(b,$),this.j.Kb(_,l,1),d!=-1&&($=this.j.Le($),this.j.nn($,d,1)),_=this.j.jc(_)}while(_!=m);c.kn(b,!0)}else this.j.Kb(m,l,2);m=this.j.jc(this.j.xa(m))}while(m!=f)}}},x.prototype.aY=function(c,a,r){var o=this.j.g,l=o.Ig(1736),d=o.Ig(1607),f=o.Ig(550);this.eF();var m=-1,b=this.j.$g(),_=this.j.Dp();for(this.uK(c,a,l,r,b,_),c=this.j.Re;c!=-1;c=this.j.Rf(c))if((a=this.j.Me(c))!=-1){var $=a;do{var C=this.j.Ab($,b),P=this.j.Ab(this.j.xa($),b);if((C|=P)==2)if(C=this.j.dh($),this.cf(C)){var L=o.vf(d,-1),V=$;C=this.Yw(c,o),C=this.sm(C,r),o.ij(L,C),this.j.nn(c,_,1);do{if(C=this.j.uf(V),P=this.Yw(C,o),P=this.sm(P,r),o.ij(L,P),this.j.Kb(V,b,1),this.j.Kb(this.j.xa(V),b,1),this.j.nn(C,_,1),V=this.j.jc(V),C=this.j.Ab(V,b),(C|=P=this.j.Ab(this.j.xa(V),b))!=2)break;if(C=this.j.dh(V),!this.cf(C)){this.j.Kb(V,b,1),this.j.Kb(this.j.xa(V),b,1);break}}while(V!=$)}else this.j.Kb($,b,1),this.j.Kb(this.j.xa($),b,1);$=this.j.jc(this.j.xa($))}while($!=a)}for(c=this.j.Re;c!=-1;c=this.j.Rf(c))(C=this.j.ng(c,_))!=1&&(C=this.j.xd(c),this.cf(C)&&(m==-1&&(m=o.vf(f,-1)),(a=this.j.km(c))!=-1&&(a=this.j.tj(a),C=this.sm(a,r),o.ij(m,C))));return this.j.Ep(_),this.j.Jg(b),h.rn.V(o,l,1,this.Mv,null),(r=[])[0]=f,r[1]=d,r[2]=l,r},x.prototype.Yw=function(c,a){var r=-1;for(c=this.j.km(c);c!=-1;c=this.j.js(c)){var o=this.j.tj(c);r==-1&&(r=o);var l=this.j.La(a.Qf(a.bd(o)));if(this.cf(l)){r=o;break}}return r},x.prototype.lB=function(c,a){for(var r=this.jl(a),o=this.j.jk(a),l=this.j.uf(a),d=0,f=0,m=this.j.km(o);m!=-1;m=this.j.js(m)){var b=this.j.tj(m),_=c.bd(b),$=this.j.La(c.Qf(_));_=c.Xa(_),($=!!($&r))&&_==b&&(this.tl=a);var C=c.U(b);C!=-1&&this.j.Le(C)==l?(d++,$&&(this.tl===-1&&_==C&&(b=this.j.jc(a),this.cf(this.jl(b))&&(this.tl=b)),f++)):(b=c.Ma(b))!=-1&&this.j.Le(b)==l&&(d--,$&&(this.tl===-1&&_===b&&(b=this.j.jc(a),this.cf(this.jl(b))&&(this.tl=b)),f--))}return this.j.D(o,this.oH),this.j.D(l,this.pH),(f!=0?f:d)*(c=h.h.tb(this.oH,this.pH))},x.prototype.jl=function(c){return this.j.dh(c)|this.j.af(c)|this.j.af(this.j.xa(c))},x.prototype.xK=function(c){for(var a=this.j.xa(this.j.te(c)),r=-1;a!=c;){if(this.cf(this.jl(a))){if(r!=-1)return-1;r=a}a=this.j.xa(this.j.te(a))}return r!=-1?this.j.xa(r):-1},x.prototype.yK=function(c){for(var a=this.j.xa(this.j.jc(c)),r=-1;a!=c;){if(this.cf(this.jl(a))){if(r!=-1)return-1;r=a}a=this.j.xa(this.j.jc(a))}return r!=-1?this.j.xa(r):-1},x.prototype.mJ=function(c,a,r,o,l){var d=this.j.g,f=c,m=this.j.xa(f);this.j.Kb(f,r,1),this.j.Kb(m,r,1),this.tl=-1;for(var b=this.lB(d,f),_=f,$=-1,C=!1,P=1;;){var L=this.j.te(f);if(L==m)break;if(m=this.j.jc(m),this.j.xa(L)!=m){if((f=this.xK(f))==-1){C=!0;break}m=this.j.xa(f)}else f=L;if(f==c){$=c;break}if(L=this.jl(f),!this.cf(L))break;this.j.Kb(f,r,1),this.j.Kb(m,r,1),_=f,b+=this.lB(d,f),P++}if($==-1)for(f=c,m=this.j.xa(f),$=f;(c=this.j.jc(f))!=m;){if(m=this.j.te(m),this.j.xa(c)!=m){if((f=this.yK(f))==-1){C=!0;break}m=this.j.xa(f)}else f=c;if(L=this.jl(f),!this.cf(L))break;this.j.Kb(f,r,1),this.j.Kb(m,r,1),$=f,b+=this.lB(d,f),P++}else if(this.tl!=-1&&(_=this.tl,$=this.j.te(this.tl),this.j.xa($)!=this.j.jc(this.j.xa(_))&&($=this.xK(_))==-1))throw h.i.Qa();for(0<=b||(f=$,$=this.j.xa(_),_=this.j.xa(f)),r=d.vf(a,-1),f=_,_=this.j.jk(_),C=this.j.uf($)==_&&C,b=this.Yw(_,d),b=this.sm(b,l),d.ij(r,b),o!=-1&&this.j.nn(_,o,1),_=0,P=C?h.O.truncate((P+1)/2):-1;c=this.j.uf(f),b=this.Yw(c,d),b=this.sm(b,l),d.ij(r,b),_++,o!=-1&&this.j.nn(c,o,1),C&&_==P&&(r=d.vf(a,-1),d.ij(r,b)),f!=$;)if(c=this.j.jc(f),this.j.te(this.j.xa(f))!=this.j.xa(c)){if((f=this.yK(f))==-1)throw h.i.Qa()}else f=c},x.prototype.Pt=function(c){for(var a=this.j.g.Ig(1607),r=this.j.$g(),o=this.j.Re;o!=-1;o=this.j.Rf(o)){var l=this.j.Me(o),d=l;do this.j.Ab(d,r)!=1&&this.cf(this.jl(d))&&this.mJ(d,a,r,-1,c),d=this.j.jc(this.j.xa(d));while(d!=l)}return this.j.Jg(r),a},x.prototype.bY=function(c){for(var a=this.j.g,r=a.Ig(1607),o=a.Ig(550),l=this.j.$g(),d=this.j.Dp(),f=-1,m=this.j.Re;m!=-1;m=this.j.Rf(m)){var b=this.j.Me(m),_=b;do{var $=this.j.Ab(_,l);$!=1&&($=this.jl(_),this.cf($)&&this.mJ(_,r,l,d,c)),_=this.j.jc(this.j.xa(_))}while(_!=b)}for(m=this.j.Re;m!=-1;m=this.j.Rf(m))($=this.j.ng(m,d))!=1&&($=this.j.xd(m),this.cf($)&&(f==-1&&(f=a.vf(o,-1)),(b=this.j.km(m))!=-1&&(b=this.j.tj(b),b=this.sm(b,c),a.ij(f,b))));return this.j.Jg(l),this.j.Ep(d),(c=[])[0]=o,c[1]=r,c},x.prototype.mr=function(){for(var c=this.j.g,a=c.Ig(550),r=c.vf(a,-1),o=this.j.Re;o!=-1;o=this.j.Rf(o))if(this.cf(this.j.xd(o))){for(var l=-1,d=this.j.km(o);d!=-1;d=this.j.js(d)){var f=this.j.tj(d);l==-1&&(l=f);var m=this.j.La(c.Qf(c.bd(f)));if(this.cf(m)){l=f;break}}c.ij(r,l)}return a},x.prototype.bq=function(c){this.Gj=[];for(var a=0;a<c;a++)this.Gj[a]=!1},x.aW=function(c,a,r){var o=c.Ia(),l=Array(1e3);h.O.$u(l,null);var d=h.O.lg(1e3,0),f=c.I(),m=!0,b=a.Db()==2;if(a.Db()!=1&&a.Db()!=2)throw h.i.Qa();for(var _=0;_<f;){var $=h.O.truncate(c.lW(l,_)-_);b?h.hd.sK(a,l,$,r,d):h.hd.tK(a,l,$,r,d);for(var C=0,P=0;P<$;P++)d[P]==0&&(m&&(m=!1,o.Fd(c,0,_)),C!=P&&o.Fd(c,_+C,_+P),C=P+1);m||C==$||o.Fd(c,_+C,_+$),_+=$}return m?c:o},x.zG=function(c,a,r){return c instanceof h.de?x.aW(c,a,r):a instanceof h.Sa?c.B()||a.B()?c.Ia():h.Tk.zU(r,c,a)?h.Tk.CO(c,a):c.Ia():x.bW(c,a,r)},x.Av=function(c,a,r,o){var l=new h.l;c.A(l);var d=new h.l;a.A(d);var f=new h.l;if(f.K(l),f.Zb(d),r=h.ta.Wd(r,f,!0),(f=new h.l).K(d),d=h.ta.Er(r),f.W(d,d),!l.isIntersecting(f)){if(c.Db()<=a.Db())return x.ki(x.Xe(c.Ia()),c,"&");if(c.Db()>a.Db())return x.ki(x.Xe(a.Ia()),c,"&")}return d=new x,f=(l=new h.gd).Ib(x.Xe(c)),a=l.Ib(x.Xe(a)),d.Ft(l,r,o),o=d.Av(f,a),c=x.ki(l.Ne(o),c,"&"),h.aa.Hc(c.getType())&&(c.Ch(2,r),c.getType()==1736&&c.fm()),c},x.bW=function(c,a,r){if(c.B()||a.B())return c.Ia();var o=[null],l=[0],d=a.Db()==2;if(a.Db()!=1&&a.Db()!=2)throw h.i.Qa();return o[0]=c.D(),d?h.hd.sK(a,o,1,r,l):h.hd.tK(a,o,1,r,l),l[0]==0?c.Ia():c},x.prototype.LU=function(c,a,r,o,l){if(c.B())return c;var d=new h.gd;return c=d.Ib(c),this.Mk(d,c,a,r,o,l)},x.prototype.NU=function(c,a,r,o,l,d){if(l&&c.ic(a)!=550){var f=new h.RC;f.TX(c,r),f.Ng?(h.Tk.V(c,r,d,!0),l=!1):this.j.yy(r)}else h.Tk.V(c,r,d,!0),l=!1;if(o&&c.ic(a)!=550?this.j.wJ(c,a,d):this.j.vJ(c,a,d),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(c,a,r,o,!1,d);if(this.j.yy(NaN),d=this.j.La(a),this.bq(d+1),this.Gj[d]=!0,c.ic(a)==1736||o&&c.ic(a)!=550)return c.Yo(a,0),a=this.Ot(a,-1,-1),(c=c.Ne(a)).Yo(0),l?c.Ch(1,0):(c.Ch(2,r),c.fm()),c;if(c.ic(a)==1607)return a=this.Pt(-1),c=c.Ne(a),l||c.Ch(2,r),c;if(c.ic(a)==550)return a=this.mr(),c=c.Ne(a),l||c.Ch(2,r),c;throw h.i.Qa()},x.prototype.Mk=function(c,a,r,o,l,d){this.j=new h.iu;try{return this.NU(c,a,r,o,l,d)}finally{this.j.Ug()}},x.Mk=function(c,a,r,o,l){return new x().LU(c,a,r,o,l)},x.prototype.MU=function(c,a,r,o){this.Mv=c,this.j=new h.iu,c=a.In(r);var l=a.ic(r);if(c!=1||l==550?this.j.vJ(a,r,o):this.j.wJ(a,r,o),!this.j.pA)if(this.j.yy(NaN),o=this.j.La(r),this.bq(o+1),this.Gj[o]=!0,a.ic(r)==1736||c==1&&a.ic(r)!=550)a.Yo(r,0),o=this.Ot(r,-1,-1),a.hC(o,r),a.BB(o);else if(a.ic(r)==1607)o=this.Pt(-1),a.hC(o,r),a.BB(o);else{if(a.ic(r)!=550)throw h.i.fa("internal error");o=this.mr(),a.hC(o,r),a.BB(o)}},x.prototype.im=function(c,a){var r=h.aa.tf(this.j.g.ic(c)),o=h.aa.tf(this.j.g.ic(a));if(r>o)return c;var l=this.j.La(c),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(c)]=!0,r==2&&o==2)return this.Ot(c,a,-1);if(r==1&&o==2||r==1&&o==1)return this.Pt(-1);if(r==0)return this.mr();throw h.i.Qa()},x.prototype.Av=function(c,a){var r=h.aa.tf(this.j.g.ic(c)),o=h.aa.tf(this.j.g.ic(a)),l=this.j.La(c),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(c)|this.j.La(a)]=!0,l=-1,1<this.j.g.ht.Aa&&(l=c),r==2&&o==2)return this.Ot(c,a,l);if(r==1&&0<o||o==1&&0<r)return this.Pt(l);if(r==0||o==0)return this.mr();throw h.i.Qa()},x.prototype.Pz=function(c,a){var r=h.aa.tf(this.j.g.ic(c)),o=h.aa.tf(this.j.g.ic(a)),l=this.j.La(c),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(c)|this.j.La(a)]=!0,l=-1,1<this.j.g.ht.Aa&&(l=c),r==2&&o==2)return this.aY(c,a,l);if(r==1&&0<o||o==1&&0<r)return this.bY(l);if(r==0||o==0)return(c=[])[0]=this.mr(),c;throw h.i.Qa()},x.prototype.ep=function(c,a){var r=h.aa.tf(this.j.g.ic(c)),o=h.aa.tf(this.j.g.ic(a)),l=this.j.La(c),d=this.j.La(a);if(this.bq(1+(l|d)),this.Gj[this.j.La(c)]=!0,this.Gj[this.j.La(a)]=!0,r==2&&o==2)return this.Ot(c,a,-1);if(r==1&&o==1)return this.Pt(-1);if(r==0&&o==0)return this.mr();throw h.i.Qa()},x.Xe=function(c){var a=c.getType();return a==197?(a=new h.Da(c.description),c.B()||a.ad(c,!1),a):a==33?(a=new h.de(c.description),c.B()||a.add(c),a):a==322?(a=new h.Ta(c.description),c.B()||a.oc(c,!0),a):c},x.ki=function(c,a,r){var o=c.getType();return o==197?(a=new h.Da(c.description),c.B()||a.ad(c,!1),a):o!=33||r!="|"&&r!="^"?o==322?(a=new h.Ta(c.description),c.B()||a.oc(c,!0),a):o==33&&r=="-"&&a.getType()==33||o==550&&r=="&"&&a.getType()==33?(a=new h.Sa(c.description),c.B()||c.ve(0,a),a):c:(a=new h.de(c.description),c.B()||a.add(c),a)},x.im=function(c,a,r,o){if(c.B()||a.B()||c.Db()>a.Db())return x.ki(x.Xe(c),c,"-");var l=new h.l;c.A(l);var d=new h.l;if(a.A(d),!l.isIntersecting(d))return x.ki(x.Xe(c),c,"-");var f=new h.l;return f.K(l),f.Zb(d),r=h.ta.Wd(r,f,!0),d=new x,f=(l=new h.gd).Ib(x.Xe(c)),a=l.Ib(x.Xe(a)),d.Ft(l,r,o),o=d.im(f,a),o=l.Ne(o),c=x.ki(o,c,"-"),h.aa.Hc(c.getType())&&(c.Ch(2,r),c.getType()==1736&&c.fm()),c},x.VP=function(c,a,r){if(2>c.length)throw h.i.N("not enough geometries to dissolve");for(var o=0,l=0,d=c.length;l<d;l++)o=Math.max(c[l].Db(),o);var f=new h.l;f.Oa();var m=new h.gd,b=-1,_=0,$=-1;for(l=0,d=c.length;l<d;l++)if(c[l].Db()==o)if(c[l].B())$==-1&&($=l);else{$=l,b==-1?b=m.Ib(x.Xe(c[l])):m.uN(b,x.Xe(c[l]));var C=new h.l;c[l].xc(C),f.Zb(C),_++}return 2>_?x.Xe(c[$]):(c=o==2,a=h.ta.Wd(o==0?a:null,f,!0),new x().Mk(m,b,a,c,!0,r))},x.Pz=function(c,a,r,o){var l=[null,null,null],d=new h.l;c.A(d);var f=new h.l;a.A(f);var m=new h.l;if(m.K(d),m.Zb(f),r=h.ta.Wd(r,m,!0),(m=new h.l).K(f),f=h.ta.Er(r),m.W(f,f),!d.isIntersecting(m)){if(c.Db()<=a.Db())return l[(c=x.ki(x.Xe(c.Ia()),c,"&")).Db()]=c,l;if(c.Db()>a.Db())return l[(c=x.ki(x.Xe(a.Ia()),c,"&")).Db()]=c,l}for(f=new x,m=(d=new h.gd).Ib(x.Xe(c)),a=d.Ib(x.Xe(a)),f.Ft(d,r,o),o=f.Pz(m,a),a=0;a<o.length;a++)f=x.ki(d.Ne(o[a]),c,"&"),h.aa.Hc(f.getType())&&(f.Ch(2,r),f.getType()==1736&&f.fm()),l[f.Db()]=f;return l},x.ep=function(c,a,r,o){if(c.Db()>a.Db())return x.ki(x.Xe(c),c,"^");if(c.Db()<a.Db()||c.B())return x.ki(x.Xe(a),c,"^");if(a.B())return x.ki(x.Xe(c),c,"^");var l=new h.l;c.A(l);var d=new h.l;a.A(d);var f=new h.l;return f.K(l),f.Zb(d),r=h.ta.Wd(r,f,!0),d=new x,f=(l=new h.gd).Ib(x.Xe(c)),a=l.Ib(x.Xe(a)),d.Ft(l,r,o),o=d.ep(f,a),c=x.ki(l.Ne(o),c,"^"),h.aa.Hc(c.getType())&&(c.Ch(2,r),c.getType()==1736&&c.fm()),c},x.prototype.LQ=function(c,a){var r=this.j.g;c=r.vf(c,-1);for(var o=a.size,l=0;l<o;l++){var d=a.get(l);r.ij(c,d)}r.kn(c,!0)},x.prototype.aX=function(c,a){for(var r=this.j.g,o=r.ld;o!=-1;o=r.ue(o))if(o==a)for(var l=r.Ob(o);l!=-1;l=r.Rb(l)){var d=r.Xa(l);if(d!=-1)for(var f=r.U(d);f!=-1;){d=this.j.Le(d);var m=this.j.Le(f);(d=this.j.tR(d,m))!=-1&&(m=this.j.xa(d),this.j.Kb(d,c,1),this.j.Kb(m,c,2)),d=f,f=r.U(d)}}},x.prototype.cW=function(c,a,r,o){r=this.j.La(r),o=this.j.La(o);var l=new h.ia(0);l.Jb(256);for(var d=this.j.g,f=this.j.$g(),m=this.j.Re;m!=-1;m=this.j.Rf(m)){var b=this.j.Me(m);if(b!=-1){var _=b;do{if(this.j.Ab(_,f)!=1){var $=_,C=_,P=!1,L=0;do{if(this.j.Kb($,f,1),!P){var V=this.j.dh($);V&o&&this.j.af($)&r&&(C=$,P=!0)}P&&(l.add(this.j.tj(this.j.km(this.j.jk($)))),c!=-1&&(V=this.j.dh($))&o&&(L|=V=this.j.Ab($,c))),$=this.j.jc($)}while($!=C);P&&0<this.j.Kp(this.j.$e(C))&&($=d.Ig(1736),this.LQ($,l),a!=-1&&d.HJ($,a,L)),l.clear(!1)}_=this.j.jc(this.j.xa(_))}while(_!=b)}}this.j.Jg(f)},x.prototype.FP=function(c,a,r,o){this.j.yW();var l=-1;c!=-1&&(l=this.j.$g(),this.aX(l,r)),this.cW(l,c,a,r),l!=-1&&(this.j.Jg(l),l=-1);var d=this.j.g;for(c=0,l=d.ld;l!=-1;l=d.ue(l))l!=a&&l!=r&&(o.add(l),c++);o.Vd(0,c,function(f,m){return(f=d.wz(d.Ob(f)))<(m=d.wz(d.Ob(m)))?-1:f==m?0:1})},x.prototype.Ug=function(){this.j!=null&&(this.j.Ug(),this.j=null)},x}();h.Fg=N}(re||(re={})),function(h){var N=function(){function x(c){c!==void 0?this.setScale(c):this.RB()}return x.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},x.prototype.Nb=function(c){return this==c||c instanceof x&&this.bb==c.bb&&this.eb==c.eb&&this.Gb==c.Gb&&this.jb==c.jb&&this.ab==c.ab&&this.Lb==c.Lb},x.prototype.cc=function(){return h.O.uj(),h.O.uj(),h.O.uj(),h.O.uj(),h.O.uj(),h.O.uj()},x.prototype.Eh=function(c,a){var r=this.jb*c.x+this.ab*c.y+this.Lb;a.x=this.bb*c.x+this.eb*c.y+this.Gb,a.y=r},x.prototype.eY=function(c,a,r){for(var o=0;o<a;o++){var l=c[o].x,d=c[o].y,f=this.bb*l+this.eb*d+this.Gb;l=this.jb*l+this.ab*d+this.Lb,r[o]!=null?r[o].ma(f,l):r[o]=h.h.construct(f,l)}},x.prototype.multiply=function(c){x.multiply(this,c,this)},x.multiply=function(c,a,r){var o=c.bb*a.bb+c.jb*a.eb,l=c.eb*a.bb+c.ab*a.eb,d=c.Gb*a.bb+c.Lb*a.eb+a.Gb,f=c.bb*a.jb+c.jb*a.ab,m=c.eb*a.jb+c.ab*a.ab;c=c.Gb*a.jb+c.Lb*a.ab+a.Lb,r.bb=o,r.eb=l,r.Gb=d,r.jb=f,r.ab=m,r.Lb=c},x.prototype.Of=function(){var c=new x;return c.bb=this.bb,c.eb=this.eb,c.Gb=this.Gb,c.jb=this.jb,c.ab=this.ab,c.Lb=this.Lb,c},x.prototype.mC=function(c){if(!c.B()){for(var a=[],r=0;4>r;r++)a[r]=new h.h;c.nB(a),this.fY(a,a),c.Zw(a,4)}},x.prototype.fY=function(c,a){for(var r=0;r<c.length;r++){var o=new h.h,l=c[r];o.x=this.bb*l.x+this.eb*l.y+this.Gb,o.y=this.jb*l.x+this.ab*l.y+this.Lb,a[r]=o}},x.prototype.pS=function(c,a){c.B()||a.B()||c.R()==0||c.ca()==0?this.lx():(this.eb=this.jb=0,this.bb=a.R()/c.R(),this.ab=a.ca()/c.ca(),this.Gb=a.v-c.v*this.bb,this.Lb=a.G-c.G*this.ab)},x.prototype.dY=function(c){var a=new h.h,r=new h.h;a.ma(this.bb,this.jb),r.ma(this.eb,this.ab),a.sub(a);var o=.5*a.Sk();return a.ma(this.bb,this.jb),r.ma(this.eb,this.ab),a.add(r),c*(o>(a=.5*a.Sk())?Math.sqrt(o):Math.sqrt(a))},x.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},x.prototype.isIdentity=function(c){if(c!==void 0){var a=h.h.construct(0,1);return this.Eh(a,a),a.sub(h.h.construct(0,1)),a.Sk()>c*c?!1:(a.ma(0,0),this.Eh(a,a),!(a.Sk()>c*c)&&(a.ma(1,0),this.Eh(a,a),a.sub(h.h.construct(1,0)),a.Sk()<=c*c))}return this.bb==1&&this.ab==1&&this.eb==0&&this.Gb==0&&this.jb==0&&this.Lb==0},x.prototype.Bi=function(c){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*c*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},x.prototype.gg=function(c,a){this.bb=1,this.eb=0,this.Gb=c,this.jb=0,this.ab=1,this.Lb=a},x.prototype.setScale=function(c,a){a!==void 0?(this.bb=c,this.jb=this.Gb=this.eb=0,this.ab=a,this.Lb=0):this.setScale(c,c)},x.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},x.prototype.setRotate=function(c){this.pX(Math.cos(c),Math.sin(c))},x.prototype.pX=function(c,a){this.bb=c,this.eb=-a,this.Gb=0,this.jb=a,this.ab=c,this.Lb=0},x.prototype.shift=function(c,a){this.Gb+=c,this.Lb+=a},x.prototype.scale=function(c,a){this.bb*=c,this.eb*=c,this.Gb*=c,this.jb*=a,this.ab*=a,this.Lb*=a},x.prototype.flipX=function(c,a){this.bb=-this.bb,this.eb=-this.eb,this.Gb=c+a-this.Gb},x.prototype.flipY=function(c,a){this.jb=-this.jb,this.ab=-this.ab,this.Lb=c+a-this.Lb},x.prototype.rotate=function(c){var a=new x;a.setRotate(c),this.multiply(a)},x.prototype.inverse=function(c){if(c!==void 0){var a=this.bb*this.ab-this.eb*this.jb;a==0?c.lx():(a=1/a,c.Gb=(this.eb*this.Lb-this.Gb*this.ab)*a,c.Lb=(this.Gb*this.jb-this.bb*this.Lb)*a,c.bb=this.ab*a,c.eb=-this.eb*a,c.jb=-this.jb*a,c.ab=this.bb*a)}else this.inverse(this)},x}();h.Dd=N}(re||(re={})),function(h){var N=function(){function x(){}return x.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},x.prototype.setScale=function(c,a,r){this.bb=c,this.eb=this.Ze=this.jb=0,this.ab=a,this.Fe=this.Ee=this.Ge=0,this.He=r,this.hg=this.Lb=this.Gb=0},x.prototype.setTranslate=function(c,a,r){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=c,this.Lb=a,this.hg=r},x.prototype.translate=function(c,a,r){this.Gb+=c,this.Lb+=a,this.hg+=r},x.prototype.mC=function(c){if(!c.B()){for(var a=new h.Nd[8],r=0;8>r;r++)a[r]=new h.Nd;c.nB(a),this.transform(a,8,a),c.Zw(a)}},x.prototype.transform=function(c,a,r){for(var o=0;o<a;o++){var l=new h.Nd,d=c[o];l.x=this.bb*d.x+this.eb*d.y+this.Ee*d.z+this.Gb,l.y=this.jb*d.x+this.ab*d.y+this.Fe*d.z+this.Lb,l.z=this.Ze*d.x+this.Ge*d.y+this.He*d.z+this.hg,r[o]=l}},x.prototype.fp=function(c){var a=new h.Nd;return a.x=this.bb*c.x+this.eb*c.y+this.Ee*c.z+this.Gb,a.y=this.jb*c.x+this.ab*c.y+this.Fe*c.z+this.Lb,a.z=this.Ze*c.x+this.Ge*c.y+this.He*c.z+this.hg,a},x.prototype.Ag=function(c){x.multiply(this,c,this)},x.multiply=function(c,a,r){var o=c.bb*a.bb+c.jb*a.eb+c.Ze*a.Ee,l=c.bb*a.jb+c.jb*a.ab+c.Ze*a.Fe,d=c.bb*a.Ze+c.jb*a.Ge+c.Ze*a.He,f=c.eb*a.bb+c.ab*a.eb+c.Ge*a.Ee,m=c.eb*a.jb+c.ab*a.ab+c.Ge*a.Fe,b=c.eb*a.Ze+c.ab*a.Ge+c.Ge*a.He,_=c.Ee*a.bb+c.Fe*a.eb+c.He*a.Ee,$=c.Ee*a.jb+c.Fe*a.ab+c.He*a.Fe,C=c.Ee*a.Ze+c.Fe*a.Ge+c.He*a.He,P=c.Gb*a.bb+c.Lb*a.eb+c.hg*a.Ee+a.Gb,L=c.Gb*a.jb+c.Lb*a.ab+c.hg*a.Fe+a.Lb;c=c.Gb*a.Ze+c.Lb*a.Ge+c.hg*a.He+a.hg,r.bb=o,r.jb=l,r.Ze=d,r.eb=f,r.ab=m,r.Ge=b,r.Ee=_,r.Fe=$,r.He=C,r.Gb=P,r.Lb=L,r.hg=c},x.inverse=function(c,a){var r=c.bb*(c.ab*c.He-c.Ge*c.Fe)-c.jb*(c.eb*c.He-c.Ge*c.Ee)+c.Ze*(c.eb*c.Fe-c.ab*c.Ee);if(r==0)throw h.i.fa("math singularity");var o=1/r;r=(c.ab*c.He-c.Ge*c.Fe)*o;var l=-(c.eb*c.He-c.Ge*c.Ee)*o,d=(c.eb*c.Fe-c.ab*c.Ee)*o,f=-(c.jb*c.He-c.Fe*c.Ze)*o,m=(c.bb*c.He-c.Ze*c.Ee)*o,b=-(c.bb*c.Fe-c.jb*c.Ee)*o,_=(c.jb*c.Ge-c.Ze*c.ab)*o,$=-(c.bb*c.Ge-c.Ze*c.eb)*o;o*=c.bb*c.ab-c.jb*c.eb;var C=-(c.Gb*r+c.Lb*l+c.hg*d),P=-(c.Gb*f+c.Lb*m+c.hg*b);c=-(c.Gb*_+c.Lb*$+c.hg*o),a.bb=r,a.jb=f,a.Ze=_,a.eb=l,a.ab=m,a.Ge=$,a.Ee=d,a.Fe=b,a.He=o,a.Gb=C,a.Lb=P,a.hg=c},x.prototype.Of=function(){var c=new x;return c.bb=this.bb,c.jb=this.jb,c.Ze=this.Ze,c.eb=this.eb,c.ab=this.ab,c.Ge=this.Ge,c.Ee=this.Ee,c.Fe=this.Fe,c.He=this.He,c.Gb=this.Gb,c.Lb=this.Lb,c.hg=this.hg,c},x}();h.JY=N}(re||(re={})),function(h){var N=function(c){function a(r){if(r!==void 0)r=c.call(this,r.cc(),r)||this;else{(r=c.call(this)||this).bg=[],r.bg[0]=0,r.Aa=1,r.uh=[];for(var o=0;10>o;o++)r.uh[o]=-1;r.uh[r.bg[0]]=0}return r.jq=!0,r}return ci(a,c),a.prototype.re=function(r){this.hasAttribute(r)||(this.uh[r]=0,this.jD())},a.prototype.removeAttribute=function(r){if(r==0)throw h.i.N("Position attribue cannot be removed");this.hasAttribute(r)&&(this.uh[r]=-1,this.jD())},a.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var r=0;r<this.uh.length;r++)this.uh[r]=-1;this.uh[this.bg[0]]=0,this.jq=!0},a.prototype.EF=function(){return x.kz().add(this)},a.og=function(){return x.kz().$R()},a.prototype.tM=function(){var r=this.cc();return new h.ra(r,this)},a.prototype.jD=function(){for(var r=this.Aa=0,o=0;10>r;r++)0<=this.uh[r]&&(this.bg[o]=r,this.uh[r]=o,o++,this.Aa++);this.jq=!0},a.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},a.prototype.Nb=function(r){if(r==null)return!1;if(r==this)return!0;if(!(r instanceof a)||r.Aa!=this.Aa)return!1;for(var o=0;o<this.Aa;o++)if(this.bg[o]!=r.bg[o])return!1;return this.jq==r.jq},a.prototype.GG=function(r){if(r.Aa!=this.Aa)return!1;for(var o=0;o<this.Aa;o++)if(this.bg[o]!=r.bg[o])return!1;return!0},a.Iw=function(r,o){for(var l=[],d=0;d<r.Aa;d++)l[d]=-1;d=0;for(var f=r.Aa;d<f;d++)l[d]=o.Pf(r.kd(d));return l},a.BR=function(r,o){return(r=new a(r)).re(o),r.EF()},a.CR=function(r,o){for(var l=null,d=0;10>d;d++)!r.hasAttribute(d)&&o.hasAttribute(d)&&(l==null&&(l=new a(r)),l.re(d));return l!=null?l.EF():r},a}(h.ra);h.ee=N;var x=function(){function c(){this.map=[];var a=new N;this.add(a),(a=new N).re(1),this.add(a)}return c.kz=function(){return c.bL},c.prototype.$R=function(){return c.ft},c.prototype.add=function(a){var r=a.cc();if(c.ft!=null&&c.ft.cc()==r&&a.GG(c.ft))return c.ft;if(c.Dw!=null&&c.Dw.cc()==r&&a.GG(c.Dw))return c.Dw;var o=null;return this.map[r]!==void 0&&(o=this.map[r]),o==null&&((o=a.tM()).Aa==1?c.ft=o:o.Aa==2&&o.kd(1)==1?c.Dw=o:this.map[r]=o),o},c.bL=new c,c}()}(re||(re={}));var qo={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},Eu={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},qr=new(function(){function h(){this.RM=50,this.np=new Map,this.gj=[]}return h.prototype.clear=function(){this.gj.length=0,this.np.clear()},h.prototype.delete=function(N){return!!this.np.delete(N)&&(this.gj.splice(this.gj.indexOf(N),1),!0)},h.prototype.get=function(N){var x=this.np.get(N);if(x!==void 0)return this.gj[0]!==N&&(this.gj.splice(this.gj.indexOf(N),1),this.gj.unshift(N)),x},h.prototype.has=function(N){return this.np.has(N)},h.prototype.set=function(N,x){return this.get(N)!==void 0&&this.delete(N),this.gj.unshift(N),this.np.set(N,x),this.oM(),this},h.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var N=this.gj.pop();this.np.delete(N)}},h}()),pt=((Ci={}).convertJSONToGeometry=function(h){return re.$b.fP(h)},Ci.hasM=function(h){return h.hasAttribute(re.Ih.M)},Ci.hasZ=function(h){return h.hasAttribute(re.Ih.Z)},Ci.getPointX=function(h){return h.Lg()},Ci.getPointY=function(h){return h.ih()},Ci.getPointZ=function(h){return h.bS()},Ci.getPointM=function(h){return h.zR()},Ci.getXMin=function(h){return h.es()},Ci.getYMin=function(h){return h.gs()},Ci.getXMax=function(h){return h.ds()},Ci.getYMax=function(h){return h.fs()},Ci.getZExtent=function(h){return h.Tg(re.Ih.Z,0)},Ci.getMExtent=function(h){return h.Tg(re.Ih.M,0)},Ci.exportPaths=function(h){var N=[],x=h.da(),c=null,a=null,r=h.hasAttribute(re.Ih.Z),o=h.hasAttribute(re.Ih.M);r&&(c=h.ub(re.Ih.Z)),o&&(a=h.ub(re.Ih.M));for(var l=new re.h,d=0;d<x;d++){for(var f=h.Ba(d),m=h.Ja(d),b=0,_=0,$=NaN,C=NaN,P=NaN,L=NaN,V=h.dc(d),U=[],Y=f;Y<f+m;Y++){h.D(Y,l),L=P=NaN;var X=[l.x,l.y];r&&(P=c.get(Y),X.push(P)),o&&(L=a.get(Y),X.push(L)),Y==f&&V&&(b=l.x,_=l.y,$=P,C=L),U.push(X)}!V||b==l.x&&_==l.y&&(!r||isNaN($)&&isNaN(P)||$==P)&&(!o||isNaN(C)&&isNaN(L)||C==L)||U.push(U[0].slice(0)),N.push(U)}return N},Ci.exportPathsFlat=function(){},Ci.exportPoints=function(h){var N=h.hasAttribute(re.Ih.Z),x=h.hasAttribute(re.Ih.M),c=null,a=null;N&&(c=h.ub(re.Ih.Z)),x&&(a=h.ub(re.Ih.M));for(var r=new re.h,o=h.I(),l=[],d=0;d<o;d++){h.D(d,r);var f=[r.x,r.y];N&&f.push(c.get(d)),x&&f.push(a.get(d)),l.push(f)}return l},Ci.exportPointsFlat=function(){},Ci),eo=new Map;return function(){function h(){}return h.buffer=et,h.clip=I,h.contains=F,h.convexHull=Fe,h.crosses=q,h.cut=R,h.densify=$t,h.difference=He,h.disjoint=_e,h.distance=B,h.equals=K,h.extendedSpatialReferenceInfo=A,h.generalize=Xe,h.geodesicArea=Kt,h.geodesicBuffer=Ve,h.geodesicDensify=Mt,h.geodesicLength=xn,h.intersect=Qe,h.intersects=te,h.isSimple=pe,h.nearestCoordinate=st,h.nearestVertex=Tt,h.nearestVertices=Se,h.offset=Me,h.overlaps=we,h.planarArea=bt,h.planarLength=Yt,h.relate=xe,h.simplify=Ze,h.symmetricDifference=nt,h.touches=ce,h.union=De,h.within=ye,h.rotate=re.Ex.rotate,h.flipHorizontal=re.Ex.JQ,h.flipVertical=re.Ex.KQ,h.intersectLinesToPoints=wo,h.ExtendedParams=re.yC,h.clearDefaultSpatialReferenceTolerance=Ho,h.changeDefaultSpatialReferenceTolerance=ks,h._enableProjection=hi,h._project=mr,h._getTransformation=wt,h._getTransformationBySuitability=Ji,h}()}var i=t();i!==void 0&&(e.exports=i)}(iq)),iq.exports}var $re=rPe();const pi=iPe($re),sPe=nPe({__proto__:null,default:pi},[$re]),oPe=Object.freeze(Object.defineProperty({__proto__:null,G:pi,g:sPe},Symbol.toStringTag,{value:"Module"})),Di={convertToGEGeometry:aPe,exportPoint:lPe,exportPolygon:cPe,exportPolyline:uPe,exportMultipoint:hPe,exportExtent:dPe};function aPe(e,t){if(t==null)return null;let i="cache"in t?t.cache._geVersion:void 0;return i==null&&(i=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=i)),i}function lPe(e,t,i){const n=e.hasZ(t),s=e.hasM(t),u=new gi({x:e.getPointX(t),y:e.getPointY(t),spatialReference:i});return n&&(u.z=e.getPointZ(t)),s&&(u.m=e.getPointM(t)),u.cache._geVersion=t,u}function cPe(e,t,i){const n=new fo({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return n.cache._geVersion=t,n}function uPe(e,t,i){const n=new qh({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return n.cache._geVersion=t,n}function hPe(e,t,i){const n=new Pg({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:i});return n.cache._geVersion=t,n}function dPe(e,t,i){const n=e.hasZ(t),s=e.hasM(t),u=new Yn({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:i});if(n){const p=e.getZExtent(t);u.zmin=p.vmin,u.zmax=p.vmax}if(s){const p=e.getMExtent(t);u.mmin=p.vmin,u.mmax=p.vmax}return u.cache._geVersion=t,u}const fPe=Object.freeze(Object.defineProperty({__proto__:null,hydratedAdapter:Di},Symbol.toStringTag,{value:"Module"}));function ji(e){const t=Array.isArray(e)?e[0].spatialReference:e.spatialReference;return t?Vw(li,t):li.WGS84}function pPe(e){return pi.extendedSpatialReferenceInfo(e)}function mPe(e,t){return pi.clip(Di,ji(e),e,t)}function yPe(e,t){return pi.cut(Di,ji(e),e,t)}function gPe(e,t){return pi.contains(Di,ji(e),e,t)}function vPe(e,t){return pi.crosses(Di,ji(e),e,t)}function kre(e,t,i){return pi.distance(Di,ji(e),e,t,i)}function bPe(e,t){return pi.equals(Di,ji(e),e,t)}function wPe(e,t){return pi.intersects(Di,ji(e),e,t)}function xPe(e,t){return pi.touches(Di,ji(e),e,t)}function SPe(e,t){return pi.within(Di,ji(e),e,t)}function _Pe(e,t){return pi.disjoint(Di,ji(e),e,t)}function EPe(e,t){return pi.overlaps(Di,ji(e),e,t)}function TPe(e,t,i){return pi.relate(Di,ji(e),e,t,i)}function MPe(e){return pi.isSimple(Di,ji(e),e)}function Cre(e){return pi.simplify(Di,ji(e),e)}function $Pe(e,t=!1){return pi.convexHull(Di,ji(e),e,t)}function kPe(e,t){return pi.difference(Di,ji(e),e,t)}function CPe(e,t){return pi.symmetricDifference(Di,ji(e),e,t)}function APe(e,t){return pi.intersect(Di,ji(e),e,t)}function OPe(e,t=null){return pi.union(Di,ji(e),e,t)}function IPe(e,t,i,n,s,u){return pi.offset(Di,ji(e),e,t,i,n,s,u)}function PPe(e,t,i,n=!1){return pi.buffer(Di,ji(e),e,t,i,n)}function RPe(e,t,i,n,s,u){return pi.geodesicBuffer(Di,ji(e),e,t,i,n,s,u)}function DPe(e,t,i=!0){return pi.nearestCoordinate(Di,ji(e),e,t,i)}function NPe(e,t){return pi.nearestVertex(Di,ji(e),e,t)}function LPe(e,t,i,n){return pi.nearestVertices(Di,ji(e),e,t,i,n)}function lR(e){var t;return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?((t=e.extent)==null?void 0:t.center)??null:null}function zPe(e,t,i){if(e==null)throw new gg;const n=e.spatialReference;if((i=i??lR(e))==null)throw new gg;const s=e.constructor.fromJSON(pi.rotate(e,t,i));return s.spatialReference=n,s}function jPe(e,t){if(e==null)throw new gg;const i=e.spatialReference;if((t=t??lR(e))==null)throw new gg;const n=e.constructor.fromJSON(pi.flipHorizontal(e,t));return n.spatialReference=i,n}function FPe(e,t){if(e==null)throw new gg;const i=e.spatialReference;if((t=t??lR(e))==null)throw new gg;const n=e.constructor.fromJSON(pi.flipVertical(e,t));return n.spatialReference=i,n}function UPe(e,t,i,n){return pi.generalize(Di,ji(e),e,t,i,n)}function VPe(e,t,i){return pi.densify(Di,ji(e),e,t,i)}function GPe(e,t,i,n=0){return pi.geodesicDensify(Di,ji(e),e,t,i,n)}function HPe(e,t){return pi.planarArea(Di,ji(e),e,t)}function qPe(e,t){return pi.planarLength(Di,ji(e),e,t)}function BPe(e,t,i){return pi.geodesicArea(Di,ji(e),e,t,i)}function WPe(e,t,i){return pi.geodesicLength(Di,ji(e),e,t,i)}function JPe(e,t){return pi.intersectLinesToPoints(Di,ji(e),e,t)}function ZPe(e,t){pi.changeDefaultSpatialReferenceTolerance(e,t)}function YPe(e){pi.clearDefaultSpatialReferenceTolerance(e)}let gg=class extends Error{constructor(){super("Illegal Argument Exception")}};const OJe=Object.freeze(Object.defineProperty({__proto__:null,buffer:PPe,changeDefaultSpatialReferenceTolerance:ZPe,clearDefaultSpatialReferenceTolerance:YPe,clip:mPe,contains:gPe,convexHull:$Pe,crosses:vPe,cut:yPe,densify:VPe,difference:kPe,disjoint:_Pe,distance:kre,equals:bPe,extendedSpatialReferenceInfo:pPe,flipHorizontal:jPe,flipVertical:FPe,generalize:UPe,geodesicArea:BPe,geodesicBuffer:RPe,geodesicDensify:GPe,geodesicLength:WPe,intersect:APe,intersectLinesToPoints:JPe,intersects:wPe,isSimple:MPe,nearestCoordinate:DPe,nearestVertex:NPe,nearestVertices:LPe,offset:IPe,overlaps:EPe,planarArea:HPe,planarLength:qPe,relate:TPe,rotate:zPe,simplify:Cre,symmetricDifference:CPe,touches:xPe,union:OPe,within:SPe},Symbol.toStringTag,{value:"Module"}));function KPe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function XPe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function QPe(e,t,i,n,s,u,p){return e[0]=t,e[1]=i,e[2]=n,e[3]=s,e[4]=u,e[5]=p,e}function Are(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=t[4],g=t[5];let w=i*u-n*s;return w?(w=1/w,e[0]=u*w,e[1]=-n*w,e[2]=-s*w,e[3]=i*w,e[4]=(s*g-u*p)*w,e[5]=(n*p-i*g)*w,e):null}function eRe(e){return e[0]*e[3]-e[1]*e[2]}function Ore(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=i[0],A=i[1],I=i[2],R=i[3],F=i[4],q=i[5];return e[0]=n*E+u*A,e[1]=s*E+p*A,e[2]=n*I+u*R,e[3]=s*I+p*R,e[4]=n*F+u*q+g,e[5]=s*F+p*q+w,e}function tRe(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=Math.sin(i),A=Math.cos(i);return e[0]=n*A+u*E,e[1]=s*A+p*E,e[2]=n*-E+u*A,e[3]=s*-E+p*A,e[4]=g,e[5]=w,e}function iRe(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=i[0],A=i[1];return e[0]=n*E,e[1]=s*E,e[2]=u*A,e[3]=p*A,e[4]=g,e[5]=w,e}function nRe(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=t[4],w=t[5],E=i[0],A=i[1];return e[0]=n,e[1]=s,e[2]=u,e[3]=p,e[4]=n*E+u*A+g,e[5]=s*E+p*A+w,e}function rRe(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=-i,e[3]=n,e[4]=0,e[5]=0,e}function sRe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oRe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function aRe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function lRe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function cRe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function Ire(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function uRe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function hRe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e}function dRe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function fRe(e,t){const i=e[0],n=e[1],s=e[2],u=e[3],p=e[4],g=e[5],w=t[0],E=t[1],A=t[2],I=t[3],R=t[4],F=t[5],q=Cr();return Math.abs(i-w)<=q*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(n-E)<=q*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(s-A)<=q*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(u-I)<=q*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(p-R)<=q*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(g-F)<=q*Math.max(1,Math.abs(g),Math.abs(F))}const pRe=Ore,mRe=Ire;Object.freeze(Object.defineProperty({__proto__:null,add:cRe,copy:KPe,determinant:eRe,equals:fRe,exactEquals:dRe,frob:lRe,fromRotation:rRe,fromScaling:sRe,fromTranslation:oRe,identity:XPe,invert:Are,mul:pRe,multiply:Ore,multiplyScalar:uRe,multiplyScalarAndAdd:hRe,rotate:tRe,scale:iRe,set:QPe,str:aRe,sub:mRe,subtract:Ire,translate:nRe},Symbol.toStringTag,{value:"Module"}));function yRe(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Pre(e,t,i){i*=.5;const n=Math.sin(i);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(i),e}function gRe(e,t){const i=2*Math.acos(t[3]),n=Math.sin(i/2);return n>Cr()?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),i}function Rre(e,t,i){const n=t[0],s=t[1],u=t[2],p=t[3],g=i[0],w=i[1],E=i[2],A=i[3];return e[0]=n*A+p*g+s*E-u*w,e[1]=s*A+p*w+u*g-n*E,e[2]=u*A+p*E+n*w-s*g,e[3]=p*A-n*g-s*w-u*E,e}function vRe(e,t,i){i*=.5;const n=t[0],s=t[1],u=t[2],p=t[3],g=Math.sin(i),w=Math.cos(i);return e[0]=n*w+p*g,e[1]=s*w+u*g,e[2]=u*w-s*g,e[3]=p*w-n*g,e}function bRe(e,t,i){i*=.5;const n=t[0],s=t[1],u=t[2],p=t[3],g=Math.sin(i),w=Math.cos(i);return e[0]=n*w-u*g,e[1]=s*w+p*g,e[2]=u*w+n*g,e[3]=p*w-s*g,e}function wRe(e,t,i){i*=.5;const n=t[0],s=t[1],u=t[2],p=t[3],g=Math.sin(i),w=Math.cos(i);return e[0]=n*w+s*g,e[1]=s*w-n*g,e[2]=u*w+p*g,e[3]=p*w-u*g,e}function xRe(e,t){const i=t[0],n=t[1],s=t[2];return e[0]=i,e[1]=n,e[2]=s,e[3]=Math.sqrt(Math.abs(1-i*i-n*n-s*s)),e}function $S(e,t,i,n){const s=t[0],u=t[1],p=t[2],g=t[3];let w,E,A,I,R,F=i[0],q=i[1],B=i[2],K=i[3];return E=s*F+u*q+p*B+g*K,E<0&&(E=-E,F=-F,q=-q,B=-B,K=-K),1-E>Cr()?(w=Math.acos(E),A=Math.sin(w),I=Math.sin((1-n)*w)/A,R=Math.sin(n*w)/A):(I=1-n,R=n),e[0]=I*s+R*F,e[1]=I*u+R*q,e[2]=I*p+R*B,e[3]=I*g+R*K,e}function SRe(e){const t=l3,i=t(),n=t(),s=t(),u=Math.sqrt(1-i),p=Math.sqrt(i);return e[0]=u*Math.sin(2*Math.PI*n),e[1]=u*Math.cos(2*Math.PI*n),e[2]=p*Math.sin(2*Math.PI*s),e[3]=p*Math.cos(2*Math.PI*s),e}function Dre(e,t){const i=t[0],n=t[1],s=t[2],u=t[3],p=i*i+n*n+s*s+u*u,g=p?1/p:0;return e[0]=-i*g,e[1]=-n*g,e[2]=-s*g,e[3]=u*g,e}function _Re(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Nre(e,t){const i=t[0]+t[4]+t[8];let n;if(i>0)n=Math.sqrt(i+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{let s=0;t[4]>t[0]&&(s=1),t[8]>t[3*s+s]&&(s=2);const u=(s+1)%3,p=(s+2)%3;n=Math.sqrt(t[3*s+s]-t[3*u+u]-t[3*p+p]+1),e[s]=.5*n,n=.5/n,e[3]=(t[3*u+p]-t[3*p+u])*n,e[u]=(t[3*u+s]+t[3*s+u])*n,e[p]=(t[3*p+s]+t[3*s+p])*n}return e}function ERe(e,t,i,n){const s=.5*Math.PI/180;t*=s,i*=s,n*=s;const u=Math.sin(t),p=Math.cos(t),g=Math.sin(i),w=Math.cos(i),E=Math.sin(n),A=Math.cos(n);return e[0]=u*w*A-p*g*E,e[1]=p*g*A+u*w*E,e[2]=p*w*E-u*g*A,e[3]=p*w*A+u*g*E,e}function TRe(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}const MRe=lg,$Re=aP,kRe=aee,CRe=Rre,ARe=hee,ORe=uP,IRe=y6,Lre=lP,PRe=Lre,zre=cP,RRe=zre,cR=pee,DRe=mee,NRe=c3;function jre(e,t,i){const n=Ii(t,i);return n<-.999999?(pr(Dc,LRe,t),Zie(Dc)<1e-6&&pr(Dc,zRe,t),Fr(Dc,Dc),Pre(e,Dc,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(pr(Dc,t,i),e[0]=Dc[0],e[1]=Dc[1],e[2]=Dc[2],e[3]=1+n,cR(e,e))}const Dc=ft(),LRe=mo(1,0,0),zRe=mo(0,1,0);function jRe(e,t,i,n,s,u){return $S(nq,t,s,u),$S(rq,i,n,u),$S(e,nq,rq,2*u*(1-u)),e}const nq=_1(),rq=_1();function FRe(e,t,i,n){const s=URe;return s[0]=i[0],s[3]=i[1],s[6]=i[2],s[1]=n[0],s[4]=n[1],s[7]=n[2],s[2]=-t[0],s[5]=-t[1],s[8]=-t[2],cR(e,Nre(e,s))}const URe=U6();Object.freeze(Object.defineProperty({__proto__:null,add:kRe,calculateW:xRe,conjugate:_Re,copy:MRe,dot:ORe,equals:NRe,exactEquals:DRe,fromEuler:ERe,fromMat3:Nre,getAxisAngle:gRe,identity:yRe,invert:Dre,len:PRe,length:Lre,lerp:IRe,mul:CRe,multiply:Rre,normalize:cR,random:SRe,rotateX:vRe,rotateY:bRe,rotateZ:wRe,rotationTo:jre,scale:ARe,set:$Re,setAxes:FRe,setAxisAngle:Pre,slerp:$S,sqlerp:jRe,sqrLen:RRe,squaredLength:zre,str:TRe},Symbol.toStringTag,{value:"Module"}));function c_(e,t,i=null){return i!=null?[e,t,i]:[e,t]}function vn(e,t,i=null){return i!=null?{x:e,y:t,z:i}:{x:e,y:t}}let Fre=class{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return t.map(i=>this.mapToLocal(i)).filter(uo)}get doUnnormalization(){return!1}};class Ure extends Fre{constructor(t,i,n=null){super(i),this._defaultZ=n,this.transform=o_(),this.transformInv=o_(),this.transform=ire(t),Are(this.transformInv,this.transform)}makeMapPoint(t,i){return c_(t,i,this._defaultZ)}mapToLocal(t){return vn(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return c_(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}let VRe=class extends Fre{constructor(t,i){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=ft(),this.tangentFrameUpWS=ft(),this.tangentFrameRightWS=ft(),this.tangentFrameForwardWS=ft(),this.localFrameRightWS=ft(),this.localFrameUpWS=ft(),this.worldToLocalTransform=_1(),this.localToWorldTransform=_1(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=i,this.defaultZ=i.hasZ?i.z:null;const n=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,oc.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,oc.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,oc.Z,this.tangentFrameForwardWS);const s=ft();Ma(s,this.tangentFrameForwardWS,Ii(n,this.tangentFrameForwardWS)),cr(this.localFrameRightWS,n,s),Fr(this.localFrameRightWS,this.localFrameRightWS),pr(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),jre(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),Dre(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return this.view.viewingMode==="global"}makeMapPoint(t,i){return c_(t,i,this.defaultZ)}mapToLocal(t){const i=ft();this.view.renderCoordsHelper.toRenderCoords(new gi({x:t[0],y:t[1],spatialReference:this.spatialReference}),i),CA(i,i,this.worldToLocalTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(i,new gi({spatialReference:this.view.spatialReference}));return n!=null?vn(n.x/this.scale,n.y/this.scale):null}localToMap(t){const i=ft();this.view.renderCoordsHelper.toRenderCoords(new gi({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),i),CA(i,i,this.localToWorldTransform);const n=this.view.renderCoordsHelper.fromRenderCoords(i,new gi({spatialReference:this.view.spatialReference}));return n!=null?c_(n.x,n.y,this.defaultZ):null}};function RJe(e,t){if(e.type==="2d")return new Ure(e.state.transform,e.spatialReference,t.length>2?t[2]:null);if(e.type==="3d"){const i=t.length>2?new gi({x:t[0],y:t[1],z:t[2],spatialReference:e.spatialReference}):new gi({x:t[0],y:t[1],spatialReference:e.spatialReference});return new VRe(e,i)}return null}function H0(e,t){const i=new gi({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(i.z=e[2]),i}function DJe(e,t){return new Pg({points:e,spatialReference:t})}function NJe(e,t,i){const n=new qh({paths:e,spatialReference:t});return i&&GK(n),n}function iE(e,t,i,n=!0){const s=ke(e);s.forEach(p=>{const g=p[0],w=p[p.length-1];pu(g,w)&&p.length!==1||p.push(p[0])});let u=new fo({rings:s,spatialReference:t});return u.rings.forEach(p=>{e6(p)||p.reverse()}),i&&GK(u),n&&u.isSelfIntersecting&&ol(t)&&(u=Cre(u)),u}function GRe(e,t,i){const n=t.mapToLocalMultiple(e),s=[],u={x:n[0].x,y:n[0].y},p={x:n[1].x,y:n[1].y},g=Math.round(p.x-u.x),w=Math.round(p.y-u.y),E=Math.max(Math.abs(g),Math.abs(w));if(i){const A={x:u.x+E,y:u.y+E},I={x:u.x-E,y:u.y-E};s.push(vn(A.x,I.y),vn(I.x,I.y),vn(I.x,A.y),vn(A.x,A.y))}else{const A={x:g>0?u.x+E:u.x-E,y:w>0?u.y+E:u.y-E};s.push(vn(u.x,u.y),vn(A.x,u.y),vn(A.x,A.y),vn(u.x,A.y))}return Vre(iE([s.map(A=>t.localToMap(A)).filter(uo)],t.spatialReference,t.doUnnormalization,!0),s,t)}function HRe(e,t,i){let n=t.mapToLocalMultiple(e);if(n.length===1){const w=n[0];n=[vn(w.x-48,w.y+48),vn(w.x+48,w.y-48),vn(w.x+48,w.y-48),vn(w.x-48,w.y+48)]}const s=[],u={x:n[0].x,y:n[0].y},p={x:n[1].x,y:n[1].y};if(i){const g=Math.round(p.x-u.x),w=Math.round(p.y-u.y);s.push(vn(u.x-g,u.y-w),vn(p.x,u.y-w),vn(p.x,p.y),vn(u.x-g,p.y))}else s.push(vn(u.x,u.y),vn(p.x,u.y),vn(p.x,p.y),vn(u.x,p.y));return Vre(iE([s.map(g=>t.localToMap(g)).filter(uo)],t.spatialReference,t.doUnnormalization,!0),s,t)}function Vre(e,t,i){const n=Kx(t[3],t[2],i),s=Kx(t[1],t[2],i),u=Kx(t[0],t[1],i),p=Kx(t[0],t[3],i);return{geometry:e,midpoints:n!=null&&s!=null&&u!=null&&p!=null?{top:n,right:s,bottom:u,left:p}:null}}function Kx(e,t,i){km[0]=e.x,km[1]=e.y,km[2]=0,Cm[0]=t.x,Cm[1]=t.y,Cm[2]=0,qg(km,km,Cm,.5),Xx.x=km[0],Xx.y=Cm[1],Xx.z=Cm[2];const n=i.localToMap(Xx);return n!=null?H0(n,i.spatialReference):null}const Xx=vn(0,0,0),km=ft(),Cm=ft();function qRe(e,t,i,n){const s=t.mapToLocalMultiple(e);let u=null,p=null;if(i)u=s[0],p=s[1];else{const q=s[0],B=s[1],K=Math.round(B.x-q.x),te=Math.round(B.y-q.y),ce=Math.max(Math.abs(K),Math.abs(te));u=vn(K>0?q.x+ce/2:q.x-ce/2,te>0?q.y+ce/2:q.y-ce/2),p=vn(Math.abs(K)>Math.abs(te)?u.x-ce/2:u.x,Math.abs(K)>Math.abs(te)?u.y:u.y-ce/2)}const g=t.localToMap(u),w=t.localToMap(p);if(g==null||w==null)return null;t.doUnnormalization&&HK([[g,w]],t.spatialReference);const E=H0(g,t.spatialReference),A=H0(w,t.spatialReference),I=qf(t.spatialReference);let R=0;if(ol(t.spatialReference))R=I*kre(E,A,null);else{const q=u.x-p.x,B=u.y-p.y;R=I*Math.sqrt(q*q+B*B)*(n||1)}const F=new tPe({center:E,radius:R,radiusUnit:"meters",spatialReference:t.spatialReference});return{geometry:iE(F.rings,F.spatialReference,!1),center:E,edge:A}}function BRe(e,t,i){const n=t.mapToLocalMultiple(e),s=n[0],u=n[1],p=Math.round(u.x-s.x),g=Math.round(u.y-s.y),w=vn(i?s.x:s.x+p/2,i?s.y:s.y+g/2),E=i?p:p/2,A=i?g:g/2,I=60,R=[],F=2*Math.PI/I;function q(xe){const pe=Math.cos(xe),Ze=Math.sin(xe);return vn(E*pe+w.x,A*Ze+w.y)}for(let xe=0;xe<I;xe++)R.push(q(xe*F));R.push(R[0]);const{spatialReference:B,doUnnormalization:K}=t,te=iE([R.map(xe=>t.localToMap(xe)).filter(uo)],B,K,!1),ce=t.localToMap(q(Math.PI/2)),ye=t.localToMap(q(0)),_e=t.localToMap(q(-Math.PI/2)),we=t.localToMap(q(Math.PI));return{geometry:te,midpoints:ce!=null&&ye!=null&&_e!=null&&we!=null?{top:H0(ce,B),right:H0(ye,B),bottom:H0(_e,B),left:H0(we,B)}:null}}var xh,sq,oq;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(xh||(xh={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(sq||(sq={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(oq||(oq={}));var z0;(function(e){e[e.WhenToolEditable=0]="WhenToolEditable",e[e.WhenToolNotEditable=1]="WhenToolNotEditable",e[e.Always=2]="Always"})(z0||(z0={}));let WRe=class{constructor(){this._isToolEditable=!0,this._manipulators=new Bt,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=z0.WhenToolEditable){this.addMany([t],i)}addMany(t,i=z0.WhenToolEditable){for(const n of t){const s={manipulator:n,visibilityPredicate:i,attached:!1};this._manipulators.add(s),this._attached&&this._updateManipulatorAttachment(s)}}remove(t){for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.at(i).manipulator===t){const n=this._manipulators.splice(i,1)[0];this._detachManipulator(n);break}}removeAll(){this._manipulators.forEach(t=>{this._detachManipulator(t)}),this._manipulators.removeAll()}attach(){this._manipulators.forEach(t=>{this._updateManipulatorAttachment(t)}),this._attached=!0}detach(){this._manipulators.forEach(t=>{this._detachManipulator(t)}),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach(({manipulator:t})=>t.destroy()),this._manipulators.destroy(),this._resourceContexts=null}on(t,i){return this._manipulators.on(t,n=>{i(n)})}forEach(t){for(const i of this._manipulators.items)t(i)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach(i=>t.push(i.manipulator)),t}intersect(t,i){let n=null,s=Number.MAX_VALUE;return this._manipulators.forEach(({manipulator:u,attached:p})=>{if(!p||!u.interactive)return;const g=u.intersectionDistance(t,i);g!=null&&g<s&&(s=g,n=u)}),n}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const i=t.manipulator;i.grabbing=!1,i.dragging=!1,i.hovering=!1,i.selected=!1,i.detach&&i.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===z0.Always||(this._isToolEditable?t.visibilityPredicate===z0.WhenToolEditable:t.visibilityPredicate===z0.WhenToolNotEditable)}},bs=class extends Zt{constructor(t){super(t),this.manipulators=new WRe,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[xh.MANAGER,!0],[xh.USER,!0]]),this._creationFinishedResolver=pa()}get active(){return this.view!=null&&this.view.activeTool===this}set visible(t){this._get("visible")!==t&&(this._set("visible",t),this._syncVisible())}get editable(){return this.getEditableFlag(xh.USER)}set editable(t){this.setEditableFlag(xh.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){this.view!=null&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,i){this._editableFlags.set(t,i),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===xh.USER&&this.notifyChange("editable"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}endDrag(){const t=this.view.inputManager.latestPointerLocation;if(!t)return;let i=!1;this.manipulators.forEach(({manipulator:n})=>{n.dragging&&(i=!0,n.events.emit("drag",{action:"end",start:t,screenPoint:t}))}),i&&(this.view.toolViewManager.activeTool=null)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(xh.USER)&&this.getEditableFlag(xh.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.initialized){if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};S([M({constructOnly:!0})],bs.prototype,"view",void 0),S([M({readOnly:!0})],bs.prototype,"active",null),S([M({value:!0})],bs.prototype,"visible",null),S([M({value:!0})],bs.prototype,"editable",null),S([M({readOnly:!0})],bs.prototype,"manipulators",void 0),S([M({readOnly:!0})],bs.prototype,"updating",null),S([M()],bs.prototype,"cursor",null),S([M({readOnly:!0})],bs.prototype,"automaticManipulatorSelection",void 0),S([M()],bs.prototype,"hasFocusedManipulators",null),S([M()],bs.prototype,"hasGrabbedManipulators",void 0),S([M()],bs.prototype,"hasHoveredManipulators",void 0),S([M()],bs.prototype,"firstGrabbedManipulator",void 0),S([M({readOnly:!0})],bs.prototype,"created",void 0),S([M({readOnly:!0})],bs.prototype,"removeIncompleteOnCancel",void 0),bs=S([ue("esri.views.interactive.InteractiveToolBase")],bs);let oo=class extends Zt{constructor(t){super(t),this.coordinates=void 0,this.strokeDash=[],this.strokeWidth=1,this.strokeColor=[0,0,0,1],this.strokeDashColor=[255,255,255,1],this.fillColor=[0,0,0,0],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const t=this.strokeColor;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _strokeBackgroundStyle(){const t=this.strokeDashColor;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _fillStyle(){const t=this.fillColor;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _renderCoordinates(){const t=[];if(!this.coordinates)return{coordinates:t,rect:L4};const i=b5e(v5e(I1(L4),this.coordinates),2*this.strokeWidth);i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i[2]=Math.ceil(i[2]+.5),i[3]=Math.ceil(i[3]+.5);for(const n of this.coordinates)t.push([Math.floor(n[0]-i[0])+.5,Math.floor(n[1]-i[1])+.5]);return t.reverse(),{coordinates:t,rect:i}}render(){const{coordinates:t,rect:i}=this._renderCoordinates,n=YK(i),s=KK(i);return dt("div",{classes:{"esri-outline-overlay-item":!0},styles:{left:i[0]+"px",top:i[1]+"px",width:n+"px",height:s+"px",visibility:this.visible?"visible":"hidden"}},dt("svg",{height:s,styles:{display:"block"},width:n},dt("polygon",{fill:this._fillStyle,points:t.map(([u,p])=>`${u},${p}`).join(" "),stroke:this._strokeBackgroundStyle,"stroke-width":this.strokeWidth}),dt("polygon",{fill:"transparent",points:t.map(([u,p])=>`${u},${p}`).join(" "),stroke:this._strokeStyle,"stroke-dasharray":this.strokeDash.length?this.strokeDash.join(" "):void 0,"stroke-width":this.strokeWidth})))}renderCanvas(){}};S([M()],oo.prototype,"coordinates",void 0),S([M()],oo.prototype,"strokeDash",void 0),S([M()],oo.prototype,"strokeWidth",void 0),S([M()],oo.prototype,"strokeColor",void 0),S([M()],oo.prototype,"strokeDashColor",void 0),S([M()],oo.prototype,"fillColor",void 0),S([M()],oo.prototype,"visible",void 0),S([M()],oo.prototype,"isDecoration",void 0),S([M({readOnly:!0})],oo.prototype,"_strokeStyle",null),S([M({readOnly:!0})],oo.prototype,"_strokeBackgroundStyle",null),S([M({readOnly:!0})],oo.prototype,"_fillStyle",null),S([M({readOnly:!0})],oo.prototype,"_renderCoordinates",null),oo=S([ue("esri.views.overlay.OutlineOverlayItem")],oo);const JRe=oo;let la=class extends Ms.EventedMixin(bs){constructor(t){super(t),this._overlayItem=void 0,this.geometryType=null,this.mode=null,this.type="draw-screen"}initialize(){this.drawOperation=this._makeDrawOperation();const t=i=>this.drawOperation.on(i,n=>{this._updateVisuals(),this.emit(i,n)});this.addHandles([t("vertex-add"),t("vertex-remove"),t("vertex-update"),t("cursor-update"),t("complete")]),this.finishToolCreation()}destroy(){this.drawOperation=kr(this.drawOperation),this._set("view",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centeredToggled(t){this._set("centeredToggled",t),this._updateVisuals()}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set uniformSizeToggled(t){this._set("uniformSizeToggled",t),this._updateVisuals()}get updating(){var t;return((t=this.drawOperation)==null?void 0:t.updating)??!1}get cursor(){return this.geometryType==="point"?"default":"crosshair"}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.destroyed||this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}undo(){this.drawOperation.undo()}reset(){}_makeDrawOperation(){const{view:t}=this;return new wi({view:t,manipulators:this.manipulators,geometryType:ZRe(this.geometryType),drawingMode:this.mode,hasZ:!1,defaultZ:0,snapToSceneEnabled:!1,drawSurface:new WA,hasM:!1,snappingManager:null,snappingVisualizer:null,graphic:null,cursor:this.cursor})}get coordinates(){var p,g,w;const{drawOperation:t}=this;if(!(t!=null&&t.geometryIncludingUncommittedVertices.length))return[];const{coordinateHelper:i}=t,n=t.committableVertex,s=t.committedVertices.slice();n!=null&&s.push(i.pointToArray(n));const u=s.length;switch(this.geometryType){case"circle":case"rectangle":{const E=new Ure(nre,WA.spatialReference),A=this.geometryType==="circle"?qRe:GRe,I=this.geometryType==="circle"?BRe:HRe;if(u===1&&t.isCompleted){const R=s[0],F=E.makeMapPoint(R[0]+YRe,R[1]);return((p=A([R,F],E,!0))==null?void 0:p.geometry.rings[0])??[]}if(u===2){const R=this.geometryType!=="rectangle",F=this.centeredToggled!==R,q=this.geometryType!=="rectangle";return(this.uniformSizeToggled!==q?(g=A(s,E,F))==null?void 0:g.geometry.rings[0]:(w=I(s,E,F))==null?void 0:w.geometry.rings[0])??[]}return[]}}return s}_updateVisuals(){var t;if(!this._overlayItem){const i=new JRe({strokeDash:[5],strokeDashColor:[255,255,255,255]});(t=this.view.overlay)==null||t.addItem(i),this.addHandles(Mi(()=>{var n;(n=this.view.overlay)==null||n.removeItem(i),i==null||i.destroy(),this._overlayItem=void 0})),this._overlayItem=i}this._overlayItem.coordinates=this.coordinates}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}};function ZRe(e){switch(e){case"polygon":case"point":return e;case"circle":case"rectangle":return"segment"}}S([M({value:!1})],la.prototype,"centeredToggled",null),S([M()],la.prototype,"drawOperation",void 0),S([M({value:!0})],la.prototype,"enabled",null),S([M({value:!1})],la.prototype,"uniformSizeToggled",null),S([M({constructOnly:!0})],la.prototype,"geometryType",void 0),S([M({constructOnly:!0})],la.prototype,"mode",void 0),S([M({readOnly:!0})],la.prototype,"type",void 0),S([M({readOnly:!0})],la.prototype,"updating",null),S([M({constructOnly:!0,nonNullable:!0})],la.prototype,"view",void 0),S([M()],la.prototype,"cursor",null),la=S([ue("esri.views.draw.DrawScreenTool")],la);const YRe=48;function Z8(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function KRe(e){let t=0,i=0;for(let n=0;n<e.length;n++){const s=e[n].size;typeof s=="number"&&(t+=s,i++)}return t/i}function aq(e,t){var i;return typeof e=="number"?e:(i=e==null?void 0:e.stops)!=null&&i.length?KRe(e.stops):t}function XRe(e,t){if(!t)return e;const i=t.filter(p=>p.type==="size").map(p=>{const{maxSize:g,minSize:w}=p;return(aq(g,e)+aq(w,e))/2});let n=0;const s=i.length;if(s===0)return e;for(let p=0;p<s;p++)n+=i[p];const u=Math.floor(n/s);return Math.max(u,e)}function Gre(e){var u;const t=e==null?void 0:e.renderer,i=e==null?void 0:e.pointerType,n=i==="touch"?9:6;if(!t)return n;const s="visualVariables"in t?XRe(n,t.visualVariables):n;if(t.type==="simple")return Z8(s,t.symbol);if(t.type==="unique-value"){let p=s;return(u=t.uniqueValueInfos)==null||u.forEach(g=>{p=Z8(p,g.symbol)}),p}if(t.type==="class-breaks"){let p=s;return t.classBreakInfos.forEach(g=>{p=Z8(p,g.symbol)}),p}return t.type==="dot-density"||t.type,s}function Hre(e,t,i,n=new Yn){let s=0;if(i.type==="2d")s=t*(i.resolution??0);else if(i.type==="3d"){const A=i.overlayPixelSizeInMapUnits(e),I=i.basemapSpatialReference;s=I==null||I.equals(i.spatialReference)?t*A:qf(I)/qf(i.spatialReference)}const u=e.x-s,p=e.y-s,g=e.x+s,w=e.y+s,{spatialReference:E}=i;return n.xmin=Math.min(u,g),n.ymin=Math.min(p,w),n.xmax=Math.max(u,g),n.ymax=Math.max(p,w),n.spatialReference=E,n}function UJe(e,t,i){const n=i.toMap(e);return n==null?!1:Hre(n,Gre(),i,QRe).intersects(t)}const QRe=new Yn;async function eDe(){return rt(()=>import("./geometryEngineJSON-DHo_dATM.js").then(e=>e.g),__vite__mapDeps([106,107]),import.meta.url)}async function tDe(){return eDe().then(({contains:e,intersects:t,overlaps:i,simplify:n})=>({contains:e,intersects:t,overlaps:i,simplify:n}))}async function iDe(e){const{currentSelection:t,selector:i,signal:n,sources:s,view:u}=e;if(!(s!=null&&s.length))return{added:[],removed:[]};const{layers:p,layerViews:g,graphicsLayers:w}=oDe(s),E=(await Fw(Promise.all([rDe(i,p,u,n),sDe(i,g,u,n),nDe(i,w,u)]),n)).flat();if(!t)return{added:E,removed:[]};const A=t.toArray(),I=E.filter(F=>!lq(A,F)),R=A.filter(F=>!lq(E,F));return t.removeMany(R),t.addMany(I),{added:I,removed:R}}const nDe=async(e,t,i)=>uDe({candidates:t.flatMap(n=>n.graphics.toArray())??[],selector:e,view:i}),rDe=async(e,t,i,n)=>{const s=await hc(lDe({selector:e,signal:n,layers:t,view:i}));return s?qre(s):[]},sDe=async(e,t,i,n)=>{const s=await hc(aDe({selector:e,signal:n,layerViews:t,view:i}));return s?qre(s):[]};function qre(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i];n.status==="fulfilled"&&t.push(...n.value)}return t}function oDe(e){const t=[],i=[],n=[];return e.forEach(s=>{var u,p;PSe(s)?t.push(s):(ZQ(s)||YQ(s))&&((u=s.layers)!=null&&u.length)?t.push(...s.layers.toArray()):DSe(s)&&((p=s.sublayers)!=null&&p.length)?n.push(...s.sublayers.toArray()):RSe(s)?n.push(s):ES(s)&&i.push(s)}),{layers:t,layerViews:i,graphicsLayers:n}}function lq(e,t){if(e.includes(t))return!0;const i=t.getObjectId(),n=i!=null,{layer:s,uid:u}=t;return n?e.some(p=>{if(s===p.layer)return i===p.getObjectId()}):e.some(p=>{if(s===p.layer)return u===p.uid})}async function aDe(e){const{layerViews:t,selector:i,signal:n,view:s}=e;return Fw(Promise.allSettled(t.map(async u=>{const p=u.createQuery(),{geometry:g}=Bre(i,u.layer,s);return p.outFields=["*"],p.geometry=g,p.returnGeometry=!0,p.outSpatialReference=s.spatialReference,u.queryFeatures(p,{signal:n}).then(({features:w})=>w)})),n)}async function lDe(e){const{layers:t,selector:i,signal:n,view:s}=e;return Fw(Promise.allSettled(t.map(async u=>u.queryFeatures(cDe(u.createQuery(),i,u,s),{signal:n}).then(({features:p})=>p))),n)}function Bre(e,t,i){const n="displayField"in t?t.displayField:null,s=MX({displayField:n,fields:t.fields}),u=[t.objectIdField];s!=null&&t.fieldsIndex.has(s)&&u.push(s);const p="renderer"in t?Gre({renderer:t.renderer}):0;return{geometry:e.type==="point"?Hre(e,p,i):e,outFields:u}}function cDe(e,t,i,n){const{outFields:s,geometry:u}=Bre(t,i,n);return e.outFields=s,e.geometry=u,e.returnGeometry=!0,e.outSpatialReference=n.spatialReference,e}async function uDe(e){const{selector:t,candidates:i,view:n}=e;if(!(i!=null&&i.length)||!t)return[];const{spatialReference:s}=n,u=t,p=await tDe();return i.filter(g=>p.intersects(s,u,g.geometry))}const hDe=100;let k0=class extends Ms.EventedAccessor{constructor(t){super(t),this._processTask=null,this.options=null,this.selection=new Bt,this.sources=null,this._process=xg(async(i,n)=>{const{callback:s,selector:u,completed:p}=i,g=Z_(async w=>{var R;const{sources:E,selection:A,view:I}=this;if(!(!(E!=null&&E.length)&&!(I!=null&&I.selectionManager.sources.length))&&I){if(u&&E!=null){const F=await iDe({currentSelection:A,selector:u,signal:w,sources:E,view:I});p&&((R=I.selectionManager)==null||R.updateSelection({current:A.toArray(),...F}))}s&&s()}else A.removeAll()});return Ro(n,()=>g.abort()),this._processTask=g,g.promise},hDe)}initialize(){this._setup()}cancel(){var t;this.removeAllHandles(),(t=this._processTask)==null||t.abort()}async _setup(){const{view:t}=this;if(await t.whenReady(),this.destroyed)return;const i=this.options,n=(i==null?void 0:i.createTool)??"rectangle",s=(i==null?void 0:i.mode)??(n==="polygon"?"click":"hybrid"),u=Symbol();this._tool=new la({view:t,mode:s,geometryType:n}),i!=null&&i.selectOnComplete||this.addHandles(this._tool.on(["cursor-update","vertex-add","vertex-remove"],()=>hc(this._process({selector:this._selectionArea}))),u),this.addHandles([t.on("key-down",p=>{if(!p.repeat)switch(p.key){case Cn.constraint:this._tool.uniformSizeToggled=!0,p.stopPropagation();break;case Cn.center:this._tool.centeredToggled=!0,p.stopPropagation()}}),t.on("key-up",p=>{switch(p.key){case Cn.constraint:this._tool.uniformSizeToggled=!1,p.stopPropagation();break;case Cn.center:this._tool.centeredToggled=!1,p.stopPropagation()}}),this._tool.on("complete",async p=>{this.removeHandles(u);const g=()=>{this.removeAllHandles(),this.emit("complete",{aborted:p.aborted,selection:this.selection.toArray()})};p.aborted?(this.cancel(),this.selection.removeAll(),g()):await this._process({selector:this._selectionArea,callback:g,completed:!0})})],u),this.addHandles(Mi(()=>t.tools.remove(this._tool))),t.addAndActivateTool(this._tool)}get _selectionArea(){const t=Rh(),i=this._tool.coordinates,n=this.view.spatialReference,s=p=>{t.x=p[0],t.y=p[1];const{x:g,y:w}=this.view.toMap(t);return[g,w]};if(i.length===1){const[p,g]=s(i[0]);return new gi({x:p,y:g,spatialReference:n})}const u=this._tool.coordinates.map(s);if(u.length!==0)return e6(u)||u.reverse(),new fo({spatialReference:n,rings:[u]})}};S([M()],k0.prototype,"options",void 0),S([M({readOnly:!0})],k0.prototype,"selection",void 0),S([M()],k0.prototype,"sources",void 0),S([M({constructOnly:!0})],k0.prototype,"view",void 0),k0=S([ue("esri.widgets.support.Selector2D.SelectionOperation")],k0);const dDe=k0;let fh=class extends Ms.EventedAccessor{constructor(t){super(t),this._operationHandlesGroup=null,this.activeOperation=null,this.sources=null}initialize(){this.addHandles([ei(()=>this._sources,t=>{this.activeOperation&&(this.activeOperation.sources=t)})])}destroy(){this._operationHandlesGroup=Ur(this._operationHandlesGroup)}get _sources(){const{sources:t,view:i}=this;return i&&(t!=null&&t.length)?t.flatMap(n=>{if(ES(n))return n;if(ZQ(n)||YQ(n)){const u=n.layers||[],p=u.map(g=>{const w=bH(i,g)||void 0;return ES(w)?w:g});return p.length?p.toArray():u.length?u.toArray():n}const s=bH(i,n)||void 0;return ES(s)?s:n}):[]}get layers(){return QS(xt.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources}set layers(t){QS(xt.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.sources=t}get state(){const{_sources:t,view:i}=this,n=!(t!=null&&t.length)&&!(i!=null&&i.selectionManager.sources.length);return this.activeOperation?"active":i!=null&&i.ready&&!n?"ready":"disabled"}cancel(){var t;this.state==="active"&&((t=this.activeOperation)==null||t.cancel(),this._set("activeOperation",null))}activate(t){const{_sources:i,state:n,view:s}=this,u=!(i!=null&&i.length)&&!(s!=null&&s.selectionManager.sources.length);if(n==="disabled"||u||!this.view)return;n==="active"&&this.cancel();const p=new dDe({view:this.view,sources:i,options:t});return this._operationHandlesGroup=Hh([p.selection.on("change",g=>this.emit("selection-change",g)),p.once("complete",g=>this._onOperationComplete(g))]),this._set("activeOperation",p),p}_onOperationComplete(t){this._operationHandlesGroup=Ur(this._operationHandlesGroup),this._set("activeOperation",null),this.emit("complete",t)}};S([M()],fh.prototype,"_sources",null),S([M({readOnly:!0})],fh.prototype,"activeOperation",void 0),S([M()],fh.prototype,"layers",null),S([M()],fh.prototype,"sources",void 0),S([M({readOnly:!0})],fh.prototype,"state",null),S([M()],fh.prototype,"view",void 0),fh=S([ue("esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel")],fh);const fDe=fh,cq={lassoTool:!0,rectangleTool:!0},pDe={createTool:"polygon",mode:"freehand"},mDe={createTool:"rectangle"},Y8="esri-selection-toolbar",K8={base:Y8,container:`${Y8}__container`,toolButton:`${Y8}__tool-button`};let Co=class extends Ig{constructor(t,i){super(t,i),this._viewModelHandlesGroup=null,this.activeToolInfo=null,this.messages=null,this.toolConfigs=[],this.viewModel=new fDe,this.visibleElements={...cq},this._viewModelHandlesGroup=Hh([this.viewModel.on("complete",n=>{this._set("activeToolInfo",null),this.emit("complete",n)})])}destroy(){this._viewModelHandlesGroup=Ur(this._viewModelHandlesGroup)}loadDependencies(){return Og({action:()=>rt(()=>import("./calcite-action-Bw5D_lEd.js"),[],import.meta.url),icon:()=>rt(()=>import("./calcite-icon-CjOkufkd.js"),[],import.meta.url)})}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get layers(){return QS(xt.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources}set layers(t){QS(xt.getLogger(this),"layers",{replacement:"Use SelectionToolbar.sources instead."}),this.viewModel.sources=t}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}castVisibleElements(t){return{...cq,...t}}get visibleToolCount(){const{view:t,toolConfigs:i,visibleElements:n}=this;return((i==null?void 0:i.length)??0)+((t==null?void 0:t.type)==="2d"?(n.lassoTool?1:0)+(n.rectangleTool?1:0):0)}activate(t){if(this.cancel(),this.viewModel.state!=="disabled")switch(t){case"lasso":this._activateTool("lasso");break;case"rectangle":this._activateTool("rectangle");break;default:this._activateTool(t)}}cancel(){this.viewModel.cancel(),this._set("activeToolInfo",null)}render(){return dt("div",{"aria-label":this.label,class:this.classes(K8.base,Mw.widget)},dt("div",{class:K8.container},this._renderDefaultTools(),this._renderCustomTools()))}_renderDefaultTools(){var t;if(((t=this.view)==null?void 0:t.type)==="2d")return[this._renderRectangleTool(),this._renderLassoTool()]}_renderCustomTools(){var t;if((t=this.toolConfigs)!=null&&t.length)return this.toolConfigs.map(({toolName:i,icon:n})=>{var s;return dt("calcite-action",{active:((s=this.activeToolInfo)==null?void 0:s.toolName)===i,bind:this,class:K8.toolButton,disabled:this.viewModel.state==="disabled",onclick:()=>this._onCustomToolClick(i),scale:"s",text:i,title:i},dt("calcite-icon",{icon:n||"selection",scale:"s"}))})}_renderLassoTool(){const{activeToolInfo:t,messages:i,visibleElements:n}=this;if(!n.lassoTool)return;const s=i.selectByLasso;return dt("calcite-action",{active:(t==null?void 0:t.toolName)==="lasso",bind:this,disabled:this.viewModel.state==="disabled",onclick:this._onLassoToolClick,scale:"s",text:s,title:s},dt("calcite-icon",{icon:"lasso-select",scale:"s"}))}_renderRectangleTool(){const{activeToolInfo:t,messages:i,visibleElements:n}=this;if(!n.rectangleTool)return;const s=i.selectByRectangle;return dt("calcite-action",{active:(t==null?void 0:t.toolName)==="rectangle",bind:this,disabled:this.viewModel.state==="disabled",onclick:this._onRectangleToolClick,scale:"s",text:s,title:s},dt("calcite-icon",{icon:"cursor-marquee",scale:"s"}))}_onCustomToolClick(t){this._toggleTool(t)}_onLassoToolClick(){this._toggleTool("lasso")}_onRectangleToolClick(){this._toggleTool("rectangle")}_activateTool(t){const i=this._getToolOptions(t);if(!i)return;const n=this.viewModel.activate(i);n&&this._set("activeToolInfo",{toolName:t,operation:n})}_toggleTool(t){if(this.activeToolInfo){const i=this.activeToolInfo.toolName;if(this.cancel(),i===t)return}this._activateTool(t)}_getToolOptions(t){return t==="lasso"?pDe:t==="rectangle"?mDe:this.toolConfigs.find(i=>i.toolName===t)}};S([M({readOnly:!0})],Co.prototype,"activeToolInfo",void 0),S([M()],Co.prototype,"label",null),S([M()],Co.prototype,"layers",null),S([M(),Jf("esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar")],Co.prototype,"messages",void 0),S([M()],Co.prototype,"sources",null),S([M()],Co.prototype,"toolConfigs",void 0),S([M()],Co.prototype,"view",null),S([M()],Co.prototype,"viewModel",void 0),S([M()],Co.prototype,"visibleElements",void 0),S([pn("visibleElements")],Co.prototype,"castVisibleElements",null),S([M()],Co.prototype,"visibleToolCount",null),Co=S([ue("esri.widgets.support.SelectionToolbar")],Co);const yDe=Co,gDe={absolute:"absolute-direction",relative:"relative-direction"},Wre=()=>Og({icon:()=>rt(()=>import("./calcite-icon-CjOkufkd.js"),[],import.meta.url),label:()=>rt(()=>import("./calcite-label-CYdugBmE.js"),[],import.meta.url),switch:()=>rt(()=>import("./calcite-switch-D1cgC2mL.js"),[],import.meta.url),tooltip:()=>rt(()=>Promise.resolve().then(()=>Vfe),void 0,import.meta.url)}),mb="esri-labeled-switch",yb={label:`${mb}__label`,labelContent:`${mb}__label-content`,iconInfo:`${mb}__icon_info`,iconWarning:`${mb}__icon_warning`,tooltip:`${mb}__tooltip`};function Sy({checked:e,disabled:t,hint:i,key:n,label:s,onChange:u,hintIcon:p,hintKind:g}){return dt("calcite-label",{class:yb.label,disabled:t,key:n,layout:"inline-space-between",scale:"s"},dt("div",{class:yb.labelContent,key:"label-content"},i?dt(W3e,null,dt("div",null,s),dt("calcite-icon",{class:g!=="warning"?yb.iconInfo:yb.iconWarning,icon:p??"information",id:n,scale:"s",tabIndex:0}),dt("calcite-tooltip",{class:yb.tooltip,referenceElement:n},i)):s),dt("calcite-switch",{checked:e,disabled:t,scale:"s",onCalciteSwitchChange:w=>u(w.target.checked)}))}let C0=class extends Zt{constructor(t){super(t),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};S([M({type:Boolean,nonNullable:!0})],C0.prototype,"directionModePicker",void 0),S([M({type:Boolean,nonNullable:!0})],C0.prototype,"header",void 0),S([M({type:Boolean,nonNullable:!0})],C0.prototype,"labelsToggle",void 0),S([M({type:Boolean,nonNullable:!0})],C0.prototype,"tooltipsToggle",void 0),C0=S([ue("esri.widgets.support.SketchTooltipControls.VisibleElements")],C0);const Jre=C0,Qx="esri-sketch-tooltip-controls",e9={base:Qx,block:`${Qx}__block`,blockContent:`${Qx}__block-content`,radioButtonLabelWrapper:`${Qx}__radio-button-label-wrapper`};let cf=class extends Ig{constructor(t,i){super(t,i),this.viewModel=null,this.visibleElements=new Jre,this.sketchOptions=new F6,this.viewType=void 0,this._onTooltipsEnabledChange=n=>{this.sketchOptions.tooltips.enabled=n},this._onLabelsEnabledChange=n=>{this.sketchOptions.labels.enabled=n},this._onDirectionModeChange=n=>{this.sketchOptions.values.directionMode=n.target.selectedItem.value}}loadDependencies(){return Promise.all([Og({block:()=>rt(()=>import("./calcite-block-DmZDSQBW.js"),__vite__mapDeps([276,277]),import.meta.url),label:()=>rt(()=>import("./calcite-label-CYdugBmE.js"),[],import.meta.url),icon:()=>rt(()=>import("./calcite-icon-CjOkufkd.js"),[],import.meta.url),"radio-button":()=>rt(()=>import("./calcite-radio-button-CqmqO3yQ.js"),[],import.meta.url),"radio-button-group":()=>rt(()=>import("./calcite-radio-button-group-qmwvkh0b.js"),__vite__mapDeps([278,93,95]),import.meta.url)}),Wre()])}render(){const{label:t,visibleElements:i}=this,n=this._renderContent();return dt("div",{"aria-label":t,class:this.classes(e9.base,Mw.widget)},n?dt("calcite-block",{class:e9.block,heading:i.header?this.label:"",key:"content-block",open:!0},dt("div",{class:e9.blockContent,key:"content"},n)):void 0)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}_renderContent(){const{visibleElements:t,viewType:i}=this,n=[t.tooltipsToggle?this._renderTooltipsToggle():null,t.labelsToggle&&i!=="2d"?this._renderLabelsToggle():null,t.directionModePicker?this._renderDirectionModePicker():null].filter(uo);return n.length===0?null:n}_renderTooltipsToggle(){const{messages:t,sketchOptions:i}=this;return dt(Sy,{checked:i.tooltips.effectiveEnabled,hint:t.tooltipsToggleHint,key:`${this.id}__tooltips`,label:t.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:t,sketchOptions:i}=this;return dt(Sy,{checked:i.labels.enabled,hint:t.labelsToggleHint,key:`${this.id}__labels`,label:t.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:t,sketchOptions:i}=this,{directionMode:n}=i.values;return dt("calcite-label",{key:"direction-mode",layout:"default",scale:"s"},t.directionModePicker,dt("calcite-radio-button-group",{key:"radio-button-group",layout:"horizontal",name:this.id,scale:"s",value:n,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption("relative",n,t.directionModeRelative),this._renderDirectionModeOption("absolute",n,t.directionModeAbsolute)))}_renderDirectionModeOption(t,i,n){return dt("calcite-label",{key:t,layout:"inline",scale:"s"},dt("calcite-radio-button",{checked:t===i,scale:"s",value:t}),dt("div",{class:e9.radioButtonLabelWrapper,key:"label-wrapper"},dt("calcite-icon",{icon:gDe[t],scale:"s"}),n))}};S([M()],cf.prototype,"label",null),S([M({type:Jre,nonNullable:!0})],cf.prototype,"visibleElements",void 0),S([M(),Jf("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],cf.prototype,"messages",void 0),S([M({nonNullable:!0,type:F6})],cf.prototype,"sketchOptions",void 0),S([M({type:String})],cf.prototype,"viewType",void 0),cf=S([ue("esri.widgets.support.SketchTooltipControls")],cf);const vDe=cf,Zre={hide:"hide",hideChildren:"hide-children"},WJe=10,JJe=2;function ZJe({exclusive:e,visible:t,visibilityAppearance:i}){const n=i==="checkbox";return t?e?"circle-f":n?"check-square-f":"view-visible":e?"circle":n?"square":"view-hide"}function YJe({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function KJe(e){return(e==null?void 0:e.listMode)===Zre.hideChildren}function u_(e){return(e==null?void 0:e.listMode)??void 0}function bDe(e){return e!=null&&"minScale"in e&&e.minScale!=null?e.minScale:void 0}function wDe(e){return e!=null&&"maxScale"in e&&e.maxScale!=null?e.maxScale:void 0}function xDe(e){if(!e)return"inherited";const t=EDe(dR(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function uR(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function XJe(e){const t=(e!=null&&e.layer&&dR(e.layer)?e.layer.layer:void 0)??(e==null?void 0:e.layer);return!!t&&t.type!=="catalog"&&(TDe(t)??!0)}function hR(e){return u_(e)!==Zre.hide}function SDe(e,t){if(!e||t==null||isNaN(t))return!1;const i=bDe(e),n=wDe(e),s=i!=null&&!isNaN(i)&&i>0&&t>i,u=n!=null&&!isNaN(n)&&n>0&&t<n;return s||u}function _De(e,t){e==null||e.sort((i,n)=>{const s="uid"in i?t.indexOf(i.uid):-1,u="uid"in n?t.indexOf(n.uid):-1;return s>u?-1:s<u?1:0})}function QJe(e,t){const i=e==null?void 0:e.layer;if(!i)return;const n=uR(i);if(!n)return;let s;n==="layers"&&"layers"in i?s=i.layers:n==="sublayers"&&"sublayers"in i&&(s=i.sublayers),_De(s,t)}function uq(e){const t=e==null?void 0:e.layer;return t&&"layers"in t?t.layers:null}function dR(e){return e!=null&&"layer"in e&&e.layer!=null}function EDe(e){const t=Yre(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function TDe(e){const t=Yre(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function Yre(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function eZe(e){return e==null?void 0:e["data-item"]}function tZe(e){return e==null?void 0:e.getAttribute("data-layer-type")}function iZe({children:e,error:t,incompatible:i}){return!!(e!=null&&e.filter(n=>!n.hidden).length)&&!t&&!i}function nZe(e){for(const t of e)for(const i of t)if(i.type==="button"||i.type==="toggle")return i}function hq(e){return e!=null&&typeof e=="object"&&e.type==="2d"&&e.view2dType==="linkchart"}var ZA;let uf=ZA=class extends e3{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new ZA({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};S([M()],uf.prototype,"displayValueEnabled",void 0),S([M()],uf.prototype,"max",void 0),S([M()],uf.prototype,"min",void 0),S([M()],uf.prototype,"step",void 0),S([M()],uf.prototype,"value",void 0),uf=ZA=S([ue("esri.support.actions.ActionSlider")],uf);const MDe=uf;function $De(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,n=Array.isArray(e)?e:kDe(e);i.push(...n)}}function kDe(e){return e.split(",").map(t=>t.trim())}function dq(e){return e&&typeof e.render=="function"}function rZe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}let ws=class extends Qw(Ig){constructor(e,t){super(e,t),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([ei(()=>this._canCreateLegend,()=>this._createLegend(),No),ei(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),No)])}destroy(){this._legend=kr(this._legend)}get _canCreateLegend(){const{content:e,listItem:t}=this;if(!t)return!1;const i="legend";return e===i||e!=null&&!!Array.isArray(e)&&e.includes(i)}get _legendOptions(){const{listItem:e,_legendLayerInfo:t}=this,i=e==null?void 0:e.view;return t&&i?{view:i,layerInfos:[t]}:{}}get _legendLayerInfo(){var u;const e=(u=this.listItem)==null?void 0:u.layer;if(!e||e.type==="subtype-sublayer")return null;const t=dR(e)?e:null,i=e==null?void 0:e.parent,n=i!=null&&"type"in i&&i.type==="map-image"?t==null?void 0:t.source:null,s="";return n&&i?{layer:i,title:s,sublayerIds:[n.mapLayerId]}:{layer:e,title:s}}get disabled(){var n;const{listItem:e,_legend:t,content:i}=this;return!e||!(Array.isArray(i)&&i.length>1)&&!!t&&(!((n=t.activeLayerInfos)!=null&&n.length)||!e.visibleAtCurrentScale||!e.visible)}set disabled(e){this._overrideIfSome("disabled",e)}get icon(){const{image:e}=this,t=this._getFirstWidget();return this._get("icon")??(!e&&t?t.icon:null)}set icon(e){this._overrideIfSome("icon",e)}get title(){var e;return this._get("title")||(((e=this._getFirstWidget())==null?void 0:e.label)??"")}set title(e){this._override("title",e)}render(){return dt("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(e){const{_legend:t,disabled:i,open:n}=this;return e&&!i&&n?e==="legend"&&t?dt("div",{key:"legend-widget"},t.render()):typeof e=="string"?dt("div",{innerHTML:e,key:e}):dq(e)?dt("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?dt("div",{afterCreate:this._attachToNode,bind:e,key:"content-element"}):null:null}_renderContents(){const{content:e,open:t}=this;return t?Array.isArray(e)?e.map(i=>this._renderContent(i)):this._renderContent(e):null}async _createLegend(){if(kr(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:e}=await rt(()=>import("./Legend-mFl876_F.js"),__vite__mapDeps([73,74,75,76,77,78,79,80,81,63,61,62,20,64,65,82,56,2,3,4,50,33]),import.meta.url),t=new e(this._legendOptions);this._legend=t}_attachToNode(e){e.appendChild(this)}_updateLegend(){const e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return e==="legend"?this._legend:dq(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map(t=>this._getWidget(t)).find(t=>t):this._getWidget(e)}};S([M()],ws.prototype,"_legend",void 0),S([M()],ws.prototype,"_canCreateLegend",null),S([M()],ws.prototype,"_legendOptions",null),S([M()],ws.prototype,"_legendLayerInfo",null),S([M()],ws.prototype,"className",void 0),S([M()],ws.prototype,"content",void 0),S([M()],ws.prototype,"disabled",null),S([M()],ws.prototype,"flowEnabled",void 0),S([M()],ws.prototype,"icon",null),S([M()],ws.prototype,"image",void 0),S([M()],ws.prototype,"listItem",void 0),S([M()],ws.prototype,"open",void 0),S([M()],ws.prototype,"title",null),S([M()],ws.prototype,"visible",void 0),ws=S([ue("esri.widgets.LayerList.ListItemPanel")],ws);const Kre=ws;var y2;const CDe=Bt.ofType({key:"type",defaultKeyValue:"button",base:e3,typeMap:{button:GX,toggle:HX,slider:MDe}}),Xre=Bt.ofType(CDe),X8="layer",t9="child-list-mode",ADe="hide";let on=y2=class extends Qw(Zt){constructor(e){super(e),this.actionsSections=new Xre,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(Bt.ofType(y2)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([ei(()=>{var e;return[this.layer,(e=this.layer)==null?void 0:e.listMode,this.listModeDisabled]},()=>this._watchLayerProperties(this.layer),No),ei(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),No),ei(()=>this.view,e=>this._updateChildrenView(e),No),ei(()=>this.panel,e=>this._setListItemOnPanel(e),No)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){var e;(e=this.panel)==null||e.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const i=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(n=>n.layer===i)??null}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new Kre(e):null}get sortable(){var e;return((e=this.layer)==null?void 0:e.type)!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=sl(this,"layer.layer");return(!e||e&&sl(this,"layer.layer.loaded"))&&sl(this,"layer.title")||sl(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){var i;const{layer:e,checkPublishStatusEnabled:t}=this;return t&&e&&"publishingInfo"in e&&((i=e.publishingInfo)==null?void 0:i.status)==="publishing"}get updating(){const{layerView:e,connectionStatus:t,layer:i,publishing:n}=this;return!n&&!t&&(e?e.updating:(i==null?void 0:i.loadStatus)==="loading"||!1)}get visible(){var e;return(e=this.layer)==null?void 0:e.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){var e,t;return((e=this.layerView)==null?void 0:e.visibleAtCurrentScale)??!SDe(this.layer,(t=this.view)==null?void 0:t.scale)}get visibleAtCurrentTimeExtent(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentTimeExtent)??!0}get visibilityMode(){return xDe(this.layer)}clone(){return new y2({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){const t=this.children;t&&t.forEach(i=>i.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(i=>i.view=e)}_createChildren(e){const{listModeDisabled:t,children:i}=this,n=e.filter(s=>!i.some(u=>u.layer===s));i.addMany(this._createChildItems(n,t))}_destroyChildren(e){const{children:t}=this,i=t.filter(n=>!e.includes(n.layer));t.destroyMany(i)}_sortChildren(e){this.children.sort((t,i)=>e.indexOf(i.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(t9),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(t9),this.listModeDisabled||this.addHandles(e.toArray().map(t=>ei(()=>t.listMode,()=>this._compileChildren(e))),t9)}_compileChildren(e){const t=this.listModeDisabled?e:e==null?void 0:e.filter(i=>u_(i)!==ADe);t!=null&&t.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),X8)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.map(i=>t||hR(i)?new y2({layer:i,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(uo).reverse()}_watchLayerProperties(e){if(this.removeHandles(X8),this.removeHandles(t9),!e)return;if((!this.listModeDisabled&&u_(e))==="hide-children")return void this.children.destroyAll();const t=uR(e);t&&this.addHandles(ei(()=>e[t],i=>{e.hasOwnProperty(t)&&this._initializeChildLayers(i)},No),X8)}};S([M({type:Xre})],on.prototype,"actionsSections",void 0),S([M()],on.prototype,"actionsOpen",void 0),S([M()],on.prototype,"checkPublishStatusEnabled",void 0),S([M({type:Bt})],on.prototype,"children",void 0),S([M()],on.prototype,"childrenSortable",void 0),S([M({readOnly:!0})],on.prototype,"connectionStatus",null),S([M({readOnly:!0})],on.prototype,"error",null),S([M()],on.prototype,"hidden",void 0),S([M({readOnly:!0})],on.prototype,"incompatible",null),S([M()],on.prototype,"layer",void 0),S([M({readOnly:!0})],on.prototype,"layerView",null),S([M()],on.prototype,"listItemCreatedFunction",void 0),S([M({nonNullable:!0})],on.prototype,"listModeDisabled",void 0),S([M()],on.prototype,"open",void 0),S([M({type:Kre})],on.prototype,"panel",void 0),S([pn("panel")],on.prototype,"castPanel",null),S([M()],on.prototype,"parent",void 0),S([M({value:!0})],on.prototype,"sortable",null),S([M()],on.prototype,"title",null),S([M({readOnly:!0})],on.prototype,"publishing",null),S([M({readOnly:!0})],on.prototype,"updating",null),S([M()],on.prototype,"view",void 0),S([M()],on.prototype,"visible",null),S([M({readOnly:!0})],on.prototype,"visibleAtCurrentScale",null),S([M({readOnly:!0})],on.prototype,"visibleAtCurrentTimeExtent",null),S([M({readOnly:!0})],on.prototype,"visibilityMode",null),on=y2=S([ue("esri.widgets.LayerList.ListItem")],on);const fR=on,Dl={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},ODe="hide",Qre=Bt.ofType(fR);let Jc=class extends Ms.EventedAccessor{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new Qre,this.view=null}initialize(){this.addHandles([ei(()=>{var t;return((t=this.view)==null?void 0:t.ready)===!0},()=>this._viewHandles(),No),ei(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),ei(()=>hq(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],Dl.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:t}=this;return t!=null&&t.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,i){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:i})}moveListItem(t,i,n,s){var F,q;const u=t==null?void 0:t.layer;if(!u||u.type==="subtype-sublayer"||u.type==="sublayer")return;const p=(q=(F=this.view)==null?void 0:F.map)==null?void 0:q.layers,g=i?uq(i):p,w=n?uq(n):p;if(!g||!w)return;const{operationalItems:E}=this,A=(i==null?void 0:i.children)||E,I=(n==null?void 0:n.children)||E,R=w.length-s;t.parent=n||null,A.remove(t),g.remove(u),I.includes(t)||I.add(t,R),w.includes(u)||w.add(u,R),this._compileList()}_createLayerViewHandles(t){this.removeHandles(Dl.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),Dl.layerViews)}_createMapLayerHandles(t){this.removeHandles(Dl.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),Dl.mapLayers)}_createListItem(t){const{view:i,listItemCreatedFunction:n,checkPublishStatusEnabled:s,listModeDisabled:u}=this;return new fR({checkPublishStatusEnabled:s,listModeDisabled:u,layer:t,listItemCreatedFunction:n,view:i})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter(i=>u_(i)!==ODe):void 0}_watchLayersListMode(t){this.removeHandles(Dl.layerListMode),t&&!this.listModeDisabled&&this.addHandles(ei(()=>t.filter(i=>"listMode"in i).map(i=>i.listMode).toArray(),()=>this._compileList()),Dl.layerListMode)}_compileList(){var s,u;const t=(u=(s=this.view)==null?void 0:s.map)==null?void 0:u.layers,i=hq(this.view)&&!this.view.inGeographicLayout?t==null?void 0:t.filter(({type:p})=>p==="link-chart"):t;this._watchLayersListMode(i);const n=this._getViewableLayers(i);n!=null&&n.length?(this._createNewItems(n),this._removeItems(n),this._sortItems(n)):this._removeAllItems()}_createNewItems(t){const{operationalItems:i}=this;t.forEach(n=>{i.some(s=>s.layer===n)||i.add(this._createListItem(n))})}_removeItems(t){const{operationalItems:i}=this,n=[];i.forEach(s=>{s&&t&&t.includes(s.layer)||n.push(s)}),i.destroyMany(n)}_sortItems(t){const{operationalItems:i}=this;i.sort((n,s)=>{const u=t.indexOf(n.layer),p=t.indexOf(s.layer);return u>p?-1:u<p?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([Dl.mapLayers,Dl.layerViews,Dl.viewLayers]),t!=null&&t.ready?this.addHandles([ei(()=>{var i,n;return(n=(i=this.view)==null?void 0:i.map)==null?void 0:n.allLayers},i=>this._createMapLayerHandles(i),No),ei(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},i=>this._createLayerViewHandles(i),No)],Dl.viewLayers):this._removeAllItems()}};S([M()],Jc.prototype,"checkPublishStatusEnabled",void 0),S([M()],Jc.prototype,"listItemCreatedFunction",void 0),S([M({nonNullable:!0})],Jc.prototype,"listModeDisabled",void 0),S([M({type:Qre})],Jc.prototype,"operationalItems",void 0),S([M({readOnly:!0})],Jc.prototype,"state",null),S([M()],Jc.prototype,"totalItems",null),S([M()],Jc.prototype,"view",void 0),Jc=S([ue("esri.widgets.LayerList.LayerListViewModel")],Jc);const IDe=Jc,pR=e=>PDe(e)||RDe(e),PDe=e=>{if(!("type"in e))return!1;switch(e.type){case"feature":case"geojson":case"csv":case"graphics":case"wfs":case"map-notes":case"oriented-imagery":case"scene":case"building-scene":case"subtype-sublayer":return!0;default:return!1}},RDe=e=>{const t=uR(e);if(t!=null&&e.hasOwnProperty(t)&&e[t]!=null){for(const i of e[t])if(pR(i))return!0}return!1},kS=(e,t)=>t!=null&&e!=null&&(t.test(e.title)?"self":!!e.children.some(i=>kS(i,t)!==!1)&&"children");var YA;let ph=YA=class extends fR{constructor(e){super(e),this.children=new Bt,this.parent=null}get enabled(){const{children:e}=this;if(e.length===0)return this.featureSource!=null&&this.featureSource.enabled?"enabled":"disabled";let t=!1,i=!1;for(const n of e){if(n.enabled==="indeterminate")return n.enabled;if(n.enabled==="enabled"?t=!0:n.enabled==="disabled"&&(i=!0),i&&t)return"indeterminate"}return i?"disabled":"enabled"}get childLayerIds(){return this.children.toArray().flatMap(e=>[e.layer.id,...e.childLayerIds])}get featureSource(){const{layer:e,getFeatureSnappingSources:t}=this;return t().find(i=>i.layer===e)}_initializeChildLayers(e){if(!e)return;const t=e.filter(pR);super._initializeChildLayers(t)}_createChildItems(e){return e.map(t=>hR(t)?new YA({layer:t,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null).filter(uo).reverse()}};S([M()],ph.prototype,"enabled",null),S([M()],ph.prototype,"children",void 0),S([M()],ph.prototype,"childLayerIds",null),S([M()],ph.prototype,"featureSource",null),S([M({constructOnly:!0})],ph.prototype,"getFeatureSnappingSources",void 0),S([M()],ph.prototype,"parent",void 0),ph=YA=S([ue("esri.widgets.support.SnappingControls.SnappingListItem")],ph);let A0=class extends IDe{constructor(){super(...arguments),this.featureSnappingSources=new Bt}get operationalItemsFlat(){return this.operationalItems.flatten(t=>t.children)}get selectableItems(){return this.operationalItemsFlat.filter(t=>{var i;return!((i=t.children)!=null&&i.length)})}_compileList(){var s,u;const t=(u=(s=this.view)==null?void 0:s.map)==null?void 0:u.layers;if(!t)return;const i=t.filter(pR);this._watchLayersListMode(i);const n=this._getViewableLayers(i);n!=null&&n.length?(this._createNewItems(n),this._removeItems(n),this._sortItems(n)):this._removeAllItems()}_createListItem(t){return new ph({layer:t,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};S([M()],A0.prototype,"featureSnappingSources",void 0),S([M()],A0.prototype,"operationalItems",void 0),S([M()],A0.prototype,"operationalItemsFlat",null),S([M()],A0.prototype,"selectableItems",null),A0=S([ue("esri.widgets.support.SnappingControls.SnappingLayerListViewModel")],A0);let Zc=class extends Zt{constructor(e){super(e),this.layerListViewModel=new A0,this.snappingOptions=new S3,this.view=null}initialize(){this.addHandles([ei(()=>({viewModel:this.layerListViewModel,view:this.view}),({viewModel:e,view:t})=>{e.view=t},No),ei(()=>{var e;return{viewModel:this.layerListViewModel,sources:(e=this.snappingOptions)==null?void 0:e.featureSources}},({viewModel:e,sources:t})=>{e.featureSnappingSources=t},No)])}get allLayersEnabled(){var e;return(((e=this.layerListViewModel)==null?void 0:e.selectableItems)??[]).every(t=>t.enabled==="enabled")}get allLayersDisabled(){var e;return(((e=this.layerListViewModel)==null?void 0:e.selectableItems)??[]).every(t=>!t.enabled)}get layersEnabledCount(){var e,t;return((t=(e=this.layerListViewModel)==null?void 0:e.selectableItems)==null?void 0:t.filter(i=>i.enabled==="enabled").length)??0}get state(){return this.snappingOptions?"ready":"disabled"}toggleSnappingForLayers(e,t){e==null||e.forEach(i=>t?this.enableSnappingForLayer(i):this.disableSnappingForLayer(i))}toggleSnappingForAllLayers(e){this.layerListViewModel.selectableItems.forEach(({layer:{id:t}})=>{e?this.enableSnappingForLayer(t):this.disableSnappingForLayer(t)})}enableSnappingForLayer(e){const t=this._findSnappingSourceForLayer(e)??this._makeSnappingSourceForLayer(e);t&&(t.enabled=!0)}disableSnappingForLayer(e){const t=this._findSnappingSourceForLayer(e);t&&(t.enabled=!1)}updateEnabledFeatureSources(e){for(const t of this.snappingOptions.featureSources)hR(t.layer)&&(t.enabled=e.includes(t.layer.id))}_findSnappingSourceForLayer(e){return this.snappingOptions.featureSources.find(t=>t.layer.id===e)}_makeSnappingSourceForLayer(e){var n;const t=(n=this.layerListViewModel.operationalItemsFlat.find(s=>s.layer.id===e))==null?void 0:n.layer;if(!t)throw new ze("snapping-controls:layer-not-found",`cannot enable snapping for layer with id ${e} because no such layer was found in the view`);if(t.type==="group")return;const i=new GP({layer:t});return this.snappingOptions.featureSources.add(i),i}};S([M()],Zc.prototype,"allLayersEnabled",null),S([M()],Zc.prototype,"allLayersDisabled",null),S([M({constructOnly:!0})],Zc.prototype,"layerListViewModel",void 0),S([M()],Zc.prototype,"layersEnabledCount",null),S([M({type:S3,nonNullable:!0})],Zc.prototype,"snappingOptions",void 0),S([M()],Zc.prototype,"state",null),S([M()],Zc.prototype,"view",void 0),Zc=S([ue("esri.widgets.support.SnappingControls.SnappingControlsViewModel")],Zc);const DDe=Zc,Nc="esri-snapping-controls",Nl={base:Nc,container:`${Nc}__container`,toggleBlock:`${Nc}__toggle-block`,layerListBlock:`${Nc}__layer-list-block`,layerList:`${Nc}__layer-list`,layerListFilter:`${Nc}__layer-list__filter`,layerListButton:`${Nc}__layer-list__button`,layerListItem:`${Nc}__layer-list__item`,layerListGroup:`${Nc}__layer-list__group`,nestedContainer:`${Nc}__nested-container`};let zr=class extends Ig{constructor(e,t){super(e,t),this._defaultViewModel=null,this._layerListFilter=null,this._gridLoadTask=null,this.layerListOpen=!0,this.gridOptionsOpen=!1,this.messages=null,this.messagesCommon=null,this.snappingManager=null,this.visibleElements=new K6,this._enableSnappingSwitchChange=u=>{this.snappingOptions.enabled=u},this._featureEnabledSwitchChange=u=>{this.snappingOptions.featureEnabled=u},this._gridEnabledSwitchChange=u=>{this.snappingOptions.gridEnabled=u,u&&this._startLoadGrid()},this._selfEnabledSwitchChange=u=>{this.snappingOptions.selfEnabled=u},this._onToggleLayersButtonClick=u=>{this.viewModel.toggleSnappingForAllLayers(!this.viewModel.allLayersEnabled),wK(u.target)};const{snappingOptions:i,view:n,viewModel:s}=e;this.viewModel=s??(this._defaultViewModel=new DDe({snappingOptions:i,view:n}))}normalizeCtorArgs(e){const{snappingOptions:t,view:i,viewModel:n,...s}=e;return s}destroy(){this.viewModel!==this._defaultViewModel&&(this._defaultViewModel=kr(this._defaultViewModel))}loadDependencies(){return Promise.all([Og({block:()=>rt(()=>import("./calcite-block-DmZDSQBW.js"),__vite__mapDeps([276,277]),import.meta.url),button:()=>rt(()=>import("./calcite-button-C7XuS4eR.js"),[],import.meta.url),input:()=>rt(()=>import("./calcite-input-DQ5WGIP5.js"),__vite__mapDeps([91,92,93,94,95,96]),import.meta.url),list:()=>rt(()=>import("./calcite-list-aCwIUPY_.js"),__vite__mapDeps([279,280,281,282,92,93,94,95,96]),import.meta.url),"list-item":()=>rt(()=>import("./calcite-list-item-BBy5oeKk.js"),__vite__mapDeps([283,281,280,277]),import.meta.url),checkbox:()=>rt(()=>import("./calcite-checkbox-Cl_pF0gN.js"),[],import.meta.url),loader:()=>rt(()=>import("./calcite-loader-C-5JlJC7.js"),[],import.meta.url)}),Wre()])}initialize(){this.addHandles(ei(()=>{var e;return((e=this.view)==null?void 0:e.type)==="2d"&&!!this.view.grid},e=>{this.visibleElements.gridControls&&(this.snappingOptions.gridEnabled=e)}))}get _openAndReady(){return this.gridOptionsOpen&&this.snappingOptions.gridEnabled&&this.snappingOptions.enabled}get icon(){return"snap-to-point"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){e!==this._get("viewModel")&&(this._defaultViewModel!=null&&this._defaultViewModel===e||(this._defaultViewModel=kr(this._defaultViewModel)),this._set("viewModel",e))}render(){const{label:e}=this;return dt("div",{"aria-label":e,class:this.classes(Nl.base,Mw.widget)},dt("div",{class:Nl.container},this._renderContent()))}_renderContent(){var e;return[this._renderToggles(),this._renderLayerList(),((e=this.view)==null?void 0:e.type)==="2d"&&this.visibleElements.gridControls?this._renderGridOptions():null]}_renderToggles(){const{visibleElements:e,view:t}=this,i=[e.selfEnabledToggle?this._renderSelfEnabledToggle():null,e.featureEnabledToggle?this._renderFeatureEnabledToggle():null,e.gridEnabledToggle&&(t==null?void 0:t.type)==="2d"?this._renderGridEnabledToggle():null].filter(uo),n=[e.enabledToggle?this._renderEnabledToggle():null,i.length>0?dt("div",{class:Nl.nestedContainer},i):null].filter(uo);return n.length===0?null:dt("calcite-block",{class:Nl.toggleBlock,heading:e.header?this.label:"",key:"toggle-block",open:!0},n)}_renderEnabledToggle(){return dt(Sy,{checked:this.viewModel.snappingOptions.enabled,disabled:this._enabledToggleDisabled,key:`${this.id}__enabled-toggle`,label:this.messages.enableSnapping,onChange:this._enableSnappingSwitchChange})}_renderSelfEnabledToggle(){return dt(Sy,{checked:this.viewModel.snappingOptions.selfEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__self-enabled-toggle`,label:this.messages.geometryGuides,onChange:this._selfEnabledSwitchChange})}_renderFeatureEnabledToggle(){return dt(Sy,{checked:this.viewModel.snappingOptions.featureEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__feature-enabled-toggle`,label:this.messages.featureToFeature,onChange:this._featureEnabledSwitchChange})}_renderGridEnabledToggle(){return dt(Sy,{checked:this.viewModel.snappingOptions.gridEnabled,disabled:this._secondaryElementsDisabled,key:`${this.id}__grid-enabled-toggle`,label:this.messages.grid,onChange:this._gridEnabledSwitchChange})}_renderLayerList(){if(!this.visibleElements.layerList)return null;const{messages:e,viewModel:t}=this,i=({target:{value:p}})=>{this._layerListFilter=p===""?null:new RegExp(p,"i")},n=t.layerListViewModel.operationalItems.length>9?dt("calcite-input",{class:Nl.layerListFilter,clearable:!0,placeholder:e==null?void 0:e.searchLayers,onCalciteInputInput:i}):null,s=this._secondaryElementsDisabled,u=this.layerListOpen&&!s;return dt("calcite-block",{class:Nl.layerListBlock,collapsible:!0,disabled:this._secondaryElementsDisabled,heading:e.snappingLayers,key:"list-block",open:u,onCalciteBlockToggle:p=>this.layerListOpen=p.target.open},n,this._renderToggleLayersButton(),dt("calcite-list",{class:Nl.layerList,selectionMode:"none"},this._renderLayerListItemCollection(t.layerListViewModel.operationalItems)))}_renderGridOptions(){var E;const{view:e,visibleElements:t,snappingManager:i,snappingOptions:n,_openAndReady:s}=this,{gridEnabled:u,enabled:p}=n;(s||(e==null?void 0:e.type)==="2d"&&e.grid)&&this._startLoadGrid();const g=(E=this._gridLoadTask)==null?void 0:E.value,w=g&&(e==null?void 0:e.type)==="2d"&&dt(g,{snappingManager:i,snappingOptions:n,view:e,visibleElements:t.gridControlsElements});return dt("calcite-block",{class:Nl.layerListBlock,collapsible:!0,disabled:!u||!p,heading:this.messages.gridOptionsHeading,key:"grid-block",open:s,onCalciteBlockClose:()=>this.gridOptionsOpen=!1,onCalciteBlockOpen:()=>this.gridOptionsOpen=!0},w??dt("calcite-loader",{label:this.messagesCommon.loading,scale:"s",text:this.messagesCommon.loading}))}async _startLoadGrid(){var e;!this._gridLoadTask&&this.visibleElements.gridControls&&((e=this.view)==null?void 0:e.type)==="2d"&&(this._gridLoadTask=Z_(async()=>(await rt(async()=>{const{default:t}=await import("./GridControls-CsvqJfMd.js");return{default:t}},__vite__mapDeps([284,42,43,77,40,41,249,16,17,18,19,251,44,45,46,252,253,240,241,14,146,247,66,254,255,178,219,195,218,63,48,256,258,101]),import.meta.url)).default))}_renderLayerListItemCollection(e){const t=this._layerListFilter;return e.map(i=>{switch(t?kS(i,t):null){case"children":{const n=i.children.filter(s=>kS(s,t)!==!1);return this._renderLayerListItemGroup(i,n)}case"self":case null:return this._renderLayerListItemOrGroup(i);case!1:return kS(i.parent,t)==="self"?this._renderLayerListItemOrGroup(i):null}}).toArray().filter(uo)}_renderToggleLayersButton(){if(!this.visibleElements.layerListToggleLayersButton)return null;const{viewModel:{allLayersEnabled:e},messages:t}=this,i=e?t.disableAllLayers:t.enableAllLayers;return dt("calcite-button",{appearance:"transparent",class:Nl.layerListButton,label:i,name:"layer-toggle",onclick:this._onToggleLayersButtonClick},i)}_renderLayerListItemOrGroup(e){if(e.children.length)return this._renderLayerListItemGroup(e);const{messages:{untitledLayer:t}}=this,i=e.title||t,n=()=>{this.viewModel.toggleSnappingForLayers([e.layer.id],e.enabled!=="enabled")};return dt("calcite-list-item",{class:Nl.layerListItem,key:`${this.id}-list-item-${e.uid}`,label:i,onCalciteListItemSelect:s=>{s.stopPropagation(),n()}},dt("calcite-checkbox",{checked:e.enabled==="enabled",slot:"actions-start",onCalciteCheckboxChange:n}))}_renderLayerListItemGroup(e,t){const{children:i,title:n}=e,s=n||this.messages.untitledLayer,u=n&&n!==""?n:T2(),p=!!(t!=null&&t.length),g=t??i,w=()=>{this.viewModel.toggleSnappingForLayers(e.childLayerIds,e.enabled!=="enabled")};return dt("calcite-list-item",{class:Nl.layerListGroup,key:u,label:s,open:p,onCalciteListItemSelect:E=>{E.stopPropagation(),w()}},dt("calcite-checkbox",{checked:e.enabled==="enabled",indeterminate:e.enabled==="indeterminate",slot:"actions-start",onCalciteCheckboxChange:w}),dt("calcite-list",null,this._renderLayerListItemCollection(g)))}get _enabledToggleDisabled(){const e=this.snappingOptions;return e.enabledToggled||e.forceDisabled}get _secondaryElementsDisabled(){return this._enabledToggleDisabled||!this.snappingOptions.enabled}};S([M()],zr.prototype,"_defaultViewModel",void 0),S([M()],zr.prototype,"_layerListFilter",void 0),S([M()],zr.prototype,"_gridLoadTask",void 0),S([M()],zr.prototype,"_openAndReady",null),S([M()],zr.prototype,"label",null),S([M({type:Boolean,nonNullable:!0})],zr.prototype,"layerListOpen",void 0),S([M({type:Boolean,nonNullable:!0})],zr.prototype,"gridOptionsOpen",void 0),S([M(),Jf("esri/widgets/support/SnappingControls/t9n/SnappingControls")],zr.prototype,"messages",void 0),S([M(),Jf("esri/t9n/common")],zr.prototype,"messagesCommon",void 0),S([M()],zr.prototype,"snappingOptions",null),S([M()],zr.prototype,"snappingManager",void 0),S([M()],zr.prototype,"view",null),S([M()],zr.prototype,"viewModel",null),S([M({type:K6,nonNullable:!0})],zr.prototype,"visibleElements",void 0),S([M()],zr.prototype,"_enabledToggleDisabled",null),S([M()],zr.prototype,"_secondaryElementsDisabled",null),zr=S([ue("esri.widgets.support.SnappingControls")],zr);const NDe=zr,_o="esri-sketch",Dr={base:_o,verticalLayout:`${_o}--vertical`,horizontalLayout:`${_o}--horizontal`,panel:`${_o}__panel`,infoPanel:`${_o}__info-panel`,section:`${_o}__section`,toolSection:`${_o}__tool-section`,infoSection:`${_o}__info-section`,infoCountSection:`${_o}__info-count-section`,menuContainer:`${_o}__menu-container`,menuHeader:`${_o}__menu-header`,menuTitle:`${_o}__menu-title`,featureCountBadge:`${_o}__feature-count-badge`,featureCountNumber:`${_o}__feature-count-number`};let an=class extends Ig{constructor(e,t){super(e,t),this._activeCustomToolOptions=null,this._activeCreateOptions=null,this._menuOpen=!1,this._selectionToolbar=null,this._viewModelHandlesGroup=null,this.availableCreateTools=["point","polyline","polygon","rectangle","circle"],this.creationMode="continuous",this.customToolOptions=null,this.layout="horizontal",this.messages=null,this.messagesCommon=null,this.visibleElements=new tre,this._activateCreateTool=this._activateCreateTool.bind(this),this.viewModel=(e==null?void 0:e.viewModel)||new FOe}initialize(){const{layer:e,view:t}=this,i=new yDe({view:(t==null?void 0:t.type)==="2d"?t:null,sources:e?[e]:null});this.addHandles([ei(()=>this.viewModel,n=>{this._viewModelHandlesGroup=Ur(this._viewModelHandlesGroup),n&&(this._viewModelHandlesGroup=Hh([n.on("create",s=>{this.scheduleRender(),this._onCreateOperation(s)}),n.on("update",()=>this.scheduleRender()),n.on("delete",s=>this.emit("delete",s)),n.on("undo",()=>this.scheduleRender()),n.on("redo",()=>this.scheduleRender()),ei(()=>n.layer,s=>{this._selectionToolbar&&(this._selectionToolbar.sources=s?[s]:null)}),ei(()=>n.view,s=>{this._selectionToolbar&&(this._selectionToolbar.view=(s==null?void 0:s.type)==="2d"?s:null)}),ei(()=>n.state,()=>this.notifyChange("state"))]))},wa),Wf(()=>i.activeToolInfo,()=>this.viewModel.cancel()),i.on("complete",n=>this._onSelectionOperationComplete(n)),ei(()=>{const{selectionTools:n}=this.visibleElements;return{lassoTool:!!(n!=null&&n["lasso-selection"]),rectangleTool:!!(n!=null&&n["rectangle-selection"])}},n=>{Object.assign(i.visibleElements,n)},wa)]),this._selectionToolbar=i}loadDependencies(){return Og({action:()=>rt(()=>import("./calcite-action-Bw5D_lEd.js"),[],import.meta.url),icon:()=>rt(()=>import("./calcite-icon-CjOkufkd.js"),[],import.meta.url)})}destroy(){var e;(e=this._selectionToolbar)==null||e.destroy(),this._viewModelHandlesGroup=Ur(this._viewModelHandlesGroup)}get activeTool(){var t;const e=(t=this._selectionToolbar)==null?void 0:t.activeToolInfo;if(e)switch(e.toolName){case"lasso":return"lasso-selection";case"rectangle":return"rectangle-selection";case"default":return"custom-selection"}return this.viewModel.activeTool}get activeTooltip(){return this.viewModel.activeTooltip}get createGraphic(){return this.viewModel.createGraphic}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(e){this.viewModel.defaultCreateOptions=e}get defaultUpdateOptions(){return this.viewModel.defaultUpdateOptions}set defaultUpdateOptions(e){this.viewModel.defaultUpdateOptions=e}get icon(){return"pencil"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(e){this.viewModel.labelOptions=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get state(){var e;return(e=this._selectionToolbar)!=null&&e.activeToolInfo?"active":this.viewModel.state}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(e){this.viewModel.tooltipOptions=e}get updateGraphics(){return this.viewModel.updateGraphics}get valueOptions(){return this.viewModel.valueOptions}set valueOptions(e){this.viewModel.valueOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set viewModel(e){const t=this._get("viewModel");e!==t&&(t&&kr(t),this._set("viewModel",e))}get _effectiveAvailableCreateTools(){const{availableCreateTools:e,visibleElements:t}=this;return e==null?void 0:e.filter(i=>{var n;return!!((n=t.createTools)!=null&&n[i])})}create(e,t,i){const n=(i==null?void 0:i.createOptions)??t;return this._activeCreateOptions=n||null,this._activeCustomToolOptions=i,hc(this.viewModel.create(e,n))}update(e,t){return hc(this.viewModel.update(e,t))}complete(){this.viewModel.complete()}cancel(){var e;(e=this._selectionToolbar)==null||e.cancel(),this.viewModel.cancel(),this._activeCustomToolOptions=null}undo(){var e;this.viewModel.undo(),(e=this.view)==null||e.focus()}redo(){var e;this.viewModel.redo(),(e=this.view)==null||e.focus()}delete(){this.viewModel.delete()}duplicate(){return this.viewModel.duplicate()}render(){const{label:e,layout:t,viewModel:{state:i}}=this;return dt("div",{"aria-label":e,class:this.classes(Dr.base,Mw.widget,{[Mw.disabled]:i==="disabled",[Dr.verticalLayout]:t==="vertical",[Dr.horizontalLayout]:t==="horizontal"})},dt("div",{class:Dr.panel,role:"toolbar"},this._renderTopPanelContents()),dt("div",{class:this.classes(Dr.panel,Dr.infoPanel)},this._renderInfoPanelContents()))}_renderTopPanelContents(){var g;const e=this.classes(Dr.section,Dr.toolSection),{_effectiveAvailableCreateTools:t,customToolOptions:i,visibleElements:n,viewModel:s}=this,u=s.updateOnGraphicClick||((g=this._selectionToolbar)==null?void 0:g.visibleToolCount),p=!(!(t!=null&&t.length)&&!(i!=null&&i.length));return[u?dt("div",{class:e,key:"selection-button-container",role:"menu"},this._renderDefaultSelectionButton(),this._renderSelectionToolbar()):null,p?dt("div",{class:e,role:"menu"},this._renderDrawActions(),this._renderCustomToolActions()):null,n.undoRedoMenu?dt("div",{class:e,key:"undo-redo-menu-button-container",role:"menu"},this._renderUndoRedoMenuButtons()):null,n.settingsMenu?dt("div",{class:Dr.section,key:"settings-menu-button-container"},this._renderSettingsMenuButton()):null]}_renderInfoPanelContents(){return this._menuOpen?this._renderSettingsMenu():this.updateGraphics.length?[dt("div",{class:this.classes(Dr.section,Dr.infoSection,Dr.infoCountSection),key:"feature-count-container"},this._renderFeatureCount()),dt("div",{class:this.classes(Dr.section,Dr.infoSection),key:"delete-button-container"},this._renderDuplicateButton(),this._renderDeleteButton())]:void 0}_renderSettingsMenu(){const{messagesCommon:e,snappingOptions:t,view:i,viewModel:n,visibleElements:s}=this,u={directionModePicker:s.directionModePicker,labelsToggle:s.labelsToggle,tooltipsToggle:s.tooltipsToggle};return dt("div",{class:Dr.menuContainer,"data-testid":"menu",key:"settings-menu-container",role:"menu"},dt("header",{class:Dr.menuHeader,key:"settings-menu-header"},dt("span",{class:Dr.menuTitle},e.settings)),Object.values(u).includes(!0)?dt(vDe,{sketchOptions:n.sketchOptions,viewType:i==null?void 0:i.type,visibleElements:u}):void 0,s.snappingControls&&i&&t?dt(NDe,{snappingManager:this.viewModel.snappingManager,snappingOptions:t,view:i,visibleElements:s.snappingControlsElements}):void 0)}_renderFeatureCount(){const{layout:e,messages:t,updateGraphics:{length:i}}=this,n=YY(t.selectedCount,{count:i});return dt("div",{"aria-label":n,class:Dr.featureCountBadge},dt("span",{class:Dr.featureCountNumber},e==="vertical"?i:n))}_renderDuplicateButton(){if(!this.visibleElements.duplicateButton)return;const e=this.messages,t=this.updateGraphics.length>1?e.duplicateFeatures:e.duplicateFeature;return dt("calcite-action",{bind:this,onclick:this._onDuplicateSelect,scale:"s",text:t,title:t},dt("calcite-icon",{icon:"copy",scale:"s"}))}_renderDeleteButton(){const e=this.messages,t=this.updateGraphics.length>1?e.deleteFeatures:e.deleteFeature;return dt("calcite-action",{bind:this,onclick:this.delete,scale:"s",text:t,title:t},dt("calcite-icon",{icon:"trash",scale:"s"}))}_renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return;const{messages:e,state:t}=this,i=e.selectFeature;return dt("calcite-action",{active:t==="ready",bind:this,disabled:t==="disabled",onclick:this._activateDefaultSelectTool,scale:"s",text:i,title:i},dt("calcite-icon",{icon:"cursor",scale:"s"}))}_renderSelectionToolbar(){var e;if(((e=this.view)==null?void 0:e.type)==="2d"&&this._selectionToolbar)return this._selectionToolbar.render()}_renderDrawActions(){var t;const{messages:e}=this;return(t=this._effectiveAvailableCreateTools)==null?void 0:t.map(i=>{switch(i){case"point":return this._renderAction(i,e.drawPoint,"pin");case"polyline":return this._renderAction(i,e.drawPolyline,"line");case"polygon":return this._renderAction(i,e.drawPolygon,"polygon");case"rectangle":return this._renderAction(i,e.drawRectangle,"rectangle");case"circle":return this._renderAction(i,e.drawCircle,"circle");default:return}})}_renderCustomToolActions(){var e;return(e=this.customToolOptions)==null?void 0:e.map(t=>this._renderCustomToolAction(t))}_renderCustomToolAction(e){var u;const{icon:t,label:i,toolKey:n,toolName:s}=e;return dt("calcite-action",{active:((u=this._activeCustomToolOptions)==null?void 0:u.toolKey)===n,bind:this,disabled:this.state==="disabled",onclick:()=>this._activateCreateTool(s,null,e),scale:"s",text:i,title:i},dt("calcite-icon",{icon:t,scale:"s"}))}_renderAction(e,t,i){return dt("calcite-action",{active:this.activeTool===e&&!this._activeCustomToolOptions,bind:this,disabled:this.state==="disabled",onclick:()=>this._activateCreateTool(e),scale:"s",text:t,title:t},dt("calcite-icon",{icon:i,scale:"s"}))}_renderUndoRedoMenuButtons(){return[this._renderUndoButton(),this._renderRedoButton()]}_renderUndoButton(){const e=this.messages.undo;return dt("calcite-action",{bind:this,disabled:!this.viewModel.canUndo()||this.state==="disabled",onclick:this.undo,scale:"s",text:e,title:e},dt("calcite-icon",{icon:IF(this.container)?"redo":"undo",scale:"s"}))}_renderRedoButton(){const e=this.messages.redo;return dt("calcite-action",{bind:this,disabled:!this.viewModel.canRedo()||this.state==="disabled",onclick:this.redo,scale:"s",text:e,title:e},dt("calcite-icon",{icon:IF(this.container)?"undo":"redo",scale:"s"}))}_renderSettingsMenuButton(){const e=this.messagesCommon.settings;return dt("calcite-action",{active:this._menuOpen,bind:this,"data-testid":"settings-menu-action",disabled:this.state==="disabled",onclick:this._toggleMenu,scale:"s",text:e,title:e},dt("calcite-icon",{icon:"gear",scale:"s"}))}_activateCreateTool(e,t,i){var s;const n=this._activeCustomToolOptions;if(i||n){if((i==null?void 0:i.toolKey)===(n==null?void 0:n.toolKey))return void this.cancel()}else if(this.activeTool===e)return void this.cancel();(s=this._selectionToolbar)==null||s.cancel(),this.create(e,t,i)}_onCreateOperation(e){if(e.state!=="complete")return;const{creationMode:t}=this,{type:i}=e;if(i==="create"){const{tool:n,graphic:s}=e,u=this._activeCreateOptions;this._activeCreateOptions=null,t==="continuous"?this.create(n,u,this._activeCustomToolOptions):(this._activeCustomToolOptions=null,t==="update"&&this.update([s]))}}_toggleMenu(){this._menuOpen=!this._menuOpen,this.scheduleRender()}_onDuplicateSelect(){const e=this.duplicate(),t=this.viewModel.activeTool;t!=="transform"&&t!=="reshape"||this.update(e,{tool:t})}_onSelectionOperationComplete(e){const{viewModel:{defaultUpdateOptions:t}}=this,{selection:i}=e;if(!e.aborted&&i.length){const n=t.tool,s=i.length>1&&n==="reshape"?"transform":n;this.update(i,{...t,tool:s})}this.notifyChange("state")}_activateDefaultSelectTool(){var e;this.cancel(),(e=this.view)==null||e.focus()}};S([M()],an.prototype,"_activeCustomToolOptions",void 0),S([M()],an.prototype,"_activeCreateOptions",void 0),S([M()],an.prototype,"activeTool",null),S([M({readOnly:!0})],an.prototype,"activeTooltip",null),S([M({cast:e=>{if(!(e!=null&&e.length))return null;const t=new Set(["point","polyline","polygon","rectangle","circle"]);return e.filter(i=>t.has(i))}})],an.prototype,"availableCreateTools",void 0),S([M({readOnly:!0})],an.prototype,"createGraphic",null),S([M()],an.prototype,"creationMode",void 0),S([M()],an.prototype,"customToolOptions",void 0),S([M()],an.prototype,"defaultCreateOptions",null),S([M()],an.prototype,"defaultUpdateOptions",null),S([M()],an.prototype,"icon",null),S([M()],an.prototype,"label",null),S([M()],an.prototype,"labelOptions",null),S([M()],an.prototype,"layer",null),S([M({type:["horizontal","vertical"]})],an.prototype,"layout",void 0),S([M(),Jf("esri/widgets/Sketch/t9n/Sketch")],an.prototype,"messages",void 0),S([M(),Jf("esri/t9n/common")],an.prototype,"messagesCommon",void 0),S([M()],an.prototype,"snappingOptions",null),S([M()],an.prototype,"state",null),S([M()],an.prototype,"tooltipOptions",null),S([M({readOnly:!0})],an.prototype,"updateGraphics",null),S([M({type:L6,nonNullable:!0})],an.prototype,"valueOptions",null),S([M()],an.prototype,"view",null),S([M(),$De(["create","update","undo","redo"])],an.prototype,"viewModel",null),S([M({type:tre,nonNullable:!0})],an.prototype,"visibleElements",void 0),S([M()],an.prototype,"_effectiveAvailableCreateTools",null),an=S([ue("esri.widgets.Sketch")],an);const nE=an,LDe=Object.freeze(Object.defineProperty({__proto__:null,default:nE},Symbol.toStringTag,{value:"Module"}));function zDe(e){switch(e){case 1:return"Unknown error";case 2:return"Corrupted geometry";case 3:return"Empty geometry";case 4:return"Math singularity";case 5:return"Buffer is too small";case 6:return"Invalid shape type";case 7:return"Projection out of supported range";case 8:return"Non simple geometry";case 9:return"Cannot calculate geodesic";case 10:return"Notation conversion";case 11:return"Missing grid file";case 12:return"Invalid call";case 13:return"Internal error";case 14:return"Not implemented";case 15:return"IO error";case 16:return"Invalid 3D";case 17:return"An ambiguous geography edge with antipodal points";case 18:return"Geocentric coordinates require ellipsoidal height";case 19:return"Geography cannot be projected into a gnomonic plane or a result of an operation cannot fit into a gnomonic plane";case 20:return"Geometry is too large to be exported in to a given format";case 21:return"Operation is canceled by the user";default:return"unknown error"}}function il(e,t){try{if(!e)throw new Error(t)}catch(i){throw i}}class jDe extends Error{constructor(t,i){super(),this.m_AdditionalMessage=i,this.m_ErrorType=t}what(){return zDe(this.m_ErrorType)}additionalMessage(){return this.m_AdditionalMessage?this.m_AdditionalMessage:""}code(){return this.m_ErrorType}}var $a;(function(e){e[e.enumUnknown=0]="enumUnknown",e[e.enumPoint=513]="enumPoint",e[e.enumLine=5122]="enumLine",e[e.enumBezier=5123]="enumBezier",e[e.enumEllipticArc=5124]="enumEllipticArc",e[e.enumEnvelope=3077]="enumEnvelope",e[e.enumMultiPoint=8710]="enumMultiPoint",e[e.enumPolyline=25607]="enumPolyline",e[e.enumPolygon=27656]="enumPolygon",e[e.enumMultipatch=40969]="enumMultipatch",e[e.enumGeometryCollection=3594]="enumGeometryCollection",e[e.enumRationalBezier2=5134]="enumRationalBezier2",e[e.enumBezier2=5135]="enumBezier2",e[e.enumRationalBezier23d=5392]="enumRationalBezier23d",e[e.enumGreatArc3d=5393]="enumGreatArc3d"})($a||($a={}));function FDe(e){const t=new jDe(14,e);throw t.name="not implemented",t}function UDe(e){const t=new Error(e);throw t.name="out of range exception",t}const VDe=0x0000ffffn,GDe=0x000000ffn,HDe=0x0fn,qDe=[5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1];function fq(e){let t=0;return e&VDe||(t+=16,e>>=16n),e&GDe||(t+=8,e>>=8n),e&HDe||(t+=4,e>>=4n),t+qDe[Number(BigInt.asUintN(4,e))]}class _y{constructor(t,i){if(t!==void 0){if(t instanceof _y)return this.vmin=t.vmin,void(this.vmax=t.vmax);this.vmin=t,this.vmax=i,this.normalize()}else this.setEmpty()}static construct(t,i){return new _y(t,i)}static constructEmpty(){return new _y}setCoords(t,i){this.vmin=t,this.vmax=i,this.normalize()}setCoordsFromEnvelope(t){this.vmin=t.vmin,this.vmax=t.vmax}setEmpty(){this.vmin=Number.NaN,this.vmax=Number.NaN}getCenter(){return .5*(this.vmin+this.vmax)}equalsRange(t,i){return XA(this.vmin,t)&&XA(this.vmax,i)}equals(t,i){return!(!this.isEmpty()||!t.isEmpty())||(i!==void 0?Math.abs(this.vmin-t.vmin)<=i&&Math.abs(this.vmax-t.vmax)<=i:this.vmin===t.vmin&&this.vmax===t.vmax)}width(){return this.vmax-this.vmin}isEmpty(){return Number.isNaN(this.vmin)||Number.isNaN(this.vmax)}isZero(){return il(0),!0}setInfinite(){this.vmin=Number.NEGATIVE_INFINITY,this.vmax=Number.POSITIVE_INFINITY}move(t){this.isEmpty()||(this.vmin+=t,this.vmax+=t)}contains(t){return t.vmin>=this.vmin&&t.vmax<=this.vmax}containsCoordinate(t){return t>=this.vmin&&t<=this.vmax}containsRightExclusive(t){return t>=this.vmin&&t<this.vmax}containsExclusiveCoordinate(t){return t>this.vmin&&t<this.vmax}containsExclusive(t){return il(0),!0}isIntersecting(t){return this.vmin<=t.vmin?this.vmax>=t.vmin:t.vmax>=this.vmin}mergeCoordinate(t){if(this.isEmpty())return this.vmin=t,void(this.vmax=t);this.mergeNeCoordinate(t)}merge(t){if(t.isEmpty())return;const i=t.vmin,n=t.vmax;this.mergeCoordinate(i),this.mergeCoordinate(n)}mergeNe(t){const i=t.vmin,n=t.vmax;this.mergeNeCoordinate(i),this.mergeNeCoordinate(n)}mergeNeCoordinate(t){t<this.vmin?this.vmin=t:t>this.vmax&&(this.vmax=t)}intersect(t){this.isEmpty()||t.isEmpty()?this.setEmpty():(this.vmin<t.vmin&&(this.vmin=t.vmin),this.vmax>t.vmax&&(this.vmax=t.vmax),this.vmin>this.vmax&&this.setEmpty())}inflate(t){il(0)}normalize(){this.vmin<=this.vmax||(this.vmin>this.vmax?this.vmax=KA(this.vmin,this.vmin=this.vmax):this.setEmpty())}isValid(){return this.isEmpty()||this.vmin<=this.vmax}snapClip(t){return XDe(t,this.vmin,this.vmax)}calculateToleranceFromEnvelope(){return this.isEmpty()?pq():(Math.abs(this.vmin)+Math.abs(this.vmax)+1)*pq()}static unit(){return BDe}normalizeNoNAN(){this.vmin>this.vmax&&(this.vmax=KA(this.vmin,this.vmin=this.vmax))}setCoordsNoNAN(t,i){this.vmin=t,this.vmax=i,this.normalizeNoNAN()}clone(){return new _y(this.vmin,this.vmax)}}const BDe=new _y(0,1);function KA(e,t){return e}const ese=new ArrayBuffer(8),WDe=new Float64Array(ese),JDe=new BigUint64Array(ese);function ZDe(e){return WDe[0]=e,JDe[0]}function Wp(e){if(e===0n)return-1n;if(e===1n||-1n===e)return 0n;e<0n&&(e=-e);let t=0n,i=512n,n=1n<<t+i;for(;e>=n;)t+=i,i<<=1n,n<<=i;let s=t;i>>=1n;let u=s+i;for(;i>0n;)e<1n<<u||(s=u),i>>=1n,u=s+i;return s}function XA(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function tse(){return 2147483647}const YDe=tse();BigInt(YDe);const KDe=100;function pq(){return Number.EPSILON*KDe}function XDe(e,t,i){return e>=t?e<=i?e:i:t}function mq(e){return{v:e}}class rn{constructor(){this.m_rn=mq(0n),this.m_rd=mq(1n),this.m_bNaN=!1,this.m_bNormalized=!1,this.m_power=0,this.m_sign=0}static constructAssign(t,i){const n=t.clone();return i!==void 0&&n.limitPrecisionThis(i),n}static constructDouble(t){return new rn().setDouble(t)}static constructInt64(t){return new rn().setInt64(t)}static constructRational(t,i){return new rn().setRational(t,i)}static constructInt32(t){return this.constructInt64(BigInt(Math.trunc(t)))}[Symbol.toPrimitive](t){return this}compare(t){return this.lt(t)?-1:this.gt(t)?1:0}assignCopy(t){return this.setThis(t)}abs(){return this.clone().absThis()}absThis(){return this.isNAN()||(this.m_sign*=this.m_sign),this}clone(){return new rn().setThis(this)}setThis(t){return this.m_bNaN=t.m_bNaN,this.m_bNormalized=t.m_bNormalized,this.m_rn.v=t.m_rn.v,this.m_rd.v=t.m_rd.v,this.m_power=t.m_power,this.m_sign=t.m_sign,this}setZero(){return this.m_rn.v=0n,this.m_rd.v=1n,this.m_bNaN=!1,this.m_power=0,this.m_bNormalized=!0,this.m_sign=0,this}setDouble(t){if(this.setZero(),t===0)return this;if(Number.isInteger(t)&&Math.abs(t)<tse())return this.setInt32(t);const i=ZDe(t),n=(i&rn.s_em)>>52n,s=!!(i&rn.s_sm),u=i&rn.s_fm;if(n===rn.s_emax)return u?(this.m_rn.v=this.m_rd.v=0n,this.m_bNaN=!0,this):(this.m_rn.v=s?-1n:1n,this.m_rd.v=0n,this);n===0n&&FDe("denormalized numbers not yet implemented");const p=n-1023n,g=p>=0n?p:0n,w=p<0n?-p:0n;return this.m_rn.v=(1n<<52n|u)<<g,this.m_rd.v=1n<<52n+w,this.m_sign=s?-1:1,this.m_bNormalized=!1,this.normalizeThis()}setInt64(t){return t===0n?this.setZero():(this.m_bNaN=!1,this.m_sign=t>0n?1:-1,this.m_rn.v=t>0n?t:-t,this.m_rd.v=1n,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setRational(t,i){return t===0n?i===0n?this.setNAN():this.setZero():i===0n?t>0n?this.setPositiveInf():this.setNegativeInf():(this.m_sign=(t>0n?1:-1)*(i>0n?1:-1),this.m_rn.v=t>0n?t:-t,this.m_rd.v=i>0n?i:-i,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setInt32(t){return this.setInt64(BigInt(Math.trunc(t)))}getDouble(){return this.convertToDouble()}toDouble(){return this.convertToDouble()}value(){return this.convertToDouble()}isNAN(){return this.m_bNaN}isPositiveInf(){return!this.isNAN()&&this.m_rd.v===0n&&this.m_sign===1}isNegativeInf(){return!this.isNAN()&&this.m_rd.v===0n&&this.m_sign===-1}isFinite(){return!this.isNAN()&&this.m_rd.v!==0n}setNAN(){return this.m_bNaN=!0,this.m_rn.v=0n,this.m_rd.v=0n,this.m_power=0,this.m_bNormalized=!0,this}setPositiveInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=1,this.m_power=0,this}setNegativeInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=-1,this.m_power=0,this}subThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())this.setNAN();else{if(this.isPositiveInf()&&t.isNegativeInf())return this.setPositiveInf(),this;if(this.isNegativeInf()&&t.isNegativeInf())this.setNAN();else if(this.isNegativeInf()&&t.isPositiveInf())return this.setNegativeInf(),this}return this.isNAN()?this:this.opPlusMinus(t,!1)}thisSubAbs(t){return il(0),this}mulThis(t){return t.isNAN()&&this.setNAN(),this.isNAN()?this:(this.m_sign*=t.m_sign,this.m_sign===0?this.setZero():(this.m_rn.v*=t.m_rn.v,this.m_rd.v*=t.m_rd.v,this.m_power+=t.m_power,this.m_bNormalized=!1,this.normalizeThis(),this))}mulDoubleThis(t){return this.mulThis(rn.constructDouble(t))}thisMulInt64(t){return il(0),this}thisMulInt32(t){return il(0),this}divThis(t){return this.mulThis(t.clone().invertThis())}divDoubleThis(t){return this.divThis(rn.constructDouble(t))}addDoubleThis(t){return this.addThis(rn.constructDouble(t))}subDoubleThis(t){return this.subThis(rn.constructDouble(t))}mul(t){return this.clone().mulThis(t)}mulBigIntThis(t){return this.mulThis(rn.constructInt64(t))}mulDouble(t){return this.clone().mulThis(rn.constructDouble(t))}div(t){return this.clone().divThis(t)}divDouble(t){return this.clone().divDoubleThis(t)}add(t){return this.clone().addThis(t)}fmSubThis(t,i){return this.subThis(t.clone().mulThis(i))}fmAddThis(t,i){return this.addThis(t.clone().mulThis(i))}addThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())return this.setPositiveInf(),this;if(this.isPositiveInf()&&t.isNegativeInf())this.setNAN();else{if(this.isNegativeInf()&&t.isNegativeInf())return this.setNegativeInf(),this;this.isNegativeInf()&&t.isPositiveInf()&&this.setNAN()}return this.isNAN()?this:this.opPlusMinus(t,!0)}addDouble(t){return this.clone().addThis(rn.constructDouble(t))}sub(t){return this.clone().subThis(t)}subDouble(t){return this.clone().subThis(rn.constructDouble(t))}isZero(){return this.m_sign===0}equals(t){return this.clone().subThis(t).isZero()}lt(t){return!this.isNAN()&&!t.isNAN()&&!(this.isPositiveInf()&&t.isPositiveInf()||this.isNegativeInf()&&t.isNegativeInf())&&!this.isPositiveInf()&&(!!t.isPositiveInf()||this.clone().sub(t).LZ())}absLessAbs(t){return this.abs().lt(t.abs())}gt(t){return this.clone().sub(t).GZ()}lte(t){return this.sub(t).LEZ()}gte(t){return this.sub(t).GEZ()}normalizeThis(){if(this.m_bNormalized)return this;if(this.m_rn.v===0n)return this.setZero();let t=0,i=0xffffffffn;for(;(this.m_rn.v&i)===0n&&i<=this.m_rn.v;)i<<=32n,t+=32;i&=this.m_rn.v,i>>=BigInt(t),t+=fq(BigInt.asUintN(32,i))-1;let n=0;for(i=0xffffffffn;(this.m_rd.v&i)===0n&&i<=this.m_rd.v;)i<<=32n,n+=32;return i&=this.m_rd.v,i>>=BigInt(n),n+=fq(BigInt.asUintN(32,i))-1,this.m_rn.v>>=BigInt(t),this.m_rd.v>>=BigInt(n),this.m_power+=t-n,this.m_rn.v>1n&&this.m_rd.v>1n&&(this.m_rn.v%this.m_rd.v===0n?(this.m_rn.v/=this.m_rd.v,this.m_rd.v=1n):this.m_rd.v%this.m_rn.v===0n&&(this.m_rd.v/=this.m_rn.v,this.m_rn.v=1n)),this.m_bNormalized=!0,this}negateThis(){return this.isNAN()||(this.m_sign*=-1),this}negate(){return this.clone().negateThis()}invertThis(){return this.isNAN()?this:this.isPositiveInf()||this.isNegativeInf()?(this.setZero(),this):this.m_rn.v===0n?(this.setPositiveInf(),this):(this.m_rd=KA(this.m_rn,this.m_rn=this.m_rd),this.m_power=-this.m_power,this)}limitPrecisionThis(t){if(t===0)return this;if(this.isZero())return this.setZero();if(!this.isFinite())return this;this.normalizeThis();let i=Number(Wp(this.m_rn.v));if(i>t){const n=i-t;this.m_rn.v>>=BigInt(i-t),this.m_power+=n}if(i=Number(Wp(this.m_rd.v)),i>t){const n=i-t;this.m_rd.v>>=BigInt(i-t),this.m_power-=n}return this}hiBitIndex(){return Math.max(Number(Wp(this.m_rn.v)),Number(Wp(this.m_rd.v)))}ldexp(t){return this.clone().ldexpThis(t)}ldexpThis(t){return t&&(this.m_bNormalized=!1,this.m_power+=t,this.normalizeThis()),this}LZ(){return!this.isNAN()&&this.m_sign===-1}GZ(){return!this.isNAN()&&this.m_sign===1}LEZ(){return!this.isNAN()&&this.m_sign<=0}GEZ(){return!this.isNAN()&&this.m_sign>=0}toString(){return this.toDouble().toString()}sqr(){return this.clone().sqrThis()}sqrThis(){return this.mulThis(this.clone())}static sqrt(t,i){if(t.m_sign<0n&&UDe("MP_value: sqrt(-1)"),t.isZero())return t.clone();let n=52,s=2220446049250313e-31;for(;n<i;)2*n<=i?(s*=s,n*=2):(s*=2220446049250313e-31,n+=52);n+=52;const u=Wp(t.m_rn.v),p=Wp(t.m_rd.v);let g,w=t.m_power+Number(u-p);const E=new rn;Math.abs(w)>200?(1&Math.abs(w)&&(w+=1),g=rn.constructAssign(t,53).ldexpThis(-w).value(),E.setThis(t).ldexpThis(-w),il(Number.isFinite(g))):(E.setThis(t),g=E.value(),il(Number.isFinite(g)),w=0),g=Math.sqrt(g);const A=rn.constructDouble(g),I=rn.constructDouble(s);I.mulThis(A).ldexpThis(1);const R=s*g*2,F=A.clone(),q=new rn;let B;for(let K=0;K<10;++K){F.mulThis(A),q.setThis(E).subThis(F).absThis();let te=q.value();if(B=1,te<.9)for(;te>R;)te*=te,++B;else B=4;if(q.lte(I))break;for(let ce=0;ce<B;ce++)F.setThis(A).divThis(E).invertThis().addThis(A).ldexpThis(-1).limitPrecisionThis(n),A.setThis(F)}return A.ldexpThis(w/2)}static cubicRoot(t,i){if(t.isZero())return t.clone();let n=52,s=2220446049250313e-31;for(;n<i;)2*n<=i?(s*=s,n*=2):(s*=2220446049250313e-31,n+=52);n+=52;const u=Math.pow(Math.abs(t.value()),1/3),p=rn.constructDouble(u),g=p.clone();g.sqrThis().mulDoubleThis(3).mulDoubleThis(s),g.limitPrecisionThis(32),t.LZ()&&p.negateThis();for(let w=0;w<10;++w){const E=p.clone();E.sqrThis().mulThis(p);const A=E.clone();if(A.subThis(t),A.absThis().limitPrecisionThis(32),A.lte(g))break;A.setThis(t),A.ldexpThis(1),A.addThis(E);const I=E.clone();I.ldexpThis(1),I.addThis(t),A.divThis(I),p.mulThis(A),p.limitPrecisionThis(n)}return p}isInTheRangeOfDouble(){return il(0),!1}sign(){return this.m_sign}cosAndSin(t,i){il(0)}static nan(){return il(0),new rn}convertToDouble(){if(this.m_bNaN)return Number.NaN;if(this.isZero())return 0;if(this.m_rd.v===0n)return this.m_sign===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;const t=this.m_sign===-1,i=this.m_rn.v<<(this.m_power>=0?BigInt(this.m_power):0n);let n=this.m_rd.v<<(this.m_power<0?BigInt(-this.m_power):0n);const s=i/n;let u=Number(s);if(BigInt(u)!==s)return t?-u:u;let p=i-s*n;if(p){let g=Wp(n)-1023n;g>0n&&(n>>=g,p<<=52n,p>>=g);let w=Number(p);Number.isFinite(w)||(p>>=52n,w=Number(p),g=0n),g>0n&&(w/=Math.pow(2,52)),u+=w/Number(n)}return t?-u:u}signVal(){return this.m_sign===1?1n:this.m_sign===-1?-1n:0n}opPlusMinus(t,i){const n=Math.min(this.m_power,t.m_power);let s,u;this.m_power>n?(s=BigInt(this.m_power-n),u=0n):(s=0n,u=BigInt(t.m_power-n));const p=this.signVal()*this.m_rn.v*t.m_rd.v<<s,g=t.signVal()*t.m_rn.v*this.m_rd.v<<u;return this.m_rn.v=i?p+g:p-g,this.m_rd.v*=t.m_rd.v,this.m_power=n,this.m_sign=1,this.m_rn.v<0n&&(this.m_sign=-1,this.m_rn.v=-this.m_rn.v),this.m_bNormalized=!1,this.normalizeThis(),this}}rn.s_sm=0x8000000000000000n,rn.s_em=0x7ff0000000000000n,rn.s_fm=0x000fffffffffffffn,rn.s_emax=0x7ffn;rn.constructInt32(1);rn.constructInt32(0);const yq=[0,0,Number.NaN,0,0,0,0,0,-1,-1,0,0,0,0],QDe=[2,1,1,1,3,1,2,3,2,4,1,1,2,1],eNe=[1,1,1,0,2,1,1,1,0,0,0,0,0,1],tNe=[1,1,1,2,0,0,0,0,2,2,4,2,2,1],iNe=[4,8,4,8,1],nNe=25;let rNe=class mh{getAttributeCount(){return this.m_attributeCount}getSemantics(t){return this.m_indexToSemantics[t]}getSemanticsBitArray(){return this.m_semanticsBitArray}getAttributeIndex(t){return this.m_semanticsToIndexMap[t]}static getInterpolation(t){return eNe[t]}static getPersistence(t){return tNe[t]}static getPersistenceSize(t){return iNe[t]}static getPersistenceSizeFromSemantics(t){return mh.getPersistenceSize(mh.getPersistence(t))*mh.getComponentCount(t)}static getComponentCount(t){return QDe[t]}static maxComponentCount(){return 4}static isInteger(t){return t===2||t===3||t===4}static isIntegerSemantics(t){return mh.isInteger(mh.getPersistence(t))}static isTexture(t){return t===5||t===6||t===7}hasAttribute(t){return!!(this.m_semanticsBitArray&1<<t)}hasAttributesFrom(t){return(this.m_semanticsBitArray&t.m_semanticsBitArray)===t.m_semanticsBitArray}hasZ(){return this.hasAttribute(1)}hasM(){return this.hasAttribute(2)}hasID(){return this.hasAttribute(3)}getTotalComponentCount(){return this.m_totalComponentCount}static getDefaultValue(t){return yq[t]}static isDefaultValue(t,i){return XA(yq[t],i)}equals(t){return this===t}getDefaultPointAttributes(){return this.m_defaultPointAttributes}getPointAttributeOffset(t){return this.m_pointAttributeOffsets[t]}constructor(t){this.m_semanticsBitArray=t,this.m_attributeCount=0,this.m_totalComponentCount=0,this.m_semanticsToIndexMap=new Int32Array(14),this.m_indexToSemantics=new Int32Array(14),this.m_pointAttributeOffsets=new Int32Array(14),this.m_defaultPointAttributes=new Array(nNe),this.m_semanticsToIndexMap.fill(-1),this.m_indexToSemantics.fill(-1);let i=0,n=1,s=14;for(;i<s;i++)t&n&&(this.m_semanticsToIndexMap[i]=this.m_attributeCount,this.m_indexToSemantics[this.m_attributeCount]=i,this.m_attributeCount++,this.m_totalComponentCount+=mh.getComponentCount(i)),n<<=1;let u=0;for(i=0,s=this.getAttributeCount();i<s;i++){const p=this.getSemantics(i),g=mh.getComponentCount(p),w=mh.getDefaultValue(p);this.m_pointAttributeOffsets[i]=u;for(let E=0;E<g;E++)this.m_defaultPointAttributes[u]=w,u++}}};var Q8=rNe;class h_{static getInstance(){return h_.s_thisInstance}constructor(){this.m_map=new Map,this.m_vd2D=new Q8(1),this.m_map.set(1,this.m_vd2D),this.m_vd3D=new Q8(3),this.m_map.set(3,this.m_vd2D)}GetVD2D(){return this.m_vd2D}GetVD3D(){return this.m_vd3D}FindOrAdd(t){if(t===1)return this.GetVD2D();if(t===3)return this.GetVD3D();const i=this.m_map.get(t);if(i)return i;const n=new Q8(t);return this.m_map.set(t,n),n}}h_.s_thisInstance=new h_;$a.enumPoint;$a.enumEnvelope;$a.enumMultiPoint;$a.enumGeometryCollection;$a.enumBezier2;$a.enumBezier;$a.enumRationalBezier2;$a.enumPolyline;$a.enumEllipticArc;$a.enumPolygon;var gq,vq;(function(e){e[e.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",e[e.enumInputModeSimplifyAlternate=1]="enumInputModeSimplifyAlternate",e[e.enumInputModeSimplifyWinding=2]="enumInputModeSimplifyWinding"})(gq||(gq={})),function(e){e[e.enumSegmentParentageBreakNode=1]="enumSegmentParentageBreakNode",e[e.enumPathBreakNode=2]="enumPathBreakNode"}(vq||(vq={}));$a.enumLine;var bq;function sNe(e){oNe(e)}(function(e){e[e.utmDefault=0]="utmDefault",e[e.utmNorthSouth=1]="utmNorthSouth"})(bq||(bq={}));let wq=null;function oNe(e){wq=e,il(wq)}sNe(e=>{let t,i;typeof e=="number"?t=e:i=e;const n={wkid:t,wkt:i};let s,u;if(i){s=U_(i);const p=eg(n);if(!s&&!p)throw new Error(`Unsupported WKT type: ${i}`)}else s=!eg(n);return u=t&&$Z.has(t)?Math.PI/200:s?nI(n):Math.PI/180,{isPCS:s,metersOrRadiansPerUnit:u,semiMajor:0,wkidOrWkt:e}});var xq;(function(e){e[e.enumDummy=256]="enumDummy",e[e.enumLine=1]="enumLine",e[e.enumArc=2]="enumArc",e[e.enumMiter=8]="enumMiter",e[e.enumBevel=16]="enumBevel",e[e.enumJoinMask=26]="enumJoinMask",e[e.enumConnectionMask=27]="enumConnectionMask"})(xq||(xq={}));Dq("https://js.arcgis.com/calcite-components/2.13.2/assets");function aNe(e){const t=new _a;t.authMode="immediate",t.load().then(()=>{document.querySelector("#header-user").fullName=t.user.fullName,document.querySelector("#header-user").username=t.user.username,document.querySelector("#header-user").avatarUrl=t.user.thumbnailUrl});const i=document.getElementById("about-btn"),n=document.getElementById("about-dialog");i.addEventListener("click",()=>{n.open=!0});const s=e.target.map;s.allLayers.forEach(g=>{g.title==="Regrid_Nationwide_Parcel_Boundaries_May24"&&(g.visible=!1),g.title==="Michigan"&&(g.visible=!1),g.title==="Michigan Counties"&&(g.visible=!1)});const u=s.allLayers.find(g=>g.title==="Substations");s.remove(u);const p=new Bg({title:"Selected Features"});s.add(p)}function lNe(){TI.destroyCredentials(),window.location.reload()}const cNe=Coe.createRoot(document.getElementById("root"));cNe.render(At.jsxs(Soe.StrictMode,{children:[At.jsxs("calcite-shell",{children:[At.jsxs("calcite-navigation",{slot:"header",id:"header",children:[At.jsx("calcite-navigation-logo",{id:"header-title",slot:"logo",heading:"R-STEP Solar Panel Planning",href:"#",description:"A web toolkit for solar panel planning"}),At.jsxs("calcite-menu",{slot:"content-end",children:[At.jsx("calcite-menu-item",{text:"Map","icon-start":"globe"}),At.jsx("calcite-menu-item",{text:"About","icon-start":"information",id:"about-btn"}),At.jsx("calcite-menu-item",{text:"GitHub","icon-start":"code",href:"https://github.com/HumblePasty/rstep-siting-tool",target:"_blank",id:"about-btn"})]}),At.jsxs("calcite-dropdown",{id:"header-dropdown",slot:"content-end",children:[At.jsx("calcite-navigation-user",{id:"header-user","full-name":"Jane Doe",username:"jane.doe",slot:"trigger"}),At.jsx("calcite-dropdown-group",{"group-title":"User Settings","selection-mode":"none",children:At.jsx("calcite-dropdown-item",{onClick:lNe,children:"Log out"})})]})]}),At.jsxs("div",{slot:"footer",id:"footer","justify-content":"center","align-items":"center",children:["Created by ",At.jsx("a",{href:"https://5lakesenergy.com/",target:"_blank",children:"5 Lakes Energy LLC"})," |  Learn more about the ",At.jsx("a",{href:"https://www.energy.gov/eere/renewable-energy-siting-through-technical-engagement-and-planning-r-steptm",target:"_blank",children:"R-STEP Program"})]}),At.jsxs("arcgis-map",{itemId:"1d9aec5e950f46f9a35a0d399e7e0cf1",center:"-83.74, 42.27",zoom:"15",onarcgisViewReadyChange:aNe,children:[At.jsx("arcgis-placement",{position:"top-left",children:At.jsxs("calcite-action-pad",{expanded:"true",overlayPositioning:"fixed",children:[At.jsx("calcite-action",{text:"Define Solar Array",icon:"polygon",id:"AddAction"}),At.jsx("calcite-popover",{"reference-element":"AddAction",label:"Add",overlayPositioning:"fixed",autoClose:!0,children:At.jsx("arcgis-sketch",{id:"my-sketch",onarcgisCreate:mNe})}),At.jsx("calcite-action",{text:"Upload Base Data",icon:"upload",onClick:uNe}),At.jsx("calcite-action",{text:"Edit Base Data",icon:"pencil",id:"EditAction"}),At.jsx("calcite-popover",{"reference-element":"EditAction",label:"Edit",overlayPositioning:"fixed",autoClose:!0,children:At.jsx("arcgis-editor",{})}),At.jsx("calcite-action",{text:"Add Clipping Features",icon:"crop",id:"CropAction"}),At.jsx("calcite-popover",{"reference-element":"CropAction",label:"Crop",overlayPositioning:"fixed",autoClose:!0,children:At.jsxs("calcite-action-pad",{expandDisabled:!0,expanded:!0,children:[At.jsx("calcite-action",{text:"Add Building Footprints",icon:"footprint",onClick:yNe}),At.jsx("calcite-action",{text:"Add Roads",icon:"curve",onClick:gNe}),At.jsx("calcite-action",{text:"Self-defined Polygon",icon:"polygon",onClick:vNe})]})}),At.jsx("calcite-action",{id:"EditBufferAction",text:"Edit Buffer Distance",icon:"rings",children:At.jsx("calcite-popover",{id:"EditBufferPopover","reference-element":"EditBufferAction",label:"Buffer",overlayPositioning:"fixed",autoClose:!0,children:At.jsxs("calcite-label",{alignment:"center",children:["Buffer Distance",At.jsx("calcite-slider",{min:"0",max:"100",step:"1",value:"50","label-handles":!0,"label-ticks":!0,"min-label":"1","max-label":"100"})]})})}),At.jsx("calcite-action",{text:"View Clipped Results",icon:"view-visible",onClick:bNe}),At.jsx("calcite-action",{text:"Import from File",icon:"upload",onClick:dNe}),At.jsx("calcite-action",{id:"ExportAction",text:"Export Results",icon:"download",onClick:fNe,disabled:!0}),At.jsx("calcite-action",{id:"ClearAction",text:"Clear",icon:"trash",onClick:pNe,disabled:!0}),At.jsx("calcite-tooltip",{slot:"expand-tooltip",children:"Toggle Action Bar"})]})}),At.jsx("arcgis-placement",{position:"top-right",children:At.jsxs("calcite-action-pad",{expanded:"false",overlayPositioning:"fixed",id:"map-views-pad",children:[At.jsx("calcite-action",{text:"Basemap",icon:"basemap",id:"BasemapAction"}),At.jsx("calcite-popover",{"reference-element":"BasemapAction",label:"Basemap",overlayPositioning:"fixed",autoClose:!0,children:At.jsx("arcgis-basemap-gallery",{})}),At.jsx("calcite-action",{text:"Layer List",icon:"layers",id:"LayerListAction"}),At.jsx("calcite-popover",{"reference-element":"LayerListAction",label:"Layer List",overlayPositioning:"fixed",autoClose:!0,children:At.jsx("arcgis-layer-list",{})}),At.jsx("calcite-action",{text:"Legend",icon:"legend",id:"LegendAction"}),At.jsx("calcite-popover",{"reference-element":"LegendAction",label:"Legend",overlayPositioning:"fixed",autoClose:!0,children:At.jsx("arcgis-legend",{})}),At.jsx("calcite-action",{text:"Measure Distance",icon:"measure-line",id:"MeasureDistanceAction"}),At.jsx("calcite-popover",{"reference-element":"MeasureDistanceAction",label:"Measure Distance",overlayPositioning:"fixed",autoClose:!0,children:At.jsx("arcgis-distance-measurement-2d",{})}),At.jsx("calcite-action",{text:"Measure Area",icon:"measure-area",id:"MeasureAreaAction"}),At.jsx("calcite-popover",{"reference-element":"MeasureAreaAction",label:"Measure Area",overlayPositioning:"fixed",autoClose:!0,children:At.jsx("arcgis-area-measurement-2d",{})})]})})]})]}),At.jsxs("calcite-dialog",{modal:!0,heading:"About",id:"about-dialog",children:[At.jsx("calcite-label",{children:"This is a web toolkit for solar panel planning."}),At.jsxs("ul",{children:[At.jsx("li",{children:"Start by adding a polygon to the map to represent a solar panel array."}),At.jsx("li",{children:'Use the "Edit Layers" button to edit the polygon or other layers on the map.'}),At.jsx("li",{children:"You can also import and export GeoJSON files to save and share your work."}),At.jsx("li",{children:'Use the "Clear" button to remove all the graphics from the map.'}),At.jsx("li",{children:"TBD..."})]})]})]}));function uNe(){const e="https://www.arcgis.com",t=document.querySelector("arcgis-map").view,i=document.createElement("input");i.type="file",i.accept=".zip",i.onchange=n=>{const s=n.target.files[0],u=new FileReader;u.onload=p=>{const g={name:s.name,targetSR:t.spatialReference,maxRecordCount:1e3,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0},w=t.resolution;g.generalize=!0,g.maxAllowableOffset=w,g.reducePrecision=!0,g.numberOfDigitsAfterDecimal=0;const E=new FormData;E.append("filetype","shapefile"),E.append("publishParameters",JSON.stringify(g)),E.append("f","json"),E.append("file",s),en(e+"/sharing/rest/content/features/generate",{method:"POST",body:E}).then(function(A){if(console.log(A),!A&&A.error){console.error(A.error);return}hNe(A.data.featureCollection)})},u.readAsArrayBuffer(s)},i.click()}function hNe(e){var t=[];e.layers.forEach(function(n){var s=new $ie({objectIdField:"ObjectID"});switch(n.featureSet.geometryType){case"esriGeometryPoint":n.featureSet.features.forEach(function(u){u.geometry=new gi({x:u.geometry.x,y:u.geometry.y,spatialReference:u.geometry.spatialReference})}),s.renderer={type:"simple",symbol:{type:"simple-marker",size:6,color:"black"}};break;case"esriGeometryPolygon":n.featureSet.features.forEach(function(u){u.geometry=new fo({rings:u.geometry.rings,spatialReference:u.geometry.spatialReference})}),s.renderer={type:"simple",symbol:{type:"simple-fill",size:6,color:"black"}};break;case"esriGeometryPolyline":n.featureSet.features.forEach(function(u){u.geometry=new qh({paths:u.geometry.paths,spatialReference:u.geometry.spatialReference})}),s.renderer={type:"simple",symbol:{type:"simple-line",size:6,color:"white"}};break;default:console.log("Not a valid shapefile")}s.source=n.featureSet.features,t.push(s)}),document.querySelector("arcgis-map").map.addMany(t)}function dNe(){const e=document.createElement("input");e.type="file",e.accept=".geojson",e.onchange=t=>{const i=t.target.files[0],n=new FileReader;n.onload=s=>{const u=JSON.parse(s.target.result);console.log(u),document.querySelector("#my-sketch").layer.addMany(u.features)},n.readAsText(i)},e.click()}function fNe(){const i={type:"FeatureCollection",features:document.querySelector("#my-sketch").layer.graphics.map(p=>p.toJSON())},n=new Blob([JSON.stringify(i)],{type:"application/json"}),s=URL.createObjectURL(n),u=document.createElement("a");u.href=s,u.download="sketch.geojson",u.click()}function pNe(){document.querySelector("#my-sketch").layer.removeAll(),document.querySelector("#ExportAction").disabled=!0,document.querySelector("#ClearAction").disabled=!0}function mNe(e){document.querySelector("#my-sketch").layer.graphics.on("after-changes",i=>{document.querySelector("#ExportAction").disabled=i.length===0,document.querySelector("#ClearAction").disabled=i.length===0})}function yNe(){const e=document.querySelector("arcgis-map").view,t=new nE({layer:new Bg({title:"Building Footprints"}),view:e,creationMode:"single",updateOnGraphicClick:!0});t.create("polygon"),t.layer.graphics.on("after-add",i=>{i.item})}function gNe(){const e=document.querySelector("arcgis-map").view,t=document.querySelector("arcgis-map").map,i=new nE({layer:new Bg({title:"Roads"}),view:e,creationMode:"single",updateOnGraphicClick:!0});i.create("rectangle"),i.layer.graphics.on("after-add",n=>{const s=n.item,u=t.allLayers.find(g=>g.title==="All Roads"),p=u.createQuery();p.geometry=s.geometry,p.spatialRelationship="intersects",u.queryFeatures(p).then(g=>{t.allLayers.find(E=>E.title==="Selected Features").addMany(g.features.filter(E=>E.geometry).map(E=>E.clone()))})})}function vNe(){const e=document.querySelector("arcgis-map").view,t=new nE({layer:new Bg,view:e,creationMode:"single",updateOnGraphicClick:!0});t.create("polygon"),t.layer.graphics.on("after-add",i=>{document.querySelector("arcgis-map").map.allLayers.find(s=>s.title==="Selected Features").add(i.item)})}function bNe(){document.querySelector("#my-sketch").layer,document.querySelector("arcgis-map").map.allLayers.find(e=>e.title==="Selected Features")}export{GSe as $,Kce as A,lGe as B,vt as C,Yje as D,z_ as E,uo as F,nGe as G,ke as H,kce as I,rye as J,Sf as K,rGe as L,li as M,fj as N,aGe as O,wc as P,vEe as Q,xt as R,k_ as S,Fo as T,yS as U,Bt as V,_a as W,ho as X,en as Y,Ge as Z,XY as _,t$e as a,hl as a$,HSe as a0,qSe as a1,ute as a2,hp as a3,tt as a4,ft as a5,YX as a6,mo as a7,Go as a8,HP as a9,Fr as aA,xke as aB,Py as aC,qh as aD,pX as aE,OI as aF,fX as aG,rU as aH,SVe as aI,RFe as aJ,eUe as aK,tUe as aL,zw as aM,kJ as aN,Ag as aO,Bi as aP,X4 as aQ,FC as aR,Ur as aS,Ro as aT,xJ as aU,Gn as aV,PO as aW,wg as aX,Ut as aY,I1e as aZ,BHe as a_,Pre as aa,_1 as ab,l7e as ac,yte as ad,S7e as ae,YHe as af,ZHe as ag,pa as ah,Zf as ai,tFe as aj,lw as ak,_Ue as al,eg as am,cs as an,l1 as ao,fc as ap,jo as aq,BK as ar,c9e as as,u9e as at,iQ as au,Rre as av,m5e as aw,gRe as ax,a7e as ay,pr as az,Uh as b,DWe as b$,kr as b0,ls as b1,Do as b2,co as b3,Zw as b4,Gt as b5,kTe as b6,rt as b7,Cye as b8,Rje as b9,wu as bA,EOe as bB,Yne as bC,Hh as bD,Y6 as bE,ln as bF,dt as bG,y3e as bH,Mw as bI,YY as bJ,Gje as bK,dx as bL,Bf as bM,$Ue as bN,g1 as bO,$xe as bP,Nxe as bQ,qje as bR,W2e as bS,B2e as bT,q2e as bU,Mxe as bV,xUe as bW,SUe as bX,mu as bY,Zt as bZ,bH as b_,A4 as ba,C_ as bb,O$e as bc,NP as bd,bn as be,$je as bf,Cje as bg,Mje as bh,kje as bi,Aje as bj,Oje as bk,yl as bl,gi as bm,Vw as bn,Vr as bo,TBe as bp,Zn as bq,U$e as br,sp as bs,gl as bt,Q4 as bu,aV as bv,nV as bw,Ta as bx,bo as by,SOe as bz,pu as c,MI as c$,Ms as c0,$ie as c1,RGe as c2,NGe as c3,DGe as c4,x_e as c5,w_e as c6,Rg as c7,Kye as c8,c6e as c9,w$e as cA,xie as cB,Ks as cC,XBe as cD,Ii as cE,mc as cF,JBe as cG,NCe as cH,WBe as cI,up as cJ,Jie as cK,YBe as cL,Ma as cM,Lo as cN,vte as cO,cr as cP,os as cQ,J2 as cR,In as cS,WP as cT,pp as cU,QBe as cV,dne as cW,mne as cX,xS as cY,eWe as cZ,AA as c_,mHe as ca,mGe as cb,aU as cc,N2 as cd,Mk as ce,l6e as cf,yHe as cg,gHe as ch,gP as ci,jt as cj,Yn as ck,Ite as cl,N7e as cm,L7e as cn,yX as co,Em as cp,n4e as cq,qf as cr,xje as cs,Tf as ct,fi as cu,PEe as cv,oje as cw,iGe as cx,su as cy,ai as cz,p3 as d,Rf as d$,tWe as d0,aWe as d1,R6 as d2,oc as d3,pg as d4,VF as d5,I1 as d6,rg as d7,_4 as d8,Fke as d9,VW as dA,HW as dB,qW as dC,YLe as dD,EFe as dE,x1e as dF,pze as dG,Qw as dH,ZO as dI,TS as dJ,LWe as dK,bVe as dL,aVe as dM,JFe as dN,v5e as dO,vUe as dP,i6 as dQ,J0 as dR,xM as dS,RW as dT,va as dU,oze as dV,Ei as dW,_i as dX,gt as dY,Qi as dZ,$de as d_,Gke as da,j_ as db,F_ as dc,eI as dd,tI as de,Nge as df,Lge as dg,Lqe as dh,WW as di,BW as dj,kVe as dk,O_ as dl,o3 as dm,yw as dn,_f as dp,ga as dq,D9e as dr,L_ as ds,HI as dt,N9e as du,sie as dv,wI as dw,Xy as dx,rje as dy,lje as dz,Xs as e,DBe as e$,Es as e0,m_ as e1,gc as e2,f_ as e3,ka as e4,vc as e5,Ca as e6,bc as e7,p_ as e8,yc as e9,ANe as eA,Hr as eB,v_ as eC,ice as eD,oce as eE,vB as eF,rce as eG,qi as eH,If as eI,q0 as eJ,wB as eK,nu as eL,lce as eM,zh as eN,Ehe as eO,qS as eP,VB as eQ,yM as eR,She as eS,xhe as eT,che as eU,ole as eV,Oce as eW,iPe as eX,FMe as eY,gu as eZ,lne as e_,Ss as ea,_s as eb,T1 as ec,fe as ed,ENe as ee,dO as ef,Js as eg,M1 as eh,Ar as ei,vO as ej,bg as ek,bl as el,Pw as em,rfe as en,sfe as eo,yo as ep,MNe as eq,Rce as er,Dce as es,ece as et,IL as eu,aO as ev,kNe as ew,sB as ex,g2 as ey,CNe as ez,i$e as f,_ie as f$,_Oe as f0,SS as f1,Gr as f2,wke as f3,Rge as f4,Cy as f5,iHe as f6,aHe as f7,oG as f8,oHe as f9,An as fA,fo as fB,x4 as fC,qM as fD,WM as fE,dg as fF,MO as fG,$O as fH,dc as fI,GHe as fJ,dze as fK,hze as fL,Bye as fM,Oo as fN,WO as fO,g3 as fP,R5e as fQ,EU as fR,_U as fS,Cze as fT,IO as fU,FO as fV,Wi as fW,Rte as fX,h$e as fY,fMe as fZ,n$e as f_,t9e as fa,ki as fb,xVe as fc,i3 as fd,YOe as fe,_Z as ff,see as fg,MEe as fh,pxe as fi,wUe as fj,Z_ as fk,Q5e as fl,II as fm,kxe as fn,MUe as fo,ol as fp,EUe as fq,PX as fr,AFe as fs,tJ as ft,u9 as fu,DZ as fv,Hg as fw,pie as fx,Dh as fy,cw as fz,ei as g,Vye as g$,Gee as g0,ite as g1,jTe as g2,NTe as g3,$s as g4,a3 as g5,Wh as g6,DTe as g7,zEe as g8,uTe as g9,VMe as gA,NFe as gB,ZFe as gC,Zs as gD,Bg as gE,L4 as gF,d4 as gG,dX as gH,YFe as gI,i5e as gJ,o1 as gK,pte as gL,nje as gM,uje as gN,SG as gO,TFe as gP,sC as gQ,Oze as gR,B2 as gS,si as gT,Hre as gU,m1 as gV,No as gW,Ug as gX,Hie as gY,vQ as gZ,bQ as g_,AEe as ga,Gg as gb,lke as gc,cke as gd,zo as ge,nBe as gf,eBe as gg,iBe as gh,LTe as gi,vHe as gj,t3 as gk,XFe as gl,rVe as gm,EVe as gn,uk as go,t4 as gp,DO as gq,H6 as gr,p$e as gs,vje as gt,Kf as gu,b$e as gv,C4 as gw,fn as gx,zg as gy,zFe as gz,m1e as h,N1 as h$,p$ as h0,BV as h1,yy as h2,qHe as h3,sce as h4,n1 as h5,qde as h6,y_ as h7,Ln as h8,oW as h9,KGe as hA,Pee as hB,Jde as hC,Nde as hD,wNe as hE,x2 as hF,mM as hG,FB as hH,UB as hI,qLe as hJ,cfe as hK,ufe as hL,$z as hM,mW as hN,$Le as hO,CLe as hP,rl as hQ,kfe as hR,kLe as hS,C1 as hT,Yw as hU,d9 as hV,N8 as hW,wOe as hX,xOe as hY,ip as hZ,Bne as h_,_fe as ha,pW as hb,Vde as hc,Mde as hd,jh as he,iW as hf,xce as hg,SNe as hh,_Ne as hi,dy as hj,Lhe as hk,dL as hl,yB as hm,gO as hn,E_ as ho,Wy as hp,xNe as hq,INe as hr,gje as hs,Z0 as ht,hVe as hu,MVe as hv,u4e as hw,Fh as hx,h_e as hy,$Ve as hz,e$e as i,pqe as i$,Fw as i0,Qqe as i1,DH as i2,jBe as i3,LBe as i4,kze as i5,gCe as i6,y1e as i7,CJe as i8,xg as i9,EA as iA,my as iB,V_ as iC,QFe as iD,qw as iE,jke as iF,jte as iG,uGe as iH,BUe as iI,I6 as iJ,UJe as iK,Yie as iL,WX as iM,Hw as iN,FVe as iO,ma as iP,Zje as iQ,EG as iR,l9e as iS,N6 as iT,kie as iU,WPe as iV,w3 as iW,b3 as iX,Gqe as iY,KG as iZ,fqe as i_,R1e as ia,Un as ib,gze as ic,Wf as id,ywe as ie,Ig as ig,Og as ih,dq as ii,rZe as ij,Jf as ik,WMe as il,vS as im,Ije as io,cje as ip,f8e as iq,bEe as ir,JHe as is,dTe as it,WHe as iu,hTe as iv,lme as iw,aR as ix,Kw as iy,h9 as iz,Mi as j,gMe as j$,Ie as j0,XEe as j1,EMe as j2,E6 as j3,ZVe as j4,pne as j5,eVe as j6,QUe as j7,w9e as j8,e6 as j9,Dj as jA,xZ as jB,SZ as jC,Hn as jD,YWe as jE,kFe as jF,WEe as jG,mte as jH,MCe as jI,kA as jJ,gte as jK,Ige as jL,cte as jM,T2 as jN,gFe as jO,tze as jP,_Re as jQ,CA as jR,JP as jS,ns as jT,SAe as jU,RAe as jV,REe as jW,vP as jX,NEe as jY,LEe as jZ,b1 as j_,vH as ja,zA as jb,Pg as jc,F6 as jd,KL as je,LSe as jf,UOe as jg,_Te as jh,FBe as ji,PSe as jj,Ws as jk,gwe as jl,xH as jm,MOe as jn,XAe as jo,r_ as jp,AOe as jq,tp as jr,NBe as js,Cr as jt,tAe as ju,U6 as jv,OFe as jw,LCe as jx,gke as jy,zje as jz,wa as k,sre as k$,hMe as k0,MTe as k1,YF as k2,EX as k3,x$e as k4,VTe as k5,m$e as k6,EP as k7,P8 as k8,M6 as k9,Pze as kA,TP as kB,FCe as kC,qCe as kD,BCe as kE,JCe as kF,dj as kG,b8 as kH,hc as kI,Df as kJ,j0 as kK,rge as kL,A_ as kM,Rh as kN,QS as kO,aM as kP,PNe as kQ,Nle as kR,lO as kS,mze as kT,bs as kU,ewe as kV,Mve as kW,une as kX,qA as kY,GA as kZ,FA as k_,uA as ka,_P as kb,f6e as kc,v6 as kd,RTe as ke,DP as kf,xy as kg,Vo as kh,Kze as ki,aze as kj,DFe as kk,yne as kl,GCe as km,jCe as kn,UCe as ko,LP as kp,BF as kq,Mie as kr,Xye as ks,rp as kt,ww as ku,$P as kv,UTe as kw,FTe as kx,zTe as ky,Ize as kz,wqe as l,YTe as l$,$w as l0,W8 as l1,TGe as l2,o6 as l3,_Ge as l4,rC as l5,Cke as l6,GPe as l7,qPe as l8,Cre as l9,CCe as lA,wCe as lB,a9e as lC,s9e as lD,$Re as lE,HBe as lF,oke as lG,Mke as lH,Z4 as lI,QCe as lJ,WCe as lK,Zh as lL,lie as lM,Pge as lN,iI as lO,ake as lP,Bie as lQ,wFe as lR,UK as lS,Cn as lT,CTe as lU,B4 as lV,oie as lW,Bze as lX,H6e as lY,L8e as lZ,mTe as l_,Vqe as la,BPe as lb,HPe as lc,BIe as ld,aJe as le,TIe as lf,Sje as lg,kZ as lh,Fje as li,JW as lj,ize as lk,mme as ll,Sa as lm,oWe as ln,iWe as lo,OCe as lp,I4e as lq,fl as lr,ACe as ls,fne as lt,bne as lu,sWe as lv,_3 as lw,kAe as lx,qg as ly,Dqe as lz,M as m,nVe as m$,g8e as m0,o8e as m1,f4 as m2,rZ as m3,KMe as m4,ree as m5,vqe as m6,Kte as m7,NO as m8,ty as m9,r8e as mA,s8e as mB,Tie as mC,WF as mD,sJ as mE,Sg as mF,fie as mG,rs as mH,HHe as mI,Tye as mJ,HLe as mK,b4e as mL,fR as mM,u_ as mN,WJe as mO,eZe as mP,wK as mQ,$De as mR,m6 as mS,Tg as mT,Ea as mU,rS as mV,KOe as mW,XK as mX,BFe as mY,VI as mZ,oVe as m_,WTe as ma,Mqe as mb,x8e as mc,S8e as md,Ql as me,_g as mf,nee as mg,pP as mh,Jh as mi,AGe as mj,a8e as mk,u8e as ml,eee as mm,QQ as mn,XQ as mo,PTe as mp,p8e as mq,JTe as mr,ZTe as ms,XTe as mt,QTe as mu,c8e as mv,e8e as mw,t8e as mx,i8e as my,n8e as mz,ue as n,Ine as n$,ine as n0,jZ as n1,bve as n2,v1e as n3,Wie as n4,ike as n5,_Ae as n6,EBe as n7,ZWe as n8,YJe as n9,r9 as nA,$i as nB,ie as nC,wje as nD,NWe as nE,hq as nF,Gre as nG,v1 as nH,Ore as nI,iRe as nJ,XPe as nK,nRe as nL,tRe as nM,oFe as nN,l_e as nO,u3 as nP,OVe as nQ,CVe as nR,cne as nS,v3 as nT,zBe as nU,Ake as nV,Iqe as nW,Oqe as nX,Ike as nY,O6 as nZ,vu as n_,ZJe as na,iZe as nb,KJe as nc,XJe as nd,nZe as ne,JJe as nf,IDe as ng,tZe as nh,_De as ni,QJe as nj,yee as nk,yve as nl,_ve as nm,zZ as nn,jje as no,uwe as np,qFe as nq,EJ as nr,Fze as ns,jze as nt,xwe as nu,xme as nv,TJ as nw,FFe as nx,eze as ny,w1e as nz,O1e as o,oLe as o$,On as o0,cWe as o1,TOe as o2,s_ as o3,fp as o4,Nh as o5,lc as o6,zP as o7,uWe as o8,$Oe as o9,fM as oA,HS as oB,HL as oC,tLe as oD,eLe as oE,iLe as oF,Mue as oG,YNe as oH,QNe as oI,XNe as oJ,tle as oK,Goe as oL,wf as oM,TNe as oN,ple as oO,dr as oP,aLe as oQ,JNe as oR,$ue as oS,oM as oT,qNe as oU,WNe as oV,BNe as oW,kue as oX,uLe as oY,sLe as oZ,rLe as o_,a5e as oa,o5e as ob,dGe as oc,fGe as od,hGe as oe,d_ as of,eO as og,ONe as oh,Hye as oi,k1 as oj,rze as ok,sze as ol,nze as om,sl as on,MDe as oo,HX as op,GX as oq,e3 as or,aP as os,tHe as ot,uX as ou,xFe as ov,jw as ow,uQ as ox,_re as oy,Pue as oz,pn as p,ep as p$,lLe as p0,cLe as p1,ZNe as p2,nLe as p3,RNe as p4,KNe as p5,DNe as p6,YVe as p7,U4 as p8,jI as p9,Mh as pA,_Q as pB,ZI as pC,Ng as pD,H9e as pE,FIe as pF,e7e as pG,_Ce as pH,BEe as pI,JEe as pJ,Ts as pK,Hje as pL,xTe as pM,bTe as pN,wTe as pO,wme as pP,ru as pQ,P$e as pR,Rqe as pS,Oke as pT,jqe as pU,$r as pV,mH as pW,zqe as pX,Pqe as pY,NZ as pZ,Pje as p_,nFe as pa,rFe as pb,IF as pc,lze as pd,sg as pe,z4 as pf,sUe as pg,j4 as ph,cGe as pi,XW as pj,F6e as pk,oUe as pl,IFe as pm,_u as pn,ere as po,Wre as pp,Sy as pq,Wxe as pr,W4 as ps,dUe as pt,y8e as pu,tBe as pv,HG as pw,Lf as px,f$e as py,p5e as pz,Rt as q,KEe as q$,nWe as q0,Jze as q1,rRe as q2,zie as q3,Rie as q4,Aie as q5,Pie as q6,mX as q7,Xf as q8,lTe as q9,qO as qA,XOe as qB,c7e as qC,o7e as qD,dke as qE,s7e as qF,E9e as qG,JWe as qH,rJ as qI,cl as qJ,sP as qK,hSe as qL,Mm as qM,DRe as qN,$Ce as qO,ERe as qP,fAe as qQ,tIe as qR,X6 as qS,JMe as qT,bFe as qU,vFe as qV,n3 as qW,r3 as qX,s3 as qY,V4e as qZ,B4e as q_,cTe as qa,TTe as qb,Q8e as qc,yMe as qd,GW as qe,oZ as qf,ije as qg,EZ as qh,Tj as qi,mQ as qj,hje as qk,aqe as ql,xGe as qm,h4e as qn,PFe as qo,VCe as qp,pl as qq,Die as qr,MFe as qs,NUe as qt,sje as qu,Gw as qv,wJ as qw,Yy as qx,iVe as qy,tVe as qz,S as r,kUe as r$,ZEe as r0,YEe as r1,Jg as r2,Q6 as r3,$0 as r4,tne as r5,wi as r6,_Je as r7,TJe as r8,rre as r9,$A as rA,SGe as rB,c_e as rC,Cie as rD,WLe as rE,p1e as rF,BLe as rG,BBe as rH,bAe as rI,qBe as rJ,uVe as rK,cVe as rL,ZCe as rM,a1 as rN,Lje as rO,CFe as rP,HF as rQ,VFe as rR,HFe as rS,sGe as rT,tGe as rU,QVe as rV,zSe as rW,FWe as rX,iFe as rY,f6 as rZ,Z3e as r_,UWe as ra,RJe as rb,S3 as rc,GP as rd,Zl as re,Ky as rf,_je as rg,j6 as rh,qqe as ri,Fqe as rj,pJe as rk,qRe as rl,BRe as rm,GRe as rn,HRe as ro,iE as rp,NJe as rq,MS as rr,DJe as rs,GBe as rt,N$e as ru,L$e as rv,dIe as rw,gIe as rx,bIe as ry,wIe as rz,ze as s,A6 as s$,pSe as s0,eqe as s1,ZX as s2,tqe as s3,DEe as s4,bje as s5,zee as s6,r6e as s7,UVe as s8,VVe as s9,mFe as sA,XGe as sB,TU as sC,H$e as sD,t$ as sE,QPe as sF,jr as sG,c6 as sH,sHe as sI,$U as sJ,ETe as sK,bUe as sL,pUe as sM,yUe as sN,mUe as sO,gUe as sP,po as sQ,Yz as sR,fUe as sS,XO as sT,KO as sU,YM as sV,Bje as sW,KM as sX,w4 as sY,b4 as sZ,bu as s_,GVe as sa,vTe as sb,gme as sc,Fg as sd,QI as se,sSe as sf,rSe as sg,FQ as sh,MSe as si,BQ as sj,G4 as sk,LQ as sl,z2 as sm,w4e as sn,PHe as so,xX as sp,Ph as sq,p1 as sr,Z5e as ss,V8e as st,lWe as su,cp as sv,VBe as sw,h3 as sx,UFe as sy,TVe as sz,Jme as t,CU as t$,mBe as t0,Tje as t1,Eje as t2,Bge as t3,W3e as t4,yme as t5,gDe as t6,lFe as t7,UUe as t8,Tw as t9,pV as tA,x5e as tB,SFe as tC,t5e as tD,mV as tE,_Fe as tF,LGe as tG,QGe as tH,zGe as tI,aC as tJ,YGe as tK,WGe as tL,BGe as tM,JGe as tN,ZGe as tO,AV as tP,OV as tQ,IV as tR,qGe as tS,HGe as tT,EV as tU,zU as tV,MV as tW,_V as tX,YU as tY,OU as tZ,AU as t_,Bqe as ta,PZ as tb,S4 as tc,Wge as td,A$e as te,SCe as tf,RI as tg,ZLe as th,Uxe as ti,fw as tj,mw as tk,ag as tl,zxe as tm,$qe as tn,BOe as to,BU as tp,UU as tq,e5e as tr,VU as ts,$_e as tt,rV as tu,GU as tv,KFe as tw,ZU as tx,dV as ty,fV as tz,bqe as u,t6 as u$,LU as u0,LFe as u1,VGe as u2,GGe as u3,eve as u4,Qge as u5,Dje as u6,jme as u7,eHe as u8,oC as u9,ZK as uA,q4e as uB,m7e as uC,j$e as uD,XX as uE,p7e as uF,gAe as uG,$Me as uH,K$e as uI,N8e as uJ,W5e as uK,N5e as uL,dxe as uM,kX as uN,B5e as uO,TUe as uP,nUe as uQ,uUe as uR,cUe as uS,hUe as uT,bK as uU,RX as uV,U6e as uW,IHe as uX,V6e as uY,Txe as uZ,F5e as u_,jGe as ua,_ee as ub,IGe as uc,UGe as ud,k_e as ue,E_e as uf,FGe as ug,__e as uh,g6 as ui,o_ as uj,M_e as uk,PGe as ul,zze as um,aje as un,YCe as uo,N_ as up,Eie as uq,mCe as ur,Sye as us,ige as ut,x8 as uu,fTe as uv,pTe as uw,HTe as ux,RBe as uy,WFe as uz,sFe as v,Ao as v$,V5e as v0,rUe as v1,G5e as v2,aUe as v3,lUe as v4,oGe as v5,s4 as v6,mSe as v7,d6 as v8,_We as v9,bS as vA,eGe as vB,Uze as vC,one as vD,xh as vE,sme as vF,Nke as vG,HM as vH,P6 as vI,oRe as vJ,sRe as vK,Are as vL,ave as vM,bJe as vN,ca as vO,yFe as vP,dve as vQ,LOe as vR,Rl as vS,YK as vT,KK as vU,TWe as vV,EWe as vW,tj as vX,UHe as vY,yCe as vZ,$Je as v_,SWe as va,JLe as vb,MX as vc,FOe as vd,z6 as ve,Vze as vf,KQ as vg,K6 as vh,vDe as vi,NDe as vj,L6 as vk,NHe as vl,sEe as vm,hHe as vn,uHe as vo,eAe as vp,KX as vq,T7e as vr,E7e as vs,Tke as vt,gVe as vu,vVe as vv,lge as vw,awe as vx,Jje as vy,Aze as vz,NJ as w,Rze as w$,sne as w0,HA as w1,ul as w2,NOe as w3,gBe as w4,yBe as w5,nke as w6,pi as w7,nIe as w8,XHe as w9,l_ as wA,jIe as wB,Sre as wC,Wze as wD,Mx as wE,rH as wF,l6 as wG,KWe as wH,pGe as wI,D1 as wJ,iC as wK,KBe as wL,uke as wM,fVe as wN,GEe as wO,sVe as wP,OGe as wQ,vy as wR,V_e as wS,S9e as wT,WWe as wU,eke as wV,$Fe as wW,G$e as wX,jie as wY,x9e as wZ,ZBe as w_,VUe as wa,lu as wb,hee as wc,c3 as wd,mee as we,lg as wf,h7e as wg,_7e as wh,MA as wi,fee as wj,G4e as wk,XLe as wl,_Ve as wm,pVe as wn,dVe as wo,cze as wp,NVe as wq,DVe as wr,QLe as ws,lVe as wt,jFe as wu,wVe as wv,Kqe as ww,Uqe as wx,TSe as wy,sCe as wz,ht as x,kqe as x$,HUe as x0,qUe as x1,Bke as x2,$Be as x3,kBe as x4,MBe as x5,vl as x6,kOe as x7,K4 as x8,UBe as x9,uJe as xA,Wke as xB,dn as xC,lJe as xD,cJe as xE,UP as xF,Nqe as xG,VA as xH,vIe as xI,ECe as xJ,Y4 as xK,zf as xL,CIe as xM,CGe as xN,fJe as xO,u7e as xP,jre as xQ,_Le as xR,TLe as xS,Vfe as xT,ZUe as xU,zVe as xV,jVe as xW,KVe as xX,rqe as xY,mqe as xZ,gqe as x_,oq as xa,oIe as xb,GUe as xc,GFe as xd,FP as xe,sq as xf,PP as xg,mVe as xh,kGe as xi,nI as xj,rne as xk,MGe as xl,$Ge as xm,zke as xn,Xqe as xo,aJ as xp,yze as xq,Vke as xr,yVe as xs,$Ie as xt,i7e as xu,QEe as xv,dJe as xw,oJe as xx,hJe as xy,EGe as xz,vI as y,OJe as y0,fye as z};
