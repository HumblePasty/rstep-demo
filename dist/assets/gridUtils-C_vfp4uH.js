import{ff as m,cr as p,lT as G,b8 as y,b5 as $,hF as M,b6 as W,m3 as w,lY as j}from"./index-BlU5-B7d.js";const d=50,F=5;function S(e,a){return Math.log(e)/Math.log(a)}function T(e,a,s){const t=e===1?10:e;return t**(s?Math.round(S(d/a,t)):0)}function q(e){const{isGeographic:a,isWebMercator:s}=e;return!a&&!s}function U(e,a,s){const t=typeof e=="number"?null:e,r=s??(t==null?void 0:t.spatialReference);if(r==null||!m(r)||q(r))return p(r);let o=(t==null?void 0:t.x)??e,c=(t==null?void 0:t.y)??a;const i=1/Math.sqrt(2);let l=o+i,f=c+i;const{isWebMercator:b,isGeographic:g}=r;let u=g&&!G(r)?y.WGS84:r;if(b){let n=new $({x:o,y:c,spatialReference:r});M(n,!0,n),o=n.x,c=n.y,n=new $({x:l,y:f,spatialReference:r}),M(n,!0,n),l=n.x,f=n.y,u=y.WGS84}const x=new W({paths:[[[o,c],[l,f]]],spatialReference:u}),R=w(x,10);let h;try{[h]=j([R],"meters")}catch{return p(r)}return h}export{q as f,T as l,F as t,U as u};
